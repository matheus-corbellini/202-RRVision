(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function _i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L1={exports:{}},bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function n7(){if(NE)return bh;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return bh.Fragment=e,bh.jsx=n,bh.jsxs=n,bh}var CE;function r7(){return CE||(CE=1,L1.exports=n7()),L1.exports}var i=r7(),B1={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function a7(){if(OE)return Ke;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function T(H,G,q){this.props=H,this.context=G,this.refs=_,this.updater=q||j}T.prototype.isReactComponent={},T.prototype.setState=function(H,G){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,G,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=T.prototype;function C(H,G,q){this.props=H,this.context=G,this.refs=_,this.updater=q||j}var N=C.prototype=new E;N.constructor=C,b(N,T.prototype),N.isPureReactComponent=!0;var P=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(H,G,q,Y,pe,je){return q=je.ref,{$$typeof:t,type:H,key:G,ref:q!==void 0?q:null,props:je}}function D(H,G){return O(H.type,G,void 0,void 0,void 0,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var G={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return G[q]})}var V=/\/+/g;function L(H,G){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):G.toString(36)}function z(){}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(G){H.status==="pending"&&(H.status="fulfilled",H.value=G)},function(G){H.status==="pending"&&(H.status="rejected",H.reason=G)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function he(H,G,q,Y,pe){var je=typeof H;(je==="undefined"||je==="boolean")&&(H=null);var _e=!1;if(H===null)_e=!0;else switch(je){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(H.$$typeof){case t:case e:_e=!0;break;case m:return _e=H._init,he(_e(H._payload),G,q,Y,pe)}}if(_e)return pe=pe(H),_e=Y===""?"."+L(H,0):Y,P(pe)?(q="",_e!=null&&(q=_e.replace(V,"$&/")+"/"),he(pe,G,q,"",function(ye){return ye})):pe!=null&&(B(pe)&&(pe=D(pe,q+(pe.key==null||H&&H.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+_e)),G.push(pe)),1;_e=0;var He=Y===""?".":Y+":";if(P(H))for(var qe=0;qe<H.length;qe++)Y=H[qe],je=He+L(Y,qe),_e+=he(Y,G,q,je,pe);else if(qe=y(H),typeof qe=="function")for(H=qe.call(H),qe=0;!(Y=H.next()).done;)Y=Y.value,je=He+L(Y,qe++),_e+=he(Y,G,q,je,pe);else if(je==="object"){if(typeof H.then=="function")return he(ve(H),G,q,Y,pe);throw G=String(H),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Q(H,G,q){if(H==null)return H;var Y=[],pe=0;return he(H,Y,"","",function(je){return G.call(q,je,pe++)}),Y}function oe(H){if(H._status===-1){var G=H._result;G=G(),G.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=G)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function be(){}return Ke.Children={map:Q,forEach:function(H,G,q){Q(H,function(){G.apply(this,arguments)},q)},count:function(H){var G=0;return Q(H,function(){G++}),G},toArray:function(H){return Q(H,function(G){return G})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ke.Component=T,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=C,Ke.StrictMode=r,Ke.Suspense=h,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(H){return k.H.useMemoCache(H)}},Ke.cache=function(H){return function(){return H.apply(null,arguments)}},Ke.cloneElement=function(H,G,q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Y=b({},H.props),pe=H.key,je=void 0;if(G!=null)for(_e in G.ref!==void 0&&(je=void 0),G.key!==void 0&&(pe=""+G.key),G)!M.call(G,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&G.ref===void 0||(Y[_e]=G[_e]);var _e=arguments.length-2;if(_e===1)Y.children=q;else if(1<_e){for(var He=Array(_e),qe=0;qe<_e;qe++)He[qe]=arguments[qe+2];Y.children=He}return O(H.type,pe,void 0,void 0,je,Y)},Ke.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ke.createElement=function(H,G,q){var Y,pe={},je=null;if(G!=null)for(Y in G.key!==void 0&&(je=""+G.key),G)M.call(G,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(pe[Y]=G[Y]);var _e=arguments.length-2;if(_e===1)pe.children=q;else if(1<_e){for(var He=Array(_e),qe=0;qe<_e;qe++)He[qe]=arguments[qe+2];pe.children=He}if(H&&H.defaultProps)for(Y in _e=H.defaultProps,_e)pe[Y]===void 0&&(pe[Y]=_e[Y]);return O(H,je,void 0,void 0,null,pe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(H){return{$$typeof:u,render:H}},Ke.isValidElement=B,Ke.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:oe}},Ke.memo=function(H,G){return{$$typeof:f,type:H,compare:G===void 0?null:G}},Ke.startTransition=function(H){var G=k.T,q={};k.T=q;try{var Y=H(),pe=k.S;pe!==null&&pe(q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(be,ae)}catch(je){ae(je)}finally{k.T=G}},Ke.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ke.use=function(H){return k.H.use(H)},Ke.useActionState=function(H,G,q){return k.H.useActionState(H,G,q)},Ke.useCallback=function(H,G){return k.H.useCallback(H,G)},Ke.useContext=function(H){return k.H.useContext(H)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(H,G){return k.H.useDeferredValue(H,G)},Ke.useEffect=function(H,G,q){var Y=k.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(H,G)},Ke.useId=function(){return k.H.useId()},Ke.useImperativeHandle=function(H,G,q){return k.H.useImperativeHandle(H,G,q)},Ke.useInsertionEffect=function(H,G){return k.H.useInsertionEffect(H,G)},Ke.useLayoutEffect=function(H,G){return k.H.useLayoutEffect(H,G)},Ke.useMemo=function(H,G){return k.H.useMemo(H,G)},Ke.useOptimistic=function(H,G){return k.H.useOptimistic(H,G)},Ke.useReducer=function(H,G,q){return k.H.useReducer(H,G,q)},Ke.useRef=function(H){return k.H.useRef(H)},Ke.useState=function(H){return k.H.useState(H)},Ke.useSyncExternalStore=function(H,G,q){return k.H.useSyncExternalStore(H,G,q)},Ke.useTransition=function(){return k.H.useTransition()},Ke.version="19.1.0",Ke}var PE;function Hu(){return PE||(PE=1,B1.exports=a7()),B1.exports}var w=Hu();const _o=_i(w);var V1={exports:{}},jh={},U1={exports:{}},z1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function i7(){return IE||(IE=1,function(t){function e(Q,oe){var ae=Q.length;Q.push(oe);e:for(;0<ae;){var be=ae-1>>>1,H=Q[be];if(0<a(H,oe))Q[be]=oe,Q[ae]=H,ae=be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ae=Q.pop();if(ae!==oe){Q[0]=ae;e:for(var be=0,H=Q.length,G=H>>>1;be<G;){var q=2*(be+1)-1,Y=Q[q],pe=q+1,je=Q[pe];if(0>a(Y,ae))pe<H&&0>a(je,Y)?(Q[be]=je,Q[pe]=ae,be=pe):(Q[be]=Y,Q[q]=ae,be=q);else if(pe<H&&0>a(je,ae))Q[be]=je,Q[pe]=ae,be=pe;else break e}}return oe}function a(Q,oe){var ae=Q.sortIndex-oe.sortIndex;return ae!==0?ae:Q.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,g=null,y=3,j=!1,b=!1,_=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(Q){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=Q)r(f),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(f)}}function k(Q){if(_=!1,P(Q),!b)if(n(h)!==null)b=!0,M||(M=!0,L());else{var oe=n(f);oe!==null&&he(k,oe.startTime-Q)}}var M=!1,O=-1,D=5,B=-1;function F(){return T?!0:!(t.unstable_now()-B<D)}function V(){if(T=!1,M){var Q=t.unstable_now();B=Q;var oe=!0;try{e:{b=!1,_&&(_=!1,C(O),O=-1),j=!0;var ae=y;try{t:{for(P(Q),g=n(h);g!==null&&!(g.expirationTime>Q&&F());){var be=g.callback;if(typeof be=="function"){g.callback=null,y=g.priorityLevel;var H=be(g.expirationTime<=Q);if(Q=t.unstable_now(),typeof H=="function"){g.callback=H,P(Q),oe=!0;break t}g===n(h)&&r(h),P(Q)}else r(h);g=n(h)}if(g!==null)oe=!0;else{var G=n(f);G!==null&&he(k,G.startTime-Q),oe=!1}}break e}finally{g=null,y=ae,j=!1}oe=void 0}}finally{oe?L():M=!1}}}var L;if(typeof N=="function")L=function(){N(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ve=z.port2;z.port1.onmessage=V,L=function(){ve.postMessage(null)}}else L=function(){E(V,0)};function he(Q,oe){O=E(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ae=y;y=oe;try{return Q()}finally{y=ae}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=y;y=Q;try{return oe()}finally{y=ae}},t.unstable_scheduleCallback=function(Q,oe,ae){var be=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,Q){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,Q={id:m++,callback:oe,priorityLevel:Q,startTime:ae,expirationTime:H,sortIndex:-1},ae>be?(Q.sortIndex=ae,e(f,Q),n(h)===null&&Q===n(f)&&(_?(C(O),O=-1):_=!0,he(k,ae-be))):(Q.sortIndex=H,e(h,Q),b||j||(b=!0,M||(M=!0,L()))),Q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Q){var oe=y;return function(){var ae=y;y=oe;try{return Q.apply(this,arguments)}finally{y=ae}}}}(z1)),z1}var RE;function s7(){return RE||(RE=1,U1.exports=i7()),U1.exports}var $1={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function o7(){if(kE)return Jn;kE=1;var t=Hu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jn.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},Jn.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},Jn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Jn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Jn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:j}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Jn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Jn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Jn.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Jn.requestFormReset=function(h){r.d.r(h)},Jn.unstable_batchedUpdates=function(h,f){return h(f)},Jn.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},Jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Jn.version="19.1.0",Jn}var DE;function kO(){if(DE)return $1.exports;DE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$1.exports=o7(),$1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function l7(){if(ME)return jh;ME=1;var t=s7(),e=Hu(),n=kO();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function h(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var d=o,p=c;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===d)return u(x),o;if(S===p)return u(x),c;S=S.sibling}throw Error(r(188))}if(d.return!==p.return)d=x,p=S;else{for(var R=!1,U=x.child;U;){if(U===d){R=!0,d=x,p=S;break}if(U===p){R=!0,p=x,d=S;break}U=U.sibling}if(!R){for(U=S.child;U;){if(U===d){R=!0,d=S,p=x;break}if(U===p){R=!0,p=S,d=x;break}U=U.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function ve(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case N:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return c=o.displayName||null,c!==null?c:ve(o.type)||"Memo";case D:c=o._payload,o=o._init;try{return ve(o(c))}catch{}}return null}var he=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},be=[],H=-1;function G(o){return{current:o}}function q(o){0>H||(o.current=be[H],be[H]=null,H--)}function Y(o,c){H++,be[H]=o.current,o.current=c}var pe=G(null),je=G(null),_e=G(null),He=G(null);function qe(o,c){switch(Y(_e,c),Y(je,o),Y(pe,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?nE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=nE(c),o=rE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(pe),Y(pe,o)}function ye(){q(pe),q(je),q(_e)}function Me(o){o.memoizedState!==null&&Y(He,o);var c=pe.current,d=rE(c,o.type);c!==d&&(Y(je,o),Y(pe,d))}function le(o){je.current===o&&(q(pe),q(je)),He.current===o&&(q(He),ph._currentValue=ae)}var J=Object.prototype.hasOwnProperty,Ee=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,Re=t.unstable_requestPaint,nt=t.unstable_now,Xn=t.unstable_getCurrentPriorityLevel,Er=t.unstable_ImmediatePriority,Lt=t.unstable_UserBlockingPriority,Ta=t.unstable_NormalPriority,fd=t.unstable_LowPriority,Ms=t.unstable_IdlePriority,md=t.log,nm=t.unstable_setDisableYieldValue,Wt=null,xt=null;function Ar(o){if(typeof md=="function"&&nm(o),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Wt,o)}catch{}}var Qn=Math.clz32?Math.clz32:Qo,rm=Math.log,Vy=Math.LN2;function Qo(o){return o>>>=0,o===0?32:31-(rm(o)/Vy|0)|0}var Zo=256,Jo=4194304;function Ea(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function jc(o,c,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,S=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var U=p&134217727;return U!==0?(p=U&~S,p!==0?x=Ea(p):(R&=U,R!==0?x=Ea(R):d||(d=U&~o,d!==0&&(x=Ea(d))))):(U=p&~S,U!==0?x=Ea(U):R!==0?x=Ea(R):d||(d=p&~o,d!==0&&(x=Ea(d)))),x===0?0:c!==0&&c!==x&&(c&S)===0&&(S=x&-x,d=c&-c,S>=d||S===32&&(d&4194048)!==0)?c:x}function el(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function pd(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gd(){var o=Zo;return Zo<<=1,(Zo&4194048)===0&&(Zo=256),o}function vd(){var o=Jo;return Jo<<=1,(Jo&62914560)===0&&(Jo=4194304),o}function Ni(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function Ci(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function yd(o,c,d,p,x,S){var R=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var U=o.entanglements,K=o.expirationTimes,te=o.hiddenUpdates;for(d=R&~d;0<d;){var ce=31-Qn(d),fe=1<<ce;U[ce]=0,K[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var re=ne[ce];re!==null&&(re.lane&=-536870913)}d&=~fe}p!==0&&Ga(o,p,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(R&~c))}function Ga(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-Qn(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|d&4194090}function xd(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var p=31-Qn(d),x=1<<p;x&c|o[p]&c&&(o[p]|=c),d&=~x}}function Ls(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function wc(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Bs(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:wE(o.type))}function am(o,c){var d=oe.p;try{return oe.p=o,c()}finally{oe.p=d}}var Bt=Math.random().toString(36).slice(2),vn="__reactFiber$"+Bt,sn="__reactProps$"+Bt,Zr="__reactContainer$"+Bt,bd="__reactEvents$"+Bt,Uy="__reactListeners$"+Bt,Vs="__reactHandles$"+Bt,im="__reactResources$"+Bt,tl="__reactMarker$"+Bt;function Us(o){delete o[vn],delete o[sn],delete o[bd],delete o[Uy],delete o[Vs]}function Oi(o){var c=o[vn];if(c)return c;for(var d=o.parentNode;d;){if(c=d[Zr]||d[vn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=oE(o);o!==null;){if(d=o[vn])return d;o=oE(o)}return c}o=d,d=o.parentNode}return null}function Wa(o){if(o=o[vn]||o[Zr]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Ya(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function dr(o){var c=o[im];return c||(c=o[im]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Zt(o){o[tl]=!0}var jd=new Set,Sc={};function Aa(o,c){Pi(o,c),Pi(o+"Capture",c)}function Pi(o,c){for(Sc[o]=c,o=0;o<c.length;o++)jd.add(c[o])}var sm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),om={},nl={};function lm(o){return J.call(nl,o)?!0:J.call(om,o)?!1:sm.test(o)?nl[o]=!0:(om[o]=!0,!1)}function zs(o,c,d){if(lm(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function Xa(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function Bn(o,c,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+p)}}var rl,cm;function Ii(o){if(rl===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);rl=c&&c[1]||"",cm=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rl+o+cm}var _c=!1;function Tc(o,c){if(!o||_c)return"";_c=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(o,[],fe)}else{try{fe.call()}catch(re){ne=re}o.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=o())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),R=S[0],U=S[1];if(R&&U){var K=R.split(`
`),te=U.split(`
`);for(x=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;if(p===K.length||x===te.length)for(p=K.length-1,x=te.length-1;1<=p&&0<=x&&K[p]!==te[x];)x--;for(;1<=p&&0<=x;p--,x--)if(K[p]!==te[x]){if(p!==1||x!==1)do if(p--,x--,0>x||K[p]!==te[x]){var ce=`
`+K[p].replace(" at new "," at ");return o.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",o.displayName)),ce}while(1<=p&&0<=x);break}}}finally{_c=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ii(d):""}function wd(o){switch(o.tag){case 26:case 27:case 5:return Ii(o.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Tc(o.type,!1);case 11:return Tc(o.type.render,!1);case 1:return Tc(o.type,!0);case 31:return Ii("Activity");default:return""}}function Ec(o){try{var c="";do c+=wd(o),o=o.return;while(o);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function hr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Sd(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function zy(o){var c=Sd(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),p=""+o[c];if(!o.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,S=d.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(R){p=""+R,S.call(this,R)}}),Object.defineProperty(o,c,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ac(o){o._valueTracker||(o._valueTracker=zy(o))}function _d(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),p="";return o&&(p=Sd(o)?o.checked?"true":"false":o.value),o=p,o!==d?(c.setValue(o),!0):!1}function al(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var $y=/[\n"\\]/g;function on(o){return o.replace($y,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Nr(o,c,d,p,x,S,R,U){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+hr(c)):o.value!==""+hr(c)&&(o.value=""+hr(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?$s(o,R,hr(c)):d!=null?$s(o,R,hr(d)):p!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+hr(U):o.removeAttribute("name")}function il(o,c,d,p,x,S,R,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;d=d!=null?""+hr(d):"",c=c!=null?""+hr(c):d,U||c===o.value||(o.value=c),o.defaultValue=c}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=U?o.checked:!!p,o.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R)}function $s(o,c,d){c==="number"&&al(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Ri(o,c,d,p){if(o=o.options,c){c={};for(var x=0;x<d.length;x++)c["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=c.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&p&&(o[d].defaultSelected=!0)}else{for(d=""+hr(d),c=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function _t(o,c,d){if(c!=null&&(c=""+hr(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+hr(d):""}function sl(o,c,d,p){if(c==null){if(p!=null){if(d!=null)throw Error(r(92));if(he(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),c=d}d=hr(c),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p)}function Jr(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var ol=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(o,c,d){var p=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,d):typeof d!="number"||d===0||ol.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function Td(o,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in c)p=c[x],c.hasOwnProperty(x)&&d[x]!==p&&um(o,x,p)}else for(var S in c)c.hasOwnProperty(S)&&um(o,S,c[S])}function Ed(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nc(o){return Fy.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ki=null;function ea(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Di=null,Mi=null;function Ad(o){var c=Wa(o);if(c&&(o=c.stateNode)){var d=o[sn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Nr(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+on(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var p=d[c];if(p!==o&&p.form===o.form){var x=p[sn]||null;if(!x)throw Error(r(90));Nr(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<d.length;c++)p=d[c],p.form===o.form&&_d(p)}break e;case"textarea":_t(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Ri(o,!!d.multiple,c,!1)}}}var Qa=!1;function dm(o,c,d){if(Qa)return o(c,d);Qa=!0;try{var p=o(c);return p}finally{if(Qa=!1,(Di!==null||Mi!==null)&&(ap(),Di&&(c=Di,o=Mi,Mi=Di=null,Ad(c),o)))for(c=0;c<o.length;c++)Ad(o[c])}}function ll(o,c){var d=o.stateNode;if(d===null)return null;var p=d[sn]||null;if(p===null)return null;d=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Na)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){ta=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{ta=!1}var Za=null,qs=null,Li=null;function Nd(){if(Li)return Li;var o,c=qs,d=c.length,p,x="value"in Za?Za.value:Za.textContent,S=x.length;for(o=0;o<d&&c[o]===x[o];o++);var R=d-o;for(p=1;p<=R&&c[d-p]===x[S-p];p++);return Li=x.slice(o,1<p?1-p:void 0)}function Ja(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ei(){return!0}function Cd(){return!1}function En(o){function c(d,p,x,S,R){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=R,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ei:Cd,this.isPropagationStopped=Cd,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),c}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=En(vt),ul=m({},vt,{view:0,detail:0}),hm=En(ul),Oc,Pc,ti,dl=m({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ti&&(ti&&o.type==="mousemove"?(Oc=o.screenX-ti.screenX,Pc=o.screenY-ti.screenY):Pc=Oc=0,ti=o),Oc)},movementY:function(o){return"movementY"in o?o.movementY:Pc}}),na=En(dl),fm=m({},dl,{dataTransfer:0}),Hy=En(fm),hl=m({},ul,{relatedTarget:0}),Ic=En(hl),Od=m({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=En(Od),mm=m({},vt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),kc=En(mm),Ky=m({},vt,{data:0}),Pd=En(Ky),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Id(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=gm[o])?!!c[o]:!1}function ml(){return Id}var vm=m({},ul,{key:function(o){if(o.key){var c=fl[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ja(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?pm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(o){return o.type==="keypress"?Ja(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ja(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Dc=En(vm),ym=m({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=En(ym),Bi=m({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),xm=En(Bi),bm=m({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jm=En(bm),wm=m({},dl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=En(wm),fr=m({},vt,{newState:0,oldState:0}),Sm=En(fr),_m=[9,13,27,32],ni=Na&&"CompositionEvent"in window,v=null;Na&&"documentMode"in document&&(v=document.documentMode);var A=Na&&"TextEvent"in window&&!v,I=Na&&(!ni||v&&8<v&&11>=v),$=" ",Z=!1;function se(o,c){switch(o){case"keyup":return _m.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var st=!1;function yn(o,c){switch(o){case"compositionend":return xe(c);case"keypress":return c.which!==32?null:(Z=!0,$);case"textInput":return o=c.data,o===$&&Z?null:o;default:return null}}function ot(o,c){if(st)return o==="compositionend"||!ni&&se(o,c)?(o=Nd(),Li=qs=Za=null,st=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return I&&c.locale!=="ko"?null:c.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!An[o.type]:c==="textarea"}function Vi(o,c,d,p){Di?Mi?Mi.push(p):Mi=[p]:Di=p,c=up(c,"onChange"),0<c.length&&(d=new Cc("onChange","change",null,d,p),o.push({event:d,listeners:c}))}var Vn=null,ri=null;function kd(o){Q4(o,0)}function Tm(o){var c=Ya(o);if(_d(c))return o}function y_(o,c){if(o==="change")return c}var x_=!1;if(Na){var Gy;if(Na){var Wy="oninput"in document;if(!Wy){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),Wy=typeof b_.oninput=="function"}Gy=Wy}else Gy=!1;x_=Gy&&(!document.documentMode||9<document.documentMode)}function j_(){Vn&&(Vn.detachEvent("onpropertychange",w_),ri=Vn=null)}function w_(o){if(o.propertyName==="value"&&Tm(ri)){var c=[];Vi(c,ri,o,ea(o)),dm(kd,c)}}function I9(o,c,d){o==="focusin"?(j_(),Vn=c,ri=d,Vn.attachEvent("onpropertychange",w_)):o==="focusout"&&j_()}function R9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Tm(ri)}function k9(o,c){if(o==="click")return Tm(c)}function D9(o,c){if(o==="input"||o==="change")return Tm(c)}function M9(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Cr=typeof Object.is=="function"?Object.is:M9;function Dd(o,c){if(Cr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),p=Object.keys(c);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!J.call(c,x)||!Cr(o[x],c[x]))return!1}return!0}function S_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function __(o,c){var d=S_(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=c&&p>=c)return{node:d,offset:c-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=S_(d)}}function T_(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?T_(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function E_(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=al(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=al(o.document)}return c}function Yy(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var L9=Na&&"documentMode"in document&&11>=document.documentMode,Lc=null,Xy=null,Md=null,Qy=!1;function A_(o,c,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Qy||Lc==null||Lc!==al(p)||(p=Lc,"selectionStart"in p&&Yy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Md&&Dd(Md,p)||(Md=p,p=up(Xy,"onSelect"),0<p.length&&(c=new Cc("onSelect","select",null,c,d),o.push({event:c,listeners:p}),c.target=Lc)))}function pl(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Bc={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionrun:pl("Transition","TransitionRun"),transitionstart:pl("Transition","TransitionStart"),transitioncancel:pl("Transition","TransitionCancel"),transitionend:pl("Transition","TransitionEnd")},Zy={},N_={};Na&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function gl(o){if(Zy[o])return Zy[o];if(!Bc[o])return o;var c=Bc[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in N_)return Zy[o]=c[d];return o}var C_=gl("animationend"),O_=gl("animationiteration"),P_=gl("animationstart"),B9=gl("transitionrun"),V9=gl("transitionstart"),U9=gl("transitioncancel"),I_=gl("transitionend"),R_=new Map,Jy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jy.push("scrollEnd");function Ca(o,c){R_.set(o,c),Aa(c,[o])}var k_=new WeakMap;function ra(o,c){if(typeof o=="object"&&o!==null){var d=k_.get(o);return d!==void 0?d:(c={value:o,source:c,stack:Ec(c)},k_.set(o,c),c)}return{value:o,source:c,stack:Ec(c)}}var aa=[],Vc=0,e0=0;function Em(){for(var o=Vc,c=e0=Vc=0;c<o;){var d=aa[c];aa[c++]=null;var p=aa[c];aa[c++]=null;var x=aa[c];aa[c++]=null;var S=aa[c];if(aa[c++]=null,p!==null&&x!==null){var R=p.pending;R===null?x.next=x:(x.next=R.next,R.next=x),p.pending=x}S!==0&&D_(d,x,S)}}function Am(o,c,d,p){aa[Vc++]=o,aa[Vc++]=c,aa[Vc++]=d,aa[Vc++]=p,e0|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function t0(o,c,d,p){return Am(o,c,d,p),Nm(o)}function Uc(o,c){return Am(o,null,null,c),Nm(o)}function D_(o,c,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var x=!1,S=o.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&c!==null&&(x=31-Qn(d),o=S.hiddenUpdates,p=o[x],p===null?o[x]=[c]:p.push(c),c.lane=d|536870912),S):null}function Nm(o){if(50<oh)throw oh=0,o1=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var zc={};function z9(o,c,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(o,c,d,p){return new z9(o,c,d,p)}function n0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ui(o,c){var d=o.alternate;return d===null?(d=Or(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function M_(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Cm(o,c,d,p,x,S){var R=0;if(p=o,typeof o=="function")n0(o)&&(R=1);else if(typeof o=="string")R=qM(o,d,pe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Or(31,d,c,x),o.elementType=B,o.lanes=S,o;case b:return vl(d.children,x,S,c);case _:R=8,x|=24;break;case T:return o=Or(12,d,c,x|2),o.elementType=T,o.lanes=S,o;case k:return o=Or(13,d,c,x),o.elementType=k,o.lanes=S,o;case M:return o=Or(19,d,c,x),o.elementType=M,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case N:R=10;break e;case C:R=9;break e;case P:R=11;break e;case O:R=14;break e;case D:R=16,p=null;break e}R=29,d=Error(r(130,o===null?"null":typeof o,"")),p=null}return c=Or(R,d,c,x),c.elementType=o,c.type=p,c.lanes=S,c}function vl(o,c,d,p){return o=Or(7,o,p,c),o.lanes=d,o}function r0(o,c,d){return o=Or(6,o,null,c),o.lanes=d,o}function a0(o,c,d){return c=Or(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var $c=[],qc=0,Om=null,Pm=0,ia=[],sa=0,yl=null,zi=1,$i="";function xl(o,c){$c[qc++]=Pm,$c[qc++]=Om,Om=o,Pm=c}function L_(o,c,d){ia[sa++]=zi,ia[sa++]=$i,ia[sa++]=yl,yl=o;var p=zi;o=$i;var x=32-Qn(p)-1;p&=~(1<<x),d+=1;var S=32-Qn(c)+x;if(30<S){var R=x-x%5;S=(p&(1<<R)-1).toString(32),p>>=R,x-=R,zi=1<<32-Qn(c)+x|d<<x|p,$i=S+o}else zi=1<<S|d<<x|p,$i=o}function i0(o){o.return!==null&&(xl(o,1),L_(o,1,0))}function s0(o){for(;o===Om;)Om=$c[--qc],$c[qc]=null,Pm=$c[--qc],$c[qc]=null;for(;o===yl;)yl=ia[--sa],ia[sa]=null,$i=ia[--sa],ia[sa]=null,zi=ia[--sa],ia[sa]=null}var mr=null,Yt=null,mt=!1,bl=null,ai=!1,o0=Error(r(519));function jl(o){var c=Error(r(418,""));throw Vd(ra(c,o)),o0}function B_(o){var c=o.stateNode,d=o.type,p=o.memoizedProps;switch(c[vn]=o,c[sn]=p,d){case"dialog":tt("cancel",c),tt("close",c);break;case"iframe":case"object":case"embed":tt("load",c);break;case"video":case"audio":for(d=0;d<ch.length;d++)tt(ch[d],c);break;case"source":tt("error",c);break;case"img":case"image":case"link":tt("error",c),tt("load",c);break;case"details":tt("toggle",c);break;case"input":tt("invalid",c),il(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Ac(c);break;case"select":tt("invalid",c);break;case"textarea":tt("invalid",c),sl(c,p.value,p.defaultValue,p.children),Ac(c)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||p.suppressHydrationWarning===!0||tE(c.textContent,d)?(p.popover!=null&&(tt("beforetoggle",c),tt("toggle",c)),p.onScroll!=null&&tt("scroll",c),p.onScrollEnd!=null&&tt("scrollend",c),p.onClick!=null&&(c.onclick=dp),c=!0):c=!1,c||jl(o)}function V_(o){for(mr=o.return;mr;)switch(mr.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:mr=mr.return}}function Ld(o){if(o!==mr)return!1;if(!mt)return V_(o),mt=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||S1(o.type,o.memoizedProps)),d=!d),d&&Yt&&jl(o),V_(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(c===0){Yt=Pa(o.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;o=o.nextSibling}Yt=null}}else c===27?(c=Yt,io(o.type)?(o=A1,A1=null,Yt=o):Yt=c):Yt=mr?Pa(o.stateNode.nextSibling):null;return!0}function Bd(){Yt=mr=null,mt=!1}function U_(){var o=bl;return o!==null&&(xr===null?xr=o:xr.push.apply(xr,o),bl=null),o}function Vd(o){bl===null?bl=[o]:bl.push(o)}var l0=G(null),wl=null,qi=null;function Fs(o,c,d){Y(l0,c._currentValue),c._currentValue=d}function Fi(o){o._currentValue=l0.current,q(l0)}function c0(o,c,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===d)break;o=o.return}}function u0(o,c,d,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var R=x.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=x;for(var K=0;K<c.length;K++)if(U.context===c[K]){S.lanes|=d,U=S.alternate,U!==null&&(U.lanes|=d),c0(S.return,d,o),p||(R=null);break e}S=U.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(r(341));R.lanes|=d,S=R.alternate,S!==null&&(S.lanes|=d),c0(R,d,o),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===o){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function Ud(o,c,d,p){o=null;for(var x=c,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var U=x.type;Cr(x.pendingProps.value,R.value)||(o!==null?o.push(U):o=[U])}}else if(x===He.current){if(R=x.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(ph):o=[ph])}x=x.return}o!==null&&u0(c,o,d,p),c.flags|=262144}function Im(o){for(o=o.firstContext;o!==null;){if(!Cr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Sl(o){wl=o,qi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Zn(o){return z_(wl,o)}function Rm(o,c){return wl===null&&Sl(o),z_(o,c)}function z_(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},qi===null){if(o===null)throw Error(r(308));qi=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else qi=qi.next=c;return d}var $9=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},q9=t.unstable_scheduleCallback,F9=t.unstable_NormalPriority,bn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d0(){return{controller:new $9,data:new Map,refCount:0}}function zd(o){o.refCount--,o.refCount===0&&q9(F9,function(){o.controller.abort()})}var $d=null,h0=0,Fc=0,Hc=null;function H9(o,c){if($d===null){var d=$d=[];h0=0,Fc=m1(),Hc={status:"pending",value:void 0,then:function(p){d.push(p)}}}return h0++,c.then($_,$_),c}function $_(){if(--h0===0&&$d!==null){Hc!==null&&(Hc.status="fulfilled");var o=$d;$d=null,Fc=0,Hc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function K9(o,c){var d=[],p={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var x=0;x<d.length;x++)(0,d[x])(c)},function(x){for(p.status="rejected",p.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),p}var q_=Q.S;Q.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&H9(o,c),q_!==null&&q_(o,c)};var _l=G(null);function f0(){var o=_l.current;return o!==null?o:Pt.pooledCache}function km(o,c){c===null?Y(_l,_l.current):Y(_l,c.pool)}function F_(){var o=f0();return o===null?null:{parent:bn._currentValue,pool:o}}var qd=Error(r(460)),H_=Error(r(474)),Dm=Error(r(542)),m0={then:function(){}};function K_(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Mm(){}function G_(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(Mm,Mm),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Y_(o),o;default:if(typeof c.status=="string")c.then(Mm,Mm);else{if(o=Pt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=p}},function(p){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Y_(o),o}throw Fd=c,qd}}var Fd=null;function W_(){if(Fd===null)throw Error(r(459));var o=Fd;return Fd=null,o}function Y_(o){if(o===qd||o===Dm)throw Error(r(483))}var Hs=!1;function p0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ks(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Gs(o,c,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(bt&2)!==0){var x=p.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),p.pending=c,c=Nm(o),D_(o,null,d),c}return Am(o,p,c,d),Nm(o)}function Hd(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,d|=p,c.lanes=d,xd(o,d)}}function v0(o,c){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?x=S=R:S=S.next=R,d=d.next}while(d!==null);S===null?x=S=c:S=S.next=c}else x=S=c;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var y0=!1;function Kd(){if(y0){var o=Hc;if(o!==null)throw o}}function Gd(o,c,d,p){y0=!1;var x=o.updateQueue;Hs=!1;var S=x.firstBaseUpdate,R=x.lastBaseUpdate,U=x.shared.pending;if(U!==null){x.shared.pending=null;var K=U,te=K.next;K.next=null,R===null?S=te:R.next=te,R=K;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==R&&(U===null?ce.firstBaseUpdate=te:U.next=te,ce.lastBaseUpdate=K))}if(S!==null){var fe=x.baseState;R=0,ce=te=K=null,U=S;do{var ne=U.lane&-536870913,re=ne!==U.lane;if(re?(lt&ne)===ne:(p&ne)===ne){ne!==0&&ne===Fc&&(y0=!0),ce!==null&&(ce=ce.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ue=o,ke=U;ne=c;var At=d;switch(ke.tag){case 1:if(Ue=ke.payload,typeof Ue=="function"){fe=Ue.call(At,fe,ne);break e}fe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ke.payload,ne=typeof Ue=="function"?Ue.call(At,fe,ne):Ue,ne==null)break e;fe=m({},fe,ne);break e;case 2:Hs=!0}}ne=U.callback,ne!==null&&(o.flags|=64,re&&(o.flags|=8192),re=x.callbacks,re===null?x.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(te=ce=re,K=fe):ce=ce.next=re,R|=ne;if(U=U.next,U===null){if(U=x.shared.pending,U===null)break;re=U,U=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);ce===null&&(K=fe),x.baseState=K,x.firstBaseUpdate=te,x.lastBaseUpdate=ce,S===null&&(x.shared.lanes=0),to|=R,o.lanes=R,o.memoizedState=fe}}function X_(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Q_(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)X_(d[o],c)}var Kc=G(null),Lm=G(0);function Z_(o,c){o=Qi,Y(Lm,o),Y(Kc,c),Qi=o|c.baseLanes}function x0(){Y(Lm,Qi),Y(Kc,Kc.current)}function b0(){Qi=Lm.current,q(Kc),q(Lm)}var Ws=0,We=null,Tt=null,ln=null,Bm=!1,Gc=!1,Tl=!1,Vm=0,Wd=0,Wc=null,G9=0;function Jt(){throw Error(r(321))}function j0(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!Cr(o[d],c[d]))return!1;return!0}function w0(o,c,d,p,x,S){return Ws=S,We=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=o===null||o.memoizedState===null?DT:MT,Tl=!1,S=d(p,x),Tl=!1,Gc&&(S=eT(c,d,p,x)),J_(o),S}function J_(o){Q.H=Hm;var c=Tt!==null&&Tt.next!==null;if(Ws=0,ln=Tt=We=null,Bm=!1,Wd=0,Wc=null,c)throw Error(r(300));o===null||Nn||(o=o.dependencies,o!==null&&Im(o)&&(Nn=!0))}function eT(o,c,d,p){We=o;var x=0;do{if(Gc&&(Wc=null),Wd=0,Gc=!1,25<=x)throw Error(r(301));if(x+=1,ln=Tt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Q.H=eM,S=c(d,p)}while(Gc);return S}function W9(){var o=Q.H,c=o.useState()[0];return c=typeof c.then=="function"?Yd(c):c,o=o.useState()[0],(Tt!==null?Tt.memoizedState:null)!==o&&(We.flags|=1024),c}function S0(){var o=Vm!==0;return Vm=0,o}function _0(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function T0(o){if(Bm){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Bm=!1}Ws=0,ln=Tt=We=null,Gc=!1,Wd=Vm=0,Wc=null}function vr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?We.memoizedState=ln=o:ln=ln.next=o,ln}function cn(){if(Tt===null){var o=We.alternate;o=o!==null?o.memoizedState:null}else o=Tt.next;var c=ln===null?We.memoizedState:ln.next;if(c!==null)ln=c,Tt=o;else{if(o===null)throw We.alternate===null?Error(r(467)):Error(r(310));Tt=o,o={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},ln===null?We.memoizedState=ln=o:ln=ln.next=o}return ln}function E0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(o){var c=Wd;return Wd+=1,Wc===null&&(Wc=[]),o=G_(Wc,o,c),c=We,(ln===null?c.memoizedState:ln.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?DT:MT),o}function Um(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Yd(o);if(o.$$typeof===N)return Zn(o)}throw Error(r(438,String(o)))}function A0(o){var c=null,d=We.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var p=We.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=E0(),We.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),p=0;p<o;p++)d[p]=F;return c.index++,d}function Hi(o,c){return typeof c=="function"?c(o):c}function zm(o){var c=cn();return N0(c,Tt,o)}function N0(o,c,d){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var x=o.baseQueue,S=p.pending;if(S!==null){if(x!==null){var R=x.next;x.next=S.next,S.next=R}c.baseQueue=x=S,p.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{c=x.next;var U=R=null,K=null,te=c,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(lt&fe)===fe:(Ws&fe)===fe){var ne=te.revertLane;if(ne===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===Fc&&(ce=!0);else if((Ws&ne)===ne){te=te.next,ne===Fc&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(U=K=fe,R=S):K=K.next=fe,We.lanes|=ne,to|=ne;fe=te.action,Tl&&d(S,fe),S=te.hasEagerState?te.eagerState:d(S,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(U=K=ne,R=S):K=K.next=ne,We.lanes|=fe,to|=fe;te=te.next}while(te!==null&&te!==c);if(K===null?R=S:K.next=U,!Cr(S,o.memoizedState)&&(Nn=!0,ce&&(d=Hc,d!==null)))throw d;o.memoizedState=S,o.baseState=R,o.baseQueue=K,p.lastRenderedState=S}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function C0(o){var c=cn(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=d.dispatch,x=d.pending,S=c.memoizedState;if(x!==null){d.pending=null;var R=x=x.next;do S=o(S,R.action),R=R.next;while(R!==x);Cr(S,c.memoizedState)||(Nn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),d.lastRenderedState=S}return[S,p]}function tT(o,c,d){var p=We,x=cn(),S=mt;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=c();var R=!Cr((Tt||x).memoizedState,d);R&&(x.memoizedState=d,Nn=!0),x=x.queue;var U=aT.bind(null,p,x,o);if(Xd(2048,8,U,[o]),x.getSnapshot!==c||R||ln!==null&&ln.memoizedState.tag&1){if(p.flags|=2048,Yc(9,$m(),rT.bind(null,p,x,d,c),null),Pt===null)throw Error(r(349));S||(Ws&124)!==0||nT(p,c,d)}return d}function nT(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=We.updateQueue,c===null?(c=E0(),We.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function rT(o,c,d,p){c.value=d,c.getSnapshot=p,iT(c)&&sT(o)}function aT(o,c,d){return d(function(){iT(c)&&sT(o)})}function iT(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!Cr(o,d)}catch{return!0}}function sT(o){var c=Uc(o,2);c!==null&&Dr(c,o,2)}function O0(o){var c=vr();if(typeof o=="function"){var d=o;if(o=d(),Tl){Ar(!0);try{d()}finally{Ar(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:o},c}function oT(o,c,d,p){return o.baseState=d,N0(o,Tt,typeof p=="function"?p:Hi)}function Y9(o,c,d,p,x){if(Fm(o))throw Error(r(485));if(o=c.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){S.listeners.push(R)}};Q.T!==null?d(!0):S.isTransition=!1,p(S),d=c.pending,d===null?(S.next=c.pending=S,lT(c,S)):(S.next=d.next,c.pending=d.next=S)}}function lT(o,c){var d=c.action,p=c.payload,x=o.state;if(c.isTransition){var S=Q.T,R={};Q.T=R;try{var U=d(x,p),K=Q.S;K!==null&&K(R,U),cT(o,c,U)}catch(te){P0(o,c,te)}finally{Q.T=S}}else try{S=d(x,p),cT(o,c,S)}catch(te){P0(o,c,te)}}function cT(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){uT(o,c,p)},function(p){return P0(o,c,p)}):uT(o,c,d)}function uT(o,c,d){c.status="fulfilled",c.value=d,dT(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,lT(o,d)))}function P0(o,c,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=d,dT(c),c=c.next;while(c!==p)}o.action=null}function dT(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function hT(o,c){return c}function fT(o,c){if(mt){var d=Pt.formState;if(d!==null){e:{var p=We;if(mt){if(Yt){t:{for(var x=Yt,S=ai;x.nodeType!==8;){if(!S){x=null;break t}if(x=Pa(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Yt=Pa(x.nextSibling),p=x.data==="F!";break e}}jl(p)}p=!1}p&&(c=d[0])}}return d=vr(),d.memoizedState=d.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hT,lastRenderedState:c},d.queue=p,d=IT.bind(null,We,p),p.dispatch=d,p=O0(!1),S=M0.bind(null,We,!1,p.queue),p=vr(),x={state:c,dispatch:null,action:o,pending:null},p.queue=x,d=Y9.bind(null,We,x,S,d),x.dispatch=d,p.memoizedState=o,[c,d,!1]}function mT(o){var c=cn();return pT(c,Tt,o)}function pT(o,c,d){if(c=N0(o,c,hT)[0],o=zm(Hi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Yd(c)}catch(R){throw R===qd?Dm:R}else p=c;c=cn();var x=c.queue,S=x.dispatch;return d!==c.memoizedState&&(We.flags|=2048,Yc(9,$m(),X9.bind(null,x,d),null)),[p,S,o]}function X9(o,c){o.action=c}function gT(o){var c=cn(),d=Tt;if(d!==null)return pT(c,d,o);cn(),c=c.memoizedState,d=cn();var p=d.queue.dispatch;return d.memoizedState=o,[c,p,!1]}function Yc(o,c,d,p){return o={tag:o,create:d,deps:p,inst:c,next:null},c=We.updateQueue,c===null&&(c=E0(),We.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,c.lastEffect=o),o}function $m(){return{destroy:void 0,resource:void 0}}function vT(){return cn().memoizedState}function qm(o,c,d,p){var x=vr();p=p===void 0?null:p,We.flags|=o,x.memoizedState=Yc(1|c,$m(),d,p)}function Xd(o,c,d,p){var x=cn();p=p===void 0?null:p;var S=x.memoizedState.inst;Tt!==null&&p!==null&&j0(p,Tt.memoizedState.deps)?x.memoizedState=Yc(c,S,d,p):(We.flags|=o,x.memoizedState=Yc(1|c,S,d,p))}function yT(o,c){qm(8390656,8,o,c)}function xT(o,c){Xd(2048,8,o,c)}function bT(o,c){return Xd(4,2,o,c)}function jT(o,c){return Xd(4,4,o,c)}function wT(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ST(o,c,d){d=d!=null?d.concat([o]):null,Xd(4,4,wT.bind(null,c,o),d)}function I0(){}function _T(o,c){var d=cn();c=c===void 0?null:c;var p=d.memoizedState;return c!==null&&j0(c,p[1])?p[0]:(d.memoizedState=[o,c],o)}function TT(o,c){var d=cn();c=c===void 0?null:c;var p=d.memoizedState;if(c!==null&&j0(c,p[1]))return p[0];if(p=o(),Tl){Ar(!0);try{o()}finally{Ar(!1)}}return d.memoizedState=[p,c],p}function R0(o,c,d){return d===void 0||(Ws&1073741824)!==0?o.memoizedState=c:(o.memoizedState=d,o=N4(),We.lanes|=o,to|=o,d)}function ET(o,c,d,p){return Cr(d,c)?d:Kc.current!==null?(o=R0(o,d,p),Cr(o,c)||(Nn=!0),o):(Ws&42)===0?(Nn=!0,o.memoizedState=d):(o=N4(),We.lanes|=o,to|=o,c)}function AT(o,c,d,p,x){var S=oe.p;oe.p=S!==0&&8>S?S:8;var R=Q.T,U={};Q.T=U,M0(o,!1,c,d);try{var K=x(),te=Q.S;if(te!==null&&te(U,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ce=K9(K,p);Qd(o,c,ce,kr(o))}else Qd(o,c,p,kr(o))}catch(fe){Qd(o,c,{then:function(){},status:"rejected",reason:fe},kr())}finally{oe.p=S,Q.T=R}}function Q9(){}function k0(o,c,d,p){if(o.tag!==5)throw Error(r(476));var x=NT(o).queue;AT(o,x,c,ae,d===null?Q9:function(){return CT(o),d(p)})}function NT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ae},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function CT(o){var c=NT(o).next.queue;Qd(o,c,{},kr())}function D0(){return Zn(ph)}function OT(){return cn().memoizedState}function PT(){return cn().memoizedState}function Z9(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=kr();o=Ks(d);var p=Gs(c,o,d);p!==null&&(Dr(p,c,d),Hd(p,c,d)),c={cache:d0()},o.payload=c;return}c=c.return}}function J9(o,c,d){var p=kr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Fm(o)?RT(c,d):(d=t0(o,c,d,p),d!==null&&(Dr(d,o,p),kT(d,c,p)))}function IT(o,c,d){var p=kr();Qd(o,c,d,p)}function Qd(o,c,d,p){var x={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fm(o))RT(c,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var R=c.lastRenderedState,U=S(R,d);if(x.hasEagerState=!0,x.eagerState=U,Cr(U,R))return Am(o,c,x,0),Pt===null&&Em(),!1}catch{}finally{}if(d=t0(o,c,x,p),d!==null)return Dr(d,o,p),kT(d,c,p),!0}return!1}function M0(o,c,d,p){if(p={lane:2,revertLane:m1(),action:p,hasEagerState:!1,eagerState:null,next:null},Fm(o)){if(c)throw Error(r(479))}else c=t0(o,d,p,2),c!==null&&Dr(c,o,2)}function Fm(o){var c=o.alternate;return o===We||c!==null&&c===We}function RT(o,c){Gc=Bm=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function kT(o,c,d){if((d&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,d|=p,c.lanes=d,xd(o,d)}}var Hm={readContext:Zn,use:Um,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},DT={readContext:Zn,use:Um,useCallback:function(o,c){return vr().memoizedState=[o,c===void 0?null:c],o},useContext:Zn,useEffect:yT,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,qm(4194308,4,wT.bind(null,c,o),d)},useLayoutEffect:function(o,c){return qm(4194308,4,o,c)},useInsertionEffect:function(o,c){qm(4,2,o,c)},useMemo:function(o,c){var d=vr();c=c===void 0?null:c;var p=o();if(Tl){Ar(!0);try{o()}finally{Ar(!1)}}return d.memoizedState=[p,c],p},useReducer:function(o,c,d){var p=vr();if(d!==void 0){var x=d(c);if(Tl){Ar(!0);try{d(c)}finally{Ar(!1)}}}else x=c;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=J9.bind(null,We,o),[p.memoizedState,o]},useRef:function(o){var c=vr();return o={current:o},c.memoizedState=o},useState:function(o){o=O0(o);var c=o.queue,d=IT.bind(null,We,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:I0,useDeferredValue:function(o,c){var d=vr();return R0(d,o,c)},useTransition:function(){var o=O0(!1);return o=AT.bind(null,We,o.queue,!0,!1),vr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var p=We,x=vr();if(mt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),Pt===null)throw Error(r(349));(lt&124)!==0||nT(p,c,d)}x.memoizedState=d;var S={value:d,getSnapshot:c};return x.queue=S,yT(aT.bind(null,p,S,o),[o]),p.flags|=2048,Yc(9,$m(),rT.bind(null,p,S,d,c),null),d},useId:function(){var o=vr(),c=Pt.identifierPrefix;if(mt){var d=$i,p=zi;d=(p&~(1<<32-Qn(p)-1)).toString(32)+d,c="«"+c+"R"+d,d=Vm++,0<d&&(c+="H"+d.toString(32)),c+="»"}else d=G9++,c="«"+c+"r"+d.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:D0,useFormState:fT,useActionState:fT,useOptimistic:function(o){var c=vr();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=M0.bind(null,We,!0,d),d.dispatch=c,[o,c]},useMemoCache:A0,useCacheRefresh:function(){return vr().memoizedState=Z9.bind(null,We)}},MT={readContext:Zn,use:Um,useCallback:_T,useContext:Zn,useEffect:xT,useImperativeHandle:ST,useInsertionEffect:bT,useLayoutEffect:jT,useMemo:TT,useReducer:zm,useRef:vT,useState:function(){return zm(Hi)},useDebugValue:I0,useDeferredValue:function(o,c){var d=cn();return ET(d,Tt.memoizedState,o,c)},useTransition:function(){var o=zm(Hi)[0],c=cn().memoizedState;return[typeof o=="boolean"?o:Yd(o),c]},useSyncExternalStore:tT,useId:OT,useHostTransitionStatus:D0,useFormState:mT,useActionState:mT,useOptimistic:function(o,c){var d=cn();return oT(d,Tt,o,c)},useMemoCache:A0,useCacheRefresh:PT},eM={readContext:Zn,use:Um,useCallback:_T,useContext:Zn,useEffect:xT,useImperativeHandle:ST,useInsertionEffect:bT,useLayoutEffect:jT,useMemo:TT,useReducer:C0,useRef:vT,useState:function(){return C0(Hi)},useDebugValue:I0,useDeferredValue:function(o,c){var d=cn();return Tt===null?R0(d,o,c):ET(d,Tt.memoizedState,o,c)},useTransition:function(){var o=C0(Hi)[0],c=cn().memoizedState;return[typeof o=="boolean"?o:Yd(o),c]},useSyncExternalStore:tT,useId:OT,useHostTransitionStatus:D0,useFormState:gT,useActionState:gT,useOptimistic:function(o,c){var d=cn();return Tt!==null?oT(d,Tt,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:A0,useCacheRefresh:PT},Xc=null,Zd=0;function Km(o){var c=Zd;return Zd+=1,Xc===null&&(Xc=[]),G_(Xc,o,c)}function Jd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Gm(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function LT(o){var c=o._init;return c(o._payload)}function BT(o){function c(X,W){if(o){var ee=X.deletions;ee===null?(X.deletions=[W],X.flags|=16):ee.push(W)}}function d(X,W){if(!o)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function p(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function x(X,W){return X=Ui(X,W),X.index=0,X.sibling=null,X}function S(X,W,ee){return X.index=ee,o?(ee=X.alternate,ee!==null?(ee=ee.index,ee<W?(X.flags|=67108866,W):ee):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function R(X){return o&&X.alternate===null&&(X.flags|=67108866),X}function U(X,W,ee,ue){return W===null||W.tag!==6?(W=r0(ee,X.mode,ue),W.return=X,W):(W=x(W,ee),W.return=X,W)}function K(X,W,ee,ue){var Ce=ee.type;return Ce===b?ce(X,W,ee.props.children,ue,ee.key):W!==null&&(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===D&&LT(Ce)===W.type)?(W=x(W,ee.props),Jd(W,ee),W.return=X,W):(W=Cm(ee.type,ee.key,ee.props,null,X.mode,ue),Jd(W,ee),W.return=X,W)}function te(X,W,ee,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=a0(ee,X.mode,ue),W.return=X,W):(W=x(W,ee.children||[]),W.return=X,W)}function ce(X,W,ee,ue,Ce){return W===null||W.tag!==7?(W=vl(ee,X.mode,ue,Ce),W.return=X,W):(W=x(W,ee),W.return=X,W)}function fe(X,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=r0(""+W,X.mode,ee),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return ee=Cm(W.type,W.key,W.props,null,X.mode,ee),Jd(ee,W),ee.return=X,ee;case j:return W=a0(W,X.mode,ee),W.return=X,W;case D:var ue=W._init;return W=ue(W._payload),fe(X,W,ee)}if(he(W)||L(W))return W=vl(W,X.mode,ee,null),W.return=X,W;if(typeof W.then=="function")return fe(X,Km(W),ee);if(W.$$typeof===N)return fe(X,Rm(X,W),ee);Gm(X,W)}return null}function ne(X,W,ee,ue){var Ce=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ce!==null?null:U(X,W,""+ee,ue);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ee.key===Ce?K(X,W,ee,ue):null;case j:return ee.key===Ce?te(X,W,ee,ue):null;case D:return Ce=ee._init,ee=Ce(ee._payload),ne(X,W,ee,ue)}if(he(ee)||L(ee))return Ce!==null?null:ce(X,W,ee,ue,null);if(typeof ee.then=="function")return ne(X,W,Km(ee),ue);if(ee.$$typeof===N)return ne(X,W,Rm(X,ee),ue);Gm(X,ee)}return null}function re(X,W,ee,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return X=X.get(ee)||null,U(W,X,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return X=X.get(ue.key===null?ee:ue.key)||null,K(W,X,ue,Ce);case j:return X=X.get(ue.key===null?ee:ue.key)||null,te(W,X,ue,Ce);case D:var Qe=ue._init;return ue=Qe(ue._payload),re(X,W,ee,ue,Ce)}if(he(ue)||L(ue))return X=X.get(ee)||null,ce(W,X,ue,Ce,null);if(typeof ue.then=="function")return re(X,W,ee,Km(ue),Ce);if(ue.$$typeof===N)return re(X,W,ee,Rm(W,ue),Ce);Gm(W,ue)}return null}function Ue(X,W,ee,ue){for(var Ce=null,Qe=null,Pe=W,De=W=0,On=null;Pe!==null&&De<ee.length;De++){Pe.index>De?(On=Pe,Pe=null):On=Pe.sibling;var dt=ne(X,Pe,ee[De],ue);if(dt===null){Pe===null&&(Pe=On);break}o&&Pe&&dt.alternate===null&&c(X,Pe),W=S(dt,W,De),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt,Pe=On}if(De===ee.length)return d(X,Pe),mt&&xl(X,De),Ce;if(Pe===null){for(;De<ee.length;De++)Pe=fe(X,ee[De],ue),Pe!==null&&(W=S(Pe,W,De),Qe===null?Ce=Pe:Qe.sibling=Pe,Qe=Pe);return mt&&xl(X,De),Ce}for(Pe=p(Pe);De<ee.length;De++)On=re(Pe,X,De,ee[De],ue),On!==null&&(o&&On.alternate!==null&&Pe.delete(On.key===null?De:On.key),W=S(On,W,De),Qe===null?Ce=On:Qe.sibling=On,Qe=On);return o&&Pe.forEach(function(uo){return c(X,uo)}),mt&&xl(X,De),Ce}function ke(X,W,ee,ue){if(ee==null)throw Error(r(151));for(var Ce=null,Qe=null,Pe=W,De=W=0,On=null,dt=ee.next();Pe!==null&&!dt.done;De++,dt=ee.next()){Pe.index>De?(On=Pe,Pe=null):On=Pe.sibling;var uo=ne(X,Pe,dt.value,ue);if(uo===null){Pe===null&&(Pe=On);break}o&&Pe&&uo.alternate===null&&c(X,Pe),W=S(uo,W,De),Qe===null?Ce=uo:Qe.sibling=uo,Qe=uo,Pe=On}if(dt.done)return d(X,Pe),mt&&xl(X,De),Ce;if(Pe===null){for(;!dt.done;De++,dt=ee.next())dt=fe(X,dt.value,ue),dt!==null&&(W=S(dt,W,De),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt);return mt&&xl(X,De),Ce}for(Pe=p(Pe);!dt.done;De++,dt=ee.next())dt=re(Pe,X,De,dt.value,ue),dt!==null&&(o&&dt.alternate!==null&&Pe.delete(dt.key===null?De:dt.key),W=S(dt,W,De),Qe===null?Ce=dt:Qe.sibling=dt,Qe=dt);return o&&Pe.forEach(function(t7){return c(X,t7)}),mt&&xl(X,De),Ce}function At(X,W,ee,ue){if(typeof ee=="object"&&ee!==null&&ee.type===b&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:e:{for(var Ce=ee.key;W!==null;){if(W.key===Ce){if(Ce=ee.type,Ce===b){if(W.tag===7){d(X,W.sibling),ue=x(W,ee.props.children),ue.return=X,X=ue;break e}}else if(W.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===D&&LT(Ce)===W.type){d(X,W.sibling),ue=x(W,ee.props),Jd(ue,ee),ue.return=X,X=ue;break e}d(X,W);break}else c(X,W);W=W.sibling}ee.type===b?(ue=vl(ee.props.children,X.mode,ue,ee.key),ue.return=X,X=ue):(ue=Cm(ee.type,ee.key,ee.props,null,X.mode,ue),Jd(ue,ee),ue.return=X,X=ue)}return R(X);case j:e:{for(Ce=ee.key;W!==null;){if(W.key===Ce)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(X,W.sibling),ue=x(W,ee.children||[]),ue.return=X,X=ue;break e}else{d(X,W);break}else c(X,W);W=W.sibling}ue=a0(ee,X.mode,ue),ue.return=X,X=ue}return R(X);case D:return Ce=ee._init,ee=Ce(ee._payload),At(X,W,ee,ue)}if(he(ee))return Ue(X,W,ee,ue);if(L(ee)){if(Ce=L(ee),typeof Ce!="function")throw Error(r(150));return ee=Ce.call(ee),ke(X,W,ee,ue)}if(typeof ee.then=="function")return At(X,W,Km(ee),ue);if(ee.$$typeof===N)return At(X,W,Rm(X,ee),ue);Gm(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(X,W.sibling),ue=x(W,ee),ue.return=X,X=ue):(d(X,W),ue=r0(ee,X.mode,ue),ue.return=X,X=ue),R(X)):d(X,W)}return function(X,W,ee,ue){try{Zd=0;var Ce=At(X,W,ee,ue);return Xc=null,Ce}catch(Pe){if(Pe===qd||Pe===Dm)throw Pe;var Qe=Or(29,Pe,null,X.mode);return Qe.lanes=ue,Qe.return=X,Qe}finally{}}}var Qc=BT(!0),VT=BT(!1),oa=G(null),ii=null;function Ys(o){var c=o.alternate;Y(jn,jn.current&1),Y(oa,o),ii===null&&(c===null||Kc.current!==null||c.memoizedState!==null)&&(ii=o)}function UT(o){if(o.tag===22){if(Y(jn,jn.current),Y(oa,o),ii===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ii=o)}}else Xs()}function Xs(){Y(jn,jn.current),Y(oa,oa.current)}function Ki(o){q(oa),ii===o&&(ii=null),q(jn)}var jn=G(0);function Wm(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||E1(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function L0(o,c,d,p){c=o.memoizedState,d=d(p,c),d=d==null?c:m({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var B0={enqueueSetState:function(o,c,d){o=o._reactInternals;var p=kr(),x=Ks(p);x.payload=c,d!=null&&(x.callback=d),c=Gs(o,x,p),c!==null&&(Dr(c,o,p),Hd(c,o,p))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var p=kr(),x=Ks(p);x.tag=1,x.payload=c,d!=null&&(x.callback=d),c=Gs(o,x,p),c!==null&&(Dr(c,o,p),Hd(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=kr(),p=Ks(d);p.tag=2,c!=null&&(p.callback=c),c=Gs(o,p,d),c!==null&&(Dr(c,o,d),Hd(c,o,d))}};function zT(o,c,d,p,x,S,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,R):c.prototype&&c.prototype.isPureReactComponent?!Dd(d,p)||!Dd(x,S):!0}function $T(o,c,d,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,p),c.state!==o&&B0.enqueueReplaceState(c,c.state,null)}function El(o,c){var d=c;if("ref"in c){d={};for(var p in c)p!=="ref"&&(d[p]=c[p])}if(o=o.defaultProps){d===c&&(d=m({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}var Ym=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function qT(o){Ym(o)}function FT(o){console.error(o)}function HT(o){Ym(o)}function Xm(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function KT(o,c,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function V0(o,c,d){return d=Ks(d),d.tag=3,d.payload={element:null},d.callback=function(){Xm(o,c)},d}function GT(o){return o=Ks(o),o.tag=3,o}function WT(o,c,d,p){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var S=p.value;o.payload=function(){return x(S)},o.callback=function(){KT(c,d,p)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){KT(c,d,p),typeof x!="function"&&(no===null?no=new Set([this]):no.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})})}function tM(o,c,d,p,x){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=d.alternate,c!==null&&Ud(c,d,x,!0),d=oa.current,d!==null){switch(d.tag){case 13:return ii===null?c1():d.alternate===null&&Xt===0&&(Xt=3),d.flags&=-257,d.flags|=65536,d.lanes=x,p===m0?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([p]):c.add(p),d1(o,p,x)),!1;case 22:return d.flags|=65536,p===m0?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([p]):d.add(p)),d1(o,p,x)),!1}throw Error(r(435,d.tag))}return d1(o,p,x),c1(),!1}if(mt)return c=oa.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,p!==o0&&(o=Error(r(422),{cause:p}),Vd(ra(o,d)))):(p!==o0&&(c=Error(r(423),{cause:p}),Vd(ra(c,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=ra(p,d),x=V0(o.stateNode,p,x),v0(o,x),Xt!==4&&(Xt=2)),!1;var S=Error(r(520),{cause:p});if(S=ra(S,d),sh===null?sh=[S]:sh.push(S),Xt!==4&&(Xt=2),c===null)return!0;p=ra(p,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=V0(d.stateNode,p,o),v0(d,o),!1;case 1:if(c=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(no===null||!no.has(S))))return d.flags|=65536,x&=-x,d.lanes|=x,x=GT(x),WT(x,o,d,p),v0(d,x),!1}d=d.return}while(d!==null);return!1}var YT=Error(r(461)),Nn=!1;function Un(o,c,d,p){c.child=o===null?VT(c,null,d,p):Qc(c,o.child,d,p)}function XT(o,c,d,p,x){d=d.render;var S=c.ref;if("ref"in p){var R={};for(var U in p)U!=="ref"&&(R[U]=p[U])}else R=p;return Sl(c),p=w0(o,c,d,R,S,x),U=S0(),o!==null&&!Nn?(_0(o,c,x),Gi(o,c,x)):(mt&&U&&i0(c),c.flags|=1,Un(o,c,p,x),c.child)}function QT(o,c,d,p,x){if(o===null){var S=d.type;return typeof S=="function"&&!n0(S)&&S.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=S,ZT(o,c,S,p,x)):(o=Cm(d.type,null,p,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!G0(o,x)){var R=S.memoizedProps;if(d=d.compare,d=d!==null?d:Dd,d(R,p)&&o.ref===c.ref)return Gi(o,c,x)}return c.flags|=1,o=Ui(S,p),o.ref=c.ref,o.return=c,c.child=o}function ZT(o,c,d,p,x){if(o!==null){var S=o.memoizedProps;if(Dd(S,p)&&o.ref===c.ref)if(Nn=!1,c.pendingProps=p=S,G0(o,x))(o.flags&131072)!==0&&(Nn=!0);else return c.lanes=o.lanes,Gi(o,c,x)}return U0(o,c,d,p,x)}function JT(o,c,d){var p=c.pendingProps,x=p.children,S=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((c.flags&128)!==0){if(p=S!==null?S.baseLanes|d:d,o!==null){for(x=c.child=o.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;c.childLanes=S&~p}else c.childLanes=0,c.child=null;return e4(o,c,p,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&km(c,S!==null?S.cachePool:null),S!==null?Z_(c,S):x0(),UT(c);else return c.lanes=c.childLanes=536870912,e4(o,c,S!==null?S.baseLanes|d:d,d)}else S!==null?(km(c,S.cachePool),Z_(c,S),Xs(),c.memoizedState=null):(o!==null&&km(c,null),x0(),Xs());return Un(o,c,x,d),c.child}function e4(o,c,d,p){var x=f0();return x=x===null?null:{parent:bn._currentValue,pool:x},c.memoizedState={baseLanes:d,cachePool:x},o!==null&&km(c,null),x0(),UT(c),o!==null&&Ud(o,c,p,!0),null}function Qm(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function U0(o,c,d,p,x){return Sl(c),d=w0(o,c,d,p,void 0,x),p=S0(),o!==null&&!Nn?(_0(o,c,x),Gi(o,c,x)):(mt&&p&&i0(c),c.flags|=1,Un(o,c,d,x),c.child)}function t4(o,c,d,p,x,S){return Sl(c),c.updateQueue=null,d=eT(c,p,d,x),J_(o),p=S0(),o!==null&&!Nn?(_0(o,c,S),Gi(o,c,S)):(mt&&p&&i0(c),c.flags|=1,Un(o,c,d,S),c.child)}function n4(o,c,d,p,x){if(Sl(c),c.stateNode===null){var S=zc,R=d.contextType;typeof R=="object"&&R!==null&&(S=Zn(R)),S=new d(p,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=B0,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=p,S.state=c.memoizedState,S.refs={},p0(c),R=d.contextType,S.context=typeof R=="object"&&R!==null?Zn(R):zc,S.state=c.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(L0(c,d,R,p),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(R=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),R!==S.state&&B0.enqueueReplaceState(S,S.state,null),Gd(c,p,S,x),Kd(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){S=c.stateNode;var U=c.memoizedProps,K=El(d,U);S.props=K;var te=S.context,ce=d.contextType;R=zc,typeof ce=="object"&&ce!==null&&(R=Zn(ce));var fe=d.getDerivedStateFromProps;ce=typeof fe=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||te!==R)&&$T(c,S,p,R),Hs=!1;var ne=c.memoizedState;S.state=ne,Gd(c,p,S,x),Kd(),te=c.memoizedState,U||ne!==te||Hs?(typeof fe=="function"&&(L0(c,d,fe,p),te=c.memoizedState),(K=Hs||zT(c,d,K,p,ne,te,R))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=te),S.props=p,S.state=te,S.context=R,p=K):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{S=c.stateNode,g0(o,c),R=c.memoizedProps,ce=El(d,R),S.props=ce,fe=c.pendingProps,ne=S.context,te=d.contextType,K=zc,typeof te=="object"&&te!==null&&(K=Zn(te)),U=d.getDerivedStateFromProps,(te=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==fe||ne!==K)&&$T(c,S,p,K),Hs=!1,ne=c.memoizedState,S.state=ne,Gd(c,p,S,x),Kd();var re=c.memoizedState;R!==fe||ne!==re||Hs||o!==null&&o.dependencies!==null&&Im(o.dependencies)?(typeof U=="function"&&(L0(c,d,U,p),re=c.memoizedState),(ce=Hs||zT(c,d,ce,p,ne,re,K)||o!==null&&o.dependencies!==null&&Im(o.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,re,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,re,K)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=re),S.props=p,S.state=re,S.context=K,p=ce):(typeof S.componentDidUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&ne===o.memoizedState||(c.flags|=1024),p=!1)}return S=p,Qm(o,c),p=(c.flags&128)!==0,S||p?(S=c.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&p?(c.child=Qc(c,o.child,null,x),c.child=Qc(c,null,d,x)):Un(o,c,d,x),c.memoizedState=S.state,o=c.child):o=Gi(o,c,x),o}function r4(o,c,d,p){return Bd(),c.flags|=256,Un(o,c,d,p),c.child}var z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $0(o){return{baseLanes:o,cachePool:F_()}}function q0(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=la),o}function a4(o,c,d){var p=c.pendingProps,x=!1,S=(c.flags&128)!==0,R;if((R=S)||(R=o!==null&&o.memoizedState===null?!1:(jn.current&2)!==0),R&&(x=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(mt){if(x?Ys(c):Xs(),mt){var U=Yt,K;if(K=U){e:{for(K=U,U=ai;K.nodeType!==8;){if(!U){U=null;break e}if(K=Pa(K.nextSibling),K===null){U=null;break e}}U=K}U!==null?(c.memoizedState={dehydrated:U,treeContext:yl!==null?{id:zi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},K=Or(18,null,null,0),K.stateNode=U,K.return=c,c.child=K,mr=c,Yt=null,K=!0):K=!1}K||jl(c)}if(U=c.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return E1(U)?c.lanes=32:c.lanes=536870912,null;Ki(c)}return U=p.children,p=p.fallback,x?(Xs(),x=c.mode,U=Zm({mode:"hidden",children:U},x),p=vl(p,x,d,null),U.return=c,p.return=c,U.sibling=p,c.child=U,x=c.child,x.memoizedState=$0(d),x.childLanes=q0(o,R,d),c.memoizedState=z0,p):(Ys(c),F0(c,U))}if(K=o.memoizedState,K!==null&&(U=K.dehydrated,U!==null)){if(S)c.flags&256?(Ys(c),c.flags&=-257,c=H0(o,c,d)):c.memoizedState!==null?(Xs(),c.child=o.child,c.flags|=128,c=null):(Xs(),x=p.fallback,U=c.mode,p=Zm({mode:"visible",children:p.children},U),x=vl(x,U,d,null),x.flags|=2,p.return=c,x.return=c,p.sibling=x,c.child=p,Qc(c,o.child,null,d),p=c.child,p.memoizedState=$0(d),p.childLanes=q0(o,R,d),c.memoizedState=z0,c=x);else if(Ys(c),E1(U)){if(R=U.nextSibling&&U.nextSibling.dataset,R)var te=R.dgst;R=te,p=Error(r(419)),p.stack="",p.digest=R,Vd({value:p,source:null,stack:null}),c=H0(o,c,d)}else if(Nn||Ud(o,c,d,!1),R=(d&o.childLanes)!==0,Nn||R){if(R=Pt,R!==null&&(p=d&-d,p=(p&42)!==0?1:Ls(p),p=(p&(R.suspendedLanes|d))!==0?0:p,p!==0&&p!==K.retryLane))throw K.retryLane=p,Uc(o,p),Dr(R,o,p),YT;U.data==="$?"||c1(),c=H0(o,c,d)}else U.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=K.treeContext,Yt=Pa(U.nextSibling),mr=c,mt=!0,bl=null,ai=!1,o!==null&&(ia[sa++]=zi,ia[sa++]=$i,ia[sa++]=yl,zi=o.id,$i=o.overflow,yl=c),c=F0(c,p.children),c.flags|=4096);return c}return x?(Xs(),x=p.fallback,U=c.mode,K=o.child,te=K.sibling,p=Ui(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,te!==null?x=Ui(te,x):(x=vl(x,U,d,null),x.flags|=2),x.return=c,p.return=c,p.sibling=x,c.child=p,p=x,x=c.child,U=o.child.memoizedState,U===null?U=$0(d):(K=U.cachePool,K!==null?(te=bn._currentValue,K=K.parent!==te?{parent:te,pool:te}:K):K=F_(),U={baseLanes:U.baseLanes|d,cachePool:K}),x.memoizedState=U,x.childLanes=q0(o,R,d),c.memoizedState=z0,p):(Ys(c),d=o.child,o=d.sibling,d=Ui(d,{mode:"visible",children:p.children}),d.return=c,d.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=d,c.memoizedState=null,d)}function F0(o,c){return c=Zm({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Zm(o,c){return o=Or(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function H0(o,c,d){return Qc(c,o.child,null,d),o=F0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function i4(o,c,d){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),c0(o.return,c,d)}function K0(o,c,d,p,x){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=d,S.tailMode=x)}function s4(o,c,d){var p=c.pendingProps,x=p.revealOrder,S=p.tail;if(Un(o,c,p.children,d),p=jn.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&i4(o,d,c);else if(o.tag===19)i4(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(Y(jn,p),x){case"forwards":for(d=c.child,x=null;d!==null;)o=d.alternate,o!==null&&Wm(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=c.child,c.child=null):(x=d.sibling,d.sibling=null),K0(c,!1,x,d,S);break;case"backwards":for(d=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&Wm(o)===null){c.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}K0(c,!0,d,null,S);break;case"together":K0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Gi(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),to|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(Ud(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,d=Ui(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=Ui(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function G0(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Im(o)))}function nM(o,c,d){switch(c.tag){case 3:qe(c,c.stateNode.containerInfo),Fs(c,bn,o.memoizedState.cache),Bd();break;case 27:case 5:Me(c);break;case 4:qe(c,c.stateNode.containerInfo);break;case 10:Fs(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Ys(c),c.flags|=128,null):(d&c.child.childLanes)!==0?a4(o,c,d):(Ys(c),o=Gi(o,c,d),o!==null?o.sibling:null);Ys(c);break;case 19:var x=(o.flags&128)!==0;if(p=(d&c.childLanes)!==0,p||(Ud(o,c,d,!1),p=(d&c.childLanes)!==0),x){if(p)return s4(o,c,d);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Y(jn,jn.current),p)break;return null;case 22:case 23:return c.lanes=0,JT(o,c,d);case 24:Fs(c,bn,o.memoizedState.cache)}return Gi(o,c,d)}function o4(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)Nn=!0;else{if(!G0(o,d)&&(c.flags&128)===0)return Nn=!1,nM(o,c,d);Nn=(o.flags&131072)!==0}else Nn=!1,mt&&(c.flags&1048576)!==0&&L_(c,Pm,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var p=c.elementType,x=p._init;if(p=x(p._payload),c.type=p,typeof p=="function")n0(p)?(o=El(p,o),c.tag=1,c=n4(null,c,p,o,d)):(c.tag=0,c=U0(null,c,p,o,d));else{if(p!=null){if(x=p.$$typeof,x===P){c.tag=11,c=XT(null,c,p,o,d);break e}else if(x===O){c.tag=14,c=QT(null,c,p,o,d);break e}}throw c=ve(p)||p,Error(r(306,c,""))}}return c;case 0:return U0(o,c,c.type,c.pendingProps,d);case 1:return p=c.type,x=El(p,c.pendingProps),n4(o,c,p,x,d);case 3:e:{if(qe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));p=c.pendingProps;var S=c.memoizedState;x=S.element,g0(o,c),Gd(c,p,null,d);var R=c.memoizedState;if(p=R.cache,Fs(c,bn,p),p!==S.cache&&u0(c,[bn],d,!0),Kd(),p=R.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=r4(o,c,p,d);break e}else if(p!==x){x=ra(Error(r(424)),c),Vd(x),c=r4(o,c,p,d);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yt=Pa(o.firstChild),mr=c,mt=!0,bl=null,ai=!0,d=VT(c,null,p,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Bd(),p===x){c=Gi(o,c,d);break e}Un(o,c,p,d)}c=c.child}return c;case 26:return Qm(o,c),o===null?(d=dE(c.type,null,c.pendingProps,null))?c.memoizedState=d:mt||(d=c.type,o=c.pendingProps,p=hp(_e.current).createElement(d),p[vn]=c,p[sn]=o,$n(p,d,o),Zt(p),c.stateNode=p):c.memoizedState=dE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Me(c),o===null&&mt&&(p=c.stateNode=lE(c.type,c.pendingProps,_e.current),mr=c,ai=!0,x=Yt,io(c.type)?(A1=x,Yt=Pa(p.firstChild)):Yt=x),Un(o,c,c.pendingProps.children,d),Qm(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&mt&&((x=p=Yt)&&(p=OM(p,c.type,c.pendingProps,ai),p!==null?(c.stateNode=p,mr=c,Yt=Pa(p.firstChild),ai=!1,x=!0):x=!1),x||jl(c)),Me(c),x=c.type,S=c.pendingProps,R=o!==null?o.memoizedProps:null,p=S.children,S1(x,S)?p=null:R!==null&&S1(x,R)&&(c.flags|=32),c.memoizedState!==null&&(x=w0(o,c,W9,null,null,d),ph._currentValue=x),Qm(o,c),Un(o,c,p,d),c.child;case 6:return o===null&&mt&&((o=d=Yt)&&(d=PM(d,c.pendingProps,ai),d!==null?(c.stateNode=d,mr=c,Yt=null,o=!0):o=!1),o||jl(c)),null;case 13:return a4(o,c,d);case 4:return qe(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=Qc(c,null,p,d):Un(o,c,p,d),c.child;case 11:return XT(o,c,c.type,c.pendingProps,d);case 7:return Un(o,c,c.pendingProps,d),c.child;case 8:return Un(o,c,c.pendingProps.children,d),c.child;case 12:return Un(o,c,c.pendingProps.children,d),c.child;case 10:return p=c.pendingProps,Fs(c,c.type,p.value),Un(o,c,p.children,d),c.child;case 9:return x=c.type._context,p=c.pendingProps.children,Sl(c),x=Zn(x),p=p(x),c.flags|=1,Un(o,c,p,d),c.child;case 14:return QT(o,c,c.type,c.pendingProps,d);case 15:return ZT(o,c,c.type,c.pendingProps,d);case 19:return s4(o,c,d);case 31:return p=c.pendingProps,d=c.mode,p={mode:p.mode,children:p.children},o===null?(d=Zm(p,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=Ui(o.child,p),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return JT(o,c,d);case 24:return Sl(c),p=Zn(bn),o===null?(x=f0(),x===null&&(x=Pt,S=d0(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=d),x=S),c.memoizedState={parent:p,cache:x},p0(c),Fs(c,bn,x)):((o.lanes&d)!==0&&(g0(o,c),Gd(c,null,null,d),Kd()),x=o.memoizedState,S=c.memoizedState,x.parent!==p?(x={parent:p,cache:p},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Fs(c,bn,p)):(p=S.cache,Fs(c,bn,p),p!==x.cache&&u0(c,[bn],d,!0))),Un(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Wi(o){o.flags|=4}function l4(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!gE(c)){if(c=oa.current,c!==null&&((lt&4194048)===lt?ii!==null:(lt&62914560)!==lt&&(lt&536870912)===0||c!==ii))throw Fd=m0,H_;o.flags|=8192}}function Jm(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?vd():536870912,o.lanes|=c,tu|=c)}function eh(o,c){if(!mt)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function $t(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(c)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=d,c}function rM(o,c,d){var p=c.pendingProps;switch(s0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(c),null;case 1:return $t(c),null;case 3:return d=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Fi(bn),ye(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Ld(c)?Wi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,U_())),$t(c),null;case 26:return d=c.memoizedState,o===null?(Wi(c),d!==null?($t(c),l4(c,d)):($t(c),c.flags&=-16777217)):d?d!==o.memoizedState?(Wi(c),$t(c),l4(c,d)):($t(c),c.flags&=-16777217):(o.memoizedProps!==p&&Wi(c),$t(c),c.flags&=-16777217),null;case 27:le(c),d=_e.current;var x=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Wi(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return $t(c),null}o=pe.current,Ld(c)?B_(c):(o=lE(x,p,d),c.stateNode=o,Wi(c))}return $t(c),null;case 5:if(le(c),d=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Wi(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return $t(c),null}if(o=pe.current,Ld(c))B_(c);else{switch(x=hp(_e.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?x.createElement(d,{is:p.is}):x.createElement(d)}}o[vn]=c,o[sn]=p;e:for(x=c.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}c.stateNode=o;e:switch($n(o,d,p),d){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wi(c)}}return $t(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&Wi(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(o=_e.current,Ld(c)){if(o=c.stateNode,d=c.memoizedProps,p=null,x=mr,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[vn]=c,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||tE(o.nodeValue,d)),o||jl(c)}else o=hp(o).createTextNode(p),o[vn]=c,c.stateNode=o}return $t(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Ld(c),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[vn]=c}else Bd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;$t(c),x=!1}else x=U_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Ki(c),c):(Ki(c),null)}if(Ki(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=p!==null,o=o!==null&&o.memoizedState!==null,d){p=c.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==x&&(p.flags|=2048)}return d!==o&&d&&(c.child.flags|=8192),Jm(c,c.updateQueue),$t(c),null;case 4:return ye(),o===null&&y1(c.stateNode.containerInfo),$t(c),null;case 10:return Fi(c.type),$t(c),null;case 19:if(q(jn),x=c.memoizedState,x===null)return $t(c),null;if(p=(c.flags&128)!==0,S=x.rendering,S===null)if(p)eh(x,!1);else{if(Xt!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=Wm(o),S!==null){for(c.flags|=128,eh(x,!1),o=S.updateQueue,c.updateQueue=o,Jm(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)M_(d,o),d=d.sibling;return Y(jn,jn.current&1|2),c.child}o=o.sibling}x.tail!==null&&nt()>np&&(c.flags|=128,p=!0,eh(x,!1),c.lanes=4194304)}else{if(!p)if(o=Wm(S),o!==null){if(c.flags|=128,p=!0,o=o.updateQueue,c.updateQueue=o,Jm(c,o),eh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!mt)return $t(c),null}else 2*nt()-x.renderingStartTime>np&&d!==536870912&&(c.flags|=128,p=!0,eh(x,!1),c.lanes=4194304);x.isBackwards?(S.sibling=c.child,c.child=S):(o=x.last,o!==null?o.sibling=S:c.child=S,x.last=S)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=nt(),c.sibling=null,o=jn.current,Y(jn,p?o&1|2:o&1),c):($t(c),null);case 22:case 23:return Ki(c),b0(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(d&536870912)!==0&&(c.flags&128)===0&&($t(c),c.subtreeFlags&6&&(c.flags|=8192)):$t(c),d=c.updateQueue,d!==null&&Jm(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048),o!==null&&q(_l),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),Fi(bn),$t(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function aM(o,c){switch(s0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Fi(bn),ye(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return le(c),null;case 13:if(Ki(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Bd()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return q(jn),null;case 4:return ye(),null;case 10:return Fi(c.type),null;case 22:case 23:return Ki(c),b0(),o!==null&&q(_l),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Fi(bn),null;case 25:return null;default:return null}}function c4(o,c){switch(s0(c),c.tag){case 3:Fi(bn),ye();break;case 26:case 27:case 5:le(c);break;case 4:ye();break;case 13:Ki(c);break;case 19:q(jn);break;case 10:Fi(c.type);break;case 22:case 23:Ki(c),b0(),o!==null&&q(_l);break;case 24:Fi(bn)}}function th(o,c){try{var d=c.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&o)===o){p=void 0;var S=d.create,R=d.inst;p=S(),R.destroy=p}d=d.next}while(d!==x)}}catch(U){Ct(c,c.return,U)}}function Qs(o,c,d){try{var p=c.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var S=x.next;p=S;do{if((p.tag&o)===o){var R=p.inst,U=R.destroy;if(U!==void 0){R.destroy=void 0,x=c;var K=d,te=U;try{te()}catch(ce){Ct(x,K,ce)}}}p=p.next}while(p!==S)}}catch(ce){Ct(c,c.return,ce)}}function u4(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{Q_(c,d)}catch(p){Ct(o,o.return,p)}}}function d4(o,c,d){d.props=El(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){Ct(o,c,p)}}function nh(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(x){Ct(o,c,x)}}function si(o,c){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(x){Ct(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ct(o,c,x)}else d.current=null}function h4(o){var c=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(x){Ct(o,o.return,x)}}function W0(o,c,d){try{var p=o.stateNode;TM(p,o.type,d,c),p[sn]=c}catch(x){Ct(o,o.return,x)}}function f4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&io(o.type)||o.tag===4}function Y0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||f4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&io(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function X0(o,c,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=dp));else if(p!==4&&(p===27&&io(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(X0(o,c,d),o=o.sibling;o!==null;)X0(o,c,d),o=o.sibling}function ep(o,c,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(p!==4&&(p===27&&io(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(ep(o,c,d),o=o.sibling;o!==null;)ep(o,c,d),o=o.sibling}function m4(o){var c=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);$n(c,p,d),c[vn]=o,c[sn]=d}catch(S){Ct(o,o.return,S)}}var Yi=!1,en=!1,Q0=!1,p4=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function iM(o,c){if(o=o.containerInfo,j1=yp,o=E_(o),Yy(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var R=0,U=-1,K=-1,te=0,ce=0,fe=o,ne=null;t:for(;;){for(var re;fe!==d||x!==0&&fe.nodeType!==3||(U=R+x),fe!==S||p!==0&&fe.nodeType!==3||(K=R+p),fe.nodeType===3&&(R+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===o)break t;if(ne===d&&++te===x&&(U=R),ne===S&&++ce===p&&(K=R),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}d=U===-1||K===-1?null:{start:U,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(w1={focusedElem:o,selectionRange:d},yp=!1,Cn=c;Cn!==null;)if(c=Cn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Cn=o;else for(;Cn!==null;){switch(c=Cn,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,d=c,x=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var Ue=El(d.type,x,d.elementType===d.type);o=p.getSnapshotBeforeUpdate(Ue,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(ke){Ct(d,d.return,ke)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)T1(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":T1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Cn=o;break}Cn=c.return}}function g4(o,c,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Zs(o,d),p&4&&th(5,d);break;case 1:if(Zs(o,d),p&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(R){Ct(d,d.return,R)}else{var x=El(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){Ct(d,d.return,R)}}p&64&&u4(d),p&512&&nh(d,d.return);break;case 3:if(Zs(o,d),p&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Q_(o,c)}catch(R){Ct(d,d.return,R)}}break;case 27:c===null&&p&4&&m4(d);case 26:case 5:Zs(o,d),c===null&&p&4&&h4(d),p&512&&nh(d,d.return);break;case 12:Zs(o,d);break;case 13:Zs(o,d),p&4&&x4(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=mM.bind(null,d),IM(o,d))));break;case 22:if(p=d.memoizedState!==null||Yi,!p){c=c!==null&&c.memoizedState!==null||en,x=Yi;var S=en;Yi=p,(en=c)&&!S?Js(o,d,(d.subtreeFlags&8772)!==0):Zs(o,d),Yi=x,en=S}break;case 30:break;default:Zs(o,d)}}function v4(o){var c=o.alternate;c!==null&&(o.alternate=null,v4(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Us(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Vt=null,yr=!1;function Xi(o,c,d){for(d=d.child;d!==null;)y4(o,c,d),d=d.sibling}function y4(o,c,d){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Wt,d)}catch{}switch(d.tag){case 26:en||si(d,c),Xi(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:en||si(d,c);var p=Vt,x=yr;io(d.type)&&(Vt=d.stateNode,yr=!1),Xi(o,c,d),dh(d.stateNode),Vt=p,yr=x;break;case 5:en||si(d,c);case 6:if(p=Vt,x=yr,Vt=null,Xi(o,c,d),Vt=p,yr=x,Vt!==null)if(yr)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(d.stateNode)}catch(S){Ct(d,c,S)}else try{Vt.removeChild(d.stateNode)}catch(S){Ct(d,c,S)}break;case 18:Vt!==null&&(yr?(o=Vt,sE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),xh(o)):sE(Vt,d.stateNode));break;case 4:p=Vt,x=yr,Vt=d.stateNode.containerInfo,yr=!0,Xi(o,c,d),Vt=p,yr=x;break;case 0:case 11:case 14:case 15:en||Qs(2,d,c),en||Qs(4,d,c),Xi(o,c,d);break;case 1:en||(si(d,c),p=d.stateNode,typeof p.componentWillUnmount=="function"&&d4(d,c,p)),Xi(o,c,d);break;case 21:Xi(o,c,d);break;case 22:en=(p=en)||d.memoizedState!==null,Xi(o,c,d),en=p;break;default:Xi(o,c,d)}}function x4(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{xh(o)}catch(d){Ct(c,c.return,d)}}function sM(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new p4),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new p4),c;default:throw Error(r(435,o.tag))}}function Z0(o,c){var d=sM(o);c.forEach(function(p){var x=pM.bind(null,o,p);d.has(p)||(d.add(p),p.then(x,x))})}function Pr(o,c){var d=c.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p],S=o,R=c,U=R;e:for(;U!==null;){switch(U.tag){case 27:if(io(U.type)){Vt=U.stateNode,yr=!1;break e}break;case 5:Vt=U.stateNode,yr=!1;break e;case 3:case 4:Vt=U.stateNode.containerInfo,yr=!0;break e}U=U.return}if(Vt===null)throw Error(r(160));y4(S,R,x),Vt=null,yr=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)b4(c,o),c=c.sibling}var Oa=null;function b4(o,c){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Pr(c,o),Ir(o),p&4&&(Qs(3,o,o.return),th(3,o),Qs(5,o,o.return));break;case 1:Pr(c,o),Ir(o),p&512&&(en||d===null||si(d,d.return)),p&64&&Yi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var x=Oa;if(Pr(c,o),Ir(o),p&512&&(en||d===null||si(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":S=x.getElementsByTagName("title")[0],(!S||S[tl]||S[vn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(p),x.head.insertBefore(S,x.querySelector("head > title"))),$n(S,p,d),S[vn]=o,Zt(S),p=S;break e;case"link":var R=mE("link","href",x).get(p+(d.href||""));if(R){for(var U=0;U<R.length;U++)if(S=R[U],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(U,1);break t}}S=x.createElement(p),$n(S,p,d),x.head.appendChild(S);break;case"meta":if(R=mE("meta","content",x).get(p+(d.content||""))){for(U=0;U<R.length;U++)if(S=R[U],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(U,1);break t}}S=x.createElement(p),$n(S,p,d),x.head.appendChild(S);break;default:throw Error(r(468,p))}S[vn]=o,Zt(S),p=S}o.stateNode=p}else pE(x,o.type,o.stateNode);else o.stateNode=fE(x,p,o.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?pE(x,o.type,o.stateNode):fE(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&W0(o,o.memoizedProps,d.memoizedProps)}break;case 27:Pr(c,o),Ir(o),p&512&&(en||d===null||si(d,d.return)),d!==null&&p&4&&W0(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Pr(c,o),Ir(o),p&512&&(en||d===null||si(d,d.return)),o.flags&32){x=o.stateNode;try{Jr(x,"")}catch(re){Ct(o,o.return,re)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,W0(o,x,d!==null?d.memoizedProps:x)),p&1024&&(Q0=!0);break;case 6:if(Pr(c,o),Ir(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(re){Ct(o,o.return,re)}}break;case 3:if(pp=null,x=Oa,Oa=fp(c.containerInfo),Pr(c,o),Oa=x,Ir(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{xh(c.containerInfo)}catch(re){Ct(o,o.return,re)}Q0&&(Q0=!1,j4(o));break;case 4:p=Oa,Oa=fp(o.stateNode.containerInfo),Pr(c,o),Ir(o),Oa=p;break;case 12:Pr(c,o),Ir(o);break;case 13:Pr(c,o),Ir(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(a1=nt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Z0(o,p)));break;case 22:x=o.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,te=Yi,ce=en;if(Yi=te||x,en=ce||K,Pr(c,o),en=ce,Yi=te,Ir(o),p&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(d===null||K||Yi||en||Al(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){K=d=c;try{if(S=K.stateNode,x)R=S.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{U=K.stateNode;var fe=K.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;U.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Ct(K,K.return,re)}}}else if(c.tag===6){if(d===null){K=c;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(re){Ct(K,K.return,re)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Z0(o,d))));break;case 19:Pr(c,o),Ir(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Z0(o,p)));break;case 30:break;case 21:break;default:Pr(c,o),Ir(o)}}function Ir(o){var c=o.flags;if(c&2){try{for(var d,p=o.return;p!==null;){if(f4(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,S=Y0(o);ep(o,S,x);break;case 5:var R=d.stateNode;d.flags&32&&(Jr(R,""),d.flags&=-33);var U=Y0(o);ep(o,U,R);break;case 3:case 4:var K=d.stateNode.containerInfo,te=Y0(o);X0(o,te,K);break;default:throw Error(r(161))}}catch(ce){Ct(o,o.return,ce)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function j4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;j4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Zs(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)g4(o,c.alternate,c),c=c.sibling}function Al(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Qs(4,c,c.return),Al(c);break;case 1:si(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&d4(c,c.return,d),Al(c);break;case 27:dh(c.stateNode);case 26:case 5:si(c,c.return),Al(c);break;case 22:c.memoizedState===null&&Al(c);break;case 30:Al(c);break;default:Al(c)}o=o.sibling}}function Js(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,x=o,S=c,R=S.flags;switch(S.tag){case 0:case 11:case 15:Js(x,S,d),th(4,S);break;case 1:if(Js(x,S,d),p=S,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(te){Ct(p,p.return,te)}if(p=S,x=p.updateQueue,x!==null){var U=p.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)X_(K[x],U)}catch(te){Ct(p,p.return,te)}}d&&R&64&&u4(S),nh(S,S.return);break;case 27:m4(S);case 26:case 5:Js(x,S,d),d&&p===null&&R&4&&h4(S),nh(S,S.return);break;case 12:Js(x,S,d);break;case 13:Js(x,S,d),d&&R&4&&x4(x,S);break;case 22:S.memoizedState===null&&Js(x,S,d),nh(S,S.return);break;case 30:break;default:Js(x,S,d)}c=c.sibling}}function J0(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&zd(d))}function e1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&zd(o))}function oi(o,c,d,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)w4(o,c,d,p),c=c.sibling}function w4(o,c,d,p){var x=c.flags;switch(c.tag){case 0:case 11:case 15:oi(o,c,d,p),x&2048&&th(9,c);break;case 1:oi(o,c,d,p);break;case 3:oi(o,c,d,p),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&zd(o)));break;case 12:if(x&2048){oi(o,c,d,p),o=c.stateNode;try{var S=c.memoizedProps,R=S.id,U=S.onPostCommit;typeof U=="function"&&U(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Ct(c,c.return,K)}}else oi(o,c,d,p);break;case 13:oi(o,c,d,p);break;case 23:break;case 22:S=c.stateNode,R=c.alternate,c.memoizedState!==null?S._visibility&2?oi(o,c,d,p):rh(o,c):S._visibility&2?oi(o,c,d,p):(S._visibility|=2,Zc(o,c,d,p,(c.subtreeFlags&10256)!==0)),x&2048&&J0(R,c);break;case 24:oi(o,c,d,p),x&2048&&e1(c.alternate,c);break;default:oi(o,c,d,p)}}function Zc(o,c,d,p,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,R=c,U=d,K=p,te=R.flags;switch(R.tag){case 0:case 11:case 15:Zc(S,R,U,K,x),th(8,R);break;case 23:break;case 22:var ce=R.stateNode;R.memoizedState!==null?ce._visibility&2?Zc(S,R,U,K,x):rh(S,R):(ce._visibility|=2,Zc(S,R,U,K,x)),x&&te&2048&&J0(R.alternate,R);break;case 24:Zc(S,R,U,K,x),x&&te&2048&&e1(R.alternate,R);break;default:Zc(S,R,U,K,x)}c=c.sibling}}function rh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,p=c,x=p.flags;switch(p.tag){case 22:rh(d,p),x&2048&&J0(p.alternate,p);break;case 24:rh(d,p),x&2048&&e1(p.alternate,p);break;default:rh(d,p)}c=c.sibling}}var ah=8192;function Jc(o){if(o.subtreeFlags&ah)for(o=o.child;o!==null;)S4(o),o=o.sibling}function S4(o){switch(o.tag){case 26:Jc(o),o.flags&ah&&o.memoizedState!==null&&HM(Oa,o.memoizedState,o.memoizedProps);break;case 5:Jc(o);break;case 3:case 4:var c=Oa;Oa=fp(o.stateNode.containerInfo),Jc(o),Oa=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=ah,ah=16777216,Jc(o),ah=c):Jc(o));break;default:Jc(o)}}function _4(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ih(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Cn=p,E4(p,o)}_4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)T4(o),o=o.sibling}function T4(o){switch(o.tag){case 0:case 11:case 15:ih(o),o.flags&2048&&Qs(9,o,o.return);break;case 3:ih(o);break;case 12:ih(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,tp(o)):ih(o);break;default:ih(o)}}function tp(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Cn=p,E4(p,o)}_4(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Qs(8,c,c.return),tp(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,tp(c));break;default:tp(c)}o=o.sibling}}function E4(o,c){for(;Cn!==null;){var d=Cn;switch(d.tag){case 0:case 11:case 15:Qs(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:zd(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Cn=p;else e:for(d=o;Cn!==null;){p=Cn;var x=p.sibling,S=p.return;if(v4(p),p===d){Cn=null;break e}if(x!==null){x.return=S,Cn=x;break e}Cn=S}}}var oM={getCacheForType:function(o){var c=Zn(bn),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d}},lM=typeof WeakMap=="function"?WeakMap:Map,bt=0,Pt=null,et=null,lt=0,jt=0,Rr=null,eo=!1,eu=!1,t1=!1,Qi=0,Xt=0,to=0,Nl=0,n1=0,la=0,tu=0,sh=null,xr=null,r1=!1,a1=0,np=1/0,rp=null,no=null,zn=0,ro=null,nu=null,ru=0,i1=0,s1=null,A4=null,oh=0,o1=null;function kr(){if((bt&2)!==0&&lt!==0)return lt&-lt;if(Q.T!==null){var o=Fc;return o!==0?o:m1()}return Bs()}function N4(){la===0&&(la=(lt&536870912)===0||mt?gd():536870912);var o=oa.current;return o!==null&&(o.flags|=32),la}function Dr(o,c,d){(o===Pt&&(jt===2||jt===9)||o.cancelPendingCommit!==null)&&(au(o,0),ao(o,lt,la,!1)),Ci(o,d),((bt&2)===0||o!==Pt)&&(o===Pt&&((bt&2)===0&&(Nl|=d),Xt===4&&ao(o,lt,la,!1)),li(o))}function C4(o,c,d){if((bt&6)!==0)throw Error(r(327));var p=!d&&(c&124)===0&&(c&o.expiredLanes)===0||el(o,c),x=p?dM(o,c):u1(o,c,!0),S=p;do{if(x===0){eu&&!p&&ao(o,c,0,!1);break}else{if(d=o.current.alternate,S&&!cM(d)){x=u1(o,c,!1),S=!1;continue}if(x===2){if(S=c,o.errorRecoveryDisabledLanes&S)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var U=o;x=sh;var K=U.current.memoizedState.isDehydrated;if(K&&(au(U,R).flags|=256),R=u1(U,R,!1),R!==2){if(t1&&!K){U.errorRecoveryDisabledLanes|=S,Nl|=S,x=4;break e}S=xr,xr=x,S!==null&&(xr===null?xr=S:xr.push.apply(xr,S))}x=R}if(S=!1,x!==2)continue}}if(x===1){au(o,0),ao(o,c,0,!0);break}e:{switch(p=o,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ao(p,c,la,!eo);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=a1+300-nt(),10<x)){if(ao(p,c,la,!eo),jc(p,0,!0)!==0)break e;p.timeoutHandle=aE(O4.bind(null,p,d,xr,rp,r1,c,la,Nl,tu,eo,S,2,-0,0),x);break e}O4(p,d,xr,rp,r1,c,la,Nl,tu,eo,S,0,-0,0)}}break}while(!0);li(o)}function O4(o,c,d,p,x,S,R,U,K,te,ce,fe,ne,re){if(o.timeoutHandle=-1,fe=c.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(mh={stylesheets:null,count:0,unsuspend:FM},S4(c),fe=KM(),fe!==null)){o.cancelPendingCommit=fe(L4.bind(null,o,c,S,d,p,x,R,U,K,ce,1,ne,re)),ao(o,S,R,!te);return}L4(o,c,S,d,p,x,R,U,K)}function cM(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var x=d[p],S=x.getSnapshot;x=x.value;try{if(!Cr(S(),x))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ao(o,c,d,p){c&=~n1,c&=~Nl,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var x=c;0<x;){var S=31-Qn(x),R=1<<S;p[S]=-1,x&=~R}d!==0&&Ga(o,d,c)}function ap(){return(bt&6)===0?(lh(0),!1):!0}function l1(){if(et!==null){if(jt===0)var o=et.return;else o=et,qi=wl=null,T0(o),Xc=null,Zd=0,o=et;for(;o!==null;)c4(o.alternate,o),o=o.return;et=null}}function au(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,AM(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),l1(),Pt=o,et=d=Ui(o.current,null),lt=c,jt=0,Rr=null,eo=!1,eu=el(o,c),t1=!1,tu=la=n1=Nl=to=Xt=0,xr=sh=null,r1=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var x=31-Qn(p),S=1<<x;c|=o[x],p&=~S}return Qi=c,Em(),d}function P4(o,c){We=null,Q.H=Hm,c===qd||c===Dm?(c=W_(),jt=3):c===H_?(c=W_(),jt=4):jt=c===YT?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Rr=c,et===null&&(Xt=1,Xm(o,ra(c,o.current)))}function I4(){var o=Q.H;return Q.H=Hm,o===null?Hm:o}function R4(){var o=Q.A;return Q.A=oM,o}function c1(){Xt=4,eo||(lt&4194048)!==lt&&oa.current!==null||(eu=!0),(to&134217727)===0&&(Nl&134217727)===0||Pt===null||ao(Pt,lt,la,!1)}function u1(o,c,d){var p=bt;bt|=2;var x=I4(),S=R4();(Pt!==o||lt!==c)&&(rp=null,au(o,c)),c=!1;var R=Xt;e:do try{if(jt!==0&&et!==null){var U=et,K=Rr;switch(jt){case 8:l1(),R=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(c=!0);var te=jt;if(jt=0,Rr=null,iu(o,U,K,te),d&&eu){R=0;break e}break;default:te=jt,jt=0,Rr=null,iu(o,U,K,te)}}uM(),R=Xt;break}catch(ce){P4(o,ce)}while(!0);return c&&o.shellSuspendCounter++,qi=wl=null,bt=p,Q.H=x,Q.A=S,et===null&&(Pt=null,lt=0,Em()),R}function uM(){for(;et!==null;)k4(et)}function dM(o,c){var d=bt;bt|=2;var p=I4(),x=R4();Pt!==o||lt!==c?(rp=null,np=nt()+500,au(o,c)):eu=el(o,c);e:do try{if(jt!==0&&et!==null){c=et;var S=Rr;t:switch(jt){case 1:jt=0,Rr=null,iu(o,c,S,1);break;case 2:case 9:if(K_(S)){jt=0,Rr=null,D4(c);break}c=function(){jt!==2&&jt!==9||Pt!==o||(jt=7),li(o)},S.then(c,c);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:K_(S)?(jt=0,Rr=null,D4(c)):(jt=0,Rr=null,iu(o,c,S,7));break;case 5:var R=null;switch(et.tag){case 26:R=et.memoizedState;case 5:case 27:var U=et;if(!R||gE(R)){jt=0,Rr=null;var K=U.sibling;if(K!==null)et=K;else{var te=U.return;te!==null?(et=te,ip(te)):et=null}break t}}jt=0,Rr=null,iu(o,c,S,5);break;case 6:jt=0,Rr=null,iu(o,c,S,6);break;case 8:l1(),Xt=6;break e;default:throw Error(r(462))}}hM();break}catch(ce){P4(o,ce)}while(!0);return qi=wl=null,Q.H=p,Q.A=x,bt=d,et!==null?0:(Pt=null,lt=0,Em(),Xt)}function hM(){for(;et!==null&&!Ve();)k4(et)}function k4(o){var c=o4(o.alternate,o,Qi);o.memoizedProps=o.pendingProps,c===null?ip(o):et=c}function D4(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=t4(d,c,c.pendingProps,c.type,void 0,lt);break;case 11:c=t4(d,c,c.pendingProps,c.type.render,c.ref,lt);break;case 5:T0(c);default:c4(d,c),c=et=M_(c,Qi),c=o4(d,c,Qi)}o.memoizedProps=o.pendingProps,c===null?ip(o):et=c}function iu(o,c,d,p){qi=wl=null,T0(c),Xc=null,Zd=0;var x=c.return;try{if(tM(o,x,c,d,lt)){Xt=1,Xm(o,ra(d,o.current)),et=null;return}}catch(S){if(x!==null)throw et=x,S;Xt=1,Xm(o,ra(d,o.current)),et=null;return}c.flags&32768?(mt||p===1?o=!0:eu||(lt&536870912)!==0?o=!1:(eo=o=!0,(p===2||p===9||p===3||p===6)&&(p=oa.current,p!==null&&p.tag===13&&(p.flags|=16384))),M4(c,o)):ip(c)}function ip(o){var c=o;do{if((c.flags&32768)!==0){M4(c,eo);return}o=c.return;var d=rM(c.alternate,c,Qi);if(d!==null){et=d;return}if(c=c.sibling,c!==null){et=c;return}et=c=o}while(c!==null);Xt===0&&(Xt=5)}function M4(o,c){do{var d=aM(o.alternate,o);if(d!==null){d.flags&=32767,et=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){et=o;return}et=o=d}while(o!==null);Xt=6,et=null}function L4(o,c,d,p,x,S,R,U,K){o.cancelPendingCommit=null;do sp();while(zn!==0);if((bt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=e0,yd(o,d,S,R,U,K),o===Pt&&(et=Pt=null,lt=0),nu=c,ro=o,ru=d,i1=S,s1=x,A4=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,gM(Ta,function(){return $4(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=Q.T,Q.T=null,x=oe.p,oe.p=2,R=bt,bt|=4;try{iM(o,c,d)}finally{bt=R,oe.p=x,Q.T=p}}zn=1,B4(),V4(),U4()}}function B4(){if(zn===1){zn=0;var o=ro,c=nu,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var p=oe.p;oe.p=2;var x=bt;bt|=4;try{b4(c,o);var S=w1,R=E_(o.containerInfo),U=S.focusedElem,K=S.selectionRange;if(R!==U&&U&&U.ownerDocument&&T_(U.ownerDocument.documentElement,U)){if(K!==null&&Yy(U)){var te=K.start,ce=K.end;if(ce===void 0&&(ce=te),"selectionStart"in U)U.selectionStart=te,U.selectionEnd=Math.min(ce,U.value.length);else{var fe=U.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ue=U.textContent.length,ke=Math.min(K.start,Ue),At=K.end===void 0?ke:Math.min(K.end,Ue);!re.extend&&ke>At&&(R=At,At=ke,ke=R);var X=__(U,ke),W=__(U,At);if(X&&W&&(re.rangeCount!==1||re.anchorNode!==X.node||re.anchorOffset!==X.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var ee=fe.createRange();ee.setStart(X.node,X.offset),re.removeAllRanges(),ke>At?(re.addRange(ee),re.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),re.addRange(ee))}}}}for(fe=[],re=U;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<fe.length;U++){var ue=fe[U];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}yp=!!j1,w1=j1=null}finally{bt=x,oe.p=p,Q.T=d}}o.current=c,zn=2}}function V4(){if(zn===2){zn=0;var o=ro,c=nu,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var p=oe.p;oe.p=2;var x=bt;bt|=4;try{g4(o,c.alternate,c)}finally{bt=x,oe.p=p,Q.T=d}}zn=3}}function U4(){if(zn===4||zn===3){zn=0,Re();var o=ro,c=nu,d=ru,p=A4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?zn=5:(zn=0,nu=ro=null,z4(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(no=null),wc(d),c=c.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Wt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=Q.T,x=oe.p,oe.p=2,Q.T=null;try{for(var S=o.onRecoverableError,R=0;R<p.length;R++){var U=p[R];S(U.value,{componentStack:U.stack})}}finally{Q.T=c,oe.p=x}}(ru&3)!==0&&sp(),li(o),x=o.pendingLanes,(d&4194090)!==0&&(x&42)!==0?o===o1?oh++:(oh=0,o1=o):oh=0,lh(0)}}function z4(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,zd(c)))}function sp(o){return B4(),V4(),U4(),$4()}function $4(){if(zn!==5)return!1;var o=ro,c=i1;i1=0;var d=wc(ru),p=Q.T,x=oe.p;try{oe.p=32>d?32:d,Q.T=null,d=s1,s1=null;var S=ro,R=ru;if(zn=0,nu=ro=null,ru=0,(bt&6)!==0)throw Error(r(331));var U=bt;if(bt|=4,T4(S.current),w4(S,S.current,R,d),bt=U,lh(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Wt,S)}catch{}return!0}finally{oe.p=x,Q.T=p,z4(o,c)}}function q4(o,c,d){c=ra(d,c),c=V0(o.stateNode,c,2),o=Gs(o,c,2),o!==null&&(Ci(o,2),li(o))}function Ct(o,c,d){if(o.tag===3)q4(o,o,d);else for(;c!==null;){if(c.tag===3){q4(c,o,d);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(no===null||!no.has(p))){o=ra(d,o),d=GT(2),p=Gs(c,d,2),p!==null&&(WT(d,p,c,o),Ci(p,2),li(p));break}}c=c.return}}function d1(o,c,d){var p=o.pingCache;if(p===null){p=o.pingCache=new lM;var x=new Set;p.set(c,x)}else x=p.get(c),x===void 0&&(x=new Set,p.set(c,x));x.has(d)||(t1=!0,x.add(d),o=fM.bind(null,o,c,d),c.then(o,o))}function fM(o,c,d){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Pt===o&&(lt&d)===d&&(Xt===4||Xt===3&&(lt&62914560)===lt&&300>nt()-a1?(bt&2)===0&&au(o,0):n1|=d,tu===lt&&(tu=0)),li(o)}function F4(o,c){c===0&&(c=vd()),o=Uc(o,c),o!==null&&(Ci(o,c),li(o))}function mM(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),F4(o,d)}function pM(o,c){var d=0;switch(o.tag){case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),F4(o,d)}function gM(o,c){return Ee(o,c)}var op=null,su=null,h1=!1,lp=!1,f1=!1,Cl=0;function li(o){o!==su&&o.next===null&&(su===null?op=su=o:su=su.next=o),lp=!0,h1||(h1=!0,yM())}function lh(o,c){if(!f1&&lp){f1=!0;do for(var d=!1,p=op;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var S=0;else{var R=p.suspendedLanes,U=p.pingedLanes;S=(1<<31-Qn(42|o)+1)-1,S&=x&~(R&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,W4(p,S))}else S=lt,S=jc(p,p===Pt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||el(p,S)||(d=!0,W4(p,S));p=p.next}while(d);f1=!1}}function vM(){H4()}function H4(){lp=h1=!1;var o=0;Cl!==0&&(EM()&&(o=Cl),Cl=0);for(var c=nt(),d=null,p=op;p!==null;){var x=p.next,S=K4(p,c);S===0?(p.next=null,d===null?op=x:d.next=x,x===null&&(su=d)):(d=p,(o!==0||(S&3)!==0)&&(lp=!0)),p=x}lh(o)}function K4(o,c){for(var d=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var R=31-Qn(S),U=1<<R,K=x[R];K===-1?((U&d)===0||(U&p)!==0)&&(x[R]=pd(U,c)):K<=c&&(o.expiredLanes|=U),S&=~U}if(c=Pt,d=lt,d=jc(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===c&&(jt===2||jt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&we(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||el(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(p!==null&&we(p),wc(d)){case 2:case 8:d=Lt;break;case 32:d=Ta;break;case 268435456:d=Ms;break;default:d=Ta}return p=G4.bind(null,o),d=Ee(d,p),o.callbackPriority=c,o.callbackNode=d,c}return p!==null&&p!==null&&we(p),o.callbackPriority=2,o.callbackNode=null,2}function G4(o,c){if(zn!==0&&zn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(sp()&&o.callbackNode!==d)return null;var p=lt;return p=jc(o,o===Pt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(C4(o,p,c),K4(o,nt()),o.callbackNode!=null&&o.callbackNode===d?G4.bind(null,o):null)}function W4(o,c){if(sp())return null;C4(o,c,!0)}function yM(){NM(function(){(bt&6)!==0?Ee(Er,vM):H4()})}function m1(){return Cl===0&&(Cl=gd()),Cl}function Y4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Nc(""+o)}function X4(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function xM(o,c,d,p,x){if(c==="submit"&&d&&d.stateNode===x){var S=Y4((x[sn]||null).action),R=p.submitter;R&&(c=(c=R[sn]||null)?Y4(c.formAction):R.getAttribute("formAction"),c!==null&&(S=c,R=null));var U=new Cc("action","action",null,p,x);o.push({event:U,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Cl!==0){var K=R?X4(x,R):new FormData(x);k0(d,{pending:!0,data:K,method:x.method,action:S},null,K)}}else typeof S=="function"&&(U.preventDefault(),K=R?X4(x,R):new FormData(x),k0(d,{pending:!0,data:K,method:x.method,action:S},S,K))},currentTarget:x}]})}}for(var p1=0;p1<Jy.length;p1++){var g1=Jy[p1],bM=g1.toLowerCase(),jM=g1[0].toUpperCase()+g1.slice(1);Ca(bM,"on"+jM)}Ca(C_,"onAnimationEnd"),Ca(O_,"onAnimationIteration"),Ca(P_,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(B9,"onTransitionRun"),Ca(V9,"onTransitionStart"),Ca(U9,"onTransitionCancel"),Ca(I_,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function Q4(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],x=p.event;p=p.listeners;e:{var S=void 0;if(c)for(var R=p.length-1;0<=R;R--){var U=p[R],K=U.instance,te=U.currentTarget;if(U=U.listener,K!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=te;try{S(x)}catch(ce){Ym(ce)}x.currentTarget=null,S=K}else for(R=0;R<p.length;R++){if(U=p[R],K=U.instance,te=U.currentTarget,U=U.listener,K!==S&&x.isPropagationStopped())break e;S=U,x.currentTarget=te;try{S(x)}catch(ce){Ym(ce)}x.currentTarget=null,S=K}}}}function tt(o,c){var d=c[bd];d===void 0&&(d=c[bd]=new Set);var p=o+"__bubble";d.has(p)||(Z4(c,o,2,!1),d.add(p))}function v1(o,c,d){var p=0;c&&(p|=4),Z4(d,o,p,c)}var cp="_reactListening"+Math.random().toString(36).slice(2);function y1(o){if(!o[cp]){o[cp]=!0,jd.forEach(function(d){d!=="selectionchange"&&(wM.has(d)||v1(d,!1,o),v1(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[cp]||(c[cp]=!0,v1("selectionchange",!1,c))}}function Z4(o,c,d,p){switch(wE(c)){case 2:var x=YM;break;case 8:x=XM;break;default:x=I1}d=x.bind(null,c,d,o),x=void 0,!ta||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(c,d,{capture:!0,passive:x}):o.addEventListener(c,d,!0):x!==void 0?o.addEventListener(c,d,{passive:x}):o.addEventListener(c,d,!1)}function x1(o,c,d,p,x){var S=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var U=p.stateNode.containerInfo;if(U===x)break;if(R===4)for(R=p.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;U!==null;){if(R=Oi(U),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){p=S=R;continue e}U=U.parentNode}}p=p.return}dm(function(){var te=S,ce=ea(d),fe=[];e:{var ne=R_.get(o);if(ne!==void 0){var re=Cc,Ue=o;switch(o){case"keypress":if(Ja(d)===0)break e;case"keydown":case"keyup":re=Dc;break;case"focusin":Ue="focus",re=Ic;break;case"focusout":Ue="blur",re=Ic;break;case"beforeblur":case"afterblur":re=Ic;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=xm;break;case C_:case O_:case P_:re=Rc;break;case I_:re=jm;break;case"scroll":case"scrollend":re=hm;break;case"wheel":re=Mc;break;case"copy":case"cut":case"paste":re=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Rd;break;case"toggle":case"beforetoggle":re=Sm}var ke=(c&4)!==0,At=!ke&&(o==="scroll"||o==="scrollend"),X=ke?ne!==null?ne+"Capture":null:ne;ke=[];for(var W=te,ee;W!==null;){var ue=W;if(ee=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ee===null||X===null||(ue=ll(W,X),ue!=null&&ke.push(uh(W,ue,ee))),At)break;W=W.return}0<ke.length&&(ne=new re(ne,Ue,null,d,ce),fe.push({event:ne,listeners:ke}))}}if((c&7)===0){e:{if(ne=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",ne&&d!==ki&&(Ue=d.relatedTarget||d.fromElement)&&(Oi(Ue)||Ue[Zr]))break e;if((re||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ue=d.relatedTarget||d.toElement,re=te,Ue=Ue?Oi(Ue):null,Ue!==null&&(At=s(Ue),ke=Ue.tag,Ue!==At||ke!==5&&ke!==27&&ke!==6)&&(Ue=null)):(re=null,Ue=te),re!==Ue)){if(ke=na,ue="onMouseLeave",X="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(ke=Rd,ue="onPointerLeave",X="onPointerEnter",W="pointer"),At=re==null?ne:Ya(re),ee=Ue==null?ne:Ya(Ue),ne=new ke(ue,W+"leave",re,d,ce),ne.target=At,ne.relatedTarget=ee,ue=null,Oi(ce)===te&&(ke=new ke(X,W+"enter",Ue,d,ce),ke.target=ee,ke.relatedTarget=At,ue=ke),At=ue,re&&Ue)t:{for(ke=re,X=Ue,W=0,ee=ke;ee;ee=ou(ee))W++;for(ee=0,ue=X;ue;ue=ou(ue))ee++;for(;0<W-ee;)ke=ou(ke),W--;for(;0<ee-W;)X=ou(X),ee--;for(;W--;){if(ke===X||X!==null&&ke===X.alternate)break t;ke=ou(ke),X=ou(X)}ke=null}else ke=null;re!==null&&J4(fe,ne,re,ke,!1),Ue!==null&&At!==null&&J4(fe,At,Ue,ke,!0)}}e:{if(ne=te?Ya(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ce=y_;else if(xn(ne))if(x_)Ce=D9;else{Ce=R9;var Qe=I9}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Ed(te.elementType)&&(Ce=y_):Ce=k9;if(Ce&&(Ce=Ce(o,te))){Vi(fe,Ce,d,ce);break e}Qe&&Qe(o,ne,te),o==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&$s(ne,"number",ne.value)}switch(Qe=te?Ya(te):window,o){case"focusin":(xn(Qe)||Qe.contentEditable==="true")&&(Lc=Qe,Xy=te,Md=null);break;case"focusout":Md=Xy=Lc=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,A_(fe,d,ce);break;case"selectionchange":if(L9)break;case"keydown":case"keyup":A_(fe,d,ce)}var Pe;if(ni)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else st?se(o,d)&&(De="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(De="onCompositionStart");De&&(I&&d.locale!=="ko"&&(st||De!=="onCompositionStart"?De==="onCompositionEnd"&&st&&(Pe=Nd()):(Za=ce,qs="value"in Za?Za.value:Za.textContent,st=!0)),Qe=up(te,De),0<Qe.length&&(De=new Pd(De,o,null,d,ce),fe.push({event:De,listeners:Qe}),Pe?De.data=Pe:(Pe=xe(d),Pe!==null&&(De.data=Pe)))),(Pe=A?yn(o,d):ot(o,d))&&(De=up(te,"onBeforeInput"),0<De.length&&(Qe=new Pd("onBeforeInput","beforeinput",null,d,ce),fe.push({event:Qe,listeners:De}),Qe.data=Pe)),xM(fe,o,te,d,ce)}Q4(fe,c)})}function uh(o,c,d){return{instance:o,listener:c,currentTarget:d}}function up(o,c){for(var d=c+"Capture",p=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=ll(o,d),x!=null&&p.unshift(uh(o,x,S)),x=ll(o,c),x!=null&&p.push(uh(o,x,S))),o.tag===3)return p;o=o.return}return[]}function ou(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function J4(o,c,d,p,x){for(var S=c._reactName,R=[];d!==null&&d!==p;){var U=d,K=U.alternate,te=U.stateNode;if(U=U.tag,K!==null&&K===p)break;U!==5&&U!==26&&U!==27||te===null||(K=te,x?(te=ll(d,S),te!=null&&R.unshift(uh(d,te,K))):x||(te=ll(d,S),te!=null&&R.push(uh(d,te,K)))),d=d.return}R.length!==0&&o.push({event:c,listeners:R})}var SM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function eE(o){return(typeof o=="string"?o:""+o).replace(SM,`
`).replace(_M,"")}function tE(o,c){return c=eE(c),eE(o)===c}function dp(){}function Et(o,c,d,p,x,S){switch(d){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Jr(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Jr(o,""+p);break;case"className":Xa(o,"class",p);break;case"tabIndex":Xa(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(o,d,p);break;case"style":Td(o,p,S);break;case"data":if(c!=="object"){Xa(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Nc(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(c!=="input"&&Et(o,c,"name",x.name,x,null),Et(o,c,"formEncType",x.formEncType,x,null),Et(o,c,"formMethod",x.formMethod,x,null),Et(o,c,"formTarget",x.formTarget,x,null)):(Et(o,c,"encType",x.encType,x,null),Et(o,c,"method",x.method,x,null),Et(o,c,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Nc(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=dp);break;case"onScroll":p!=null&&tt("scroll",o);break;case"onScrollEnd":p!=null&&tt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=Nc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":tt("beforetoggle",o),tt("toggle",o),zs(o,"popover",p);break;case"xlinkActuate":Bn(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Bn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Bn(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Bn(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Bn(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Bn(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Bn(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Bn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Bn(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":zs(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=qy.get(d)||d,zs(o,d,p))}}function b1(o,c,d,p,x,S){switch(d){case"style":Td(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof p=="string"?Jr(o,p):(typeof p=="number"||typeof p=="bigint")&&Jr(o,""+p);break;case"onScroll":p!=null&&tt("scroll",o);break;case"onScrollEnd":p!=null&&tt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=dp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),c=d.slice(2,x?d.length-7:void 0),S=o[sn]||null,S=S!=null?S[d]:null,typeof S=="function"&&o.removeEventListener(c,S,x),typeof p=="function")){typeof S!="function"&&S!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,p,x);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):zs(o,d,p)}}}function $n(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",o),tt("load",o);var p=!1,x=!1,S;for(S in d)if(d.hasOwnProperty(S)){var R=d[S];if(R!=null)switch(S){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Et(o,c,S,R,d,null)}}x&&Et(o,c,"srcSet",d.srcSet,d,null),p&&Et(o,c,"src",d.src,d,null);return;case"input":tt("invalid",o);var U=S=R=x=null,K=null,te=null;for(p in d)if(d.hasOwnProperty(p)){var ce=d[p];if(ce!=null)switch(p){case"name":x=ce;break;case"type":R=ce;break;case"checked":K=ce;break;case"defaultChecked":te=ce;break;case"value":S=ce;break;case"defaultValue":U=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:Et(o,c,p,ce,d,null)}}il(o,S,U,K,te,R,x,!1),Ac(o);return;case"select":tt("invalid",o),p=R=S=null;for(x in d)if(d.hasOwnProperty(x)&&(U=d[x],U!=null))switch(x){case"value":S=U;break;case"defaultValue":R=U;break;case"multiple":p=U;default:Et(o,c,x,U,d,null)}c=S,d=R,o.multiple=!!p,c!=null?Ri(o,!!p,c,!1):d!=null&&Ri(o,!!p,d,!0);return;case"textarea":tt("invalid",o),S=x=p=null;for(R in d)if(d.hasOwnProperty(R)&&(U=d[R],U!=null))switch(R){case"value":p=U;break;case"defaultValue":x=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Et(o,c,R,U,d,null)}sl(o,p,x,S),Ac(o);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(p=d[K],p!=null))switch(K){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Et(o,c,K,p,d,null)}return;case"dialog":tt("beforetoggle",o),tt("toggle",o),tt("cancel",o),tt("close",o);break;case"iframe":case"object":tt("load",o);break;case"video":case"audio":for(p=0;p<ch.length;p++)tt(ch[p],o);break;case"image":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"embed":case"source":case"link":tt("error",o),tt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(p=d[te],p!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Et(o,c,te,p,d,null)}return;default:if(Ed(c)){for(ce in d)d.hasOwnProperty(ce)&&(p=d[ce],p!==void 0&&b1(o,c,ce,p,d,void 0));return}}for(U in d)d.hasOwnProperty(U)&&(p=d[U],p!=null&&Et(o,c,U,p,d,null))}function TM(o,c,d,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,R=null,U=null,K=null,te=null,ce=null;for(re in d){var fe=d[re];if(d.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":K=fe;default:p.hasOwnProperty(re)||Et(o,c,re,null,p,fe)}}for(var ne in p){var re=p[ne];if(fe=d[ne],p.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":S=re;break;case"name":x=re;break;case"checked":te=re;break;case"defaultChecked":ce=re;break;case"value":R=re;break;case"defaultValue":U=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:re!==fe&&Et(o,c,ne,re,p,fe)}}Nr(o,R,U,K,te,ce,S,x);return;case"select":re=R=U=ne=null;for(S in d)if(K=d[S],d.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":re=K;default:p.hasOwnProperty(S)||Et(o,c,S,null,p,K)}for(x in p)if(S=p[x],K=d[x],p.hasOwnProperty(x)&&(S!=null||K!=null))switch(x){case"value":ne=S;break;case"defaultValue":U=S;break;case"multiple":R=S;default:S!==K&&Et(o,c,x,S,p,K)}c=U,d=R,p=re,ne!=null?Ri(o,!!d,ne,!1):!!p!=!!d&&(c!=null?Ri(o,!!d,c,!0):Ri(o,!!d,d?[]:"",!1));return;case"textarea":re=ne=null;for(U in d)if(x=d[U],d.hasOwnProperty(U)&&x!=null&&!p.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Et(o,c,U,null,p,x)}for(R in p)if(x=p[R],S=d[R],p.hasOwnProperty(R)&&(x!=null||S!=null))switch(R){case"value":ne=x;break;case"defaultValue":re=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&Et(o,c,R,x,p,S)}_t(o,ne,re);return;case"option":for(var Ue in d)if(ne=d[Ue],d.hasOwnProperty(Ue)&&ne!=null&&!p.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:Et(o,c,Ue,null,p,ne)}for(K in p)if(ne=p[K],re=d[K],p.hasOwnProperty(K)&&ne!==re&&(ne!=null||re!=null))switch(K){case"selected":o.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Et(o,c,K,ne,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in d)ne=d[ke],d.hasOwnProperty(ke)&&ne!=null&&!p.hasOwnProperty(ke)&&Et(o,c,ke,null,p,ne);for(te in p)if(ne=p[te],re=d[te],p.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,c));break;default:Et(o,c,te,ne,p,re)}return;default:if(Ed(c)){for(var At in d)ne=d[At],d.hasOwnProperty(At)&&ne!==void 0&&!p.hasOwnProperty(At)&&b1(o,c,At,void 0,p,ne);for(ce in p)ne=p[ce],re=d[ce],!p.hasOwnProperty(ce)||ne===re||ne===void 0&&re===void 0||b1(o,c,ce,ne,p,re);return}}for(var X in d)ne=d[X],d.hasOwnProperty(X)&&ne!=null&&!p.hasOwnProperty(X)&&Et(o,c,X,null,p,ne);for(fe in p)ne=p[fe],re=d[fe],!p.hasOwnProperty(fe)||ne===re||ne==null&&re==null||Et(o,c,fe,ne,p,re)}var j1=null,w1=null;function hp(o){return o.nodeType===9?o:o.ownerDocument}function nE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function S1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _1=null;function EM(){var o=window.event;return o&&o.type==="popstate"?o===_1?!1:(_1=o,!0):(_1=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,AM=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(o){return iE.resolve(null).then(o).catch(CM)}:aE;function CM(o){setTimeout(function(){throw o})}function io(o){return o==="head"}function sE(o,c){var d=c,p=0,x=0;do{var S=d.nextSibling;if(o.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<p&&8>p){d=p;var R=o.ownerDocument;if(d&1&&dh(R.documentElement),d&2&&dh(R.body),d&4)for(d=R.head,dh(d),R=d.firstChild;R;){var U=R.nextSibling,K=R.nodeName;R[tl]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||d.removeChild(R),R=U}}if(x===0){o.removeChild(S),xh(c);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:p=d.charCodeAt(0)-48;else p=0;d=S}while(d);xh(c)}function T1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":T1(d),Us(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function OM(o,c,d,p){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[tl])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Pa(o.nextSibling),o===null)break}return null}function PM(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Pa(o.nextSibling),o===null))return null;return o}function E1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function IM(o,c){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")c();else{var p=function(){c(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Pa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var A1=null;function oE(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return o;c--}else d==="/$"&&c++}o=o.previousSibling}return null}function lE(o,c,d){switch(c=hp(d),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function dh(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Us(o)}var ca=new Map,cE=new Set;function fp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zi=oe.d;oe.d={f:RM,r:kM,D:DM,C:MM,L:LM,m:BM,X:UM,S:VM,M:zM};function RM(){var o=Zi.f(),c=ap();return o||c}function kM(o){var c=Wa(o);c!==null&&c.tag===5&&c.type==="form"?CT(c):Zi.r(o)}var lu=typeof document>"u"?null:document;function uE(o,c,d){var p=lu;if(p&&typeof c=="string"&&c){var x=on(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),cE.has(x)||(cE.add(x),o={rel:o,crossOrigin:d,href:c},p.querySelector(x)===null&&(c=p.createElement("link"),$n(c,"link",o),Zt(c),p.head.appendChild(c)))}}function DM(o){Zi.D(o),uE("dns-prefetch",o,null)}function MM(o,c){Zi.C(o,c),uE("preconnect",o,c)}function LM(o,c,d){Zi.L(o,c,d);var p=lu;if(p&&o&&c){var x='link[rel="preload"][as="'+on(c)+'"]';c==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+on(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+on(d.imageSizes)+'"]')):x+='[href="'+on(o)+'"]';var S=x;switch(c){case"style":S=cu(o);break;case"script":S=uu(o)}ca.has(S)||(o=m({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),ca.set(S,o),p.querySelector(x)!==null||c==="style"&&p.querySelector(hh(S))||c==="script"&&p.querySelector(fh(S))||(c=p.createElement("link"),$n(c,"link",o),Zt(c),p.head.appendChild(c)))}}function BM(o,c){Zi.m(o,c);var d=lu;if(d&&o){var p=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+on(p)+'"][href="'+on(o)+'"]',S=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=uu(o)}if(!ca.has(S)&&(o=m({rel:"modulepreload",href:o},c),ca.set(S,o),d.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fh(S)))return}p=d.createElement("link"),$n(p,"link",o),Zt(p),d.head.appendChild(p)}}}function VM(o,c,d){Zi.S(o,c,d);var p=lu;if(p&&o){var x=dr(p).hoistableStyles,S=cu(o);c=c||"default";var R=x.get(S);if(!R){var U={loading:0,preload:null};if(R=p.querySelector(hh(S)))U.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},d),(d=ca.get(S))&&N1(o,d);var K=R=p.createElement("link");Zt(K),$n(K,"link",o),K._p=new Promise(function(te,ce){K.onload=te,K.onerror=ce}),K.addEventListener("load",function(){U.loading|=1}),K.addEventListener("error",function(){U.loading|=2}),U.loading|=4,mp(R,c,p)}R={type:"stylesheet",instance:R,count:1,state:U},x.set(S,R)}}}function UM(o,c){Zi.X(o,c);var d=lu;if(d&&o){var p=dr(d).hoistableScripts,x=uu(o),S=p.get(x);S||(S=d.querySelector(fh(x)),S||(o=m({src:o,async:!0},c),(c=ca.get(x))&&C1(o,c),S=d.createElement("script"),Zt(S),$n(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function zM(o,c){Zi.M(o,c);var d=lu;if(d&&o){var p=dr(d).hoistableScripts,x=uu(o),S=p.get(x);S||(S=d.querySelector(fh(x)),S||(o=m({src:o,async:!0,type:"module"},c),(c=ca.get(x))&&C1(o,c),S=d.createElement("script"),Zt(S),$n(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function dE(o,c,d,p){var x=(x=_e.current)?fp(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=cu(d.href),d=dr(x).hoistableStyles,p=d.get(c),p||(p={type:"style",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=cu(d.href);var S=dr(x).hoistableStyles,R=S.get(o);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,R),(S=x.querySelector(hh(o)))&&!S._p&&(R.instance=S,R.state.loading=5),ca.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ca.set(o,d),S||$M(x,o,d,R.state))),c&&p===null)throw Error(r(528,""));return R}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=uu(d),d=dr(x).hoistableScripts,p=d.get(c),p||(p={type:"script",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function cu(o){return'href="'+on(o)+'"'}function hh(o){return'link[rel="stylesheet"]['+o+"]"}function hE(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function $M(o,c,d,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),$n(c,"link",d),Zt(c),o.head.appendChild(c))}function uu(o){return'[src="'+on(o)+'"]'}function fh(o){return"script[async]"+o}function fE(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+on(d.href)+'"]');if(p)return c.instance=p,Zt(p),p;var x=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Zt(p),$n(p,"style",x),mp(p,d.precedence,o),c.instance=p;case"stylesheet":x=cu(d.href);var S=o.querySelector(hh(x));if(S)return c.state.loading|=4,c.instance=S,Zt(S),S;p=hE(d),(x=ca.get(x))&&N1(p,x),S=(o.ownerDocument||o).createElement("link"),Zt(S);var R=S;return R._p=new Promise(function(U,K){R.onload=U,R.onerror=K}),$n(S,"link",p),c.state.loading|=4,mp(S,d.precedence,o),c.instance=S;case"script":return S=uu(d.src),(x=o.querySelector(fh(S)))?(c.instance=x,Zt(x),x):(p=d,(x=ca.get(S))&&(p=m({},d),C1(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),Zt(x),$n(x,"link",p),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,mp(p,d.precedence,o));return c.instance}function mp(o,c,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,S=x,R=0;R<p.length;R++){var U=p[R];if(U.dataset.precedence===c)S=U;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function N1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function C1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var pp=null;function mE(o,c,d){if(pp===null){var p=new Map,x=pp=new Map;x.set(d,p)}else x=pp,p=x.get(d),p||(p=new Map,x.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var S=d[x];if(!(S[tl]||S[vn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var R=S.getAttribute(c)||"";R=o+R;var U=p.get(R);U?U.push(S):p.set(R,[S])}}return p}function pE(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function qM(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function gE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var mh=null;function FM(){}function HM(o,c,d){if(mh===null)throw Error(r(475));var p=mh;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=cu(d.href),S=o.querySelector(hh(x));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=gp.bind(p),o.then(p,p)),c.state.loading|=4,c.instance=S,Zt(S);return}S=o.ownerDocument||o,d=hE(d),(x=ca.get(x))&&N1(d,x),S=S.createElement("link"),Zt(S);var R=S;R._p=new Promise(function(U,K){R.onload=U,R.onerror=K}),$n(S,"link",d),c.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(p.count++,c=gp.bind(p),o.addEventListener("load",c),o.addEventListener("error",c))}}function KM(){if(mh===null)throw Error(r(475));var o=mh;return o.stylesheets&&o.count===0&&O1(o,o.stylesheets),0<o.count?function(c){var d=setTimeout(function(){if(o.stylesheets&&O1(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(d)}}:null}function gp(){if(this.count--,this.count===0){if(this.stylesheets)O1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var vp=null;function O1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,vp=new Map,c.forEach(GM,o),vp=null,gp.call(o))}function GM(o,c){if(!(c.state.loading&4)){var d=vp.get(o);if(d)var p=d.get(null);else{d=new Map,vp.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var R=x[S];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),p=R)}p&&d.set(null,p)}x=c.instance,R=x.getAttribute("data-precedence"),S=d.get(R)||p,S===p&&d.set(null,x),d.set(R,x),this.count++,p=gp.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var ph={$$typeof:N,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function WM(o,c,d,p,x,S,R,U){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function vE(o,c,d,p,x,S,R,U,K,te,ce,fe){return o=new WM(o,c,d,R,U,K,te,fe),c=1,S===!0&&(c|=24),S=Or(3,null,null,c),o.current=S,S.stateNode=o,c=d0(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:c},p0(S),o}function yE(o){return o?(o=zc,o):zc}function xE(o,c,d,p,x,S){x=yE(x),p.context===null?p.context=x:p.pendingContext=x,p=Ks(c),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=Gs(o,p,c),d!==null&&(Dr(d,o,c),Hd(d,o,c))}function bE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function P1(o,c){bE(o,c),(o=o.alternate)&&bE(o,c)}function jE(o){if(o.tag===13){var c=Uc(o,67108864);c!==null&&Dr(c,o,67108864),P1(o,67108864)}}var yp=!0;function YM(o,c,d,p){var x=Q.T;Q.T=null;var S=oe.p;try{oe.p=2,I1(o,c,d,p)}finally{oe.p=S,Q.T=x}}function XM(o,c,d,p){var x=Q.T;Q.T=null;var S=oe.p;try{oe.p=8,I1(o,c,d,p)}finally{oe.p=S,Q.T=x}}function I1(o,c,d,p){if(yp){var x=R1(p);if(x===null)x1(o,c,p,xp,d),SE(o,p);else if(ZM(x,o,c,d,p))p.stopPropagation();else if(SE(o,p),c&4&&-1<QM.indexOf(o)){for(;x!==null;){var S=Wa(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var R=Ea(S.pendingLanes);if(R!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;R;){var K=1<<31-Qn(R);U.entanglements[1]|=K,R&=~K}li(S),(bt&6)===0&&(np=nt()+500,lh(0))}}break;case 13:U=Uc(S,2),U!==null&&Dr(U,S,2),ap(),P1(S,2)}if(S=R1(p),S===null&&x1(o,c,p,xp,d),S===x)break;x=S}x!==null&&p.stopPropagation()}else x1(o,c,p,null,d)}}function R1(o){return o=ea(o),k1(o)}var xp=null;function k1(o){if(xp=null,o=Oi(o),o!==null){var c=s(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return xp=o,null}function wE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Er:return 2;case Lt:return 8;case Ta:case fd:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var D1=!1,so=null,oo=null,lo=null,gh=new Map,vh=new Map,co=[],QM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(o,c){switch(o){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":gh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(c.pointerId)}}function yh(o,c,d,p,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},c!==null&&(c=Wa(c),c!==null&&jE(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function ZM(o,c,d,p,x){switch(c){case"focusin":return so=yh(so,o,c,d,p,x),!0;case"dragenter":return oo=yh(oo,o,c,d,p,x),!0;case"mouseover":return lo=yh(lo,o,c,d,p,x),!0;case"pointerover":var S=x.pointerId;return gh.set(S,yh(gh.get(S)||null,o,c,d,p,x)),!0;case"gotpointercapture":return S=x.pointerId,vh.set(S,yh(vh.get(S)||null,o,c,d,p,x)),!0}return!1}function _E(o){var c=Oi(o.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=l(d),c!==null){o.blockedOn=c,am(o.priority,function(){if(d.tag===13){var p=kr();p=Ls(p);var x=Uc(d,p);x!==null&&Dr(x,d,p),P1(d,p)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function bp(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=R1(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);ki=p,d.target.dispatchEvent(p),ki=null}else return c=Wa(d),c!==null&&jE(c),o.blockedOn=d,!1;c.shift()}return!0}function TE(o,c,d){bp(o)&&d.delete(c)}function JM(){D1=!1,so!==null&&bp(so)&&(so=null),oo!==null&&bp(oo)&&(oo=null),lo!==null&&bp(lo)&&(lo=null),gh.forEach(TE),vh.forEach(TE)}function jp(o,c){o.blockedOn===c&&(o.blockedOn=null,D1||(D1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JM)))}var wp=null;function EE(o){wp!==o&&(wp=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===o&&(wp=null);for(var c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],x=o[c+2];if(typeof p!="function"){if(k1(p||d)===null)continue;break}var S=Wa(d);S!==null&&(o.splice(c,3),c-=3,k0(S,{pending:!0,data:x,method:d.method,action:p},p,x))}}))}function xh(o){function c(K){return jp(K,o)}so!==null&&jp(so,o),oo!==null&&jp(oo,o),lo!==null&&jp(lo,o),gh.forEach(c),vh.forEach(c);for(var d=0;d<co.length;d++){var p=co[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<co.length&&(d=co[0],d.blockedOn===null);)_E(d),d.blockedOn===null&&co.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var x=d[p],S=d[p+1],R=x[sn]||null;if(typeof S=="function")R||EE(d);else if(R){var U=null;if(S&&S.hasAttribute("formAction")){if(x=S,R=S[sn]||null)U=R.formAction;else if(k1(x)!==null)continue}else U=R.action;typeof U=="function"?d[p+1]=U:(d.splice(p,3),p-=3),EE(d)}}}function M1(o){this._internalRoot=o}Sp.prototype.render=M1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,p=kr();xE(d,p,o,c,null,null)},Sp.prototype.unmount=M1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;xE(o.current,2,null,o,null,null),ap(),c[Zr]=null}};function Sp(o){this._internalRoot=o}Sp.prototype.unstable_scheduleHydration=function(o){if(o){var c=Bs();o={blockedOn:null,target:o,priority:c};for(var d=0;d<co.length&&c!==0&&c<co[d].priority;d++);co.splice(d,0,o),d===0&&_E(o)}};var AE=e.version;if(AE!=="19.1.0")throw Error(r(527,AE,"19.1.0"));oe.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var e7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Wt=_p.inject(e7),xt=_p}catch{}}return jh.createRoot=function(o,c){if(!a(o))throw Error(r(299));var d=!1,p="",x=qT,S=FT,R=HT,U=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(U=c.unstable_transitionCallbacks)),c=vE(o,1,!1,null,null,d,p,x,S,R,U,null),o[Zr]=c.current,y1(o),new M1(c)},jh.hydrateRoot=function(o,c,d){if(!a(o))throw Error(r(299));var p=!1,x="",S=qT,R=FT,U=HT,K=null,te=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(U=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(te=d.formState)),c=vE(o,1,!0,c,d??null,p,x,S,R,U,K,te),c.context=yE(null),d=c.current,p=kr(),p=Ls(p),x=Ks(p),x.callback=null,Gs(d,x,p),d=p,c.current.lanes=d,Ci(c,d),li(c),o[Zr]=c.current,y1(o),new Sp(c)},jh.version="19.1.0",jh}var LE;function c7(){if(LE)return V1.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V1.exports=l7(),V1.exports}var u7=c7();function Ge({children:t,variant:e="primary",size:n="medium",type:r="button",fullWidth:a=!1,onClick:s,disabled:l=!1,className:u}){const h=`btn btn-${e} btn-${n} ${a?"btn-full-width":""} ${u||""}`;return i.jsx("button",{type:r,className:h,onClick:s,disabled:l,children:t})}var wh={},BE;function d7(){if(BE)return wh;BE=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.parse=l,wh.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,j){const b=new s,_=y.length;if(_<2)return b;const T=j?.decode||m;let E=0;do{const C=y.indexOf("=",E);if(C===-1)break;const N=y.indexOf(";",E),P=N===-1?_:N;if(C>P){E=y.lastIndexOf(";",C-1)+1;continue}const k=u(y,E,C),M=h(y,C,k),O=y.slice(k,M);if(b[O]===void 0){let D=u(y,C+1,P),B=h(y,P,D);const F=T(y.slice(D,B));b[O]=F}E=P+1}while(E<_);return b}function u(y,j,b){do{const _=y.charCodeAt(j);if(_!==32&&_!==9)return j}while(++j<b);return b}function h(y,j,b){for(;j>b;){const _=y.charCodeAt(--j);if(_!==32&&_!==9)return j+1}return b}function f(y,j,b){const _=b?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=_(j);if(!e.test(T))throw new TypeError(`argument val is invalid: ${j}`);let E=y+"="+T;if(!b)return E;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);E+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);E+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);E+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);E+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(E+="; HttpOnly"),b.secure&&(E+="; Secure"),b.partitioned&&(E+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return E}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return a.call(y)==="[object Date]"}return wh}d7();var VE="popstate";function h7(t={}){function e(r,a){let{pathname:s,search:l,hash:u}=r.location;return B2("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Zh(a)}return m7(e,n,null,t)}function zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f7(){return Math.random().toString(36).substring(2,10)}function UE(t,e){return{usr:t.state,key:t.key,idx:e}}function B2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ku(e):e,state:n,key:e&&e.key||r||f7()}}function Zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ku(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function m7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let T=m(),E=T==null?null:T-f;f=T,h&&h({action:u,location:_.location,delta:E})}function y(T,E){u="PUSH";let C=B2(_.location,T,E);f=m()+1;let N=UE(C,f),P=_.createHref(C);try{l.pushState(N,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(P)}s&&h&&h({action:u,location:_.location,delta:1})}function j(T,E){u="REPLACE";let C=B2(_.location,T,E);f=m();let N=UE(C,f),P=_.createHref(C);l.replaceState(N,"",P),s&&h&&h({action:u,location:_.location,delta:0})}function b(T){return p7(T)}let _={get action(){return u},get location(){return t(a,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(VE,g),h=T,()=>{a.removeEventListener(VE,g),h=null}},createHref(T){return e(a,T)},createURL:b,encodeLocation(T){let E=b(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:j,go(T){return l.go(T)}};return _}function p7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DO(t,e,n="/"){return g7(t,e,n,!1)}function g7(t,e,n,r){let a=typeof e=="string"?Ku(e):e,s=vs(a.pathname||"/",n);if(s==null)return null;let l=MO(t);v7(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=N7(s);u=E7(l[h],f,r)}return u}function MO(t,e=[],n=[],r=""){let a=(s,l,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(zt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=ls([r,h.relativePath]),m=n.concat(h);s.children&&s.children.length>0&&(zt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MO(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:_7(f,s.index),routesMeta:m})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let u of LO(s.path))a(s,l,u)}),e}function LO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=LO(r.join("/")),u=[];return u.push(...l.map(h=>h===""?s:[s,h].join("/"))),a&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function v7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:T7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var y7=/^:[\w-]+$/,x7=3,b7=2,j7=1,w7=10,S7=-2,zE=t=>t==="*";function _7(t,e){let n=t.split("/"),r=n.length;return n.some(zE)&&(r+=S7),e&&(r+=b7),n.filter(a=>!zE(a)).reduce((a,s)=>a+(y7.test(s)?x7:s===""?j7:w7),r)}function T7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function E7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),y=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=dg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:ls([s,g.pathname]),pathnameBase:I7(ls([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=ls([s,g.pathnameBase]))}return l}function dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=A7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let b=u[y]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const j=u[y];return g&&!j?f[m]=void 0:f[m]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function A7(t,e=!1,n=!0){xa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function N7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ku(t):t;return{pathname:n?n.startsWith("/")?n:O7(n,e):e,search:R7(r),hash:k7(a)}}function O7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function q1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mj(t){let e=P7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pj(t,e,n,r=!1){let a;typeof t=="string"?a=Ku(t):(a={...t},zt(!a.pathname||!a.pathname.includes("?"),q1("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),q1("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),q1("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?e[g]:"/"}let h=C7(a,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var ls=t=>t.join("/").replace(/\/\/+/g,"/"),I7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BO=["POST","PUT","PATCH","DELETE"];new Set(BO);var M7=["GET",...BO];new Set(M7);var Gu=w.createContext(null);Gu.displayName="DataRouter";var jv=w.createContext(null);jv.displayName="DataRouterState";var VO=w.createContext({isTransitioning:!1});VO.displayName="ViewTransition";var L7=w.createContext(new Map);L7.displayName="Fetchers";var B7=w.createContext(null);B7.displayName="Await";var qa=w.createContext(null);qa.displayName="Navigation";var Ef=w.createContext(null);Ef.displayName="Location";var Fa=w.createContext({outlet:null,matches:[],isDataRoute:!1});Fa.displayName="Route";var gj=w.createContext(null);gj.displayName="RouteError";function V7(t,{relative:e}={}){zt(Wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(qa),{hash:a,pathname:s,search:l}=Af(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:ls([n,s])),r.createHref({pathname:u,search:l,hash:a})}function Wu(){return w.useContext(Ef)!=null}function Ti(){return zt(Wu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ef).location}var UO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zO(t){w.useContext(qa).static||w.useLayoutEffect(t)}function Cs(){let{isDataRoute:t}=w.useContext(Fa);return t?J7():U7()}function U7(){zt(Wu(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Gu),{basename:e,navigator:n}=w.useContext(qa),{matches:r}=w.useContext(Fa),{pathname:a}=Ti(),s=JSON.stringify(mj(r)),l=w.useRef(!1);return zO(()=>{l.current=!0}),w.useCallback((h,f={})=>{if(xa(l.current,UO),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=pj(h,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ls([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,a,t])}w.createContext(null);function z7(){let{matches:t}=w.useContext(Fa),e=t[t.length-1];return e?e.params:{}}function Af(t,{relative:e}={}){let{matches:n}=w.useContext(Fa),{pathname:r}=Ti(),a=JSON.stringify(mj(n));return w.useMemo(()=>pj(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function $7(t,e){return $O(t,e)}function $O(t,e,n,r){zt(Wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(qa),{matches:s}=w.useContext(Fa),l=s[s.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";qO(h,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Ti(),y;if(e){let E=typeof e=="string"?Ku(e):e;zt(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=g;let j=y.pathname||"/",b=j;if(f!=="/"){let E=f.replace(/^\//,"").split("/");b="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=DO(t,{pathname:b});xa(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),xa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=G7(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ls([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:ls([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&T?w.createElement(Ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function q7(){let t=Z7(),e=D7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,l)}var F7=w.createElement(q7,null),H7=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Fa.Provider,{value:this.props.routeContext},w.createElement(gj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K7({routeContext:t,match:e,children:n}){let r=w.useContext(Gu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Fa.Provider,{value:t},n)}function G7(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let h=a.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);zt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,y=!1,j=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,j=f.route.errorElement||F7,l&&(u<0&&m===0?(qO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===m&&(y=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,m+1)),T=()=>{let E;return g?E=j:y?E=b:f.route.Component?E=w.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,w.createElement(K7,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(H7,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}function vj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W7(t){let e=w.useContext(Gu);return zt(e,vj(t)),e}function Y7(t){let e=w.useContext(jv);return zt(e,vj(t)),e}function X7(t){let e=w.useContext(Fa);return zt(e,vj(t)),e}function yj(t){let e=X7(t),n=e.matches[e.matches.length-1];return zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Q7(){return yj("useRouteId")}function Z7(){let t=w.useContext(gj),e=Y7("useRouteError"),n=yj("useRouteError");return t!==void 0?t:e.errors?.[n]}function J7(){let{router:t}=W7("useNavigate"),e=yj("useNavigate"),n=w.useRef(!1);return zO(()=>{n.current=!0}),w.useCallback(async(a,s={})=>{xa(n.current,UO),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var $E={};function qO(t,e,n){!e&&!$E[t]&&($E[t]=!0,xa(!1,n))}w.memo(eL);function eL({routes:t,future:e,state:n}){return $O(t,void 0,n,e)}function FO({to:t,replace:e,state:n,relative:r}){zt(Wu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(qa);xa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Fa),{pathname:l}=Ti(),u=Cs(),h=pj(t,mj(s),l,r==="path"),f=JSON.stringify(h);return w.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Fe(t){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){zt(!Wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);typeof n=="string"&&(n=Ku(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,j=w.useMemo(()=>{let b=vs(h,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:g,key:y},navigationType:r}},[l,h,f,m,g,y,r]);return xa(j!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(qa.Provider,{value:u},w.createElement(Ef.Provider,{children:e,value:j}))}function HO({children:t,location:e}){return $7(V2(t),e)}function V2(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let s=[...e,a];if(r.type===w.Fragment){n.push.apply(n,V2(r.props.children,s));return}zt(r.type===Fe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=V2(r.props.children,s)),n.push(l)}),n}var Wp="get",Yp="application/x-www-form-urlencoded";function wv(t){return t!=null&&typeof t.tagName=="string"}function nL(t){return wv(t)&&t.tagName.toLowerCase()==="button"}function rL(t){return wv(t)&&t.tagName.toLowerCase()==="form"}function aL(t){return wv(t)&&t.tagName.toLowerCase()==="input"}function iL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sL(t,e){return t.button===0&&(!e||e==="_self")&&!iL(t)}function U2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function oL(t,e){let n=U2(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(s=>{n.append(a,s)})}),n}var Tp=null;function lL(){if(Tp===null)try{new FormData(document.createElement("form"),0),Tp=!1}catch{Tp=!0}return Tp}var cL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F1(t){return t!=null&&!cL.has(t)?(xa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yp}"`),null):t}function uL(t,e){let n,r,a,s,l;if(rL(t)){let u=t.getAttribute("action");r=u?vs(u,e):null,n=t.getAttribute("method")||Wp,a=F1(t.getAttribute("enctype"))||Yp,s=new FormData(t)}else if(nL(t)||aL(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?vs(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Wp,a=F1(t.getAttribute("formenctype"))||F1(u.getAttribute("enctype"))||Yp,s=new FormData(u,t),!lL()){let{name:f,type:m,value:g}=t;if(m==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,g)}}else{if(wv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wp,r=null,a=Yp,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}function xj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fL(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await dL(s,n);return l.links?l.links():[]}return[]}));return vL(r.flat(1).filter(hL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qE(t,e,n,r,a,s){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):s==="data"?e.filter((h,f)=>{let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function mL(t,e,{includeHydrateFallback:n}={}){return pL(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function pL(t){return[...new Set(t)]}function gL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function vL(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(gL(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yL=new Set([100,101,204,205]);function xL(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&vs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KO(){let t=w.useContext(Gu);return xj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bL(){let t=w.useContext(jv);return xj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bj=w.createContext(void 0);bj.displayName="FrameworkContext";function GO(){let t=w.useContext(bj);return xj(t,"You must render this element inside a <HydratedRouter> element"),t}function jL(t,e){let n=w.useContext(bj),[r,a]=w.useState(!1),[s,l]=w.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,y=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let _=E=>{E.forEach(C=>{l(C.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),w.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let j=()=>{a(!0)},b=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:Sh(u,j),onBlur:Sh(h,b),onMouseEnter:Sh(f,j),onMouseLeave:Sh(m,b),onTouchStart:Sh(g,j)}]:[!1,y,{}]}function Sh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wL({page:t,...e}){let{router:n}=KO(),r=w.useMemo(()=>DO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(_L,{page:t,matches:r,...e}):null}function SL(t){let{manifest:e,routeModules:n}=GO(),[r,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return fL(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function _L({page:t,matches:e,...n}){let r=Ti(),{manifest:a,routeModules:s}=GO(),{basename:l}=KO(),{loaderData:u,matches:h}=bL(),f=w.useMemo(()=>qE(t,e,h,a,r,"data"),[t,e,h,a,r]),m=w.useMemo(()=>qE(t,e,h,a,r,"assets"),[t,e,h,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(e.forEach(E=>{let C=a.routes[E.route.id];!C||!C.hasLoader||(!f.some(N=>N.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||C.hasClientLoader?_=!0:b.add(E.route.id))}),b.size===0)return[];let T=xL(t,l);return _&&b.size>0&&T.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[l,u,r,a,f,e,t,s]),y=w.useMemo(()=>mL(m,a),[m,a]),j=SL(m);return w.createElement(w.Fragment,null,g.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),j.map(({key:b,link:_})=>w.createElement("link",{key:b,..._})))}function TL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WO&&(window.__reactRouterVersion="7.6.3")}catch{}function EL({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=h7({window:n,v5Compat:!0}));let a=r.current,[s,l]=w.useState({action:a.action,location:a.location}),u=w.useCallback(h=>{w.startTransition(()=>l(h))},[l]);return w.useLayoutEffect(()=>a.listen(u),[a,u]),w.createElement(tL,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var YO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XO=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g,...y},j){let{basename:b}=w.useContext(qa),_=typeof f=="string"&&YO.test(f),T,E=!1;if(typeof f=="string"&&_&&(T=f,WO))try{let B=new URL(window.location.href),F=f.startsWith("//")?new URL(B.protocol+f):new URL(f),V=vs(F.pathname,b);F.origin===B.origin&&V!=null?f=V+F.search+F.hash:E=!0}catch{xa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=V7(f,{relative:a}),[N,P,k]=jL(r,y),M=OL(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:g});function O(B){e&&e(B),B.defaultPrevented||M(B)}let D=w.createElement("a",{...y,...k,href:T||C,onClick:E||s?e:O,ref:TL(j,P),target:h,"data-discover":!_&&n==="render"?"true":void 0});return N&&!_?w.createElement(w.Fragment,null,D,w.createElement(wL,{page:C})):D});XO.displayName="Link";var AL=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:u,children:h,...f},m){let g=Af(l,{relative:f.relative}),y=Ti(),j=w.useContext(jv),{navigator:b,basename:_}=w.useContext(qa),T=j!=null&&ML(g)&&u===!0,E=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,C=y.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(C=C.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&_&&(N=vs(N,_)||N);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=C===E||!a&&C.startsWith(E)&&C.charAt(P)==="/",M=N!=null&&(N===E||!a&&N.startsWith(E)&&N.charAt(E.length)==="/"),O={isActive:k,isPending:M,isTransitioning:T},D=k?e:void 0,B;typeof r=="function"?B=r(O):B=[r,k?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(O):s;return w.createElement(XO,{...f,"aria-current":D,className:B,ref:m,style:F,to:l,viewTransition:u},typeof h=="function"?h(O):h)});AL.displayName="NavLink";var NL=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Wp,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...y},j)=>{let b=kL(),_=DL(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&YO.test(u),C=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,k=P?.getAttribute("formmethod")||l;b(P||N.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return w.createElement("form",{ref:j,method:T,action:_,onSubmit:r?h:C,...y,"data-discover":!E&&t==="render"?"true":void 0})});NL.displayName="Form";function CL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QO(t){let e=w.useContext(Gu);return zt(e,CL(t)),e}function OL(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l}={}){let u=Cs(),h=Ti(),f=Af(t,{relative:s});return w.useCallback(m=>{if(sL(m,e)){m.preventDefault();let g=n!==void 0?n:Zh(h)===Zh(f);u(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:l})}},[h,u,f,n,r,e,t,a,s,l])}function PL(t){xa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(U2(t)),n=w.useRef(!1),r=Ti(),a=w.useMemo(()=>oL(r.search,n.current?null:e.current),[r.search]),s=Cs(),l=w.useCallback((u,h)=>{const f=U2(typeof u=="function"?u(a):u);n.current=!0,s("?"+f,h)},[s,a]);return[a,l]}var IL=0,RL=()=>`__${String(++IL)}__`;function kL(){let{router:t}=QO("useSubmit"),{basename:e}=w.useContext(qa),n=Q7();return w.useCallback(async(r,a={})=>{let{action:s,method:l,encType:u,formData:h,body:f}=uL(r,e);if(a.navigate===!1){let m=a.fetcherKey||RL();await t.fetch(m,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function DL(t,{relative:e}={}){let{basename:n}=w.useContext(qa),r=w.useContext(Fa);zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Af(t||".",{relative:e})},l=Ti();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ls([n,s.pathname])),Zh(s)}function ML(t,e={}){let n=w.useContext(VO);zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QO("useViewTransitionState"),a=Af(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=vs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=vs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dg(a.pathname,l)!=null||dg(a.pathname,s)!=null}[...yL];var LL=kO();function Uo(){const t=Cs();return{goTo:(n,r)=>{t(n,r)}}}function jj(t){const e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})}const rt={landing:"/",login:"/login",register:"/register",forgotPassword:"/forgot-password",terms:"/terms",privacy:"/privacy",app:"/app",dashboard:"/app",admin:"/app/admin-users",priorityOptimization:"/app/priority-optimization",settings:"/app/settings",operationalRoutes:"/app/operational-routes",operationalRoutesList:"/app/operational-routes-list",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control",operatorsList:"/app/operators-list",blingIntegration:"/app/bling-integration",userCreation:"/app/user-creation",productManagement:"/app/product-management",reports:"/app/reports",analytics:"/app/analytics",teamManagement:"/app/team-management",scheduling:"/app/scheduling",dataSync:"/app/data-sync",products:"/app/products",productAccessory:"/app/products/accessory",productAviationPlug:"/app/products/aviation-plug",productHvc:"/app/products/hvc",productConnector:"/app/products/connector",productFuseRelayBox:"/app/products/fuse-relay-box",productTerminal:"/app/products/terminal",productRubberParts:"/app/products/rubber-parts",productBackshell:"/app/products/backshell",productManifolds:"/app/products/manifolds",productWireHarness:"/app/products/wire-harness",productPcbConnector:"/app/products/pcb-connector"};function BL(){const[t,e]=w.useState(!1),{goTo:n}=Uo(),r=a=>{a.startsWith("#")?jj(a):n(a)};return i.jsx("header",{className:"header",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"header-content",children:[i.jsx("span",{className:"logo",style:{cursor:"pointer"},onClick:()=>r(rt.landing),children:i.jsx("span",{className:"logo-text",children:"RR Vision Brazil"})}),i.jsxs("nav",{className:`nav ${t?"nav-open":""}`,children:[i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#features"),children:"Recursos"}),i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#about"),children:"Sobre"}),i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#contact"),children:"Contato"})]}),i.jsxs("div",{className:"header-actions",children:[i.jsx(Ge,{variant:"outline",onClick:()=>r(rt.login),children:"Entrar"}),i.jsx(Ge,{variant:"primary",onClick:()=>r(rt.register),children:"Cadastrar"})]}),i.jsxs("button",{className:"menu-toggle",onClick:()=>e(!t),children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})]})})})}function VL(){const{goTo:t}=Uo(),e=n=>{n.startsWith("#")?jj(n):t(n)};return i.jsx("section",{className:"hero",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"hero-content",children:[i.jsxs("div",{className:"hero-text",children:[i.jsx("h1",{className:"hero-title",children:"Automatize seu Controle de Produção Industrial"}),i.jsx("p",{className:"hero-description",children:"Integre dados do ERP Bling com processos internos, otimize a alocação de operadores e monitore a eficiência em tempo real com dashboards dinâmicos e alertas automáticos."}),i.jsxs("div",{className:"hero-actions",children:[i.jsx(Ge,{variant:"primary",size:"large",onClick:()=>e("/register"),children:"Começar Agora"}),i.jsx(Ge,{variant:"outline",size:"large",onClick:()=>e("#features"),children:"Conhecer Recursos"})]})]}),i.jsx("div",{className:"hero-image",children:i.jsxs("div",{className:"dashboard-preview",children:[i.jsx("div",{className:"dashboard-header",children:i.jsxs("div",{className:"dashboard-tabs",children:[i.jsx("div",{className:"tab active",children:"Dashboard"}),i.jsx("div",{className:"tab",children:"Produção"}),i.jsx("div",{className:"tab",children:"Operadores"})]})}),i.jsxs("div",{className:"dashboard-content",children:[i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"87%"}),i.jsx("div",{className:"metric-label",children:"Eficiência"})]}),i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"24"}),i.jsx("div",{className:"metric-label",children:"Ordens Ativas"})]}),i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"156"}),i.jsx("div",{className:"metric-label",children:"Operadores"})]})]})]})})]})})})}var ZO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FE=_o.createContext&&_o.createContext(ZO),UL=["attr","size","title"];function zL(t,e){if(t==null)return{};var n=$L(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $L(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){qL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qL(t,e,n){return e=FL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FL(t){var e=HL(t,"string");return typeof e=="symbol"?e:e+""}function HL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JO(t){return t&&t.map((e,n)=>_o.createElement(e.tag,fg({key:n},e.attr),JO(e.child)))}function ge(t){return e=>_o.createElement(KL,hg({attr:fg({},t.attr)},e),JO(t.child))}function KL(t){var e=n=>{var{attr:r,size:a,title:s}=t,l=zL(t,UL),u=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),_o.createElement("svg",hg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:fg(fg({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&_o.createElement("title",null,s),t.children)};return FE!==void 0?_o.createElement(FE.Consumer,null,n=>e(n)):e(ZO)}function z2(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function GL(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function mg(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function KE(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function WL(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function Gl(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function sc(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function ys(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function GE(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function YL(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function XL(t){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function Nf(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function lr(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Uh(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function WE(t){return ge({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function Fr(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function sr(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function eP(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function $2(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function H1(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function tP(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Ft(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function QL(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function Ba(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function nP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function q2(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function cs(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Yu(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function ZL(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function oc(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function pt(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function JL(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function rP(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Xu(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function vu(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function eB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function aP(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function tB(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(t)}function nB(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function rB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(t)}function aB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function pg(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function ts(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Sv(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function iP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function iB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function sB(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function oB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function lB(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(t)}function F2(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function cB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function uB(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function YE(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(t)}function Jh(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function dB(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 128c35.3 0 64-28.7 64-64S163.3 0 128 0 64 28.7 64 64s28.7 64 64 64zm384 0c35.3 0 64-28.7 64-64S547.3 0 512 0s-64 28.7-64 64 28.7 64 64 64zm127.3 226.5l-45.6-185.8c-3.3-13.5-15.5-23-29.8-24.2-15 9.7-32.8 15.5-52 15.5-19.2 0-37-5.8-52-15.5-14.3 1.2-26.5 10.7-29.8 24.2l-45.6 185.8C381 369.6 393 384 409.2 384H464v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V384h54.8c16.2 0 28.2-14.4 24.5-29.5zM336 0h-32c-8.8 0-16 7.2-16 16v480c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zM180.1 144.4c-15 9.8-32.9 15.6-52.1 15.6-19.2 0-37.1-5.8-52.1-15.6C51.3 146.5 32 166.9 32 192v136c0 13.3 10.7 24 24 24h8v136c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V352h8c13.3 0 24-10.7 24-24V192c0-25.1-19.3-45.5-43.9-47.6z"},child:[]}]})(t)}function XE(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function Nu(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function Cu(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function Va(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function sP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function hB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function fB(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function oP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function mB(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function _v(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function kn(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function lP(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function pB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function $r(t){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ef(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function Wl(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function cP(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function gB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function vB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function yB(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(t)}function uP(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function xB(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function Yl(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function bB(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function ns(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function jB(t){return ge({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function wB(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function SB(){const t=[{icon:i.jsx(kn,{}),title:"Integração ERP Bling",description:"Sincronização automática de dados do ERP para otimizar o planejamento de produção"},{icon:i.jsx(ns,{}),title:"Alocação Inteligente",description:"Distribuição de operadores baseada em habilidades e disponibilidade"},{icon:i.jsx(lr,{}),title:"Dashboards em Tempo Real",description:"Monitoramento da eficiência e produtividade com métricas atualizadas"},{icon:i.jsx(sc,{}),title:"Execução Assistida",description:"Roteiros detalhados para guiar operadores durante a produção"},{icon:i.jsx(Va,{}),title:"Controle de Qualidade",description:"Registro e acompanhamento de não conformidades"},{icon:i.jsx(Gl,{}),title:"Alertas Automáticos",description:"Notificações inteligentes para otimizar o fluxo produtivo"}];return i.jsx("section",{id:"features",className:"features",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Recursos Principais"}),i.jsx("p",{children:"Tudo que você precisa para otimizar sua produção industrial"})]}),i.jsx("div",{className:"features-grid",children:t.map((e,n)=>i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:e.icon}),i.jsx("h3",{className:"feature-title",children:e.title}),i.jsx("p",{className:"feature-description",children:e.description})]},n))})]})})}function _B(){return i.jsx("section",{id:"about",className:"about",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"about-content",children:[i.jsxs("div",{className:"about-text",children:[i.jsx("h2",{children:"Sobre o RR Vision Brazil"}),i.jsx("p",{children:"Nossa plataforma foi desenvolvida especificamente para atender às necessidades da indústria brasileira, oferecendo uma solução completa para automação do controle de produção."}),i.jsx("p",{children:"Com foco na integração de dados e otimização de processos, o RR Vision Brazil permite que gestores e operadores trabalhem de forma mais eficiente, reduzindo custos e aumentando a produtividade."}),i.jsxs("div",{className:"stats",children:[i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"500+"}),i.jsx("div",{className:"stat-label",children:"Empresas Atendidas"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"25%"}),i.jsx("div",{className:"stat-label",children:"Aumento Médio de Eficiência"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"24/7"}),i.jsx("div",{className:"stat-label",children:"Suporte Técnico"})]})]})]}),i.jsx("div",{className:"about-image",children:i.jsxs("div",{className:"process-flow",children:[i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsx("div",{className:"step-title",children:"Planejamento"})]}),i.jsx("div",{className:"flow-arrow",children:"→"}),i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsx("div",{className:"step-title",children:"Execução"})]}),i.jsx("div",{className:"flow-arrow",children:"→"}),i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsx("div",{className:"step-title",children:"Monitoramento"})]})]})})]})})})}function Ye({type:t,name:e,placeholder:n,value:r,onChange:a,required:s=!1,disabled:l=!1,icon:u}){return i.jsxs("div",{className:"input-wrapper",children:[u&&i.jsx("div",{className:"input-icon",children:u}),i.jsx("input",{type:t,name:e,placeholder:n,value:r,onChange:a,required:s,disabled:l,className:`input ${u?"input-with-icon":""}`})]})}function TB(){const[t,e]=w.useState({name:"",email:"",company:"",message:""}),n=a=>{e({...t,[a.target.name]:a.target.value})},r=a=>{a.preventDefault(),console.log("Contact form:",t)};return i.jsx("section",{id:"contact",className:"contact",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Entre em Contato"}),i.jsx("p",{children:"Fale conosco para saber mais sobre o RR Vision Brazil"})]}),i.jsxs("div",{className:"contact-content",children:[i.jsxs("div",{className:"contact-info",children:[i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsxs("div",{children:[i.jsx("h4",{children:"E-mail"}),i.jsx("p",{children:"contato@rrvisionbrazil.com"})]})]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7294C21.7209 20.9846 21.5573 21.2136 21.3521 21.4019C21.1469 21.5902 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0973 21.9454 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3146 6.72533 15.2661 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.09456 3.90347 2.12787 3.62461 2.21649 3.36152C2.30512 3.09843 2.44756 2.85687 2.63483 2.65231C2.8221 2.44775 3.0498 2.28477 3.30349 2.17351C3.55718 2.06225 3.83148 2.00489 4.10999 2.00001H7.10999C7.59522 1.99522 8.06569 2.16708 8.43373 2.48353C8.80177 2.79999 9.04201 3.23945 9.10999 3.72001C9.23662 4.68007 9.47144 5.62273 9.80999 6.53001C9.94454 6.88792 9.97348 7.27675 9.89382 7.65369C9.81416 8.03063 9.62884 8.38332 9.35999 8.67001L8.08999 9.94001C9.51355 12.5795 11.4205 14.4865 14.06 15.91L15.33 14.64C15.6167 14.3712 15.9694 14.1858 16.3463 14.1062C16.7233 14.0265 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),i.jsxs("div",{children:[i.jsx("h4",{children:"Telefone"}),i.jsx("p",{children:"(11) 9999-9999"})]})]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsxs("div",{children:[i.jsx("h4",{children:"Endereço"}),i.jsx("p",{children:"São Paulo, SP - Brasil"})]})]})]}),i.jsxs("form",{onSubmit:r,className:"contact-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsx(Ye,{type:"text",name:"name",placeholder:"Seu nome",value:t.name,onChange:n,required:!0}),i.jsx(Ye,{type:"email",name:"email",placeholder:"Seu e-mail",value:t.email,onChange:n,required:!0})]}),i.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:n,required:!0}),i.jsx("textarea",{name:"message",placeholder:"Sua mensagem",value:t.message,onChange:n,className:"contact-textarea",rows:5,required:!0}),i.jsx(Ge,{type:"submit",variant:"primary",fullWidth:!0,children:"Enviar Mensagem"})]})]})]})})}const EB=new Date().getFullYear(),AB=({theme:t="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:r="to right",backgroundColor:a=t==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:s=t})=>{const l=t==="dark",u=e?{backgroundImage:`linear-gradient(${r}, ${n[0]}, ${n[1]})`}:{backgroundColor:a},h=l?"#ffffff":"#333333",f=s==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return i.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},u),{color:h}),children:[i.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:i.jsx("img",{src:f,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),i.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless © ",EB]})]})};function NB(){const{goTo:t}=Uo(),e=n=>{n.startsWith("#")?jj(n):t(n)};return i.jsx("footer",{className:"footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"footer-content",children:[i.jsxs("div",{className:"footer-section",children:[i.jsx("h3",{children:"RR Vision Brazil"}),i.jsx("p",{children:"Automatizando o controle de produção industrial com tecnologia e inovação."})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Produto"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#features"),children:"Recursos"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/pricing"),children:"Preços"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/demo"),children:"Demo"})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Empresa"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#about"),children:"Sobre"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/careers"),children:"Carreiras"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#contact"),children:"Contato"})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Suporte"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/help"),children:"Ajuda"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/docs"),children:"Documentação"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/support"),children:"Suporte Técnico"})]})]}),i.jsxs("div",{className:"footer-bottom",children:[i.jsx("p",{children:"© 2024 RR Vision Brazil. Todos os direitos reservados."}),i.jsxs("div",{className:"footer-links",children:[i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/privacy"),children:"Privacidade"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/terms"),children:"Termos de Uso"})]})]}),i.jsx(AB,{backgroundColor:"transparent",theme:"dark"})]})})}function CB(){return i.jsxs("div",{className:"app",children:[i.jsx(BL,{}),i.jsx(VL,{}),i.jsx(SB,{}),i.jsx(_B,{}),i.jsx(TB,{}),i.jsx(NB,{})]})}function zh(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function OB(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function H2(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(t)}function wj(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(t)}function PB(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"},child:[]}]})(t)}function IB(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(t)}function RB(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}const kB=()=>{};var QE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},DB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],u=t[n++],h=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},hP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,u=l?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|f>>6,j=f&63;h||(j=64,l||(y=64)),r.push(n[m],n[g],n[y],n[j])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||u==null||f==null||g==null)throw new MB;const y=s<<2|u>>4;if(r.push(y),f!==64){const j=u<<4&240|f>>2;if(r.push(j),g!==64){const b=f<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LB=function(t){const e=dP(t);return hP.encodeByteArray(e,!0)},gg=function(t){return LB(t).replace(/\./g,"")},fP=function(t){try{return hP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=()=>BB().__FIREBASE_DEFAULTS__,UB=()=>{if(typeof process>"u"||typeof QE>"u")return;const t=QE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fP(t[1]);return e&&JSON.parse(e)},Tv=()=>{try{return kB()||VB()||UB()||zB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mP=t=>{var e,n;return(n=(e=Tv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pP=t=>{const e=mP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gP=()=>{var t;return(t=Tv())===null||t===void 0?void 0:t.config},vP=t=>{var e;return(e=Tv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gg(JSON.stringify(n)),gg(JSON.stringify(l)),""].join(".")}const $h={};function qB(){const t={prod:[],emulator:[]};for(const e of Object.keys($h))$h[e]?t.emulator.push(e):t.prod.push(e);return t}function FB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZE=!1;function _j(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||$h[t]===e||$h[t]||ZE)return;$h[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=qB().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,j){y.setAttribute("width","24"),y.setAttribute("id",j),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ZE=!0,l()},y}function m(y,j){y.setAttribute("id",j),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=FB(r),j=n("text"),b=document.getElementById(j)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),C=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;u(N),m(T,_);const P=f();h(C,E),N.append(C,b,T,P),document.body.appendChild(N)}s?(b.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function KB(){var t;const e=(t=Tv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XB(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QB(){return!KB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZB(){try{return typeof indexedDB=="object"}catch{return!1}}function JB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eV,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?tV(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new Ei(a,u,r)}}function tV(t,e){return t.replace(nV,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const nV=/\{\$([^}]+)}/g;function rV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(JE(s)&&JE(l)){if(!Xl(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function JE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ih(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aV(t,e){const n=new iV(t,e);return n.subscribe.bind(n)}class iV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=K1),a.error===void 0&&(a.error=K1),a.complete===void 0&&(a.complete=K1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function K1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class Oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $B;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cV(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lV(t){return t===Ol?void 0:t}function cV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const dV={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},hV=at.INFO,fV={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},mV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=fV[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tj{constructor(e){this.name=e,this._logLevel=hV,this._logHandler=mV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const pV=(t,e)=>e.some(n=>t instanceof n);let eA,tA;function gV(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vV(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xP=new WeakMap,K2=new WeakMap,bP=new WeakMap,G1=new WeakMap,Ej=new WeakMap;function yV(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(To(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xP.set(n,t)}).catch(()=>{}),Ej.set(e,t),e}function xV(t){if(K2.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});K2.set(t,e)}let G2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bV(t){G2=t(G2)}function jV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(W1(this),e,...n);return bP.set(r,e.sort?e.sort():[e]),To(r)}:vV().includes(t)?function(...e){return t.apply(W1(this),e),To(xP.get(this))}:function(...e){return To(t.apply(W1(this),e))}}function wV(t){return typeof t=="function"?jV(t):(t instanceof IDBTransaction&&xV(t),pV(t,gV())?new Proxy(t,G2):t)}function To(t){if(t instanceof IDBRequest)return yV(t);if(G1.has(t))return G1.get(t);const e=wV(t);return e!==t&&(G1.set(t,e),Ej.set(e,t)),e}const W1=t=>Ej.get(t);function SV(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),u=To(l);return r&&l.addEventListener("upgradeneeded",h=>{r(To(l.result),h.oldVersion,h.newVersion,To(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const _V=["get","getKey","getAll","getAllKeys","count"],TV=["put","add","delete","clear"],Y1=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y1.get(e))return Y1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=TV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_V.includes(n)))return;const s=async function(l,...u){const h=this.transaction(l,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),a&&h.done]))[0]};return Y1.set(e,s),s}bV(t=>({...t,get:(e,n,r)=>nA(e,n)||t.get(e,n,r),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AV(t){const e=t.getComponent();return e?.type==="VERSION"}const W2="@firebase/app",rA="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Tj("@firebase/app"),NV="@firebase/app-compat",CV="@firebase/analytics-compat",OV="@firebase/analytics",PV="@firebase/app-check-compat",IV="@firebase/app-check",RV="@firebase/auth",kV="@firebase/auth-compat",DV="@firebase/database",MV="@firebase/data-connect",LV="@firebase/database-compat",BV="@firebase/functions",VV="@firebase/functions-compat",UV="@firebase/installations",zV="@firebase/installations-compat",$V="@firebase/messaging",qV="@firebase/messaging-compat",FV="@firebase/performance",HV="@firebase/performance-compat",KV="@firebase/remote-config",GV="@firebase/remote-config-compat",WV="@firebase/storage",YV="@firebase/storage-compat",XV="@firebase/firestore",QV="@firebase/ai",ZV="@firebase/firestore-compat",JV="firebase",eU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="[DEFAULT]",tU={[W2]:"fire-core",[NV]:"fire-core-compat",[OV]:"fire-analytics",[CV]:"fire-analytics-compat",[IV]:"fire-app-check",[PV]:"fire-app-check-compat",[RV]:"fire-auth",[kV]:"fire-auth-compat",[DV]:"fire-rtdb",[MV]:"fire-data-connect",[LV]:"fire-rtdb-compat",[BV]:"fire-fn",[VV]:"fire-fn-compat",[UV]:"fire-iid",[zV]:"fire-iid-compat",[$V]:"fire-fcm",[qV]:"fire-fcm-compat",[FV]:"fire-perf",[HV]:"fire-perf-compat",[KV]:"fire-rc",[GV]:"fire-rc-compat",[WV]:"fire-gcs",[YV]:"fire-gcs-compat",[XV]:"fire-fst",[ZV]:"fire-fst-compat",[QV]:"fire-vertex","fire-js":"fire-js",[JV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map,nU=new Map,X2=new Map;function aA(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ql(t){const e=t.name;if(X2.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;X2.set(e,t);for(const n of vg.values())aA(n,t);for(const n of nU.values())aA(n,t);return!0}function Ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Cf("app","Firebase",rU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=eU;function jP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Y2,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw Eo.create("bad-app-name",{appName:String(a)});if(n||(n=gP()),!n)throw Eo.create("no-options");const s=vg.get(a);if(s){if(Xl(n,s.options)&&Xl(r,s.config))return s;throw Eo.create("duplicate-app",{appName:a})}const l=new uV(a);for(const h of X2.values())l.addComponent(h);const u=new aU(n,r,l);return vg.set(a,u),u}function Aj(t=Y2){const e=vg.get(t);if(!e&&t===Y2&&gP())return jP();if(!e)throw Eo.create("no-app",{appName:t});return e}function di(t,e,n){var r;let a=(r=tU[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${a}" with version "${e}":`];s&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(u.join(" "));return}Ql(new Oo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="firebase-heartbeat-database",sU=1,tf="firebase-heartbeat-store";let X1=null;function wP(){return X1||(X1=SV(iU,sU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),X1}async function oU(t){try{const n=(await wP()).transaction(tf),r=await n.objectStore(tf).get(SP(t));return await n.done,r}catch(e){if(e instanceof Ei)xs.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e?.message});xs.warn(n.message)}}}async function iA(t,e){try{const r=(await wP()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,SP(t)),await r.done}catch(n){if(n instanceof Ei)xs.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n?.message});xs.warn(r.message)}}}function SP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=1024,cU=30;class uU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>cU){const l=fU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sA(),{heartbeatsToSend:r,unsentEntries:a}=dU(this._heartbeatsCache.heartbeats),s=gg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xs.warn(n),""}}}function sA(){return new Date().toISOString().substring(0,10)}function dU(t,e=lU){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),oA(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),oA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZB()?JB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return iA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return iA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function oA(t){return gg(JSON.stringify({version:2,heartbeats:t})).length}function fU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){Ql(new Oo("platform-logger",e=>new EV(e),"PRIVATE")),Ql(new Oo("heartbeat",e=>new uU(e),"PRIVATE")),di(W2,rA,t),di(W2,rA,"esm2017"),di("fire-js","")}mU("");function Nj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function _P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pU=_P,TP=new Cf("auth","Firebase",_P());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Tj("@firebase/auth");function gU(t,...e){yg.logLevel<=at.WARN&&yg.warn(`Auth (${cc}): ${t}`,...e)}function Xp(t,...e){yg.logLevel<=at.ERROR&&yg.error(`Auth (${cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,...e){throw Cj(t,...e)}function hi(t,...e){return Cj(t,...e)}function EP(t,e,n){const r=Object.assign(Object.assign({},pU()),{[e]:n});return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function us(t){return EP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TP.create(t,...e)}function Le(t,e,...n){if(!t)throw Cj(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xp(e),new Error(e)}function bs(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vU(){return lA()==="http:"||lA()==="https:"}function lA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vU()||WB()||"connection"in navigator)?navigator.onLine:!0}function xU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=HB()||YB()}get(){return yU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wU=new Pf(3e4,6e4);function zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Os(t,e,n,r,a={}){return NP(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Of(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},s);return GB()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(f.credentials="include"),AP.fetch()(await CP(t,t.config.apiHost,n,u),f)})}async function NP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bU),e);try{const a=new _U(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Ep(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ep(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ep(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ep(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw EP(t,m,f);Ua(t,m)}}catch(a){if(a instanceof Ei)throw a;Ua(t,"network-request-failed",{message:String(a)})}}async function If(t,e,n,r,a={}){const s=await Os(t,e,n,r,a);return"mfaPendingCredential"in s&&Ua(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function CP(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?Oj(t.config,a):`${t.config.apiScheme}://${a}`;return jU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function SU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _U{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),wU.get())})}}function Ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=hi(t,e,r);return a.customData._tokenResponse=n,a}function cA(t){return t!==void 0&&t.enterprise!==void 0}class TU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EU(t,e){return Os(t,"GET","/v2/recaptchaConfig",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return Os(t,"POST","/v1/accounts:delete",e)}async function xg(t,e){return Os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NU(t,e=!1){const n=gn(t),r=await n.getIdToken(e),a=Pj(r);Le(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:qh(Q1(a.auth_time)),issuedAtTime:qh(Q1(a.iat)),expirationTime:qh(Q1(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Q1(t){return Number(t)*1e3}function Pj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const a=fP(n);return a?JSON.parse(a):(Xp("Failed to decode base64 JWT payload"),null)}catch(a){return Xp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uA(t){const e=Pj(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&CU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qh(this.lastLoginAt),this.creationTime=qh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Ou(t,xg(n,{idToken:r}));Le(a?.users.length,n,"internal-error");const s=a.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OP(s.providerUserInfo):[],u=IU(t.providerData,l),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!u?.length,m=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Z2(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function PU(t){const e=gn(t);await bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IU(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function OP(t){return t.map(e=>{var{providerId:n}=e,r=Nj(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){const n=await NP(t,{},async()=>{const r=Of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await CP(t,a,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(h.credentials="include"),AP.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kU(t,e){return Os(t,"POST","/v2/accounts:revokeToken",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=uA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await RU(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new ju;return r&&(Le(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(Le(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Da{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,s=Nj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Z2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NU(this,e)}reload(){return PU(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await Ou(this,AU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,s,l,u,h,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(a=n.email)!==null&&a!==void 0?a:void 0,j=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(u=n.tenantId)!==null&&u!==void 0?u:void 0,T=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=n.createdAt)!==null&&f!==void 0?f:void 0,C=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:N,emailVerified:P,isAnonymous:k,providerData:M,stsTokenManager:O}=n;Le(N&&O,e,"internal-error");const D=ju.fromJSON(this.name,O);Le(typeof N=="string",e,"internal-error"),ho(g,e.name),ho(y,e.name),Le(typeof P=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),ho(j,e.name),ho(b,e.name),ho(_,e.name),ho(T,e.name),ho(E,e.name),ho(C,e.name);const B=new Da({uid:N,auth:e,email:y,emailVerified:P,displayName:g,isAnonymous:k,photoURL:b,phoneNumber:j,tenantId:_,stsTokenManager:D,createdAt:E,lastLoginAt:C});return M&&Array.isArray(M)&&(B.providerData=M.map(F=>Object.assign({},F))),T&&(B._redirectEventId=T),B}static async _fromIdTokenResponse(e,n,r=!1){const a=new ju;a.updateFromServerResponse(n);const s=new Da({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Le(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?OP(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new ju;u.updateFromIdToken(r);const h=new Da({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Z2(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map;function as(t){bs(t instanceof Function,"Expected a class definition");let e=dA.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PP.type="NONE";const hA=PP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Qp(this.userKey,a.apiKey,s),this.fullPersistenceKey=Qp("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xg(this.auth,{idToken:e}).catch(()=>{});return n?Da._fromGetAccountInfoResponse(this.auth,n,e):null}return Da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(as(hA),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=a[0]||as(hA);const l=Qp(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const y=await xg(e,{idToken:m}).catch(()=>{});if(!y)break;g=await Da._fromGetAccountInfoResponse(e,y,m)}else g=Da._fromJSON(e,m);f!==s&&(u=g),s=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new wu(s,e,r):(s=h[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new wu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LP(e))return"Blackberry";if(BP(e))return"Webos";if(RP(e))return"Safari";if((e.includes("chrome/")||kP(e))&&!e.includes("edge/"))return"Chrome";if(MP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IP(t=cr()){return/firefox\//i.test(t)}function RP(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kP(t=cr()){return/crios\//i.test(t)}function DP(t=cr()){return/iemobile/i.test(t)}function MP(t=cr()){return/android/i.test(t)}function LP(t=cr()){return/blackberry/i.test(t)}function BP(t=cr()){return/webos/i.test(t)}function Ij(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DU(t=cr()){var e;return Ij(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MU(){return XB()&&document.documentMode===10}function VP(t=cr()){return Ij(t)||MP(t)||BP(t)||LP(t)||/windows phone/i.test(t)||DP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e=[]){let n;switch(t){case"Browser":n=fA(cr());break;case"Worker":n=`${fA(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const h=e(s);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e={}){return Os(t,"GET","/v2/passwordPolicy",zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=6;class UU{constructor(e){var n,r,a,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:VU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,s,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mA(this),this.idTokenSubscription=new mA(this),this.beforeStateQueue=new LU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xg(this,{idToken:e}),r=await Da._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=a?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(a=h.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(us(this));const n=e?gn(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BU(this),n=new UU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&gU(`Error while retrieving App Check token: ${n.error}`),n?.token}}function uc(t){return gn(t)}class mA{constructor(e){this.auth=e,this.observer=null,this.addObserver=aV(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $U(t){Av=t}function zP(t){return Av.loadJS(t)}function qU(){return Av.recaptchaEnterpriseScript}function FU(){return Av.gapiScript}function HU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KU{constructor(){this.enterprise=new GU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WU="recaptcha-enterprise",$P="NO_RECAPTCHA";class YU{constructor(e){this.type=WU,this.auth=uc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{EU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new TU(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function a(s,l,u){const h=window.grecaptcha;cA(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l($P)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KU().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!n&&cA(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=qU();h.length!==0&&(h+=u),zP(h).then(()=>{a(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function pA(t,e,n,r=!1,a=!1){const s=new YU(t);let l;if(a)l=$P;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function J2(t,e,n,r,a){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e){const n=Ev(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Xl(s,e??{}))return a;Ua(a,"already-initialized")}return n.initialize({options:e})}function QU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(as);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZU(t,e,n){const r=uc(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=qP(e),{host:l,port:u}=JU(e),h=u===null?"":`:${u}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Xl(f,r.config.emulator)&&Xl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,lc(l)?(Sj(`${s}//${l}${h}`),_j("Auth",!0)):ez()}function qP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JU(t){const e=qP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:gA(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:gA(l)}}}function gA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ez(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function tz(t,e){return Os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}async function az(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends Rj{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J2(e,n,"signInWithPassword",nz);case"emailLink":return rz(e,{email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J2(e,r,"signUpPassword",tz);case"emailLink":return az(e,{idToken:n,email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="http://localhost";class Zl extends Rj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,s=Nj(n,["providerId","signInMethod"]);if(!r||!a)return null;const l=new Zl(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Su(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Su(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Su(e,n)}buildRequest(){const e={requestUri:iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Of(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oz(t){const e=Ih(Rh(t)).link,n=e?Ih(Rh(e)).deep_link_id:null,r=Ih(Rh(t)).deep_link_id;return(r?Ih(Rh(r)).link:null)||r||n||e||t}class kj{constructor(e){var n,r,a,s,l,u;const h=Ih(Rh(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,g=sz((a=h.mode)!==null&&a!==void 0?a:null);Le(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=oz(e);try{return new kj(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,n){return nf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kj.parseLink(n);return Le(r,"argument-error"),nf._fromEmailAndCode(e,r.code,r.tenantId)}}Qu.PROVIDER_ID="password";Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends FP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Rf{constructor(){super("facebook.com")}static credential(e){return Zl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Rf{constructor(){super("github.com")}static credential(e){return Zl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Rf{constructor(){super("twitter.com")}static credential(e,n){return Zl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e){return If(t,"POST","/v1/accounts:signUp",zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await Da._fromIdTokenResponse(e,r,a),l=vA(r);return new Jl({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=vA(r);return new Jl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function vA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Ei{constructor(e,n,r,a){var s;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,jg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new jg(e,n,r,a)}}function HP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jg._fromErrorAndOperation(t,s,e,r):s})}async function cz(t,e,n=!1){const r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(us(r));const a="reauthenticate";try{const s=await Ou(t,HP(r,a,e,t),n);Le(s.idToken,r,"internal-error");const l=Pj(s.idToken);Le(l,r,"internal-error");const{sub:u}=l;return Le(t.uid===u,r,"user-mismatch"),Jl._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ua(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e,n=!1){if(Ur(t.app))return Promise.reject(us(t));const r="signIn",a=await HP(t,r,e),s=await Jl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function dz(t,e){return KP(uc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t){const e=uc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Dj(t,e,n){if(Ur(t.app))return Promise.reject(us(t));const r=uc(t),l=await J2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lz).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&GP(t),h}),u=await Jl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function hz(t,e,n){return Ur(t.app)?Promise.reject(us(t)):dz(gn(t),Qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return Os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=gn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ou(r,fz(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function mz(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function pz(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function gz(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}function YP(t){return gn(t).signOut()}const wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=1e3,yz=10;class QP extends XP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);MU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,yz):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QP.type="LOCAL";const xz=QP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP extends XP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZP.type="SESSION";const JP=ZP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Nv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async f=>f(n.origin,s)),h=await bz(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,h)=>{const f=Mj("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function wz(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function Sz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _z(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tz(){return eI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebaseLocalStorageDb",Ez=1,Sg="firebaseLocalStorage",nI="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cv(t,e){return t.transaction([Sg],e?"readwrite":"readonly").objectStore(Sg)}function Az(){const t=indexedDB.deleteDatabase(tI);return new kf(t).toPromise()}function eb(){const t=indexedDB.open(tI,Ez);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sg,{keyPath:nI})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sg)?e(r):(r.close(),await Az(),e(await eb()))})})}async function yA(t,e,n){const r=Cv(t,!0).put({[nI]:e,value:n});return new kf(r).toPromise()}async function Nz(t,e){const n=Cv(t,!1).get(e),r=await new kf(n).toPromise();return r===void 0?null:r.value}function xA(t,e){const n=Cv(t,!0).delete(e);return new kf(n).toPromise()}const Cz=800,Oz=3;class rI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nv._getInstance(Tz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sz(),!this.activeServiceWorker)return;this.sender=new jz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eb();return await yA(e,wg,"1"),await xA(e,wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Cv(a,!1).getAll();return new kf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rI.type="LOCAL";const Pz=rI;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){return e?as(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj extends Rj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Su(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Su(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Su(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rz(t){return KP(t.auth,new Lj(t),t.bypassAuthState)}function kz(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),uz(n,new Lj(t),t.bypassAuthState)}async function Dz(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),cz(n,new Lj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rz;case"linkViaPopup":case"linkViaRedirect":return Dz;case"reauthViaPopup":case"reauthViaRedirect":return kz;default:Ua(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Pf(2e3,1e4);class yu extends aI{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,yu.currentPopupAction&&yu.currentPopupAction.cancel(),yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Mj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mz.get())};e()}}yu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="pendingRedirect",Zp=new Map;class Bz extends aI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zp.get(this.auth._key());if(!e){try{const r=await Vz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zp.set(this.auth._key(),e)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vz(t,e){const n=$z(e),r=zz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Uz(t,e){Zp.set(t._key(),e)}function zz(t){return as(t._redirectPersistence)}function $z(t){return Qp(Lz,t.config.apiKey,t.name)}async function qz(t,e,n=!1){if(Ur(t.app))return Promise.reject(us(t));const r=uc(t),a=Iz(r,e),l=await new Bz(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=10*60*1e3;class Hz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iI(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(bA(e))}saveEventToCache(e){this.cachedEventUids.add(bA(e)),this.lastProcessedEventTime=Date.now()}}function bA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Kz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e={}){return Os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yz=/^https?/;async function Xz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gz(t);for(const n of e)try{if(Qz(n))return}catch{}Ua(t,"unauthorized-domain")}function Qz(t){const e=Q2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Yz.test(n))return!1;if(Wz.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Pf(3e4,6e4);function jA(){const t=fi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jz(t){return new Promise((e,n)=>{var r,a,s;function l(){jA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jA(),n(hi(t,"network-request-failed"))},timeout:Zz.get()})}if(!((a=(r=fi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=fi().gapi)===null||s===void 0)&&s.load)l();else{const u=HU("iframefcb");return fi()[u]=()=>{gapi.load?l():n(hi(t,"network-request-failed"))},zP(`${FU()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Jp=null,e})}let Jp=null;function e$(t){return Jp=Jp||Jz(t),Jp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=new Pf(5e3,15e3),n$="__/auth/iframe",r$="emulator/auth/iframe",a$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s$(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oj(e,r$):`https://${t.config.authDomain}/${n$}`,r={apiKey:e.apiKey,appName:t.name,v:cc},a=i$.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Of(r).slice(1)}`}async function o$(t){const e=await e$(t),n=fi().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:s$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a$,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=hi(t,"network-request-failed"),u=fi().setTimeout(()=>{s(l)},t$.get());function h(){fi().clearTimeout(u),a(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c$=500,u$=600,d$="_blank",h$="http://localhost";class wA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f$(t,e,n,r=c$,a=u$){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},l$),{width:r.toString(),height:a.toString(),top:s,left:l}),f=cr().toLowerCase();n&&(u=kP(f)?d$:n),IP(f)&&(e=e||h$,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[j,b])=>`${y}${j}=${b},`,"");if(DU(f)&&u!=="_self")return m$(e||"",u),new wA(null);const g=window.open(e||"",u,m);Le(g,t,"popup-blocked");try{g.focus()}catch{}return new wA(g)}function m$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="__/auth/handler",g$="emulator/auth/handler",v$=encodeURIComponent("fac");async function SA(t,e,n,r,a,s){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cc,eventId:a};if(e instanceof FP){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rV(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Rf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${v$}=${encodeURIComponent(h)}`:"";return`${y$(t)}?${Of(u).slice(1)}${f}`}function y$({config:t}){return t.emulator?Oj(t,g$):`https://${t.authDomain}/${p$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class x${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JP,this._completeRedirectFn=qz,this._overrideRedirectResult=Uz}async _openPopup(e,n,r,a){var s;bs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await SA(e,n,r,Q2(),a);return f$(e,l,Mj())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await SA(e,n,r,Q2(),a);return wz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(bs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o$(e),r=new Hz(e);return n.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Z1,{type:Z1},a=>{var s;const l=(s=a?.[0])===null||s===void 0?void 0:s[Z1];l!==void 0&&n(!!l),Ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Xz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VP()||RP()||Ij()}}const b$=x$;var _A="@firebase/auth",TA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S$(t){Ql(new Oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UP(t)},f=new zU(r,a,s,h);return QU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ql(new Oo("auth-internal",e=>{const n=uc(e.getProvider("auth").getImmediate());return(r=>new j$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(_A,TA,w$(t)),di(_A,TA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=5*60,T$=vP("authIdTokenMaxAge")||_$;let EA=null;const E$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T$)return;const a=n?.token;EA!==a&&(EA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function sI(t=Aj()){const e=Ev(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XU(t,{popupRedirectResolver:b$,persistence:[Pz,xz,JP]}),r=vP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=E$(s.toString());pz(n,l,()=>l(n.currentUser)),mz(n,u=>l(u))}}const a=mP("auth");return a&&ZU(n,`http://${a}`),n}function A$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$U({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=hi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",A$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S$("Browser");var N$="firebase",C$="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(N$,C$,"app");var AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,oI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,D){function B(){}B.prototype=D.prototype,O.D=D.prototype,O.prototype=new B,O.prototype.constructor=O,O.C=function(F,V,L){for(var z=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)z[ve-2]=arguments[ve];return D.prototype[V].apply(F,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,D,B){B||(B=0);var F=Array(16);if(typeof D=="string")for(var V=0;16>V;++V)F[V]=D.charCodeAt(B++)|D.charCodeAt(B++)<<8|D.charCodeAt(B++)<<16|D.charCodeAt(B++)<<24;else for(V=0;16>V;++V)F[V]=D[B++]|D[B++]<<8|D[B++]<<16|D[B++]<<24;D=O.g[0],B=O.g[1],V=O.g[2];var L=O.g[3],z=D+(L^B&(V^L))+F[0]+3614090360&4294967295;D=B+(z<<7&4294967295|z>>>25),z=L+(V^D&(B^V))+F[1]+3905402710&4294967295,L=D+(z<<12&4294967295|z>>>20),z=V+(B^L&(D^B))+F[2]+606105819&4294967295,V=L+(z<<17&4294967295|z>>>15),z=B+(D^V&(L^D))+F[3]+3250441966&4294967295,B=V+(z<<22&4294967295|z>>>10),z=D+(L^B&(V^L))+F[4]+4118548399&4294967295,D=B+(z<<7&4294967295|z>>>25),z=L+(V^D&(B^V))+F[5]+1200080426&4294967295,L=D+(z<<12&4294967295|z>>>20),z=V+(B^L&(D^B))+F[6]+2821735955&4294967295,V=L+(z<<17&4294967295|z>>>15),z=B+(D^V&(L^D))+F[7]+4249261313&4294967295,B=V+(z<<22&4294967295|z>>>10),z=D+(L^B&(V^L))+F[8]+1770035416&4294967295,D=B+(z<<7&4294967295|z>>>25),z=L+(V^D&(B^V))+F[9]+2336552879&4294967295,L=D+(z<<12&4294967295|z>>>20),z=V+(B^L&(D^B))+F[10]+4294925233&4294967295,V=L+(z<<17&4294967295|z>>>15),z=B+(D^V&(L^D))+F[11]+2304563134&4294967295,B=V+(z<<22&4294967295|z>>>10),z=D+(L^B&(V^L))+F[12]+1804603682&4294967295,D=B+(z<<7&4294967295|z>>>25),z=L+(V^D&(B^V))+F[13]+4254626195&4294967295,L=D+(z<<12&4294967295|z>>>20),z=V+(B^L&(D^B))+F[14]+2792965006&4294967295,V=L+(z<<17&4294967295|z>>>15),z=B+(D^V&(L^D))+F[15]+1236535329&4294967295,B=V+(z<<22&4294967295|z>>>10),z=D+(V^L&(B^V))+F[1]+4129170786&4294967295,D=B+(z<<5&4294967295|z>>>27),z=L+(B^V&(D^B))+F[6]+3225465664&4294967295,L=D+(z<<9&4294967295|z>>>23),z=V+(D^B&(L^D))+F[11]+643717713&4294967295,V=L+(z<<14&4294967295|z>>>18),z=B+(L^D&(V^L))+F[0]+3921069994&4294967295,B=V+(z<<20&4294967295|z>>>12),z=D+(V^L&(B^V))+F[5]+3593408605&4294967295,D=B+(z<<5&4294967295|z>>>27),z=L+(B^V&(D^B))+F[10]+38016083&4294967295,L=D+(z<<9&4294967295|z>>>23),z=V+(D^B&(L^D))+F[15]+3634488961&4294967295,V=L+(z<<14&4294967295|z>>>18),z=B+(L^D&(V^L))+F[4]+3889429448&4294967295,B=V+(z<<20&4294967295|z>>>12),z=D+(V^L&(B^V))+F[9]+568446438&4294967295,D=B+(z<<5&4294967295|z>>>27),z=L+(B^V&(D^B))+F[14]+3275163606&4294967295,L=D+(z<<9&4294967295|z>>>23),z=V+(D^B&(L^D))+F[3]+4107603335&4294967295,V=L+(z<<14&4294967295|z>>>18),z=B+(L^D&(V^L))+F[8]+1163531501&4294967295,B=V+(z<<20&4294967295|z>>>12),z=D+(V^L&(B^V))+F[13]+2850285829&4294967295,D=B+(z<<5&4294967295|z>>>27),z=L+(B^V&(D^B))+F[2]+4243563512&4294967295,L=D+(z<<9&4294967295|z>>>23),z=V+(D^B&(L^D))+F[7]+1735328473&4294967295,V=L+(z<<14&4294967295|z>>>18),z=B+(L^D&(V^L))+F[12]+2368359562&4294967295,B=V+(z<<20&4294967295|z>>>12),z=D+(B^V^L)+F[5]+4294588738&4294967295,D=B+(z<<4&4294967295|z>>>28),z=L+(D^B^V)+F[8]+2272392833&4294967295,L=D+(z<<11&4294967295|z>>>21),z=V+(L^D^B)+F[11]+1839030562&4294967295,V=L+(z<<16&4294967295|z>>>16),z=B+(V^L^D)+F[14]+4259657740&4294967295,B=V+(z<<23&4294967295|z>>>9),z=D+(B^V^L)+F[1]+2763975236&4294967295,D=B+(z<<4&4294967295|z>>>28),z=L+(D^B^V)+F[4]+1272893353&4294967295,L=D+(z<<11&4294967295|z>>>21),z=V+(L^D^B)+F[7]+4139469664&4294967295,V=L+(z<<16&4294967295|z>>>16),z=B+(V^L^D)+F[10]+3200236656&4294967295,B=V+(z<<23&4294967295|z>>>9),z=D+(B^V^L)+F[13]+681279174&4294967295,D=B+(z<<4&4294967295|z>>>28),z=L+(D^B^V)+F[0]+3936430074&4294967295,L=D+(z<<11&4294967295|z>>>21),z=V+(L^D^B)+F[3]+3572445317&4294967295,V=L+(z<<16&4294967295|z>>>16),z=B+(V^L^D)+F[6]+76029189&4294967295,B=V+(z<<23&4294967295|z>>>9),z=D+(B^V^L)+F[9]+3654602809&4294967295,D=B+(z<<4&4294967295|z>>>28),z=L+(D^B^V)+F[12]+3873151461&4294967295,L=D+(z<<11&4294967295|z>>>21),z=V+(L^D^B)+F[15]+530742520&4294967295,V=L+(z<<16&4294967295|z>>>16),z=B+(V^L^D)+F[2]+3299628645&4294967295,B=V+(z<<23&4294967295|z>>>9),z=D+(V^(B|~L))+F[0]+4096336452&4294967295,D=B+(z<<6&4294967295|z>>>26),z=L+(B^(D|~V))+F[7]+1126891415&4294967295,L=D+(z<<10&4294967295|z>>>22),z=V+(D^(L|~B))+F[14]+2878612391&4294967295,V=L+(z<<15&4294967295|z>>>17),z=B+(L^(V|~D))+F[5]+4237533241&4294967295,B=V+(z<<21&4294967295|z>>>11),z=D+(V^(B|~L))+F[12]+1700485571&4294967295,D=B+(z<<6&4294967295|z>>>26),z=L+(B^(D|~V))+F[3]+2399980690&4294967295,L=D+(z<<10&4294967295|z>>>22),z=V+(D^(L|~B))+F[10]+4293915773&4294967295,V=L+(z<<15&4294967295|z>>>17),z=B+(L^(V|~D))+F[1]+2240044497&4294967295,B=V+(z<<21&4294967295|z>>>11),z=D+(V^(B|~L))+F[8]+1873313359&4294967295,D=B+(z<<6&4294967295|z>>>26),z=L+(B^(D|~V))+F[15]+4264355552&4294967295,L=D+(z<<10&4294967295|z>>>22),z=V+(D^(L|~B))+F[6]+2734768916&4294967295,V=L+(z<<15&4294967295|z>>>17),z=B+(L^(V|~D))+F[13]+1309151649&4294967295,B=V+(z<<21&4294967295|z>>>11),z=D+(V^(B|~L))+F[4]+4149444226&4294967295,D=B+(z<<6&4294967295|z>>>26),z=L+(B^(D|~V))+F[11]+3174756917&4294967295,L=D+(z<<10&4294967295|z>>>22),z=V+(D^(L|~B))+F[2]+718787259&4294967295,V=L+(z<<15&4294967295|z>>>17),z=B+(L^(V|~D))+F[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(V+(z<<21&4294967295|z>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+L&4294967295}r.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var B=D-this.blockSize,F=this.B,V=this.h,L=0;L<D;){if(V==0)for(;L<=B;)a(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<D;)if(F[V++]=O.charCodeAt(L++),V==this.blockSize){a(this,F),V=0;break}}else for(;L<D;)if(F[V++]=O[L++],V==this.blockSize){a(this,F),V=0;break}}this.h=V,this.o+=D},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var B=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=B&255,B/=256;for(this.u(O),O=Array(16),D=B=0;4>D;++D)for(var F=0;32>F;F+=8)O[B++]=this.g[D]>>>F&255;return O};function s(O,D){var B=u;return Object.prototype.hasOwnProperty.call(B,O)?B[O]:B[O]=D(O)}function l(O,D){this.h=D;for(var B=[],F=!0,V=O.length-1;0<=V;V--){var L=O[V]|0;F&&L==D||(B[V]=L,F=!1)}this.g=B}var u={};function h(O){return-128<=O&&128>O?s(O,function(D){return new l([D|0],0>D?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return T(f(-O));for(var D=[],B=1,F=0;O>=B;F++)D[F]=O/B|0,B*=4294967296;return new l(D,0)}function m(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return T(m(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=f(Math.pow(D,8)),F=g,V=0;V<O.length;V+=8){var L=Math.min(8,O.length-V),z=parseInt(O.substring(V,V+L),D);8>L?(L=f(Math.pow(D,L)),F=F.j(L).add(f(z))):(F=F.j(B),F=F.add(f(z)))}return F}var g=h(0),y=h(1),j=h(16777216);t=l.prototype,t.m=function(){if(_(this))return-T(this).m();for(var O=0,D=1,B=0;B<this.g.length;B++){var F=this.i(B);O+=(0<=F?F:4294967296+F)*D,D*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(_(this))return"-"+T(this).toString(O);for(var D=f(Math.pow(O,6)),B=this,F="";;){var V=P(B,D).g;B=E(B,V.j(D));var L=((0<B.g.length?B.g[0]:B.h)>>>0).toString(O);if(B=V,b(B))return L+F;for(;6>L.length;)L="0"+L;F=L+F}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function _(O){return O.h==-1}t.l=function(O){return O=E(this,O),_(O)?-1:b(O)?0:1};function T(O){for(var D=O.g.length,B=[],F=0;F<D;F++)B[F]=~O.g[F];return new l(B,~O.h).add(y)}t.abs=function(){return _(this)?T(this):this},t.add=function(O){for(var D=Math.max(this.g.length,O.g.length),B=[],F=0,V=0;V<=D;V++){var L=F+(this.i(V)&65535)+(O.i(V)&65535),z=(L>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);F=z>>>16,L&=65535,z&=65535,B[V]=z<<16|L}return new l(B,B[B.length-1]&-2147483648?-1:0)};function E(O,D){return O.add(T(D))}t.j=function(O){if(b(this)||b(O))return g;if(_(this))return _(O)?T(this).j(T(O)):T(T(this).j(O));if(_(O))return T(this.j(T(O)));if(0>this.l(j)&&0>O.l(j))return f(this.m()*O.m());for(var D=this.g.length+O.g.length,B=[],F=0;F<2*D;F++)B[F]=0;for(F=0;F<this.g.length;F++)for(var V=0;V<O.g.length;V++){var L=this.i(F)>>>16,z=this.i(F)&65535,ve=O.i(V)>>>16,he=O.i(V)&65535;B[2*F+2*V]+=z*he,C(B,2*F+2*V),B[2*F+2*V+1]+=L*he,C(B,2*F+2*V+1),B[2*F+2*V+1]+=z*ve,C(B,2*F+2*V+1),B[2*F+2*V+2]+=L*ve,C(B,2*F+2*V+2)}for(F=0;F<D;F++)B[F]=B[2*F+1]<<16|B[2*F];for(F=D;F<2*D;F++)B[F]=0;return new l(B,0)};function C(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function N(O,D){this.g=O,this.h=D}function P(O,D){if(b(D))throw Error("division by zero");if(b(O))return new N(g,g);if(_(O))return D=P(T(O),D),new N(T(D.g),T(D.h));if(_(D))return D=P(O,T(D)),new N(T(D.g),D.h);if(30<O.g.length){if(_(O)||_(D))throw Error("slowDivide_ only works with positive integers.");for(var B=y,F=D;0>=F.l(O);)B=k(B),F=k(F);var V=M(B,1),L=M(F,1);for(F=M(F,2),B=M(B,2);!b(F);){var z=L.add(F);0>=z.l(O)&&(V=V.add(B),L=z),F=M(F,1),B=M(B,1)}return D=E(O,V.j(D)),new N(V,D)}for(V=g;0<=O.l(D);){for(B=Math.max(1,Math.floor(O.m()/D.m())),F=Math.ceil(Math.log(B)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),L=f(B),z=L.j(D);_(z)||0<z.l(O);)B-=F,L=f(B),z=L.j(D);b(L)&&(L=y),V=V.add(L),O=E(O,z)}return new N(V,O)}t.A=function(O){return P(this,O).h},t.and=function(O){for(var D=Math.max(this.g.length,O.g.length),B=[],F=0;F<D;F++)B[F]=this.i(F)&O.i(F);return new l(B,this.h&O.h)},t.or=function(O){for(var D=Math.max(this.g.length,O.g.length),B=[],F=0;F<D;F++)B[F]=this.i(F)|O.i(F);return new l(B,this.h|O.h)},t.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),B=[],F=0;F<D;F++)B[F]=this.i(F)^O.i(F);return new l(B,this.h^O.h)};function k(O){for(var D=O.g.length+1,B=[],F=0;F<D;F++)B[F]=O.i(F)<<1|O.i(F-1)>>>31;return new l(B,O.h)}function M(O,D){var B=D>>5;D%=32;for(var F=O.g.length-B,V=[],L=0;L<F;L++)V[L]=0<D?O.i(L+B)>>>D|O.i(L+B+1)<<32-D:O.i(L+B);return new l(V,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Ao=l}).apply(typeof AA<"u"?AA:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lI,kh,cI,eg,tb,uI,dI,hI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,A,I){return v==Array.prototype||v==Object.prototype||(v[A]=I.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var A=0;A<v.length;++A){var I=v[A];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function a(v,A){if(A)e:{var I=r;v=v.split(".");for(var $=0;$<v.length-1;$++){var Z=v[$];if(!(Z in I))break e;I=I[Z]}v=v[v.length-1],$=I[v],A=A($),A!=$&&A!=null&&e(I,v,{configurable:!0,writable:!0,value:A})}}function s(v,A){v instanceof String&&(v+="");var I=0,$=!1,Z={next:function(){if(!$&&I<v.length){var se=I++;return{value:A(se,v[se]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(v){return v||function(){return s(this,function(A,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(v){var A=typeof v;return A=A!="object"?A:v?Array.isArray(v)?"array":A:"null",A=="array"||A=="object"&&typeof v.length=="number"}function f(v){var A=typeof v;return A=="object"&&v!=null||A=="function"}function m(v,A,I){return v.call.apply(v.bind,arguments)}function g(v,A,I){if(!v)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,$),v.apply(A,Z)}}return function(){return v.apply(A,arguments)}}function y(v,A,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function j(v,A){var I=Array.prototype.slice.call(arguments,1);return function(){var $=I.slice();return $.push.apply($,arguments),v.apply(this,$)}}function b(v,A){function I(){}I.prototype=A.prototype,v.aa=A.prototype,v.prototype=new I,v.prototype.constructor=v,v.Qb=function($,Z,se){for(var xe=Array(arguments.length-2),st=2;st<arguments.length;st++)xe[st-2]=arguments[st];return A.prototype[Z].apply($,xe)}}function _(v){const A=v.length;if(0<A){const I=Array(A);for(let $=0;$<A;$++)I[$]=v[$];return I}return[]}function T(v,A){for(let I=1;I<arguments.length;I++){const $=arguments[I];if(h($)){const Z=v.length||0,se=$.length||0;v.length=Z+se;for(let xe=0;xe<se;xe++)v[Z+xe]=$[xe]}else v.push($)}}class E{constructor(A,I){this.i=A,this.j=I,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function C(v){return/^[\s\xa0]*$/.test(v)}function N(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function P(v){return P[" "](v),v}P[" "]=function(){};var k=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function M(v,A,I){for(const $ in v)A.call(I,v[$],$,v)}function O(v,A){for(const I in v)A.call(void 0,v[I],I,v)}function D(v){const A={};for(const I in v)A[I]=v[I];return A}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(v,A){let I,$;for(let Z=1;Z<arguments.length;Z++){$=arguments[Z];for(I in $)v[I]=$[I];for(let se=0;se<B.length;se++)I=B[se],Object.prototype.hasOwnProperty.call($,I)&&(v[I]=$[I])}}function V(v){var A=1;v=v.split(":");const I=[];for(;0<A&&v.length;)I.push(v.shift()),A--;return v.length&&I.push(v.join(":")),I}function L(v){u.setTimeout(()=>{throw v},0)}function z(){var v=be;let A=null;return v.g&&(A=v.g,v.g=v.g.next,v.g||(v.h=null),A.next=null),A}class ve{constructor(){this.h=this.g=null}add(A,I){const $=he.get();$.set(A,I),this.h?this.h.next=$:this.g=$,this.h=$}}var he=new E(()=>new Q,v=>v.reset());class Q{constructor(){this.next=this.g=this.h=null}set(A,I){this.h=A,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,be=new ve,H=()=>{const v=u.Promise.resolve(void 0);oe=()=>{v.then(G)}};var G=()=>{for(var v;v=z();){try{v.h.call(v.g)}catch(I){L(I)}var A=he;A.j(v),100>A.h&&(A.h++,v.next=A.g,A.g=v)}ae=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(v,A){this.type=v,this.g=this.target=A,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,A=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const I=()=>{};u.addEventListener("test",I,A),u.removeEventListener("test",I,A)}catch{}return v}();function je(v,A){if(Y.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var I=this.type=v.type,$=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=A,A=v.relatedTarget){if(k){e:{try{P(A.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(A=null)}}else I=="mouseover"?A=v.fromElement:I=="mouseout"&&(A=v.toElement);this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:_e[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&je.aa.h.call(this)}}b(je,Y);var _e={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ye(v,A,I,$,Z){this.listener=v,this.proxy=null,this.src=A,this.type=I,this.capture=!!$,this.ha=Z,this.key=++qe,this.da=this.fa=!1}function Me(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function le(v){this.src=v,this.g={},this.h=0}le.prototype.add=function(v,A,I,$,Z){var se=v.toString();v=this.g[se],v||(v=this.g[se]=[],this.h++);var xe=Ee(v,A,$,Z);return-1<xe?(A=v[xe],I||(A.fa=!1)):(A=new ye(A,this.src,se,!!$,Z),A.fa=I,v.push(A)),A};function J(v,A){var I=A.type;if(I in v.g){var $=v.g[I],Z=Array.prototype.indexOf.call($,A,void 0),se;(se=0<=Z)&&Array.prototype.splice.call($,Z,1),se&&(Me(A),v.g[I].length==0&&(delete v.g[I],v.h--))}}function Ee(v,A,I,$){for(var Z=0;Z<v.length;++Z){var se=v[Z];if(!se.da&&se.listener==A&&se.capture==!!I&&se.ha==$)return Z}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ve={};function Re(v,A,I,$,Z){if(Array.isArray(A)){for(var se=0;se<A.length;se++)Re(v,A[se],I,$,Z);return null}return I=nm(I),v&&v[He]?v.K(A,I,f($)?!!$.capture:!1,Z):nt(v,A,I,!1,$,Z)}function nt(v,A,I,$,Z,se){if(!A)throw Error("Invalid event type");var xe=f(Z)?!!Z.capture:!!Z,st=Ms(v);if(st||(v[we]=st=new le(v)),I=st.add(A,I,$,xe,se),I.proxy)return I;if($=Xn(),I.proxy=$,$.src=v,$.listener=I,v.addEventListener)pe||(Z=xe),Z===void 0&&(Z=!1),v.addEventListener(A.toString(),$,Z);else if(v.attachEvent)v.attachEvent(Ta(A.toString()),$);else if(v.addListener&&v.removeListener)v.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Xn(){function v(I){return A.call(v.src,v.listener,I)}const A=fd;return v}function Er(v,A,I,$,Z){if(Array.isArray(A))for(var se=0;se<A.length;se++)Er(v,A[se],I,$,Z);else $=f($)?!!$.capture:!!$,I=nm(I),v&&v[He]?(v=v.i,A=String(A).toString(),A in v.g&&(se=v.g[A],I=Ee(se,I,$,Z),-1<I&&(Me(se[I]),Array.prototype.splice.call(se,I,1),se.length==0&&(delete v.g[A],v.h--)))):v&&(v=Ms(v))&&(A=v.g[A.toString()],v=-1,A&&(v=Ee(A,I,$,Z)),(I=-1<v?A[v]:null)&&Lt(I))}function Lt(v){if(typeof v!="number"&&v&&!v.da){var A=v.src;if(A&&A[He])J(A.i,v);else{var I=v.type,$=v.proxy;A.removeEventListener?A.removeEventListener(I,$,v.capture):A.detachEvent?A.detachEvent(Ta(I),$):A.addListener&&A.removeListener&&A.removeListener($),(I=Ms(A))?(J(I,v),I.h==0&&(I.src=null,A[we]=null)):Me(v)}}}function Ta(v){return v in Ve?Ve[v]:Ve[v]="on"+v}function fd(v,A){if(v.da)v=!0;else{A=new je(A,this);var I=v.listener,$=v.ha||v.src;v.fa&&Lt(v),v=I.call($,A)}return v}function Ms(v){return v=v[we],v instanceof le?v:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function nm(v){return typeof v=="function"?v:(v[md]||(v[md]=function(A){return v.handleEvent(A)}),v[md])}function Wt(){q.call(this),this.i=new le(this),this.M=this,this.F=null}b(Wt,q),Wt.prototype[He]=!0,Wt.prototype.removeEventListener=function(v,A,I,$){Er(this,v,A,I,$)};function xt(v,A){var I,$=v.F;if($)for(I=[];$;$=$.F)I.push($);if(v=v.M,$=A.type||A,typeof A=="string")A=new Y(A,v);else if(A instanceof Y)A.target=A.target||v;else{var Z=A;A=new Y($,v),F(A,Z)}if(Z=!0,I)for(var se=I.length-1;0<=se;se--){var xe=A.g=I[se];Z=Ar(xe,$,!0,A)&&Z}if(xe=A.g=v,Z=Ar(xe,$,!0,A)&&Z,Z=Ar(xe,$,!1,A)&&Z,I)for(se=0;se<I.length;se++)xe=A.g=I[se],Z=Ar(xe,$,!1,A)&&Z}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var v=this.i,A;for(A in v.g){for(var I=v.g[A],$=0;$<I.length;$++)Me(I[$]);delete v.g[A],v.h--}}this.F=null},Wt.prototype.K=function(v,A,I,$){return this.i.add(String(v),A,!1,I,$)},Wt.prototype.L=function(v,A,I,$){return this.i.add(String(v),A,!0,I,$)};function Ar(v,A,I,$){if(A=v.i.g[String(A)],!A)return!0;A=A.concat();for(var Z=!0,se=0;se<A.length;++se){var xe=A[se];if(xe&&!xe.da&&xe.capture==I){var st=xe.listener,yn=xe.ha||xe.src;xe.fa&&J(v.i,xe),Z=st.call(yn,$)!==!1&&Z}}return Z&&!$.defaultPrevented}function Qn(v,A,I){if(typeof v=="function")I&&(v=y(v,I));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(v,A||0)}function rm(v){v.g=Qn(()=>{v.g=null,v.i&&(v.i=!1,rm(v))},v.l);const A=v.h;v.h=null,v.m.apply(null,A)}class Vy extends q{constructor(A,I){super(),this.m=A,this.l=I,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:rm(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(v){q.call(this),this.h=v,this.g={}}b(Qo,q);var Zo=[];function Jo(v){M(v.g,function(A,I){this.g.hasOwnProperty(I)&&Lt(A)},v),v.g={}}Qo.prototype.N=function(){Qo.aa.N.call(this),Jo(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=u.JSON.stringify,jc=u.JSON.parse,el=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function pd(){}pd.prototype.h=null;function gd(v){return v.h||(v.h=v.i())}function vd(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){Y.call(this,"d")}b(Ci,Y);function yd(){Y.call(this,"c")}b(yd,Y);var Ga={},xd=null;function Ls(){return xd=xd||new Wt}Ga.La="serverreachability";function wc(v){Y.call(this,Ga.La,v)}b(wc,Y);function Bs(v){const A=Ls();xt(A,new wc(A))}Ga.STAT_EVENT="statevent";function am(v,A){Y.call(this,Ga.STAT_EVENT,v),this.stat=A}b(am,Y);function Bt(v){const A=Ls();xt(A,new am(A,v))}Ga.Ma="timingevent";function vn(v,A){Y.call(this,Ga.Ma,v),this.size=A}b(vn,Y);function sn(v,A){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},A)}function Zr(){this.g=!0}Zr.prototype.xa=function(){this.g=!1};function bd(v,A,I,$,Z,se){v.info(function(){if(v.g)if(se)for(var xe="",st=se.split("&"),yn=0;yn<st.length;yn++){var ot=st[yn].split("=");if(1<ot.length){var An=ot[0];ot=ot[1];var xn=An.split("_");xe=2<=xn.length&&xn[1]=="type"?xe+(An+"="+ot+"&"):xe+(An+"=redacted&")}}else xe=null;else xe=se;return"XMLHTTP REQ ("+$+") [attempt "+Z+"]: "+A+`
`+I+`
`+xe})}function Uy(v,A,I,$,Z,se,xe){v.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Z+"]: "+A+`
`+I+`
`+se+" "+xe})}function Vs(v,A,I,$){v.info(function(){return"XMLHTTP TEXT ("+A+"): "+tl(v,I)+($?" "+$:"")})}function im(v,A){v.info(function(){return"TIMEOUT: "+A})}Zr.prototype.info=function(){};function tl(v,A){if(!v.g)return A;if(!A)return null;try{var I=JSON.parse(A);if(I){for(v=0;v<I.length;v++)if(Array.isArray(I[v])){var $=I[v];if(!(2>$.length)){var Z=$[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var xe=1;xe<Z.length;xe++)Z[xe]=""}}}}return Ea(I)}catch{return A}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wa;function Ya(){}b(Ya,pd),Ya.prototype.g=function(){return new XMLHttpRequest},Ya.prototype.i=function(){return{}},Wa=new Ya;function dr(v,A,I,$){this.j=v,this.i=A,this.l=I,this.R=$||1,this.U=new Qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zt}function Zt(){this.i=null,this.g="",this.h=!1}var jd={},Sc={};function Aa(v,A,I){v.L=1,v.v=sl(Nr(A)),v.m=I,v.P=!0,Pi(v,null)}function Pi(v,A){v.F=Date.now(),nl(v),v.A=Nr(v.v);var I=v.A,$=v.R;Array.isArray($)||($=[String($)]),Ad(I.i,"t",$),v.C=0,I=v.j.J,v.h=new Zt,v.g=jm(v.j,I?A:null,!v.m),0<v.O&&(v.M=new Vy(y(v.Y,v,v.g),v.O)),A=v.U,I=v.g,$=v.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Zo[0]=Z.toString()),Z=Zo);for(var se=0;se<Z.length;se++){var xe=Re(I,Z[se],$||A.handleEvent,!1,A.h||A);if(!xe)break;A.g[xe.key]=xe}A=v.H?D(v.H):{},v.m?(v.u||(v.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,A)):(v.u="GET",v.g.ea(v.A,v.u,null,A)),Bs(),bd(v.i,v.u,v.A,v.l,v.R,v.m)}dr.prototype.ca=function(v){v=v.target;const A=this.M;A&&na(v)==3?A.j():this.Y(v)},dr.prototype.Y=function(v){try{if(v==this.g)e:{const xn=na(this.g);var A=this.g.Ba();const Vi=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||fm(this.g)))){this.J||xn!=4||A==7||(A==8||0>=Vi?Bs(3):Bs(2)),zs(this);var I=this.g.Z();this.X=I;t:if(sm(this)){var $=fm(this.g);v="";var Z=$.length,se=na(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Xa(this);var xe="";break t}this.h.i=new u.TextDecoder}for(A=0;A<Z;A++)this.h.h=!0,v+=this.h.i.decode($[A],{stream:!(se&&A==Z-1)});$.length=0,this.h.g+=v,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=I==200,Uy(this.i,this.u,this.A,this.l,this.R,xn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var st,yn=this.g;if((st=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(st)){var ot=st;break t}}ot=null}if(I=ot)Vs(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rl(this,I);else{this.o=!1,this.s=3,Bt(12),Bn(this),Xa(this);break e}}if(this.P){I=!0;let Vn;for(;!this.J&&this.C<xe.length;)if(Vn=om(this,xe),Vn==Sc){xn==4&&(this.s=4,Bt(14),I=!1),Vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==jd){this.s=4,Bt(15),Vs(this.i,this.l,xe,"[Invalid Chunk]"),I=!1;break}else Vs(this.i,this.l,Vn,null),rl(this,Vn);if(sm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||xe.length!=0||this.h.h||(this.s=1,Bt(16),I=!1),this.o=this.o&&I,!I)Vs(this.i,this.l,xe,"[Invalid Chunked Response]"),Bn(this),Xa(this);else if(0<xe.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),ml(An),An.M=!0,Bt(11))}}else Vs(this.i,this.l,xe,null),rl(this,xe);xn==4&&Bn(this),this.o&&!this.J&&(xn==4?ym(this.j,this):(this.o=!1,nl(this)))}else Hy(this.g),I==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Bn(this),Xa(this)}}}catch{}finally{}};function sm(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function om(v,A){var I=v.C,$=A.indexOf(`
`,I);return $==-1?Sc:(I=Number(A.substring(I,$)),isNaN(I)?jd:($+=1,$+I>A.length?Sc:(A=A.slice($,$+I),v.C=$+I,A)))}dr.prototype.cancel=function(){this.J=!0,Bn(this)};function nl(v){v.S=Date.now()+v.I,lm(v,v.I)}function lm(v,A){if(v.B!=null)throw Error("WatchDog timer not null");v.B=sn(y(v.ba,v),A)}function zs(v){v.B&&(u.clearTimeout(v.B),v.B=null)}dr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(im(this.i,this.A),this.L!=2&&(Bs(),Bt(17)),Bn(this),this.s=2,Xa(this)):lm(this,this.S-v)};function Xa(v){v.j.G==0||v.J||ym(v.j,v)}function Bn(v){zs(v);var A=v.M;A&&typeof A.ma=="function"&&A.ma(),v.M=null,Jo(v.U),v.g&&(A=v.g,v.g=null,A.abort(),A.ma())}function rl(v,A){try{var I=v.j;if(I.G!=0&&(I.g==v||wd(I.h,v))){if(!v.K&&wd(I.h,v)&&I.G==3){try{var $=I.Da.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var Z=$;if(Z[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<v.F)Dc(I),Rc(I);else break e;Id(I),Bt(18)}}else I.za=Z[1],0<I.za-I.T&&37500>Z[2]&&I.F&&I.v==0&&!I.C&&(I.C=sn(y(I.Za,I),6e3));if(1>=Tc(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Bi(I,11)}else if((v.K||I.g==v)&&Dc(I),!C(A))for(Z=I.Da.g.parse(A),A=0;A<Z.length;A++){let ot=Z[A];if(I.T=ot[0],ot=ot[1],I.G==2)if(ot[0]=="c"){I.K=ot[1],I.ia=ot[2];const An=ot[3];An!=null&&(I.la=An,I.j.info("VER="+I.la));const xn=ot[4];xn!=null&&(I.Aa=xn,I.j.info("SVER="+I.Aa));const Vi=ot[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&($=1.5*Vi,I.L=$,I.j.info("backChannelRequestTimeoutMs_="+$)),$=I;const Vn=v.g;if(Vn){const ri=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var se=$.h;se.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ec(se,se.h),se.h=null))}if($.D){const kd=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&($.ya=kd,_t($.I,$.D,kd))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-v.F,I.j.info("Handshake RTT: "+I.R+"ms")),$=I;var xe=v;if($.qa=bm($,$.J?$.ia:null,$.W),xe.K){hr($.h,xe);var st=xe,yn=$.L;yn&&(st.I=yn),st.B&&(zs(st),nl(st)),$.g=xe}else gm($);0<I.i.length&&kc(I)}else ot[0]!="stop"&&ot[0]!="close"||Bi(I,7);else I.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Bi(I,7):Od(I):ot[0]!="noop"&&I.l&&I.l.ta(ot),I.v=0)}}Bs(4)}catch{}}var cm=class{constructor(v,A){this.g=v,this.map=A}};function Ii(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _c(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Tc(v){return v.h?1:v.g?v.g.size:0}function wd(v,A){return v.h?v.h==A:v.g?v.g.has(A):!1}function Ec(v,A){v.g?v.g.add(A):v.h=A}function hr(v,A){v.h&&v.h==A?v.h=null:v.g&&v.g.has(A)&&v.g.delete(A)}Ii.prototype.cancel=function(){if(this.i=Sd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Sd(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let A=v.i;for(const I of v.g.values())A=A.concat(I.D);return A}return _(v.i)}function zy(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(h(v)){for(var A=[],I=v.length,$=0;$<I;$++)A.push(v[$]);return A}A=[],I=0;for($ in v)A[I++]=v[$];return A}function Ac(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(h(v)||typeof v=="string"){var A=[];v=v.length;for(var I=0;I<v;I++)A.push(I);return A}A=[],I=0;for(const $ in v)A[I++]=$;return A}}}function _d(v,A){if(v.forEach&&typeof v.forEach=="function")v.forEach(A,void 0);else if(h(v)||typeof v=="string")Array.prototype.forEach.call(v,A,void 0);else for(var I=Ac(v),$=zy(v),Z=$.length,se=0;se<Z;se++)A.call(void 0,$[se],I&&I[se],v)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(v,A){if(v){v=v.split("&");for(var I=0;I<v.length;I++){var $=v[I].indexOf("="),Z=null;if(0<=$){var se=v[I].substring(0,$);Z=v[I].substring($+1)}else se=v[I];A(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function on(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof on){this.h=v.h,il(this,v.j),this.o=v.o,this.g=v.g,$s(this,v.s),this.l=v.l;var A=v.i,I=new ki;I.i=A.i,A.g&&(I.g=new Map(A.g),I.h=A.h),Ri(this,I),this.m=v.m}else v&&(A=String(v).match(al))?(this.h=!1,il(this,A[1]||"",!0),this.o=Jr(A[2]||""),this.g=Jr(A[3]||"",!0),$s(this,A[4]),this.l=Jr(A[5]||"",!0),Ri(this,A[6]||"",!0),this.m=Jr(A[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}on.prototype.toString=function(){var v=[],A=this.j;A&&v.push(ol(A,Td,!0),":");var I=this.g;return(I||A=="file")&&(v.push("//"),(A=this.o)&&v.push(ol(A,Td,!0),"@"),v.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&v.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&v.push("/"),v.push(ol(I,I.charAt(0)=="/"?qy:Ed,!0))),(I=this.i.toString())&&v.push("?",I),(I=this.m)&&v.push("#",ol(I,Nc)),v.join("")};function Nr(v){return new on(v)}function il(v,A,I){v.j=I?Jr(A,!0):A,v.j&&(v.j=v.j.replace(/:$/,""))}function $s(v,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);v.s=A}else v.s=null}function Ri(v,A,I){A instanceof ki?(v.i=A,dm(v.i,v.h)):(I||(A=ol(A,Fy)),v.i=new ki(A,v.h))}function _t(v,A,I){v.i.set(A,I)}function sl(v){return _t(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Jr(v,A){return v?A?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function ol(v,A,I){return typeof v=="string"?(v=encodeURI(v).replace(A,um),I&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function um(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Td=/[#\/\?@]/g,Ed=/[#\?:]/g,qy=/[#\?]/g,Fy=/[#\?@]/g,Nc=/#/g;function ki(v,A){this.h=this.g=null,this.i=v||null,this.j=!!A}function ea(v){v.g||(v.g=new Map,v.h=0,v.i&&$y(v.i,function(A,I){v.add(decodeURIComponent(A.replace(/\+/g," ")),I)}))}t=ki.prototype,t.add=function(v,A){ea(this),this.i=null,v=Qa(this,v);var I=this.g.get(v);return I||this.g.set(v,I=[]),I.push(A),this.h+=1,this};function Di(v,A){ea(v),A=Qa(v,A),v.g.has(A)&&(v.i=null,v.h-=v.g.get(A).length,v.g.delete(A))}function Mi(v,A){return ea(v),A=Qa(v,A),v.g.has(A)}t.forEach=function(v,A){ea(this),this.g.forEach(function(I,$){I.forEach(function(Z){v.call(A,Z,$,this)},this)},this)},t.na=function(){ea(this);const v=Array.from(this.g.values()),A=Array.from(this.g.keys()),I=[];for(let $=0;$<A.length;$++){const Z=v[$];for(let se=0;se<Z.length;se++)I.push(A[$])}return I},t.V=function(v){ea(this);let A=[];if(typeof v=="string")Mi(this,v)&&(A=A.concat(this.g.get(Qa(this,v))));else{v=Array.from(this.g.values());for(let I=0;I<v.length;I++)A=A.concat(v[I])}return A},t.set=function(v,A){return ea(this),this.i=null,v=Qa(this,v),Mi(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[A]),this.h+=1,this},t.get=function(v,A){return v?(v=this.V(v),0<v.length?String(v[0]):A):A};function Ad(v,A,I){Di(v,A),0<I.length&&(v.i=null,v.g.set(Qa(v,A),_(I)),v.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],A=Array.from(this.g.keys());for(var I=0;I<A.length;I++){var $=A[I];const se=encodeURIComponent(String($)),xe=this.V($);for($=0;$<xe.length;$++){var Z=se;xe[$]!==""&&(Z+="="+encodeURIComponent(String(xe[$]))),v.push(Z)}}return this.i=v.join("&")};function Qa(v,A){return A=String(A),v.j&&(A=A.toLowerCase()),A}function dm(v,A){A&&!v.j&&(ea(v),v.i=null,v.g.forEach(function(I,$){var Z=$.toLowerCase();$!=Z&&(Di(this,$),Ad(this,Z,I))},v)),v.j=A}function ll(v,A){const I=new Zr;if(u.Image){const $=new Image;$.onload=j(ta,I,"TestLoadImage: loaded",!0,A,$),$.onerror=j(ta,I,"TestLoadImage: error",!1,A,$),$.onabort=j(ta,I,"TestLoadImage: abort",!1,A,$),$.ontimeout=j(ta,I,"TestLoadImage: timeout",!1,A,$),u.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=v}else A(!1)}function Na(v,A){const I=new Zr,$=new AbortController,Z=setTimeout(()=>{$.abort(),ta(I,"TestPingServer: timeout",!1,A)},1e4);fetch(v,{signal:$.signal}).then(se=>{clearTimeout(Z),se.ok?ta(I,"TestPingServer: ok",!0,A):ta(I,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Z),ta(I,"TestPingServer: error",!1,A)})}function ta(v,A,I,$,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),$(I)}catch{}}function cl(){this.g=new el}function Za(v,A,I){const $=I||"";try{_d(v,function(Z,se){let xe=Z;f(Z)&&(xe=Ea(Z)),A.push($+se+"="+encodeURIComponent(xe))})}catch(Z){throw A.push($+"type="+encodeURIComponent("_badmap")),Z}}function qs(v){this.l=v.Ub||null,this.j=v.eb||!1}b(qs,pd),qs.prototype.g=function(){return new Li(this.l,this.j)},qs.prototype.i=function(v){return function(){return v}}({});function Li(v,A){Wt.call(this),this.D=v,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Li,Wt),t=Li.prototype,t.open=function(v,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=A,this.readyState=1,ei(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(A.body=v),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nd(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nd(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var A=v.value?v.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!v.done}))&&(this.response=this.responseText+=A)}v.done?Ja(this):ei(this),this.readyState==3&&Nd(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,Ja(this))},t.Qa=function(v){this.g&&(this.response=v,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(v){v.readyState=4,v.l=null,v.j=null,v.v=null,ei(v)}t.setRequestHeader=function(v,A){this.u.append(v,A)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],A=this.h.entries();for(var I=A.next();!I.done;)I=I.value,v.push(I[0]+": "+I[1]),I=A.next();return v.join(`\r
`)};function ei(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Cd(v){let A="";return M(v,function(I,$){A+=$,A+=":",A+=I,A+=`\r
`}),A}function En(v,A,I){e:{for($ in I){var $=!1;break e}$=!0}$||(I=Cd(I),typeof v=="string"?I!=null&&encodeURIComponent(String(I)):_t(v,A,I))}function vt(v){Wt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(vt,Wt);var Cc=/^https?$/i,ul=["POST","PUT"];t=vt.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,A,I,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);A=A?A.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wa.g(),this.v=this.o?gd(this.o):gd(Wa),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(v),!0),this.B=!1}catch(se){hm(this,se);return}if(v=I||"",I=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Z in $)I.set(Z,$[Z]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const se of $.keys())I.set(se,$.get(se));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(I.keys()).find(se=>se.toLowerCase()=="content-type"),Z=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ul,A,void 0))||$||Z||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,xe]of I)this.g.setRequestHeader(se,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dl(this),this.u=!0,this.g.send(v),this.u=!1}catch(se){hm(this,se)}};function hm(v,A){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=A,v.m=5,Oc(v),ti(v)}function Oc(v){v.A||(v.A=!0,xt(v,"complete"),xt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,xt(this,"complete"),xt(this,"abort"),ti(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pc(this):this.bb())},t.bb=function(){Pc(this)};function Pc(v){if(v.h&&typeof l<"u"&&(!v.v[1]||na(v)!=4||v.Z()!=2)){if(v.u&&na(v)==4)Qn(v.Ea,0,v);else if(xt(v,"readystatechange"),na(v)==4){v.h=!1;try{const xe=v.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var I;if(!(I=A)){var $;if($=xe===0){var Z=String(v.D).match(al)[1]||null;!Z&&u.self&&u.self.location&&(Z=u.self.location.protocol.slice(0,-1)),$=!Cc.test(Z?Z.toLowerCase():"")}I=$}if(I)xt(v,"complete"),xt(v,"success");else{v.m=6;try{var se=2<na(v)?v.g.statusText:""}catch{se=""}v.l=se+" ["+v.Z()+"]",Oc(v)}}finally{ti(v)}}}}function ti(v,A){if(v.g){dl(v);const I=v.g,$=v.v[0]?()=>{}:null;v.g=null,v.v=null,A||xt(v,"ready");try{I.onreadystatechange=$}catch{}}}function dl(v){v.I&&(u.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function na(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<na(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var A=this.g.responseText;return v&&A.indexOf(v)==0&&(A=A.substring(v.length)),jc(A)}};function fm(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Hy(v){const A={};v=(v.g&&2<=na(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<v.length;$++){if(C(v[$]))continue;var I=V(v[$]);const Z=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const se=A[Z]||[];A[Z]=se,se.push(I)}O(A,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(v,A,I){return I&&I.internalChannelParams&&I.internalChannelParams[v]||A}function Ic(v){this.Aa=0,this.i=[],this.j=new Zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,v),this.cb=hl("retryDelaySeedMs",1e4,v),this.Wa=hl("forwardChannelMaxRetries",2,v),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(v&&v.concurrentRequestLimit),this.Da=new cl,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ic.prototype,t.la=8,t.G=1,t.connect=function(v,A,I,$){Bt(0),this.W=v,this.H=A||{},I&&$!==void 0&&(this.H.OSID=I,this.H.OAID=$),this.F=this.X,this.I=bm(this,null,this.W),kc(this)};function Od(v){if(mm(v),v.G==3){var A=v.U++,I=Nr(v.I);if(_t(I,"SID",v.K),_t(I,"RID",A),_t(I,"TYPE","terminate"),fl(v,I),A=new dr(v,v.j,A),A.L=2,A.v=sl(Nr(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=A.v,I=!0),I||(A.g=jm(A.j,null),A.g.ea(A.v)),A.F=Date.now(),nl(A)}xm(v)}function Rc(v){v.g&&(ml(v),v.g.cancel(),v.g=null)}function mm(v){Rc(v),v.u&&(u.clearTimeout(v.u),v.u=null),Dc(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function kc(v){if(!_c(v.h)&&!v.s){v.s=!0;var A=v.Ga;oe||H(),ae||(oe(),ae=!0),be.add(A,v),v.B=0}}function Ky(v,A){return Tc(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=A.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=sn(y(v.Ga,v,A),Rd(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Z=new dr(this,this.j,v);let se=this.o;if(this.S&&(se?(se=D(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var A=0,I=0;I<this.i.length;I++){t:{var $=this.i[I];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,4096<A){A=I;break e}if(A===4096||I===this.i.length-1){A=I+1;break e}}A=1e3}else A=1e3;A=pm(this,Z,A),I=Nr(this.I),_t(I,"RID",v),_t(I,"CVER",22),this.D&&_t(I,"X-HTTP-Session-Id",this.D),fl(this,I),se&&(this.O?A="headers="+encodeURIComponent(String(Cd(se)))+"&"+A:this.m&&En(I,this.m,se)),Ec(this.h,Z),this.Ua&&_t(I,"TYPE","init"),this.P?(_t(I,"$req",A),_t(I,"SID","null"),Z.T=!0,Aa(Z,I,null)):Aa(Z,I,A),this.G=2}}else this.G==3&&(v?Pd(this,v):this.i.length==0||_c(this.h)||Pd(this))};function Pd(v,A){var I;A?I=A.l:I=v.U++;const $=Nr(v.I);_t($,"SID",v.K),_t($,"RID",I),_t($,"AID",v.T),fl(v,$),v.m&&v.o&&En($,v.m,v.o),I=new dr(v,v.j,I,v.B+1),v.m===null&&(I.H=v.o),A&&(v.i=A.D.concat(v.i)),A=pm(v,I,1e3),I.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Ec(v.h,I),Aa(I,$,A)}function fl(v,A){v.H&&M(v.H,function(I,$){_t(A,$,I)}),v.l&&_d({},function(I,$){_t(A,$,I)})}function pm(v,A,I){I=Math.min(v.i.length,I);var $=v.l?y(v.l.Na,v.l,v):null;e:{var Z=v.i;let se=-1;for(;;){const xe=["count="+I];se==-1?0<I?(se=Z[0].g,xe.push("ofs="+se)):se=0:xe.push("ofs="+se);let st=!0;for(let yn=0;yn<I;yn++){let ot=Z[yn].g;const An=Z[yn].map;if(ot-=se,0>ot)se=Math.max(0,Z[yn].g-100),st=!1;else try{Za(An,xe,"req"+ot+"_")}catch{$&&$(An)}}if(st){$=xe.join("&");break e}}}return v=v.i.splice(0,I),A.D=v,$}function gm(v){if(!v.g&&!v.u){v.Y=1;var A=v.Fa;oe||H(),ae||(oe(),ae=!0),be.add(A,v),v.v=0}}function Id(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=sn(y(v.Fa,v),Rd(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,vm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=sn(y(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Rc(this),vm(this))};function ml(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function vm(v){v.g=new dr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var A=Nr(v.qa);_t(A,"RID","rpc"),_t(A,"SID",v.K),_t(A,"AID",v.T),_t(A,"CI",v.F?"0":"1"),!v.F&&v.ja&&_t(A,"TO",v.ja),_t(A,"TYPE","xmlhttp"),fl(v,A),v.m&&v.o&&En(A,v.m,v.o),v.L&&(v.g.I=v.L);var I=v.g;v=v.ia,I.L=1,I.v=sl(Nr(A)),I.m=null,I.P=!0,Pi(I,v)}t.Za=function(){this.C!=null&&(this.C=null,Rc(this),Id(this),Bt(19))};function Dc(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function ym(v,A){var I=null;if(v.g==A){Dc(v),ml(v),v.g=null;var $=2}else if(wd(v.h,A))I=A.D,hr(v.h,A),$=1;else return;if(v.G!=0){if(A.o)if($==1){I=A.m?A.m.length:0,A=Date.now()-A.F;var Z=v.B;$=Ls(),xt($,new vn($,I)),kc(v)}else gm(v);else if(Z=A.s,Z==3||Z==0&&0<A.X||!($==1&&Ky(v,A)||$==2&&Id(v)))switch(I&&0<I.length&&(A=v.h,A.i=A.i.concat(I)),Z){case 1:Bi(v,5);break;case 4:Bi(v,10);break;case 3:Bi(v,6);break;default:Bi(v,2)}}}function Rd(v,A){let I=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(I*=2),I*A}function Bi(v,A){if(v.j.info("Error code "+A),A==2){var I=y(v.fb,v),$=v.Xa;const Z=!$;$=new on($||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||il($,"https"),sl($),Z?ll($.toString(),I):Na($.toString(),I)}else Bt(2);v.G=0,v.l&&v.l.sa(A),xm(v),mm(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function xm(v){if(v.G=0,v.ka=[],v.l){const A=Sd(v.h);(A.length!=0||v.i.length!=0)&&(T(v.ka,A),T(v.ka,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.ra()}}function bm(v,A,I){var $=I instanceof on?Nr(I):new on(I);if($.g!="")A&&($.g=A+"."+$.g),$s($,$.s);else{var Z=u.location;$=Z.protocol,A=A?A+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new on(null);$&&il(se,$),A&&(se.g=A),Z&&$s(se,Z),I&&(se.l=I),$=se}return I=v.D,A=v.ya,I&&A&&_t($,I,A),_t($,"VER",v.la),fl(v,$),$}function jm(v,A,I){if(A&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=v.Ca&&!v.pa?new vt(new qs({eb:I})):new vt(v.pa),A.Ha(v.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}t=wm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mc(){}Mc.prototype.g=function(v,A){return new fr(v,A)};function fr(v,A){Wt.call(this),this.g=new Ic(A),this.l=v,this.h=A&&A.messageUrlParams||null,v=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(v?v["X-WebChannel-Content-Type"]=A.messageContentType:v={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(v?v["X-WebChannel-Client-Profile"]=A.va:v={"X-WebChannel-Client-Profile":A.va}),this.g.S=v,(v=A&&A.Sb)&&!C(v)&&(this.g.m=v),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!C(A)&&(this.g.D=A,v=this.h,v!==null&&A in v&&(v=this.h,A in v&&delete v[A])),this.j=new ni(this)}b(fr,Wt),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Od(this.g)},fr.prototype.o=function(v){var A=this.g;if(typeof v=="string"){var I={};I.__data__=v,v=I}else this.u&&(I={},I.__data__=Ea(v),v=I);A.i.push(new cm(A.Ya++,v)),A.G==3&&kc(A)},fr.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,fr.aa.N.call(this)};function Sm(v){Ci.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var A=v.__sm__;if(A){e:{for(const I in A){v=I;break e}v=void 0}(this.i=v)&&(v=this.i,A=A!==null&&v in A?A[v]:void 0),this.data=A}else this.data=v}b(Sm,Ci);function _m(){yd.call(this),this.status=1}b(_m,yd);function ni(v){this.g=v}b(ni,wm),ni.prototype.ua=function(){xt(this.g,"a")},ni.prototype.ta=function(v){xt(this.g,new Sm(v))},ni.prototype.sa=function(v){xt(this.g,new _m)},ni.prototype.ra=function(){xt(this.g,"b")},Mc.prototype.createWebChannel=Mc.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,hI=function(){return new Mc},dI=function(){return Ls()},uI=Ga,tb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,eg=Us,Oi.COMPLETE="complete",cI=Oi,vd.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,kh=vd,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,lI=vt}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const NA="@firebase/firestore",CA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Tj("@firebase/firestore");function fu(){return ec.logLevel}function Te(t,...e){if(ec.logLevel<=at.DEBUG){const n=e.map(Bj);ec.debug(`Firestore (${Zu}): ${t}`,...n)}}function js(t,...e){if(ec.logLevel<=at.ERROR){const n=e.map(Bj);ec.error(`Firestore (${Zu}): ${t}`,...n)}}function Po(t,...e){if(ec.logLevel<=at.WARN){const n=e.map(Bj);ec.warn(`Firestore (${Zu}): ${t}`,...n)}}function Bj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fI(t,r,n)}function fI(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw js(r),new Error(r)}function yt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||fI(e,a,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class P${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I${constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ds,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},u=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ds)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new mI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class R${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new R$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const a=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=M$(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function nb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Xe(r,a);{const s=pI(),l=L$(s.encode(PA(t,n)),s.encode(PA(e,n)));return l!==0?l:Xe(r,a)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function PA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function L$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function Pu(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=ci.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return Xe(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),a=ci.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ci.extractNumericId(e).compare(ci.extractNumericId(n)):nb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class kt extends ci{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const B$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends ci{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return B$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new Gn([IA])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(kt.fromString(e))}static fromName(e){return new Ie(kt.fromString(e).popFirst(5))}static empty(){return new Ie(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){if(!n)throw new Se(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V$(t,e,n,r){if(e===!0&&r===!0)throw new Se(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RA(t){if(!Ie.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kA(t){if(Ie.isDocumentKey(t))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ov(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ov(t);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Df(t,e){if(!vI(t))throw new Se(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Se(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=-62135596800,MA=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MA);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DA)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MA}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Df(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:fn("string",Mt._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Mt(0,0))}static max(){return new ze(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=-1;function U$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Io(a,Ie.empty(),e)}function z$(t){return new Io(t.readTime,t.key,rf)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(ze.min(),Ie.empty(),rf)}static max(){return new Io(ze.max(),Ie.empty(),rf)}}function $$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==q$)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let a=0,s=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++s,l&&s===a&&n()},h=>r(h))}),l=!0,s===a&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(a=>a?me.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,s)=>{r.push(n.call(this,a,s))}),this.waitFor(r)}static mapArray(e,n){return new me((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++u,u===s&&r(l)},m=>a(m))}})}static doWhile(e,n){return new me((r,a)=>{const s=()=>{e()===!0?n().next(()=>{s()},a):r()};s()})}}function H$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Pv.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=-1;function Iv(t){return t==null}function _g(t){return t===0&&1/t==-1/0}function K$(t){return typeof t=="number"&&Number.isInteger(t)&&!_g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="";function G$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LA(e)),e=W$(t.get(n),e);return LA(e)}function W$(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case yI:n+="";break;default:n+=s}}return n}function LA(t){return t+yI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=a??Fn.EMPTY,this.right=s??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Fn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VA(this.data.getIterator())}getIteratorFrom(e){return new VA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class VA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new qr([])}unionWith(e){let n=new Sn(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bI("Invalid base64 string: "+s):s}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const Y$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=Y$.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="server_timestamp",wI="__type__",SI="__previous_value__",_I="__local_write_time__";function zj(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wI])===null||n===void 0?void 0:n.stringValue)===jI}function Rv(t){const e=t.mapValue.fields[SI];return zj(e)?Rv(e):e}function af(t){const e=Ro(t.mapValue.fields[_I].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n,r,a,s,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Tg="(default)";class sf{constructor(e,n){this.projectId=e,this.database=n||Tg}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database===Tg}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__type__",Q$="__max__",Cp={mapValue:{}},EI="__vector__",Eg="value";function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zj(t)?4:J$(t)?9007199254740991:Z$(t)?10:11:Be(28295,{value:t})}function xi(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return af(t).isEqual(af(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Ro(a.timestampValue),u=Ro(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return ko(a.bytesValue).isEqual(ko(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return tn(a.geoPointValue.latitude)===tn(s.geoPointValue.latitude)&&tn(a.geoPointValue.longitude)===tn(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return tn(a.integerValue)===tn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=tn(a.doubleValue),u=tn(s.doubleValue);return l===u?_g(l)===_g(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Pu(t.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(BA(l)!==BA(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!xi(l[h],u[h])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function of(t,e){return(t.values||[]).find(n=>xi(n,e))!==void 0}function Iu(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,l){const u=tn(s.integerValue||s.doubleValue),h=tn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return UA(t.timestampValue,e.timestampValue);case 4:return UA(af(t),af(e));case 5:return nb(t.stringValue,e.stringValue);case 6:return function(s,l){const u=ko(s),h=ko(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Xe(u[f],h[f]);if(m!==0)return m}return Xe(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Xe(tn(s.latitude),tn(l.latitude));return u!==0?u:Xe(tn(s.longitude),tn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zA(t.arrayValue,e.arrayValue);case 10:return function(s,l){var u,h,f,m;const g=s.fields||{},y=l.fields||{},j=(u=g[Eg])===null||u===void 0?void 0:u.arrayValue,b=(h=y[Eg])===null||h===void 0?void 0:h.arrayValue,_=Xe(((f=j?.values)===null||f===void 0?void 0:f.length)||0,((m=b?.values)===null||m===void 0?void 0:m.length)||0);return _!==0?_:zA(j,b)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Cp.mapValue&&l===Cp.mapValue)return 0;if(s===Cp.mapValue)return 1;if(l===Cp.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const y=nb(h[g],m[g]);if(y!==0)return y;const j=Iu(u[h[g]],f[m[g]]);if(j!==0)return j}return Xe(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{le:n})}}function UA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Ro(t),r=Ro(e),a=Xe(n.seconds,r.seconds);return a!==0?a:Xe(n.nanos,r.nanos)}function zA(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Iu(n[a],r[a]);if(s)return s}return Xe(n.length,r.length)}function Ru(t){return rb(t)}function rb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=rb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${rb(n.fields[l])}`;return a+"}"}(t.mapValue):Be(61005,{value:t})}function tg(t){switch(Do(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rv(t);return e?16+tg(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,s)=>a+tg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return $o(r.fields,(s,l)=>{a+=s.length+tg(l)}),a}(t.mapValue);default:throw Be(13486,{value:t})}}function $A(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ab(t){return!!t&&"integerValue"in t}function $j(t){return!!t&&"arrayValue"in t}function qA(t){return!!t&&"nullValue"in t}function FA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ng(t){return!!t&&"mapValue"in t}function Z$(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[TI])===null||n===void 0?void 0:n.stringValue)===EI}function Fh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function J$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Q$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(n)}setAll(e){let n=Gn.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=u.popLast()}l?r[u.lastSegment()]=Fh(l):a.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];ng(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(a,s)=>e[a]=s);for(const a of r)delete e[a]}clone(){return new wr(Fh(this.value))}}function AI(t){const e=[];return $o(t.fields,(n,r)=>{const a=new Gn([n]);if(ng(r)){const s=AI(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,a,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new rr(e,0,ze.min(),ze.min(),ze.min(),wr.empty(),0)}static newFoundDocument(e,n,r,a){return new rr(e,1,n,ze.min(),r,a,0)}static newNoDocument(e,n){return new rr(e,2,n,ze.min(),ze.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,ze.min(),ze.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.position=e,this.inclusive=n}}function HA(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),n.key):r=Iu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function eq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{}class hn extends NI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nq(e,n,r):n==="array-contains"?new iq(e,r):n==="in"?new sq(e,r):n==="not-in"?new oq(e,r):n==="array-contains-any"?new lq(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rq(e,r):new aq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Iu(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(Iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends NI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new $a(e,n)}matches(e){return CI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function CI(t){return t.op==="and"}function OI(t){return tq(t)&&CI(t)}function tq(t){for(const e of t.filters)if(e instanceof $a)return!1;return!0}function ib(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(OI(t))return t.filters.map(e=>ib(e)).join(",");{const e=t.filters.map(n=>ib(n)).join(",");return`${t.op}(${e})`}}function PI(t,e){return t instanceof hn?function(r,a){return a instanceof hn&&r.op===a.op&&r.field.isEqual(a.field)&&xi(r.value,a.value)}(t,e):t instanceof $a?function(r,a){return a instanceof $a&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((s,l,u)=>s&&PI(l,a.filters[u]),!0):!1}(t,e):void Be(19439)}function II(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ru(n.value)}`}(t):t instanceof $a?function(n){return n.op.toString()+" {"+n.getFilters().map(II).join(" ,")+"}"}(t):"Filter"}class nq extends hn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class rq extends hn{constructor(e,n){super(e,"in",n),this.keys=RI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aq extends hn{constructor(e,n){super(e,"not-in",n),this.keys=RI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class iq extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $j(n)&&of(n.arrayValue,this.value)}}class sq extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&of(this.value.arrayValue,n)}}class oq extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!of(this.value.arrayValue,n)}}class lq extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$j(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>of(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Pe=null}}function GA(t,e=null,n=[],r=[],a=null,s=null,l=null){return new cq(t,e,n,r,a,s,l)}function qj(t){const e=$e(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ib(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Iv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),e.Pe=n}return e.Pe}function Fj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KA(t.startAt,e.startAt)&&KA(t.endAt,e.endAt)}function sb(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],a=[],s=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function uq(t,e,n,r,a,s,l,u){return new td(t,e,n,r,a,s,l,u)}function Hj(t){return new td(t)}function WA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kI(t){return t.collectionGroup!==null}function Hh(t){const e=$e(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Sn(Gn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new lf(s,r))}),n.has(Gn.keyField().canonicalString())||e.Te.push(new lf(Gn.keyField(),r))}return e.Te}function mi(t){const e=$e(t);return e.Ie||(e.Ie=dq(e,Hh(t))),e.Ie}function dq(t,e){if(t.limitType==="F")return GA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new lf(a.field,s)});const n=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return GA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ob(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lb(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kv(t,e){return Fj(mi(t),mi(e))&&t.limitType===e.limitType}function DI(t){return`${qj(mi(t))}|lt:${t.limitType}`}function mu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>II(a)).join(", ")}]`),Iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Ru(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Ru(a)).join(",")),`Target(${r})`}(mi(t))}; limitType=${t.limitType})`}function Dv(t,e){return e.isFoundDocument()&&function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,a){for(const s of Hh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(l,u,h){const f=HA(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,Hh(r),a)||r.endAt&&!function(l,u,h){const f=HA(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,Hh(r),a))}(t,e)}function hq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MI(t){return(e,n)=>{let r=!1;for(const a of Hh(t)){const s=fq(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function fq(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(s,l,u){const h=l.data.field(s),f=u.data.field(s);return h!==null&&f!==null?Iu(h,f):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[a,s]of r)e(a,s)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=new Ht(Ie.comparator);function ws(){return mq}const LI=new Ht(Ie.comparator);function Dh(...t){let e=LI;for(const n of t)e=e.insert(n.key,n);return e}function BI(t){let e=LI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Dl(){return Kh()}function VI(){return Kh()}function Kh(){return new dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const pq=new Ht(Ie.comparator),gq=new Sn(Ie.comparator);function it(...t){let e=gq;for(const n of t)e=e.add(n);return e}const vq=new Sn(Xe);function yq(){return vq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function UI(t){return{integerValue:""+t}}function xq(t,e){return K$(e)?UI(e):Kj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this._=void 0}}function bq(t,e,n){return t instanceof cf?function(a,s){const l={fields:{[wI]:{stringValue:jI},[_I]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&zj(s)&&(s=Rv(s)),s&&(l.fields[SI]=s),{mapValue:l}}(n,e):t instanceof uf?$I(t,e):t instanceof df?qI(t,e):function(a,s){const l=zI(a,s),u=YA(l)+YA(a.Ee);return ab(l)&&ab(a.Ee)?UI(u):Kj(a.serializer,u)}(t,e)}function jq(t,e,n){return t instanceof uf?$I(t,e):t instanceof df?qI(t,e):n}function zI(t,e){return t instanceof Ng?function(r){return ab(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cf extends Mv{}class uf extends Mv{constructor(e){super(),this.elements=e}}function $I(t,e){const n=FI(e);for(const r of t.elements)n.some(a=>xi(a,r))||n.push(r);return{arrayValue:{values:n}}}class df extends Mv{constructor(e){super(),this.elements=e}}function qI(t,e){let n=FI(e);for(const r of t.elements)n=n.filter(a=>!xi(a,r));return{arrayValue:{values:n}}}class Ng extends Mv{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function YA(t){return tn(t.integerValue||t.doubleValue)}function FI(t){return $j(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.field=e,this.transform=n}}function Sq(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof uf&&a instanceof uf||r instanceof df&&a instanceof df?Pu(r.elements,a.elements,xi):r instanceof Ng&&a instanceof Ng?xi(r.Ee,a.Ee):r instanceof cf&&a instanceof cf}(t.transform,e.transform)}class _q{constructor(e,n){this.version=e,this.transformResults=n}}class ya{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ya}static exists(e){return new ya(void 0,e)}static updateTime(e){return new ya(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lv{}function HI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gj(t.key,ya.none()):new Mf(t.key,t.data,ya.none());{const n=t.data,r=wr.empty();let a=new Sn(Gn.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new qo(t.key,r,new qr(a.toArray()),ya.none())}}function Tq(t,e,n){t instanceof Mf?function(a,s,l){const u=a.value.clone(),h=QA(a.fieldTransforms,s,l.transformResults);u.setAll(h),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof qo?function(a,s,l){if(!rg(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=QA(a.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(KI(a)),h.setAll(u),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Gh(t,e,n,r){return t instanceof Mf?function(s,l,u,h){if(!rg(s.precondition,l))return u;const f=s.value.clone(),m=ZA(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof qo?function(s,l,u,h){if(!rg(s.precondition,l))return u;const f=ZA(s.fieldTransforms,h,l),m=l.data;return m.setAll(KI(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,l,u){return rg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function Eq(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=zI(r.transform,a||null);s!=null&&(n===null&&(n=wr.empty()),n.set(r.field,s))}return n||null}function XA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Pu(r,a,(s,l)=>Sq(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mf extends Lv{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qo extends Lv{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QA(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,jq(l,u,n[a]))}return r}function ZA(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,bq(s,l,e))}return r}class Gj extends Lv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aq extends Lv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Tq(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VI();return this.mutations.forEach(a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(a.key)?null:u;const h=HI(l,u);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,(n,r)=>XA(n,r))&&Pu(this.baseMutations,e.baseMutations,(n,r)=>XA(n,r))}}class Wj{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){yt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=function(){return pq}();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new Wj(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ct;function Pq(t){switch(t){case de.OK:return Be(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function GI(t){if(t===void 0)return js("GRPC error has no .code"),de.UNKNOWN;switch(t){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return Be(39323,{code:t})}}(ct=dn||(dn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=new Ao([4294967295,4294967295],0);function JA(t){const e=pI().encode(t),n=new oI;return n.update(e),new Uint8Array(n.digest())}function eN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ao([n,r],0),new Ao([a,s],0)]}class Yj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mh(`Invalid padding: ${n}`);if(r<0)throw new Mh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ao.fromNumber(this.fe)}pe(e,n,r){let a=e.add(n.multiply(Ao.fromNumber(r)));return a.compare(Iq)===1&&(a=new Ao([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=JA(e),[r,a]=eN(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,a,s);if(!this.ye(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Yj(s,a,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.fe===0)return;const n=JA(e),[r,a]=eN(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,a,s);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bv(ze.min(),a,new Ht(Xe),ws(),it())}}class Lf{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lf(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=a}}class WI{constructor(e,n){this.targetId=e,this.De=n}}class YI{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class tN{constructor(){this.ve=0,this.Ce=nN(),this.Fe=Wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=it(),n=it(),r=it();return this.Ce.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Be(38017,{changeType:s})}}),new Lf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=nN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Rq{constructor(e){this.We=e,this.Ge=new Map,this.ze=ws(),this.je=Op(),this.Je=Op(),this.He=new Ht(Xe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,r=e.De.count,a=this.st(n);if(a){const s=a.target;if(sb(s))if(r===0){const l=new Ie(s.path);this.Xe(n,l,rr.newNoDocument(l,ze.min()))}else yt(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const u=this._t(e),h=u?this.ut(u,e,l):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,u;try{l=ko(r).toUint8Array()}catch(h){if(h instanceof bI)return Po("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Yj(l,a,s)}catch(h){return Po(h instanceof Mh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach(s=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,s,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((s,l)=>{const u=this.st(l);if(u){if(s.current&&sb(u.target)){const h=new Ie(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,rr.newNoDocument(h,e))}s.Ne&&(n.set(l,s.Le()),s.ke())}});let r=it();this.Je.forEach((s,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ze.forEach((s,l)=>l.setReadTime(e));const a=new Bv(e,n,this.He,this.ze,r);return this.ze=ws(),this.je=Op(),this.Je=Op(),this.He=new Ht(Xe),a}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new tN,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Sn(Xe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Sn(Xe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new tN),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Op(){return new Ht(Ie.comparator)}function nN(){return new Ht(Ie.comparator)}const kq={asc:"ASCENDING",desc:"DESCENDING"},Dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mq={and:"AND",or:"OR"};class Lq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cb(t,e){return t.useProto3Json||Iv(e)?e:{value:e}}function Cg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bq(t,e){return Cg(t,e.toTimestamp())}function pi(t){return yt(!!t,49232),ze.fromTimestamp(function(n){const r=Ro(n);return new Mt(r.seconds,r.nanos)}(t))}function Xj(t,e){return ub(t,e).canonicalString()}function ub(t,e){const n=function(a){return new kt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QI(t){const e=kt.fromString(t);return yt(nR(e),10190,{key:e.toString()}),e}function db(t,e){return Xj(t.databaseId,e.path)}function J1(t,e){const n=QI(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(JI(n))}function ZI(t,e){return Xj(t.databaseId,e)}function Vq(t){const e=QI(t);return e.length===4?kt.emptyPath():JI(e)}function hb(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JI(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rN(t,e,n){return{name:db(t,e),fields:n.value.mapValue.fields}}function Uq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(yt(m===void 0||typeof m=="string",58123),Wn.fromBase64String(m||"")):(yt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Wn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?de.UNKNOWN:GI(f.code);return new Se(m,f.message||"")}(l);n=new YI(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=J1(t,r.document.name),s=pi(r.document.updateTime),l=r.document.createTime?pi(r.document.createTime):ze.min(),u=new wr({mapValue:{fields:r.document.fields}}),h=rr.newFoundDocument(a,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new ag(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=J1(t,r.document),s=r.readTime?pi(r.readTime):ze.min(),l=rr.newNoDocument(a,s),u=r.removedTargetIds||[];n=new ag([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=J1(t,r.document),s=r.removedTargetIds||[];n=new ag([],s,a,null)}else{if(!("filter"in e))return Be(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new Oq(a,s),u=r.targetId;n=new WI(u,l)}}return n}function zq(t,e){let n;if(e instanceof Mf)n={update:rN(t,e.key,e.value)};else if(e instanceof Gj)n={delete:db(t,e.key)};else if(e instanceof qo)n={update:rN(t,e.key,e.data),updateMask:Xq(e.fieldMask)};else{if(!(e instanceof Aq))return Be(16599,{Rt:e.type});n={verify:db(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof cf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof df)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ng)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Be(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:Bq(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)}(t,e.precondition)),n}function $q(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map(n=>function(a,s){let l=a.updateTime?pi(a.updateTime):pi(s);return l.isEqual(ze.min())&&(l=pi(s)),new _q(l,a.transformResults||[])}(n,e))):[]}function qq(t,e){return{documents:[ZI(t,e.path)]}}function Fq(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZI(t,a);const s=function(f){if(f.length!==0)return tR($a.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(f){if(f.length!==0)return f.map(m=>function(y){return{field:pu(y.field),direction:Gq(y.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=cb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:a}}function Hq(t){let e=Vq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){yt(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const y=eR(g);return y instanceof $a&&OI(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(b){return new lf(gu(b.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Iv(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,j=g.values||[];return new Ag(j,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,j=g.values||[];return new Ag(j,y)}(n.endAt)),uq(e,a,l,s,u,"F",h,f)}function Kq(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gu(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=gu(n.unaryFilter.field);return hn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gu(n.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gu(n.unaryFilter.field);return hn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return hn.create(gu(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $a.create(n.compositeFilter.filters.map(r=>eR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function Gq(t){return kq[t]}function Wq(t){return Dq[t]}function Yq(t){return Mq[t]}function pu(t){return{fieldPath:t.canonicalString()}}function gu(t){return Gn.fromServerFormat(t.fieldPath)}function tR(t){return t instanceof hn?function(n){if(n.op==="=="){if(FA(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(qA(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FA(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(qA(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:Wq(n.op),value:n.value}}}(t):t instanceof $a?function(n){const r=n.getFilters().map(a=>tR(a));return r.length===1?r[0]:{compositeFilter:{op:Yq(n.op),filters:r}}}(t):Be(54877,{filter:t})}function Xq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r,a,s=ze.min(),l=ze.min(),u=Wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.gt=e}}function Zq(t){const e=Hq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this.Dn=new eF}addToCollectionParentIndex(e,n){return this.Dn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Io.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class eF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Sn(kt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Sn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rR=41943040;class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(rR,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ku(0)}static ur(){return new ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="LruGarbageCollector",tF=1048576;function sN([t,e],[n,r]){const a=Xe(t,n);return a===0?Xe(e,r):a}class nF{constructor(e){this.Tr=e,this.buffer=new Sn(sN),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(iN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?Te(iN,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Rr(3e5)})}}class aF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Pv.ue);const r=new nF(n);return this.Vr.forEachTarget(e,a=>r.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>r.Er(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(aN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,a,s,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),fu()<=at.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g})))}}function iF(t,e){return new aF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.changes=new dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Gh(r.mutation,a,qr.empty(),Mt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const a=Dl();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(s=>{let l=Dh();return s.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Dl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const a=[];return r.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,a){let s=ws();const l=Kh(),u=function(){return Kh()}();return n.forEach((h,f)=>{const m=r.get(f.key);a.has(f.key)&&(m===void 0||m.mutation instanceof qo)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Gh(m.mutation,f,m.mutation.getFieldMask(),Mt.now())):l.set(f.key,qr.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var g;return u.set(f,new oF(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Kh();let a=new Ht((l,u)=>l-u),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||qr.empty();m=u.applyToLocalView(f,m),r.set(h,m);const g=(a.get(u.batchId)||it()).add(h);a=a.insert(u.batchId,g)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,g=VI();m.forEach(y=>{if(!s.has(y)){const j=HI(n.get(y),r.get(y));j!==null&&g.set(y,j),s=s.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return me.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):me.resolve(Dl());let u=rf,h=s;return l.next(f=>me.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?me.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{h=h.insert(m,y)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,it())).next(m=>({batchId:u,changes:BI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let a=Dh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Dh();return this.indexManager.getCollectionParents(e,s).next(u=>me.forEach(u,h=>{const f=function(g,y){return new td(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next(m=>{m.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a))).next(l=>{s.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,rr.newInvalidDocument(m)))});let u=Dh();return l.forEach((h,f)=>{const m=s.get(h);m!==void 0&&Gh(m.mutation,f,qr.empty(),Mt.now()),Dv(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return me.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:pi(a.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:Zq(a.bundledQuery),readTime:pi(a.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.overlays=new Ht(Ie.comparator),this.kr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Dl();return me.forEach(n,a=>this.getOverlay(e,a).next(s=>{s!==null&&r.set(a,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,s)=>{this.wt(e,n,s)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const a=Dl(),s=n.length+1,l=new Ie(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Ht((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Dl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Dl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=a)););return me.resolve(u)}wt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Cq(n,r));let s=this.kr.get(n);s===void 0&&(s=it(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.qr=new Sn(In.Qr),this.$r=new Sn(In.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new In(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ie(new kt([])),r=new In(n,e),a=new In(n,e+1),s=[];return this.$r.forEachInRange([r,a],l=>{this.Wr(l),s.push(l.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new kt([])),r=new In(n,e),a=new In(n,e+1);let s=it();return this.$r.forEachInRange([r,a],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new In(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Sn(In.Qr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Nq(s,n,r,a);this.mutationQueue.push(l);for(const u of a)this.Yr=this.Yr.add(new In(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(l)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),s=a<0?0:a;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Uj:this.er-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),a=new In(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,a],l=>{const u=this.Zr(l.Hr);s.push(u)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(Xe);return n.forEach(a=>{const s=new In(a,0),l=new In(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,l],u=>{r=r.add(u.Hr)})}),me.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const l=new In(new Ie(s),0);let u=new Sn(Xe);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(h.Hr)),!0)},l),me.resolve(this.ei(u))}ei(e){const n=[];return e.forEach(r=>{const a=this.Zr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){yt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return me.forEach(n.mutations,a=>{const s=new In(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new In(n,0),a=this.Yr.firstAfterOrEqual(r);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.ni=e,this.docs=function(){return new Ht(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=ws();return n.forEach(a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():rr.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=ws();const l=n.path,u=new Ie(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||$$(z$(m),r)<=0||(a.has(m.key)||Dv(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return me.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Be(9500)}ri(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mF(this)}getSize(e){return me.resolve(this.size)}}class mF extends sF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.persistence=e,this.ii=new dc(n=>qj(n),Fj),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new Qj,this.targetCount=0,this._i=ku.ar()}forEachTarget(e,n){return this.ii.forEach((r,a)=>n(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),me.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ku(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.hr(n),me.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),me.waitFor(s).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(l=>{s.push(a.markPotentiallyOrphaned(e,l))}),me.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.ai={},this.overlays={},this.ui=new Pv(0),this.ci=!1,this.ci=!0,this.li=new dF,this.referenceDelegate=e(this),this.hi=new pF(this),this.indexManager=new Jq,this.remoteDocumentCache=function(a){return new fF(a)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Qq(n),this.Ti=new cF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new hF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const a=new gF(this.ui.next());return this.referenceDelegate.Ii(),r(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ei(e,n){return me.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class gF extends F${constructor(e){super(),this.currentSequenceNumber=e}}class Zj{constructor(e){this.persistence=e,this.Ai=new Qj,this.Ri=null}static Vi(e){return new Zj(e)}get mi(){if(this.Ri)return this.Ri;throw Be(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.mi,r=>{const a=Ie.fromPath(r);return this.fi(e,a).next(s=>{s||n.removeEntry(a,ze.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return me.or([()=>me.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Og{constructor(e,n){this.persistence=e,this.gi=new dc(r=>G$(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=iF(this,n)}static Vi(e,n){return new Og(e,n)}Ii(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return me.forEach(this.gi,(r,a)=>this.Sr(e,r,a).next(s=>s?me.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ri(e,l=>this.Sr(e,l,n).next(u=>{u||(r++,s.removeEntry(l,ze.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),me.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tg(e.data.value)),n}Sr(e,n,r){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=a}static Es(e,n){let r=it(),a=it();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Jj(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return QB()?8:H$(cr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ps(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ys(e,n,a,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new vF;return this.ws(e,n,l).next(u=>{if(s.result=u,this.Rs)return this.Ss(e,n,l,u.size)})}).next(()=>s.result)}Ss(e,n,r,a){return r.documentReadCount<this.Vs?(fu()<=at.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(fu()<=at.DEBUG&&Te("QueryEngine","Query:",mu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(fu()<=at.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):me.resolve())}ps(e,n){if(WA(n))return me.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=lb(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=it(...s);return this.gs.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(n,u);return this.Ds(n,f,l,h.readTime)?this.ps(e,lb(n,null,"F")):this.vs(e,f,n,h)}))})))}ys(e,n,r,a){return WA(n)||a.isEqual(ze.min())?me.resolve(null):this.gs.getDocuments(e,r).next(s=>{const l=this.bs(n,s);return this.Ds(n,l,r,a)?me.resolve(null):(fu()<=at.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),mu(n)),this.vs(e,l,n,U$(a,rf)).next(u=>u))})}bs(e,n){let r=new Sn(MI(e));return n.forEach((a,s)=>{Dv(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}ws(e,n,r){return fu()<=at.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",mu(n)),this.gs.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LocalStore",xF=3e8;class bF{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new Ht(Xe),this.Ms=new dc(s=>qj(s),Fj),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function jF(t,e,n,r){return new bF(t,e,n,r)}async function iR(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(s=>(a=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let h=it();for(const f of a){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:u}))})})}function wF(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const g=f.batch,y=g.keys();let j=me.resolve();return y.forEach(b=>{j=j.next(()=>m.getEntry(h,b)).next(_=>{const T=f.docVersions.get(b);yt(T!==null,48541),_.version.compareTo(T)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),m.addEntry(_)))})}),j.next(()=>u.mutationQueue.removeMutationBatch(h,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=it();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function sR(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function SF(t,e){const n=$e(t),r=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const u=[];e.targetChanges.forEach((m,g)=>{const y=a.get(g);if(!y)return;u.push(n.hi.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.hi.addMatchingKeys(s,m.addedDocuments,g)));let j=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?j=j.withResumeToken(Wn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):m.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(m.resumeToken,r)),a=a.insert(g,j),function(_,T,E){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=xF?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,j,m)&&u.push(n.hi.updateTargetData(s,j))});let h=ws(),f=it();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(_F(s,l,e.documentUpdates).next(m=>{h=m.Ls,f=m.ks})),!r.isEqual(ze.min())){const m=n.hi.getLastRemoteSnapshotVersion(s).next(g=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return me.waitFor(u).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.Fs=a,s))}function _F(t,e,n){let r=it(),a=it();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=ws();return n.forEach((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Te(ew,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ls:l,ks:a}})}function TF(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EF(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.hi.getTargetData(r,e).next(s=>s?(a=s,me.resolve(a)):n.hi.allocateTargetId(r).next(l=>(a=new jo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function fb(t,e,n){const r=$e(t),a=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!ed(l))throw l;Te(ew,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function oN(t,e,n){const r=$e(t);let a=ze.min(),s=it();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const g=$e(h),y=g.Ms.get(m);return y!==void 0?me.resolve(g.Fs.get(y)):g.hi.getTargetData(f,m)}(r,l,mi(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{s=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?a:ze.min(),n?s:it())).next(u=>(AF(r,hq(e),u),{documents:u,qs:s})))}function AF(t,e,n){let r=t.xs.get(e)||ze.min();n.forEach((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class lN{constructor(){this.activeTargetIds=yq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NF{constructor(){this.Fo=new lN,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="ConnectivityMonitor";class uN{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(cN,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(cN,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp=null;function mb(){return Pp===null?Pp=function(){return 268435456+Math.round(2147483648*Math.random())}():Pp++,"0x"+Pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="RestConnection",OF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===Tg?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,s){const l=mb(),u=this.Go(e,n.toUriEncodedString());Te(ex,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,a,s);const{host:f}=new URL(u),m=lc(f);return this.jo(e,u,h,r,m).then(g=>(Te(ex,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Po(ex,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g})}Jo(e,n,r,a,s,l){return this.Wo(e,n,r,a,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>e[s]=a),r&&r.headers.forEach((a,s)=>e[s]=a)}Go(e,n){const r=OF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class RF extends PF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,a,s){const l=mb();return new Promise((u,h)=>{const f=new lI;f.setWithCredentials(!0),f.listenOnce(cI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case eg.NO_ERROR:const g=f.getResponseJson();Te(er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case eg.TIMEOUT:Te(er,`RPC '${e}' ${l} timed out`),h(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case eg.HTTP_ERROR:const y=f.getStatus();if(Te(er,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let j=f.getResponseJson();Array.isArray(j)&&(j=j[0]);const b=j?.error;if(b&&b.status&&b.message){const _=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN}(b.status);h(new Se(_,b.message))}else h(new Se(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(de.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Te(er,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Te(er,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",m,r,15)})}P_(e,n,r){const a=mb(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hI(),u=dI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");Te(er,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=l.createWebChannel(m,h);this.T_(g);let y=!1,j=!1;const b=new IF({Ho:T=>{j?Te(er,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(y||(Te(er,`Opening RPC '${e}' stream ${a} transport.`),g.open(),y=!0),Te(er,`RPC '${e}' stream ${a} sending:`,T),g.send(T))},Yo:()=>g.close()}),_=(T,E,C)=>{T.listen(E,N=>{try{C(N)}catch(P){setTimeout(()=>{throw P},0)}})};return _(g,kh.EventType.OPEN,()=>{j||(Te(er,`RPC '${e}' stream ${a} transport opened.`),b.s_())}),_(g,kh.EventType.CLOSE,()=>{j||(j=!0,Te(er,`RPC '${e}' stream ${a} transport closed`),b.__(),this.I_(g))}),_(g,kh.EventType.ERROR,T=>{j||(j=!0,Po(er,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),b.__(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),_(g,kh.EventType.MESSAGE,T=>{var E;if(!j){const C=T.data[0];yt(!!C,16349);const N=C,P=N?.error||((E=N[0])===null||E===void 0?void 0:E.error);if(P){Te(er,`RPC '${e}' stream ${a} received error:`,P);const k=P.status;let M=function(B){const F=dn[B];if(F!==void 0)return GI(F)}(k),O=P.message;M===void 0&&(M=de.INTERNAL,O="Unknown error status: "+k+" with message "+P.message),j=!0,b.__(new Se(M,O)),g.close()}else Te(er,`RPC '${e}' stream ${a} received:`,C),b.a_(C)}}),_(u,uI.STAT_EVENT,T=>{T.stat===tb.PROXY?Te(er,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===tb.NOPROXY&&Te(er,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function tx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){return new Lq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=a,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="PersistentStream";class lR{constructor(e,n,r,a,s,l,u,h){this.Fi=e,this.w_=r,this.S_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oR(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.b_===n&&this.W_(r,a)},r=>{e(()=>{const a=new Se(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{r(()=>this.G_(a))}),this.stream.onMessage(a=>{r(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Te(dN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Te(dN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kF extends lR{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Uq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ze.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?pi(l.readTime):ze.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=hb(this.serializer),n.addTarget=function(s,l){let u;const h=l.target;if(u=sb(h)?{documents:qq(s,h)}:{query:Fq(s,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=XI(s,l.resumeToken);const f=cb(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(ze.min())>0){u.readTime=Cg(s,l.snapshotVersion.toTimestamp());const f=cb(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=Kq(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=hb(this.serializer),n.removeTarget=e,this.k_(n)}}class DF extends lR{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=$q(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=hb(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zq(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{}class LF extends MF{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,ub(n,r),a,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(de.UNKNOWN,s.toString())})}Jo(e,n,r,a,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(e,ub(n,r),a,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(de.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class BF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(js(n),this._a=!1):Te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="RemoteStore";class VF{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{hc(this)&&(Te(tc,"Restarting streams for network reachability change."),await async function(h){const f=$e(h);f.Ia.add(4),await Bf(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Uv(f)}(this))})}),this.Aa=new BF(r,a)}}async function Uv(t){if(hc(t))for(const e of t.da)await e(!0)}async function Bf(t){for(const e of t.da)await e(!1)}function cR(t,e){const n=$e(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),aw(n)?rw(n):nd(n).x_()&&nw(n,e))}function tw(t,e){const n=$e(t),r=nd(n);n.Ta.delete(e),r.x_()&&uR(n,e),n.Ta.size===0&&(r.x_()?r.B_():hc(n)&&n.Aa.set("Unknown"))}function nw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nd(t).H_(e)}function uR(t,e){t.Ra.$e(e),nd(t).Y_(e)}function rw(t){t.Ra=new Rq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),nd(t).start(),t.Aa.aa()}function aw(t){return hc(t)&&!nd(t).M_()&&t.Ta.size>0}function hc(t){return $e(t).Ia.size===0}function dR(t){t.Ra=void 0}async function UF(t){t.Aa.set("Online")}async function zF(t){t.Ta.forEach((e,n)=>{nw(t,e)})}async function $F(t,e){dR(t),aw(t)?(t.Aa.la(e),rw(t)):t.Aa.set("Unknown")}async function qF(t,e,n){if(t.Aa.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ta.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ta.delete(u),a.Ra.removeTarget(u))}(t,e)}catch(r){Te(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pg(t,r)}else if(e instanceof ag?t.Ra.Ye(e):e instanceof WI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ze.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await function(s,l){const u=s.Ra.Pt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ta.get(f);m&&s.Ta.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=s.Ta.get(h);if(!m)return;s.Ta.set(h,m.withResumeToken(Wn.EMPTY_BYTE_STRING,m.snapshotVersion)),uR(s,h);const g=new jo(m.target,h,f,m.sequenceNumber);nw(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Te(tc,"Failed to raise snapshot:",r),await Pg(t,r)}}async function Pg(t,e,n){if(!ed(e))throw e;t.Ia.add(1),await Bf(t),t.Aa.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(tc,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Uv(t)})}function hR(t,e){return e().catch(n=>Pg(t,n,e))}async function zv(t){const e=$e(t),n=Mo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Uj;for(;FF(e);)try{const a=await TF(e.localStore,r);if(a===null){e.Pa.length===0&&n.B_();break}r=a.batchId,HF(e,a)}catch(a){await Pg(e,a)}fR(e)&&mR(e)}function FF(t){return hc(t)&&t.Pa.length<10}function HF(t,e){t.Pa.push(e);const n=Mo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function fR(t){return hc(t)&&!Mo(t).M_()&&t.Pa.length>0}function mR(t){Mo(t).start()}async function KF(t){Mo(t).na()}async function GF(t){const e=Mo(t);for(const n of t.Pa)e.X_(n.mutations)}async function WF(t,e,n){const r=t.Pa.shift(),a=Wj.from(r,e,n);await hR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await zv(t)}async function YF(t,e){e&&Mo(t).Z_&&await async function(r,a){if(function(l){return Pq(l)&&l!==de.ABORTED}(a.code)){const s=r.Pa.shift();Mo(r).N_(),await hR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a)),await zv(r)}}(t,e),fR(t)&&mR(t)}async function hN(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),Te(tc,"RemoteStore received new credentials");const r=hc(n);n.Ia.add(3),await Bf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Uv(n)}async function XF(t,e){const n=$e(t);e?(n.Ia.delete(2),await Uv(n)):e||(n.Ia.add(2),await Bf(n),n.Aa.set("Unknown"))}function nd(t){return t.Va||(t.Va=function(n,r,a){const s=$e(n);return s.ia(),new kF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Zo:UF.bind(null,t),e_:zF.bind(null,t),n_:$F.bind(null,t),J_:qF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),aw(t)?rw(t):t.Aa.set("Unknown")):(await t.Va.stop(),dR(t))})),t.Va}function Mo(t){return t.ma||(t.ma=function(n,r,a){const s=$e(n);return s.ia(),new DF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:KF.bind(null,t),n_:YF.bind(null,t),ea:GF.bind(null,t),ta:WF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await zv(t)):(await t.ma.stop(),t.Pa.length>0&&(Te(tc,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,u=new iw(e,n,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sw(t,e){if(js("AsyncQueue",`${e}: ${t}`),ed(t))return new Se(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{static emptySet(e){return new _u(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _u)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.fa=new Ht(Ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Be(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Du{constructor(e,n,r,a,s,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Du(e,n,_u.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ZF{constructor(){this.queries=mN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=$e(n),s=a.queries;a.queries=mN(),s.forEach((l,u)=>{for(const h of u.wa)h.onError(r)})})(this,new Se(de.ABORTED,"Firestore shutting down"))}}function mN(){return new dc(t=>DI(t),kv)}async function pR(t,e){const n=$e(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.Sa()&&e.ba()&&(r=2):(s=new QF,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(a,!0);break;case 1:s.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const u=sw(l,`Initialization of query '${mu(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&ow(n)}async function gR(t,e){const n=$e(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.wa.indexOf(e);l>=0&&(s.wa.splice(l,1),s.wa.length===0?a=e.ba()?0:1:!s.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JF(t,e){const n=$e(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const u of l.wa)u.Ca(a)&&(r=!0);l.ya=a}}r&&ow(n)}function eH(t,e,n){const r=$e(t),a=r.queries.get(e);if(a)for(const s of a.wa)s.onError(n);r.queries.delete(e)}function ow(t){t.Da.forEach(e=>{e.next()})}var pb,pN;(pN=pb||(pb={})).Fa="default",pN.Cache="cache";class vR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class tH{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=it(),this.mutatedKeys=it(),this.Xa=MI(e),this.eu=new _u(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new fN,a=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((m,g)=>{const y=a.get(m),j=Dv(this.query,g)?g:null,b=!!y&&this.mutatedKeys.has(y.key),_=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let T=!1;y&&j?y.data.isEqual(j.data)?b!==_&&(r.track({type:3,doc:j}),T=!0):this.iu(y,j)||(r.track({type:2,doc:j}),T=!0,(h&&this.Xa(j,h)>0||f&&this.Xa(j,f)<0)&&(u=!0)):!y&&j?(r.track({type:0,doc:j}),T=!0):y&&!j&&(r.track({type:1,doc:y}),T=!0,(h||f)&&(u=!0)),T&&(j?(l=l.add(j),s=_?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:u,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,g)=>function(j,b){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{At:T})}};return _(j)-_(b)}(m.type,g.type)||this.Xa(m.doc,g.doc)),this.su(r),a=a!=null&&a;const u=n&&!a?this.ou():[],h=this.Za.size===0&&this.current&&!a?1:0,f=h!==this.Ya;return this.Ya=h,l.length!==0||f?{snapshot:new Du(this.query,e.eu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new fN,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=it(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new xR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new yR(r))}),n}uu(e){this.Ha=e.qs,this.Za=it();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Du.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lw="SyncEngine";class nH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rH{constructor(e){this.key=e,this.lu=!1}}class aH{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new dc(u=>DI(u),kv),this.Tu=new Map,this.Iu=new Set,this.du=new Ht(Ie.comparator),this.Eu=new Map,this.Au=new Qj,this.Ru={},this.Vu=new Map,this.mu=ku.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function iH(t,e,n=!0){const r=TR(t);let a;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.cu()):a=await bR(r,e,n,!0),a}async function sH(t,e){const n=TR(t);await bR(n,e,!0,!1)}async function bR(t,e,n,r){const a=await EF(t.localStore,mi(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await oH(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&cR(t.remoteStore,a),u}async function oH(t,e,n,r,a){t.gu=(g,y,j)=>async function(_,T,E,C){let N=T.view.nu(E);N.Ds&&(N=await oN(_.localStore,T.query,!1).then(({documents:O})=>T.view.nu(O,N)));const P=C&&C.targetChanges.get(T.targetId),k=C&&C.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(N,_.isPrimaryClient,P,k);return vN(_,T.targetId,M._u),M.snapshot}(t,g,y,j);const s=await oN(t.localStore,e,!0),l=new tH(e,s.qs),u=l.nu(s.documents),h=Lf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=l.applyChanges(u,t.isPrimaryClient,h);vN(t,n,f._u);const m=new nH(e,n,l);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function lH(t,e,n){const r=$e(t),a=r.Pu.get(e),s=r.Tu.get(a.targetId);if(s.length>1)return r.Tu.set(a.targetId,s.filter(l=>!kv(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await fb(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&tw(r.remoteStore,a.targetId),gb(r,a.targetId)}).catch(Ju)):(gb(r,a.targetId),await fb(r.localStore,a.targetId,!0))}async function cH(t,e){const n=$e(t),r=n.Pu.get(e),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tw(n.remoteStore,r.targetId))}async function uH(t,e,n){const r=vH(t);try{const a=await function(l,u){const h=$e(l),f=Mt.now(),m=u.reduce((j,b)=>j.add(b.key),it());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",j=>{let b=ws(),_=it();return h.Os.getEntries(j,m).next(T=>{b=T,b.forEach((E,C)=>{C.isValidDocument()||(_=_.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(j,b)).next(T=>{g=T;const E=[];for(const C of u){const N=Eq(C,g.get(C.key).overlayedDocument);N!=null&&E.push(new qo(C.key,N,AI(N.value.mapValue),ya.exists(!0)))}return h.mutationQueue.addMutationBatch(j,f,E,u)}).next(T=>{y=T;const E=T.applyToLocalDocumentSet(g,_);return h.documentOverlayCache.saveOverlays(j,T.batchId,E)})}).then(()=>({batchId:y.batchId,changes:BI(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,h){let f=l.Ru[l.currentUser.toKey()];f||(f=new Ht(Xe)),f=f.insert(u,h),l.Ru[l.currentUser.toKey()]=f}(r,a.batchId,n),await Vf(r,a.changes),await zv(r.remoteStore)}catch(a){const s=sw(a,"Failed to persist write");n.reject(s)}}async function jR(t,e){const n=$e(t);try{const r=await SF(n.localStore,e);e.targetChanges.forEach((a,s)=>{const l=n.Eu.get(s);l&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.lu=!0:a.modifiedDocuments.size>0?yt(l.lu,14607):a.removedDocuments.size>0&&(yt(l.lu,42227),l.lu=!1))}),await Vf(n,r,e)}catch(r){await Ju(r)}}function gN(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const h=$e(l);h.onlineState=u;let f=!1;h.queries.forEach((m,g)=>{for(const y of g.wa)y.va(u)&&(f=!0)}),f&&ow(h)}(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dH(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),s=a&&a.key;if(s){let l=new Ht(Ie.comparator);l=l.insert(s,rr.newNoDocument(s,ze.min()));const u=it().add(s),h=new Bv(ze.min(),new Map,new Ht(Xe),l,u);await jR(r,h),r.du=r.du.remove(s),r.Eu.delete(e),cw(r)}else await fb(r.localStore,e,!1).then(()=>gb(r,e,n)).catch(Ju)}async function hH(t,e){const n=$e(t),r=e.batch.batchId;try{const a=await wF(n.localStore,e);SR(n,r,null),wR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vf(n,a)}catch(a){await Ju(a)}}async function fH(t,e,n){const r=$e(t);try{const a=await function(l,u){const h=$e(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(g=>(yt(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);SR(r,e,n),wR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vf(r,a)}catch(a){await Ju(a)}}function wR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function SR(t,e,n){const r=$e(t);let a=r.Ru[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function gb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||_R(t,r)})}function _R(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(tw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),cw(t))}function vN(t,e,n){for(const r of n)r instanceof yR?(t.Au.addReference(r.key,e),mH(t,r)):r instanceof xR?(Te(lw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||_R(t,r.key)):Be(19791,{yu:r})}function mH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Te(lw,"New document in limbo: "+n),t.Iu.add(r),cw(t))}function cw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ie(kt.fromString(e)),r=t.mu.next();t.Eu.set(r,new rH(n)),t.du=t.du.insert(n,r),cR(t.remoteStore,new jo(mi(Hj(n.path)),r,"TargetPurposeLimboResolution",Pv.ue))}}async function Vf(t,e,n){const r=$e(t),a=[],s=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{l.push(r.gu(h,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=Jj.Es(h.targetId,f);s.push(g)}}))}),await Promise.all(l),r.hu.J_(a),await async function(h,f){const m=$e(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>me.forEach(f,y=>me.forEach(y.Is,j=>m.persistence.referenceDelegate.addReference(g,y.targetId,j)).next(()=>me.forEach(y.ds,j=>m.persistence.referenceDelegate.removeReference(g,y.targetId,j)))))}catch(g){if(!ed(g))throw g;Te(ew,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const j=m.Fs.get(y),b=j.snapshotVersion,_=j.withLastLimboFreeSnapshotVersion(b);m.Fs=m.Fs.insert(y,_)}}}(r.localStore,s))}async function pH(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){Te(lw,"User change. New user:",e.toKey());const r=await iR(n.localStore,e);n.currentUser=e,function(s,l){s.Vu.forEach(u=>{u.forEach(h=>{h.reject(new Se(de.CANCELLED,l))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vf(n,r.Bs)}}function gH(t,e){const n=$e(t),r=n.Eu.get(e);if(r&&r.lu)return it().add(r.key);{let a=it();const s=n.Tu.get(e);if(!s)return a;for(const l of s){const u=n.Pu.get(l);a=a.unionWith(u.view.tu)}return a}}function TR(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dH.bind(null,e),e.hu.J_=JF.bind(null,e.eventManager),e.hu.pu=eH.bind(null,e.eventManager),e}function vH(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fH.bind(null,e),e}class Ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return jF(this.persistence,new yF,e.initialUser,this.serializer)}Du(e){return new aR(Zj.Vi,this.serializer)}bu(e){return new NF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ig.provider={build:()=>new Ig};class yH extends Ig{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){yt(this.persistence.referenceDelegate instanceof Og,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new aR(r=>Og.Vi(r,n),this.serializer)}}class vb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pH.bind(null,this.syncEngine),await XF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZF}()}createDatastore(e){const n=Vv(e.databaseInfo.databaseId),r=function(s){return new RF(s)}(e.databaseInfo);return function(s,l,u,h){return new LF(s,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,s,l,u){return new VF(r,a,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>gN(this.syncEngine,n,0),function(){return uN.C()?new uN:new CF}())}createSyncEngine(e,n){return function(a,s,l,u,h,f,m){const g=new aH(a,s,l,u,h,f);return m&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const s=$e(a);Te(tc,"RemoteStore shutting down."),s.Ia.add(5),await Bf(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vb.provider={build:()=>new vb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="FirestoreClient";class xH{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=nr.UNAUTHENTICATED,this.clientId=Vj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{Te(Lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(Lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nx(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await iR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>{Po("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Po("Terminating Firestore due to IndexedDb database deletion failed",a)})}),t._offlineComponents=e}async function yN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bH(t);Te(Lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>hN(e.remoteStore,a)),t._onlineComponents=e}async function bH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Lo,"Using user provided OfflineComponentProvider");try{await nx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await nx(t,new Ig)}}else Te(Lo,"Using default OfflineComponentProvider"),await nx(t,new yH(void 0));return t._offlineComponents}async function AR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Lo,"Using user provided OnlineComponentProvider"),await yN(t,t._uninitializedComponentsProvider._online)):(Te(Lo,"Using default OnlineComponentProvider"),await yN(t,new vb))),t._onlineComponents}function jH(t){return AR(t).then(e=>e.syncEngine)}async function NR(t){const e=await AR(t),n=e.eventManager;return n.onListen=iH.bind(null,e.syncEngine),n.onUnlisten=lH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cH.bind(null,e.syncEngine),n}function wH(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,u,h,f){const m=new ER({next:y=>{m.Ou(),l.enqueueAndForget(()=>gR(s,g));const j=y.docs.has(u);!j&&y.fromCache?f.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&y.fromCache&&h&&h.source==="server"?f.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new vR(Hj(u.path),m,{includeMetadataChanges:!0,ka:!0});return pR(s,g)}(await NR(t),t.asyncQueue,e,n,r)),r.promise}function SH(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,u,h,f){const m=new ER({next:y=>{m.Ou(),l.enqueueAndForget(()=>gR(s,g)),y.fromCache&&h.source==="server"?f.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new vR(u,m,{includeMetadataChanges:!0,ka:!0});return pR(s,g)}(await NR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firestore.googleapis.com",bN=!0;class jN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OR,this.ssl=bN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tF)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $v{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O$;switch(r.type){case"firstParty":return new k$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xN.get(n);r&&(Te("ComponentProvider","Removing Datastore"),xN.delete(n),r.terminate())}(this),Promise.resolve()}}function _H(t,e,n,r={}){var a;t=za(t,$v);const s=lc(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;s&&(Sj(`https://${h}`),_j("Firestore",!0)),l.host!==OR&&l.host!==h&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:s,emulatorOptions:r});if(!Xl(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=nr.MOCK_USER;else{m=yP(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new nr(y)}t._authCredentials=new P$(new mI(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Df(n,nn._jsonSchema))return new nn(e,r||null,new Ie(kt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:fn("string",nn._jsonSchemaVersion),referencePath:fn("string")};class No extends fc{constructor(e,n,r){super(e,n,Hj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Ie(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function or(t,e,...n){if(t=gn(t),gI("collection","path",e),t instanceof $v){const r=kt.fromString(e,...n);return kA(r),new No(t,null,r)}{if(!(t instanceof nn||t instanceof No))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return kA(r),new No(t.firestore,null,r)}}function qt(t,e,...n){if(t=gn(t),arguments.length===1&&(e=Vj.newId()),gI("doc","path",e),t instanceof $v){const r=kt.fromString(e,...n);return RA(r),new nn(t,null,new Ie(r))}{if(!(t instanceof nn||t instanceof No))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return RA(r),new nn(t.firestore,t instanceof No?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="AsyncQueue";class SN{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oR(this,"async_queue_retry"),this.oc=()=>{const r=tx();r&&Te(wN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=tx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=tx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ed(e))throw e;Te(wN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,js("INTERNAL UNHANDLED ERROR: ",_N(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=iw.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(a),a}ac(){this.tc&&Be(47125,{hc:_N(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function _N(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mc extends $v{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new SN,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SN(e),this._firestoreClient=void 0,await e}}}function TH(t,e){const n=typeof t=="object"?t:Aj(),r=typeof t=="string"?t:Tg,a=Ev(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=pP("firestore");s&&_H(a,...s)}return a}function uw(t){if(t._terminated)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EH(t),t._firestoreClient}function EH(t){var e,n,r;const a=t._freezeSettings(),s=function(u,h,f,m){return new X$(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,CR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new xH(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Wn.fromBase64String(e))}catch(n){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Df(e,pa._jsonSchema))return pa.fromBase64String(e.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:fn("string",pa._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Df(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:fn("string",gi._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Df(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vi(e.vectorValues);throw new Se(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:fn("string",vi._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=/^__.*__$/;class NH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mf(e,this.data,n,this.fieldTransforms)}}class PR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ec:t})}}class dw{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new dw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(IR(this.Ec)&&AH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class CH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vv(e)}Dc(e,n,r,a=!1){return new dw({Ec:e,methodName:n,bc:r,path:Gn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hv(t){const e=t._freezeSettings(),n=Vv(t._databaseId);return new CH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RR(t,e,n,r,a,s={}){const l=t.Dc(s.merge||s.mergeFields?2:0,e,n,a);fw("Data must be an object, but it was:",l,r);const u=kR(r,l);let h,f;if(s.merge)h=new qr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const y=yb(e,g,n);if(!l.contains(y))throw new Se(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);MR(m,y)||m.push(y)}h=new qr(m),f=l.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=l.fieldTransforms;return new NH(new wr(u),h,f)}class Kv extends Fv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kv}}class hw extends Fv{_toFieldTransform(e){return new wq(e.path,new cf)}isEqual(e){return e instanceof hw}}function OH(t,e,n,r){const a=t.Dc(1,e,n);fw("Data must be an object, but it was:",a,r);const s=[],l=wr.empty();$o(r,(h,f)=>{const m=mw(e,h,n);f=gn(f);const g=a.gc(m);if(f instanceof Kv)s.push(m);else{const y=Uf(f,g);y!=null&&(s.push(m),l.set(m,y))}});const u=new qr(s);return new PR(l,u,a.fieldTransforms)}function PH(t,e,n,r,a,s){const l=t.Dc(1,e,n),u=[yb(e,r,n)],h=[a];if(s.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(yb(e,s[y])),h.push(s[y+1]);const f=[],m=wr.empty();for(let y=u.length-1;y>=0;--y)if(!MR(f,u[y])){const j=u[y];let b=h[y];b=gn(b);const _=l.gc(j);if(b instanceof Kv)f.push(j);else{const T=Uf(b,_);T!=null&&(f.push(j),m.set(j,T))}}const g=new qr(f);return new PR(m,g,l.fieldTransforms)}function IH(t,e,n,r=!1){return Uf(n,t.Dc(r?4:3,e))}function Uf(t,e){if(DR(t=gn(t)))return fw("Unsupported field value:",e,t),kR(t,e);if(t instanceof Fv)return function(r,a){if(!IR(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,a){const s=[];let l=0;for(const u of r){let h=Uf(u,a.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,a){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xq(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mt.fromDate(r);return{timestampValue:Cg(a.serializer,s)}}if(r instanceof Mt){const s=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cg(a.serializer,s)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:XI(a.serializer,r._byteString)};if(r instanceof nn){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xj(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof vi)return function(l,u){return{mapValue:{fields:{[TI]:{stringValue:EI},[Eg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return Kj(u.serializer,f)})}}}}}}(r,a);throw a.wc(`Unsupported field value: ${Ov(r)}`)}(t,e)}function kR(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,a)=>{const s=Uf(a,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof gi||t instanceof pa||t instanceof nn||t instanceof Fv||t instanceof vi)}function fw(t,e,n){if(!DR(n)||!vI(n)){const r=Ov(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function yb(t,e,n){if((e=gn(e))instanceof qv)return e._internalPath;if(typeof e=="string")return mw(t,e);throw Rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const RH=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(RH)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qv(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Se(de.INVALID_ARGUMENT,u+t+h)}function MR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kH extends LR{data(){return super.data()}}function Gv(t,e){return typeof e=="string"?mw(t,e):e instanceof qv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{}class BR extends pw{}function Ma(t,e,...n){let r=[];e instanceof pw&&r.push(e),r=r.concat(n),function(s){const l=s.filter(h=>h instanceof gw).length,u=s.filter(h=>h instanceof Wv).length;if(l>1||l>0&&u>0)throw new Se(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Wv extends BR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wv(e,n,r)}_apply(e){const n=this._parse(e);return VR(e._query,n),new fc(e.firestore,e.converter,ob(e._query,n))}_parse(e){const n=Hv(e.firestore);return function(s,l,u,h,f,m,g){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){EN(g,m);const b=[];for(const _ of g)b.push(TN(h,s,_));y={arrayValue:{values:b}}}else y=TN(h,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||EN(g,m),y=IH(u,l,g,m==="in"||m==="not-in");return hn.create(f,m,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sr(t,e,n){const r=e,a=Gv("where",t);return Wv._create(a,r,n)}class gw extends pw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$a.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,s){let l=a;const u=s.getFlattenedFilters();for(const h of u)VR(l,h),l=ob(l,h)}(e._query,n),new fc(e.firestore,e.converter,ob(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vw extends BR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vw(e,n)}_apply(e){const n=function(a,s,l){if(a.startAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lf(s,l)}(e._query,this._field,this._direction);return new fc(e.firestore,e.converter,function(a,s){const l=a.explicitOrderBy.concat([s]);return new td(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function xb(t,e="asc"){const n=e,r=Gv("orderBy",t);return vw._create(r,n)}function TN(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kI(e)&&n.indexOf("/")!==-1)throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Ie.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $A(t,new Ie(r))}if(n instanceof nn)return $A(t,n._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ov(n)}.`)}function EN(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=function(a,s){for(const l of a)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MH{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(a,s)=>{r[a]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,a;const s=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Eg].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>tn(l.doubleValue));return new vi(s)}convertGeoPoint(e){return new gi(tn(e.latitude),tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);yt(nR(r),9688,{name:e});const a=new sf(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return a.isEqual(n)||js(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zl extends LR{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",zl._jsonSchema={type:fn("string",zl._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class ig extends zl{data(e={}){return super.data(e)}}class Tu{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ig(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const h=new ig(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Lh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const h=new ig(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Lh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:LH(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){t=za(t,nn);const e=za(t.firestore,mc);return wH(uw(e),t._key).then(n=>BH(e,t,n))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:fn("string",Tu._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class zR extends MH{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function ga(t){t=za(t,fc);const e=za(t.firestore,mc),n=uw(e),r=new zR(e);return DH(t._query),SH(n,t._query).then(a=>new Tu(e,r,t,a))}function rd(t,e,n){t=za(t,nn);const r=za(t.firestore,mc),a=UR(t.converter,e,n);return Xv(r,[RR(Hv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ya.none())])}function Kr(t,e,n,...r){t=za(t,nn);const a=za(t.firestore,mc),s=Hv(a);let l;return l=typeof(e=gn(e))=="string"||e instanceof qv?PH(s,"updateDoc",t._key,e,n,r):OH(s,"updateDoc",t._key,e),Xv(a,[l.toMutation(t._key,ya.exists(!0))])}function yw(t){return Xv(za(t.firestore,mc),[new Gj(t._key,ya.none())])}function Yv(t,e){const n=za(t.firestore,mc),r=qt(t),a=UR(t.converter,e);return Xv(n,[RR(Hv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,ya.exists(!1))]).then(()=>r)}function Xv(t,e){return function(r,a){const s=new ds;return r.asyncQueue.enqueueAndForget(async()=>uH(await jH(r),a,s)),s.promise}(uw(t),e)}function BH(t,e,n){const r=n.docs.get(e._key),a=new zR(t);return new zl(t,a,e._key,r,new Lh(n.hasPendingWrites,n.fromCache),e.converter)}function hs(){return new hw("serverTimestamp")}(function(e,n=!0){(function(a){Zu=a})(cc),Ql(new Oo("firestore",(r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new mc(new I$(r.getProvider("auth-internal")),new D$(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(f.options.projectId,m)}(l,a),l);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),di(NA,CA,e),di(NA,CA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebasestorage.googleapis.com",VH="storageBucket",UH=2*60*1e3,zH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ei{constructor(e,n,r=0){super(rx(e),`Firebase Storage: ${n} (${rx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bi||(bi={}));function rx(t){return"storage/"+t}function $H(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(bi.UNKNOWN,t)}function qH(){return new Ai(bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FH(){return new Ai(bi.CANCELED,"User canceled the upload/download.")}function HH(t){return new Ai(bi.INVALID_URL,"Invalid URL '"+t+"'.")}function KH(t){return new Ai(bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function AN(t){return new Ai(bi.INVALID_ARGUMENT,t)}function qR(){return new Ai(bi.APP_DELETED,"The Firebase app was deleted.")}function GH(t){return new Ai(bi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=La.makeFromUrl(e,n)}catch{return new La(e,"")}if(r.path==="")return r;throw KH(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),h={bucket:1,path:3};function f(P){P.path_=decodeURIComponent(P.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",j=new RegExp(`^https?://${g}/${m}/b/${a}/o${y}`,"i"),b={bucket:1,path:3},_=n===$R?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${_}/${a}/${T}`,"i"),N=[{regex:u,indices:h,postModify:s},{regex:j,indices:b,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let P=0;P<N.length;P++){const k=N[P],M=k.regex.exec(e);if(M){const O=M[k.indices.bucket];let D=M[k.indices.path];D||(D=""),r=new La(O,D),k.postModify(r);break}}if(r==null)throw HH(e);return r}}class WH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t,e,n){let r=1,a=null,s=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...T){f||(f=!0,e.apply(null,T))}function g(T){a=setTimeout(()=>{a=null,t(j,h())},T)}function y(){s&&clearTimeout(s)}function j(T,...E){if(f){y();return}if(T){y(),m.call(null,T,...E);return}if(h()||l){y(),m.call(null,T,...E);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let b=!1;function _(T){b||(b=!0,y(),!f&&(a!==null?(T||(u=2),clearTimeout(a),g(0)):T||(u=1)))}return g(0),s=setTimeout(()=>{l=!0,_(!0)},n),_}function XH(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){return t!==void 0}function NN(t,e,n,r){if(r<e)throw AN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw AN(`Invalid value for '${t}'. Expected ${n} or less.`)}function ZH(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var kg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(kg||(kg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n,r,a,s,l,u,h,f,m,g,y=!0,j=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,_)=>{this.resolve_=b,this.reject_=_,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Ip(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===kg.NO_ERROR,h=s.getStatus();if(!u||JH(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===kg.ABORT;r(!1,new Ip(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Ip(f,s))})},n=(r,a)=>{const s=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());QH(h)?s(h):s()}catch(h){l(h)}else if(u!==null){const h=$H();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(a.canceled){const h=this.appDelete_?qR():FH();l(h)}else{const h=qH();l(h)}};this.canceled_?n(!1,new Ip(!1,null,!0)):this.backoffId_=YH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ip{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iK(t,e,n,r,a,s,l=!0,u=!1){const h=ZH(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return rK(m,e),tK(m,n),nK(m,s),aK(m,r),new eK(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oK(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this._service=e,n instanceof La?this._location=n:this._location=La.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dg(e,n)}get root(){const e=new La(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oK(this._location.path)}get storage(){return this._service}get parent(){const e=sK(this._location.path);if(e===null)return null;const n=new La(this._location.bucket,e);return new Dg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GH(e)}}function CN(t,e){const n=e?.[VH];return n==null?null:La.makeFromBucketSpec(n,t)}function lK(t,e,n,r={}){t.host=`${e}:${n}`;const a=lc(e);a&&(Sj(`https://${t.host}/b`),_j("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yP(s,t.app.options.projectId))}class cK{constructor(e,n,r,a,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=$R,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UH,this._maxUploadRetryTime=zH,this._requests=new Set,a!=null?this._bucket=La.makeFromBucketSpec(a,this._host):this._bucket=CN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=La.makeFromBucketSpec(this._url,e):this._bucket=CN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dg(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new WH(qR());{const l=iK(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const ON="@firebase/storage",PN="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="storage";function uK(t=Aj(),e){t=gn(t);const r=Ev(t,FR).getImmediate({identifier:e}),a=pP("storage");return a&&dK(r,...a),r}function dK(t,e,n,r={}){lK(t,e,n,r)}function hK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cK(n,r,a,e,cc)}function fK(){Ql(new Oo(FR,hK,"PUBLIC").setMultipleInstances(!0)),di(ON,PN,""),di(ON,PN,"esm2017")}fK();const mK={apiKey:"AIzaSyD4C8cE_DX6dWL89w_gwR2M3sjAtKK3GHU",authDomain:"rrvision-99414.firebaseapp.com",projectId:"rrvision-99414",storageBucket:"rrvision-99414.firebasestorage.app",messagingSenderId:"808020762931",appId:"808020762931:web:c8b68d4bad3352b037de46"},xw=jP(mK),$l=sI(xw),Ze=TH(xw);uK(xw);const Pn=[],bw=async t=>{console.log("convertFirebaseUser called with:",{uid:t.uid,email:t.email,displayName:t.displayName});const e=await pK(t.uid);console.log("User document from Firestore:",e);const n={id:t.uid,email:t.email||"",displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,emailVerified:t.emailVerified,name:e?.name,company:e?.company,phone:e?.phone,createdAt:e?.createdAt,updatedAt:e?.updatedAt,role:e?.role||"operator",userType:e?.userType||"operator",accessToken:await t.getIdToken()};return e?.userType==="operator"&&e?.operatorData&&(n.operatorData={code:e.operatorData.code||"",primarySectorId:e.operatorData.primarySectorId||"",primarySectorName:e.operatorData.primarySectorName,secondarySectorIds:e.operatorData.secondarySectorIds||[],secondarySectorNames:e.operatorData.secondarySectorNames,trainedActivities:e.operatorData.trainedActivities||[],trainedActivitiesDetails:e.operatorData.trainedActivitiesDetails,status:e.operatorData.status||"active",admissionDate:e.operatorData.admissionDate||"",lastTrainingDate:e.operatorData.lastTrainingDate,nextTrainingDate:e.operatorData.nextTrainingDate,contractType:e.operatorData.contractType||"clt",workSchedule:e.operatorData.workSchedule||"day",weeklyHours:e.operatorData.weeklyHours||40,supervisorId:e.operatorData.supervisorId,supervisorName:e.operatorData.supervisorName,teamId:e.operatorData.teamId,teamName:e.operatorData.teamName,skills:e.operatorData.skills||[],certifications:e.operatorData.certifications||[],accessLevel:e.operatorData.accessLevel||"basic",permissions:e.operatorData.permissions||[]}),console.log("Converted user object:",n),console.log("Converted user name:",n.name),console.log("Converted user role:",n.role),console.log("Is operator:",e?.userType==="operator"),console.log("Operator data:",n.operatorData),n},pK=async t=>{try{console.log("getUserDocument called for uid:",t);const e=qt(Ze,"users",t);console.log("User reference created:",e.path);const n=await is(e);if(console.log("User snapshot exists:",n.exists()),n.exists()){const r=n.data();return console.log("User data retrieved:",r),console.log("User data keys:",Object.keys(r)),console.log("User data values:",Object.values(r)),console.log("User name type:",typeof r.name),console.log("User role type:",typeof r.role),r}return console.log("User document does not exist"),null}catch(e){return console.error("Error getting user document:",e),null}},gK=async(t,e)=>{try{const n=qt(Ze,"users",t);await rd(n,{id:t,email:e.email,name:e.name,company:e.company,phone:e.phone,role:"operator",userType:"operator",createdAt:hs(),updatedAt:hs()})}catch(n){throw console.error("Error creating user document:",n),n}},vK=async t=>{try{const{email:e,password:n,...r}=t,s=(await Dj($l,e,n)).user;return await WP(s,{displayName:r.name}),await gK(s.uid,t),await bw(s)}catch(e){throw console.error("Error registering user:",e),e}},yK=async(t,e)=>{try{const n=await hz($l,t,e);return await bw(n.user)}catch(n){throw console.error("Error logging in:",n),n}},xK=async()=>{try{await YP($l)}catch(t){throw console.error("Error logging out:",t),t}};class HR{static async createOperatorWithUser(e){try{const n=sI(),s=(await Dj(n,e.email,e.password)).user.uid;await YP(n);const l={id:s,email:e.email,name:e.name,displayName:e.displayName||e.name,company:e.company||"",phone:e.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",userId:s,operatorData:{code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],trainedActivities:[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",accessLevel:"basic",permissions:[],certifications:[]}},u={email:l.email,name:l.name,displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",code:l.code,primarySectorId:l.primarySectorId,secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status,admissionDate:l.admissionDate,lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType,workSchedule:l.workSchedule,weeklyHours:l.weeklyHours,supervisorId:l.supervisorId||"",teamId:l.teamId||"",createdAt:hs(),updatedAt:hs()};console.log("Dados para Firestore:",u);const h=qt(Ze,"users",s);return await rd(h,u),Pn.push(l),{user:l,operator:l}}catch(n){throw console.error("Erro ao criar usuário operador:",n),new Error("Falha ao criar usuário operador")}}static async getOperatorByUserId(e){try{const n=qt(Ze,"users",e),r=await is(n);if(r.exists()){const s=r.data();if(s.userType==="operator"&&s.operatorData)return s}const a=Pn.find(s=>s.id===e);return a&&a.userType==="operator"&&a.operatorData?a:null}catch(n){console.error("Erro ao buscar operador por userId:",n);const r=Pn.find(a=>a.id===e);return r&&r.userType==="operator"&&r.operatorData?r:null}}static async getUserByOperatorId(e){try{const n=qt(Ze,"users",e),r=await is(n);return r.exists()?r.data():Pn.find(a=>a.id===e)||null}catch(n){return console.error("Erro ao buscar usuário por operatorId:",n),Pn.find(r=>r.id===e)||null}}static isOperator(e){return e.userType==="operator"&&e.operatorData!==void 0}static async getAllOperatorsWithUsers(){try{const e=or(Ze,"users"),n=Ma(e,Sr("userType","==","operator")),r=await ga(n),a=[];for(const s of r.docs){const l=s.data(),u=s.id,h={id:u,email:l.email||"",name:l.name||"",displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:l.photoURL||null,emailVerified:l.emailVerified||!1,userType:l.userType||"operator",role:l.role||"user",createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt||new Date().toISOString(),updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt||new Date().toISOString(),createdBy:l.createdBy||"system",updatedBy:l.updatedBy||"system",operatorData:{code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],trainedActivities:l.trainedActivities||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",accessLevel:l.accessLevel||"basic",permissions:l.permissions||[],certifications:l.certifications||[]}},f={...h,code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",userId:u};a.push({operator:f,user:h})}return Pn.length=0,a.forEach(({user:s})=>{Pn.push(s)}),console.log("Operadores encontrados:",a.length),a}catch(e){return console.error("Erro ao buscar operadores com usuários:",e),Pn.filter(n=>n.userType==="operator"&&n.operatorData).map(n=>({operator:n,user:n}))}}static async updateOperator(e,n){try{const r=qt(Ze,"users",e);await Kr(r,{...n,updatedAt:hs()});const a=await is(r);if(!a.exists())throw new Error("Operador não encontrado");const s=a.data(),l={id:e,email:s.email||"",name:s.name||"",displayName:s.displayName||"",company:s.company||"",phone:s.phone||"",photoURL:s.photoURL||null,emailVerified:s.emailVerified||!1,userType:s.userType||"operator",role:s.role||"user",createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt||new Date().toISOString(),updatedAt:s.updatedAt?.toDate?.()?.toISOString()||s.updatedAt||new Date().toISOString(),createdBy:s.createdBy||"system",updatedBy:s.updatedBy||"system",code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",userId:e,operatorData:{code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],trainedActivities:s.trainedActivities||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",accessLevel:s.accessLevel||"basic",permissions:s.permissions||[],certifications:s.certifications||[]}},u=Pn.findIndex(h=>h.id===e);return u!==-1&&(Pn[u]=l),l}catch(r){throw console.error("Erro ao atualizar operador:",r),r}}static async deleteOperatorAndUser(e){try{const n=qt(Ze,"users",e),r=await is(n);if(!r.exists())throw new Error("Operador não encontrado");if(r.data().userType!=="operator")throw new Error("Usuário não é um operador");await yw(n),console.log("Operador excluído com sucesso do Firestore");const s=Pn.findIndex(l=>l.id===e);s!==-1&&Pn.splice(s,1)}catch(n){throw console.error("Erro ao excluir operador e usuário:",n),n}}static async getOperatorByCode(e){try{const n=or(Ze,"users"),r=Ma(n,Sr("userType","==","operator")),a=await ga(r);for(const s of a.docs){const l=s.data(),u=s.id;if(l.code===e)return{id:u,email:l.email||"",name:l.name||"",displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:l.photoURL||null,emailVerified:l.emailVerified||!1,userType:l.userType||"operator",role:l.role||"user",createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt||new Date().toISOString(),updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt||new Date().toISOString(),createdBy:l.createdBy||"system",updatedBy:l.updatedBy||"system",code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",userId:u,operatorData:{code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],trainedActivities:l.trainedActivities||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",accessLevel:l.accessLevel||"basic",permissions:l.permissions||[],certifications:l.certifications||[]}}}return Pn.find(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)||null}catch(n){return console.error("Erro ao buscar operador por código:",n),Pn.find(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)||null}}static async isCodeAlreadyUsed(e){try{const n=or(Ze,"users"),r=Ma(n,Sr("userType","==","operator")),a=await ga(r);for(const s of a.docs)if(s.data().code===e)return!0;return Pn.some(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)}catch(n){return console.error("Erro ao verificar código:",n),Pn.some(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)}}static async isEmailAlreadyUsed(e){try{const n=or(Ze,"users"),r=Ma(n,Sr("email","==",e));return(await ga(r)).empty?Pn.some(s=>s.email===e):!0}catch(n){return console.error("Erro ao verificar email:",n),Pn.some(r=>r.email===e)}}}const bK=HR.getAllOperatorsWithUsers,jK=HR.isCodeAlreadyUsed,wK={user:null,loading:!0,error:null},wo={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR"},SK=(t,e)=>{switch(e.type){case wo.SET_LOADING:return{...t,loading:e.payload};case wo.SET_USER:return{...t,user:e.payload,loading:!1,error:null};case wo.SET_ERROR:return{...t,error:e.payload,loading:!1};case wo.CLEAR_ERROR:return{...t,error:null};default:return t}},KR=w.createContext(void 0),_K=({children:t})=>{const[e,n]=w.useReducer(SK,wK),r=w.useCallback(y=>{n({type:wo.SET_LOADING,payload:y})},[]),a=w.useCallback(y=>{n({type:wo.SET_USER,payload:y})},[]),s=w.useCallback(y=>{n({type:wo.SET_ERROR,payload:y})},[]),l=w.useCallback(()=>{n({type:wo.CLEAR_ERROR})},[]),u=w.useCallback(async y=>{try{if(y){const j=await bw(y);a(j)}else a(null)}catch(j){console.error("Error converting Firebase user:",j),s("Failed to load user data"),a(null)}},[a,s]);w.useEffect(()=>{const y=gz($l,u);return()=>y()},[u]);const h=w.useCallback(async(y,j)=>{r(!0),l();try{const b=await yK(y,j);return a(b),b}catch(b){const _=b instanceof Error?b.message:"Login failed";throw s(_),b}},[r,l,a,s]),f=w.useCallback(async y=>{r(!0),l();try{const j=await vK(y);return a(j),j}catch(j){const b=j instanceof Error?j.message:"Registration failed";throw s(b),j}},[r,l,a,s]),m=w.useCallback(async()=>{r(!0),l();try{await xK(),a(null)}catch(y){const j=y instanceof Error?y.message:"Logout failed";throw s(j),y}},[r,l,a,s]),g=w.useMemo(()=>({user:e.user,loading:e.loading,login:h,register:f,logout:m}),[e.user,e.loading,h,f,m]);return w.useCallback(()=>e.user!==null,[e.user]),i.jsx(KR.Provider,{value:g,children:t})},Ha=()=>{const t=w.useContext(KR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},TK=()=>{const{login:t}=Ha(),[e,n]=w.useState(!1),[r,a]=w.useState(null);return{handleLogin:async u=>{n(!0),a(null);try{return await t(u.email,u.password)}catch(h){const f=h instanceof Error?h.message:"Login failed";throw a(f),h}finally{n(!1)}},loading:e,error:r,clearError:()=>a(null)}};function EK(){const[t,e]=w.useState({email:"",password:""}),{goTo:n}=Uo(),{handleLogin:r,loading:a,error:s,clearError:l}=TK();Ha();const u=()=>{n(rt.landing)},h=m=>{s&&l(),e({...t,[m.target.name]:m.target.value})},f=async m=>{m.preventDefault();try{await r(t);let g;g=rt.app,n(g)}catch{}};return i.jsxs("div",{className:"login-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:u,disabled:a,title:"Voltar à página inicial",children:i.jsx(zh,{})}),i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-card",children:[i.jsxs("div",{className:"login-header",children:[i.jsx("h1",{children:"Entrar no Sistema"}),i.jsx("p",{children:"Acesse sua conta RR Vision Brazil"})]}),i.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),i.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:h,required:!0,disabled:a,icon:i.jsx(wj,{})}),i.jsx(Ye,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:h,required:!0,disabled:a,icon:i.jsx(H2,{})}),i.jsxs("div",{className:"form-options",children:[i.jsxs("label",{className:"checkbox-container",children:[i.jsx("input",{type:"checkbox",disabled:a}),"Lembrar de mim"]}),i.jsx("span",{className:"forgot-link",style:{cursor:a?"not-allowed":"pointer",opacity:a?.6:1},onClick:()=>!a&&n(rt.forgotPassword),children:"Esqueceu a senha?"})]}),i.jsx(Ge,{type:"submit",variant:"primary",fullWidth:!0,disabled:a,children:a?"Entrando...":"Entrar"})]}),i.jsx("div",{className:"login-footer",children:i.jsxs("p",{children:["Não tem uma conta?"," ",i.jsx("span",{style:{cursor:a?"not-allowed":"pointer",color:"#fbb040",opacity:a?.6:1},onClick:()=>!a&&n(rt.register),children:"Cadastre-se"})]})})]})})]})}const AK=()=>{const{register:t}=Ha(),[e,n]=w.useState(!1),[r,a]=w.useState(null),s=(h,f)=>h!==f?(a("As senhas não coincidem"),!1):h.length<6?(a("A senha deve ter pelo menos 6 caracteres"),!1):!0;return{handleRegister:async h=>{n(!0),a(null);try{if(!s(h.password,h.confirmPassword)){n(!1);return}const f={name:h.name,email:h.email,company:h.company,phone:h.phone,password:h.password};await t(f)}catch(f){const m=f instanceof Error?f.message:"Registration failed";throw a(m),f}finally{n(!1)}},loading:e,error:r,clearError:()=>a(null)}};function NK(){const[t,e]=w.useState({name:"",email:"",company:"",phone:"",password:"",confirmPassword:""}),[n,r]=w.useState(!1),{goTo:a}=Uo(),{handleRegister:s,loading:l,error:u,clearError:h}=AK(),f=()=>{a(rt.landing)},m=y=>{u&&h(),e({...t,[y.target.name]:y.target.value})},g=async y=>{if(y.preventDefault(),!n){alert("Você deve aceitar os termos de uso e política de privacidade");return}try{await s(t),a(rt.app)}catch(j){console.error("Registration failed:",j)}};return i.jsxs("div",{className:"register-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:f,disabled:l,title:"Voltar à página inicial",children:i.jsx(zh,{})}),i.jsx("div",{className:"register-container",children:i.jsxs("div",{className:"register-card",children:[i.jsxs("div",{className:"register-header",children:[i.jsx("h1",{children:"Criar Conta"}),i.jsx("p",{children:"Cadastre-se no RR Vision Brazil"})]}),i.jsxs("form",{onSubmit:g,className:"register-form",children:[u&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:u}),i.jsxs("div",{className:"form-row",children:[i.jsx(Ye,{type:"text",name:"name",placeholder:"Nome completo",value:t.name,onChange:m,required:!0,disabled:l,icon:i.jsx(RB,{})}),i.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:m,required:!0,disabled:l,icon:i.jsx(wj,{})})]}),i.jsxs("div",{className:"form-row",children:[i.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:m,required:!0,disabled:l,icon:i.jsx(PB,{})}),i.jsx(Ye,{type:"tel",name:"phone",placeholder:"Telefone",value:t.phone,onChange:m,required:!0,disabled:l,icon:i.jsx(IB,{})})]}),i.jsxs("div",{className:"form-row",children:[i.jsx(Ye,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:m,required:!0,disabled:l,icon:i.jsx(H2,{})}),i.jsx(Ye,{type:"password",name:"confirmPassword",placeholder:"Confirmar senha",value:t.confirmPassword,onChange:m,required:!0,disabled:l,icon:i.jsx(H2,{})})]}),i.jsx("div",{className:"form-options",children:i.jsxs("label",{className:"checkbox-container",children:[i.jsx("input",{type:"checkbox",required:!0,disabled:l,checked:n,onChange:y=>r(y.target.checked)}),i.jsx("span",{className:"checkmark"}),"Aceito os"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(rt.terms),children:"termos de uso"})," ","e"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(rt.privacy),children:"política de privacidade"})]})}),i.jsx(Ge,{type:"submit",variant:"primary",fullWidth:!0,disabled:l||!n,children:l?"Criando conta...":"Criar Conta"})]}),i.jsx("div",{className:"register-footer",children:i.jsxs("p",{children:["Já tem uma conta?"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(rt.login),children:"Faça login"})]})})]})})]})}function CK(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[a,s]=w.useState(""),[l,u]=w.useState(!1),{goTo:h}=Uo(),f=j=>{a&&s(""),e(j.target.value)},m=async j=>{if(j.preventDefault(),!t.trim()){s("Por favor, insira seu e-mail");return}r(!0),s("");try{await new Promise(b=>setTimeout(b,2e3)),u(!0),r(!1)}catch{s("Erro ao enviar e-mail de recuperação. Tente novamente."),r(!1)}},g=()=>{h(rt.login)},y=()=>{h(rt.landing)};return l?i.jsxs("div",{className:"recovery-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:y,disabled:n,title:"Voltar à página inicial",children:i.jsx(zh,{})}),i.jsx("div",{className:"recovery-container",children:i.jsxs("div",{className:"recovery-card",children:[i.jsxs("div",{className:"recovery-header",children:[i.jsx("div",{className:"success-icon",children:i.jsx(OB,{})}),i.jsx("h1",{children:"E-mail Enviado!"}),i.jsx("p",{children:"Verifique sua caixa de entrada"})]}),i.jsxs("div",{className:"recovery-success-message",children:[i.jsxs("p",{children:["Enviamos um link de recuperação para ",i.jsx("strong",{children:t})]}),i.jsx("p",{children:"Clique no link recebido para redefinir sua senha. O link expira em 1 hora."})]}),i.jsxs("div",{className:"recovery-actions",children:[i.jsx(Ge,{variant:"secondary",fullWidth:!0,onClick:g,children:"Voltar ao Login"}),i.jsx(Ge,{variant:"outline",fullWidth:!0,onClick:()=>{u(!1),e("")},children:"Enviar Novamente"})]})]})})]}):i.jsxs("div",{className:"recovery-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:y,disabled:n,title:"Voltar à página inicial",children:i.jsx(zh,{})}),i.jsx("div",{className:"recovery-container",children:i.jsxs("div",{className:"recovery-card",children:[i.jsxs("div",{className:"recovery-header",children:[i.jsx("h1",{children:"Recuperar Senha"}),i.jsx("p",{children:"Digite seu e-mail para receber o link de recuperação"})]}),i.jsxs("form",{onSubmit:m,className:"recovery-form",children:[a&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:a}),i.jsx(Ye,{type:"email",name:"email",placeholder:"Digite seu e-mail",value:t,onChange:f,required:!0,disabled:n,icon:i.jsx(wj,{})}),i.jsx(Ge,{type:"submit",variant:"primary",fullWidth:!0,disabled:n||!t.trim(),children:n?"Enviando...":"Enviar Link de Recuperação"})]}),i.jsx("div",{className:"recovery-footer",children:i.jsxs("button",{className:"back-button",onClick:g,disabled:n,style:{cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[i.jsx(zh,{}),"Voltar ao Login"]})})]})})]})}class OK{config;accessToken=null;refreshToken=null;tokenExpiry=0;processingCodes=new Set;constructor(){this.config={clientId:"ea0ed893739830a936ff759edda059ba1d09286c",clientSecret:"c4ef9d26e1cc794e456ec7b5d7913aeb2904527d775895505ccf5e1505d9",baseUrl:"https://api.bling.com.br/Api/v3",accessToken:"",redirectUri:"http://localhost:5173/bling/callback"},this.config.accessToken&&(this.accessToken=this.config.accessToken,this.tokenExpiry=Date.now()+365*24*60*60*1e3)}getAuthorizationUrl(){if(!this.config.clientId)throw new Error("Client ID não configurado. Configure VITE_BLING_CLIENT_ID no arquivo .env");if(!this.config.redirectUri)throw new Error("Redirect URI não configurado. Configure VITE_BLING_REDIRECT_URI no arquivo .env");const n=`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"pedidos:read produtos:read contatos:read",state:this.generateState()}).toString()}`;return console.log("URL de autorização gerada:",n),console.log("Parâmetros da URL:",{client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"pedidos:read produtos:read contatos:read",state:"gerado_automaticamente"}),n}async exchangeCodeForToken(e){try{if(this.processingCodes.has(e))throw new Error("Código já está sendo processado");if(this.processingCodes.add(e),!this.config.clientId)throw this.processingCodes.delete(e),new Error("Client ID não configurado");if(!this.config.clientSecret)throw this.processingCodes.delete(e),new Error("Client Secret não configurado");if(!this.config.redirectUri)throw this.processingCodes.delete(e),new Error("Redirect URI não configurado");console.log("Trocando código por token:",{code:e.substring(0,10)+"...",clientId:this.config.clientId,clientSecret:this.config.clientSecret?"CONFIGURADO":"NÃO CONFIGURADO",redirectUri:this.config.redirectUri});const n="/api/bling/oauth/token",r=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:this.config.redirectUri}),a=btoa(`${this.config.clientId}:${this.config.clientSecret}`),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:r});if(console.log("Resposta da API:",s.status,s.statusText),!s.ok){const u=await s.text();throw console.error("Erro detalhado:",u),new Error(`Erro ao trocar código por token: ${s.status} - ${u}`)}const l=await s.json();return console.log("Token recebido com sucesso"),this.setTokens(l.access_token,l.refresh_token,l.expires_in),this.processingCodes.delete(e),l}catch(n){throw console.error("Erro ao trocar código por token:",n),this.processingCodes.delete(e),n}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("Refresh token não disponível");try{const e="/api/bling/oauth/token",n=new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken}),r=btoa(`${this.config.clientId}:${this.config.clientSecret}`),a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${r}`},body:n});if(!a.ok)throw new Error(`Erro ao renovar token: ${a.status}`);const s=await a.json();return this.setTokens(s.access_token,s.refresh_token,s.expires_in),s}catch(e){throw console.error("Erro ao renovar token:",e),e}}setTokens(e,n,r){this.accessToken=e,n&&(this.refreshToken=n),this.tokenExpiry=Date.now()+(r?r*1e3:365*24*60*60*1e3),localStorage.setItem("bling_access_token",e),n&&localStorage.setItem("bling_refresh_token",n),localStorage.setItem("bling_token_expiry",this.tokenExpiry.toString()),window.dispatchEvent(new CustomEvent("blingTokenChanged"))}loadSavedTokens(){const e=localStorage.getItem("bling_access_token"),n=localStorage.getItem("bling_refresh_token"),r=localStorage.getItem("bling_token_expiry");e&&r&&(this.accessToken=e,this.refreshToken=n,this.tokenExpiry=parseInt(r))}hasValidToken(){const e=this.accessToken||localStorage.getItem("bling_access_token");return!!(e&&!e.startsWith("demo-token-"))}isDemoMode(){const e=this.accessToken||localStorage.getItem("bling_access_token");return!e||e.startsWith("demo-token-")}setAccessToken(e){this.setTokens(e)}generateState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}isTokenValid(){return this.accessToken!==null&&Date.now()<this.tokenExpiry}async getValidToken(){if(this.accessToken||this.loadSavedTokens(),!this.accessToken)throw new Error("Token de acesso não configurado. Faça a autenticação OAuth primeiro.");if(this.tokenExpiry-Date.now()<5*60*1e3&&this.refreshToken)try{await this.refreshAccessToken()}catch(e){console.warn("Não foi possível renovar o token:",e)}if(!this.isTokenValid())throw new Error("Token de acesso expirado e não foi possível renovar. Refaça a autenticação.");return this.accessToken}async makeApiCall(e,n={}){if(this.isDemoMode())return this.simulateApiResponse(e);const r=await this.getValidToken(),a=`${this.config.baseUrl}${e}`,s={Authorization:`Bearer ${r}`,"Content-Type":"application/json",...n.headers};return fetch(a,{...n,headers:s})}simulateApiResponse(e){return new Promise(n=>{setTimeout(()=>{const r=this.getMockDataForEndpoint(e);n(new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json"}}))},500)})}getMockDataForEndpoint(e){return e.includes("/vendas")||e.includes("/pedidos")?{data:this.getDemoOrders(1,10).data,total:4,page:1}:e.includes("/produtos")?{data:[{id:"1",codigo:"PROD001",descricao:"Produto A - Modelo Premium",preco:150,estoque:100},{id:"2",codigo:"PROD002",descricao:"Produto B - Modelo Standard",preco:200,estoque:50}],total:2,page:1}:e.includes("/contatos")?{data:[{id:"1",nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},{id:"2",nome:"Comércio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"}],total:2,page:1}:{data:[],total:0,page:1,message:"Endpoint simulado em modo demonstração"}}async getOrders(e=1,n=50,r){if(this.isDemoMode())return this.getDemoOrders(e,n);try{const a=new URLSearchParams({page:e.toString(),limit:n.toString()});r?.dataInicial&&a.append("dataInicial",r.dataInicial),r?.dataFinal&&a.append("dataFinal",r.dataFinal),r?.situacao&&a.append("situacao",r.situacao),r?.cliente&&a.append("cliente",r.cliente);const s=await this.makeApiCall(`/vendas?${a.toString()}`);if(!s.ok)throw new Error(`Erro ao buscar vendas: ${s.status}`);const l=await s.json();return{data:l.data||[],total:l.total||0,page:l.page||e}}catch(a){throw console.error("Erro ao buscar vendas:",a),a}}getDemoOrders(e=1,n=50){const r=[{id:"1",numero:"V001",data:"2024-01-15",dataSaida:"2024-01-20",cliente:{nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},itens:[{codigo:"PROD001",descricao:"Produto A - Modelo Premium",quantidade:100,valor:150}],observacoes:"Pedido urgente - cliente VIP",situacao:"em_producao",total:15e3},{id:"2",numero:"V002",data:"2024-01-16",dataSaida:"2024-01-22",cliente:{nome:"Comércio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"},itens:[{codigo:"PROD002",descricao:"Produto B - Modelo Standard",quantidade:50,valor:200}],observacoes:"",situacao:"em_aberto",total:1e4},{id:"3",numero:"V003",data:"2024-01-18",dataSaida:"2024-01-25",cliente:{nome:"Indústria DEF Ltda",email:"compras@industriadef.com",telefone:"(11) 77777-7777"},itens:[{codigo:"PROD003",descricao:"Produto C - Modelo Industrial",quantidade:200,valor:75}],observacoes:"Entrega programada",situacao:"aguardando_producao",total:15e3},{id:"4",numero:"V004",data:"2024-01-10",dataSaida:"2024-01-17",cliente:{nome:"Distribuidora GHI Ltda",email:"pedidos@distribuidoraghi.com",telefone:"(11) 66666-6666"},itens:[{codigo:"PROD004",descricao:"Produto D - Modelo Especial",quantidade:75,valor:300}],observacoes:"",situacao:"concluido",total:22500}],a=(e-1)*n,s=a+n;return{data:r.slice(a,s),total:r.length,page:e}}async getProductionOrders(e=1,n=50){try{const r=["em_aberto","em_producao","aguardando_producao"],a=[];let s=0;for(const l of r){const u=await this.getOrders(e,n,{situacao:l});a.push(...u.data),s+=u.total}return{data:a,total:s}}catch(r){throw console.error("Erro ao buscar vendas de produção:",r),r}}async getOrderById(e){try{const n=await this.makeApiCall(`/vendas/${e}`);if(!n.ok)throw new Error(`Erro ao buscar venda: ${n.status}`);return(await n.json()).data}catch(n){throw console.error("Erro ao buscar venda:",n),n}}async getProducts(e=1,n=50){try{const r=await this.makeApiCall(`/produtos?page=${e}&limit=${n}`);if(!r.ok)throw new Error(`Erro ao buscar produtos: ${r.status}`);return await r.json()}catch(r){throw console.error("Erro ao buscar produtos:",r),r}}async getCustomers(e=1,n=50){try{const r=await this.makeApiCall(`/contatos?page=${e}&limit=${n}`);if(!r.ok)throw new Error(`Erro ao buscar clientes: ${r.status}`);return await r.json()}catch(r){throw console.error("Erro ao buscar clientes:",r),r}}async testConnection(){if(this.isDemoMode())return{success:!0};try{const e=await this.makeApiCall("/contatos?page=1&limit=1");return e.ok?{success:!0}:{success:!1,error:`Erro ${e.status}: ${e.statusText}`}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Erro desconhecido"}}}async testEndpoints(){const e=["/vendas","/pedidos","/vendas/pedidos","/pedidos/vendas","/orders","/sales","/vendas?page=1&limit=1","/pedidos?page=1&limit=1","/notas-fiscais","/notas","/nfe","/vendas/notas","/pedidos/notas","/vendas/lista","/pedidos/lista","/vendas/list","/pedidos/list","/vendas/all","/pedidos/all"],n=[];for(const r of e)try{const a=await this.makeApiCall(r);n.push({endpoint:r,status:a.status,success:a.ok})}catch{n.push({endpoint:r,status:0,success:!1})}return n}async testApiStructure(){const e=["/","/api","/v3","/v3/","/v3/endpoints","/v3/resources","/v3/help","/v3/docs","/v3/status","/v3/info","/v2","/v2/","/v2/pedidos","/v2/vendas","/v3/pedidos","/v3/vendas"],n=[];for(const r of e)try{const a=await this.makeApiCall(r);let s=null;if(a.ok)try{s=await a.json()}catch{}n.push({endpoint:r,status:a.status,success:a.ok,data:s})}catch{n.push({endpoint:r,status:0,success:!1})}return n}async testApiBaseUrls(){if(this.isDemoMode())return[{baseUrl:"/api/bling (proxy local)",status:200,success:!0,data:{message:"Modo demonstração ativo - usando proxy local"}}];const e=[];try{const n=await this.makeApiCall("/produtos?page=1&limit=1");let r=null;if(n.ok)try{r=await n.json()}catch{r={message:"Resposta não é JSON válido"}}e.push({baseUrl:"/api/bling (proxy local)",status:n.status,success:n.ok,data:r})}catch(n){e.push({baseUrl:"/api/bling (proxy local)",status:0,success:!1,data:{error:n instanceof Error?n.message:"Erro desconhecido"}})}return e}async syncData(){const e=[];let n=0,r=0,a=0;try{this.loadSavedTokens();try{n=(await this.getProductionOrders(1,100)).total}catch(u){e.push(`Erro ao sincronizar pedidos: ${u instanceof Error?u.message:"Erro desconhecido"}`)}try{r=(await this.getProducts(1,100)).data?.length||0}catch(u){e.push(`Erro ao sincronizar produtos: ${u instanceof Error?u.message:"Erro desconhecido"}`)}try{a=(await this.getCustomers(1,100)).data?.length||0}catch(u){e.push(`Erro ao sincronizar clientes: ${u instanceof Error?u.message:"Erro desconhecido"}`)}const s=e.length===0||n>0||r>0||a>0,l=s?`Sincronização concluída: ${n} pedidos, ${r} produtos, ${a} clientes`:"Falha na sincronização de todos os dados";return{orders:n,products:r,customers:a,success:s,message:l,errors:e,lastSync:new Date().toISOString()}}catch(s){return console.error("Erro geral na sincronização:",s),{orders:0,products:0,customers:0,success:!1,message:`Erro geral na sincronização: ${s instanceof Error?s.message:"Erro desconhecido"}`,errors:[s instanceof Error?s.message:"Erro desconhecido"],lastSync:new Date().toISOString()}}}initialize(){this.loadSavedTokens()}getConfigurationStatus(){const e=[],n=!!this.config.clientId,r=!!this.config.clientSecret,a=!!this.config.redirectUri;n||e.push("Client ID não configurado"),r||e.push("Client Secret não configurado"),a||e.push("Redirect URI não configurado");let s=null;try{n&&a&&(s=this.getAuthorizationUrl())}catch(l){e.push(`Erro ao gerar URL de autorização: ${l instanceof Error?l.message:"Erro desconhecido"}`)}return{clientId:n,clientSecret:r,redirectUri:a,baseUrl:this.config.baseUrl,authUrl:s,errors:e}}testAuthorizationSetup(){const e=this.getAuthorizationUrl(),n=["1. Acesse: https://www.bling.com.br/central.extensoes.php","2. Vá para 'Minhas instalações' → 'Gestão de estoques'","3. Clique nos 3 pontos da 'API Borderless'","4. Configure a URL de callback: http://localhost:5173/bling/callback","5. Habilite as permissões: Pedidos, Produtos, Contatos","6. Salve as configurações"],r=["✅ Client ID configurado","✅ Client Secret configurado","✅ Redirect URI configurado","❓ Aplicação registrada no Bling","❓ URL de callback configurada no Bling","❓ Permissões OAuth habilitadas no Bling"],a={config:{clientId:this.config.clientId?`${this.config.clientId.substring(0,10)}...`:"NÃO CONFIGURADO",clientSecret:this.config.clientSecret?"CONFIGURADO":"NÃO CONFIGURADO",redirectUri:this.config.redirectUri,baseUrl:this.config.baseUrl},authUrl:e,expectedCallback:"http://localhost:5173/bling/callback"};return{authUrl:e,instructions:n,checklist:r,debugInfo:a}}async validateBlingApp(){const e=[],n=[];this.config.clientId||e.push("Client ID não configurado no .env"),this.config.clientSecret||e.push("Client Secret não configurado no .env"),this.config.redirectUri||e.push("Redirect URI não configurado no .env");try{const r=this.getAuthorizationUrl(),a=new URL(r);a.searchParams.get("client_id")||e.push("Client ID não está sendo incluído na URL de autorização"),a.searchParams.get("redirect_uri")||e.push("Redirect URI não está sendo incluído na URL de autorização"),a.searchParams.get("response_type")||e.push("Response type não está sendo incluído na URL de autorização")}catch(r){e.push(`Erro ao gerar URL de autorização: ${r instanceof Error?r.message:"Erro desconhecido"}`)}return e.length===0?(n.push("Configuração local parece estar correta"),n.push("Verifique se a aplicação está registrada no painel do Bling"),n.push("Teste a URL de autorização manualmente no navegador")):(n.push("Corrija os erros de configuração primeiro"),n.push("Verifique o arquivo .env")),{isValid:e.length===0,errors:e,suggestions:n}}async testAppRegistration(){const e=this.getAuthorizationUrl();try{return(await fetch(e,{method:"HEAD"})).ok?{isRegistered:!0,message:"✅ Aplicação parece estar registrada corretamente",testUrl:e,instructions:["1. Cole a URL de teste no navegador","2. Faça login no Bling se necessário","3. Autorize a aplicação","4. Verifique se é redirecionado para o callback"]}:{isRegistered:!1,message:"❌ Aplicação não encontrada ou não registrada",testUrl:e,instructions:["1. Verifique se a aplicação está ativa no painel do Bling","2. Confirme se o Client ID está correto","3. Verifique se as permissões estão habilitadas","4. Entre em contato com o suporte do Bling se necessário"]}}catch(n){return{isRegistered:!1,message:`❌ Erro ao testar aplicação: ${n instanceof Error?n.message:"Erro desconhecido"}`,testUrl:e,instructions:["1. Verifique sua conexão com a internet","2. Teste a URL manualmente no navegador","3. Verifique se o Bling está funcionando"]}}}getManualTestUrl(){return`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({response_type:"code",client_id:this.config.clientId,redirect_uri:this.config.redirectUri||"http://localhost:5173/bling/callback",scope:"pedidos:read produtos:read contatos:read",state:`fresh_${Date.now()}`}).toString()}`}async testAppFunctionality(){const e=this.getManualTestUrl(),n=!!this.config.clientId,r=!!this.config.clientSecret,a=!!this.config.redirectUri,s={clientId:n?`${this.config.clientId.substring(0,10)}...`:"NÃO CONFIGURADO",clientSecret:r?"CONFIGURADO":"NÃO CONFIGURADO",redirectUri:this.config.redirectUri||"NÃO CONFIGURADO",baseUrl:this.config.baseUrl};return!n||!r||!a?{status:"error",message:"❌ Configuração incompleta",manualTestUrl:e,configStatus:s,nextSteps:["1. Verifique se todas as variáveis estão no .env","2. Reinicie o servidor após alterar o .env","3. Confirme se o Client ID e Secret estão corretos"]}:{status:"ready",message:"✅ Configuração parece estar correta",manualTestUrl:e,configStatus:s,nextSteps:["1. Cole a URL de teste no navegador","2. Faça login no Bling se necessário","3. Autorize a aplicação IMEDIATAMENTE","4. Verifique se é redirecionado com código","5. ⚠️ IMPORTANTE: Use o código imediatamente após receber"]}}getFreshAuthorizationUrl(){return`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({response_type:"code",client_id:this.config.clientId,redirect_uri:this.config.redirectUri||"http://localhost:5173/bling/callback",scope:"pedidos:read produtos:read contatos:read",state:`fresh_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}).toString()}`}}const Rt=new OK;typeof window<"u"&&(window.blingService=Rt);function PK(){const[t]=PL(),e=Cs(),[n,r]=w.useState("loading"),[a,s]=w.useState("Processando autorização..."),[l,u]=w.useState(new Set);w.useEffect(()=>{(async()=>{try{console.log("URL completa:",window.location.href),console.log("Parâmetros da URL:",Object.fromEntries(t.entries()));const g=t.get("code"),y=t.get("error"),j=t.get("state"),b=t.get("error_description");if(console.log("Parâmetros encontrados:",{code:g,error:y,state:j,errorDescription:b}),y){r("error"),s(`Erro na autorização: ${b||y}`),console.error("Erro OAuth:",y,b);return}if(!g){r("error"),s("Código de autorização não encontrado. Isso geralmente indica que a aplicação não está configurada corretamente no painel do Bling."),console.error("Código de autorização não encontrado. URL:",window.location.href),console.error("Possíveis causas:"),console.error("1. Aplicação não registrada no Bling"),console.error("2. URL de callback não configurada no Bling"),console.error("3. Client ID incorreto"),console.error("4. Permissões OAuth não habilitadas");return}if(l.has(g)){console.log("Código já foi processado anteriormente:",g.substring(0,10)+"..."),r("success"),s("Autorização já foi processada com sucesso! Redirecionando..."),setTimeout(()=>{e("/bling-integration")},1e3);return}u(_=>new Set(_).add(g)),s("Processando código de autorização..."),await Rt.exchangeCodeForToken(g),r("success"),s("Autorização realizada com sucesso! Redirecionando..."),setTimeout(()=>{e("/bling-integration")},2e3)}catch(g){console.error("Erro no callback:",g),r("error"),s(`Erro ao processar autorização: ${g instanceof Error?g.message:"Erro desconhecido"}`)}})()},[t,e]);const h=()=>{switch(n){case"loading":return i.jsx(oP,{className:"spinning"});case"success":return i.jsx(Fr,{className:"success"});case"error":return i.jsx(pt,{className:"error"})}},f=()=>{switch(n){case"loading":return"loading";case"success":return"success";case"error":return"error"}};return i.jsx("div",{className:"bling-callback-page",children:i.jsx("div",{className:"bling-callback-container",children:i.jsxs("div",{className:`callback-status ${f()}`,children:[i.jsx("div",{className:"status-icon",children:h()}),i.jsx("h1",{children:"Autorização Bling"}),i.jsx("p",{className:"status-message",children:a}),n==="error"&&i.jsx("div",{className:"error-actions",children:i.jsx("button",{className:"btn btn-primary",onClick:()=>e("/bling-integration"),children:"Voltar para Configuração"})})]})})})}function IK({currentPage:t,onPageChange:e,variant:n="default"}){const[r,a]=w.useState(!1),[s,l]=w.useState(null),[u,h]=w.useState({top:0,left:0}),f=Ha(),{user:m,logout:g}=f,{goTo:y}=Uo();console.log("Sidebar Auth Data:",f),console.log("Sidebar User Data:",{name:m?.name,email:m?.email,role:m?.role,id:m?.id}),console.log("Full user object in Sidebar:",m),console.log("User type:",typeof m),console.log("User is null?",m===null),console.log("User is undefined?",m===void 0);const j=[{id:"orders",title:"Dashboard",icon:i.jsx(tP,{}),description:"Visão Geral do Sistema",badge:null,access:["admin"]},{id:"user-creation",title:"Usuário",icon:i.jsx(yB,{}),description:"Gerenciar Usuários",badge:null,access:["admin"]},{id:"product-management",title:"Gerenciar Produtos",icon:i.jsx(ys,{}),description:"Cadastro e Gestão de Produtos",badge:null,access:["admin"]},{id:"schedule",title:"Agenda",icon:i.jsx(Nf,{}),description:"Agenda do Operador",badge:null,access:["admin","operator"]},{id:"productivity",title:"Produtividade",icon:i.jsx(lr,{}),description:"Painel de Produtividade",badge:null,access:["admin"]},{id:"nonconformities",title:"Não Conformidades",icon:i.jsx(pt,{}),description:"Controle de Qualidade",badge:"2",access:["admin"]},{id:"alerts",title:"Alertas",icon:i.jsx(oc,{}),description:"Alertas e Notificações",badge:"5",access:["admin"]},{id:"control",title:"Painel de Controle",icon:i.jsx(Ba,{}),description:"Monitoramento do Sistema",badge:null,access:["admin"]},{id:"bling-test",title:"Teste Bling",icon:i.jsx(tB,{}),description:"Testar Integração Bling",badge:null,access:["user","admin"]},{id:"products",title:"Produtos",icon:i.jsx(ys,{}),description:"Gestão de Produtos",badge:null,access:["user","admin"],subItems:[{id:"accessory",title:"Accessory"},{id:"aviation-plug",title:"Aviation plug"},{id:"hvc",title:"HVC"},{id:"connector",title:"Connector"},{id:"fuse-relay-box",title:"Fuse and relay box"},{id:"terminal",title:"Terminal"},{id:"rubber-parts",title:"Rubber Parts"},{id:"backshell",title:"Backshell"},{id:"manifolds",title:"Manifolds"},{id:"wire-harness",title:"Wire harness"},{id:"pcb-connector",title:"PCB connector"}]},{id:"operational-routes",title:"Roteiros Operacionais",icon:i.jsx(Nu,{}),description:"Cadastro de Roteiros de Produção",badge:null,access:["admin"]},{id:"operational-routes-list",title:"Lista de Roteiros",icon:i.jsx(Nu,{}),description:"Visualizar Todos os Roteiros",badge:null,access:["admin"]}],b=[{id:"admin-users",title:"Gerenciar Usuários",icon:i.jsx(bB,{}),description:"Administração do Sistema",badge:null,access:["admin"]}],T=(()=>{if(n==="admin")return b;if(m?.userType==="operator"||m?.role==="operator")return j.filter(M=>M.id==="schedule");const P=m?.role||"user";return[...j,...P==="admin"?b:[]].filter(M=>M.access.includes(P)||M.access.includes("admin")||P==="admin")})(),E=P=>{if(P==="admin-users"){y(rt.admin);return}e(P)},C=P=>{const M={accessory:rt.productAccessory,"aviation-plug":rt.productAviationPlug,hvc:rt.productHvc,connector:rt.productConnector,"fuse-relay-box":rt.productFuseRelayBox,terminal:rt.productTerminal,"rubber-parts":rt.productRubberParts,backshell:rt.productBackshell,manifolds:rt.productManifolds,"wire-harness":rt.productWireHarness,"pcb-connector":rt.productPcbConnector}[P];y(M||rt.products),l(null)},N=async()=>{try{await g(),y(rt.landing)}catch(P){console.error("Logout failed:",P)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`sidebar ${r?"sidebar-collapsed":""}`,children:[i.jsxs("div",{className:"sidebar-header",children:[i.jsx("div",{className:"sidebar-logo",children:!r&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"logo-text",children:"RR Vision"}),i.jsx("span",{className:"logo-subtitle",children:"Brazil"})]})}),i.jsx("button",{className:"sidebar-toggle",onClick:()=>a(!r),title:r?"Expandir sidebar":"Recolher sidebar",children:r?i.jsx($2,{}):i.jsx(eP,{})})]}),i.jsx("nav",{className:"sidebar-nav",children:i.jsx("div",{className:"nav-section",children:T.map(P=>i.jsxs("div",{className:"nav-item-wrapper",onMouseEnter:k=>{if(l(P.id),P.subItems){const M=k.currentTarget.getBoundingClientRect();h({top:M.top-120,left:M.right+8})}},onMouseLeave:()=>l(null),children:[i.jsxs("button",{className:`nav-item ${t===P.id?"nav-item-active":""}`,onClick:()=>E(P.id),title:r?P.title:"",children:[i.jsx("span",{className:"nav-icon",children:P.icon}),!r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"nav-content",children:[i.jsx("span",{className:"nav-title",children:P.title}),i.jsx("span",{className:"nav-description",children:P.description})]}),P.badge&&i.jsx("span",{className:"nav-badge",children:P.badge}),P.subItems&&i.jsx("span",{className:"nav-chevron",children:i.jsx($2,{})})]})]}),P.subItems&&s===P.id&&!r&&i.jsxs("div",{className:"nav-dropdown",style:{top:`${u.top}px`,left:`${u.left}px`},children:[i.jsx("div",{className:"dropdown-header",children:i.jsx("span",{className:"dropdown-title",children:"Products"})}),i.jsx("div",{className:"dropdown-content",children:P.subItems.map(k=>i.jsx("button",{className:"dropdown-item",onClick:()=>C(k.id),children:k.title},k.id))})]})]},P.id))})}),i.jsxs("div",{className:"sidebar-footer",children:[n!=="admin"&&i.jsx(i.Fragment,{children:i.jsxs("button",{className:"footer-item",title:"Configurações",onClick:()=>e("settings"),children:[i.jsx("span",{className:"footer-icon",children:i.jsx(Ba,{})}),!r&&i.jsx("span",{children:"Configurações"})]})}),i.jsxs("button",{className:"footer-item logout-btn",onClick:N,title:"Sair",children:[i.jsx("span",{className:"footer-icon",children:i.jsx(hB,{})}),!r&&i.jsx("span",{children:"Sair"})]})]})]}),!r&&i.jsx("div",{className:"sidebar-overlay",onClick:()=>a(!0)})]})}class kl{static mapBlingOrderToOrder(e){const n={em_aberto:"pending",em_producao:"in_progress",aguardando_producao:"pending",concluido:"completed",cancelado:"cancelled"},r=this.determinePriority(e),a=e.dataSaida||this.addDays(e.data,7);return{id:e.id,orderNumber:e.numero,customer:e.cliente.nome,product:this.getMainProductDescription(e.itens),quantity:this.getTotalQuantity(e.itens),status:n[e.situacao]||"pending",priority:r,createdAt:e.data,dueDate:a,completedAt:e.situacao==="concluido"?e.dataSaida:void 0}}static determinePriority(e){return e.total>1e4?"urgent":e.situacao==="em_producao"?"high":e.itens.length>5?"medium":e.observacoes?.toLowerCase().includes("urgente")||e.observacoes?.toLowerCase().includes("prioridade")?"urgent":"low"}static getMainProductDescription(e){if(e.length===0)return"Sem produtos";const n=e[0];return`${n.descricao} (${n.codigo})`}static getTotalQuantity(e){return e.reduce((n,r)=>n+r.quantidade,0)}static addDays(e,n){const r=new Date(e);return r.setDate(r.getDate()+n),r.toISOString().split("T")[0]}static mapBlingOrdersToOrders(e){return e.map(n=>this.mapBlingOrderToOrder(n))}static calculateOrderStats(e){return{totalOrders:e.length,pendingOrders:e.filter(n=>n.status==="pending").length,inProgressOrders:e.filter(n=>n.status==="in_progress").length,completedOrders:e.filter(n=>n.status==="completed").length,cancelledOrders:e.filter(n=>n.status==="cancelled").length,urgentOrders:e.filter(n=>n.priority==="urgent").length,highPriorityOrders:e.filter(n=>n.priority==="high").length,mediumPriorityOrders:e.filter(n=>n.priority==="medium").length,lowPriorityOrders:e.filter(n=>n.priority==="low").length}}static filterOrdersByStatus(e,n){return n==="all"?e:e.filter(r=>r.status===n)}static filterOrdersByPriority(e,n){return e.filter(r=>r.priority===n)}static sortOrdersByPriority(e){const n={urgent:4,high:3,medium:2,low:1};return[...e].sort((r,a)=>{const s=n[a.priority]-n[r.priority];return s!==0?s:new Date(r.dueDate).getTime()-new Date(a.dueDate).getTime()})}}const GR=(t={})=>{const{accessToken:e,autoRefresh:n=!1,refreshInterval:r=3e4,pageSize:a=50}=t,[s,l]=w.useState([]),[u,h]=w.useState(!1),[f,m]=w.useState(null),[g,y]=w.useState(null),[j]=w.useState(1),b=w.useCallback(async()=>{const P=e||localStorage.getItem("bling_access_token");if(!P){m("Access token não configurado. Configure a integração com Bling primeiro."),l([]);return}h(!0),m(null);try{if(Rt.setAccessToken(P),!Rt.hasValidToken())throw new Error("Token inválido ou expirado. Configure um novo token.");const k=await Rt.getOrders(j,a),M=kl.mapBlingOrdersToOrders(k.data);l(M),y(new Date)}catch(k){const M=k instanceof Error?k.message:"Erro ao carregar pedidos do Bling";m(M),l([]),console.error("Erro ao carregar pedidos:",k)}finally{h(!1)}},[e,j,a]),_=w.useCallback(async()=>{await b()},[b]),T=w.useCallback(P=>kl.filterOrdersByStatus(s,P),[s]),E=w.useCallback(P=>kl.filterOrdersByPriority(s,P),[s]),C=w.useCallback(()=>kl.sortOrdersByPriority(s),[s]),N=kl.calculateOrderStats(s);return w.useEffect(()=>{e&&b()},[b]),w.useEffect(()=>{if(!n||!e)return;const P=setInterval(()=>{b()},r);return()=>clearInterval(P)},[n,e,r,b]),{orders:s,loading:u,error:f,stats:N,lastSync:g,refresh:_,filterByStatus:T,filterByPriority:E,sortByPriority:C}},WR=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null);return w.useEffect(()=>{const a=()=>{const u=localStorage.getItem("bling_access_token");e(!!u),r(u)};a();const s=u=>{u.key==="bling_access_token"&&a()},l=()=>{a()};return window.addEventListener("storage",s),window.addEventListener("blingTokenChanged",l),()=>{window.removeEventListener("storage",s),window.removeEventListener("blingTokenChanged",l)}},[]),{hasToken:t,token:n}};function RK({userName:t}){return i.jsx("div",{className:"dashboard-header",children:i.jsx("div",{className:"header-content",children:i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{children:"Dashboard"}),i.jsxs("p",{children:["Bem-vindo, ",t]})]})})})}function Rp({title:t,icon:e,value:n,change:r,changeType:a}){return i.jsx("div",{className:"stat-card",children:i.jsxs("div",{className:"stat-grid",children:[i.jsx("div",{className:"stat-title",children:t}),i.jsx("div",{className:"stat-icon",children:e}),i.jsx("div",{className:"stat-value",children:n}),i.jsx("div",{className:`stat-change ${a}`,children:r})]})})}function kK({stats:t}){return i.jsxs("div",{className:"dashboard-stats",children:[i.jsx(Rp,{title:"Total de Pedidos",icon:i.jsx(tP,{}),value:t.totalOrders,change:"+2 hoje",changeType:"positive"}),i.jsx(Rp,{title:"Produtividade",icon:i.jsx(sc,{}),value:`${t.productivity}%`,change:"+3% esta semana",changeType:"positive"}),i.jsx(Rp,{title:"Pedidos Pendentes",icon:i.jsx(pt,{}),value:t.pendingOrders,change:"Atenção necessária",changeType:"negative"}),i.jsx(Rp,{title:"Eficiência",icon:i.jsx(pg,{}),value:`${t.efficiency}%`,change:"Operação normal",changeType:"positive"})]})}function DK({orders:t,filterStatus:e,onFilterChange:n}){const r=t.filter(l=>e==="all"?!0:e==="urgent"?l.priority==="urgent":l.status===e),a=(l,u)=>{let h="status-badge";switch(u==="urgent"&&(h+=" urgent"),l){case"pending":return h+" pending";case"in_progress":return h+" production";case"completed":return h+" completed";case"cancelled":return h+" cancelled";default:return h}},s=l=>{switch(l){case"pending":return"Pendente";case"production":return"Em Produção";case"completed":return"Concluído";case"urgent":return"Urgente";default:return l}};return i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{className:"section-title",children:"Ordens de Produção"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"btn-icon",title:"Atualizar",children:i.jsx(kn,{})}),i.jsx("button",{className:"btn-icon",title:"Exportar",children:i.jsx(lr,{})}),i.jsx("button",{className:"btn-icon",title:"Configurações",children:i.jsx(Ba,{})})]})]}),i.jsxs("div",{className:"orders-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status:"}),i.jsxs("select",{className:"filter-select",value:e,onChange:l=>n(l.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"pending",children:"Pendente"}),i.jsx("option",{value:"production",children:"Em Produção"}),i.jsx("option",{value:"completed",children:"Concluído"}),i.jsx("option",{value:"urgent",children:"Urgente"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Período:"}),i.jsxs("select",{className:"filter-select",children:[i.jsx("option",{children:"Hoje"}),i.jsx("option",{children:"Esta Semana"}),i.jsx("option",{children:"Este Mês"})]})]})]}),i.jsxs("table",{className:"orders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"OP"}),i.jsx("th",{children:"Produto"}),i.jsx("th",{children:"Qtd"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Progresso"}),i.jsx("th",{children:"Previsão"}),i.jsx("th",{children:"Alertas"})]})}),i.jsx("tbody",{children:r.map(l=>i.jsxs("tr",{className:"order-row",children:[i.jsx("td",{children:i.jsx("div",{className:"order-id",children:l.id})}),i.jsx("td",{children:i.jsx("div",{className:"order-product",children:l.product})}),i.jsx("td",{children:l.quantity}),i.jsx("td",{children:i.jsx("span",{className:a(l.status,l.priority),children:s(l.status)})}),i.jsxs("td",{children:[i.jsx("div",{className:"progress-container",children:i.jsx("div",{className:"progress-bar",style:{width:"0%"}})}),i.jsx("div",{className:"progress-text",children:"0%"})]}),i.jsx("td",{children:i.jsx("div",{className:"date-cell",children:new Date(l.dueDate).toLocaleDateString("pt-BR")})}),i.jsx("td",{children:l.priority==="urgent"&&i.jsx("span",{className:"alert-icon",children:i.jsx(pt,{})})})]},l.id))})]})]})}function MK({alerts:t}){return i.jsxs("div",{className:"alerts-panel",children:[i.jsx("div",{className:"panel-header",children:i.jsx("h4",{className:"panel-title",children:"Alertas e Notificações"})}),i.jsx("div",{className:"panel-content",children:t.map(e=>i.jsxs("div",{className:`alert-item ${e.severity}`,children:[i.jsxs("div",{className:"alert-content",children:[i.jsx("h4",{children:e.title}),i.jsx("p",{children:e.description})]}),i.jsx("span",{className:"alert-timestamp",children:e.createdAt})]},e.id))})]})}function LK({sectors:t}){const e=n=>{switch(n){case"active":return"Ativo";case"inactive":return"Inativo";case"idle":return"Ocioso";case"blocked":return"Bloqueado";default:return n}};return i.jsxs("div",{className:"sectors-panel",children:[i.jsx("div",{className:"panel-header",children:i.jsx("h4",{className:"panel-title",children:"Status dos Setores"})}),i.jsx("div",{className:"panel-content",children:t.map((n,r)=>i.jsxs("div",{className:"sector-item",children:[i.jsxs("div",{className:"sector-info",children:[i.jsx("h4",{children:n.name}),i.jsxs("p",{children:["Código: ",n.code," | Descrição: ",n.description]})]}),i.jsxs("div",{className:"sector-status",children:[i.jsx("div",{className:`status-indicator status-${n.isActive?"active":"inactive"}`}),i.jsx("span",{children:e(n.isActive?"active":"inactive")})]})]},r))})]})}function YR({onTokenSet:t}){const[e,n]=w.useState(""),[r,a]=w.useState(!1),[s,l]=w.useState(null),u=async()=>{if(!e.trim()){l({success:!1,message:"Digite um token válido"});return}a(!0),l(null);try{Rt.setAccessToken(e);const f=await Rt.getOrders(1,1);l({success:!0,message:`Token configurado com sucesso! Encontrados ${f.total} pedidos.`}),t?.()}catch(f){const m=f instanceof Error?f.message:"Erro desconhecido";l({success:!1,message:`Erro ao configurar token: ${m}`})}finally{a(!1)}},h=()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),n(""),l(null),t?.()};return i.jsxs("div",{className:"bling-test-token",children:[i.jsxs("div",{className:"test-header",children:[i.jsx(Sv,{className:"key-icon"}),i.jsx("h3",{children:"Configurar Token do Bling"}),i.jsx("p",{children:"Configure um Access Token válido do Bling para testar a integração."})]}),i.jsxs("div",{className:"test-form",children:[i.jsxs("div",{className:"input-group",children:[i.jsx("label",{htmlFor:"token-input",children:"Access Token:"}),i.jsx("input",{id:"token-input",type:"text",value:e,onChange:f=>n(f.target.value),placeholder:"Cole seu Access Token do Bling aqui...",disabled:r})]}),i.jsxs("div",{className:"button-group",children:[i.jsx("button",{className:"btn btn-primary",onClick:u,disabled:r||!e.trim(),children:r?"Testando...":"Configurar Token"}),i.jsx("button",{className:"btn btn-outline",onClick:h,disabled:r,children:"Limpar Token"})]})]}),s&&i.jsxs("div",{className:`test-result ${s.success?"success":"error"}`,children:[i.jsx("div",{className:"result-icon",children:s.success?i.jsx(sr,{}):i.jsx(pt,{})}),i.jsx("div",{className:"result-message",children:s.message})]}),i.jsxs("div",{className:"test-info",children:[i.jsx("h4",{children:"Como obter um Access Token:"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Acesse sua conta do Bling"}),i.jsx("li",{children:"Vá em Configurações → API"}),i.jsx("li",{children:"Gere um novo Access Token"}),i.jsx("li",{children:"Cole o token no campo acima"})]}),i.jsxs("div",{className:"warning",children:[i.jsx("strong",{children:"⚠️ Importante:"})," Este é um token de teste. Em produção, use OAuth 2.0 para maior segurança."]})]})]})}function BK({onConfigure:t}){const[e,n]=w.useState(!1);return i.jsxs("div",{className:"bling-setup-instructions",children:[i.jsxs("div",{className:"setup-header",children:[i.jsx(pt,{className:"warning-icon"}),i.jsx("h2",{children:"Configure a Integração com Bling"}),i.jsx("p",{children:"Para visualizar dados reais de pedidos, você precisa configurar a integração com o Bling."})]}),i.jsxs("div",{className:"setup-steps",children:[i.jsx("h3",{children:"Como configurar:"}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Obter Access Token"}),i.jsx("p",{children:"Acesse sua conta do Bling e gere um Access Token para a API."})]})]}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Configurar no Sistema"}),i.jsx("p",{children:"Use o botão abaixo para acessar a página de configuração."})]})]}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Testar Conexão"}),i.jsx("p",{children:"Teste a conexão para garantir que está funcionando corretamente."})]})]})]}),i.jsxs("div",{className:"setup-benefits",children:[i.jsx("h3",{children:"Benefícios da integração:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx(sr,{})," Dados reais de pedidos em tempo real"]}),i.jsxs("li",{children:[i.jsx(sr,{})," Estatísticas atualizadas automaticamente"]}),i.jsxs("li",{children:[i.jsx(sr,{})," Sincronização automática a cada minuto"]}),i.jsxs("li",{children:[i.jsx(sr,{})," Status de pedidos atualizado"]}),i.jsxs("li",{children:[i.jsx(sr,{})," Prioridades calculadas automaticamente"]})]})]}),i.jsxs("div",{className:"setup-actions",children:[i.jsxs("button",{className:"btn btn-primary btn-large",onClick:t,children:[i.jsx(mg,{}),"Configurar Integração Agora"]}),i.jsxs("button",{className:"btn btn-outline btn-large",onClick:()=>n(!e),children:[i.jsx(Sv,{}),e?"Ocultar":"Testar Token Rapidamente"]})]}),e&&i.jsx("div",{className:"token-test-section",children:i.jsx(YR,{onTokenSet:()=>{n(!1),window.location.reload()}})}),i.jsx("div",{className:"setup-note",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Nota:"})," Sem a integração configurada, o sistema mostrará dados mockados para demonstração. Configure a integração para ver dados reais do seu Bling."]})})]})}function XR({hasToken:t,lastSync:e,error:n,onConfigure:r}){return t?n?i.jsxs("div",{className:"bling-integration-status error",children:[i.jsx("div",{className:"status-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"status-content",children:[i.jsx("h3",{children:"Erro na integração com Bling"}),i.jsx("p",{children:n}),i.jsxs("p",{className:"last-sync",children:["Última sincronização: ",e?e.toLocaleString():"Nunca"]})]})]}):i.jsxs("div",{className:"bling-integration-status success",children:[i.jsx("div",{className:"status-icon",children:i.jsx(Fr,{})}),i.jsxs("div",{className:"status-content",children:[i.jsx("h3",{children:"Integração com Bling ativa"}),i.jsx("p",{children:"Dados sendo sincronizados automaticamente"}),i.jsxs("p",{className:"last-sync",children:["Última sincronização: ",e?e.toLocaleString():"Nunca"]})]})]}):i.jsx(BK,{onConfigure:r||(()=>{})})}function QR({onDataChange:t}){const[e,n]=w.useState(!0),[r,a]=w.useState(!1),s=[{id:"1",numero:"V001",data:"2024-01-15",dataSaida:"2024-01-20",cliente:{nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},itens:[{codigo:"PROD001",descricao:"Produto A - Modelo Premium",quantidade:100,valor:150}],observacoes:"Pedido urgente - cliente VIP",situacao:"em_producao",total:15e3},{id:"2",numero:"V002",data:"2024-01-16",dataSaida:"2024-01-22",cliente:{nome:"Comércio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"},itens:[{codigo:"PROD002",descricao:"Produto B - Modelo Standard",quantidade:50,valor:200},{codigo:"PROD003",descricao:"Produto C - Modelo Básico",quantidade:25,valor:100}],observacoes:"",situacao:"em_aberto",total:12500},{id:"3",numero:"V003",data:"2024-01-18",dataSaida:"2024-01-25",cliente:{nome:"Indústria DEF Ltda",email:"compras@industriadef.com",telefone:"(11) 77777-7777"},itens:[{codigo:"PROD004",descricao:"Produto D - Modelo Industrial",quantidade:200,valor:75}],observacoes:"Entrega programada",situacao:"aguardando_producao",total:15e3},{id:"4",numero:"V004",data:"2024-01-10",dataSaida:"2024-01-17",cliente:{nome:"Distribuidora GHI Ltda",email:"pedidos@distribuidoraghi.com",telefone:"(11) 66666-6666"},itens:[{codigo:"PROD005",descricao:"Produto E - Modelo Especial",quantidade:75,valor:300}],observacoes:"",situacao:"concluido",total:22500}],l=kl.mapBlingOrdersToOrders(s),u=kl.calculateOrderStats(l),h=()=>{n(!e),t&&t(e?[]:l)},f=()=>{a(!1),n(!1),window.location.reload()};return i.jsxs("div",{className:"bling-demo-data",children:[i.jsxs("div",{className:"demo-header",children:[i.jsxs("div",{className:"demo-info",children:[i.jsx(ts,{className:"info-icon"}),i.jsxs("div",{className:"info-content",children:[i.jsx("h3",{children:"Dados de Demonstração"}),i.jsx("p",{children:"Exibindo dados simulados do Bling. Configure um token real para ver seus dados."})]})]}),i.jsxs("div",{className:"demo-controls",children:[i.jsxs("button",{className:`btn btn-outline ${e?"active":""}`,onClick:h,children:[e?i.jsx(rP,{}):i.jsx(Xu,{}),e?"Ocultar Demo":"Mostrar Demo"]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>a(!r),children:"Configurar Token Real"})]})]}),e&&i.jsxs("div",{className:"demo-content",children:[i.jsxs("div",{className:"demo-stats",children:[i.jsx("h4",{children:"Estatísticas dos Dados de Demonstração:"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.totalOrders}),i.jsx("span",{className:"stat-label",children:"Total de Pedidos"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.pendingOrders}),i.jsx("span",{className:"stat-label",children:"Pendentes"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.inProgressOrders}),i.jsx("span",{className:"stat-label",children:"Em Produção"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.completedOrders}),i.jsx("span",{className:"stat-label",children:"Concluídos"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.urgentOrders}),i.jsx("span",{className:"stat-label",children:"Urgentes"})]})]})]}),i.jsxs("div",{className:"demo-orders",children:[i.jsx("h4",{children:"Pedidos de Demonstração:"}),i.jsx("div",{className:"orders-list",children:l.map(m=>i.jsxs("div",{className:"order-item",children:[i.jsxs("div",{className:"order-header",children:[i.jsx("span",{className:"order-number",children:m.orderNumber}),i.jsxs("span",{className:`status-badge status-${m.status}`,children:[m.status==="pending"&&"Pendente",m.status==="in_progress"&&"Em Produção",m.status==="completed"&&"Concluído",m.status==="cancelled"&&"Cancelado"]}),i.jsxs("span",{className:`priority-badge priority-${m.priority}`,children:[m.priority==="urgent"&&"Urgente",m.priority==="high"&&"Alta",m.priority==="medium"&&"Média",m.priority==="low"&&"Baixa"]})]}),i.jsxs("div",{className:"order-details",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Cliente:"})," ",m.customer]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Produto:"})," ",m.product]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantidade:"})," ",m.quantity]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Vencimento:"})," ",new Date(m.dueDate).toLocaleDateString("pt-BR")]})]})]},m.id))})]})]}),r&&i.jsx("div",{className:"token-config-section",children:i.jsx(YR,{onTokenSet:f})})]})}function VK(){const{user:t,logout:e,loading:n}=Ha(),{goTo:r}=Uo(),{hasToken:a,token:s}=WR(),{orders:l,loading:u,error:h,stats:f,lastSync:m,refresh:g}=GR({accessToken:s||void 0,autoRefresh:!0,refreshInterval:6e4}),[y,j]=w.useState([]),[b,_]=w.useState([]),[T,E]=w.useState("all"),[,C]=w.useState([]),[N,P]=w.useState(new Date),[k,M]=w.useState([]);w.useEffect(()=>{const z=[{id:"1",title:"Atraso Crítico",description:"OP-2024-001 está 2 dias atrasada",severity:"critical",priority:"urgent",status:"active",location:{sector:"Produção"},relatedEntity:{id:"OP-2024-001",name:"Pedido OP-2024-001"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T10:30:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"2",title:"Setor Ocioso",description:"Setor de Acabamento com 40% de ociosidade",severity:"medium",priority:"medium",status:"active",location:{sector:"Acabamento"},relatedEntity:{id:"acabamento",name:"Setor de Acabamento"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"3",title:"Importação Concluída",description:"15 novos pedidos importados do Bling",severity:"low",priority:"low",status:"active",location:{sector:"Sistema"},relatedEntity:{id:"bling",name:"Integração Bling"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T08:45:00Z",updatedAt:"2024-01-20T08:45:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]}],ve=[{id:"1",name:"Corte",code:"CORT",description:"Setor de Corte",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de Montagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de Acabamento",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"4",name:"Embalagem",code:"EMBA",description:"Setor de Embalagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"}],he=["08:45 [INFO] Iniciando importação do Bling...","08:46 [SUCCESS] 15 pedidos importados com sucesso","08:47 [INFO] Processando roteiros de produção...","08:48 [SUCCESS] Roteiros carregados para 12 produtos","08:49 [WARNING] 3 produtos sem roteiro definido","08:50 [INFO] Calculando tempos de produção...","08:51 [SUCCESS] Importação finalizada"];j(z),_(ve),C(he)},[]);const O=async()=>{try{await e(),r(rt.landing)}catch(z){console.error("Logout failed:",z)}},D=async()=>{try{await g();const z=`${new Date().toLocaleTimeString()} [SUCCESS] Dados do Bling atualizados com sucesso`;C(ve=>[...ve,z]),P(m||new Date)}catch(z){const ve=`${new Date().toLocaleTimeString()} [ERROR] Erro ao atualizar dados do Bling`;C(he=>[...he,ve]),console.error("Erro ao atualizar dados do Bling:",z)}},B=a?l:k,F=a?f:{totalOrders:k.length,pendingOrders:k.filter(z=>z.status==="pending").length,completedOrders:k.filter(z=>z.status==="completed").length,inProgressOrders:k.filter(z=>z.status==="in_progress").length,cancelledOrders:k.filter(z=>z.status==="cancelled").length,urgentOrders:k.filter(z=>z.priority==="urgent").length,highPriorityOrders:k.filter(z=>z.priority==="high").length,mediumPriorityOrders:k.filter(z=>z.priority==="medium").length,lowPriorityOrders:k.filter(z=>z.priority==="low").length},V={totalAlerts:y.length,activeAlerts:y.filter(z=>z.status==="active").length,resolvedAlerts:y.filter(z=>z.status==="resolved").length,totalOrders:F.totalOrders,pendingOrders:F.pendingOrders,completedOrders:F.completedOrders,productivity:84,efficiency:84};if(n||u)return i.jsxs("div",{className:"dashboard-loading",children:[i.jsx("p",{children:"Carregando dashboard..."}),u&&i.jsx("p",{children:"Carregando dados do Bling..."})]});if(!t)return r(rt.login),null;const L=t.name||t.displayName||t.email;return i.jsx("div",{className:"dashboard-page",children:i.jsxs("div",{className:"dashboard-container",children:[i.jsx(RK,{userName:L,lastSync:m||N,onImportBling:D,onLogout:O}),i.jsx(kK,{stats:V}),i.jsxs("div",{className:"dashboard-content",children:[a?i.jsx(XR,{hasToken:a,lastSync:m,error:h,onConfigure:()=>r("/bling-integration")}):i.jsx(QR,{onDataChange:M}),(!h||!a)&&i.jsx(DK,{orders:B,filterStatus:T,onFilterChange:E}),i.jsxs("div",{className:"sidebar-section",children:[i.jsx(MK,{alerts:y}),i.jsx(LK,{sectors:b})]})]})]})})}function UK(){return i.jsx(VK,{})}function zK({viewMode:t,setViewMode:e,currentTime:n,onStartShift:r,onStopShift:a,isShiftStarted:s=!1,elapsedTime:l=null,hasActiveWorkRecord:u=!1}){return i.jsxs("div",{className:"schedule-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"Agenda do Operador"})}),i.jsxs("div",{className:"header-controls",children:[i.jsx("div",{className:"shift-control",children:s?i.jsxs("div",{className:"shift-status",children:[l&&i.jsx("span",{className:"elapsed-time",children:l}),i.jsxs("button",{className:"stop-shift-btn",onClick:a,title:"Parar Jornada de Trabalho",children:[i.jsx("span",{className:"btn-icon",children:"⏹"}),i.jsx("span",{className:"btn-text",children:"Parar"})]})]}):i.jsxs("button",{className:"start-shift-btn",onClick:r,title:u?"Continuar Jornada de Trabalho":"Iniciar Jornada de Trabalho",children:[i.jsx("span",{className:"btn-icon",children:"▶"}),i.jsx("span",{className:"btn-text",children:u?"Continuar Jornada":"Iniciar Jornada"})]})}),i.jsxs("div",{className:"view-toggle",children:[i.jsx("button",{className:`toggle-btn ${t==="day"?"active":""}`,onClick:()=>e("day"),children:"Dia"}),i.jsx("button",{className:`toggle-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"})]}),i.jsxs("div",{className:"current-time",children:[i.jsx("span",{className:"time-label",children:"Hora Atual"}),i.jsx("span",{className:"time-value",children:n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})}function $K({stats:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Fr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",children:[t.tasksCompleted,"/",t.dailyTarget]}),i.jsx("div",{className:"stat-label",children:"Tarefas Concluídas"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(sc,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency,"%"]}),i.jsx("div",{className:"stat-label",children:"Eficiência Média"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:n(t.totalWorkTime)}),i.jsx("div",{className:"stat-label",children:"Tempo Trabalhado"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(cP,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",children:["#",t.ranking]}),i.jsx("div",{className:"stat-label",children:"Ranking Equipe"})]})]})]})}function qK({currentTask:t,activeBreak:e,currentTime:n,handlePauseTask:r,handleCompleteTask:a,handleStartBreak:s,handleEndBreak:l,calculateProgress:u,calculateActualTime:h}){return t?i.jsxs("div",{className:"current-task-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h3",{children:"Tarefa Atual"}),i.jsx("div",{className:"task-timer",children:t.actualStartTime&&i.jsxs("span",{children:["Iniciada às ",t.actualStartTime," •"," ",Math.floor(h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))/60),"h"," ",h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))%60,"m"]})})]}),i.jsxs("div",{className:"current-task-content",children:[i.jsxs("div",{className:"task-info",children:[i.jsx("h4",{children:t.activity}),i.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),i.jsx("p",{className:"task-description",children:t.description}),i.jsxs("div",{className:"task-progress",children:[i.jsx("div",{className:"progress-bar-container",children:i.jsx("div",{className:"progress-bar",style:{width:`${u(t)}%`}})}),i.jsxs("span",{className:"progress-text",children:[Math.round(u(t)),"%"]})]})]}),i.jsxs("div",{className:"task-controls",children:[i.jsxs("div",{className:"break-controls",children:[i.jsx("h5",{children:"Pausas"}),i.jsx("div",{className:"break-buttons",children:e?i.jsxs("div",{className:"active-break",children:[i.jsxs("span",{children:["Pausa: ",e.type," desde ",e.startTime]}),i.jsx("button",{className:"end-break-btn",onClick:l,children:"Finalizar Pausa"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"break-btn coffee",onClick:()=>s("coffee"),children:[i.jsx(QL,{})," Café"]}),i.jsxs("button",{className:"break-btn lunch",onClick:()=>s("lunch"),children:[i.jsx(jB,{})," Almoço"]}),i.jsxs("button",{className:"break-btn bathroom",onClick:()=>s("bathroom"),children:[i.jsx(dB,{})," Banheiro"]}),i.jsxs("button",{className:"break-btn other",onClick:()=>s("other"),children:[i.jsx(F2,{})," Outra"]})]})})]}),i.jsxs("div",{className:"task-actions",children:[i.jsxs("button",{className:"action-btn pause",onClick:()=>r(t.id),children:[i.jsx(F2,{})," Pausar"]}),i.jsxs("button",{className:"action-btn nonconformity",children:[i.jsx(pt,{})," Não Conformidade"]}),i.jsxs("button",{className:"action-btn complete",onClick:()=>a(t.id),children:[i.jsx(sr,{})," Finalizar"]})]})]})]})]}):null}function FK({task:t,handleStartTask:e,getTaskStatusColor:n,getPriorityColor:r,getEfficiencyColor:a,formatTime:s}){return i.jsxs("div",{className:`task-card ${t.status}`,children:[i.jsxs("div",{className:"task-timeline",children:[i.jsxs("div",{className:"time-slot",children:[i.jsx("span",{className:"start-time",children:t.startTime}),i.jsx("span",{className:"end-time",children:t.endTime})]}),i.jsx("div",{className:"timeline-indicator",style:{backgroundColor:n(t.status)},children:i.jsx("div",{className:"timeline-dot"})})]}),i.jsxs("div",{className:"task-details",children:[i.jsxs("div",{className:"task-header",children:[i.jsx("h4",{className:"task-title",children:t.activity}),i.jsxs("div",{className:"task-badges",children:[i.jsx("span",{className:"priority-badge",style:{backgroundColor:r(t.priority)},children:t.priority.toUpperCase()}),i.jsx("span",{className:"status-badge",children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),i.jsx("p",{className:"task-description",children:t.description}),i.jsxs("div",{className:"task-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Estimado:"}),i.jsx("span",{className:"metric-value",children:s(t.estimatedTime+t.setupTime)})]}),t.actualTime&&i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Real:"}),i.jsx("span",{className:"metric-value",children:s(t.actualTime)})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Eficiência:"}),i.jsx("span",{className:"metric-value",style:{color:t.actualTime?a(t.estimatedTime/t.actualTime*100):"#4a5568"},children:t.actualTime?`${Math.round(t.estimatedTime/t.actualTime*100)}%`:"N/A"})]})]}),i.jsxs("div",{className:"task-skills",children:[i.jsx("span",{className:"skills-label",children:"Habilidades:"}),t.requiredSkills.map((l,u)=>i.jsx("span",{className:"skill-tag",children:l},u))]}),t.status==="pending"&&i.jsx("div",{className:"task-actions",children:i.jsxs("button",{className:"start-btn",onClick:()=>e(t.id),children:[i.jsx(uB,{})," Iniciar Tarefa"]})}),t.breaks.length>0&&i.jsxs("div",{className:"task-breaks",children:[i.jsx("span",{className:"breaks-label",children:"Pausas:"}),t.breaks.map((l,u)=>i.jsxs("span",{className:"break-tag",children:[l.type," (",l.duration,"min)"]},u))]})]})]})}function HK({tasks:t,currentDate:e,setCurrentDate:n,handleStartTask:r,getTaskStatusColor:a,getPriorityColor:s,getEfficiencyColor:l,formatTime:u,onDateChange:h}){return i.jsxs("div",{className:"tasks-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Tarefas do Dia"}),i.jsxs("div",{className:"date-selector",children:[i.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()-864e5);n(f),h?.(f)},children:"←"}),i.jsx("span",{className:"current-date",children:e.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),i.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()+864e5);n(f),h?.(f)},children:"→"})]})]}),i.jsx("div",{className:"tasks-list",children:t.map(f=>i.jsx(FK,{task:f,handleStartTask:r,getTaskStatusColor:a,getPriorityColor:s,getEfficiencyColor:l,formatTime:u},f.id))})]})}function KK({tasks:t,onFilterChange:e,onSortChange:n,currentTask:r,onQuickAction:a}){const[s,l]=w.useState("all"),[u,h]=w.useState("time"),[f,m]=w.useState(!0),g={total:t.length,pending:t.filter(T=>T.status==="pending").length,completed:t.filter(T=>T.status==="completed").length,urgent:t.filter(T=>T.priority==="urgent").length,delayed:t.filter(T=>T.status==="delayed").length},y=T=>{l(T);let E=[...t];switch(T){case"priority":E=t.filter(C=>C.priority==="urgent"||C.priority==="high");break;case"sector":{const C=t.reduce((P,k)=>(P[k.sector]=(P[k.sector]||0)+1,P),{}),N=Object.keys(C).reduce((P,k)=>C[P]>C[k]?P:k);E=t.filter(P=>P.sector===N);break}case"status":E=t.filter(C=>C.status==="pending"||C.status==="in_progress");break;case"upcoming":{const C=new Date,N=C.getHours()*60+C.getMinutes();E=t.filter(P=>{const[k,M]=P.startTime.split(":").map(Number);return k*60+M>N&&P.status==="pending"});break}default:E=t}e(E)},j=T=>{h(T);const E=[...t];switch(T){case"time":E.sort((C,N)=>{const P=C.startTime.split(":").map(Number),k=N.startTime.split(":").map(Number);return P[0]*60+P[1]-(k[0]*60+k[1])});break;case"priority":{const C={urgent:4,high:3,medium:2,low:1};E.sort((N,P)=>C[P.priority]-C[N.priority]);break}case"duration":E.sort((C,N)=>N.estimatedTime+N.setupTime-(C.estimatedTime+C.setupTime));break;case"sector":E.sort((C,N)=>C.sector.localeCompare(N.sector));break}n(E)},b=[{id:"start-next",icon:i.jsx(mg,{}),label:"Iniciar Próxima",action:()=>a("start-next"),disabled:!t.find(T=>T.status==="pending")||!!r},{id:"pause-current",icon:i.jsx(Ft,{}),label:"Pausar Atual",action:()=>a("pause-current"),disabled:!r||r.status!=="in_progress"},{id:"complete-current",icon:i.jsx(sr,{}),label:"Finalizar Atual",action:()=>a("complete-current"),disabled:!r},{id:"emergency-break",icon:i.jsx(pt,{}),label:"Pausa Emergência",action:()=>a("emergency-break"),disabled:!1}],_=T=>{const E=Math.floor(T/60),C=T%60;return E>0?`${E}h ${C}m`:`${C}m`};return i.jsxs("div",{className:`quick-actions-panel ${f?"expanded":"collapsed"}`,children:[i.jsxs("div",{className:"panel-header",children:[i.jsxs("div",{className:"panel-title",children:[i.jsx("span",{className:"panel-icon",children:i.jsx(sc,{})}),i.jsx("span",{children:"Ações Rápidas"})]}),i.jsx("button",{className:"expand-btn",onClick:()=>m(!f),children:f?i.jsx(sB,{}):i.jsx(Jh,{})})]}),f&&i.jsxs("div",{className:"panel-content",children:[i.jsxs("div",{className:"quick-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:g.total}),i.jsx("span",{className:"stat-label",children:"Total"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value pending",children:g.pending}),i.jsx("span",{className:"stat-label",children:"Pendentes"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value completed",children:g.completed}),i.jsx("span",{className:"stat-label",children:"Concluídas"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value urgent",children:g.urgent}),i.jsx("span",{className:"stat-label",children:"Urgentes"})]})]}),i.jsxs("div",{className:"filters-container",children:[i.jsxs("div",{className:"filter-section",children:[i.jsx("h4",{children:"Filtros"}),i.jsxs("div",{className:"filter-buttons",children:[i.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>y("all"),children:[i.jsx(Va,{})," Todas"]}),i.jsxs("button",{className:`filter-btn ${s==="priority"?"active":""}`,onClick:()=>y("priority"),children:[i.jsx(aP,{})," Prioridade"]}),i.jsxs("button",{className:`filter-btn ${s==="status"?"active":""}`,onClick:()=>y("status"),children:[i.jsx(Ft,{})," Ativas"]}),i.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>y("upcoming"),children:[i.jsx(mg,{})," Próximas"]})]})]}),i.jsxs("div",{className:"sort-section",children:[i.jsx("h4",{children:"Ordenar por"}),i.jsxs("div",{className:"sort-buttons",children:[i.jsxs("button",{className:`sort-btn ${u==="time"?"active":""}`,onClick:()=>j("time"),children:[i.jsx(Ft,{})," Horário"]}),i.jsxs("button",{className:`sort-btn ${u==="priority"?"active":""}`,onClick:()=>j("priority"),children:[i.jsx(mB,{})," Prioridade"]}),i.jsxs("button",{className:`sort-btn ${u==="duration"?"active":""}`,onClick:()=>j("duration"),children:[i.jsx(Ft,{})," Duração"]}),i.jsxs("button",{className:`sort-btn ${u==="sector"?"active":""}`,onClick:()=>j("sector"),children:[i.jsx(pg,{})," Setor"]})]})]})]}),i.jsxs("div",{className:"actions-section",children:[i.jsx("h4",{children:"Ações"}),i.jsx("div",{className:"action-buttons",children:b.map(T=>i.jsxs("button",{className:`action-btn ${T.disabled?"disabled":""}`,onClick:T.action,disabled:T.disabled,title:T.label,children:[i.jsx("span",{className:"action-icon",children:T.icon}),i.jsx("span",{className:"action-label",children:T.label})]},T.id))})]}),r&&i.jsxs("div",{className:"current-task-info",children:[i.jsx("h4",{children:"Tarefa Atual"}),i.jsxs("div",{className:"task-summary",children:[i.jsxs("div",{className:"task-header",children:[i.jsx("span",{className:"task-name",children:r.activity}),i.jsx("span",{className:`task-priority priority-${r.priority}`,children:r.priority.toUpperCase()})]}),i.jsxs("div",{className:"task-details",children:[i.jsx("span",{className:"task-sector",children:r.sector}),i.jsx("span",{className:"task-duration",children:_(r.estimatedTime+r.setupTime)})]}),i.jsxs("div",{className:"task-timeline",children:[i.jsx("span",{children:r.startTime}),i.jsx("span",{children:"→"}),i.jsx("span",{children:r.endTime})]})]})]})]})]})}function GK({workShifts:t}){const e=a=>a,n=a=>a,r=a=>a==="completed"?"var(--success-color)":"var(--warning-color)";return t.length===0?i.jsx("div",{className:"work-shifts-history empty",children:i.jsx("p",{children:"Nenhuma jornada registrada hoje"})}):i.jsxs("div",{className:"work-shifts-history",children:[i.jsx("h3",{children:"Histórico de Jornadas de Hoje"}),i.jsx("div",{className:"shifts-list",children:t.map(a=>i.jsxs("div",{className:"shift-card",children:[i.jsxs("div",{className:"shift-header",children:[i.jsxs("div",{className:"shift-time",children:[i.jsxs("span",{className:"start-time",children:[i.jsx("strong",{children:"Início:"})," ",e(a.startTime)]}),i.jsxs("span",{className:"end-time",children:[i.jsx("strong",{children:"Fim:"})," ",e(a.endTime)]})]}),i.jsx("div",{className:"shift-status",style:{color:r(a.status)},children:a.status==="completed"?"✓ Concluída":"⚠ Interrompida"})]}),i.jsxs("div",{className:"shift-details",children:[i.jsxs("div",{className:"duration",children:[i.jsx("strong",{children:"Tempo Total:"})," ",n(a.duration)]}),a.notes&&i.jsxs("div",{className:"notes",children:[i.jsx("strong",{children:"Observações:"})," ",a.notes]})]})]},a.id))})]})}function WK({workTimeRecords:t}){const e=l=>l,n=l=>l,r=l=>new Date(l).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),a=l=>{switch(l){case"completed":return"var(--success-color)";case"active":return"var(--primary-color)";case"interrupted":return"var(--warning-color)";default:return"var(--text-secondary)"}},s=l=>{switch(l){case"completed":return"✓ Concluído";case"active":return"🔄 Ativo";case"interrupted":return"⚠ Interrompido";default:return"❓ Desconhecido"}};return t.length===0?i.jsx("div",{className:"work-time-records empty",children:i.jsx("p",{children:"Nenhum registro de tempo trabalhado encontrado"})}):i.jsxs("div",{className:"work-time-records",children:[i.jsx("h3",{children:"Registros de Tempo Trabalhado"}),i.jsx("div",{className:"records-list",children:t.map(l=>i.jsxs("div",{className:"record-card",children:[i.jsxs("div",{className:"record-header",children:[i.jsxs("div",{className:"record-date",children:[i.jsx("strong",{children:"Data:"})," ",r(l.date)]}),i.jsx("div",{className:"record-status",style:{color:a(l.status)},children:s(l.status)})]}),i.jsxs("div",{className:"record-details",children:[i.jsxs("div",{className:"time-info",children:[i.jsxs("div",{className:"time-range",children:[i.jsxs("span",{className:"start-time",children:[i.jsx("strong",{children:"Início:"})," ",e(l.startTime)]}),i.jsxs("span",{className:"end-time",children:[i.jsx("strong",{children:"Fim:"})," ",e(l.endTime)]})]}),i.jsxs("div",{className:"duration",children:[i.jsx("strong",{children:"Tempo Total:"})," ",n(l.duration)]})]}),i.jsxs("div",{className:"time-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Minutos:"}),i.jsxs("span",{className:"metric-value",children:[l.totalMinutes," min"]})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Segundos:"}),i.jsxs("span",{className:"metric-value",children:[l.totalSeconds," seg"]})]})]}),l.notes&&i.jsxs("div",{className:"notes",children:[i.jsx("strong",{children:"Observações:"})," ",l.notes]})]})]},l.id))})]})}const IN=async(t,e)=>{try{const n=or(Ze,"Agenda"),r=Ma(n,Sr("userId","==",t),Sr("date","==",e),xb("time","asc"));return(await ga(r)).docs.map(s=>({...s.data(),id:s.id}))}catch(n){throw console.error("Erro ao buscar agenda do usuário por data:",n),n}},ZR=async t=>{try{const e=qt(Ze,"Agenda",t),n=await is(e);return n.exists()?{...n.data(),id:n.id}:null}catch(e){throw console.error("Erro ao buscar item da agenda:",e),e}},ax=async(t,e)=>{try{const n=qt(Ze,"Agenda",t),r={status:e,updatedAt:new Date().toISOString()};e==="in_progress"?r.actualStartTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):e==="completed"&&(r.actualEndTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),await Kr(n,r)}catch(n){throw console.error("Erro ao atualizar status do item da agenda:",n),n}},YK=async(t,e)=>{try{const n=qt(Ze,"Agenda",t),r={...e,id:`break-${Date.now()}`},a=await ZR(t);if(!a)throw new Error("Item da agenda não encontrado");const s=[...a.breaks,r];await Kr(n,{breaks:s,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao adicionar pausa ao item da agenda:",n),n}},XK=async(t,e)=>{try{const n=qt(Ze,"Agenda",t),r=await ZR(t);if(!r)throw new Error("Item da agenda não encontrado");const a=r.breaks.map(s=>{if(s.id===e&&!s.endTime){const l=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),u=QK(s.startTime,l);return{...s,endTime:l,duration:u}}return s});await Kr(n,{breaks:a,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao finalizar pausa do item da agenda:",n),n}},QK=(t,e)=>{const[n,r]=t.split(":").map(Number),[a,s]=e.split(":").map(Number);return a*60+s-(n*60+r)},ZK=async(t,e,n,r,a,s)=>{try{const u=new Date().toISOString().split("T")[0],h={userId:t,date:u,startTime:e,endTime:n,duration:r,totalMinutes:a,status:"completed",notes:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},f=or(Ze,"WorkShifts"),m=await Yv(f,h);return await Kr(m,{id:m.id}),console.log(`Jornada salva com ID: ${m.id}`),m.id}catch(l){throw console.error("Erro ao salvar jornada:",l),l}},JK=async(t,e,n)=>{try{const r=or(Ze,"WorkShifts");let a=Ma(r,Sr("userId","==",t));return e&&n&&(a=Ma(a,Sr("date",">=",e),Sr("date","<=",n))),a=Ma(a,xb("date","desc"),xb("startTime","desc")),(await ga(a)).docs.map(l=>({...l.data(),id:l.id}))}catch(r){throw console.error("Erro ao buscar jornadas:",r),r}},eG=async t=>{try{const e=new Date().toISOString().split("T")[0];return await JK(t,e,e)}catch(e){throw console.error("Erro ao buscar jornadas de hoje:",e),e}},Wh=async t=>{try{const e=new Date().toISOString().split("T")[0],n=or(Ze,"WorkTimeRecords"),r=Ma(n,Sr("operatorId","==",t),Sr("date","==",e)),a=await ga(r);if(a.empty)return null;const s=a.docs[0];return{...s.data(),id:s.id}}catch(e){throw console.error("Erro ao buscar registro de tempo trabalhado de hoje:",e),e}},RN=async(t,e,n,r,a,s,l)=>{try{const h=new Date().toISOString().split("T")[0],f=await Wh(e),[m,g,y]=a.split(":").map(Number),j=m*3600+g*60+y;if(console.log(`Salvando registro - Duration: ${a}, Hours: ${m}, Minutes: ${g}, Seconds: ${y}`),console.log(`Total minutes: ${s}, Total seconds: ${j}`),f){const b=qt(Ze,"WorkTimeRecords",f.id),_={endTime:r,duration:a,totalMinutes:s,totalSeconds:j,status:"completed",notes:l,updatedAt:new Date().toISOString()};return await Kr(b,_),console.log(`Registro de tempo trabalhado atualizado com ID: ${f.id}`),f.id}else{const b={userId:t,operatorId:e,date:h,startTime:n,endTime:r,duration:a,totalMinutes:s,totalSeconds:j,status:"completed",notes:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},_=or(Ze,"WorkTimeRecords"),T=await Yv(_,b);return await Kr(T,{id:T.id}),console.log(`Novo registro de tempo trabalhado criado com ID: ${T.id}`),T.id}}catch(u){throw console.error("Erro ao salvar/atualizar registro de tempo trabalhado:",u),u}},tG=async(t,e,n)=>{try{const r=await Wh(t);if(r){const[a,s,l]=e.split(":").map(Number),u=a*3600+s*60+l,h=qt(Ze,"WorkTimeRecords",r.id),f={duration:e,totalMinutes:n,totalSeconds:u,status:"active",updatedAt:new Date().toISOString()};await Kr(h,f),console.log(`Duração do registro atualizada: ${e}`)}}catch(r){throw console.error("Erro ao atualizar duração do registro:",r),r}},kN=t=>({id:t.id,orderId:t.orderId,productName:t.productName,activity:t.activity,sector:t.sector,sectorId:t.sectorId,description:t.description,estimatedTime:t.estimatedTime,setupTime:t.setupTime,startTime:t.startTime,endTime:t.endTime,status:t.status,actualStartTime:t.actualStartTime,actualEndTime:t.actualEndTime,actualTime:t.actualTime,priority:t.priority,requiredSkills:t.requiredSkills,breaks:t.breaks,nonConformities:t.nonConformities,assignedOperatorId:t.assignedOperatorId,routeId:t.routeId,stepId:t.stepId,qualityChecks:t.qualityChecks,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system"});function DN(){const{user:t}=Ha(),[e,n]=w.useState(new Date),[r,a]=w.useState("day"),[s,l]=w.useState([]),[u,h]=w.useState([]),[f,m]=w.useState(null),[g,y]=w.useState(null),[j,b]=w.useState({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),[_,T]=w.useState(new Date),[E,C]=w.useState(!1),[N,P]=w.useState(null),[k,M]=w.useState(null),[O,D]=w.useState(null),[B,F]=w.useState([]),[V,L]=w.useState([]);w.useEffect(()=>{const le=async()=>{if(t?.id)try{const we=new Date().toISOString().split("T")[0],Re=(await IN(t.id,we)).map(kN);l(Re),h(Re),b({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:Re.length,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),m(null)}catch(Ee){console.error("Erro ao buscar dados da agenda:",Ee),l([]),h([]),b({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),m(null)}};(async()=>{await le(),await Q(),await oe()})()},[t?.id]),w.useEffect(()=>{(async()=>{if(t?.id)try{const J=await Wh(t.id);if(J)if(console.log("Registro de tempo trabalhado encontrado:",J),J.status==="active"){C(!0),P(J.startTime);const[Ee,we]=J.startTime.split(":").map(Number),Ve=new Date;Ve.setHours(Ee,we,0,0),D(Ve.getTime()),M(J.duration),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",J.startTime),localStorage.setItem("shiftStartTimestamp",Ve.getTime().toString()),localStorage.setItem("shiftStartDate",new Date().toDateString()),console.log("Jornada ativa restaurada do documento existente")}else console.log("Jornada já finalizada, carregando dados para exibição"),await oe();else{const Ee=localStorage.getItem("shiftStarted"),we=localStorage.getItem("shiftStartTime"),Ve=localStorage.getItem("shiftStartDate"),Re=localStorage.getItem("shiftStartTimestamp"),nt=new Date().toDateString();Ee==="true"&&Ve===nt&&we&&Re?(C(!0),P(we),D(parseInt(Re)),M(z(parseInt(Re)))):(localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"))}}catch(J){console.error("Erro ao verificar registro de tempo trabalhado:",J)}})()},[t?.id]),w.useEffect(()=>{const le=setInterval(()=>{T(new Date),E&&O&&M(z(O))},1e3);return()=>clearInterval(le)},[E,O]),w.useEffect(()=>{if(E&&N&&k){const[le,J,Ee]=k.split(":").map(Number),we=le*60+J+Ee/60;b(Ve=>({...Ve,totalWorkTime:Math.round(we)}))}else if(!E&&V.length>0){const le=V[0];le&&le.status==="completed"&&(b(J=>({...J,totalWorkTime:le.totalMinutes})),console.log(`Tempo trabalhado carregado do documento: ${le.duration} (${le.totalMinutes} min)`))}else E||b(le=>({...le,totalWorkTime:0}))},[E,N,k,V]),w.useEffect(()=>{if(E&&k&&t?.id){const le=setInterval(async()=>{try{const[J,Ee,we]=k.split(":").map(Number),Ve=J*60+Ee+we/60;await tG(t.id,k,Math.round(Ve))}catch(J){console.error("Erro ao atualizar duração do registro:",J)}},3e4);return()=>clearInterval(le)}},[E,k,t?.id]),w.useEffect(()=>{const le=s.filter(Re=>Re.status==="completed").length,J=s.length,Ee=s.filter(Re=>Re.status==="completed"&&Re.actualTime&&Re.actualTime<=Re.estimatedTime+Re.setupTime).length,we=s.reduce((Re,nt)=>Re+nt.breaks.length,0),Ve=s.reduce((Re,nt)=>Re+nt.breaks.reduce((Xn,Er)=>Xn+(Er.duration||0),0),0);b(Re=>({...Re,tasksCompleted:le,averageEfficiency:J>0?le/J*100:0,onTimeCompletion:J>0?Ee/J*100:0,dailyTarget:J,totalBreaks:we,totalBreakTime:Ve}))},[s]);const z=le=>{const Ee=Date.now()-le;if(Ee<0)return"00:00:00";const we=Math.floor(Ee/(1e3*60*60)),Ve=Math.floor(Ee%(1e3*60*60)/(1e3*60)),Re=Math.floor(Ee%(1e3*60)/1e3);return`${we.toString().padStart(2,"0")}:${Ve.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`},ve=async()=>{if(t?.id)try{const le=new Date,J=le.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Ee=le.getTime();await Wh(t.id)||(await RN(t.id,t.id,J,J,"00:00:00",0,"Jornada iniciada - documento criado"),console.log("Documento de tempo trabalhado criado para hoje")),M("00:00:00"),D(Ee),C(!0),P(J),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",J),localStorage.setItem("shiftStartTimestamp",Ee.toString()),localStorage.setItem("shiftStartDate",le.toDateString()),await oe(),console.log(`Jornada iniciada às ${J}`)}catch(le){console.error("Erro ao iniciar jornada:",le),alert("Erro ao iniciar jornada. Tente novamente.")}},he=async()=>{if(!(!t?.id||!N||!k))try{const le=k,Ee=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),[we,Ve,Re]=le.split(":").map(Number),nt=we*60+Ve+Re/60;console.log(`Finalizando jornada - Tempo decorrido: ${le}, Total minutos: ${Math.round(nt)}`);const Xn=await ZK(t.id,N,Ee,le,Math.round(nt),"Jornada finalizada pelo operador");console.log(`Jornada salva com ID: ${Xn}`);const Er=await RN(t.id,t.id,N,Ee,le,Math.round(nt),`Jornada finalizada - Jornada ID: ${Xn}`);console.log(`Registro de tempo trabalhado atualizado com ID: ${Er}`),C(!1),P(null),D(null),M(null),localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"),await Q(),await oe(),console.log(`Jornada finalizada às ${Ee}. Tempo total: ${le}`)}catch(le){console.error("Erro ao salvar jornada:",le),alert("Erro ao salvar jornada. Tente novamente.")}},Q=async()=>{if(t?.id)try{const le=await eG(t.id);F(le)}catch(le){console.error("Erro ao carregar jornadas do dia:",le)}},oe=async()=>{if(t?.id)try{const le=await Wh(t.id);le?(L([le]),console.log(`Carregado registro de tempo trabalhado de hoje: ${le.duration}`)):(L([]),console.log("Nenhum registro de tempo trabalhado encontrado para hoje"))}catch(le){console.error("Erro ao carregar registro de tempo trabalhado:",le)}},ae=async le=>{if(t?.id)try{const J=le.toISOString().split("T")[0],we=(await IN(t.id,J)).map(kN);l(we),h(we),m(we.find(Lt=>Lt.status==="in_progress")||null);const Ve=we.filter(Lt=>Lt.status==="completed").length,Re=we.length,nt=we.filter(Lt=>Lt.status==="completed"&&Lt.actualTime&&Lt.actualTime<=Lt.estimatedTime+Lt.setupTime).length,Xn=we.reduce((Lt,Ta)=>Lt+Ta.breaks.length,0),Er=we.reduce((Lt,Ta)=>Lt+Ta.breaks.reduce((fd,Ms)=>fd+(Ms.duration||0),0),0);b(Lt=>({...Lt,tasksCompleted:Ve,averageEfficiency:Re>0?Ve/Re*100:0,totalWorkTime:0,onTimeCompletion:Re>0?nt/Re*100:0,dailyTarget:Re,totalBreaks:Xn,totalBreakTime:Er}))}catch(J){console.error("Erro ao buscar agenda por data:",J)}},be=async le=>{if(t?.id)try{f&&await G(f.id),await ax(le,"in_progress"),l(Ee=>Ee.map(we=>we.id===le?{...we,status:"in_progress",actualStartTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}:we));const J=s.find(Ee=>Ee.id===le);J&&m({...J,status:"in_progress"})}catch(J){console.error("Erro ao iniciar tarefa:",J)}},H=async le=>{if(t?.id)try{const J=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});await ax(le,"completed"),l(Ee=>Ee.map(we=>we.id===le?{...we,status:"completed",actualEndTime:J,actualTime:we.actualStartTime?je(we.actualStartTime,J):we.estimatedTime}:we)),m(null)}catch(J){console.error("Erro ao completar tarefa:",J)}},G=async le=>{if(t?.id)try{await ax(le,"paused"),l(J=>J.map(Ee=>Ee.id===le?{...Ee,status:"pending"}:Ee)),f?.id===le&&m(null)}catch(J){console.error("Erro ao pausar tarefa:",J)}},q=async le=>{if(!(!f?.id||!t?.id))try{const J={id:`break-${Date.now()}`,type:le,startTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.id,updatedBy:t.id};await YK(f.id,J),y(J)}catch(J){console.error("Erro ao iniciar pausa:",J)}},Y=async()=>{if(!(!g?.id||!f?.id||!t?.id))try{await XK(f.id,g.id);const le=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),J=je(g.startTime,le),Ee={...g,endTime:le,duration:J};l(we=>we.map(Ve=>Ve.id===f.id?{...Ve,breaks:[...Ve.breaks,Ee]}:Ve))}catch(le){console.error("Erro ao finalizar pausa:",le)}finally{y(null)}},pe=async le=>{switch(le){case"start-next":{const J=s.find(Ee=>Ee.status==="pending");J&&await be(J.id);break}case"pause-current":f&&await G(f.id);break;case"complete-current":f&&await H(f.id);break;case"emergency-break":f&&(await G(f.id),await q("other"));break}},je=(le,J)=>{const[Ee,we]=le.split(":").map(Number),[Ve,Re]=J.split(":").map(Number);return Ve*60+Re-(Ee*60+we)},_e=le=>{switch(le){case"pending":return"#e2e8f0";case"in_progress":return"#bee3f8";case"active":return"#fbb040";case"completed":return"#c6f6d5";case"overdue":return"#fed7d7";default:return"#e2e8f0"}},He=le=>{switch(le){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"urgent":return"#e53e3e";default:return"#4a5568"}},qe=le=>le>=95?"#48bb78":le>=85?"#fbb040":"#f56565",ye=le=>{const J=Math.floor(le/60),Ee=le%60;return`${J}h ${Ee}m`},Me=le=>{if(le.status==="completed")return 100;if(le.status==="pending")return 0;const J=new Date,[Ee,we]=le.startTime.split(":").map(Number),[Ve,Re]=le.endTime.split(":").map(Number),nt=new Date;nt.setHours(Ee,we,0,0);const Xn=new Date;Xn.setHours(Ve,Re,0,0);const Er=Xn.getTime()-nt.getTime(),Lt=J.getTime()-nt.getTime();return Math.min(Math.max(Lt/Er*100,0),100)};return i.jsx("div",{className:"schedule-page",children:i.jsxs("div",{className:"schedule-container",children:[i.jsx(zK,{user:t,viewMode:r,setViewMode:a,currentTime:_,onStartShift:ve,onStopShift:he,isShiftStarted:E,shiftStartTime:N,elapsedTime:k,hasActiveWorkRecord:V.length>0}),i.jsx($K,{stats:j,getEfficiencyColor:qe,formatTime:ye}),i.jsx(KK,{tasks:s,currentTask:f,onFilterChange:h,onSortChange:le=>{l(le),h(le)},onQuickAction:pe}),i.jsxs("div",{className:"schedule-content",children:[i.jsx(qK,{currentTask:f,activeBreak:g,currentTime:_,handlePauseTask:G,handleCompleteTask:H,handleStartBreak:q,handleEndBreak:Y,calculateProgress:Me,calculateActualTime:je}),i.jsx(HK,{tasks:u,currentDate:e,setCurrentDate:n,handleStartTask:be,getTaskStatusColor:_e,getPriorityColor:He,getEfficiencyColor:qe,formatTime:ye,onDateChange:ae})]}),i.jsx(GK,{workShifts:B}),i.jsx(WK,{workTimeRecords:V})]})})}const nG=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState([]),[l,u]=w.useState(null),h=(m,g)=>g===0?0:m/g*100,f=(m,g)=>m===0?0:g/m*100;return w.useEffect(()=>{const m=[{id:"task-001",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Corte de Peças",sector:"Corte",description:"Cortar 100 peças conforme especificação técnica.",estimatedTime:120,setupTime:30,startTime:"08:00",endTime:"10:30",status:"completed",actualStartTime:"08:05",actualEndTime:"10:25",actualTime:140,priority:"high",requiredSkills:["Corte","Medição"],breaks:[],nonConformities:[],sectorId:"corte-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T10:25:00Z",createdBy:"system",updatedBy:"system"},{id:"task-002",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Montagem Principal",sector:"Montagem",description:"Montar componentes principais seguindo roteiro.",estimatedTime:180,setupTime:45,startTime:"10:30",endTime:"14:15",status:"completed",actualStartTime:"10:35",actualEndTime:"14:00",actualTime:165,priority:"high",requiredSkills:["Montagem","Torque"],breaks:[{id:"break-001",type:"coffee",startTime:"12:00",endTime:"12:15",duration:15,createdAt:"2024-01-20T12:00:00Z",updatedAt:"2024-01-20T12:15:00Z",createdBy:"system",updatedBy:"system"}],nonConformities:[],sectorId:"montagem-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system"},{id:"task-003",orderId:"OP-2024-002",productName:"Produto B - Modelo Y",activity:"Acabamento Final",sector:"Acabamento",description:"Aplicar acabamento final e inspeção de qualidade.",estimatedTime:90,setupTime:15,startTime:"14:15",endTime:"15:45",status:"completed",actualStartTime:"14:20",actualEndTime:"15:35",actualTime:75,priority:"medium",requiredSkills:["Acabamento","Inspeção"],breaks:[],nonConformities:[],sectorId:"acabamento-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system"},{id:"task-004",orderId:"OP-2024-003",productName:"Produto C - Modelo Z",activity:"Preparação Material",sector:"Preparação",description:"Separar e preparar materiais para produção.",estimatedTime:60,setupTime:20,startTime:"15:45",endTime:"17:05",status:"delayed",actualStartTime:"15:50",actualEndTime:"17:20",actualTime:90,priority:"low",requiredSkills:["Preparação"],breaks:[],nonConformities:[],sectorId:"preparacao-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system"},{id:"task-005",orderId:"OP-2024-004",productName:"Produto D - Modelo W",activity:"Inspeção Qualidade",sector:"Qualidade",description:"Inspeção final de qualidade conforme especificação.",estimatedTime:45,setupTime:10,startTime:"08:00",endTime:"09:00",status:"completed",actualStartTime:"08:02",actualEndTime:"08:50",actualTime:48,priority:"urgent",requiredSkills:["Qualidade","Inspeção"],breaks:[],nonConformities:[],sectorId:"qualidade-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system"}],g={"Corte de Peças":105,"Montagem Principal":160,"Acabamento Final":70,"Preparação Material":55,"Inspeção Qualidade":40},y=m.filter(P=>P.status==="completed"||P.status==="delayed").map(P=>{const k=P.estimatedTime+P.setupTime,M=P.actualTime||k,O=g[P.activity]||k*.9,D=h(k,M),B=f(M,O);return{operatorId:"op-001",operatorName:"João Silva",taskId:P.id,taskName:P.activity,orderId:P.orderId,orderName:P.productName,sector:P.sector,shift:"morning",date:"2024-01-20",plannedTime:k,actualTime:M,bestHistoricTime:O,efficiency:D,productivity:B,status:P.status==="completed"?"completed":"delayed"}}),j=y.filter(P=>P.status==="completed"),b=j.reduce((P,k)=>P+k.efficiency,0)/j.length,_=j.reduce((P,k)=>P+k.productivity,0)/j.length,T=j.filter(P=>P.efficiency>=100).length/j.length*100,E=[{operatorId:"op-001",operatorName:"João Silva",totalTasks:y.length,averageEfficiency:b,totalProductivity:_,onTimeCompletion:T,rank:1,trend:b>100?"up":"down"},{operatorId:"op-002",operatorName:"Maria Santos",totalTasks:18,averageEfficiency:104.7,totalProductivity:98.9,onTimeCompletion:88.9,rank:2,trend:"stable"},{operatorId:"op-003",operatorName:"Pedro Costa",totalTasks:15,averageEfficiency:89.3,totalProductivity:85.2,onTimeCompletion:73.3,rank:3,trend:"down"}],C=y.reduce((P,k)=>P+k.actualTime,0),N=[{period:"Hoje",tasksCompleted:y.length,averageEfficiency:b,totalTime:C,productivityScore:_,onTimeRate:T},{period:"Esta Semana",tasksCompleted:y.length*5,averageEfficiency:b*.98,totalTime:C*5,productivityScore:_*.96,onTimeRate:T*.95},{period:"Este Mês",tasksCompleted:y.length*20,averageEfficiency:b*.96,totalTime:C*20,productivityScore:_*.94,onTimeRate:T*.92}];e(y),r(E),s(N),u(E[0])},[]),{productivityData:t,operatorRankings:n,periodStats:a,currentUserStats:l,calculateEfficiency:h,calculateProductivity:f}};function rG(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState({autoRecalculation:!0,recalculateInterval:30,notifyOperators:!0,notifyCoordinators:!0,maxDelayAllowed:120,priorityThreshold:"urgent"}),[l,u]=w.useState(!1),[h,f]=w.useState(null),[m,g]=w.useState(null),y=w.useCallback(async P=>{await new Promise(O=>setTimeout(O,2e3));const k=[],M=["João Silva","Maria Santos","Pedro Costa","Ana Oliveira"];for(let O=0;O<P.affectedOperators;O++){const D={id:`SC-${Date.now()}-${O}`,orderId:P.id,taskId:`task-${O+1}`,operatorId:`op-${O+1}`,operatorName:M[O%M.length],originalStartTime:"08:00",newStartTime:"07:30",originalEndTime:"17:00",newEndTime:"16:30",reason:`Pedido ${P.priority} ${P.id}`,impact:P.priority==="critical"?"high":"medium",notified:!1};k.push(D)}return k},[]),j=w.useCallback(async P=>{u(!0);try{await new Promise(M=>setTimeout(M,3e3));const k=await y(P);e(M=>[{...P,status:"completed",processedAt:new Date().toISOString()},...M]),r(M=>[...k,...M]),a.notifyOperators&&await b(k),a.notifyCoordinators&&await _(P,k),f(new Date),g(new Date(Date.now()+a.recalculateInterval*60*1e3))}catch(k){console.error("Erro ao processar pedido urgente:",k),e(M=>[{...P,status:"failed"},...M])}finally{u(!1)}},[a,y]),b=w.useCallback(async P=>{console.log("Notificando operadores sobre mudanças de agenda:",P),r(k=>k.map(M=>P.some(O=>O.id===M.id)?{...M,notified:!0}:M))},[]),_=w.useCallback(async(P,k)=>{console.log("Notificando coordenadores sobre pedido urgente:",P,k)},[]),T=w.useCallback(async()=>{if(!l){u(!0);try{const P={id:`UO-2024-${String(t.length+1).padStart(3,"0")}`,productName:"Produto C - Modelo Z",quantity:75,priority:"urgent",originalDeadline:"2024-01-24T18:00:00",newDeadline:"2024-01-22T16:00:00",affectedTasks:6,affectedOperators:2,estimatedDelay:30,status:"pending",createdAt:new Date().toISOString()};await j(P)}catch(P){console.error("Erro no recálculo manual:",P)}finally{u(!1)}}},[t.length,j,l]);w.useEffect(()=>{if(!a.autoRecalculation)return;const P=setInterval(()=>{l||T()},a.recalculateInterval*60*1e3);return()=>clearInterval(P)},[a.autoRecalculation,a.recalculateInterval,T,l]);const E={totalUrgentOrders:t.length,processingOrders:t.filter(P=>P.status==="processing").length,completedOrders:t.filter(P=>P.status==="completed").length,failedOrders:t.filter(P=>P.status==="failed").length,totalScheduleChanges:n.length,notifiedChanges:n.filter(P=>P.notified).length,efficiency:t.length>0?t.filter(P=>P.status==="completed").length/t.length*100:0},C=w.useCallback(P=>{s(k=>({...k,...P}))},[]),N=w.useCallback(async P=>{const k=n.find(M=>M.id===P);if(k)try{await b([k])}catch(M){console.error("Erro ao notificar mudança:",M)}},[n,b]);return{urgentOrders:t,scheduleChanges:n,config:a,isProcessing:l,lastRecalculation:h,nextRecalculation:m,stats:E,processUrgentOrder:j,manualRecalculation:T,updateConfig:C,notifyChange:N}}const aG=()=>{const[t,e]=w.useState(!1),n=w.useCallback(async g=>{if(!g.accessToken)return{success:!1,error:"Access Token é obrigatório"};try{return e(!0),Rt.setAccessToken(g.accessToken),await Rt.testConnection()}catch(y){return{success:!1,error:y instanceof Error?y.message:"Erro inesperado durante o teste de conexão"}}finally{e(!1)}},[]),r=w.useCallback(async g=>{if(!g.accessToken)return{success:!1,error:"Access Token é obrigatório"};try{e(!0),Rt.setAccessToken(g.accessToken);const y=await Rt.syncData();if(y.success){const b=(await Rt.getProductionOrders(1,100)).data.map(_=>({id:`bling-${_.id}`,number:_.numero,customer:_.cliente.nome,product:_.itens[0]?.descricao||"Produto não especificado",quantity:_.itens.reduce((T,E)=>T+E.quantidade,0),status:a(_.situacao),createdAt:_.data,importedAt:new Date().toISOString(),importedBy:"Sistema"}));return{success:!0,importedCount:b.length,errorCount:y.errors.length,orders:b}}else return{success:!1,error:y.message}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Erro desconhecido na importação"}}finally{e(!1)}},[]),a=g=>({em_aberto:"pending",em_producao:"processing",aguardando_producao:"pending",concluido:"completed",cancelado:"cancelled"})[g]||"pending",s=w.useCallback(async()=>{try{return[{id:"log-001",timestamp:new Date(Date.now()-36e5).toISOString(),type:"success",message:"Importação automática realizada",details:"3 ordens importadas com sucesso",ordersCount:3,errorsCount:0},{id:"log-002",timestamp:new Date(Date.now()-72e5).toISOString(),type:"warning",message:"Importação com avisos",details:"2 ordens importadas, 1 com dados incompletos",ordersCount:2,errorsCount:1},{id:"log-003",timestamp:new Date(Date.now()-864e5).toISOString(),type:"error",message:"Falha na importação",details:"Erro de conexão com a API do Bling",ordersCount:0,errorsCount:1}]}catch(g){return console.error("Erro ao carregar histórico:",g),[]}},[]),l=w.useCallback(async()=>{try{const g=localStorage.getItem("bling-config");return g?JSON.parse(g):null}catch(g){return console.error("Erro ao carregar configuração:",g),null}},[]),u=w.useCallback(async g=>{try{localStorage.setItem("bling-config",JSON.stringify(g)),await new Promise(y=>setTimeout(y,500))}catch(y){throw console.error("Erro ao salvar configuração:",y),y}},[]),h=w.useCallback(async g=>g.autoSync?await r(g):{success:!1,error:"Sincronização automática desabilitada"},[r]),f=w.useCallback(async()=>{try{const g=await s(),y=g.reduce((_,T)=>_+(T.ordersCount||0),0),j=g.filter(_=>_.type==="success").length,b=g.length>0?j/g.length*100:0;return{totalOrders:y,lastSync:g.length>0?g[0].timestamp:null,nextSync:null,successRate:b}}catch(g){return console.error("Erro ao obter estatísticas:",g),{totalOrders:0,lastSync:null,nextSync:null,successRate:0}}},[s]),m=w.useCallback(g=>{const y=[];return(!g.accessToken||g.accessToken.trim().length===0)&&y.push("Access Token é obrigatório"),(!g.baseUrl||g.baseUrl.trim().length===0)&&y.push("URL Base é obrigatória"),g.autoSync&&(g.syncInterval<5||g.syncInterval>1440)&&y.push("Intervalo de sincronização deve estar entre 5 e 1440 minutos"),{isValid:y.length===0,errors:y}},[]);return{loading:t,testConnection:n,importOrders:r,getImportHistory:s,getConfiguration:l,updateConfiguration:u,syncOrders:h,getSyncStats:f,validateConfig:m}};function iG({selectedPeriod:t,setSelectedPeriod:e}){return i.jsxs("div",{className:"productivity-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"Painel de Produtividade"})}),i.jsx("div",{className:"header-controls",children:i.jsxs("div",{className:"period-selector",children:[i.jsx("button",{className:`period-btn ${t==="today"?"active":""}`,onClick:()=>e("today"),children:"Hoje"}),i.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"}),i.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>e("month"),children:"Mês"})]})})]})}function sG({currentUserStats:t,getEfficiencyColor:e,getTrendIcon:n}){return i.jsxs("div",{className:"user-stats-card",children:[i.jsxs("div",{className:"user-stats-header",children:[i.jsx("div",{className:"user-info",children:i.jsx("h3",{children:"Performance do Operador"})}),i.jsxs("div",{className:"user-rank",children:[i.jsxs("div",{className:"rank-badge",children:["#",t.rank]}),i.jsx("div",{className:"trend-indicator",children:n(t.trend)})]})]}),i.jsxs("div",{className:"user-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Eficiência Média"})]}),i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",children:[t.totalProductivity.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Produtividade"})]}),i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",children:[t.onTimeCompletion.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"No Prazo"})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-value",children:t.totalTasks}),i.jsx("span",{className:"metric-label",children:"Tarefas"})]})]})]})}function oG({currentPeriodStats:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"period-overview",children:[i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(Fr,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsx("div",{className:"overview-value",children:t.tasksCompleted}),i.jsx("div",{className:"overview-label",children:"Tarefas Concluídas"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(sc,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Eficiência Média"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(XL,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",children:[t.productivityScore.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Score Produtividade"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsx("div",{className:"overview-value",children:n(t.totalTime)}),i.jsx("div",{className:"overview-label",children:"Tempo Total"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(lr,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",children:[t.onTimeRate.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Taxa No Prazo"})]})]})]})}function lG({selectedOperator:t,setSelectedOperator:e,selectedSector:n,setSelectedSector:r,availableOperators:a}){return i.jsxs("div",{className:"filters-section",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Operador:"}),i.jsxs("select",{value:t,onChange:s=>e(s.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),a.map(s=>i.jsx("option",{value:s.operator.id,children:s.user.name||s.operator.code},s.operator.id))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Setor:"}),i.jsxs("select",{value:n,onChange:s=>r(s.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Corte",children:"Corte"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Acabamento",children:"Acabamento"}),i.jsx("option",{value:"Qualidade",children:"Qualidade"})]})]})]})}function cG({filteredData:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"performance-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Performance Detalhada"}),i.jsx("div",{className:"section-actions",children:i.jsxs("button",{className:"export-btn",children:[i.jsx(lr,{})," Exportar"]})})]}),i.jsx("div",{className:"performance-table-container",children:i.jsxs("table",{className:"performance-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Operador"}),i.jsx("th",{children:"Tarefa"}),i.jsx("th",{children:"Pedido"}),i.jsx("th",{children:"Setor"}),i.jsx("th",{children:"Planejado"}),i.jsx("th",{children:"Real"}),i.jsx("th",{children:"Melhor"}),i.jsx("th",{children:"Eficiência"}),i.jsx("th",{children:"Produtividade"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:t.map((r,a)=>i.jsxs("tr",{className:"performance-row",children:[i.jsx("td",{children:i.jsxs("div",{className:"operator-cell",children:[i.jsxs("div",{className:"operator-avatar",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),i.jsx("span",{children:r.operatorName})]})}),i.jsx("td",{children:i.jsxs("div",{className:"task-cell",children:[i.jsx("div",{className:"task-name",children:r.taskName}),i.jsx("div",{className:"task-id",children:r.taskId})]})}),i.jsx("td",{children:i.jsxs("div",{className:"order-cell",children:[i.jsx("div",{className:"order-name",children:r.orderName}),i.jsx("div",{className:"order-id",children:r.orderId})]})}),i.jsx("td",{children:i.jsx("span",{className:"sector-badge",children:r.sector})}),i.jsx("td",{children:n(r.plannedTime)}),i.jsx("td",{children:n(r.actualTime)}),i.jsx("td",{children:n(r.bestHistoricTime)}),i.jsx("td",{children:i.jsxs("div",{className:"efficiency-cell",children:[i.jsxs("span",{className:"efficiency-value",style:{color:e(r.efficiency)},children:[r.efficiency.toFixed(1),"%"]}),i.jsx("div",{className:"efficiency-bar",children:i.jsx("div",{className:"efficiency-fill",style:{width:`${Math.min(r.efficiency,150)}%`,backgroundColor:e(r.efficiency)}})})]})}),i.jsx("td",{children:i.jsxs("span",{className:"productivity-value",style:{color:e(r.productivity)},children:[r.productivity.toFixed(1),"%"]})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge status-${r.status}`,children:r.status==="completed"?"Concluído":r.status==="in_progress"?"Em Andamento":"Atrasado"})})]},a))})]})})]})}function uG({operatorRankings:t,getEfficiencyColor:e,getTrendIcon:n}){return i.jsxs("div",{className:"rankings-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h3",{children:"Ranking de Operadores"})}),i.jsx("div",{className:"rankings-grid",children:t.map((r,a)=>i.jsxs("div",{className:`ranking-card ${a<3?"podium":""}`,children:[i.jsxs("div",{className:"ranking-header",children:[i.jsxs("div",{className:"rank-position",children:[i.jsxs("span",{className:"rank-number",children:["#",r.rank]}),a===0&&i.jsx("span",{className:"medal",children:i.jsx(cP,{})}),a===1&&i.jsx("span",{className:"medal",children:i.jsx(iB,{})}),a===2&&i.jsx("span",{className:"medal",children:i.jsx(WL,{})})]}),i.jsx("div",{className:"trend",children:n(r.trend)})]}),i.jsxs("div",{className:"operator-info",children:[i.jsxs("div",{className:"operator-avatar large",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),i.jsx("h4",{children:r.operatorName})]}),i.jsxs("div",{className:"ranking-metrics",children:[i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",style:{color:e(r.averageEfficiency)},children:[r.averageEfficiency.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Eficiência"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",children:[r.totalProductivity.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Produtividade"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsx("span",{className:"metric-value",children:r.totalTasks}),i.jsx("span",{className:"metric-label",children:"Tarefas"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",children:[r.onTimeCompletion.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"No Prazo"})]})]})]},r.operatorId))})]})}function JR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=JR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=JR(t))&&(r&&(r+=" "),r+=e);return r}var ix={},sx={},MN;function dG(){return MN||(MN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(sx)),sx}var ox={},LN;function e5(){return LN||(LN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(ox)),ox}var lx={},BN;function t5(){return BN||(BN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(lx)),lx}var cx={},VN;function jw(){return VN||(VN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let s=0,l="",u="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<a;){const f=n[s];u?f==="\\"&&s+1<a?(s++,l+=n[s]):f===u?u="":l+=f:h?f==='"'||f==="'"?u=f:f==="]"?(h=!1,r.push(l),l=""):l+=f:f==="["?(h=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,s++}return l&&r.push(l),r}t.toPath=e}(cx)),cx}var UN;function ww(){return UN||(UN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dG(),n=e5(),r=t5(),a=jw();function s(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?n.isDeepKey(h)?s(u,a.toPath(h),f):f:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=u[h];return m===void 0?f:m}default:{if(Array.isArray(h))return l(u,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?f:m}}}function l(u,h,f){if(h.length===0)return f;let m=u;for(let g=0;g<h.length;g++){if(m==null||e.isUnsafeProperty(h[g]))return f;m=m[h[g]]}return m===void 0?f:m}t.get=s}(ix)),ix}var ux,zN;function hG(){return zN||(zN=1,ux=ww().get),ux}var fG=hG();const Bo=_i(fG);var dx={exports:{}},Nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function mG(){if($N)return Nt;$N=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function b(_){if(typeof _=="object"&&_!==null){var T=_.$$typeof;switch(T){case t:switch(_=_.type,_){case n:case a:case r:case h:case f:case y:return _;default:switch(_=_&&_.$$typeof,_){case l:case u:case g:case m:return _;case s:return _;default:return T}}case e:return T}}}return Nt.ContextConsumer=s,Nt.ContextProvider=l,Nt.Element=t,Nt.ForwardRef=u,Nt.Fragment=n,Nt.Lazy=g,Nt.Memo=m,Nt.Portal=e,Nt.Profiler=a,Nt.StrictMode=r,Nt.Suspense=h,Nt.SuspenseList=f,Nt.isContextConsumer=function(_){return b(_)===s},Nt.isContextProvider=function(_){return b(_)===l},Nt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Nt.isForwardRef=function(_){return b(_)===u},Nt.isFragment=function(_){return b(_)===n},Nt.isLazy=function(_){return b(_)===g},Nt.isMemo=function(_){return b(_)===m},Nt.isPortal=function(_){return b(_)===e},Nt.isProfiler=function(_){return b(_)===a},Nt.isStrictMode=function(_){return b(_)===r},Nt.isSuspense=function(_){return b(_)===h},Nt.isSuspenseList=function(_){return b(_)===f},Nt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===h||_===f||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===m||_.$$typeof===l||_.$$typeof===s||_.$$typeof===u||_.$$typeof===j||_.getModuleId!==void 0)},Nt.typeOf=b,Nt}var qN;function pG(){return qN||(qN=1,dx.exports=mG()),dx.exports}var gG=pG(),Dn=t=>t===0?0:t>0?1:-1,Gr=t=>typeof t=="number"&&t!=+t,Ml=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!Gr(t),ji=t=>Ne(t)||typeof t=="string",vG=0,Vo=t=>{var e=++vG;return"".concat(t||"").concat(e)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var s;if(Ml(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Gr(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},n5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Kn=(t,e)=>Ne(t)&&Ne(e)?n=>t+n*(e-t):()=>e;function r5(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Bo(r,e))===n)}var yG=t=>{if(!t||!t.length)return null;for(var e=t.length,n=0,r=0,a=0,s=0,l=1/0,u=-1/0,h=0,f=0,m=0;m<e;m++)h=t[m].cx||0,f=t[m].cy||0,n+=h,r+=f,a+=h*f,s+=h*h,l=Math.min(l,h),u=Math.max(u,h);var g=e*s!==n*n?(e*a-n*r)/(e*s-n*n):0;return{xmin:l,xmax:u,a:g,b:(r-g*n)/e}},ut=t=>t===null||typeof t>"u",zf=t=>ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),xG=["viewBox","children"],bG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FN=["points","pathLength"],hx={svg:xG,polygon:FN,polyline:FN},Sw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_w=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Sw.includes(a)&&(r[a]=s=>n[a](n,s))}),r},jG=(t,e,n)=>r=>(t(e,n,r),null),$f=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];Sw.includes(a)&&typeof s=="function"&&(r||(r={}),r[a]=jG(s,e,n))}),r},HN=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",KN=null,fx=null,a5=t=>{if(t===KN&&Array.isArray(fx))return fx;var e=[];return w.Children.forEach(t,n=>{ut(n)||(gG.isFragment(n)?e=e.concat(a5(n.props.children)):e.push(n))}),fx=e,KN=t,e};function ad(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>HN(a)):r=[HN(e)],a5(t).forEach(a=>{var s=Bo(a,"type.displayName")||Bo(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}var i5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,wG=(t,e,n,r)=>{var a,s=(a=r&&hx?.[r])!==null&&a!==void 0?a:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||bG.includes(e))||n&&Sw.includes(e)},Je=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(w.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var l;wG((l=r)===null||l===void 0?void 0:l[s],s,e,n)&&(a[s]=r[s])}),a},SG=["children","width","height","viewBox","className","style","title","desc"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(null,arguments)}function _G(t,e){if(t==null)return{};var n,r,a=TG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function TG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s5=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:u,title:h,desc:f}=t,m=_G(t,SG),g=s||{width:r,height:a,x:0,y:0},y=ht("recharts-surface",l);return w.createElement("svg",bb({},Je(m,!0,"svg"),{className:y,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,h),w.createElement("desc",null,f),n)}),EG=["children","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(null,arguments)}function AG(t,e){if(t==null)return{};var n,r,a=NG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kt=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=AG(t,EG),s=ht("recharts-layer",r);return w.createElement("g",jb({className:s},Je(a,!0),{ref:e}),n)}),CG=w.createContext(null);function It(t){return function(){return t}}const o5=Math.cos,Mg=Math.sin,Ka=Math.sqrt,Lg=Math.PI,Qv=2*Lg,wb=Math.PI,Sb=2*wb,Pl=1e-6,OG=Sb-Pl;function l5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function PG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l5;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class IG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?l5:PG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,h=r-e,f=a-n,m=l-e,g=u-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Pl)if(!(Math.abs(g*h-f*m)>Pl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let j=r-l,b=a-u,_=h*h+f*f,T=j*j+b*b,E=Math.sqrt(_),C=Math.sqrt(y),N=s*Math.tan((wb-Math.acos((_+y-T)/(2*E*C)))/2),P=N/C,k=N/E;Math.abs(P-1)>Pl&&this._append`L${e+P*m},${n+P*g}`,this._append`A${s},${s},0,0,${+(g*j>m*b)},${this._x1=e+k*h},${this._y1=n+k*f}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),h=r*Math.sin(a),f=e+u,m=n+h,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Pl||Math.abs(this._y1-m)>Pl)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%Sb+Sb),y>OG?this._append`A${r},${r},0,1,${g},${e-u},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:y>Pl&&this._append`A${r},${r},0,${+(y>=wb)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new IG(e)}function Ew(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function c5(t){this._context=t}c5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zv(t){return new c5(t)}function u5(t){return t[0]}function d5(t){return t[1]}function h5(t,e){var n=It(!0),r=null,a=Zv,s=null,l=Tw(u);t=typeof t=="function"?t:t===void 0?u5:It(t),e=typeof e=="function"?e:e===void 0?d5:It(e);function u(h){var f,m=(h=Ew(h)).length,g,y=!1,j;for(r==null&&(s=a(j=l())),f=0;f<=m;++f)!(f<m&&n(g=h[f],f,h))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,f,h),+e(g,f,h));if(j)return s=null,j+""||null}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:It(+h),u):t},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:It(+h),u):e},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:It(!!h),u):n},u.curve=function(h){return arguments.length?(a=h,r!=null&&(s=a(r)),u):a},u.context=function(h){return arguments.length?(h==null?r=s=null:s=a(r=h),u):r},u}function kp(t,e,n){var r=null,a=It(!0),s=null,l=Zv,u=null,h=Tw(f);t=typeof t=="function"?t:t===void 0?u5:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?d5:It(+n);function f(g){var y,j,b,_=(g=Ew(g)).length,T,E=!1,C,N=new Array(_),P=new Array(_);for(s==null&&(u=l(C=h())),y=0;y<=_;++y){if(!(y<_&&a(T=g[y],y,g))===E)if(E=!E)j=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=y-1;b>=j;--b)u.point(N[b],P[b]);u.lineEnd(),u.areaEnd()}E&&(N[y]=+t(T,y,g),P[y]=+e(T,y,g),u.point(r?+r(T,y,g):N[y],n?+n(T,y,g):P[y]))}if(C)return u=null,C+""||null}function m(){return h5().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:It(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:It(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:It(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class f5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function RG(t){return new f5(t,!0)}function kG(t){return new f5(t,!1)}const Aw={draw(t,e){const n=Ka(e/Lg);t.moveTo(n,0),t.arc(0,0,n,0,Qv)}},DG={draw(t,e){const n=Ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},m5=Ka(1/3),MG=m5*2,LG={draw(t,e){const n=Ka(e/MG),r=n*m5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},BG={draw(t,e){const n=Ka(e),r=-n/2;t.rect(r,r,n,n)}},VG=.8908130915292852,p5=Mg(Lg/10)/Mg(7*Lg/10),UG=Mg(Qv/10)*p5,zG=-o5(Qv/10)*p5,$G={draw(t,e){const n=Ka(e*VG),r=UG*n,a=zG*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=Qv*s/5,u=o5(l),h=Mg(l);t.lineTo(h*n,-u*n),t.lineTo(u*r-h*a,h*r+u*a)}t.closePath()}},mx=Ka(3),qG={draw(t,e){const n=-Ka(e/(mx*3));t.moveTo(0,n*2),t.lineTo(-mx*n,-n),t.lineTo(mx*n,-n),t.closePath()}},ua=-.5,da=Ka(3)/2,_b=1/Ka(12),FG=(_b/2+1)*3,HG={draw(t,e){const n=Ka(e/FG),r=n/2,a=n*_b,s=r,l=n*_b+n,u=-s,h=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(u,h),t.lineTo(ua*r-da*a,da*r+ua*a),t.lineTo(ua*s-da*l,da*s+ua*l),t.lineTo(ua*u-da*h,da*u+ua*h),t.lineTo(ua*r+da*a,ua*a-da*r),t.lineTo(ua*s+da*l,ua*l-da*s),t.lineTo(ua*u+da*h,ua*h-da*u),t.closePath()}};function KG(t,e){let n=null,r=Tw(a);t=typeof t=="function"?t:It(t||Aw),e=typeof e=="function"?e:It(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:It(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:It(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Bg(){}function Vg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function g5(t){this._context=t}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GG(t){return new g5(t)}function v5(t){this._context=t}v5.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WG(t){return new v5(t)}function y5(t){this._context=t}y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YG(t){return new y5(t)}function x5(t){this._context=t}x5.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function XG(t){return new x5(t)}function GN(t){return t<0?-1:1}function WN(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),u=(s*a+l*r)/(r+a);return(GN(s)+GN(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function YN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function px(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,a+u*e,s-u,l-u*n,s,l)}function Ug(t){this._context=t}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:px(this,this._t0,YN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,px(this,YN(this,n=WN(this,t,e)),n);break;default:px(this,this._t0,n=WN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function b5(t){this._context=new j5(t)}(b5.prototype=Object.create(Ug.prototype)).point=function(t,e){Ug.prototype.point.call(this,e,t)};function j5(t){this._context=t}j5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function QG(t){return new Ug(t)}function ZG(t){return new b5(t)}function w5(t){this._context=t}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=XN(t),a=XN(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XN(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function JG(t){return new w5(t)}function Jv(t,e){this._context=t,this._t=e}Jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eW(t){return new Jv(t,.5)}function tW(t){return new Jv(t,0)}function nW(t){return new Jv(t,1)}function Mu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,u=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Tb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rW(t,e){return t[e]}function aW(t){const e=[];return e.key=t,e}function iW(){var t=It([]),e=Tb,n=Mu,r=rW;function a(s){var l=Array.from(t.apply(this,arguments),aW),u,h=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<h;++u)(l[u][f]=[0,+r(g,l[u].key,f,s)]).data=g;for(u=0,m=Ew(e(l));u<h;++u)l[m[u]].index=u;return n(l,m),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:It(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:It(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?Tb:typeof s=="function"?s:It(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Mu,a):n},a}function sW(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Mu(t,e)}}function oW(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,u=0;l<a;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Mu(t,e)}}function lW(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var u=0,h=0,f=0;u<l;++u){for(var m=t[e[u]],g=m[r][1]||0,y=m[r-1][1]||0,j=(g-y)/2,b=0;b<u;++b){var _=t[e[b]],T=_[r][1]||0,E=_[r-1][1]||0;j+=T-E}h+=g,f+=j*g}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var cW=["type","size","sizeType"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){uW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=hW(t,"string");return typeof e=="symbol"?e:e+""}function hW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fW(t,e){if(t==null)return{};var n,r,a=mW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S5={symbolCircle:Aw,symbolCross:DG,symbolDiamond:LG,symbolSquare:BG,symbolStar:$G,symbolTriangle:qG,symbolWye:HG},pW=Math.PI/180,gW=t=>{var e="symbol".concat(zf(t));return S5[e]||Aw},vW=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*pW;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yW=(t,e)=>{S5["symbol".concat(zf(t))]=e},Nw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=fW(t,cW),s=ZN(ZN({},a),{},{type:e,size:n,sizeType:r}),l=()=>{var g=gW(e),y=KG().type(g).size(vW(n,r,e));return y()},{className:u,cx:h,cy:f}=s,m=Je(s,!0);return h===+h&&f===+f&&n===+n?w.createElement("path",Eb({},m,{className:ht("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:l()})):null};Nw.registerSymbol=yW;var gx={},vx={},JN;function xW(){return JN||(JN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}t.uniqBy=e}(vx)),vx}var yx={},e3;function _5(){return e3||(e3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(yx)),yx}var xx={},bx={},jx={},t3;function bW(){return t3||(t3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(jx)),jx}var n3;function Cw(){return n3||(n3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bW();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(bx)),bx}var wx={},r3;function jW(){return r3||(r3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(wx)),wx}var a3;function wW(){return a3||(a3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cw(),n=jW();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r}(xx)),xx}var Sx={},_x={},i3;function SW(){return i3||(i3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ww();function n(r){return function(a){return e.get(a,r)}}t.property=n}(_x)),_x}var Tx={},Ex={},Ax={},Nx={},s3;function T5(){return s3||(s3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Nx)),Nx}var Cx={},o3;function E5(){return o3||(o3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Cx)),Cx}var Ox={},l3;function Ow(){return l3||(l3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Ox)),Ox}var c3;function _W(){return c3||(c3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw(),n=T5(),r=E5(),a=Ow();function s(g,y,j){return typeof j!="function"?e.isMatch(g,y):l(g,y,function b(_,T,E,C,N,P){const k=j(_,T,E,C,N,P);return k!==void 0?!!k:l(_,T,b,P)},new Map)}function l(g,y,j,b){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,j,b);case"function":return Object.keys(y).length>0?l(g,{...y},j,b):a.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:a.eq(g,y)}}function u(g,y,j,b){if(y==null)return!0;if(Array.isArray(y))return f(g,y,j,b);if(y instanceof Map)return h(g,y,j,b);if(y instanceof Set)return m(g,y,j,b);const _=Object.keys(y);if(g==null)return _.length===0;if(_.length===0)return!0;if(b&&b.has(y))return b.get(y)===g;b&&b.set(y,g);try{for(let T=0;T<_.length;T++){const E=_[T];if(!r.isPrimitive(g)&&!(E in g)||y[E]===void 0&&g[E]!==void 0||y[E]===null&&g[E]!==null||!j(g[E],y[E],E,g,y,b))return!1}return!0}finally{b&&b.delete(y)}}function h(g,y,j,b){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[_,T]of y.entries()){const E=g.get(_);if(j(E,T,_,g,y,b)===!1)return!1}return!0}function f(g,y,j,b){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const _=new Set;for(let T=0;T<y.length;T++){const E=y[T];let C=!1;for(let N=0;N<g.length;N++){if(_.has(N))continue;const P=g[N];let k=!1;if(j(P,E,T,g,y,b)&&(k=!0),k){_.add(N),C=!0;break}}if(!C)return!1}return!0}function m(g,y,j,b){return y.size===0?!0:g instanceof Set?f([...g],[...y],j,b):!1}t.isMatchWith=s,t.isSetMatch=m}(Ax)),Ax}var u3;function Pw(){return u3||(u3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_W();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n}(Ex)),Ex}var Px={},Ix={},Rx={},d3;function A5(){return d3||(d3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Rx)),Rx}var kx={},h3;function Iw(){return h3||(h3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(kx)),kx}var Dx={},f3;function Rw(){return f3||(f3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",j="[object Object]",b="[object Error]",_="[object DataView]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",P="[object BigUint64Array]",k="[object Int8Array]",M="[object Int16Array]",O="[object Int32Array]",D="[object BigInt64Array]",B="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=P,t.booleanTag=a,t.dataViewTag=_,t.dateTag=u,t.errorTag=b,t.float32ArrayTag=B,t.float64ArrayTag=F,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=O,t.int8ArrayTag=k,t.mapTag=h,t.numberTag=r,t.objectTag=j,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=N,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=E}(Dx)),Dx}var Mx={},m3;function TW(){return m3||(m3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Mx)),Mx}var p3;function N5(){return p3||(p3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A5(),n=Iw(),r=Rw(),a=E5(),s=TW();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,j=new Map,b=void 0){const _=b?.(m,g,y,j);if(_!=null)return _;if(a.isPrimitive(m))return m;if(j.has(m))return j.get(m);if(Array.isArray(m)){const T=new Array(m.length);j.set(m,T);for(let E=0;E<m.length;E++)T[E]=u(m[E],E,y,j,b);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;j.set(m,T);for(const[E,C]of m)T.set(E,u(C,E,y,j,b));return T}if(m instanceof Set){const T=new Set;j.set(m,T);for(const E of m)T.add(u(E,void 0,y,j,b));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);j.set(m,T);for(let E=0;E<m.length;E++)T[E]=u(m[E],E,y,j,b);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return j.set(m,T),h(T,m,y,j,b),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return j.set(m,T),h(T,m,y,j,b),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return j.set(m,T),h(T,m,y,j,b),T}if(m instanceof Error){const T=new m.constructor;return j.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,h(T,m,y,j,b),T}if(typeof m=="object"&&f(m)){const T=Object.create(Object.getPrototypeOf(m));return j.set(m,T),h(T,m,y,j,b),T}return m}function h(m,g,y=m,j,b){const _=[...Object.keys(g),...e.getSymbols(g)];for(let T=0;T<_.length;T++){const E=_[T],C=Object.getOwnPropertyDescriptor(m,E);(C==null||C.writable)&&(m[E]=u(g[E],E,y,j,b))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=h}(Ix)),Ix}var g3;function EW(){return g3||(g3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(Px)),Px}var v3;function AW(){return v3||(v3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw(),n=EW();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r}(Tx)),Tx}var Lx={},Bx={},Vx={},y3;function NW(){return y3||(y3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N5(),n=Rw();function r(a,s){return e.cloneDeepWith(a,(l,u,h,f)=>{const m=s?.(l,u,h,f);if(m!=null)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r}(Vx)),Vx}var x3;function CW(){return x3||(x3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Bx)),Bx}var Ux={},zx={},b3;function C5(){return b3||(b3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(zx)),zx}var $x={},j3;function OW(){return j3||(j3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}($x)),$x}var w3;function PW(){return w3||(w3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e5(),n=C5(),r=OW(),a=jw();function s(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?h=a.toPath(u):h=[u],h.length===0)return!1;let f=l;for(let m=0;m<h.length;m++){const g=h[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=s}(Ux)),Ux}var S3;function IW(){return S3||(S3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw(),n=t5(),r=CW(),a=ww(),s=PW();function l(u,h){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=l}(Lx)),Lx}var _3;function RW(){return _3||(_3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_5(),n=SW(),r=AW(),a=IW();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s}(Sx)),Sx}var T3;function kW(){return T3||(T3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW(),n=_5(),r=wW(),a=RW();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(u)):[]}t.uniqBy=s}(gx)),gx}var qx,E3;function DW(){return E3||(E3=1,qx=kW().uniqBy),qx}var MW=DW();const A3=_i(MW);function LW(t,e,n){return e===!0?A3(t,n):typeof e=="function"?A3(t,e):t}var Fx={exports:{}},Hx={},Kx={exports:{}},Gx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function BW(){if(N3)return Gx;N3=1;var t=Hu();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,y){var j=y(),b=r({inst:{value:j,getSnapshot:y}}),_=b[0].inst,T=b[1];return s(function(){_.value=j,_.getSnapshot=y,h(_)&&T({inst:_})},[g,j,y]),a(function(){return h(_)&&T({inst:_}),g(function(){h(_)&&T({inst:_})})},[g]),l(j),j}function h(g){var y=g.getSnapshot;g=g.value;try{var j=y();return!n(g,j)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Gx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Gx}var C3;function VW(){return C3||(C3=1,Kx.exports=BW()),Kx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3;function UW(){if(O3)return Hx;O3=1;var t=Hu(),e=VW();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,h=t.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(f,m,g,y,j){var b=s(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=u(function(){function E(M){if(!C){if(C=!0,N=M,M=y(M),j!==void 0&&_.hasValue){var O=_.value;if(j(O,M))return P=O}return P=M}if(O=P,r(N,M))return O;var D=y(M);return j!==void 0&&j(O,D)?(N=M,O):(N=M,P=D)}var C=!1,N,P,k=g===void 0?null:g;return[function(){return E(m())},k===null?void 0:function(){return E(k())}]},[m,g,y,j]);var T=a(f,b[0],b[1]);return l(function(){_.hasValue=!0,_.value=T},[T]),h(T),T},Hx}var P3;function zW(){return P3||(P3=1,Fx.exports=UW()),Fx.exports}var $W=zW(),kw=w.createContext(null),qW=t=>t,Gt=()=>{var t=w.useContext(kw);return t?t.store.dispatch:qW},sg=()=>{},FW=()=>sg,HW=(t,e)=>t===e;function Oe(t){var e=w.useContext(kw);return $W.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:FW,e?e.store.getState:sg,e?e.store.getState:sg,e?t:sg,HW)}function KW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function GW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function WW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var I3=t=>Array.isArray(t)?t:[t];function YW(t){const e=Array.isArray(t[0])?t[0]:t;return WW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XW(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var QW=class{constructor(t){this.value=t}deref(){return this.value}},ZW=typeof WeakRef<"u"?WeakRef:QW,JW=0,R3=1;function Dp(){return{s:JW,v:void 0,o:null,p:null}}function O5(t,e={}){let n=Dp();const{resultEqualityCheck:r}=e;let a,s=0;function l(){let u=n;const{length:h}=arguments;for(let g=0,y=h;g<y;g++){const j=arguments[g];if(typeof j=="function"||typeof j=="object"&&j!==null){let b=u.o;b===null&&(u.o=b=new WeakMap);const _=b.get(j);_===void 0?(u=Dp(),b.set(j,u)):u=_}else{let b=u.p;b===null&&(u.p=b=new Map);const _=b.get(j);_===void 0?(u=Dp(),b.set(j,u)):u=_}}const f=u;let m;if(u.s===R3)m=u.v;else if(m=t.apply(null,arguments),s++,r){const g=a?.deref?.()??a;g!=null&&r(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new ZW(m):m}return f.s=R3,f.v=m,m}return l.clearCache=()=>{n=Dp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function eY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,u,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),KW(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...h},{memoize:g,memoizeOptions:y=[],argsMemoize:j=O5,argsMemoizeOptions:b=[]}=m,_=I3(y),T=I3(b),E=YW(a),C=g(function(){return s++,f.apply(null,arguments)},..._),N=j(function(){l++;const k=XW(E,arguments);return u=C.apply(null,k),u},...T);return Object.assign(N,{resultFunc:f,memoizedResultFunc:C,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:j})};return Object.assign(r,{withTypes:()=>r}),r}var ie=eY(O5),tY=Object.assign((t,e=ie)=>{GW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>tY}),Wx={},Yx={},Xx={},k3;function nY(){return k3||(k3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),u=e(a);if(l===u&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n}(Xx)),Xx}var Qx={},Zx={},D3;function P5(){return D3||(D3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(Zx)),Zx}var M3;function rY(){return M3||(M3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a}(Qx)),Qx}var L3;function aY(){return L3||(L3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nY(),n=rY(),r=jw();function a(s,l,u,h){if(s==null)return[];u=h?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(j=>String(j));const f=(j,b)=>{let _=j;for(let T=0;T<b.length&&_!=null;++T)_=_[b[T]];return _},m=(j,b)=>b==null||j==null?b:typeof j=="object"&&"key"in j?Object.hasOwn(b,j.key)?b[j.key]:f(b,j.path):typeof j=="function"?j(b):Array.isArray(j)?f(b,j):typeof b=="object"?b[j]:b,g=l.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:r.toPath(j)}));return s.map(j=>({original:j,criteria:g.map(b=>m(b,j))})).slice().sort((j,b)=>{for(let _=0;_<g.length;_++){const T=e.compareValues(j.criteria[_],b.criteria[_],u[_]);if(T!==0)return T}return 0}).map(j=>j.original)}t.orderBy=a}(Yx)),Yx}var Jx={},B3;function iY(){return B3||(B3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(u,h)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&h<s?l(m,h+1):a.push(m)}};return l(n,0),a}t.flatten=e}(Jx)),Jx}var e2={},V3;function I5(){return V3||(V3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C5(),n=Cw(),r=T5(),a=Ow();function s(l,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&e.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?a.eq(h[u],l):!1}t.isIterateeCall=s}(e2)),e2}var U3;function sY(){return U3||(U3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY(),n=iY(),r=I5();function a(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a}(Wx)),Wx}var t2,z3;function oY(){return z3||(z3=1,t2=sY().sortBy),t2}var lY=oY();const ey=_i(lY);var R5=t=>t.legend.settings,cY=t=>t.legend.size,uY=t=>t.legend.payload;ie([uY,R5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ey(r,n):r});var Mp=1;function dY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Mp||Math.abs(l.left-e.left)>Mp||Math.abs(l.top-e.top)>Mp||Math.abs(l.width-e.width)>Mp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hY=typeof Symbol=="function"&&Symbol.observable||"@@observable",$3=hY,n2=()=>Math.random().toString(36).substring(7).split("").join("."),fY={INIT:`@@redux/INIT${n2()}`,REPLACE:`@@redux/REPLACE${n2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${n2()}`},zg=fY;function Dw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function k5(t,e,n){if(typeof t!="function")throw new Error(qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qn(1));return n(k5)(t,e)}let r=t,a=e,s=new Map,l=s,u=0,h=!1;function f(){l===s&&(l=new Map,s.forEach((T,E)=>{l.set(E,T)}))}function m(){if(h)throw new Error(qn(3));return a}function g(T){if(typeof T!="function")throw new Error(qn(4));if(h)throw new Error(qn(5));let E=!0;f();const C=u++;return l.set(C,T),function(){if(E){if(h)throw new Error(qn(6));E=!1,f(),l.delete(C),s=null}}}function y(T){if(!Dw(T))throw new Error(qn(7));if(typeof T.type>"u")throw new Error(qn(8));if(typeof T.type!="string")throw new Error(qn(17));if(h)throw new Error(qn(9));try{h=!0,a=r(a,T)}finally{h=!1}return(s=l).forEach(C=>{C()}),T}function j(T){if(typeof T!="function")throw new Error(qn(10));r=T,y({type:zg.REPLACE})}function b(){const T=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(qn(11));function C(){const P=E;P.next&&P.next(m())}return C(),{unsubscribe:T(C)}},[$3](){return this}}}return y({type:zg.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:j,[$3]:b}}function mY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zg.INIT})>"u")throw new Error(qn(12));if(typeof n(void 0,{type:zg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function D5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{mY(n)}catch(s){a=s}return function(l={},u){if(a)throw a;let h=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],j=l[g],b=y(j,u);if(typeof b>"u")throw u&&u.type,new Error(qn(14));f[g]=b,h=h||b!==j}return h=h||r.length!==Object.keys(l).length,h?f:l}}function $g(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function pY(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(qn(15))};const l={getState:a.getState,dispatch:(h,...f)=>s(h,...f)},u=t.map(h=>h(l));return s=$g(...u)(a.dispatch),{...a,dispatch:s}}}function M5(t){return Dw(t)&&"type"in t&&typeof t.type=="string"}var L5=Symbol.for("immer-nothing"),q3=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function Ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lu=Object.getPrototypeOf;function nc(t){return!!t&&!!t[Wr]}function Ss(t){return t?B5(t)||Array.isArray(t)||!!t[q3]||!!t.constructor?.[q3]||ny(t)||ry(t):!1}var gY=Object.prototype.constructor.toString();function B5(t){if(!t||typeof t!="object")return!1;const e=Lu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===gY}function qg(t,e){ty(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ty(t){const e=t[Wr];return e?e.type_:Array.isArray(t)?1:ny(t)?2:ry(t)?3:0}function Ab(t,e){return ty(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V5(t,e,n){const r=ty(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function vY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ny(t){return t instanceof Map}function ry(t){return t instanceof Set}function Il(t){return t.copy_||t.base_}function Nb(t,e){if(ny(t))return new Map(t);if(ry(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=B5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Wr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function Mw(t,e=!1){return ay(t)||nc(t)||!Ss(t)||(ty(t)>1&&(t.set=t.add=t.clear=t.delete=yY),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Mw(r,!0))),t}function yY(){Ra(2)}function ay(t){return Object.isFrozen(t)}var xY={};function rc(t){const e=xY[t];return e||Ra(0,t),e}var hf;function U5(){return hf}function bY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F3(t,e){e&&(rc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Cb(t){Ob(t),t.drafts_.forEach(jY),t.drafts_=null}function Ob(t){t===hf&&(hf=t.parent_)}function H3(t){return hf=bY(hf,t)}function jY(t){const e=t[Wr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function K3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wr].modified_&&(Cb(e),Ra(4)),Ss(t)&&(t=Fg(e,t),e.parent_||Hg(e,t)),e.patches_&&rc("Patches").generateReplacementPatches_(n[Wr].base_,t,e.patches_,e.inversePatches_)):t=Fg(e,n,[]),Cb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==L5?t:void 0}function Fg(t,e,n){if(ay(e))return e;const r=e[Wr];if(!r)return qg(e,(a,s)=>G3(t,r,e,a,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Hg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,l=!1;r.type_===3&&(s=new Set(a),a.clear(),l=!0),qg(s,(u,h)=>G3(t,r,a,u,h,n,l)),Hg(t,a,!1),n&&t.patches_&&rc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function G3(t,e,n,r,a,s,l){if(nc(a)){const u=s&&e&&e.type_!==3&&!Ab(e.assigned_,r)?s.concat(r):void 0,h=Fg(t,a,u);if(V5(n,r,h),nc(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Ss(a)&&!ay(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Fg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Hg(t,a)}}function Hg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Mw(e,n)}function wY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:U5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=Lw;n&&(a=[r],s=ff);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=l,u}var Lw={get(t,e){if(e===Wr)return t;const n=Il(t);if(!Ab(n,e))return SY(t,n,e);const r=n[e];return t.finalized_||!Ss(r)?r:r===r2(t.base_,e)?(a2(t),t.copy_[e]=Ib(r,t)):r},has(t,e){return e in Il(t)},ownKeys(t){return Reflect.ownKeys(Il(t))},set(t,e,n){const r=z5(Il(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=r2(Il(t),e),s=a?.[Wr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(vY(n,a)&&(n!==void 0||Ab(t.base_,e)))return!0;a2(t),Pb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return r2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,a2(t),Pb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Il(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ra(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){Ra(12)}},ff={};qg(Lw,(t,e)=>{ff[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ff.deleteProperty=function(t,e){return ff.set.call(this,t,e,void 0)};ff.set=function(t,e,n){return Lw.set.call(this,t[0],e,n,t[0])};function r2(t,e){const n=t[Wr];return(n?Il(n):t)[e]}function SY(t,e,n){const r=z5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function z5(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function Pb(t){t.modified_||(t.modified_=!0,t.parent_&&Pb(t.parent_))}function a2(t){t.copy_||(t.copy_=Nb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _Y=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(h=s,...f){return l.produce(h,m=>n.call(this,m,...f))}}typeof n!="function"&&Ra(6),r!==void 0&&typeof r!="function"&&Ra(7);let a;if(Ss(e)){const s=H3(this),l=Ib(e,void 0);let u=!0;try{a=n(l),u=!1}finally{u?Cb(s):Ob(s)}return F3(s,r),K3(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===L5&&(a=void 0),this.autoFreeze_&&Mw(a,!0),r){const s=[],l=[];rc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,h=>e(h,...u));let r,a;return[this.produce(e,n,(l,u)=>{r=l,a=u}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ss(t)||Ra(8),nc(t)&&(t=fs(t));const e=H3(this),n=Ib(t,void 0);return n[Wr].isManual_=!0,Ob(e),n}finishDraft(t,e){const n=t&&t[Wr];(!n||!n.isManual_)&&Ra(9);const{scope_:r}=n;return F3(r,e),K3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=rc("Patches").applyPatches_;return nc(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Ib(t,e){const n=ny(t)?rc("MapSet").proxyMap_(t,e):ry(t)?rc("MapSet").proxySet_(t,e):wY(t,e);return(e?e.scope_:U5()).drafts_.push(n),n}function fs(t){return nc(t)||Ra(10,t),$5(t)}function $5(t){if(!Ss(t)||ay(t))return t;const e=t[Wr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Nb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Nb(t,!0);return qg(n,(r,a)=>{V5(n,r,$5(a))}),e&&(e.finalized_=!1),n}var Yr=new _Y,q5=Yr.produce;Yr.produceWithPatches.bind(Yr);Yr.setAutoFreeze.bind(Yr);Yr.setUseStrictShallowCopy.bind(Yr);Yr.applyPatches.bind(Yr);Yr.createDraft.bind(Yr);Yr.finishDraft.bind(Yr);function F5(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var TY=F5(),EY=F5,AY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$g:$g.apply(null,arguments)};function ba(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Hr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>M5(r)&&r.type===t,n}var H5=class Bh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Bh.prototype)}static get[Symbol.species](){return Bh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Bh(...e[0].concat(this)):new Bh(...e.concat(this))}};function W3(t){return Ss(t)?q5(t,()=>{}):t}function Lp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function NY(t){return typeof t=="boolean"}var CY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new H5;return n&&(NY(n)?l.push(TY):l.push(EY(n.extraArgument))),l},OY="RTK_autoBatch",Y3=t=>e=>{setTimeout(e,t)},PY=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const u=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Y3(10):t.type==="callback"?t.queueNotification:Y3(t.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>a&&m(),y=r.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[OY],s=!a,s&&(l||(l=!0,h(f))),r.dispatch(m)}finally{a=!0}}})},IY=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new H5(t);return r&&a.push(PY(typeof r=="object"?r:void 0)),a};function RY(t){const e=CY(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Dw(n))u=D5(n);else throw new Error(Hr(1));let h;typeof r=="function"?h=r(e):h=e();let f=$g;a&&(f=AY({trace:!1,...typeof a=="object"&&a}));const m=pY(...h),g=IY(m);let y=typeof l=="function"?l(g):g();const j=f(...y);return k5(u,s,j)}function K5(t){const e={},n=[];let r;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Hr(28));if(u in e)throw new Error(Hr(29));return e[u]=l,a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function kY(t){return typeof t=="function"}function DY(t,e){let[n,r,a]=K5(e),s;if(kY(t))s=()=>W3(t());else{const u=W3(t);s=()=>u}function l(u=s(),h){let f=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(nc(m)){const j=g(m,h);return j===void 0?m:j}else{if(Ss(m))return q5(m,y=>g(y,h));{const y=g(m,h);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return l.getInitialState=s,l}var MY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LY=(t=21)=>{let e="",n=t;for(;n--;)e+=MY[Math.random()*64|0];return e},BY=Symbol.for("rtk-slice-createasyncthunk");function VY(t,e){return`${t}/${e}`}function UY({creators:t}={}){const e=t?.asyncThunk?.[BY];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(Hr(11));const l=(typeof r.reducers=="function"?r.reducers($Y()):r.reducers)||{},u=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,P){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(Hr(12));if(k in h.sliceCaseReducersByType)throw new Error(Hr(13));return h.sliceCaseReducersByType[k]=P,f},addMatcher(N,P){return h.sliceMatchers.push({matcher:N,reducer:P}),f},exposeAction(N,P){return h.actionCreators[N]=P,f},exposeCaseReducer(N,P){return h.sliceCaseReducersByName[N]=P,f}};u.forEach(N=>{const P=l[N],k={reducerName:N,type:VY(a,N),createNotation:typeof r.reducers=="function"};FY(P)?KY(k,P,f,e):qY(k,P,f)});function m(){const[N={},P=[],k=void 0]=typeof r.extraReducers=="function"?K5(r.extraReducers):[r.extraReducers],M={...N,...h.sliceCaseReducersByType};return DY(r.initialState,O=>{for(let D in M)O.addCase(D,M[D]);for(let D of h.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of P)O.addMatcher(D.matcher,D.reducer);k&&O.addDefaultCase(k)})}const g=N=>N,y=new Map,j=new WeakMap;let b;function _(N,P){return b||(b=m()),b(N,P)}function T(){return b||(b=m()),b.getInitialState()}function E(N,P=!1){function k(O){let D=O[N];return typeof D>"u"&&P&&(D=Lp(j,k,T)),D}function M(O=g){const D=Lp(y,P,()=>new WeakMap);return Lp(D,O,()=>{const B={};for(const[F,V]of Object.entries(r.selectors??{}))B[F]=zY(V,O,()=>Lp(j,O,T),P);return B})}return{reducerPath:N,getSelectors:M,get selectors(){return M(k)},selectSlice:k}}const C={name:a,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...E(s),injectInto(N,{reducerPath:P,...k}={}){const M=P??s;return N.inject({reducerPath:M,reducer:_},k),{...C,...E(M,!0)}}};return C}}function zY(t,e,n,r){function a(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return a.unwrapped=t,a}var Sa=UY();function $Y(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function qY({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!HY(r))throw new Error(Hr(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?ba(t,l):ba(t))}function FY(t){return t._reducerDefinitionType==="asyncThunk"}function HY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function KY({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Hr(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:h,settled:f,options:m}=n,g=a(t,s,m);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:l||Bp,pending:u||Bp,rejected:h||Bp,settled:f||Bp})}function Bp(){}var GY="task",G5="listener",W5="completed",Bw="cancelled",WY=`task-${Bw}`,YY=`task-${W5}`,Rb=`${G5}-${Bw}`,XY=`${G5}-${W5}`,iy=class{constructor(t){this.code=t,this.message=`${GY} ${Bw} (reason: ${t})`}name="TaskAbortError";message},Vw=(t,e)=>{if(typeof t!="function")throw new TypeError(Hr(32))},Kg=()=>{},Y5=(t,e=Kg)=>(t.catch(e),t),X5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ql=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fl=t=>{if(t.aborted){const{reason:e}=t;throw new iy(e)}};function Q5(t,e){let n=Kg;return new Promise((r,a)=>{const s=()=>a(new iy(t.reason));if(t.aborted){s();return}n=X5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Kg})}var QY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof iy?"cancelled":"rejected",error:n}}finally{e?.()}},Gg=t=>e=>Y5(Q5(t,e).then(n=>(Fl(t),n))),Z5=t=>{const e=Gg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Eu}=Object,X3={},sy="listenerMiddleware",ZY=(t,e)=>{const n=r=>X5(t,()=>ql(r,t.reason));return(r,a)=>{Vw(r);const s=new AbortController;n(s);const l=QY(async()=>{Fl(t),Fl(s.signal);const u=await r({pause:Gg(s.signal),delay:Z5(s.signal),signal:s.signal});return Fl(s.signal),u},()=>ql(s,YY));return a?.autoJoin&&e.push(l.catch(Kg)),{result:Gg(t)(l),cancel(){ql(s,WY)}}}},JY=(t,e)=>{const n=async(r,a)=>{Fl(e);let s=()=>{};const u=[new Promise((h,f)=>{let m=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),h([g,y.getState(),y.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await Q5(e,Promise.race(u));return Fl(e),h}finally{s()}};return(r,a)=>Y5(n(r,a))},J5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=ba(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Hr(21));return Vw(s),{predicate:a,type:e,effect:s}},ek=Eu(t=>{const{type:e,predicate:n,effect:r}=J5(t);return{id:LY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Hr(22))}}},{withTypes:()=>ek}),Q3=(t,e)=>{const{type:n,effect:r,predicate:a}=J5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},kb=t=>{t.pending.forEach(e=>{ql(e,Rb)})},eX=t=>()=>{t.forEach(kb),t.clear()},Z3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},tk=Eu(ba(`${sy}/add`),{withTypes:()=>tk}),tX=ba(`${sy}/removeAll`),nk=Eu(ba(`${sy}/remove`),{withTypes:()=>nk}),nX=(...t)=>{console.error(`${sy}/error`,...t)},qf=(t={})=>{const e=new Map,{extra:n,onError:r=nX}=t;Vw(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&kb(m)}),s=m=>{const g=Q3(e,m)??ek(m);return a(g)};Eu(s,{withTypes:()=>s});const l=m=>{const g=Q3(e,m);return g&&(g.unsubscribe(),m.cancelActive&&kb(g)),!!g};Eu(l,{withTypes:()=>l});const u=async(m,g,y,j)=>{const b=new AbortController,_=JY(s,b.signal),T=[];try{m.pending.add(b),await Promise.resolve(m.effect(g,Eu({},y,{getOriginalState:j,condition:(E,C)=>_(E,C).then(Boolean),take:_,delay:Z5(b.signal),pause:Gg(b.signal),extra:n,signal:b.signal,fork:ZY(b.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((E,C,N)=>{E!==b&&(ql(E,Rb),N.delete(E))})},cancel:()=>{ql(b,Rb),m.pending.delete(b)},throwIfCancelled:()=>{Fl(b.signal)}})))}catch(E){E instanceof iy||Z3(r,E,{raisedBy:"effect"})}finally{await Promise.all(T),ql(b,XY),m.pending.delete(b)}},h=eX(e);return{middleware:m=>g=>y=>{if(!M5(y))return g(y);if(tk.match(y))return s(y.payload);if(tX.match(y)){h();return}if(nk.match(y))return l(y.payload);let j=m.getState();const b=()=>{if(j===X3)throw new Error(Hr(23));return j};let _;try{if(_=g(y),e.size>0){const T=m.getState(),E=Array.from(e.values());for(const C of E){let N=!1;try{N=C.predicate(y,T,j)}catch(P){N=!1,Z3(r,P,{raisedBy:"predicate"})}N&&u(C,y,m,b)}}}finally{j=X3}return _},startListening:s,stopListening:l,clearListeners:h}};function Hr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rk=Sa({name:"chartLayout",initialState:rX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:aX,setLayout:iX,setChartSize:sX,setScale:oX}=rk.actions,lX=rk.reducer;function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){cX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cX(t,e,n){return(e=uX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wg=Math.PI/180,hX=t=>t*180/Math.PI,mn=(t,e,n,r)=>({x:t+Math.cos(-Wg*r)*n,y:e+Math.sin(-Wg*r)*n}),ak=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fX=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},mX=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=fX({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-a)/l,h=Math.acos(u);return r>s&&(h=2*Math.PI-h),{radius:l,angle:hX(h),angleInRadian:h}},pX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},gX=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},vX=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:s}=mX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(a<l||a>u||a===0)return null;var{startAngle:h,endAngle:f}=pX(e),m=s,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?eC(eC({},e),{},{radius:a,angle:gX(m,e)}):null};function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){yX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e,n){return(e=xX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xX(t){var e=bX(t,"string");return typeof e=="symbol"?e:e+""}function bX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t,e,n){return ut(t)||ut(e)?n:ji(e)?Bo(t,e,n):typeof e=="function"?e(t):n}var jX=(t,e,n,r,a)=>{var s,l=-1,u=(s=e?.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<u;h++){var f=h>0?n[h-1].coordinate:n[u-1].coordinate,m=n[h].coordinate,g=h>=u-1?n[0].coordinate:n[h+1].coordinate,y=void 0;if(Dn(m-f)!==Dn(g-m)){var j=[];if(Dn(g-m)===Dn(a[1]-a[0])){y=g;var b=m+a[1]-a[0];j[0]=Math.min(b,(b+f)/2),j[1]=Math.max(b,(b+f)/2)}else{y=f;var _=g+a[1]-a[0];j[0]=Math.min(m,(_+m)/2),j[1]=Math.max(m,(_+m)/2)}var T=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>T[0]&&t<=T[1]||t>=j[0]&&t<=j[1]){({index:l}=n[h]);break}}else{var E=Math.min(f,g),C=Math.max(f,g);if(t>(E+m)/2&&t<=(C+m)/2){({index:l}=n[h]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:l}=e[N]);break}}return l},wX=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ne(t[s]))return ma(ma({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ne(t[l]))return ma(ma({},t),{},{[l]:t[l]+(a||0)})}return t},Fo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",ik=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var a,s,l=t.map(u=>(u.coordinate===e&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate));return a||l.push(e),s||l.push(n),l},sk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:y,axisType:j}=t;if(!l)return null;var b=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(_=j==="angleAxis"&&s&&s.length>=2?Dn(s[0]-s[1])*2*_:_,g||y){var T=(g||y||[]).map((E,C)=>{var N=r?r.indexOf(E):E;return{coordinate:l(N)+_,value:E,offset:_,index:C}});return T.filter(E=>!Gr(E.coordinate))}return h&&f?f.map((E,C)=>({coordinate:l(E)+_,value:E,index:C,offset:_})):l.ticks&&m!=null?l.ticks(m).map((E,C)=>({coordinate:l(E)+_,value:E,offset:_,index:C})):l.domain().map((E,C)=>({coordinate:l(E)+_,value:r?r[E]:E,index:C,offset:_}))},nC=1e-4,SX=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-nC,s=Math.max(r[0],r[1])+nC,l=t(e[0]),u=t(e[n-1]);(l<a||l>s||u<a||u>s)&&t.domain([e[0],e[n-1]])}},_X=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(a[0]=n),(!Ne(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},TX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var u=Gr(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1])}},EX=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=Gr(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},AX={sign:TX,expand:sW,none:Mu,silhouette:oW,wiggle:lW,positive:EX},NX=(t,e,n)=>{var r=AX[n],a=iW().keys(e).value((s,l)=>+St(s,l,0)).order(Tb).offset(r);return a(t)};function ok(t){return t==null?void 0:String(t)}function Yg(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ut(a[e.dataKey])){var u=r5(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var h=St(a,ut(l)?e.dataKey:l);return ut(h)?null:e.scale(h)}var rC=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=St(s,e.dataKey,e.scale.domain()[l]);return ut(u)?null:e.scale(u)-a/2+r},CX=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},OX=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},PX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],IX=(t,e,n)=>{if(t!=null)return PX(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,u=l.reduce((h,f)=>{var m=OX(f.slice(e,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},aC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=ey(e,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var h=a[l],f=a[l-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return ma(ma({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Ho(t,e){if(t)return String(t);if(typeof e=="string")return e}function RX(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var s=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:t,y:e}:null}return r?vX({x:t,y:e},r):null}var kX=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,{radius:l}=r;return ma(ma(ma({},r),mn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:h}=r;return ma(ma(ma({},r),mn(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{x:0,y:0}},DX=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ps=t=>t.layout.width,Is=t=>t.layout.height,MX=t=>t.layout.scale,lk=t=>t.layout.margin,Uw=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zw=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),$w="data-recharts-item-index",qw="data-recharts-item-data-key",oy=60;function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){LX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=VX(t,"string");return typeof e=="symbol"?e:e+""}function VX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UX=t=>t.brush.height,_n=ie([Ps,Is,lk,UX,Uw,zw,R5,cY],(t,e,n,r,a,s,l,u)=>{var h=s.reduce((b,_)=>{var{orientation:T}=_;if(!_.mirror&&!_.hide){var E=typeof _.width=="number"?_.width:oy;return fo(fo({},b),{},{[T]:b[T]+E})}return b},{left:n.left||0,right:n.right||0}),f=a.reduce((b,_)=>{var{orientation:T}=_;return!_.mirror&&!_.hide?fo(fo({},b),{},{[T]:Bo(b,"".concat(T))+_.height}):b},{top:n.top||0,bottom:n.bottom||0}),m=fo(fo({},f),h),g=m.bottom;m.bottom+=r,m=wX(m,l,u);var y=t-m.left-m.right,j=e-m.top-m.bottom;return fo(fo({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(j,0)})}),zX=ie(_n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ck=ie(Ps,Is,(t,e)=>({x:0,y:0,width:t,height:e})),$X=w.createContext(null),ur=()=>w.useContext($X)!=null,ly=t=>t.brush,cy=ie([ly,_n,lk],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),Fw=()=>{var t,e=ur(),n=Oe(zX),r=Oe(cy),a=(t=Oe(ly))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},qX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uk=()=>{var t;return(t=Oe(_n))!==null&&t!==void 0?t:qX},dk=()=>Oe(Ps),hk=()=>Oe(Is),gt=t=>t.layout.layoutType,uy=()=>Oe(gt),FX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fk=Sa({name:"legend",initialState:FX,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=fs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Wde,setLegendSettings:Yde,addLegendPayload:mk,removeLegendPayload:pk}=fk.actions,HX=fk.reducer;function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(null,arguments)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function i2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=WX(t,"string");return typeof e=="symbol"?e:e+""}function WX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YX(t){return Array.isArray(t)&&ji(t[0])&&ji(t[1])?t.join(" ~ "):t}var XX=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:y=!1}=t,j=()=>{if(s&&s.length){var k={padding:0,margin:0},M=(u?ey(s,u):s).map((O,D)=>{if(O.type==="none")return null;var B=O.formatter||l||YX,{value:F,name:V}=O,L=F,z=V;if(B){var ve=B(F,V,O,D,s);if(Array.isArray(ve))[L,z]=ve;else if(ve!=null)L=ve;else return null}var he=i2({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:he},ji(z)?w.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ji(z)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},L),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},M)}return null},b=i2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=i2({margin:0},a),T=!ut(m),E=T?m:"",C=ht("recharts-default-tooltip",h),N=ht("recharts-tooltip-label",f);T&&g&&s!==void 0&&s!==null&&(E=g(m,s));var P=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Db({className:C,style:b},P),w.createElement("p",{className:N,style:_},w.isValidElement(E)?E:"".concat(E)),j())},_h="recharts-tooltip-wrapper",QX={visibility:"hidden"};function ZX(t){var{coordinate:e,translateX:n,translateY:r}=t;return ht(_h,{["".concat(_h,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(_h,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(_h,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(_h,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function cC(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=t;if(s&&Ne(s[r]))return s[r];var m=n[r]-u-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?m:g;var y=h[r];if(y==null)return 0;if(l[r]){var j=m,b=y;return j<b?Math.max(g,y):Math.max(m,y)}if(f==null)return 0;var _=g+u,T=y+f;return _>T?Math.max(m,y):Math.max(g,y)}function JX(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:h}=t,f,m,g;return l.height>0&&l.width>0&&n?(m=cC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),g=cC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=JX({translateX:m,translateY:g,useTranslate3d:u})):f=QX,{cssProperties:f,cssClasses:ZX({translateX:m,translateY:g,coordinate:n})}}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){Mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mb(t,e,n){return(e=tQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return typeof e=="symbol"?e:e+""}function nQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rQ extends w.PureComponent{constructor(){super(...arguments),Mb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:h,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:j,wrapperStyle:b,lastBoundingBox:_,innerRef:T,hasPortalFromProps:E}=this.props,{cssClasses:C,cssProperties:N}=eQ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:y,viewBox:j}),P=E?{}:Vp(Vp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Vp(Vp({},P),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:k,ref:T},s)}}var aQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ko={isSsr:aQ()},gk=()=>Oe(t=>t.rootProps.accessibilityLayer);function Xr(t){return Number.isFinite(t)}function Bu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(null,arguments)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=oQ(t,"string");return typeof e=="symbol"?e:e+""}function oQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fC={curveBasisClosed:WG,curveBasisOpen:YG,curveBasis:GG,curveBumpX:RG,curveBumpY:kG,curveLinearClosed:XG,curveLinear:Zv,curveMonotoneX:QG,curveMonotoneY:ZG,curveNatural:JG,curveStep:eW,curveStepAfter:nW,curveStepBefore:tW},Up=t=>Xr(t.x)&&Xr(t.y),Th=t=>t.x,Eh=t=>t.y,lQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(zf(t));return(n==="curveMonotone"||n==="curveBump")&&e?fC["".concat(n).concat(e==="vertical"?"Y":"X")]:fC[n]||Zv},cQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=lQ(e,a),u=s?n.filter(Up):n,h;if(Array.isArray(r)){var f=s?r.filter(g=>Up(g)):r,m=u.map((g,y)=>hC(hC({},g),{},{base:f[y]}));return a==="vertical"?h=kp().y(Eh).x1(Th).x0(g=>g.base.x):h=kp().x(Th).y1(Eh).y0(g=>g.base.y),h.defined(Up).curve(l),h(m)}return a==="vertical"&&Ne(r)?h=kp().y(Eh).x1(Th).x0(r):Ne(r)?h=kp().x(Th).y1(Eh).y0(r):h=h5().x(Th).y(Eh),h.defined(Up).curve(l),h(u)},dy=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?cQ(t):r;return w.createElement("path",Lb({},Je(t,!1),_w(t),{className:ht("recharts-curve",e),d:s===null?void 0:s,ref:a}))},uQ=["x","y","top","left","width","height","className"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bb.apply(null,arguments)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=mQ(t,"string");return typeof e=="symbol"?e:e+""}function mQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pQ(t,e){if(t==null)return{};var n,r,a=gQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vQ=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),yQ=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:u}=t,h=pQ(t,uQ),f=dQ({x:e,y:n,top:r,left:a,width:s,height:l},h);return!Ne(e)||!Ne(n)||!Ne(s)||!Ne(l)||!Ne(r)||!Ne(a)?null:w.createElement("path",Bb({},Je(f,!0),{className:ht("recharts-cross",u),d:vQ(e,n,s,l,r,a)}))};function xQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){jQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e,n){return(e=wQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t){var e=SQ(t,"string");return typeof e=="symbol"?e:e+""}function SQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qr(t,e){var n=bQ({},t),r=e,a=Object.keys(e),s=a.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}var s2={},o2={},l2={},gC;function _Q(){return gC||(gC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(l2)),l2}var vC;function TQ(){return vC||(vC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_Q(),n=A5(),r=Iw(),a=Rw(),s=Ow();function l(f,m,g){return u(f,m,void 0,void 0,void 0,void 0,g)}function u(f,m,g,y,j,b,_){const T=_(f,m,g,y,j,b);if(T!==void 0)return T;if(typeof f==typeof m)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===m;case"number":return f===m||Object.is(f,m);case"function":return f===m;case"object":return h(f,m,b,_)}return h(f,m,b,_)}function h(f,m,g,y){if(Object.is(f,m))return!0;let j=r.getTag(f),b=r.getTag(m);if(j===a.argumentsTag&&(j=a.objectTag),b===a.argumentsTag&&(b=a.objectTag),j!==b)return!1;switch(j){case a.stringTag:return f.toString()===m.toString();case a.numberTag:{const E=f.valueOf(),C=m.valueOf();return s.eq(E,C)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(f.valueOf(),m.valueOf());case a.regexpTag:return f.source===m.source&&f.flags===m.flags;case a.functionTag:return f===m}g=g??new Map;const _=g.get(f),T=g.get(m);if(_!=null&&T!=null)return _===m;g.set(f,m),g.set(m,f);try{switch(j){case a.mapTag:{if(f.size!==m.size)return!1;for(const[E,C]of f.entries())if(!m.has(E)||!u(C,m.get(E),E,f,m,g,y))return!1;return!0}case a.setTag:{if(f.size!==m.size)return!1;const E=Array.from(f.values()),C=Array.from(m.values());for(let N=0;N<E.length;N++){const P=E[N],k=C.findIndex(M=>u(P,M,void 0,f,m,g,y));if(k===-1)return!1;C.splice(k,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(m)||f.length!==m.length)return!1;for(let E=0;E<f.length;E++)if(!u(f[E],m[E],E,f,m,g,y))return!1;return!0}case a.arrayBufferTag:return f.byteLength!==m.byteLength?!1:h(new Uint8Array(f),new Uint8Array(m),g,y);case a.dataViewTag:return f.byteLength!==m.byteLength||f.byteOffset!==m.byteOffset?!1:h(new Uint8Array(f),new Uint8Array(m),g,y);case a.errorTag:return f.name===m.name&&f.message===m.message;case a.objectTag:{if(!(h(f.constructor,m.constructor,g,y)||e.isPlainObject(f)&&e.isPlainObject(m)))return!1;const C=[...Object.keys(f),...n.getSymbols(f)],N=[...Object.keys(m),...n.getSymbols(m)];if(C.length!==N.length)return!1;for(let P=0;P<C.length;P++){const k=C[P],M=f[k];if(!Object.hasOwn(m,k))return!1;const O=m[k];if(!u(M,O,k,f,m,g,y))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(m)}}t.isEqualWith=l}(o2)),o2}var c2={},yC;function EQ(){return yC||(yC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(c2)),c2}var xC;function AQ(){return xC||(xC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TQ(),n=EQ();function r(a,s){return e.isEqualWith(a,s,n.noop)}t.isEqual=r}(s2)),s2}var u2,bC;function NQ(){return bC||(bC=1,u2=AQ().isEqual),u2}var CQ=NQ();const OQ=_i(CQ);function PQ(t){var e={},n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...f]=u;if(typeof h=="number"){a=t.setTimeout(s.bind(null,f),h);return}s(h),a=t.setTimeout(s.bind(null,f));return}typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}var Xg=1e-4,vk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],yk=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),jC=(t,e)=>n=>{var r=vk(t,e);return yk(r,n)},IQ=(t,e)=>n=>{var r=vk(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return yk(a,n)},wC=function(){for(var e,n,r,a,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=l[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([e,r,n,a]=l);var f=jC(e,n),m=jC(r,a),g=IQ(e,n),y=b=>b>1?1:b<0?0:b,j=b=>{for(var _=b>1?1:b,T=_,E=0;E<8;++E){var C=f(T)-_,N=g(T);if(Math.abs(C-_)<Xg||N<Xg)return m(T);T=y(T-C/N)}return m(T)};return j.isStepper=!1,j},RQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,u,h)=>{var f=-(l-u)*n,m=h*r,g=h+(f-m)*a/1e3,y=h*a/1e3+l;return Math.abs(y-u)<Xg&&Math.abs(g)<Xg?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},kQ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wC(t);case"spring":return RQ();default:if(t.split("(")[0]==="cubic-bezier")return wC(t)}return typeof t=="function"?t:null};function SC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=MQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=LQ(t,"string");return typeof e=="symbol"?e:e+""}function LQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BQ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VQ=(t,e,n)=>t.map(r=>"".concat(BQ(r)," ").concat(e,"ms ").concat(n)).join(","),UQ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),pf=(t,e)=>Object.keys(e).reduce((n,r)=>_C(_C({},n),{},{[r]:t(r,e[r])}),{});function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){zQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e,n){return(e=$Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qg=(t,e,n)=>t+(e-t)*n,Vb=t=>{var{from:e,to:n}=t;return e!==n},xk=(t,e,n)=>{var r=pf((a,s)=>{if(Vb(s)){var[l,u]=t(s.from,s.to,s.velocity);return Hn(Hn({},s),{},{from:l,velocity:u})}return s},e);return n<1?pf((a,s)=>Vb(s)?Hn(Hn({},s),{},{velocity:Qg(s.velocity,r[a].velocity,n),from:Qg(s.from,r[a].from,n)}):s,e):xk(t,r,n-1)};function FQ(t,e,n,r,a,s){var l,u=r.reduce((y,j)=>Hn(Hn({},y),{},{[j]:{from:t[j],velocity:0,to:e[j]}}),{}),h=()=>pf((y,j)=>j.from,u),f=()=>!Object.values(u).filter(Vb).length,m=null,g=y=>{l||(l=y);var j=y-l,b=j/n.dt;u=xk(n,u,b),a(Hn(Hn(Hn({},t),e),h())),l=y,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{m()})}function HQ(t,e,n,r,a,s,l){var u=null,h=a.reduce((g,y)=>Hn(Hn({},g),{},{[y]:[t[y],e[y]]}),{}),f,m=g=>{f||(f=g);var y=(g-f)/r,j=pf((_,T)=>Qg(...T,n(y)),h);if(s(Hn(Hn(Hn({},t),e),j)),y<1)u=l.setTimeout(m);else{var b=pf((_,T)=>Qg(...T,n(1)),h);s(Hn(Hn(Hn({},t),e),b))}};return()=>(u=l.setTimeout(m),()=>{u()})}const KQ=(t,e,n,r,a,s)=>{var l=UQ(t,e);return n.isStepper===!0?FQ(t,e,n,l,a,s):HQ(t,e,n,r,l,a,s)};class GQ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}var WQ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function YQ(t,e){if(t==null)return{};var n,r,a=XQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function XQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){Ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ll(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JQ(){return PQ(new GQ)}class Hw extends w.PureComponent{constructor(e,n){super(e,n),Ll(this,"mounted",!1),Ll(this,"manager",null),Ll(this,"stopJSAnimation",null),Ll(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:s,to:l,children:u,duration:h,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:l});return}if(s){if(typeof u=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:s,to:l,from:u}=this.props,{style:h}=this.state;if(r){if(!n){var f={style:a?{[a]:l}:l};this.state&&h&&(a&&h[a]!==l||!a&&h!==l)&&this.setState(f);return}if(!(OQ(e.to,l)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||s?u:e.to;if(this.state&&h){var y={style:a?{[a]:g}:g};(a&&h[a]!==g||!a&&h!==g)&&this.setState(y)}this.runAnimation(mo(mo({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:h}=e,f=KQ(n,r,kQ(s),a,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=f()};this.manager.start([h,l,m,a,u])}runAnimation(e){var{begin:n,duration:r,attributeName:a,to:s,easing:l,onAnimationStart:u,onAnimationEnd:h,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(e);return}var m=a?{[a]:s}:s,g=VQ(Object.keys(m),r,l);this.manager.start([u,n,mo(mo({},m),{},{transition:g}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:s,easing:l,isActive:u,from:h,to:f,canBegin:m,onAnimationEnd:g,shouldReAnimate:y,onAnimationReStart:j,animationManager:b}=e,_=YQ(e,WQ),T=w.Children.count(n),E=this.state.style;if(typeof n=="function")return n(E);if(!u||T===0||a<=0)return n;var C=N=>{var{style:P={},className:k}=N.props,M=w.cloneElement(N,mo(mo({},_),{},{style:mo(mo({},P),E),className:k}));return M};return T===1?C(w.Children.only(n)):w.createElement("div",null,w.Children.map(n,N=>C(N)))}}Ll(Hw,"displayName","Animate");Ll(Hw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var eZ=w.createContext(null);function _s(t){var e,n,r=w.useContext(eZ);return w.createElement(Hw,Ub({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:JQ()}))}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}var AC=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];f="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(e)),f+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*m[1])),f+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),f+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var j=Math.min(s,a);f="M ".concat(t,",").concat(e+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+u*j,",").concat(e,`
            L `).concat(t+n-u*j,",").concat(e,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*j,`
            L `).concat(t+n,",").concat(e+r-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n-u*j,",").concat(e+r,`
            L `).concat(t+u*j,",").concat(e+r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*j," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},tZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bk=t=>{var e=Qr(t,tZ),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&a(E)}catch{}},[]);var{x:s,y:l,width:u,height:h,radius:f,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:j,isAnimationActive:b,isUpdateAnimationActive:_}=e;if(s!==+s||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var T=ht("recharts-rectangle",m);return _?w.createElement(_s,{canBegin:r>0,from:{width:u,height:h,x:s,y:l},to:{width:u,height:h,x:s,y:l},duration:y,animationEasing:g,isActive:_},E=>{var{width:C,height:N,x:P,y:k}=E;return w.createElement(_s,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:b,easing:g},w.createElement("path",Zg({},Je(e,!0),{className:T,d:AC(P,k,C,N,f),ref:n})))}):w.createElement("path",Zg({},Je(e,!0),{className:T,d:AC(s,l,u,h,f)}))};function jk(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=mn(e,n,r,a),u=mn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(null,arguments)}var nZ=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},zp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:h}=t,f=u*(l?1:-1)+r,m=Math.asin(u/f)/Wg,g=h?a:a+s*m,y=mn(e,n,f,g),j=mn(e,n,r,g),b=h?a-s*m:a,_=mn(e,n,f*Math.cos(m*Wg),b);return{center:y,circleTangency:j,lineTangency:_,theta:m}},wk=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,u=nZ(s,l),h=s+u,f=mn(e,n,a,s),m=mn(e,n,a,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=mn(e,n,r,s),j=mn(e,n,r,h);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},rZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}=t,m=Dn(f-h),{circleTangency:g,lineTangency:y,theta:j}=zp({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:b,lineTangency:_,theta:T}=zp({cx:e,cy:n,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(h-f):Math.abs(h-f)-j-T;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):wk({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:P,theta:k}=zp({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:M,lineTangency:O,theta:D}=zp({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),B=u?Math.abs(h-f):Math.abs(h-f)-k-D;if(B<0&&s===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},aZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sk=t=>{var e=Qr(t,aZ),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m,className:g}=e;if(s<a||f===m)return null;var y=ht("recharts-sector",g),j=s-a,b=gr(l,j,0,!0),_;return b>0&&Math.abs(f-m)<360?_=rZ({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,j/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m}):_=wk({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),w.createElement("path",zb({},Je(e,!0),{className:y,d:_}))};function iZ(t,e,n){var r,a,s,l;if(t==="horizontal")r=e.x,s=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:h,innerRadius:f,outerRadius:m,angle:g}=e,y=mn(u,h,f,g),j=mn(u,h,m,g);r=y.x,a=y.y,s=j.x,l=j.y}else return jk(e);return[{x:r,y:a},{x:s,y:l}]}var d2={},h2={},f2={},NC;function sZ(){return NC||(NC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(f2)),f2}var CC;function oZ(){return CC||(CC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(h2)),h2}var OC;function lZ(){return OC||(OC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I5(),n=oZ();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=a,a+=l;return h}t.range=r}(d2)),d2}var m2,PC;function cZ(){return PC||(PC=1,m2=lZ().range),m2}var uZ=cZ();const _k=_i(uZ);function Co(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kw(t){let e,n,r;t.length!==2?(e=Co,n=(u,h)=>Co(t(u),h),r=(u,h)=>t(u)-h):(e=t===Co||t===dZ?t:hZ,n=t,r=t);function a(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<0?f=g+1:m=g}while(f<m)}return f}function s(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,h,f=0,m=u.length){const g=a(u,h,f,m-1);return g>f&&r(u[g-1],h)>-r(u[g],h)?g-1:g}return{left:a,center:l,right:s}}function hZ(){return 0}function Tk(t){return t===null?NaN:+t}function*fZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mZ=Kw(Co),Ff=mZ.right;Kw(Tk).center;class IC extends Map{constructor(e,n=vZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(RC(this,e))}has(e){return super.has(RC(this,e))}set(e,n){return super.set(pZ(this,e),n)}delete(e){return super.delete(gZ(this,e))}}function RC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yZ(t=Co){if(t===Co)return Ek;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Ek(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xZ=Math.sqrt(50),bZ=Math.sqrt(10),jZ=Math.sqrt(2);function Jg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=xZ?10:s>=bZ?5:s>=jZ?2:1;let u,h,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(t*f),h=Math.round(e*f),u/f<t&&++u,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*l,u=Math.round(t/f),h=Math.round(e/f),u*f<t&&++u,h*f>e&&--h),h<u&&.5<=n&&n<2?Jg(t,e,n*2):[u,h,f]}function $b(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?Jg(e,t,n):Jg(t,e,n);if(!(s>=a))return[];const u=s-a+1,h=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)h[f]=(s-f)/-l;else for(let f=0;f<u;++f)h[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(a+f)/-l;else for(let f=0;f<u;++f)h[f]=(a+f)*l;return h}function qb(t,e,n){return e=+e,t=+t,n=+n,Jg(t,e,n)[2]}function Fb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?qb(e,t,n):qb(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function kC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Ak(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?Ek:yZ(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,m=Math.log(h),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(h-g)/h)*(f-h/2<0?-1:1),j=Math.max(n,Math.floor(e-f*g/h+y)),b=Math.min(r,Math.floor(e+(h-f)*g/h+y));Ak(t,e,j,b,a)}const s=t[e];let l=n,u=r;for(Ah(t,n,e),a(t[r],s)>0&&Ah(t,n,r);l<u;){for(Ah(t,l,u),++l,--u;a(t[l],s)<0;)++l;for(;a(t[u],s)>0;)--u}a(t[n],s)===0?Ah(t,n,u):(++u,Ah(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Ah(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wZ(t,e,n){if(t=Float64Array.from(fZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return DC(t);if(e>=1)return kC(t);var r,a=(r-1)*e,s=Math.floor(a),l=kC(Ak(t,s).subarray(0,s+1)),u=DC(t.subarray(s+1));return l+(u-l)*(a-s)}}function SZ(t,e,n=Tk){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(a-s)}}function _Z(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function _a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Hb=Symbol("implicit");function Gw(){var t=new IC,e=[],n=[],r=Hb;function a(s){let l=t.get(s);if(l===void 0){if(r!==Hb)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new IC;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Gw(e,n).unknown(r)},_a.apply(a,arguments),a}function Ww(){var t=Gw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,u=!1,h=0,f=0,m=.5;delete t.unknown;function g(){var y=e().length,j=a<r,b=j?a:r,_=j?r:a;s=(_-b)/Math.max(1,y-h+f*2),u&&(s=Math.floor(s)),b+=(_-b-s*(y-h))*m,l=s*(1-h),u&&(b=Math.round(b),l=Math.round(l));var T=_Z(y).map(function(E){return b+s*E});return n(j?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(h=Math.min(1,f=+y),g()):h},t.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),g()):h},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},t.copy=function(){return Ww(e(),[r,a]).round(u).paddingInner(h).paddingOuter(f).align(m)},_a.apply(g(),arguments)}function Nk(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Nk(e())},t}function TZ(){return Nk(Ww.apply(null,arguments).paddingInner(1))}function Yw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ck(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hf(){}var gf=.7,ev=1/gf,Au="\\s*([+-]?\\d+)\\s*",vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EZ=/^#([0-9a-f]{3,8})$/,AZ=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),NZ=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),CZ=new RegExp(`^rgba\\(${Au},${Au},${Au},${vf}\\)$`),OZ=new RegExp(`^rgba\\(${yi},${yi},${yi},${vf}\\)$`),PZ=new RegExp(`^hsl\\(${vf},${yi},${yi}\\)$`),IZ=new RegExp(`^hsla\\(${vf},${yi},${yi},${vf}\\)$`),MC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yw(Hf,yf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LC,formatHex:LC,formatHex8:RZ,formatHsl:kZ,formatRgb:BC,toString:BC});function LC(){return this.rgb().formatHex()}function RZ(){return this.rgb().formatHex8()}function kZ(){return Ok(this).formatHsl()}function BC(){return this.rgb().formatRgb()}function yf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VC(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$p(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$p(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AZ.exec(t))?new _r(e[1],e[2],e[3],1):(e=NZ.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CZ.exec(t))?$p(e[1],e[2],e[3],e[4]):(e=OZ.exec(t))?$p(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PZ.exec(t))?$C(e[1],e[2]/100,e[3]/100,1):(e=IZ.exec(t))?$C(e[1],e[2]/100,e[3]/100,e[4]):MC.hasOwnProperty(t)?VC(MC[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function VC(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function $p(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function DZ(t){return t instanceof Hf||(t=yf(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function Kb(t,e,n,r){return arguments.length===1?DZ(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Yw(_r,Kb,Ck(Hf,{brighter(t){return t=t==null?ev:Math.pow(ev,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gf:Math.pow(gf,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(Hl(this.r),Hl(this.g),Hl(this.b),tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UC,formatHex:UC,formatHex8:MZ,formatRgb:zC,toString:zC}));function UC(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function MZ(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function zC(){const t=tv(this.opacity);return`${t===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${t===1?")":`, ${t})`}`}function tv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bl(t){return t=Hl(t),(t<16?"0":"")+t.toString(16)}function $C(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ka(t,e,n,r)}function Ok(t){if(t instanceof ka)return new ka(t.h,t.s,t.l,t.opacity);if(t instanceof Hf||(t=yf(t)),!t)return new ka;if(t instanceof ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-a,h=(s+a)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=h<.5?s+a:2-s-a,l*=60):u=h>0&&h<1?0:l,new ka(l,u,h,t.opacity)}function LZ(t,e,n,r){return arguments.length===1?Ok(t):new ka(t,e,n,r??1)}function ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Yw(ka,LZ,Ck(Hf,{brighter(t){return t=t==null?ev:Math.pow(ev,t),new ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gf:Math.pow(gf,t),new ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new _r(p2(t>=240?t-240:t+120,a,r),p2(t,a,r),p2(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ka(qC(this.h),qp(this.s),qp(this.l),tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tv(this.opacity);return`${t===1?"hsl(":"hsla("}${qC(this.h)}, ${qp(this.s)*100}%, ${qp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qC(t){return t=(t||0)%360,t<0?t+360:t}function qp(t){return Math.max(0,Math.min(1,t||0))}function p2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Xw=t=>()=>t;function BZ(t,e){return function(n){return t+n*e}}function VZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function UZ(t){return(t=+t)==1?Pk:function(e,n){return n-e?VZ(e,n,t):Xw(isNaN(e)?n:e)}}function Pk(t,e){var n=e-t;return n?BZ(t,n):Xw(isNaN(t)?e:t)}const FC=function t(e){var n=UZ(e);function r(a,s){var l=n((a=Kb(a)).r,(s=Kb(s)).r),u=n(a.g,s.g),h=n(a.b,s.b),f=Pk(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=h(m),a.opacity=f(m),a+""}}return r.gamma=t,r}(1);function zZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function $Z(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=id(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=a[l](u);return s}}function FZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HZ(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=id(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g2=new RegExp(Gb.source,"g");function KZ(t){return function(){return t}}function GZ(t){return function(e){return t(e)+""}}function WZ(t,e){var n=Gb.lastIndex=g2.lastIndex=0,r,a,s,l=-1,u=[],h=[];for(t=t+"",e=e+"";(r=Gb.exec(t))&&(a=g2.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,h.push({i:l,x:nv(r,a)})),n=g2.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?h[0]?GZ(h[0].x):KZ(e):(e=h.length,function(f){for(var m=0,g;m<e;++m)u[(g=h[m]).i]=g.x(f);return u.join("")})}function id(t,e){var n=typeof e,r;return e==null||n==="boolean"?Xw(e):(n==="number"?nv:n==="string"?(r=yf(e))?(e=r,FC):WZ:e instanceof yf?FC:e instanceof Date?FZ:$Z(e)?zZ:Array.isArray(e)?qZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HZ:nv)(t,e)}function Qw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function YZ(t,e){e===void 0&&(e=t,t=id);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function XZ(t){return function(){return t}}function rv(t){return+t}var HC=[0,1];function pr(t){return t}function Wb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XZ(isNaN(e)?NaN:.5)}function QZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ZZ(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=Wb(a,r),s=n(l,s)):(r=Wb(r,a),s=n(s,l)),function(u){return s(r(u))}}function JZ(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Wb(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var h=Ff(t,u,1,r)-1;return s[h](a[h](u))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hy(){var t=HC,e=HC,n=id,r,a,s,l=pr,u,h,f;function m(){var y=Math.min(t.length,e.length);return l!==pr&&(l=QZ(t[0],t[y-1])),u=y>2?JZ:ZZ,h=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(h||(h=u(t.map(r),e,n)))(r(l(y)))}return g.invert=function(y){return l(a((f||(f=u(e,t.map(r),nv)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,rv),m()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=Qw,m()},g.clamp=function(y){return arguments.length?(l=y?!0:pr,m()):l!==pr},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,j){return r=y,a=j,m()}}function Zw(){return hy()(pr,pr)}function eJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function av(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vu(t){return t=av(Math.abs(t)),t?t[1]:NaN}function tJ(t,e){return function(n,r){for(var a=n.length,s=[],l=0,u=t[0],h=0;a>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),s.push(n.substring(a-=u,a+u)),!((h+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function nJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xf(t){if(!(e=rJ.exec(t)))throw new Error("invalid format: "+t);var e;return new Jw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xf.prototype=Jw.prototype;function Jw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aJ(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Ik;function iJ(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(Ik=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+av(t,Math.max(0,e+s-1))[0]}function KC(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KC(t*100,e),r:KC,s:iJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WC(t){return t}var YC=Array.prototype.map,XC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sJ(t){var e=t.grouping===void 0||t.thousands===void 0?WC:tJ(YC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?WC:nJ(YC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(g){g=xf(g);var y=g.fill,j=g.align,b=g.sign,_=g.symbol,T=g.zero,E=g.width,C=g.comma,N=g.precision,P=g.trim,k=g.type;k==="n"?(C=!0,k="g"):GC[k]||(N===void 0&&(N=12),P=!0,k="g"),(T||y==="0"&&j==="=")&&(T=!0,y="0",j="=");var M=_==="$"?n:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=_==="$"?r:/[%p]/.test(k)?l:"",D=GC[k],B=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(V){var L=M,z=O,ve,he,Q;if(k==="c")z=D(V)+z,V="";else{V=+V;var oe=V<0||1/V<0;if(V=isNaN(V)?h:D(Math.abs(V),N),P&&(V=aJ(V)),oe&&+V==0&&b!=="+"&&(oe=!1),L=(oe?b==="("?b:u:b==="-"||b==="("?"":b)+L,z=(k==="s"?XC[8+Ik/3]:"")+z+(oe&&b==="("?")":""),B){for(ve=-1,he=V.length;++ve<he;)if(Q=V.charCodeAt(ve),48>Q||Q>57){z=(Q===46?a+V.slice(ve+1):V.slice(ve))+z,V=V.slice(0,ve);break}}}C&&!T&&(V=e(V,1/0));var ae=L.length+V.length+z.length,be=ae<E?new Array(E-ae+1).join(y):"";switch(C&&T&&(V=e(be+V,be.length?E-z.length:1/0),be=""),j){case"<":V=L+V+z+be;break;case"=":V=L+be+V+z;break;case"^":V=be.slice(0,ae=be.length>>1)+L+V+z+be.slice(ae);break;default:V=be+L+V+z;break}return s(V)}return F.toString=function(){return g+""},F}function m(g,y){var j=f((g=xf(g),g.type="f",g)),b=Math.max(-8,Math.min(8,Math.floor(Vu(y)/3)))*3,_=Math.pow(10,-b),T=XC[8+b/3];return function(E){return j(_*E)+T}}return{format:f,formatPrefix:m}}var Fp,eS,Rk;oJ({thousands:",",grouping:[3],currency:["$",""]});function oJ(t){return Fp=sJ(t),eS=Fp.format,Rk=Fp.formatPrefix,Fp}function lJ(t){return Math.max(0,-Vu(Math.abs(t)))}function cJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vu(e)/3)))*3-Vu(Math.abs(t)))}function uJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vu(e)-Vu(t))+1}function kk(t,e,n,r){var a=Fb(t,e,n),s;switch(r=xf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=cJ(a,l))&&(r.precision=s),Rk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=uJ(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=lJ(a))&&(r.precision=s-(r.type==="%")*2);break}}return eS(r)}function Go(t){var e=t.domain;return t.ticks=function(n){var r=e();return $b(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return kk(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],u=r[s],h,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=qb(l,u,n),f===h)return r[a]=l,r[s]=u,e(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return t},t}function Dk(){var t=Zw();return t.copy=function(){return Kf(t,Dk())},_a.apply(t,arguments),Go(t)}function Mk(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Mk(t).unknown(e)},t=arguments.length?Array.from(t,rv):[0,1],Go(n)}function Lk(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function QC(t){return Math.log(t)}function ZC(t){return Math.exp(t)}function dJ(t){return-Math.log(-t)}function hJ(t){return-Math.exp(-t)}function fJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mJ(t){return t===10?fJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JC(t){return(e,n)=>-t(-e,n)}function tS(t){const e=t(QC,ZC),n=e.domain;let r=10,a,s;function l(){return a=pJ(r),s=mJ(r),n()[0]<0?(a=JC(a),s=JC(s),t(dJ,hJ)):t(QC,ZC),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const h=n();let f=h[0],m=h[h.length-1];const g=m<f;g&&([f,m]=[m,f]);let y=a(f),j=a(m),b,_;const T=u==null?10:+u;let E=[];if(!(r%1)&&j-y<T){if(y=Math.floor(y),j=Math.ceil(j),f>0){for(;y<=j;++y)for(b=1;b<r;++b)if(_=y<0?b/s(-y):b*s(y),!(_<f)){if(_>m)break;E.push(_)}}else for(;y<=j;++y)for(b=r-1;b>=1;--b)if(_=y>0?b/s(-y):b*s(y),!(_<f)){if(_>m)break;E.push(_)}E.length*2<T&&(E=$b(f,m,T))}else E=$b(y,j,Math.min(j-y,T)).map(s);return g?E.reverse():E},e.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=xf(h)).precision==null&&(h.trim=!0),h=eS(h)),u===1/0)return h;const f=Math.max(1,r*u/e.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*r<r-.5&&(g*=r),g<=f?h(m):""}},e.nice=()=>n(Lk(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function Bk(){const t=tS(hy()).domain([1,10]);return t.copy=()=>Kf(t,Bk()).base(t.base()),_a.apply(t,arguments),t}function e6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function t6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nS(t){var e=1,n=t(e6(e),t6(e));return n.constant=function(r){return arguments.length?t(e6(e=+r),t6(e)):e},Go(n)}function Vk(){var t=nS(hy());return t.copy=function(){return Kf(t,Vk()).constant(t.constant())},_a.apply(t,arguments)}function n6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vJ(t){return t<0?-t*t:t*t}function rS(t){var e=t(pr,pr),n=1;function r(){return n===1?t(pr,pr):n===.5?t(gJ,vJ):t(n6(n),n6(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Go(e)}function aS(){var t=rS(hy());return t.copy=function(){return Kf(t,aS()).exponent(t.exponent())},_a.apply(t,arguments),t}function yJ(){return aS.apply(null,arguments).exponent(.5)}function r6(t){return Math.sign(t)*t*t}function xJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Uk(){var t=Zw(),e=[0,1],n=!1,r;function a(s){var l=xJ(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(r6(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,rv)).map(r6)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Uk(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},_a.apply(a,arguments),Go(a)}function zk(){var t=[],e=[],n=[],r;function a(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=SZ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Ff(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Co),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return zk().domain(t).range(e).unknown(r)},_a.apply(s,arguments)}function $k(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(h){return h!=null&&h<=h?a[Ff(r,h,0,n)]:s}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,u()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,u()):a.slice()},l.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(s=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return $k().domain([t,e]).range(a).unknown(s)},_a.apply(Go(l),arguments)}function qk(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Ff(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return qk().domain(t).range(e).unknown(n)},_a.apply(a,arguments)}const v2=new Date,y2=new Date;function Tn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const h=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return h;let f;do h.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<l);return h},a.filter=s=>Tn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(v2.setTime(+s),y2.setTime(+l),t(v2),t(y2),Math.floor(n(v2,y2))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const iv=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);iv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):iv);iv.range;const ss=1e3,va=ss*60,os=va*60,Ts=os*24,iS=Ts*7,a6=Ts*30,x2=Ts*365,Vl=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ss)},(t,e)=>(e-t)/ss,t=>t.getUTCSeconds());Vl.range;const sS=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getMinutes());sS.range;const oS=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCMinutes());oS.range;const lS=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ss-t.getMinutes()*va)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getHours());lS.range;const cS=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCHours());cS.range;const Gf=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*va)/Ts,t=>t.getDate()-1);Gf.range;const fy=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);fy.range;const Fk=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));Fk.range;function pc(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*va)/iS)}const my=pc(0),sv=pc(1),bJ=pc(2),jJ=pc(3),Uu=pc(4),wJ=pc(5),SJ=pc(6);my.range;sv.range;bJ.range;jJ.range;Uu.range;wJ.range;SJ.range;function gc(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iS)}const py=gc(0),ov=gc(1),_J=gc(2),TJ=gc(3),zu=gc(4),EJ=gc(5),AJ=gc(6);py.range;ov.range;_J.range;TJ.range;zu.range;EJ.range;AJ.range;const uS=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uS.range;const dS=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dS.range;const Es=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Es.range;const As=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});As.range;function Hk(t,e,n,r,a,s){const l=[[Vl,1,ss],[Vl,5,5*ss],[Vl,15,15*ss],[Vl,30,30*ss],[s,1,va],[s,5,5*va],[s,15,15*va],[s,30,30*va],[a,1,os],[a,3,3*os],[a,6,6*os],[a,12,12*os],[r,1,Ts],[r,2,2*Ts],[n,1,iS],[e,1,a6],[e,3,3*a6],[t,1,x2]];function u(f,m,g){const y=m<f;y&&([f,m]=[m,f]);const j=g&&typeof g.range=="function"?g:h(f,m,g),b=j?j.range(f,+m+1):[];return y?b.reverse():b}function h(f,m,g){const y=Math.abs(m-f)/g,j=Kw(([,,T])=>T).right(l,y);if(j===l.length)return t.every(Fb(f/x2,m/x2,g));if(j===0)return iv.every(Math.max(Fb(f,m,g),1));const[b,_]=l[y/l[j-1][2]<l[j][2]/y?j-1:j];return b.every(_)}return[u,h]}const[NJ,CJ]=Hk(As,dS,py,Fk,cS,oS),[OJ,PJ]=Hk(Es,uS,my,Gf,lS,sS);function b2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function j2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function IJ(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,h=t.shortMonths,f=Ch(a),m=Oh(a),g=Ch(s),y=Oh(s),j=Ch(l),b=Oh(l),_=Ch(u),T=Oh(u),E=Ch(h),C=Oh(h),N={a:oe,A:ae,b:be,B:H,c:null,d:u6,e:u6,f:tee,g:dee,G:fee,H:ZJ,I:JJ,j:eee,L:Kk,m:nee,M:ree,p:G,q,Q:f6,s:m6,S:aee,u:iee,U:see,V:oee,w:lee,W:cee,x:null,X:null,y:uee,Y:hee,Z:mee,"%":h6},P={a:Y,A:pe,b:je,B:_e,c:null,d:d6,e:d6,f:yee,g:Nee,G:Oee,H:pee,I:gee,j:vee,L:Wk,m:xee,M:bee,p:He,q:qe,Q:f6,s:m6,S:jee,u:wee,U:See,V:_ee,w:Tee,W:Eee,x:null,X:null,y:Aee,Y:Cee,Z:Pee,"%":h6},k={a:F,A:V,b:L,B:z,c:ve,d:l6,e:l6,f:WJ,g:o6,G:s6,H:c6,I:c6,j:FJ,L:GJ,m:qJ,M:HJ,p:B,q:$J,Q:XJ,s:QJ,S:KJ,u:LJ,U:BJ,V:VJ,w:MJ,W:UJ,x:he,X:Q,y:o6,Y:s6,Z:zJ,"%":YJ};N.x=M(n,N),N.X=M(r,N),N.c=M(e,N),P.x=M(n,P),P.X=M(r,P),P.c=M(e,P);function M(ye,Me){return function(le){var J=[],Ee=-1,we=0,Ve=ye.length,Re,nt,Xn;for(le instanceof Date||(le=new Date(+le));++Ee<Ve;)ye.charCodeAt(Ee)===37&&(J.push(ye.slice(we,Ee)),(nt=i6[Re=ye.charAt(++Ee)])!=null?Re=ye.charAt(++Ee):nt=Re==="e"?" ":"0",(Xn=Me[Re])&&(Re=Xn(le,nt)),J.push(Re),we=Ee+1);return J.push(ye.slice(we,Ee)),J.join("")}}function O(ye,Me){return function(le){var J=Nh(1900,void 0,1),Ee=D(J,ye,le+="",0),we,Ve;if(Ee!=le.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Me&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(we=j2(Nh(J.y,0,1)),Ve=we.getUTCDay(),we=Ve>4||Ve===0?ov.ceil(we):ov(we),we=fy.offset(we,(J.V-1)*7),J.y=we.getUTCFullYear(),J.m=we.getUTCMonth(),J.d=we.getUTCDate()+(J.w+6)%7):(we=b2(Nh(J.y,0,1)),Ve=we.getDay(),we=Ve>4||Ve===0?sv.ceil(we):sv(we),we=Gf.offset(we,(J.V-1)*7),J.y=we.getFullYear(),J.m=we.getMonth(),J.d=we.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ve="Z"in J?j2(Nh(J.y,0,1)).getUTCDay():b2(Nh(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ve+5)%7:J.w+J.U*7-(Ve+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,j2(J)):b2(J)}}function D(ye,Me,le,J){for(var Ee=0,we=Me.length,Ve=le.length,Re,nt;Ee<we;){if(J>=Ve)return-1;if(Re=Me.charCodeAt(Ee++),Re===37){if(Re=Me.charAt(Ee++),nt=k[Re in i6?Me.charAt(Ee++):Re],!nt||(J=nt(ye,le,J))<0)return-1}else if(Re!=le.charCodeAt(J++))return-1}return J}function B(ye,Me,le){var J=f.exec(Me.slice(le));return J?(ye.p=m.get(J[0].toLowerCase()),le+J[0].length):-1}function F(ye,Me,le){var J=j.exec(Me.slice(le));return J?(ye.w=b.get(J[0].toLowerCase()),le+J[0].length):-1}function V(ye,Me,le){var J=g.exec(Me.slice(le));return J?(ye.w=y.get(J[0].toLowerCase()),le+J[0].length):-1}function L(ye,Me,le){var J=E.exec(Me.slice(le));return J?(ye.m=C.get(J[0].toLowerCase()),le+J[0].length):-1}function z(ye,Me,le){var J=_.exec(Me.slice(le));return J?(ye.m=T.get(J[0].toLowerCase()),le+J[0].length):-1}function ve(ye,Me,le){return D(ye,e,Me,le)}function he(ye,Me,le){return D(ye,n,Me,le)}function Q(ye,Me,le){return D(ye,r,Me,le)}function oe(ye){return l[ye.getDay()]}function ae(ye){return s[ye.getDay()]}function be(ye){return h[ye.getMonth()]}function H(ye){return u[ye.getMonth()]}function G(ye){return a[+(ye.getHours()>=12)]}function q(ye){return 1+~~(ye.getMonth()/3)}function Y(ye){return l[ye.getUTCDay()]}function pe(ye){return s[ye.getUTCDay()]}function je(ye){return h[ye.getUTCMonth()]}function _e(ye){return u[ye.getUTCMonth()]}function He(ye){return a[+(ye.getUTCHours()>=12)]}function qe(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Me=M(ye+="",N);return Me.toString=function(){return ye},Me},parse:function(ye){var Me=O(ye+="",!1);return Me.toString=function(){return ye},Me},utcFormat:function(ye){var Me=M(ye+="",P);return Me.toString=function(){return ye},Me},utcParse:function(ye){var Me=O(ye+="",!0);return Me.toString=function(){return ye},Me}}}var i6={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,RJ=/^%/,kJ=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function DJ(t){return t.replace(kJ,"\\$&")}function Ch(t){return new RegExp("^(?:"+t.map(DJ).join("|")+")","i")}function Oh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function MJ(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function LJ(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function BJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function VJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function UJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function s6(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function o6(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $J(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function l6(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function FJ(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function c6(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function HJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function KJ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GJ(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WJ(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YJ(t,e,n){var r=RJ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function XJ(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function QJ(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function u6(t,e){return ft(t.getDate(),e,2)}function ZJ(t,e){return ft(t.getHours(),e,2)}function JJ(t,e){return ft(t.getHours()%12||12,e,2)}function eee(t,e){return ft(1+Gf.count(Es(t),t),e,3)}function Kk(t,e){return ft(t.getMilliseconds(),e,3)}function tee(t,e){return Kk(t,e)+"000"}function nee(t,e){return ft(t.getMonth()+1,e,2)}function ree(t,e){return ft(t.getMinutes(),e,2)}function aee(t,e){return ft(t.getSeconds(),e,2)}function iee(t){var e=t.getDay();return e===0?7:e}function see(t,e){return ft(my.count(Es(t)-1,t),e,2)}function Gk(t){var e=t.getDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function oee(t,e){return t=Gk(t),ft(Uu.count(Es(t),t)+(Es(t).getDay()===4),e,2)}function lee(t){return t.getDay()}function cee(t,e){return ft(sv.count(Es(t)-1,t),e,2)}function uee(t,e){return ft(t.getFullYear()%100,e,2)}function dee(t,e){return t=Gk(t),ft(t.getFullYear()%100,e,2)}function hee(t,e){return ft(t.getFullYear()%1e4,e,4)}function fee(t,e){var n=t.getDay();return t=n>=4||n===0?Uu(t):Uu.ceil(t),ft(t.getFullYear()%1e4,e,4)}function mee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function d6(t,e){return ft(t.getUTCDate(),e,2)}function pee(t,e){return ft(t.getUTCHours(),e,2)}function gee(t,e){return ft(t.getUTCHours()%12||12,e,2)}function vee(t,e){return ft(1+fy.count(As(t),t),e,3)}function Wk(t,e){return ft(t.getUTCMilliseconds(),e,3)}function yee(t,e){return Wk(t,e)+"000"}function xee(t,e){return ft(t.getUTCMonth()+1,e,2)}function bee(t,e){return ft(t.getUTCMinutes(),e,2)}function jee(t,e){return ft(t.getUTCSeconds(),e,2)}function wee(t){var e=t.getUTCDay();return e===0?7:e}function See(t,e){return ft(py.count(As(t)-1,t),e,2)}function Yk(t){var e=t.getUTCDay();return e>=4||e===0?zu(t):zu.ceil(t)}function _ee(t,e){return t=Yk(t),ft(zu.count(As(t),t)+(As(t).getUTCDay()===4),e,2)}function Tee(t){return t.getUTCDay()}function Eee(t,e){return ft(ov.count(As(t)-1,t),e,2)}function Aee(t,e){return ft(t.getUTCFullYear()%100,e,2)}function Nee(t,e){return t=Yk(t),ft(t.getUTCFullYear()%100,e,2)}function Cee(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function Oee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zu(t):zu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function Pee(){return"+0000"}function h6(){return"%"}function f6(t){return+t}function m6(t){return Math.floor(+t/1e3)}var du,Xk,Qk;Iee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iee(t){return du=IJ(t),Xk=du.format,du.parse,Qk=du.utcFormat,du.utcParse,du}function Ree(t){return new Date(t)}function kee(t){return t instanceof Date?+t:+new Date(+t)}function hS(t,e,n,r,a,s,l,u,h,f){var m=Zw(),g=m.invert,y=m.domain,j=f(".%L"),b=f(":%S"),_=f("%I:%M"),T=f("%I %p"),E=f("%a %d"),C=f("%b %d"),N=f("%B"),P=f("%Y");function k(M){return(h(M)<M?j:u(M)<M?b:l(M)<M?_:s(M)<M?T:r(M)<M?a(M)<M?E:C:n(M)<M?N:P)(M)}return m.invert=function(M){return new Date(g(M))},m.domain=function(M){return arguments.length?y(Array.from(M,kee)):y().map(Ree)},m.ticks=function(M){var O=y();return t(O[0],O[O.length-1],M??10)},m.tickFormat=function(M,O){return O==null?k:f(O)},m.nice=function(M){var O=y();return(!M||typeof M.range!="function")&&(M=e(O[0],O[O.length-1],M??10)),M?y(Lk(O,M)):m},m.copy=function(){return Kf(m,hS(t,e,n,r,a,s,l,u,h,f))},m}function Dee(){return _a.apply(hS(OJ,PJ,Es,uS,my,Gf,lS,sS,Vl,Xk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mee(){return _a.apply(hS(NJ,CJ,As,dS,py,fy,cS,oS,Vl,Qk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gy(){var t=0,e=1,n,r,a,s,l=pr,u=!1,h;function f(g){return g==null||isNaN(g=+g)?h:l(a===0?.5:(g=(s(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(y){var j,b;return arguments.length?([j,b]=y,l=g(j,b),f):[l(0),l(1)]}}return f.range=m(id),f.rangeRound=m(Qw),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zk(){var t=Go(gy()(pr));return t.copy=function(){return Wo(t,Zk())},Rs.apply(t,arguments)}function Jk(){var t=tS(gy()).domain([1,10]);return t.copy=function(){return Wo(t,Jk()).base(t.base())},Rs.apply(t,arguments)}function e8(){var t=nS(gy());return t.copy=function(){return Wo(t,e8()).constant(t.constant())},Rs.apply(t,arguments)}function fS(){var t=rS(gy());return t.copy=function(){return Wo(t,fS()).exponent(t.exponent())},Rs.apply(t,arguments)}function Lee(){return fS.apply(null,arguments).exponent(.5)}function t8(){var t=[],e=pr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ff(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Co),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>wZ(t,s/r))},n.copy=function(){return t8(e).domain(t)},Rs.apply(n,arguments)}function vy(){var t=0,e=.5,n=1,r=1,a,s,l,u,h,f=pr,m,g=!1,y;function j(_){return isNaN(_=+_)?y:(_=.5+((_=+m(_))-s)*(r*_<r*s?u:h),f(g?Math.max(0,Math.min(1,_)):_))}j.domain=function(_){return arguments.length?([t,e,n]=_,a=m(t=+t),s=m(e=+e),l=m(n=+n),u=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,j):[t,e,n]},j.clamp=function(_){return arguments.length?(g=!!_,j):g},j.interpolator=function(_){return arguments.length?(f=_,j):f};function b(_){return function(T){var E,C,N;return arguments.length?([E,C,N]=T,f=YZ(_,[E,C,N]),j):[f(0),f(.5),f(1)]}}return j.range=b(id),j.rangeRound=b(Qw),j.unknown=function(_){return arguments.length?(y=_,j):y},function(_){return m=_,a=_(t),s=_(e),l=_(n),u=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,j}}function n8(){var t=Go(vy()(pr));return t.copy=function(){return Wo(t,n8())},Rs.apply(t,arguments)}function r8(){var t=tS(vy()).domain([.1,1,10]);return t.copy=function(){return Wo(t,r8()).base(t.base())},Rs.apply(t,arguments)}function a8(){var t=nS(vy());return t.copy=function(){return Wo(t,a8()).constant(t.constant())},Rs.apply(t,arguments)}function mS(){var t=rS(vy());return t.copy=function(){return Wo(t,mS()).exponent(t.exponent())},Rs.apply(t,arguments)}function Bee(){return mS.apply(null,arguments).exponent(.5)}const Vh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ww,scaleDiverging:n8,scaleDivergingLog:r8,scaleDivergingPow:mS,scaleDivergingSqrt:Bee,scaleDivergingSymlog:a8,scaleIdentity:Mk,scaleImplicit:Hb,scaleLinear:Dk,scaleLog:Bk,scaleOrdinal:Gw,scalePoint:TZ,scalePow:aS,scaleQuantile:zk,scaleQuantize:$k,scaleRadial:Uk,scaleSequential:Zk,scaleSequentialLog:Jk,scaleSequentialPow:fS,scaleSequentialQuantile:t8,scaleSequentialSqrt:Lee,scaleSequentialSymlog:e8,scaleSqrt:yJ,scaleSymlog:Vk,scaleThreshold:qk,scaleTime:Dee,scaleUtc:Mee,tickFormat:kk},Symbol.toStringTag,{value:"Module"}));var vc=t=>t.chartData,pS=ie([vc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),yy=(t,e,n,r)=>r?pS(t):vc(t);function $u(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xr(e)&&Xr(n))return!0}return!1}function p6(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Vee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Xr(n))a=n;else if(typeof n=="function")return;if(Xr(r))s=r;else if(typeof r=="function")return;var l=[a,s];if($u(l))return l}}function Uee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if($u(r))return p6(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,u;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Ne(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&aC.test(a)){var h=aC.exec(a);if(h==null||e==null)l=void 0;else{var f=+h[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ne(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&iC.test(s)){var m=iC.exec(s);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e?.[1];var y=[l,u];if($u(y))return e==null?y:p6(y,e,n)}}}var sd=1e9,zee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,Ut=!0,ja="[DecimalError] ",Kl=ja+"Invalid argument: ",gS=ja+"Exponent out of range: ",od=Math.floor,Rl=Math.pow,$ee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,Rn=1e7,Dt=7,i8=9007199254740991,lv=od(i8/Dt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return ms(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Ot(ms(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return pn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zr))throw Error(ja+"NaN");if(n.s<1)throw Error(ja+(n.s?"NaN":"-Infinity"));return n.eq(zr)?new r(0):(Ut=!1,e=ms(bf(n,s),bf(t,s),s),Ut=!0,Ot(e,a))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l8(e,t):s8(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ja+"NaN");return n.s?(Ut=!1,e=ms(n,t,0,1).times(t),Ut=!0,n.minus(e)):Ot(new r(n),a)};Ae.naturalExponential=Ae.exp=function(){return o8(this)};Ae.naturalLogarithm=Ae.ln=function(){return bf(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s8(e,t):l8(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kl+t);if(e=pn(a)+1,r=a.d.length-1,n=r*Dt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,a,s,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(ja+"NaN")}for(t=pn(u),Ut=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=ui(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=od((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(s=r,r=s.plus(ms(u,s,l+2)).times(.5),ui(s.d).slice(0,l)===(e=ui(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Ot(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Ut=!0,Ot(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,a,s,l,u,h,f,m=this,g=m.constructor,y=m.d,j=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,h=y.length,f=j.length,h<f&&(s=y,y=j,j=s,l=h,h=f,f=l),s=[],l=h+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)u=s[a]+j[r]*y[a-r-1]+e,s[a--]=u%Rn|0,e=u/Rn|0;s[a]=(s[a]+e)%Rn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ut?Ot(t,g.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wi(t,0,sd),e===void 0?e=r.rounding:wi(e,0,8),Ot(n,t+pn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ac(r,!0):(wi(t,0,sd),e===void 0?e=a.rounding:wi(e,0,8),r=Ot(new a(r),t+1,e),n=ac(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?ac(a):(wi(t,0,sd),e===void 0?e=s.rounding:wi(e,0,8),r=Ot(new s(a),t+pn(a)+1,e),n=ac(r.abs(),!1,t+pn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),pn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,a,s,l,u=this,h=u.constructor,f=12,m=+(t=new h(t));if(!t.s)return new h(zr);if(u=new h(u),!u.s){if(t.s<1)throw Error(ja+"Infinity");return u}if(u.eq(zr))return u;if(r=h.precision,t.eq(zr))return Ot(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=m<0?-m:m)<=i8){for(a=new h(zr),e=Math.ceil(r/Dt+4),Ut=!1;n%2&&(a=a.times(u),v6(a.d,e)),n=od(n/2),n!==0;)u=u.times(u),v6(u.d,e);return Ut=!0,t.s<0?new h(zr).div(a):Ot(a,r)}}else if(s<0)throw Error(ja+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ut=!1,a=t.times(bf(u,r+f)),Ut=!0,a=o8(a),a.s=s,a};Ae.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=pn(a),r=ac(a,n<=s.toExpNeg||n>=s.toExpPos)):(wi(t,1,sd),e===void 0?e=s.rounding:wi(e,0,8),a=Ot(new s(a),t,e),n=pn(a),r=ac(a,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wi(t,1,sd),e===void 0?e=r.rounding:wi(e,0,8)),Ot(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),n=t.constructor;return ac(t,e<=n.toExpNeg||e>=n.toExpPos)};function s8(t,e){var n,r,a,s,l,u,h,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ut?Ot(e,g):e;if(h=t.d,f=e.d,l=t.e,a=e.e,h=h.slice(),s=l-a,s){for(s<0?(r=h,s=-s,u=f.length):(r=f,a=l,u=h.length),l=Math.ceil(g/Dt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=h.length,s=f.length,u-s<0&&(s=u,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/Rn|0,h[s]%=Rn;for(n&&(h.unshift(n),++a),u=h.length;h[--u]==0;)h.pop();return e.d=h,e.e=a,Ut?Ot(e,g):e}function wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Kl+t)}function ui(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=Dt-r.length,n&&(s+=po(n)),s+=r;l=t[e],r=l+"",n=Dt-r.length,n&&(s+=po(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ms=function(){function t(r,a){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+l,r[u]=s%Rn|0,l=s/Rn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var u,h;if(s!=l)h=s>l?1:-1;else for(u=h=0;u<s;u++)if(r[u]!=a[u]){h=r[u]>a[u]?1:-1;break}return h}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*Rn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var u,h,f,m,g,y,j,b,_,T,E,C,N,P,k,M,O,D,B=r.constructor,F=r.s==a.s?1:-1,V=r.d,L=a.d;if(!r.s)return new B(r);if(!a.s)throw Error(ja+"Division by zero");for(h=r.e-a.e,O=L.length,k=V.length,j=new B(F),b=j.d=[],f=0;L[f]==(V[f]||0);)++f;if(L[f]>(V[f]||0)&&--h,s==null?C=s=B.precision:l?C=s+(pn(r)-pn(a))+1:C=s,C<0)return new B(0);if(C=C/Dt+2|0,f=0,O==1)for(m=0,L=L[0],C++;(f<k||m)&&C--;f++)N=m*Rn+(V[f]||0),b[f]=N/L|0,m=N%L|0;else{for(m=Rn/(L[0]+1)|0,m>1&&(L=t(L,m),V=t(V,m),O=L.length,k=V.length),P=O,_=V.slice(0,O),T=_.length;T<O;)_[T++]=0;D=L.slice(),D.unshift(0),M=L[0],L[1]>=Rn/2&&++M;do m=0,u=e(L,_,O,T),u<0?(E=_[0],O!=T&&(E=E*Rn+(_[1]||0)),m=E/M|0,m>1?(m>=Rn&&(m=Rn-1),g=t(L,m),y=g.length,T=_.length,u=e(g,_,y,T),u==1&&(m--,n(g,O<y?D:L,y))):(m==0&&(u=m=1),g=L.slice()),y=g.length,y<T&&g.unshift(0),n(_,g,T),u==-1&&(T=_.length,u=e(L,_,O,T),u<1&&(m++,n(_,O<T?D:L,T))),T=_.length):u===0&&(m++,_=[0]),b[f++]=m,u&&_[0]?_[T++]=V[P]||0:(_=[V[P]],T=1);while((P++<k||_[0]!==void 0)&&C--)}return b[0]||b.shift(),j.e=h,Ot(j,l?s+pn(j)+1:s)}}();function o8(t,e){var n,r,a,s,l,u,h=0,f=0,m=t.constructor,g=m.precision;if(pn(t)>16)throw Error(gS+pn(t));if(!t.s)return new m(zr);for(Ut=!1,u=g,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log(Rl(2,f))/Math.LN10*2+5|0,u+=r,n=a=s=new m(zr),m.precision=u;;){if(a=Ot(a.times(t),u),n=n.times(++h),l=s.plus(ms(a,n,u)),ui(l.d).slice(0,u)===ui(s.d).slice(0,u)){for(;f--;)s=Ot(s.times(s),u);return m.precision=g,e==null?(Ut=!0,Ot(s,g)):s}s=l}}function pn(t){for(var e=t.e*Dt,n=t.d[0];n>=10;n/=10)e++;return e}function w2(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(ja+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function bf(t,e){var n,r,a,s,l,u,h,f,m,g=1,y=10,j=t,b=j.d,_=j.constructor,T=_.precision;if(j.s<1)throw Error(ja+(j.s?"NaN":"-Infinity"));if(j.eq(zr))return new _(0);if(e==null?(Ut=!1,f=T):f=e,j.eq(10))return e==null&&(Ut=!0),w2(_,f);if(f+=y,_.precision=f,n=ui(b),r=n.charAt(0),s=pn(j),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)j=j.times(t),n=ui(j.d),r=n.charAt(0),g++;s=pn(j),r>1?(j=new _("0."+n),s++):j=new _(r+"."+n.slice(1))}else return h=w2(_,f+2,T).times(s+""),j=bf(new _(r+"."+n.slice(1)),f-y).plus(h),_.precision=T,e==null?(Ut=!0,Ot(j,T)):j;for(u=l=j=ms(j.minus(zr),j.plus(zr),f),m=Ot(j.times(j),f),a=3;;){if(l=Ot(l.times(m),f),h=u.plus(ms(l,new _(a),f)),ui(h.d).slice(0,f)===ui(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(w2(_,f+2,T).times(s+""))),u=ms(u,new _(g),f),_.precision=T,e==null?(Ut=!0,Ot(u,T)):u;u=h,a+=2}}function g6(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=od(n/Dt),t.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Dt;r<a;)t.d.push(+e.slice(r,r+=Dt));e=e.slice(r),r=Dt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>lv||t.e<-lv))throw Error(gS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,a,s,l,u,h,f,m,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Dt,a=e,f=g[m=0];else{if(m=Math.ceil((r+1)/Dt),s=g.length,m>=s)return t;for(f=s=g[m],l=1;s>=10;s/=10)l++;r%=Dt,a=r-Dt+l}if(n!==void 0&&(s=Rl(10,l-a-1),u=f/s%10|0,h=e<0||g[m+1]!==void 0||f%s,h=n<4?(u||h)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?a>0?f/Rl(10,l-a):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return h?(s=pn(t),g.length=1,e=e-s-1,g[0]=Rl(10,(Dt-e%Dt)%Dt),t.e=od(-e/Dt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=Rl(10,Dt-r),g[m]=a>0?(f/Rl(10,l-a)%Rl(10,a)|0)*s:0),h)for(;;)if(m==0){(g[0]+=s)==Rn&&(g[0]=1,++t.e);break}else{if(g[m]+=s,g[m]!=Rn)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ut&&(t.e>lv||t.e<-lv))throw Error(gS+pn(t));return t}function l8(t,e){var n,r,a,s,l,u,h,f,m,g,y=t.constructor,j=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ut?Ot(e,j):e;if(h=t.d,g=e.d,r=e.e,f=t.e,h=h.slice(),l=f-r,l){for(m=l<0,m?(n=h,l=-l,u=g.length):(n=g,r=f,u=h.length),a=Math.max(Math.ceil(j/Dt),u)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(h[a]!=g[a]){m=h[a]<g[a];break}l=0}for(m&&(n=h,h=g,g=n,e.s=-e.s),u=h.length,a=g.length-u;a>0;--a)h[u++]=0;for(a=g.length;a>l;){if(h[--a]<g[a]){for(s=a;s&&h[--s]===0;)h[s]=Rn-1;--h[s],h[a]+=Rn}h[a]-=g[a]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Ut?Ot(e,j):e):new y(0)}function ac(t,e,n){var r,a=pn(t),s=ui(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+po(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+po(-a-1)+s,n&&(r=n-l)>0&&(s+=po(r))):a>=l?(s+=po(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+po(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=po(r))),t.s<0?"-"+s:s}function v6(t,e){if(t.length>e)return t.length=e,!0}function c8(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Kl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return g6(l,s.toString())}else if(typeof s!="string")throw Error(Kl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,$ee.test(s))g6(l,s);else throw Error(Kl+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=c8,a.config=a.set=qee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function qee(t){if(!t||typeof t!="object")throw Error(ja+"Object expected");var e,n,r,a=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(od(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Kl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kl+n+": "+r);return this}var vS=c8(zee);zr=new vS(1);const wt=vS;var Fee=t=>t,u8={},d8=t=>t===u8,y6=t=>function e(){return arguments.length===0||arguments.length===1&&d8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},h8=(t,e)=>t===1?e:y6(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==u8).length;return s>=t?e(...r):h8(t-s,y6(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=r.map(m=>d8(m)?u.shift():m);return e(...f,...u)}))}),xy=t=>h8(t.length,t),Yb=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Hee=xy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Kee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Fee;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,h)=>h(u),s(...arguments))}},Xb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),f8=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e&&a.every((l,u)=>{var h;return l===((h=e)===null||h===void 0?void 0:h[u])})||(e=a,n=t(...a)),n}};function m8(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function p8(t,e,n){for(var r=new wt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}xy((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});xy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});xy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var g8=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},v8=(t,e,n)=>{if(t.lte(0))return new wt(0);var r=m8(t.toNumber()),a=new wt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,u=new wt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),h=u.mul(a);return e?new wt(h.toNumber()):new wt(Math.ceil(h.toNumber()))},Gee=(t,e,n)=>{var r=new wt(1),a=new wt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new wt(10).pow(m8(t)-1),a=new wt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new wt(Math.floor(t)))}else t===0?a=new wt(Math.floor((e-1)/2)):n||(a=new wt(Math.floor(t)));var l=Math.floor((e-1)/2),u=Kee(Hee(h=>a.add(new wt(h-l).mul(r)).toNumber()),Yb);return u(0,e)},y8=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var l=v8(new wt(n).sub(e).div(r-1),a,s),u;e<=0&&n>=0?u=new wt(0):(u=new wt(e).add(n).div(2),u=u.sub(new wt(u).mod(l)));var h=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new wt(n).sub(u).div(l).toNumber()),m=h+f+1;return m>r?y8(e,n,r,a,s+1):(m<r&&(f=n>0?f+(r-m):f,h=n>0?h:h+(r-m)),{step:l,tickMin:u.sub(new wt(h).mul(l)),tickMax:u.add(new wt(f).mul(l))})};function Wee(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,u]=g8([e,n]);if(l===-1/0||u===1/0){var h=u===1/0?[l,...Yb(0,r-1).map(()=>1/0)]:[...Yb(0,r-1).map(()=>-1/0),u];return e>n?Xb(h):h}if(l===u)return Gee(l,r,a);var{step:f,tickMin:m,tickMax:g}=y8(l,u,s,a,0),y=p8(m,g.add(new wt(.1).mul(f)),f);return e>n?Xb(y):y}function Yee(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=g8([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var u=Math.max(e,2),h=v8(new wt(l).sub(s).div(u-1),a,0),f=[...p8(new wt(s),new wt(l),h),l];return a===!1&&(f=f.map(m=>Math.round(m))),n>r?Xb(f):f}var Xee=f8(Wee),Qee=f8(Yee),x8=t=>t.rootProps.maxBarSize,Zee=t=>t.rootProps.barGap,b8=t=>t.rootProps.barCategoryGap,Jee=t=>t.rootProps.barSize,Wf=t=>t.rootProps.stackOffset,yS=t=>t.options.chartName,xS=t=>t.rootProps.syncId,j8=t=>t.rootProps.syncMethod,bS=t=>t.options.eventEmitter,Ji={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},by=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ete={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ji.angleAxisId,includeHidden:!1,name:void 0,reversed:Ji.reversed,scale:Ji.scale,tick:Ji.tick,tickCount:void 0,ticks:void 0,type:Ji.type,unit:void 0},tte={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:Br.type,unit:void 0},nte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ji.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ji.scale,tick:Ji.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rte={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:"category",unit:void 0},jS=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?nte:ete,wS=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?rte:tte,jy=t=>t.polarOptions,SS=ie([Ps,Is,_n],ak),w8=ie([jy,SS],(t,e)=>{if(t!=null)return gr(t.innerRadius,e,0)}),S8=ie([jy,SS],(t,e)=>{if(t!=null)return gr(t.outerRadius,e,e*.8)}),ate=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_8=ie([jy],ate);ie([jS,_8],by);var T8=ie([SS,w8,S8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([wS,T8],by);var ite=ie([gt,jy,w8,S8,Ps,Is],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:h,endAngle:f}=e;return{cx:gr(l,a,a/2),cy:gr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),rn=(t,e)=>e,Yf=(t,e,n)=>n;function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qb=[0,"auto"],Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ks=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Mr},Lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:oy},Yo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Lr},So={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_S=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??So},an=(t,e,n)=>{switch(e){case"xAxis":return ks(t,n);case"yAxis":return Yo(t,n);case"zAxis":return _S(t,n);case"angleAxis":return jS(t,n);case"radiusAxis":return wS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cte=(t,e,n)=>{switch(e){case"xAxis":return ks(t,n);case"yAxis":return Yo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xf=(t,e,n)=>{switch(e){case"xAxis":return ks(t,n);case"yAxis":return Yo(t,n);case"angleAxis":return jS(t,n);case"radiusAxis":return wS(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},E8=t=>t.graphicalItems.countOfBars>0;function TS(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Qf=t=>t.graphicalItems.cartesianItems,ute=ie([rn,Yf],TS),ES=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Zf=ie([Qf,an,ute],ES),A8=t=>t.filter(e=>e.stackId===void 0),dte=ie([Zf],A8),AS=t=>t.map(e=>e.data).filter(Boolean).flat(1),hte=ie([Zf],AS),NS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},wy=ie([hte,yy],NS),CS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:St(a,r)}))):t.map(r=>({value:r})),Sy=ie([wy,an,Zf],CS);function N8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function yc(t){return t.filter(e=>ji(e)||e instanceof Date).map(Number).filter(e=>Gr(e)===!1)}function fte(t,e,n){return!n||typeof e!="number"||Gr(e)?[]:n.length?yc(n.flatMap(r=>{var a=St(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!Xr(s)||!Xr(l)))return[e-s,e+l]})):[]}var C8=(t,e,n)=>{var r={},a=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,h=u.map(f=>f.dataKey);return[l,{stackedData:NX(t,h,n),graphicalItems:u}]}))},Zb=ie([wy,Zf,Wf],C8),O8=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var s=IX(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},mte=ie([Zb,vc,rn],O8),P8=(t,e,n,r)=>n.length>0?t.flatMap(a=>n.flatMap(s=>{var l,u,h=(l=s.errorBars)===null||l===void 0?void 0:l.filter(m=>N8(r,m)),f=St(a,(u=e.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:f,errorDomain:fte(a,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:St(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),pte=ie(wy,an,dte,rn,P8);function gte(t){var{value:e}=t;if(ji(e)||e instanceof Date)return e}var vte=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=yc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yte=(t,e,n)=>{var r=t.map(gte).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&n5(r))?_k(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},OS=t=>{var e;if(t==null||!("domain"in t))return Qb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=yc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Qb},PS=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},I8=t=>t.referenceElements.dots,ld=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),xte=ie([I8,rn,Yf],ld),R8=t=>t.referenceElements.areas,bte=ie([R8,rn,Yf],ld),k8=t=>t.referenceElements.lines,jte=ie([k8,rn,Yf],ld),D8=(t,e)=>{var n=yc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wte=ie(xte,rn,D8),M8=(t,e)=>{var n=yc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ste=ie([bte,rn],M8),L8=(t,e)=>{var n=yc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_te=ie(jte,rn,L8),Tte=ie(wte,_te,Ste,(t,e,n)=>PS(t,n,e)),B8=ie([an],OS),IS=(t,e,n,r,a)=>{var s=Vee(e,t.allowDataOverflow);return s??Uee(e,PS(n,a,vte(r)),t.allowDataOverflow)},Ete=ie([an,B8,mte,pte,Tte],IS),Ate=[0,1],RS=(t,e,n,r,a,s,l)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:u,type:h}=t,f=Fo(e,s);return f&&u==null?_k(0,n.length):h==="category"?yte(r,t,f):a==="expand"?Ate:l}},kS=ie([an,gt,wy,Sy,Wf,rn,Ete],RS),V8=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(zf(s));return u in Vh?u:"point"}}},cd=ie([an,gt,E8,yS,rn],V8);function Nte(t){if(t!=null){if(t in Vh)return Vh[t]();var e="scale".concat(zf(t));if(e in Vh)return Vh[e]()}}function DS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=Nte(e);if(a!=null){var s=a.domain(n).range(r);return SX(s),s}}}var MS=(t,e,n)=>{var r=OS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$u(t))return Xee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&$u(t))return Qee(t,e.tickCount,e.allowDecimals)}},LS=ie([kS,Xf,cd],MS),BS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&$u(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(a,s),Math.max(l,u)]}return e},Cte=ie([an,kS,LS,rn],BS),Ote=ie(Sy,an,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(yc(t.map(u=>u.value))).sort((u,h)=>u-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),U8=ie(Ote,gt,b8,_n,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Xr(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=gr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),Pte=(t,e)=>{var n=ks(t,e);return n==null||typeof n.padding!="string"?0:U8(t,"xAxis",e,n.padding)},Ite=(t,e)=>{var n=Yo(t,e);return n==null||typeof n.padding!="string"?0:U8(t,"yAxis",e,n.padding)},Rte=ie(ks,Pte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),kte=ie(Yo,Ite,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),Dte=ie([_n,Rte,cy,ly,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Mte=ie([_n,gt,kte,cy,ly,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Jf=(t,e,n,r)=>{var a;switch(e){case"xAxis":return Dte(t,n,r);case"yAxis":return Mte(t,n,r);case"zAxis":return(a=_S(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return _8(t);case"radiusAxis":return T8(t,n);default:return}},z8=ie([an,Jf],by),ud=ie([an,cd,Cte,z8],DS);ie(Zf,rn,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>N8(e,n)));function $8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _y=(t,e)=>e,Ty=(t,e,n)=>n,Lte=ie(Uw,_y,Ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($8)),Bte=ie(zw,_y,Ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($8)),q8=(t,e)=>({width:t.width,height:e.height}),Vte=(t,e)=>{var n=typeof e.width=="number"?e.width:oy;return{width:n,height:t.height}},F8=ie(_n,ks,q8),Ute=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},zte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},$te=ie(Is,_n,Lte,_y,Ty,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var h=q8(e,u);l==null&&(l=Ute(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;s[u.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),s}),qte=ie(Ps,_n,Bte,_y,Ty,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var h=Vte(e,u);l==null&&(l=zte(e,r,t));var f=r==="left"&&!a||r==="right"&&a;s[u.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),s}),Fte=(t,e)=>{var n=_n(t),r=ks(t,e);if(r!=null){var a=$te(t,r.orientation,r.mirror),s=a[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Hte=(t,e)=>{var n=_n(t),r=Yo(t,e);if(r!=null){var a=qte(t,r.orientation,r.mirror),s=a[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},H8=ie(_n,Yo,(t,e)=>{var n=typeof e.width=="number"?e.width:oy;return{width:n,height:t.height}}),b6=(t,e,n)=>{switch(e){case"xAxis":return F8(t,n).width;case"yAxis":return H8(t,n).height;default:return}},K8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,u=Fo(t,r),h=e.map(f=>f.value);if(l&&u&&s==="category"&&a&&n5(h))return h}},VS=ie([gt,Sy,an,rn],K8),G8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Fo(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(u=>u.value)}},US=ie([gt,Sy,Xf,rn],G8),j6=ie([gt,cte,cd,ud,VS,US,Jf,LS,rn],(t,e,n,r,a,s,l,u,h)=>{if(e==null)return null;var f=Fo(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),Kte=(t,e,n,r,a,s,l,u,h)=>{if(!(e==null||r==null)){var f=Fo(t,h),{type:m,ticks:g,tickCount:y}=e,j=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=m==="category"&&r.bandwidth?r.bandwidth()/j:0;b=h==="angleAxis"&&s!=null&&s.length>=2?Dn(s[0]-s[1])*2*b:b;var _=g||a;if(_){var T=_.map((E,C)=>{var N=l?l.indexOf(E):E;return{index:C,coordinate:r(N)+b,value:E,offset:b}});return T.filter(E=>!Gr(E.coordinate))}return f&&u?u.map((E,C)=>({coordinate:r(E)+b,value:E,index:C,offset:b})):r.ticks?r.ticks(y).map(E=>({coordinate:r(E)+b,value:E,offset:b})):r.domain().map((E,C)=>({coordinate:r(E)+b,value:l?l[E]:E,index:C,offset:b}))}},W8=ie([gt,Xf,cd,ud,LS,Jf,VS,US,rn],Kte),Gte=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Fo(t,l),{tickCount:h}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?Dn(r[0]-r[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:a?a[m]:m,index:g,offset:f}))}},Si=ie([gt,Xf,ud,Jf,VS,US,rn],Gte),wa=ie(an,ud,(t,e)=>{if(!(t==null||e==null))return cv(cv({},t),{},{scale:e})}),Wte=ie([an,cd,kS,z8],DS),Yte=ie((t,e,n)=>_S(t,n),Wte,(t,e)=>{if(!(t==null||e==null))return cv(cv({},t),{},{scale:e})}),Xte=ie([gt,Uw,zw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Y8=t=>t.options.defaultTooltipEventType,X8=t=>t.options.validateTooltipEventTypes;function Q8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function zS(t,e){var n=Y8(t),r=X8(t);return Q8(e,n,r)}function Qte(t){return Oe(e=>zS(e,t))}var Z8=(t,e)=>{var n,r=Number(e);if(!(Gr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Zte=t=>t.tooltip.settings,bo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jte={itemInteraction:{click:bo,hover:bo},axisInteraction:{click:bo,hover:bo},keyboardInteraction:bo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},J8=Sa({name:"tooltip",initialState:Jte,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=fs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ene,removeTooltipEntrySettings:tne,setTooltipSettingsState:nne,setActiveMouseOverItemIndex:eD,mouseLeaveItem:rne,mouseLeaveChart:tD,setActiveClickItemIndex:ane,setMouseOverAxisIndex:nD,setMouseClickAxisIndex:ine,setSyncInteraction:Jb,setKeyboardInteraction:ej}=J8.actions,sne=J8.reducer;function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lne(t){var e=cne(t,"string");return typeof e=="symbol"?e:e+""}function cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function une(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function dne(t){return t.index!=null}var rD=(t,e,n,r)=>{if(e==null)return bo;var a=une(t,e,n);if(a==null)return bo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(dne(a)){if(s)return Hp(Hp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Hp(Hp({},bo),{},{coordinate:a.coordinate})},$S=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Xr(r))return n;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(r,s)))},aD=(t,e,n,r,a,s,l,u)=>{if(!(s==null||u==null)){var h=l[0],f=h==null?void 0:u(h.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},iD=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},em=t=>t.options.tooltipPayloadSearcher,dd=t=>t.tooltip;function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=mne(t,"string");return typeof e=="symbol"?e:e+""}function mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function gne(t,e){return t??e}var sD=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:m}=n,g=[];return t.reduce((y,j)=>{var b,{dataDefinedOnItem:_,settings:T}=j,E=gne(_,u),C=pne(E,f,m),N=(b=T?.dataKey)!==null&&b!==void 0?b:r?.dataKey,P=T?.nameKey,k;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?k=r5(C,r.dataKey,a):k=s(C,e,h,P),Array.isArray(k))k.forEach(O=>{var D=_6(_6({},T),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});y.push(sC({tooltipEntrySettings:D,dataKey:O.dataKey,payload:O.payload,value:St(O.payload,O.dataKey),name:O.name}))});else{var M;y.push(sC({tooltipEntrySettings:T,dataKey:N,payload:k,value:St(k,N),name:(M=St(k,P))!==null&&M!==void 0?M:T?.name}))}return y},g)}},Ln=t=>{var e=gt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},hd=t=>t.tooltip.settings.axisId,Yn=t=>{var e=Ln(t),n=hd(t);return Xf(t,e,n)},qS=ie([Yn,gt,E8,yS,Ln],V8),vne=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),yne=ie([Ln,hd],TS),Ey=ie([vne,Yn,yne],ES),xne=ie([Ey],AS),xc=ie([xne,vc],NS),FS=ie([xc,Yn,Ey],CS),bne=ie([Yn],OS),jne=ie([xc,Ey,Wf],C8),wne=ie([jne,vc,Ln],O8),Sne=ie([Ey],A8),_ne=ie([xc,Yn,Sne,Ln],P8),Tne=ie([I8,Ln,hd],ld),Ene=ie([Tne,Ln],D8),Ane=ie([R8,Ln,hd],ld),Nne=ie([Ane,Ln],M8),Cne=ie([k8,Ln,hd],ld),One=ie([Cne,Ln],L8),Pne=ie([Ene,One,Nne],PS),Ine=ie([Yn,bne,wne,_ne,Pne],IS),oD=ie([Yn,gt,xc,FS,Wf,Ln,Ine],RS),Rne=ie([oD,Yn,qS],MS),kne=ie([Yn,oD,Rne,Ln],BS),lD=t=>{var e=Ln(t),n=hd(t),r=!1;return Jf(t,e,n,r)},cD=ie([Yn,lD],by),uD=ie([Yn,qS,kne,cD],DS),Dne=ie([gt,FS,Yn,Ln],K8),Mne=ie([gt,FS,Yn,Ln],G8),Lne=(t,e,n,r,a,s,l,u)=>{if(e){var{type:h}=e,f=Fo(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Dn(a[0]-a[1])*2*g:g,f&&l?l.map((y,j)=>({coordinate:r(y)+g,value:y,index:j,offset:g})):r.domain().map((y,j)=>({coordinate:r(y)+g,value:s?s[y]:y,index:j,offset:g}))}}},Ds=ie([gt,Yn,qS,uD,lD,Dne,Mne,Ln],Lne),HS=ie([Y8,X8,Zte],(t,e,n)=>Q8(n.shared,t,e)),dD=t=>t.tooltip.settings.trigger,KS=t=>t.tooltip.settings.defaultIndex,Ay=ie([dd,HS,dD,KS],rD),Ns=ie([Ay,xc],$S),hD=ie([Ds,Ns],Z8),fD=ie([Ay],t=>{if(t)return t.dataKey}),mD=ie([dd,HS,dD,KS],iD),Bne=ie([Ps,Is,gt,_n,Ds,KS,mD,em],aD),Vne=ie([Ay,Bne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Une=ie([Ay],t=>t.active),zne=ie([mD,Ns,vc,Yn,hD,em,HS],sD),$ne=ie([zne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fne(t){var e=Hne(t,"string");return typeof e=="symbol"?e:e+""}function Hne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kne=()=>Oe(Yn),Gne=()=>{var t=Kne(),e=Oe(Ds),n=Oe(uD);return mf(E6(E6({},t),{},{scale:n}),e)},Wne=()=>Oe(yS),GS=(t,e)=>e,pD=(t,e,n)=>n,WS=(t,e,n,r)=>r,Yne=ie(Ds,t=>ey(t,e=>e.coordinate)),YS=ie([dd,GS,pD,WS],rD),gD=ie([YS,xc],$S),Xne=(t,e,n)=>{if(e!=null){var r=dd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},vD=ie([dd,GS,pD,WS],iD),uv=ie([Ps,Is,gt,_n,Ds,WS,vD,em],aD),Qne=ie([YS,uv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),yD=ie(Ds,gD,Z8),Zne=ie([vD,gD,vc,Yn,yD,em,GS],sD),Jne=ie([YS],t=>({isActive:t.active,activeIndex:t.index})),ere=(t,e,n,r,a,s,l,u)=>{if(!(!t||!e||!r||!a||!s)){var h=RX(t.chartX,t.chartY,e,n,u);if(h){var f=DX(h,e),m=jX(f,l,s,r,a),g=kX(e,s,m,h);return{activeIndex:String(m),activeCoordinate:g}}}};function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tj.apply(null,arguments)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function are(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:h,chartName:f}=t,m=e,g=n,y=r;if(!u||!m||f!=="ScatterChart"&&h!=="axis")return null;var j,b;if(f==="ScatterChart")j=m,b=yQ;else if(f==="BarChart")j=xQ(l,m,a,s),b=bk;else if(l==="radial"){var{cx:_,cy:T,radius:E,startAngle:C,endAngle:N}=jk(m);j={cx:_,cy:T,startAngle:C,endAngle:N,innerRadius:E,outerRadius:E},b=Sk}else j={points:iZ(l,m,a)},b=dy;var P=typeof u=="object"&&"className"in u?u.className:void 0,k=Kp(Kp(Kp(Kp({stroke:"#ccc",pointerEvents:"none"},a),j),Je(u,!1)),{},{payload:g,payloadIndex:y,className:ht("recharts-tooltip-cursor",P)});return w.isValidElement(u)?w.cloneElement(u,k):w.createElement(b,k)}function ire(t){var e=Gne(),n=uk(),r=uy(),a=Wne();return w.createElement(are,tj({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var xD=w.createContext(null),sre=()=>w.useContext(xD),S2={exports:{}},N6;function ore(){return N6||(N6=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function s(h,f,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var j=new a(m,g||h,y),b=n?n+f:f;return h._events[b]?h._events[b].fn?h._events[b]=[h._events[b],j]:h._events[b].push(j):(h._events[b]=j,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,j=g.length,b=new Array(j);y<j;y++)b[y]=g[y].fn;return b},u.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,y,j,b){var _=n?n+f:f;if(!this._events[_])return!1;var T=this._events[_],E=arguments.length,C,N;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,g),!0;case 4:return T.fn.call(T.context,m,g,y),!0;case 5:return T.fn.call(T.context,m,g,y,j),!0;case 6:return T.fn.call(T.context,m,g,y,j,b),!0}for(N=1,C=new Array(E-1);N<E;N++)C[N-1]=arguments[N];T.fn.apply(T.context,C)}else{var P=T.length,k;for(N=0;N<P;N++)switch(T[N].once&&this.removeListener(f,T[N].fn,void 0,!0),E){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,m);break;case 3:T[N].fn.call(T[N].context,m,g);break;case 4:T[N].fn.call(T[N].context,m,g,y);break;default:if(!C)for(k=1,C=new Array(E-1);k<E;k++)C[k-1]=arguments[k];T[N].fn.apply(T[N].context,C)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,y){var j=n?n+f:f;if(!this._events[j])return this;if(!m)return l(this,j),this;var b=this._events[j];if(b.fn)b.fn===m&&(!y||b.once)&&(!g||b.context===g)&&l(this,j);else{for(var _=0,T=[],E=b.length;_<E;_++)(b[_].fn!==m||y&&!b[_].once||g&&b[_].context!==g)&&T.push(b[_]);T.length?this._events[j]=T.length===1?T[0]:T:l(this,j)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(S2)),S2.exports}var lre=ore();const cre=_i(lre);var jf=new cre,nj="recharts.syncEvent.tooltip",C6="recharts.syncEvent.brush";function Ny(t,e){if(e){var n=Number.parseInt(e,10);if(!Gr(n))return t?.[n]}}var ure={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bD=Sa({name:"options",initialState:ure,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dre=bD.reducer,{createEventEmitter:hre}=bD.actions;function fre(t){return t.tooltip.syncInteraction}var mre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jD=Sa({name:"chartData",initialState:mre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:O6,setDataStartEndIndexes:pre,setComputedData:Xde}=jD.actions,gre=jD.reducer,wD=()=>{};function vre(){var t=Oe(xS),e=Oe(bS),n=Gt(),r=Oe(j8),a=Oe(Ds),s=uy(),l=Fw(),u=Oe(h=>h.rootProps.className);w.useEffect(()=>{if(t==null)return wD;var h=(f,m,g)=>{if(e!==g&&t===f){if(r==="index"){n(m);return}if(a!=null){var y;if(typeof r=="function"){var j={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},b=r(a,j);y=a[b]}else r==="value"&&(y=a.find(M=>String(M.value)===m.payload.label));var{coordinate:_}=m.payload;if(y==null||m.payload.active===!1||_==null||l==null){n(Jb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:E}=_,C=Math.min(T,l.x+l.width),N=Math.min(E,l.y+l.height),P={x:s==="horizontal"?y.coordinate:C,y:s==="horizontal"?N:y.coordinate},k=Jb({active:m.payload.active,coordinate:P,dataKey:m.payload.dataKey,index:String(y.index),label:m.payload.label});n(k)}}};return jf.on(nj,h),()=>{jf.off(nj,h)}},[u,n,e,t,r,a,s,l])}function yre(){var t=Oe(xS),e=Oe(bS),n=Gt();w.useEffect(()=>{if(t==null)return wD;var r=(a,s,l)=>{e!==l&&t===a&&n(pre(s))};return jf.on(C6,r),()=>{jf.off(C6,r)}},[n,e,t])}function xre(){var t=Gt();w.useEffect(()=>{t(hre())},[t]),vre(),yre()}function bre(t,e,n,r,a,s){var l=Oe(y=>Xne(y,t,e)),u=Oe(bS),h=Oe(xS),f=Oe(j8),m=Oe(fre),g=m?.active;w.useEffect(()=>{if(!g&&h!=null&&u!=null){var y=Jb({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});jf.emit(nj,h,y,u)}},[g,n,l,a,r,u,h,f,s])}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return(e=wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _re(t){return t.dataKey}function Tre(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(XX,e)}var R6=[],Ere={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ko.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function og(t){var e=Qr(t,Ere),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:m,position:g,reverseDirection:y,useTranslate3d:j,wrapperStyle:b,cursor:_,shared:T,trigger:E,defaultIndex:C,portal:N,axisId:P}=e,k=Gt(),M=typeof C=="number"?String(C):C;w.useEffect(()=>{k(nne({shared:T,trigger:E,axisId:P,active:n,defaultIndex:M}))},[k,T,E,P,n,M]);var O=Fw(),D=gk(),B=Qte(T),{activeIndex:F,isActive:V}=Oe(je=>Jne(je,B,E,M)),L=Oe(je=>Zne(je,B,E,M)),z=Oe(je=>yD(je,B,E,M)),ve=Oe(je=>Qne(je,B,E,M)),he=L,Q=sre(),oe=n??V,[ae,be]=dY([he,oe]),H=B==="axis"?z:void 0;bre(B,E,ve,H,F,oe);var G=N??Q;if(G==null)return null;var q=he??R6;oe||(q=R6),u&&q.length&&(q=LW(he.filter(je=>je.value!=null&&(je.hide!==!0||e.includeHidden)),m,_re));var Y=q.length>0,pe=w.createElement(rQ,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:h,active:oe,coordinate:ve,hasPayload:Y,offset:f,position:g,reverseDirection:y,useTranslate3d:j,viewBox:O,wrapperStyle:b,lastBoundingBox:ae,innerRef:be,hasPortalFromProps:!!N},Tre(l,I6(I6({},e),{},{payload:q,label:H,active:oe,coordinate:ve,accessibilityLayer:D})));return w.createElement(w.Fragment,null,LL.createPortal(pe,G),oe&&w.createElement(ire,{cursor:_,tooltipEventType:B,coordinate:ve,payload:he,index:F}))}var _2={},T2={},k6;function Are(){return k6||(k6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,a={}){typeof a!="object"&&(a={});let s=null,l=null,u=null,h=0,f=null,m;const{leading:g=!1,trailing:y=!0,maxWait:j}=a,b="maxWait"in a,_=b?Math.max(Number(j)||0,r):0,T=O=>(s!==null&&(m=n.apply(l,s)),s=l=null,h=O,m),E=O=>(h=O,f=setTimeout(k,r),g&&s!==null?T(O):m),C=O=>(f=null,y&&s!==null?T(O):m),N=O=>{if(u===null)return!0;const D=O-u,B=D>=r||D<0,F=b&&O-h>=_;return B||F},P=O=>{const D=u===null?0:O-u,B=r-D,F=_-(O-h);return b?Math.min(B,F):B},k=()=>{const O=Date.now();if(N(O))return C(O);f=setTimeout(k,P(O))},M=function(...O){const D=Date.now(),B=N(D);if(s=O,l=this,u=D,B){if(f===null)return E(D);if(b)return clearTimeout(f),f=setTimeout(k,r),T(D)}return f===null&&(f=setTimeout(k,r)),m};return M.cancel=()=>{f!==null&&clearTimeout(f),h=0,u=s=l=f=null},M.flush=()=>f===null?m:C(Date.now()),M}t.debounce=e}(T2)),T2}var D6;function Nre(){return D6||(D6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Are();function n(r,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:u})}t.throttle=n}(_2)),_2}var E2,M6;function Cre(){return M6||(M6=1,E2=Nre().throttle),E2}var Ore=Cre();const Pre=_i(Ore);var Yh=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:l=0,minHeight:u,maxHeight:h,children:f,debounce:m=0,id:g,className:y,onResize:j,style:b={}}=t,_=w.useRef(null),T=w.useRef();T.current=j,w.useImperativeHandle(e,()=>_.current);var[E,C]=w.useState({containerWidth:r.width,containerHeight:r.height}),N=w.useCallback((k,M)=>{C(O=>{var D=Math.round(k),B=Math.round(M);return O.containerWidth===D&&O.containerHeight===B?O:{containerWidth:D,containerHeight:B}})},[]);w.useEffect(()=>{var k=B=>{var F,{width:V,height:L}=B[0].contentRect;N(V,L),(F=T.current)===null||F===void 0||F.call(T,V,L)};m>0&&(k=Pre(k,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),{width:O,height:D}=_.current.getBoundingClientRect();return N(O,D),M.observe(_.current),()=>{M.disconnect()}},[N,m]);var P=w.useMemo(()=>{var{containerWidth:k,containerHeight:M}=E;if(k<0||M<0)return null;Yh(Ml(a)||Ml(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Yh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Ml(a)?k:a,D=Ml(s)?M:s;return n&&n>0&&(O?D=O/n:D&&(O=D*n),h&&D>h&&(D=h)),Yh(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,a,s,l,u,n),w.Children.map(f,B=>w.cloneElement(B,{width:O,height:D,style:A2({width:O,height:D},B.props.style)}))},[n,f,s,h,u,l,E,a]);return w.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",y),style:A2(A2({},b),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:h}),ref:_},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),bc=t=>null;bc.displayName="Cell";function B6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return(e=Mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=Lre(t,"string");return typeof e=="symbol"?e:e+""}function Lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hu={widthCache:{},cacheCount:0},Bre=2e3,Vre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V6="recharts_measurement_span";function Ure(t){var e=rj({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Xh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ko.isSsr)return{width:0,height:0};var r=Ure(n),a=JSON.stringify({text:e,copyStyle:r});if(hu.widthCache[a])return hu.widthCache[a];try{var s=document.getElementById(V6);s||(s=document.createElement("span"),s.setAttribute("id",V6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=rj(rj({},Vre),r);Object.assign(s.style,l),s.textContent="".concat(e);var u=s.getBoundingClientRect(),h={width:u.width,height:u.height};return hu.widthCache[a]=h,++hu.cacheCount>Bre&&(hu.cacheCount=0,hu.widthCache={}),h}catch{return{width:0,height:0}}},U6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$re=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qre=Object.keys(SD),xu="NaN";function Fre(t,e){return t*SD[e]}class br{static parse(e){var n,[,r,a]=(n=$re.exec(e))!==null&&n!==void 0?n:[];return new br(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Gr(e)&&(this.unit=""),n!==""&&!zre.test(n)&&(this.num=NaN,this.unit=""),qre.includes(n)&&(this.num=Fre(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new br(NaN,""):new br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new br(NaN,""):new br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gr(this.num)}}function _D(t){if(t.includes(xu))return xu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=U6.exec(e))!==null&&n!==void 0?n:[],l=br.parse(r??""),u=br.parse(s??""),h=a==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return xu;e=e.replace(U6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,g,y]=(f=z6.exec(e))!==null&&f!==void 0?f:[],j=br.parse(m??""),b=br.parse(y??""),_=g==="+"?j.add(b):j.subtract(b);if(_.isNaN())return xu;e=e.replace(z6,_.toString())}return e}var $6=/\(([^()]*)\)/;function Hre(t){for(var e=t,n;(n=$6.exec(e))!=null;){var[,r]=n;e=e.replace($6,_D(r))}return e}function Kre(t){var e=t.replace(/\s+/g,"");return e=Hre(e),e=_D(e),e}function Gre(t){try{return Kre(t)}catch{return xu}}function N2(t){var e=Gre(t.slice(5,-1));return e===xu?"":e}var Wre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yre=["dx","dy","angle","className","breakAll"];function aj(){return aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aj.apply(null,arguments)}function q6(t,e){if(t==null)return{};var n,r,a=Xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TD=/[ \f\n\r\t\v\u2028\u2029]+/,ED=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];ut(e)||(n?a=e.toString().split(""):a=e.toString().split(TD));var s=a.map(u=>({word:u,width:Xh(u,r).width})),l=n?0:Xh(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Qre=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:u,breakAll:h}=t,f=Ne(s),m=l,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((L,z)=>{var{word:ve,width:he}=z,Q=L[L.length-1];if(Q&&(r==null||a||Q.width+he+n<Number(r)))Q.words.push(ve),Q.width+=he+n;else{var oe={words:[ve],width:he};L.push(oe)}return L},[])},y=g(e),j=F=>F.reduce((V,L)=>V.width>L.width?V:L);if(!f||a)return y;var b=y.length>s||j(y).width>Number(r);if(!b)return y;for(var _="…",T=F=>{var V=m.slice(0,F),L=ED({breakAll:h,style:u,children:V+_}).wordsWithComputedWidth,z=g(L),ve=z.length>s||j(z).width>Number(r);return[ve,z]},E=0,C=m.length-1,N=0,P;E<=C&&N<=m.length-1;){var k=Math.floor((E+C)/2),M=k-1,[O,D]=T(M),[B]=T(k);if(!O&&!B&&(E=k+1),O&&B&&(C=k-1),!O&&B){P=D;break}N++}return P||y},F6=t=>{var e=ut(t)?[]:t.toString().split(TD);return[{words:e}]},Zre=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!Ko.isSsr){var u,h,f=ED({breakAll:s,children:r,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,h=g}else return F6(r);return Qre({breakAll:s,children:r,maxLines:l,style:a},u,h,e,n)}return F6(r)},H6="#808080",Cy=w.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:h="end",fill:f=H6}=t,m=q6(t,Wre),g=w.useMemo(()=>Zre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:y,dy:j,angle:b,className:_,breakAll:T}=m,E=q6(m,Yre);if(!ji(n)||!ji(r))return null;var C=n+(Ne(y)?y:0),N=r+(Ne(j)?j:0),P;switch(h){case"start":P=N2("calc(".concat(s,")"));break;case"middle":P=N2("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=N2("calc(".concat(g.length-1," * -").concat(a,")"));break}var k=[];if(l){var M=g[0].width,{width:O}=m;k.push("scale(".concat(Ne(O)?O/M:1,")"))}return b&&k.push("rotate(".concat(b,", ").concat(C,", ").concat(N,")")),k.length&&(E.transform=k.join(" ")),w.createElement("text",aj({},Je(E,!0),{ref:e,x:C,y:N,className:ht("recharts-text",_),textAnchor:u,fill:f.includes("url")?H6:f}),g.map((D,B)=>{var F=D.words.join(T?"":" ");return w.createElement("tspan",{x:C,dy:B===0?P:a,key:"".concat(F,"-").concat(B)},F)}))});Cy.displayName="Text";var Jre=["offset"],eae=["labelRef"];function K6(t,e){if(t==null)return{};var n,r,a=tae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return(e=rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(null,arguments)}var iae=t=>{var{value:e,formatter:n}=t,r=ut(t.children)?e:t.children;return typeof n=="function"?n(r):r},XS=t=>t!=null&&typeof t=="function",sae=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},oae=(t,e,n)=>{var{position:r,viewBox:a,offset:s,className:l}=t,{cx:u,cy:h,innerRadius:f,outerRadius:m,startAngle:g,endAngle:y,clockWise:j}=a,b=(f+m)/2,_=sae(g,y),T=_>=0?1:-1,E,C;r==="insideStart"?(E=g+T*s,C=j):r==="insideEnd"?(E=y-T*s,C=!j):r==="end"&&(E=y+T*s,C=j),C=_<=0?C:!C;var N=mn(u,h,b,E),P=mn(u,h,b,E+(C?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(P.x,",").concat(P.y),M=ut(t.id)?Vo("recharts-radial-line-"):t.id;return w.createElement("text",es({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:M,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(M)},e))},lae=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:a,cy:s,innerRadius:l,outerRadius:u,startAngle:h,endAngle:f}=e,m=(h+f)/2;if(r==="outside"){var{x:g,y}=mn(a,s,u+n,m);return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var j=(l+u)/2,{x:b,y:_}=mn(a,s,j,m);return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},cae=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,{x:s,y:l,width:u,height:h}=e,f=h>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end",j=u>=0?1:-1,b=j*r,_=j>0?"end":"start",T=j>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:l-f*r,textAnchor:"middle",verticalAnchor:g};return un(un({},E),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var C={x:s+u/2,y:l+h+m,textAnchor:"middle",verticalAnchor:y};return un(un({},C),n?{height:Math.max(n.y+n.height-(l+h),0),width:u}:{})}if(a==="left"){var N={x:s-b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"};return un(un({},N),n?{width:Math.max(N.x-n.x,0),height:h}:{})}if(a==="right"){var P={x:s+u+b,y:l+h/2,textAnchor:T,verticalAnchor:"middle"};return un(un({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:h}:{})}var k=n?{width:u,height:h}:{};return a==="insideLeft"?un({x:s+b,y:l+h/2,textAnchor:T,verticalAnchor:"middle"},k):a==="insideRight"?un({x:s+u-b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"},k):a==="insideTop"?un({x:s+u/2,y:l+m,textAnchor:"middle",verticalAnchor:y},k):a==="insideBottom"?un({x:s+u/2,y:l+h-m,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?un({x:s+b,y:l+m,textAnchor:T,verticalAnchor:y},k):a==="insideTopRight"?un({x:s+u-b,y:l+m,textAnchor:_,verticalAnchor:y},k):a==="insideBottomLeft"?un({x:s+b,y:l+h-m,textAnchor:T,verticalAnchor:g},k):a==="insideBottomRight"?un({x:s+u-b,y:l+h-m,textAnchor:_,verticalAnchor:g},k):a&&typeof a=="object"&&(Ne(a.x)||Ml(a.x))&&(Ne(a.y)||Ml(a.y))?un({x:s+gr(a.x,u),y:l+gr(a.y,h),textAnchor:"end",verticalAnchor:"end"},k):un({x:s+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},uae=t=>"cx"in t&&Ne(t.cx);function Vr(t){var{offset:e=5}=t,n=K6(t,Jre),r=un({offset:e},n),{viewBox:a,position:s,value:l,children:u,content:h,className:f="",textBreakAll:m,labelRef:g}=r,y=Fw(),j=a||y;if(!j||ut(l)&&ut(u)&&!w.isValidElement(h)&&typeof h!="function")return null;if(w.isValidElement(h)){var{labelRef:b}=r,_=K6(r,eae);return w.cloneElement(h,_)}var T;if(typeof h=="function"){if(T=w.createElement(h,r),w.isValidElement(T))return T}else T=iae(r);var E=uae(j),C=Je(r,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return oae(r,T,C);var N=E?lae(r):cae(r,j);return w.createElement(Cy,es({ref:g,className:ht("recharts-label",f)},C,N,{breakAll:m}),T)}Vr.displayName="Label";var AD=t=>{var{cx:e,cy:n,angle:r,startAngle:a,endAngle:s,r:l,radius:u,innerRadius:h,outerRadius:f,x:m,y:g,top:y,left:j,width:b,height:_,clockWise:T,labelViewBox:E}=t;if(E)return E;if(Ne(b)&&Ne(_)){if(Ne(m)&&Ne(g))return{x:m,y:g,width:b,height:_};if(Ne(y)&&Ne(j))return{x:y,y:j,width:b,height:_}}if(Ne(m)&&Ne(g))return{x:m,y:g,width:0,height:0};if(Ne(e)&&Ne(n))return{cx:e,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:h||0,outerRadius:f||u||l||0,clockWise:T};if(t.viewBox)return t.viewBox},dae=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Vr,es({key:"label-implicit"},r)):ji(t)?w.createElement(Vr,es({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Vr?w.cloneElement(t,un({key:"label-implicit"},r)):w.createElement(Vr,es({key:"label-implicit",content:t},r)):XS(t)?w.createElement(Vr,es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Vr,es({},t,{key:"label-implicit"},r)):null},hae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:s}=e,l=AD(e),u=ad(a,Vr).map((f,m)=>w.cloneElement(f,{viewBox:n||l,key:"label-".concat(m)}));if(!r)return u;var h=dae(e.label,n||l,s);return[h,...u]};Vr.parseViewBox=AD;Vr.renderCallByParent=hae;var C2={},O2={},W6;function fae(){return W6||(W6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(O2)),O2}var P2={},Y6;function mae(){return Y6||(Y6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(P2)),P2}var X6;function pae(){return X6||(X6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fae(),n=mae(),r=Cw();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a}(C2)),C2}var I2,Q6;function gae(){return Q6||(Q6=1,I2=pae().last),I2}var vae=gae();const yae=_i(vae);var xae=["valueAccessor"],bae=["data","dataKey","clockWise","id","textBreakAll"];function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(null,arguments)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function J6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eO(t,e){if(t==null)return{};var n,r,a=_ae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tae=t=>Array.isArray(t.value)?yae(t.value):t.value;function ps(t){var{valueAccessor:e=Tae}=t,n=eO(t,xae),{data:r,dataKey:a,clockWise:s,id:l,textBreakAll:u}=n,h=eO(n,bae);return!r||!r.length?null:w.createElement(Kt,{className:"recharts-label-list"},r.map((f,m)=>{var g=ut(a)?e(f,m):St(f&&f.payload,a),y=ut(l)?{}:{id:"".concat(l,"-").concat(m)};return w.createElement(Vr,dv({},Je(f,!0),h,y,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:Vr.parseViewBox(ut(s)?f:J6(J6({},f),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}ps.displayName="LabelList";function Eae(t,e){return t?t===!0?w.createElement(ps,{key:"labelList-implicit",data:e}):w.isValidElement(t)||XS(t)?w.createElement(ps,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?w.createElement(ps,dv({data:e},t,{key:"labelList-implicit"})):null:null}function Aae(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,a=ad(r,ps).map((l,u)=>w.cloneElement(l,{data:e,key:"labelList-".concat(u)}));if(!n)return a;var s=Eae(t.label,e);return[s,...a]}ps.renderCallByParent=Aae;function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ij.apply(null,arguments)}var ND=t=>{var{cx:e,cy:n,r,className:a}=t,s=ht("recharts-dot",a);return e===+e&&n===+n&&r===+r?w.createElement("circle",ij({},Je(t,!1),_w(t),{className:s,cx:e,cy:n,r})):null},CD=t=>t.graphicalItems.polarItems,Nae=ie([rn,Yf],TS),QS=ie([CD,an,Nae],ES),Cae=ie([QS],AS),ZS=ie([Cae,pS],NS),Oae=ie([ZS,an,QS],CS),Pae=ie([ZS,an,QS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=St(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:St(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),tO=()=>{},Iae=ie([an,B8,tO,Pae,tO],IS),OD=ie([an,gt,ZS,Oae,Wf,rn,Iae],RS),Rae=ie([OD,an,cd],MS);ie([an,OD,Rae,rn],BS);var kae={radiusAxis:{},angleAxis:{}},PD=Sa({name:"polarAxis",initialState:kae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Qde,removeRadiusAxis:Zde,addAngleAxis:Jde,removeAngleAxis:ehe}=PD.actions,Dae=PD.reducer;function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JS=(t,e)=>e,Vae=[],e_=(t,e,n)=>n?.length===0?Vae:n,ID=ie([pS,JS,e_],(t,e,n)=>{var{chartData:r}=t,a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>rO(rO({},e.presentationProps),s.props))),a!=null)return a}),Uae=ie([ID,JS,e_],(t,e,n)=>{if(t!=null)return t.map((r,a)=>{var s,l=St(r,e.nameKey,e.name),u;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Ho(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),zae=ie([CD,JS],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),$ae=ie([ID,zae,e_,_n],(t,e,n,r)=>{if(!(e==null||t==null))return Rie({offset:r,pieSettings:e,displayedData:t,cells:n})}),qae={countOfBars:0,cartesianItems:[],polarItems:[]},RD=Sa({name:"graphicalItems",initialState:qae,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=fs(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=fs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=fs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Fae,removeBar:Hae,addCartesianGraphicalItem:Kae,replaceCartesianGraphicalItem:Gae,removeCartesianGraphicalItem:Wae,addPolarGraphicalItem:Yae,removePolarGraphicalItem:Xae}=RD.actions,Qae=RD.reducer;function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tie(t){var e=Gt(),n=w.useRef(null);return w.useEffect(()=>{var r=iO(iO({},t),{},{stackId:ok(t.stackId)});n.current===null?e(Kae(r)):n.current!==r&&e(Gae({prev:n.current,next:r})),n.current=r},[e,t]),w.useEffect(()=>()=>{n.current&&(e(Wae(n.current)),n.current=null)},[e]),null}function nie(t){var e=Gt();return w.useEffect(()=>(e(Yae(t)),()=>{e(Xae(t))}),[e,t]),null}var R2={},sO;function rie(){return sO||(sO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(R2)),R2}var k2,oO;function aie(){return oO||(oO=1,k2=rie().isPlainObject),k2}var iie=aie();const sie=_i(iie);function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(null,arguments)}var lO=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},oie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lie=t=>{var e=Qr(t,oie),n=w.useRef(),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:s,y:l,upperWidth:u,lowerWidth:h,height:f,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:j,isUpdateAnimationActive:b}=e;if(s!==+s||l!==+l||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var _=ht("recharts-trapezoid",m);return b?w.createElement(_s,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:l},to:{upperWidth:u,lowerWidth:h,height:f,x:s,y:l},duration:y,animationEasing:g,isActive:b},T=>{var{upperWidth:E,lowerWidth:C,height:N,x:P,y:k}=T;return w.createElement(_s,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:g},w.createElement("path",hv({},Je(e,!0),{className:_,d:lO(P,k,E,C,N),ref:n})))}):w.createElement("g",null,w.createElement("path",hv({},Je(e,!0),{className:_,d:lO(s,l,u,h,f)})))},cie=["option","shapeType","propTransformer","activeClassName","isActive"];function uie(t,e){if(t==null)return{};var n,r,a=die(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function die(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pie(t,e){return fv(fv({},e),t)}function gie(t,e){return t==="symbols"}function uO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(bk,n);case"trapezoid":return w.createElement(lie,n);case"sector":return w.createElement(Sk,n);case"symbols":if(gie(e))return w.createElement(Nw,n);break;default:return null}}function vie(t){return w.isValidElement(t)?t.props:t}function mv(t){var{option:e,shapeType:n,propTransformer:r=pie,activeClassName:a="recharts-active-shape",isActive:s}=t,l=uie(t,cie),u;if(w.isValidElement(e))u=w.cloneElement(e,fv(fv({},l),vie(e)));else if(typeof e=="function")u=e(l);else if(sie(e)&&typeof e!="boolean"){var h=r(e,l);u=w.createElement(uO,{shapeType:n,elementProps:h})}else{var f=l;u=w.createElement(uO,{shapeType:n,elementProps:f})}return s?w.createElement(Kt,{className:a},u):u}var Oy=(t,e)=>{var n=Gt();return(r,a)=>s=>{t?.(r,a,s),n(eD({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Py=t=>{var e=Gt();return(n,r)=>a=>{t?.(n,r,a),e(rne())}},Iy=(t,e)=>{var n=Gt();return(r,a)=>s=>{t?.(r,a,s),n(ane({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Ry(t){var{fn:e,args:n}=t,r=Gt(),a=ur();return w.useEffect(()=>{if(!a){var s=e(n);return r(ene(s)),()=>{r(tne(s))}}},[e,n,r,a]),null}var kD=()=>{};function t_(t){var{legendPayload:e}=t,n=Gt(),r=ur();return w.useEffect(()=>r?kD:(n(mk(e)),()=>{n(pk(e))}),[n,r,e]),null}function yie(t){var{legendPayload:e}=t,n=Gt(),r=Oe(gt);return w.useEffect(()=>r!=="centric"&&r!=="radial"?kD:(n(mk(e)),()=>{n(pk(e))}),[n,r,e]),null}function ky(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Vo(e)),r=w.useRef(t);return r.current!==t&&(n.current=Vo(e),r.current=t),n.current}var xie=["onMouseEnter","onClick","onMouseLeave"];function bie(t,e){if(t==null)return{};var n,r,a=jie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dy(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Sie(t,"string");return typeof e=="symbol"?e:e+""}function Sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(null,arguments)}function _ie(t){var e=w.useMemo(()=>Je(t,!1),[t]),n=w.useMemo(()=>ad(t.children,bc),[t.children]),r=w.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),a=Oe(s=>Uae(s,r,n));return w.createElement(yie,{legendPayload:a})}function Tie(t){var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:u,hide:h,tooltipType:f}=t;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:Ho(u,e),hide:h,type:f,color:l,unit:""}}}var Eie=(t,e)=>t>e?"start":t<e?"end":"middle",Aie=(t,e,n)=>typeof e=="function"?e(t):gr(e,n,n*.8),Nie=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,u=ak(s,l),h=a+gr(t.cx,s,s/2),f=r+gr(t.cy,l,l/2),m=gr(t.innerRadius,u,0),g=Aie(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:h,cy:f,innerRadius:m,outerRadius:g,maxRadius:y}},Cie=(t,e)=>{var n=Dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Oie=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ht("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return w.createElement(dy,ic({},e,{type:"linear",className:n}))},Pie=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=ht("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return w.createElement(Cy,ic({},e,{alignmentBaseline:"middle",className:a}),r)};function Iie(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var u=Je(n,!1),h=Je(a,!1),f=Je(s,!1),m=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,g=e.map((y,j)=>{var b=(y.startAngle+y.endAngle)/2,_=mn(y.cx,y.cy,y.outerRadius+m,b),T=Qt(Qt(Qt(Qt({},u),y),{},{stroke:"none"},h),{},{index:j,textAnchor:Eie(_.x,y.cx)},_),E=Qt(Qt(Qt(Qt({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:j,points:[mn(y.cx,y.cy,y.outerRadius,b),_],key:"line"});return w.createElement(Kt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},s&&Oie(s,E),Pie(a,T,St(y,l)))});return w.createElement(Kt,{className:"recharts-pie-labels"},g)}function DD(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:s}=t,l=Oe(Ns),{onMouseEnter:u,onClick:h,onMouseLeave:f}=a,m=bie(a,xie),g=Oy(u,a.dataKey),y=Py(f),j=Iy(h,a.dataKey);return e==null?null:w.createElement(w.Fragment,null,e.map((b,_)=>{if(b?.startAngle===0&&b?.endAngle===0&&e.length!==1)return null;var T=n&&String(_)===l,E=l?r:null,C=T?n:E,N=Qt(Qt({},b),{},{stroke:b.stroke,tabIndex:-1,[$w]:_,[qw]:a.dataKey});return w.createElement(Kt,ic({tabIndex:-1,className:"recharts-pie-sector"},$f(m,b,_),{onMouseEnter:g(b,_),onMouseLeave:y(b,_),onClick:j(b,_),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(_)}),w.createElement(mv,ic({option:C,isActive:T,shapeType:"sector"},N)))}),w.createElement(Iie,{sectors:e,props:a,showLabels:s}))}function Rie(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:h,dataKey:f,nameKey:m,tooltipType:g}=n,y=Math.abs(n.minAngle),j=Cie(u,h),b=Math.abs(j),_=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=r.filter(M=>St(M,f,0)!==0).length,E=(b>=360?T:T-1)*_,C=b-T*y-E,N=r.reduce((M,O)=>{var D=St(O,f,0);return M+(Ne(D)?D:0)},0),P;if(N>0){var k;P=r.map((M,O)=>{var D=St(M,f,0),B=St(M,m,O),F=Nie(n,s,M),V=(Ne(D)?D:0)/N,L,z=Qt(Qt({},M),a&&a[O]&&a[O].props);O?L=k.endAngle+Dn(j)*_*(D!==0?1:0):L=u;var ve=L+Dn(j)*((D!==0?y:0)+V*C),he=(L+ve)/2,Q=(F.innerRadius+F.outerRadius)/2,oe=[{name:B,value:D,payload:z,dataKey:f,type:g}],ae=mn(F.cx,F.cy,Q,he);return k=Qt(Qt(Qt(Qt({},n.presentationProps),{},{percent:V,cornerRadius:l,name:B,tooltipPayload:oe,midAngle:he,middleRadius:Q,tooltipPosition:ae},z),F),{},{value:St(M,f),startAngle:L,endAngle:ve,payload:z,paddingAngle:Dn(j)*_}),k})}return P}function kie(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:h,inactiveShape:f,onAnimationStart:m,onAnimationEnd:g}=e,y=ky(e,"recharts-pie-"),j=n.current,[b,_]=w.useState(!0),T=w.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),E=w.useCallback(()=>{typeof m=="function"&&m(),_(!0)},[m]);return w.createElement(_s,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},onAnimationStart:E,onAnimationEnd:T,key:y},C=>{var{t:N}=C,P=[],k=r&&r[0],M=k.startAngle;return r.forEach((O,D)=>{var B=j&&j[D],F=D>0?Bo(O,"paddingAngle",0):0;if(B){var V=Kn(B.endAngle-B.startAngle,O.endAngle-O.startAngle),L=Qt(Qt({},O),{},{startAngle:M+F,endAngle:M+V(N)+F});P.push(L),M=L.endAngle}else{var{endAngle:z,startAngle:ve}=O,he=Kn(0,z-ve),Q=he(N),oe=Qt(Qt({},O),{},{startAngle:M+F,endAngle:M+Q+F});P.push(oe),M=oe.endAngle}}),n.current=P,w.createElement(Kt,null,w.createElement(DD,{sectors:P,activeShape:h,inactiveShape:f,allOtherPieProps:e,showLabels:!b}))})}function Die(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:a}=t,s=w.useRef(null),l=s.current;return n&&e&&e.length&&(!l||l!==e)?w.createElement(kie,{props:t,previousSectorsRef:s}):w.createElement(DD,{sectors:e,activeShape:r,inactiveShape:a,allOtherPieProps:t,showLabels:!0})}function Mie(t){var{hide:e,className:n,rootTabIndex:r}=t,a=ht("recharts-pie",n);return e?null:w.createElement(Kt,{tabIndex:r,className:a},w.createElement(Die,t))}var MD={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ko.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Lie(t){var e=Qr(t,MD),n=w.useMemo(()=>ad(t.children,bc),[t.children]),r=Je(e,!1),a=w.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=Oe(l=>$ae(l,a,n));return w.createElement(w.Fragment,null,w.createElement(Ry,{fn:Tie,args:Qt(Qt({},e),{},{sectors:s})}),w.createElement(Mie,ic({},e,{sectors:s})))}class n_ extends w.PureComponent{constructor(){super(...arguments),Dy(this,"id",Vo("recharts-pie-"))}render(){return w.createElement(w.Fragment,null,w.createElement(nie,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),w.createElement(_ie,this.props),w.createElement(Lie,this.props),this.props.children)}}Dy(n_,"displayName","Pie");Dy(n_,"defaultProps",MD);var Bie=ie([_n],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Vie=ie([Bie,Ps,Is],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Uie=t=>{var e=ur();return Oe(n=>wa(n,"xAxis",t,e))},zie=t=>{var e=ur();return Oe(n=>wa(n,"yAxis",t,e))},r_=()=>Oe(Vie),$ie=()=>Oe($ne);function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=Fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fie(t){var e=Hie(t,"string");return typeof e=="symbol"?e:e+""}function Hie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=t;if(a===!1||e.x==null||e.y==null)return null;var l=fO(fO({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Je(a,!1)),_w(a)),u;return w.isValidElement(a)?u=w.cloneElement(a,l):typeof a=="function"?u=a(l):u=w.createElement(ND,l),w.createElement(Kt,{className:"recharts-active-dot"},u)};function Gie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,s=Oe(Ns),l=$ie();if(e==null||l==null)return null;var u=e.find(h=>l.includes(h.payload));return ut(u)?null:Kie({point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}var Wie=()=>{var t=Gt();return w.useEffect(()=>(t(Fae()),()=>{t(Hae())})),null},Yie=["children"];function Xie(t,e){if(t==null)return{};var n,r,a=Qie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mO=()=>{},LD=w.createContext({addErrorBar:mO,removeErrorBar:mO}),Zie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BD=w.createContext(Zie);function a_(t){var{children:e}=t,n=Xie(t,Yie);return w.createElement(BD.Provider,{value:n},e)}var Jie=()=>w.useContext(BD),i_=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,data:l,stackId:u,hide:h,type:f,barSize:m}=t,[g,y]=w.useState([]),j=w.useCallback(T=>{y(E=>[...E,T])},[y]),b=w.useCallback(T=>{y(E=>E.filter(C=>C!==T))},[y]),_=ur();return w.createElement(LD.Provider,{value:{addErrorBar:j,removeErrorBar:b}},w.createElement(tie,{type:f,data:l,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,errorBars:g,stackId:u,hide:h,barSize:m,isPanorama:_}),e)};function ese(t){var{addErrorBar:e,removeErrorBar:n}=w.useContext(LD);return w.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var tse=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function VD(t,e,n){return(e=nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(null,arguments)}function ase(t,e){if(t==null)return{};var n,r,a=ise(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sse(t){var{direction:e,width:n,dataKey:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u}=t,h=ase(t,tse),f=Je(h,!1),{data:m,dataPointFormatter:g,xAxisId:y,yAxisId:j,errorBarOffset:b}=Jie(),_=Uie(y),T=zie(j);if(_?.scale==null||T?.scale==null||m==null||e==="x"&&_.type!=="number")return null;var E=m.map(C=>{var{x:N,y:P,value:k,errorVal:M}=g(C,r,e);if(!M)return null;var O=[],D,B;if(Array.isArray(M)?[D,B]=M:D=B=M,e==="x"){var{scale:F}=_,V=P+b,L=V+n,z=V-n,ve=F(k-D),he=F(k+B);O.push({x1:he,y1:L,x2:he,y2:z}),O.push({x1:ve,y1:V,x2:he,y2:V}),O.push({x1:ve,y1:L,x2:ve,y2:z})}else if(e==="y"){var{scale:Q}=T,oe=N+b,ae=oe-n,be=oe+n,H=Q(k-D),G=Q(k+B);O.push({x1:ae,y1:G,x2:be,y2:G}),O.push({x1:oe,y1:H,x2:oe,y2:G}),O.push({x1:ae,y1:H,x2:be,y2:H})}var q="".concat(N+b,"px ").concat(P+b,"px");return w.createElement(Kt,wf({className:"recharts-errorBar",key:"bar-".concat(O.map(Y=>"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)))},f),O.map(Y=>{var pe=a?{transformOrigin:"".concat(Y.x1-5,"px")}:void 0;return w.createElement(_s,{from:{transform:"scaleY(0)",transformOrigin:q},to:{transform:"scaleY(1)",transformOrigin:q},begin:s,easing:u,isActive:a,duration:l,key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2),style:{transformOrigin:q}},w.createElement("line",wf({},Y,{style:pe})))}))});return w.createElement(Kt,{className:"recharts-errorBars"},E)}var UD=w.createContext(void 0);function ose(t){var e=w.useContext(UD);return t??e??"x"}function zD(t){var{direction:e,children:n}=t;return w.createElement(UD.Provider,{value:e},n)}var $D={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function lse(t){var e=ose(t.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:l}=Qr(t,$D);return w.createElement(w.Fragment,null,w.createElement(ese,{dataKey:t.dataKey,direction:e}),w.createElement(sse,wf({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:l})))}class qD extends w.Component{render(){return w.createElement(lse,this.props)}}VD(qD,"defaultProps",$D);VD(qD,"displayName","ErrorBar");var cse="Invariant failed";function use(t,e){throw new Error(cse)}var dse=["x","y"];function sj(){return sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sj.apply(null,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hse(t,e,n){return(e=fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t,e){if(t==null)return{};var n,r,a=gse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vse(t,e){var{x:n,y:r}=t,a=pse(t,dse),s="".concat(n),l=parseInt(s,10),u="".concat(r),h=parseInt(u,10),f="".concat(e.height||a.height),m=parseInt(f,10),g="".concat(e.width||a.width),y=parseInt(g,10);return Ph(Ph(Ph(Ph(Ph({},e),a),l?{x:l}:{}),h?{y:h}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function FD(t){return w.createElement(mv,sj({shapeType:"rectangle",propTransformer:vse,activeClassName:"recharts-active-bar"},t))}var yse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ne(e))return e;var s=Ne(r)||ut(r);return s?e(r,a):(s||use(),n)}};function My(t,e){var n,r,a=Oe(f=>ks(f,t)),s=Oe(f=>Yo(f,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Mr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Lr.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function s_(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=r_(),{needClipX:s,needClipY:l,needClip:u}=My(e,n);if(!u)return null;var{x:h,y:f,width:m,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?h:h-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}var xse=["onMouseEnter","onMouseLeave","onClick"],bse=["value","background","tooltipPosition"],jse=["onMouseEnter","onClick","onMouseLeave"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(null,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e,n){return(e=wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oj(t,e){if(t==null)return{};var n,r,a=_se(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tse=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Ho(n,e),payload:t}]};function Ese(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Ho(s,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function Ase(t){var e=Oe(Ns),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:h}=s,f=oj(s,xse),m=Oy(l,r),g=Py(u),y=Iy(h,r);if(!a||n==null)return null;var j=Je(a,!1);return w.createElement(w.Fragment,null,n.map((b,_)=>{var{value:T,background:E,tooltipPosition:C}=b,N=oj(b,bse);if(!E)return null;var P=m(b,_),k=g(b,_),M=y(b,_),O=ar(ar(ar(ar(ar({option:a,isActive:String(_)===e},N),{},{fill:"#eee"},E),j),$f(f,b,_)),{},{onMouseEnter:P,onMouseLeave:k,onClick:M,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return w.createElement(FD,Sf({key:"background-bar-".concat(_)},O))}))}function HD(t){var{data:e,props:n,showLabels:r}=t,a=Je(n,!1),{shape:s,dataKey:l,activeBar:u}=n,h=Oe(Ns),f=Oe(fD),{onMouseEnter:m,onClick:g,onMouseLeave:y}=n,j=oj(n,jse),b=Oy(m,l),_=Py(y),T=Iy(g,l);return e?w.createElement(w.Fragment,null,e.map((E,C)=>{var N=u&&String(C)===h&&(f==null||l===f),P=N?u:s,k=ar(ar(ar({},a),E),{},{isActive:N,option:P,index:C,dataKey:l});return w.createElement(Kt,Sf({className:"recharts-bar-rectangle"},$f(j,E,C),{onMouseEnter:b(E,C),onMouseLeave:_(E,C),onClick:T(E,C),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(C)}),w.createElement(FD,k))}),r&&ps.renderCallByParent(n,e)):null}function Nse(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:h,onAnimationEnd:f,onAnimationStart:m}=e,g=n.current,y=ky(e,"recharts-bar-"),[j,b]=w.useState(!1),_=w.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),T=w.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return w.createElement(_s,{begin:l,duration:u,isActive:s,easing:h,from:{t:0},to:{t:1},onAnimationEnd:_,onAnimationStart:T,key:y},E=>{var{t:C}=E,N=C===1?r:r.map((P,k)=>{var M=g&&g[k];if(M){var O=Kn(M.x,P.x),D=Kn(M.y,P.y),B=Kn(M.width,P.width),F=Kn(M.height,P.height);return ar(ar({},P),{},{x:O(C),y:D(C),width:B(C),height:F(C)})}if(a==="horizontal"){var V=Kn(0,P.height),L=V(C);return ar(ar({},P),{},{y:P.y+P.height-L,height:L})}var z=Kn(0,P.width),ve=z(C);return ar(ar({},P),{},{width:ve})});return C>0&&(n.current=N),w.createElement(Kt,null,w.createElement(HD,{props:e,data:N,showLabels:!j}))})}function Cse(t){var{data:e,isAnimationActive:n}=t,r=w.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?w.createElement(Nse,{previousRectanglesRef:r,props:t}):w.createElement(HD,{props:t,data:e,showLabels:!0})}var KD=0,Ose=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:St(t,e)}};class Pse extends w.PureComponent{constructor(){super(...arguments),Ly(this,"id",Vo("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:u,background:h,id:f,layout:m}=this.props;if(e)return null;var g=ht("recharts-bar",a),y=ut(f)?this.id:f;return w.createElement(Kt,{className:g},u&&w.createElement("defs",null,w.createElement(s_,{clipPathId:y,xAxisId:s,yAxisId:l})),w.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):null},w.createElement(Ase,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),w.createElement(Cse,this.props)),w.createElement(zD,{direction:m==="horizontal"?"y":"x"},this.props.children))}}var GD={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ko.isSsr,legendType:"rect",minPointSize:KD,xAxisId:0,yAxisId:0};function Ise(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:h,animationEasing:f,isAnimationActive:m}=Qr(t,GD),{needClip:g}=My(e,n),y=uy(),j=ur(),b=w.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:s,stackId:ok(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,s,t.stackId]),_=ad(t.children,bc),T=Oe(N=>soe(N,e,n,j,b,_));if(y!=="vertical"&&y!=="horizontal")return null;var E,C=T?.[0];return C==null||C.height==null||C.width==null?E=0:E=y==="vertical"?C.height/2:C.width/2,w.createElement(a_,{xAxisId:e,yAxisId:n,data:T,dataPointFormatter:Ose,errorBarOffset:E},w.createElement(Pse,Sf({},t,{layout:y,needClip:g,data:T,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:h,animationEasing:f,isAnimationActive:m})))}function Rse(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:h,yAxisTicks:f,stackedData:m,displayedData:g,offset:y,cells:j}=t,b=e==="horizontal"?u:l,_=m?b.scale.domain():null,T=CX({numericAxis:b});return g.map((E,C)=>{var N,P,k,M,O,D;m?N=_X(m[C],_):(N=St(E,n),Array.isArray(N)||(N=[T,N]));var B=yse(r,KD)(N[1],C);if(e==="horizontal"){var F,[V,L]=[u.scale(N[0]),u.scale(N[1])];P=rC({axis:l,ticks:h,bandSize:s,offset:a.offset,entry:E,index:C}),k=(F=L??V)!==null&&F!==void 0?F:void 0,M=a.size;var z=V-L;if(O=Gr(z)?0:z,D={x:P,y:y.top,width:M,height:y.height},Math.abs(B)>0&&Math.abs(O)<Math.abs(B)){var ve=Dn(O||B)*(Math.abs(B)-Math.abs(O));k-=ve,O+=ve}}else{var[he,Q]=[l.scale(N[0]),l.scale(N[1])];if(P=he,k=rC({axis:u,ticks:f,bandSize:s,offset:a.offset,entry:E,index:C}),M=Q-he,O=a.size,D={x:y.left,y:k,width:y.width,height:O},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var oe=Dn(M||B)*(Math.abs(B)-Math.abs(M));M+=oe}}var ae=ar(ar({},E),{},{x:P,y:k,width:M,height:O,value:m?N:N[1],payload:E,background:D,tooltipPosition:{x:P+M/2,y:k+O/2}},j&&j[C]&&j[C].props);return ae})}class pv extends w.PureComponent{render(){return w.createElement(i_,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(Wie,null),w.createElement(t_,{legendPayload:Tse(this.props)}),w.createElement(Ry,{fn:Ese,args:this.props}),w.createElement(Ise,this.props))}}Ly(pv,"displayName","Bar");Ly(pv,"defaultProps",GD);function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lse=(t,e)=>e,Bse=(t,e,n)=>n,Vse=(t,e,n,r)=>r,o_=(t,e,n,r,a)=>a,Use=(t,e,n,r,a)=>a.maxBarSize,zse=(t,e,n,r,a,s)=>s,yO=(t,e,n)=>{var r=n??t;if(!ut(r))return gr(r,e,0)},$se=ie([gt,Qf,Lse,Bse,Vse],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),qse=(t,e,n,r)=>{var a=gt(t);return a==="horizontal"?Zb(t,"yAxis",n,r):Zb(t,"xAxis",e,r)},Fse=(t,e,n)=>{var r=gt(t);return r==="horizontal"?b6(t,"xAxis",e):b6(t,"yAxis",n)};function Hse(t){return t.stackId!=null&&t.dataKey!=null}var Kse=(t,e,n)=>{var r={},a=t.filter(Hse),s=t.filter(f=>f.stackId==null),l=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),u=Object.entries(l).map(f=>{var[m,g]=f,y=g.map(b=>b.dataKey),j=yO(e,n,g[0].barSize);return{stackId:m,dataKeys:y,barSize:j}}),h=s.map(f=>{var m=[f.dataKey].filter(y=>y!=null),g=yO(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...h]},Gse=ie([$se,Jee,Fse],Kse),Wse=(t,e,n,r,a)=>{var s,l,u=gt(t),h=x8(t),{maxBarSize:f}=a,m=ut(f)?h:f,g,y;return u==="horizontal"?(g=wa(t,"xAxis",e,r),y=Si(t,"xAxis",e,r)):(g=wa(t,"yAxis",n,r),y=Si(t,"yAxis",n,r)),(s=(l=mf(g,y,!0))!==null&&l!==void 0?l:m)!==null&&s!==void 0?s:0},WD=(t,e,n,r)=>{var a=gt(t),s,l;return a==="horizontal"?(s=wa(t,"xAxis",e,r),l=Si(t,"xAxis",e,r)):(s=wa(t,"yAxis",n,r),l=Si(t,"yAxis",n,r)),mf(s,l)};function Yse(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=gr(t,n,0,!0),u,h=[];if(Xr(r[0].barSize)){var f=!1,m=n/s,g=r.reduce((E,C)=>E+(C.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&m>0&&(f=!0,m*=.9,g=s*m);var y=(n-g)/2>>0,j={offset:y-l,size:0};u=r.reduce((E,C)=>{var N,P={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j.offset+j.size+l,size:f?m:(N=C.barSize)!==null&&N!==void 0?N:0}},k=[...E,P];return j=k[k.length-1].position,k},h)}else{var b=gr(e,n,0,!0);n-2*b-(s-1)*l<=0&&(l=0);var _=(n-2*b-(s-1)*l)/s;_>1&&(_>>=0);var T=Xr(a)?Math.min(_,a):_;u=r.reduce((E,C,N)=>[...E,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(_+l)*N+(_-T)/2,size:T}}],h)}return u}}var Xse=(t,e,n,r,a,s,l)=>{var u=ut(l)?e:l,h=Yse(n,r,a!==s?a:s,t,u);return a!==s&&h!=null&&(h=h.map(f=>Gp(Gp({},f),{},{position:Gp(Gp({},f.position),{},{offset:f.position.offset-a/2})}))),h},Qse=ie([Gse,x8,Zee,b8,Wse,WD,Use],Xse),Zse=(t,e,n,r)=>wa(t,"xAxis",e,r),Jse=(t,e,n,r)=>wa(t,"yAxis",n,r),eoe=(t,e,n,r)=>Si(t,"xAxis",e,r),toe=(t,e,n,r)=>Si(t,"yAxis",n,r),noe=ie([Qse,o_],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),roe=(t,e)=>{if(!(!t||e?.dataKey==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:a}=r;if(a){var s=a.find(l=>l.key===e.dataKey);return s}}}}},aoe=ie([Qf,o_],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),ioe=ie([qse,o_],roe),soe=ie([_n,Zse,Jse,eoe,toe,noe,gt,yy,WD,ioe,aoe,zse],(t,e,n,r,a,s,l,u,h,f,m,g)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:b}=u;if(!(m==null||s==null||l!=="horizontal"&&l!=="vertical"||e==null||n==null||r==null||a==null||h==null)){var{data:_}=m,T;if(_!=null&&_.length>0?T=_:T=y?.slice(j,b+1),T!=null)return Rse({layout:l,barSettings:m,pos:s,bandSize:h,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:f,displayedData:T,offset:t,cells:g})}}),YD=t=>{var{chartData:e}=t,n=Gt(),r=ur();return w.useEffect(()=>r?()=>{}:(n(O6(e)),()=>{n(O6(void 0))}),[e,n,r]),null},xO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XD=Sa({name:"brush",initialState:xO,reducers:{setBrushSettings(t,e){return e.payload==null?xO:e.payload}}}),{setBrushSettings:the}=XD.actions,ooe=XD.reducer;function loe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class l_{static create(e){return new l_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}loe(l_,"EPS",1e-4);function doe(t){return(t%180+180)%180}var hoe=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=doe(a),l=s*Math.PI/180,u=Math.atan(r/n),h=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},foe={dots:[],areas:[],lines:[]},QD=Sa({name:"referenceElements",initialState:foe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:nhe,removeDot:rhe,addArea:ahe,removeArea:ihe,addLine:she,removeLine:ohe}=QD.actions,moe=QD.reducer,poe=w.createContext(void 0),goe=t=>{var{children:e}=t,[n]=w.useState("".concat(Vo("recharts"),"-clip")),r=r_();if(r==null)return null;var{x:a,y:s,width:l,height:u}=r;return w.createElement(poe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:s,height:u,width:l}))),e)};function D2(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ZD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function voe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return hoe(r,n)}function yoe(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:u}=t;return e===1?{start:r?a:s,end:r?a+l:s+u}:{start:r?a+l:s+u,end:r?a:s}}function gv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function xoe(t,e){return ZD(t,e+1)}function boe(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:u}=e,h=0,f=1,m=l,g=function(){var b=r?.[h];if(b===void 0)return{v:ZD(r,f)};var _=h,T,E=()=>(T===void 0&&(T=n(b,_)),T),C=b.coordinate,N=h===0||gv(t,C,E,m,u);N||(h=0,m=l,f+=1),N&&(m=C+t*(E()/2+a),h+=f)},y;f<=s.length;)if(y=g(),y)return y.v;return[]}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=Soe(t,"string");return typeof e=="symbol"?e:e+""}function Soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _oe(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:h}=e,f=function(y){var j=s[y],b,_=()=>(b===void 0&&(b=n(j,y)),b);if(y===l-1){var T=t*(j.coordinate+t*_()/2-h);s[y]=j=tr(tr({},j),{},{tickCoord:T>0?j.coordinate-T*t:j.coordinate})}else s[y]=j=tr(tr({},j),{},{tickCoord:j.coordinate});var E=gv(t,j.tickCoord,_,u,h);E&&(h=j.tickCoord-t*(_()/2+a),s[y]=tr(tr({},j),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return s}function Toe(t,e,n,r,a,s){var l=(r||[]).slice(),u=l.length,{start:h,end:f}=e;if(s){var m=r[u-1],g=n(m,u-1),y=t*(m.coordinate+t*g/2-f);l[u-1]=m=tr(tr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var j=gv(t,m.tickCoord,()=>g,h,f);j&&(f=m.tickCoord-t*(g/2+a),l[u-1]=tr(tr({},m),{},{isShow:!0}))}for(var b=s?u-1:u,_=function(C){var N=l[C],P,k=()=>(P===void 0&&(P=n(N,C)),P);if(C===0){var M=t*(N.coordinate-t*k()/2-h);l[C]=N=tr(tr({},N),{},{tickCoord:M<0?N.coordinate-M*t:N.coordinate})}else l[C]=N=tr(tr({},N),{},{tickCoord:N.coordinate});var O=gv(t,N.tickCoord,k,h,f);O&&(h=N.tickCoord+t*(k()/2+a),l[C]=tr(tr({},N),{},{isShow:!0}))},T=0;T<b;T++)_(T);return l}function c_(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:h,tickFormatter:f,unit:m,angle:g}=t;if(!a||!a.length||!r)return[];if(Ne(h)||Ko.isSsr){var y;return(y=xoe(a,Ne(h)?h:0))!==null&&y!==void 0?y:[]}var j=[],b=u==="top"||u==="bottom"?"width":"height",_=m&&b==="width"?Xh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(N,P)=>{var k=typeof f=="function"?f(N.value,P):N.value;return b==="width"?voe(Xh(k,{fontSize:e,letterSpacing:n}),_,g):Xh(k,{fontSize:e,letterSpacing:n})[b]},E=a.length>=2?Dn(a[1].coordinate-a[0].coordinate):1,C=yoe(s,E,b);return h==="equidistantPreserveStart"?boe(E,C,T,a,l):(h==="preserveStart"||h==="preserveStartEnd"?j=Toe(E,C,T,a,l,h==="preserveStartEnd"):j=_oe(E,C,T,a,l),j.filter(N=>N.isShow))}var Eoe=["viewBox"],Aoe=["viewBox"];function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){u_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wO(t,e){if(t==null)return{};var n,r,a=Noe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Noe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u_(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Ooe(t,"string");return typeof e=="symbol"?e:e+""}function Ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xo extends w.Component{constructor(e){super(e),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,a=wO(e,Eoe),s=this.props,{viewBox:l}=s,u=wO(s,Aoe);return!D2(r,l)||!D2(a,u)||!D2(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:a,height:s,orientation:l,tickSize:u,mirror:h,tickMargin:f}=this.props,m,g,y,j,b,_,T=h?-1:1,E=e.tickSize||u,C=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=g=e.coordinate,j=r+ +!h*s,y=j-T*E,_=y-T*f,b=C;break;case"left":y=j=e.coordinate,g=n+ +!h*a,m=g-T*E,b=m-T*f,_=C;break;case"right":y=j=e.coordinate,g=n+ +h*a,m=g+T*E,b=m+T*f,_=C;break;default:m=g=e.coordinate,j=r+ +h*s,y=j+T*E,_=y+T*f,b=C;break}return{line:{x1:m,y1:y,x2:g,y2:j},tick:{x:b,y:_}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:u}=this.props,h=wn(wn(wn({},Je(this.props,!1)),Je(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!l||s==="bottom"&&l);h=wn(wn({},h),{},{x1:e,y1:n+f*a,x2:e+r,y2:n+f*a})}else{var m=+(s==="left"&&!l||s==="right"&&l);h=wn(wn({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+a})}return w.createElement("line",bu({},h,{className:ht("recharts-cartesian-axis-line",Bo(u,"className"))}))}static renderTickItem(e,n,r){var a,s=ht(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,wn(wn({},n),{},{className:s}));else if(typeof e=="function")a=e(wn(wn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ht(l,e.className)),a=w.createElement(Cy,bu({},n,{className:l}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:l,tickFormatter:u,unit:h}=this.props,f=c_(wn(wn({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Je(this.props,!1),j=Je(l,!1),b=wn(wn({},y),{},{fill:"none"},Je(a,!1)),_=f.map((T,E)=>{var{line:C,tick:N}=this.getTickLineCoord(T),P=wn(wn(wn(wn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:s},j),N),{},{index:E,payload:T,visibleTicksCount:f.length,tickFormatter:u});return w.createElement(Kt,bu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},$f(this.props,T,E)),a&&w.createElement("line",bu({},b,C,{className:ht("recharts-cartesian-axis-tick-line",Bo(a,"className"))})),l&&Xo.renderTickItem(l,P,"".concat(typeof u=="function"?u(T.value,E):T.value).concat(h||"")))});return _.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:s}=this.props;if(s)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:w.createElement(Kt,{className:ht("recharts-cartesian-axis",a),ref:u=>{if(u){var h=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var f=h[0];if(f){var m=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(m!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Vr.renderCallByParent(this.props))}}u_(Xo,"displayName","CartesianAxis");u_(Xo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Poe=["x1","y1","x2","y2","key"],Ioe=["offset"],Roe=["xAxisId","yAxisId"],koe=["xAxisId","yAxisId"];function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(null,arguments)}function vv(t,e){if(t==null)return{};var n,r,a=Boe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Boe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Voe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:a,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JD(t,e){var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:s,y2:l,key:u}=e,h=vv(e,Poe),f=Je(h,!1),{offset:m}=f,g=vv(f,Ioe);n=w.createElement("line",Ul({},g,{x1:r,y1:a,x2:s,y2:l,fill:"none",key:u}))}return n}function Uoe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=vv(t,Roe),h=a.map((f,m)=>{var g=ir(ir({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return JD(r,g)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function zoe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=vv(t,koe),h=a.map((f,m)=>{var g=ir(ir({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return JD(r,g)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function $oe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:u,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var j=!f[y+1],b=j?a+l-g:f[y+1]-g;if(b<=0)return null;var _=y%e.length;return w.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:b,width:s,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function qoe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:u,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var j=!f[y+1],b=j?a+l-g:f[y+1]-g;if(b<=0)return null;var _=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:b,height:u,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Foe=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return ik(c_(ir(ir(ir({},Xo.defaultProps),n),{},{ticks:sk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},Hoe=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return ik(c_(ir(ir(ir({},Xo.defaultProps),n),{},{ticks:sk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},Koe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yv(t){var e=dk(),n=hk(),r=uk(),a=ir(ir({},Qr(t,Koe)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:h,width:f,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:j}=a,b=ur(),_=Oe(B=>j6(B,"xAxis",s,b)),T=Oe(B=>j6(B,"yAxis",l,b));if(!Ne(f)||f<=0||!Ne(m)||m<=0||!Ne(u)||u!==+u||!Ne(h)||h!==+h)return null;var E=a.verticalCoordinatesGenerator||Foe,C=a.horizontalCoordinatesGenerator||Hoe,{horizontalPoints:N,verticalPoints:P}=a;if((!N||!N.length)&&typeof C=="function"){var k=y&&y.length,M=C({yAxis:T?ir(ir({},T),{},{ticks:k?y:T.ticks}):void 0,width:e,height:n,offset:r},k?!0:g);Yh(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}if((!P||!P.length)&&typeof E=="function"){var O=j&&j.length,D=E({xAxis:_?ir(ir({},_),{},{ticks:O?j:_.ticks}):void 0,width:e,height:n,offset:r},O?!0:g);Yh(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(P=D)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Voe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement($oe,Ul({},a,{horizontalPoints:N})),w.createElement(qoe,Ul({},a,{verticalPoints:P})),w.createElement(Uoe,Ul({},a,{offset:r,horizontalPoints:N,xAxis:_,yAxis:T})),w.createElement(zoe,Ul({},a,{offset:r,verticalPoints:P,xAxis:_,yAxis:T})))}yv.displayName="CartesianGrid";var e9=(t,e,n,r)=>wa(t,"xAxis",e,r),t9=(t,e,n,r)=>Si(t,"xAxis",e,r),n9=(t,e,n,r)=>wa(t,"yAxis",n,r),r9=(t,e,n,r)=>Si(t,"yAxis",n,r),Goe=ie([gt,e9,n9,t9,r9],(t,e,n,r,a)=>Fo(t,"xAxis")?mf(e,r,!1):mf(n,a,!1)),Woe=(t,e,n,r,a)=>a,Yoe=ie([Qf,Woe],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Xoe=ie([gt,e9,n9,t9,r9,Yoe,Goe,yy],(t,e,n,r,a,s,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=u;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null)){var{dataKey:g,data:y}=s,j;if(y!=null&&y.length>0?j=y:j=h?.slice(f,m+1),j!=null)return ple({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:j})}}),Qoe=["type","layout","connectNulls","needClip"],Zoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function a9(t,e){if(t==null)return{};var n,r,a=Joe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e,n){return(e=ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ele(t){var e=tle(t,"string");return typeof e=="symbol"?e:e+""}function tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(null,arguments)}var nle=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Ho(n,e),payload:t}]};function rle(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:u,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Ho(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:h}}}var i9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function ale(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var ile=(t,e,n)=>{var r=n.reduce((g,y)=>g+y);if(!r)return i9(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,u=[],h=0,f=0;h<n.length;f+=n[h],++h)if(f+n[h]>s){u=[...n.slice(0,h),s-f];break}var m=u.length%2===0?[0,l]:[l];return[...ale(n,a),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function sle(t,e){var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ht("recharts-line-dot",typeof t!="boolean"?t.className:"");n=w.createElement(ND,qu({},e,{className:r}))}return n}function ole(t,e){return t==null?!1:e?!0:t.length===1}function lle(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r;if(!ole(n,a))return null;var u=i5(a),h=Je(r,!1),f=Je(a,!0),m=n.map((y,j)=>{var b=Ia(Ia(Ia({key:"dot-".concat(j),r:3},h),f),{},{index:j,cx:y.x,cy:y.y,dataKey:s,value:y.value,payload:y.payload,points:n});return sle(a,b)}),g={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):null};return w.createElement(Kt,qu({className:"recharts-line-dots",key:"dots"},g),m)}function lj(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s,showLabels:l}=t,{type:u,layout:h,connectNulls:f,needClip:m}=s,g=a9(s,Qoe),y=Ia(Ia({},Je(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):null,points:r,type:u,layout:h,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(dy,qu({},y,{pathRef:n})),w.createElement(lle,{points:r,clipPathId:e,props:s}),l&&ps.renderCallByParent(s,r))}function cle(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ule(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:h,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:y,width:j,height:b,onAnimationEnd:_,onAnimationStart:T}=n,E=a.current,C=ky(n,"recharts-line-"),[N,P]=w.useState(!1),k=w.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),M=w.useCallback(()=>{typeof T=="function"&&T(),P(!0)},[T]),O=cle(r.current),D=s.current;return w.createElement(_s,{begin:f,duration:m,isActive:h,easing:g,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:M,key:C},B=>{var{t:F}=B,V=Kn(D,O+D),L=Math.min(V(F),O),z;if(u){var ve="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));z=ile(L,O,ve)}else z=i9(O,L);if(E){var he=E.length/l.length,Q=F===1?l:l.map((oe,ae)=>{var be=Math.floor(ae*he);if(E[be]){var H=E[be],G=Kn(H.x,oe.x),q=Kn(H.y,oe.y);return Ia(Ia({},oe),{},{x:G(F),y:q(F)})}if(y){var Y=Kn(j*2,oe.x),pe=Kn(b/2,oe.y);return Ia(Ia({},oe),{},{x:Y(F),y:pe(F)})}return Ia(Ia({},oe),{},{x:oe.x,y:oe.y})});return a.current=Q,w.createElement(lj,{props:n,points:Q,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:z})}return F>0&&O>0&&(a.current=l,s.current=L),w.createElement(lj,{props:n,points:l,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:z})})}function dle(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:a}=n,s=w.useRef(null),l=w.useRef(0),u=w.useRef(null),h=s.current;return a&&r&&r.length&&h!==r?w.createElement(ule,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:l,pathRef:u}):w.createElement(lj,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var hle=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:St(t.payload,e)});class fle extends w.Component{constructor(){super(...arguments),By(this,"id",Vo("recharts-line-"))}render(){var e,{hide:n,dot:r,points:a,className:s,xAxisId:l,yAxisId:u,top:h,left:f,width:m,height:g,id:y,needClip:j,layout:b}=this.props;if(n)return null;var _=ht("recharts-line",s),T=ut(y)?this.id:y,{r:E=3,strokeWidth:C=2}=(e=Je(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},N=i5(r),P=E*2+C;return w.createElement(w.Fragment,null,w.createElement(Kt,{className:_},j&&w.createElement("defs",null,w.createElement(s_,{clipPathId:T,xAxisId:l,yAxisId:u}),!N&&w.createElement("clipPath",{id:"clipPath-dots-".concat(T)},w.createElement("rect",{x:f-P/2,y:h-P/2,width:m+P,height:g+P}))),w.createElement(dle,{props:this.props,clipPathId:T}),w.createElement(zD,{direction:b==="horizontal"?"y":"x"},w.createElement(a_,{xAxisId:l,yAxisId:u,data:a,dataPointFormatter:hle,errorBarOffset:0},this.props.children))),w.createElement(Gie,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var s9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ko.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function mle(t){var e=Qr(t,s9),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:h,hide:f,isAnimationActive:m,label:g,legendType:y,xAxisId:j,yAxisId:b}=e,_=a9(e,Zoe),{needClip:T}=My(j,b),{height:E,width:C,x:N,y:P}=r_(),k=uy(),M=ur(),O=w.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),D=Oe(B=>Xoe(B,j,b,M,O));return k!=="horizontal"&&k!=="vertical"?null:w.createElement(fle,qu({},_,{connectNulls:u,dot:h,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:f,label:g,legendType:y,xAxisId:j,yAxisId:b,points:D,layout:k,height:E,width:C,left:N,top:P,needClip:T}))}function ple(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:h}=t;return h.map((f,m)=>{var g=St(f,l);return e==="horizontal"?{x:Yg({axis:n,ticks:a,bandSize:u,entry:f,index:m}),y:ut(g)?null:r.scale(g),value:g,payload:f}:{x:ut(g)?null:n.scale(g),y:Yg({axis:r,ticks:s,bandSize:u,entry:f,index:m}),value:g,payload:f}})}class xv extends w.PureComponent{render(){return w.createElement(i_,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},w.createElement(t_,{legendPayload:nle(this.props)}),w.createElement(Ry,{fn:rle,args:this.props}),w.createElement(mle,this.props))}}By(xv,"displayName","Line");By(xv,"defaultProps",s9);function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return(e=vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vle(t){var e=yle(t,"string");return typeof e=="symbol"?e:e+""}function yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xle={xAxis:{},yAxis:{},zAxis:{}},o9=Sa({name:"cartesianAxis",initialState:xle,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=EO(EO({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ble,removeXAxis:jle,addYAxis:wle,removeYAxis:Sle,addZAxis:_le,removeZAxis:Tle,updateYAxisWidth:Ele}=o9.actions,Ale=o9.reducer;function l9(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ole(t){var e=Gt();return w.useEffect(()=>(e(_le(t)),()=>{e(Tle(t))}),[t,e]),null}class d_ extends w.Component{render(){return w.createElement(Ole,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:So.allowDuplicatedCategory,allowDataOverflow:So.allowDataOverflow,reversed:So.reversed,includeHidden:So.includeHidden})}}l9(d_,"displayName","ZAxis");l9(d_,"defaultProps",{zAxisId:0,range:So.range,scale:So.scale,type:So.type});var Ple=["option","isActive"];function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(null,arguments)}function Ile(t,e){if(t==null)return{};var n,r,a=Rle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kle(t){var{option:e,isActive:n}=t,r=Ile(t,Ple);return typeof e=="string"?w.createElement(mv,Qh({option:w.createElement(Nw,Qh({type:e},r)),isActive:n,shapeType:"symbols"},r)):w.createElement(mv,Qh({option:e,isActive:n,shapeType:"symbols"},r))}var Dle=(t,e,n,r,a,s,l)=>wa(t,"xAxis",e,l),Mle=(t,e,n,r,a,s,l)=>Si(t,"xAxis",e,l),Lle=(t,e,n,r,a,s,l)=>wa(t,"yAxis",n,l),Ble=(t,e,n,r,a,s,l)=>Si(t,"yAxis",n,l),Vle=(t,e,n,r)=>Yte(t,"zAxis",r,!1),Ule=(t,e,n,r,a)=>a,zle=(t,e,n,r,a,s)=>s,$le=(t,e,n,r,a,s,l)=>yy(t,e,n,l),qle=ie([Qf,Ule],(t,e)=>{if(t.some(n=>n.type==="scatter"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Fle=ie([$le,Dle,Mle,Lle,Ble,Vle,qle,zle],(t,e,n,r,a,s,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=t;if(l!=null){var g;if(l?.data!=null&&l.data.length>0?g=l.data:g=h?.slice(f,m+1),!(g==null||e==null||r==null||n==null||a==null||n?.length===0||a?.length===0))return tce({displayedData:g,xAxis:e,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:n,yAxisTicks:a,cells:u})}}),Hle=["onMouseEnter","onClick","onMouseLeave"],Kle=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function c9(t,e){if(t==null)return{};var n,r,a=Gle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(null,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xle=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Ho(n,e),payload:t}]};function Qle(t){var{points:e,props:n}=t,{line:r,lineType:a,lineJointType:s}=n;if(!r)return null;var l=Je(n,!1),u=Je(r,!1),h,f;if(a==="joint")h=e.map(T=>({x:T.cx,y:T.cy}));else if(a==="fitting"){var{xmin:m,xmax:g,a:y,b:j}=yG(e),b=T=>y*T+j;h=[{x:m,y:b(m)},{x:g,y:b(g)}]}var _=Tr(Tr(Tr({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:h});return w.isValidElement(r)?f=w.cloneElement(r,_):typeof r=="function"?f=r(_):f=w.createElement(dy,Fu({},_,{type:s})),w.createElement(Kt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function u9(t){var{points:e,showLabels:n,allOtherScatterProps:r}=t,{shape:a,activeShape:s,dataKey:l}=r,u=Je(r,!1),h=Oe(Ns),{onMouseEnter:f,onClick:m,onMouseLeave:g}=r,y=c9(r,Hle),j=Oy(f,r.dataKey),b=Py(g),_=Iy(m,r.dataKey);return e==null?null:w.createElement(w.Fragment,null,w.createElement(Qle,{points:e,props:r}),e.map((T,E)=>{var C=s&&h===String(E),N=C?s:a,P=Tr(Tr(Tr({key:"symbol-".concat(E)},u),T),{},{[$w]:E,[qw]:String(l)});return w.createElement(Kt,Fu({className:"recharts-scatter-symbol"},$f(y,T,E),{onMouseEnter:j(T,E),onMouseLeave:b(T,E),onClick:_(T,E),key:"symbol-".concat(T?.cx,"-").concat(T?.cy,"-").concat(T?.size,"-").concat(E)}),w.createElement(kle,Fu({option:N,isActive:C},P)))}),n&&ps.renderCallByParent(r,e))}function Zle(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u}=n,h=e.current,f=ky(n,"recharts-scatter-"),[m,g]=w.useState(!1),y=w.useCallback(()=>{g(!1)},[]),j=w.useCallback(()=>{g(!0)},[]);return w.createElement(_s,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:j,key:f},b=>{var{t:_}=b,T=_===1?r:r.map((E,C)=>{var N=h&&h[C];if(N){var P=Kn(N.cx,E.cx),k=Kn(N.cy,E.cy),M=Kn(N.size,E.size);return Tr(Tr({},E),{},{cx:P(_),cy:k(_),size:M(_)})}var O=Kn(0,E.size);return Tr(Tr({},E),{},{size:O(_)})});return _>0&&(e.current=T),w.createElement(Kt,null,w.createElement(u9,{points:T,allOtherScatterProps:n,showLabels:!m}))})}function Jle(t){var{points:e,isAnimationActive:n}=t,r=w.useRef(null),a=r.current;return n&&e&&e.length&&(!a||a!==e)?w.createElement(Zle,{props:t,previousPointsRef:r}):w.createElement(u9,{points:e,allOtherScatterProps:t,showLabels:!0})}function ece(t){var{dataKey:e,points:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:u,tooltipType:h}=t;return{dataDefinedOnItem:n?.map(f=>f.tooltipPayload),positions:n?.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:s,nameKey:void 0,dataKey:e,name:Ho(l,e),hide:u,type:h,color:s,unit:""}}}function tce(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:l,yAxisTicks:u,cells:h}=t,f=ut(n.dataKey)?s.dataKey:n.dataKey,m=ut(r.dataKey)?s.dataKey:r.dataKey,g=a&&a.dataKey,y=a?a.range:d_.defaultProps.range,j=y&&y[0],b=n.scale.bandwidth?n.scale.bandwidth():0,_=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((T,E)=>{var C=St(T,f),N=St(T,m),P=!ut(g)&&St(T,g)||"-",k=[{name:ut(n.dataKey)?s.name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:T,dataKey:f,type:s.tooltipType},{name:ut(r.dataKey)?s.name:r.name||r.dataKey,unit:r.unit||"",value:N,payload:T,dataKey:m,type:s.tooltipType}];P!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:P,payload:T,dataKey:g,type:s.tooltipType});var M=Yg({axis:n,ticks:l,bandSize:b,entry:T,index:E,dataKey:f}),O=Yg({axis:r,ticks:u,bandSize:_,entry:T,index:E,dataKey:m}),D=P!=="-"?a.scale(P):j,B=Math.sqrt(Math.max(D,0)/Math.PI);return Tr(Tr({},T),{},{cx:M,cy:O,x:M-B,y:O-B,width:2*B,height:2*B,size:D,node:{x:C,y:N,z:P},tooltipPayload:k,tooltipPosition:{x:M,y:O},payload:T},h&&h[E]&&h[E].props)})}var nce=(t,e,n)=>({x:t.cx,y:t.cy,value:n==="x"?+t.node.x:+t.node.y,errorVal:St(t,e)});function rce(t){var e=w.useRef(Vo("recharts-scatter-")),{hide:n,points:r,className:a,needClip:s,xAxisId:l,yAxisId:u,id:h,children:f}=t;if(n)return null;var m=ht("recharts-scatter",a),g=ut(h)?e.current:h;return w.createElement(Kt,{className:m,clipPath:s?"url(#clipPath-".concat(g,")"):null},s&&w.createElement("defs",null,w.createElement(s_,{clipPathId:g,xAxisId:l,yAxisId:u})),w.createElement(a_,{xAxisId:l,yAxisId:u,data:r,dataPointFormatter:nce,errorBarOffset:0},f),w.createElement(Kt,{key:"recharts-scatter-symbols"},w.createElement(Jle,t)))}var d9={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function ace(t){var e=Qr(t,d9),{animationBegin:n,animationDuration:r,animationEasing:a,hide:s,isAnimationActive:l,legendType:u,lineJointType:h,lineType:f,shape:m,xAxisId:g,yAxisId:y,zAxisId:j}=e,b=c9(e,Kle),{needClip:_}=My(g,y),T=w.useMemo(()=>ad(t.children,bc),[t.children]),E=w.useMemo(()=>({name:t.name,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey}),[t.data,t.dataKey,t.name,t.tooltipType]),C=ur(),N=Oe(P=>Fle(P,g,y,j,E,T,C));return _==null?null:w.createElement(w.Fragment,null,w.createElement(Ry,{fn:ece,args:Tr(Tr({},t),{},{points:N})}),w.createElement(rce,Fu({},b,{xAxisId:g,yAxisId:y,zAxisId:j,lineType:f,lineJointType:h,legendType:u,shape:m,hide:s,isAnimationActive:l,animationBegin:n,animationDuration:r,animationEasing:a,points:N,needClip:_})))}class f_ extends w.Component{render(){return w.createElement(i_,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},w.createElement(t_,{legendPayload:Xle(this.props)}),w.createElement(ace,this.props))}}h_(f_,"displayName","Scatter");h_(f_,"defaultProps",d9);var ice=["children"],sce=["dangerouslySetInnerHTML","ticks"];function h9(t,e,n){return(e=oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cj.apply(null,arguments)}function f9(t,e){if(t==null)return{};var n,r,a=cce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uce(t){var e=Gt(),n=w.useMemo(()=>{var{children:s}=t,l=f9(t,ice);return l},[t]),r=Oe(s=>ks(s,n.id)),a=n===r;return w.useEffect(()=>(e(ble(n)),()=>{e(jle(n))}),[n,e]),a?t.children:null}var dce=t=>{var{xAxisId:e,className:n}=t,r=Oe(ck),a=ur(),s="xAxis",l=Oe(j=>ud(j,s,e,a)),u=Oe(j=>W8(j,s,e,a)),h=Oe(j=>F8(j,e)),f=Oe(j=>Fte(j,e));if(h==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=t,y=f9(t,sce);return w.createElement(Xo,cj({},y,{scale:l,x:f.x,y:f.y,width:h.width,height:h.height,className:ht("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},hce=t=>{var e,n,r,a,s;return w.createElement(uce,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},w.createElement(dce,t))};class _f extends w.Component{render(){return w.createElement(hce,this.props)}}h9(_f,"displayName","XAxis");h9(_f,"defaultProps",{allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,height:Mr.height,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,xAxisId:0});var fce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,h=a+s,f=l+h+u+(n?r:0);return Math.round(f)}return 0},mce=["dangerouslySetInnerHTML","ticks"];function m9(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uj.apply(null,arguments)}function vce(t,e){if(t==null)return{};var n,r,a=yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xce(t){var e=Gt();return w.useEffect(()=>(e(wle(t)),()=>{e(Sle(t))}),[t,e]),null}var bce=t=>{var e,{yAxisId:n,className:r,width:a,label:s}=t,l=w.useRef(null),u=w.useRef(null),h=Oe(ck),f=ur(),m=Gt(),g="yAxis",y=Oe(N=>ud(N,g,n,f)),j=Oe(N=>H8(N,n)),b=Oe(N=>Hte(N,n)),_=Oe(N=>W8(N,g,n,f));if(w.useLayoutEffect(()=>{var N;if(!(a!=="auto"||!j||XS(s)||w.isValidElement(s))){var P=l.current,k=P==null||(N=P.tickRefs)===null||N===void 0?void 0:N.current,{tickSize:M,tickMargin:O}=P.props,D=fce({ticks:k,label:u.current,labelGapWithTick:5,tickSize:M,tickMargin:O});Math.round(j.width)!==Math.round(D)&&m(Ele({id:n,width:D}))}},[l,l==null||(e=l.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,j?.width,j,m,s,n,a]),j==null||b==null)return null;var{dangerouslySetInnerHTML:T,ticks:E}=t,C=vce(t,mce);return w.createElement(Xo,uj({},C,{ref:l,labelRef:u,scale:y,x:b.x,y:b.y,width:j.width,height:j.height,className:ht("recharts-".concat(g," ").concat(g),r),viewBox:h,ticks:_}))},jce=t=>{var e,n,r,a,s;return w.createElement(w.Fragment,null,w.createElement(xce,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),w.createElement(bce,t))},wce={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:Lr.allowDecimals,allowDuplicatedCategory:Lr.allowDuplicatedCategory,hide:!1,mirror:Lr.mirror,orientation:Lr.orientation,padding:Lr.padding,reversed:Lr.reversed,scale:Lr.scale,tickCount:Lr.tickCount,type:Lr.type,width:Lr.width,yAxisId:0};class Tf extends w.Component{render(){return w.createElement(jce,this.props)}}m9(Tf,"displayName","YAxis");m9(Tf,"defaultProps",wce);var M2={exports:{}},L2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function Sce(){if(NO)return L2;NO=1;var t=Hu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return L2.useSyncExternalStoreWithSelector=function(h,f,m,g,y){var j=a(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=l(function(){function T(k){if(!E){if(E=!0,C=k,k=g(k),y!==void 0&&b.hasValue){var M=b.value;if(y(M,k))return N=M}return N=k}if(M=N,n(C,k))return M;var O=g(k);return y!==void 0&&y(M,O)?(C=k,M):(C=k,N=O)}var E=!1,C,N,P=m===void 0?null:m;return[function(){return T(f())},P===null?void 0:function(){return T(P())}]},[f,m,g,y]);var _=r(h,j[0],j[1]);return s(function(){b.hasValue=!0,b.value=_},[_]),u(_),_},L2}var CO;function _ce(){return CO||(CO=1,M2.exports=Sce()),M2.exports}_ce();function Tce(t){t()}function Ece(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tce(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var OO={notify(){},get:()=>[]};function Ace(t,e){let n,r=OO,a=0,s=!1;function l(_){m();const T=r.subscribe(_);let E=!1;return()=>{E||(E=!0,T(),g())}}function u(){r.notify()}function h(){b.onStateChange&&b.onStateChange()}function f(){return s}function m(){a++,n||(n=t.subscribe(h),r=Ece())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=OO)}function y(){s||(s=!0,m())}function j(){s&&(s=!1,g())}const b={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:y,tryUnsubscribe:j,getListeners:()=>r};return b}var Nce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cce=Nce(),Oce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pce=Oce(),Ice=()=>Cce||Pce?w.useLayoutEffect:w.useEffect,Rce=Ice(),kce=Symbol.for("react-redux-context"),Dce=typeof globalThis<"u"?globalThis:{};function Mce(){if(!w.createContext)return{};const t=Dce[kce]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Lce=Mce();function Bce(t){const{children:e,context:n,serverState:r,store:a}=t,s=w.useMemo(()=>{const h=Ace(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=w.useMemo(()=>a.getState(),[a]);Rce(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,l]);const u=n||Lce;return w.createElement(u.Provider,{value:s},e)}var Vce=Bce,Uce=(t,e)=>e,m_=ie([Uce,gt,ite,Ln,cD,Ds,Yne,_n],ere),p_=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},p9=ba("mouseClick"),g9=qf();g9.startListening({actionCreator:p9,effect:(t,e)=>{var n=t.payload,r=m_(e.getState(),p_(n));r?.activeIndex!=null&&e.dispatch(ine({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dj=ba("mouseMove"),v9=qf();v9.startListening({actionCreator:dj,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=zS(r,r.tooltip.settings.shared),s=m_(r,p_(n));a==="axis"&&(s?.activeIndex!=null?e.dispatch(nD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(tD()))}});function zce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var PO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},y9=Sa({name:"rootProps",initialState:PO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:PO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),$ce=y9.reducer,{updateOptions:qce}=y9.actions,x9=Sa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Fce}=x9.actions,Hce=x9.reducer,b9=ba("keyDown"),j9=ba("focus"),g_=qf();g_.startListening({actionCreator:b9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number($S(a,xc(n))),u=Ds(n);if(s==="Enter"){var h=uv(n,"axis","hover",String(a.index));e.dispatch(ej({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var f=Xte(n),m=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,y=l+g*m;if(!(u==null||y>=u.length||y<0)){var j=uv(n,"axis","hover",String(y));e.dispatch(ej({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});g_.startListening({actionCreator:j9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=uv(n,"axis","hover",String(s));e.dispatch(ej({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var fa=ba("externalEvent"),w9=qf();w9.startListening({actionCreator:fa,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Vne(n),activeDataKey:fD(n),activeIndex:Ns(n),activeLabel:hD(n),activeTooltipIndex:Ns(n),isTooltipActive:Une(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Kce=ie([dd],t=>t.tooltipItemPayloads),Gce=ie([Kce,em,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(u=>u.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),S9=ba("touchMove"),_9=qf();_9.startListening({actionCreator:S9,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=zS(r,r.tooltip.settings.shared);if(a==="axis"){var s=m_(r,p_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(nD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=n.touches[0],h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute($w),m=(l=h.getAttribute(qw))!==null&&l!==void 0?l:void 0,g=Gce(e.getState(),f,m);e.dispatch(eD({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var Wce=D5({brush:ooe,cartesianAxis:Ale,chartData:gre,graphicalItems:Qae,layout:lX,legend:HX,options:dre,polarAxis:Dae,polarOptions:Hce,referenceElements:moe,rootProps:$ce,tooltip:sne}),Yce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return RY({reducer:Wce,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([g9.middleware,v9.middleware,g_.middleware,w9.middleware,_9.middleware]),devTools:{serialize:{replacer:zce},name:"recharts-".concat(n)}})};function T9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=ur(),s=w.useRef(null);if(a)return n;s.current==null&&(s.current=Yce(e,r));var l=kw;return w.createElement(Vce,{context:l,store:s.current},n)}function E9(t){var{layout:e,width:n,height:r,margin:a}=t,s=Gt(),l=ur();return w.useEffect(()=>{l||(s(iX(e)),s(sX({width:n,height:r})),s(aX(a)))},[s,l,e,n,r,a]),null}function A9(t){var e=Gt();return w.useEffect(()=>{e(qce(t))},[e,t]),null}var Xce=["children"];function Qce(t,e){if(t==null)return{};var n,r,a=Zce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}var Jce={width:"100%",height:"100%"},eue=w.forwardRef((t,e)=>{var n=dk(),r=hk(),a=gk();if(!Bu(n)||!Bu(r))return null;var{children:s,otherAttributes:l,title:u,desc:h}=t,f,m;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,w.createElement(s5,bv({},l,{title:u,desc:h,role:m,tabIndex:f,width:n,height:r,style:Jce,ref:e}),s)}),tue=t=>{var{children:e}=t,n=Oe(cy);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return w.createElement(s5,{width:r,height:a,x:l,y:s},e)},IO=w.forwardRef((t,e)=>{var{children:n}=t,r=Qce(t,Xce),a=ur();return a?w.createElement(tue,null,n):w.createElement(eue,bv({ref:e},r),n)});function nue(){var t=Gt(),[e,n]=w.useState(null),r=Oe(MX);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Xr(s)&&s!==r&&t(oX(s))}},[e,t,r]),n}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oue=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:j,onTouchMove:b,onTouchStart:_,style:T,width:E}=t,C=Gt(),[N,P]=w.useState(null),[k,M]=w.useState(null);xre();var O=nue(),D=w.useCallback(q=>{O(q),typeof e=="function"&&e(q),P(q),M(q)},[O,e,P,M]),B=w.useCallback(q=>{C(p9(q)),C(fa({handler:s,reactEvent:q}))},[C,s]),F=w.useCallback(q=>{C(dj(q)),C(fa({handler:f,reactEvent:q}))},[C,f]),V=w.useCallback(q=>{C(tD()),C(fa({handler:m,reactEvent:q}))},[C,m]),L=w.useCallback(q=>{C(dj(q)),C(fa({handler:g,reactEvent:q}))},[C,g]),z=w.useCallback(()=>{C(j9())},[C]),ve=w.useCallback(q=>{C(b9(q.key))},[C]),he=w.useCallback(q=>{C(fa({handler:l,reactEvent:q}))},[C,l]),Q=w.useCallback(q=>{C(fa({handler:u,reactEvent:q}))},[C,u]),oe=w.useCallback(q=>{C(fa({handler:h,reactEvent:q}))},[C,h]),ae=w.useCallback(q=>{C(fa({handler:y,reactEvent:q}))},[C,y]),be=w.useCallback(q=>{C(fa({handler:_,reactEvent:q}))},[C,_]),H=w.useCallback(q=>{C(S9(q)),C(fa({handler:b,reactEvent:q}))},[C,b]),G=w.useCallback(q=>{C(fa({handler:j,reactEvent:q}))},[C,j]);return w.createElement(xD.Provider,{value:N},w.createElement(CG.Provider,{value:k},w.createElement("div",{className:ht("recharts-wrapper",r),style:rue({position:"relative",cursor:"default",width:E,height:a},T),onClick:B,onContextMenu:he,onDoubleClick:Q,onFocus:z,onKeyDown:ve,onMouseDown:oe,onMouseEnter:F,onMouseLeave:V,onMouseMove:L,onMouseUp:ae,onTouchEnd:G,onTouchMove:H,onTouchStart:be,ref:D},n)))}),lue=["children","className","width","height","style","compact","title","desc"];function cue(t,e){if(t==null)return{};var n,r,a=uue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N9=w.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:s,style:l,compact:u,title:h,desc:f}=t,m=cue(t,lue),g=Je(m,!1);return u?w.createElement(IO,{otherAttributes:g,title:h,desc:f},n):w.createElement(oue,{className:r,style:l,width:a,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(IO,{otherAttributes:g,title:h,desc:f,ref:e},w.createElement(goe,null,n)))}),due=["width","height"];function hj(){return hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hj.apply(null,arguments)}function hue(t,e){if(t==null)return{};var n,r,a=fue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mue={top:5,right:5,bottom:5,left:5},pue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mue,reverseStackOrder:!1,syncMethod:"index"},v_=w.forwardRef(function(e,n){var r,a=Qr(e.categoricalChartProps,pue),{width:s,height:l}=a,u=hue(a,due);if(!Bu(s)||!Bu(l))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:y}=e,j={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return w.createElement(T9,{preloadedState:{options:j},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:h},w.createElement(YD,{chartData:y.data}),w.createElement(E9,{width:s,height:l,layout:a.layout,margin:a.margin}),w.createElement(A9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(N9,hj({},u,{width:s,height:l,ref:n})))}),gue=["axis"],vue=w.forwardRef((t,e)=>w.createElement(v_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gue,tooltipPayloadSearcher:Ny,categoricalChartProps:t,ref:e})),yue=["axis","item"],xue=w.forwardRef((t,e)=>w.createElement(v_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yue,tooltipPayloadSearcher:Ny,categoricalChartProps:t,ref:e}));function bue(t){var e=Gt();return w.useEffect(()=>{e(Fce(t))},[e,t]),null}var jue=["width","height","layout"];function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fj.apply(null,arguments)}function wue(t,e){if(t==null)return{};var n,r,a=Sue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ue={top:5,right:5,bottom:5,left:5},Tue={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_ue,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Eue=w.forwardRef(function(e,n){var r,a=Qr(e.categoricalChartProps,Tue),{width:s,height:l,layout:u}=a,h=wue(a,jue);if(!Bu(s)||!Bu(l))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=e,j={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return w.createElement(T9,{preloadedState:{options:j},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:f},w.createElement(YD,{chartData:a.data}),w.createElement(E9,{width:s,height:l,layout:u,margin:a.margin}),w.createElement(A9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),w.createElement(bue,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(N9,fj({width:s,height:l},h,{ref:n})))}),Aue=["item"],Nue={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Cue=w.forwardRef((t,e)=>{var n=Qr(t,Nue);return w.createElement(Eue,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Aue,tooltipPayloadSearcher:Ny,categoricalChartProps:n,ref:e})}),Oue=["item"],Pue=w.forwardRef((t,e)=>w.createElement(v_,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Oue,tooltipPayloadSearcher:Ny,categoricalChartProps:t,ref:e}));function Iue({productivityData:t}){const e=t.map(a=>({efficiency:a.efficiency,productivity:a.productivity,taskName:a.taskName,sector:a.sector,status:a.status})),n=(a,s)=>{const l=(a+s)/2;return l>=105?"#48bb78":l>=95?"#fbb040":"#f56565"},r=({active:a,payload:s})=>{if(a&&s&&s.length){const l=s[0].payload;return i.jsxs("div",{className:"chart-tooltip",children:[i.jsx("p",{className:"tooltip-title",children:l.taskName}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Setor:"})," ",l.sector]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Eficiência:"})," ",l.efficiency.toFixed(1),"%"]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Produtividade:"})," ",l.productivity.toFixed(1),"%"]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Status:"})," ",l.status==="completed"?"Concluído":"Atrasado"]})]})}return null};return i.jsxs("div",{className:"charts-section",children:[i.jsxs("div",{className:"chart-card",children:[i.jsx("div",{className:"chart-header",children:i.jsx("h4",{children:"Eficiência vs. Produtividade"})}),i.jsx("div",{className:"chart-container",children:i.jsx(lg,{width:"100%",height:400,children:i.jsxs(Pue,{margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(yv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(_f,{type:"number",dataKey:"efficiency",name:"Eficiência",unit:"%",domain:[60,130],tickFormatter:a=>`${a}%`}),i.jsx(Tf,{type:"number",dataKey:"productivity",name:"Produtividade",unit:"%",domain:[60,130],tickFormatter:a=>`${a}%`}),i.jsx(og,{content:i.jsx(r,{})}),i.jsx("line",{x1:"100",y1:"60",x2:"100",y2:"130",stroke:"#cbd5e0",strokeDasharray:"5,5"}),i.jsx("line",{x1:"60",y1:"100",x2:"130",y2:"100",stroke:"#cbd5e0",strokeDasharray:"5,5"}),i.jsx(f_,{name:"Tarefas",data:e,fill:"#8884d8",children:e.map((a,s)=>i.jsx(bc,{fill:n(a.efficiency,a.productivity)},`cell-${s}`))})]})})}),i.jsxs("div",{className:"chart-legend",children:[i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#48bb78"}}),i.jsx("span",{children:"Excelente (>105%)"})]}),i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#fbb040"}}),i.jsx("span",{children:"Bom (95-105%)"})]}),i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#f56565"}}),i.jsx("span",{children:"Precisa Melhorar (<95%)"})]})]})]}),i.jsxs("div",{className:"chart-card",children:[i.jsx("div",{className:"chart-header",children:i.jsx("h4",{children:"Tendência de Performance"})}),i.jsx("div",{className:"chart-placeholder",children:i.jsxs("div",{className:"chart-info",children:[i.jsx("p",{children:"Evolução da performance ao longo do tempo"}),i.jsxs("div",{className:"trend-indicators",children:[i.jsxs("div",{className:"trend-item",children:[i.jsx("span",{className:"trend-value positive",children:"+5.2%"}),i.jsx("span",{children:"vs. semana anterior"})]}),i.jsxs("div",{className:"trend-item",children:[i.jsx("span",{className:"trend-value positive",children:"+12.8%"}),i.jsx("span",{children:"vs. mês anterior"})]})]})]})})]})]})}function Rue(){const[t,e]=w.useState("today"),[n,r]=w.useState("all"),[a,s]=w.useState("all"),[l,u]=w.useState(""),[h,f]=w.useState([]),{productivityData:m,operatorRankings:g,periodStats:y,currentUserStats:j}=nG();w.useEffect(()=>{(async()=>{try{const M=await bK();Array.isArray(M)&&(f(M),M.length>0&&!l&&u(M[0].operator.id))}catch(M){console.error("Erro ao carregar operadores:",M),f([])}})()},[]),_o.useEffect(()=>{g.length>0&&!l&&u(g[0].operatorId)},[g,l]);const _=(()=>{if(!l)return j;const k=h.find(M=>M.operator.id===l);return k?{operatorId:k.operator.id,operatorName:k.user.name||k.operator.code,totalTasks:0,averageEfficiency:85,totalProductivity:80,onTimeCompletion:90,rank:1,trend:"stable"}:g.find(M=>M.operatorId===l)||j})(),T=k=>k>=105?"#48bb78":k>=95?"#fbb040":k>=85?"#f6ad55":"#f56565",E=k=>{switch(k){case"up":return i.jsx(Uh,{});case"down":return i.jsx(lr,{});default:return i.jsx(mg,{})}},C=k=>{const M=Math.floor(k/60),O=k%60;return M>0?`${M}h ${O}m`:`${O}m`},N=m.filter(k=>!(n!=="all"&&k.operatorId!==n||a!=="all"&&k.sector!==a)),P=y.find(k=>{switch(t){case"today":return k.period==="Hoje";case"week":return k.period==="Esta Semana";case"month":return k.period==="Este Mês";default:return k.period==="Hoje"}});return i.jsx("div",{className:"productivity-page",children:i.jsxs("div",{className:"productivity-container",children:[i.jsx(iG,{selectedPeriod:t,setSelectedPeriod:e}),_&&i.jsx(sG,{currentUserStats:_,getEfficiencyColor:T,getTrendIcon:E}),P&&i.jsx(oG,{currentPeriodStats:P,getEfficiencyColor:T,formatTime:C}),i.jsxs("div",{className:"productivity-content",children:[i.jsx(lG,{selectedOperator:n,setSelectedOperator:r,selectedSector:a,setSelectedSector:s,availableOperators:h}),i.jsx(cG,{filteredData:N,getEfficiencyColor:T,formatTime:C}),i.jsx(uG,{operatorRankings:g,getEfficiencyColor:T,getTrendIcon:E}),i.jsx(Iue,{productivityData:N})]})]})})}function kue({onNewNCClick:t}){return i.jsxs("div",{className:"nc-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"Não Conformidades"})}),i.jsx("div",{className:"header-actions",children:i.jsx("button",{className:"new-nc-btn",onClick:t,children:"➕ Nova Não Conformidade"})})]})}function Due({stats:t,productionStoppedCount:e}){return i.jsxs("div",{className:"nc-stats",children:[i.jsxs("div",{className:"stat-card urgent",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(oc,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.open}),i.jsx("div",{className:"stat-label",children:"Em Aberto"})]})]}),i.jsxs("div",{className:"stat-card critical",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),i.jsx("div",{className:"stat-label",children:"Críticas/Altas"})]})]}),i.jsxs("div",{className:"stat-card stopped",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(F2,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:e}),i.jsx("div",{className:"stat-label",children:"Produção Parada"})]})]}),i.jsxs("div",{className:"stat-card total",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(lr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.total}),i.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function Mue({filters:t,setFilters:e}){const n=(r,a)=>{e({...t,[r]:a})};return i.jsxs("div",{className:"nc-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status:"}),i.jsxs("select",{value:t.status?.[0]||"all",onChange:r=>n("status",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"open",children:"Aberto"}),i.jsx("option",{value:"investigating",children:"Em Andamento"}),i.jsx("option",{value:"resolved",children:"Resolvido"}),i.jsx("option",{value:"closed",children:"Fechado"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severidade:"}),i.jsxs("select",{value:t.severity?.[0]||"all",onChange:r=>n("severity",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"critical",children:"Crítica"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"medium",children:"Média"}),i.jsx("option",{value:"low",children:"Baixa"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Categoria:"}),i.jsxs("select",{value:t.category?.[0]||"all",onChange:r=>n("category",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"safety",children:"Segurança"}),i.jsx("option",{value:"process",children:"Processo"}),i.jsx("option",{value:"equipment",children:"Equipamento"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Setor:"}),i.jsxs("select",{value:t.sector?.[0]||"all",onChange:r=>n("sector",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Corte",children:"Corte"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Acabamento",children:"Acabamento"})]})]}),i.jsx("div",{className:"filter-group checkbox",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:!!t.assignedTo,onChange:r=>n("assignedTo",r.target.checked?"current-user":void 0)}),"Apenas minhas NCs"]})}),i.jsx("div",{className:"filter-group checkbox",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:t.severity?.includes("critical")||!1,onChange:r=>n("severity",r.target.checked?["critical"]:void 0)}),"Apenas críticas"]})})]})}function Lue({nc:t,onViewDetails:e,getSeverityColor:n,getStatusColor:r,getCategoryIcon:a}){return i.jsxs("div",{className:"nc-card",children:[i.jsxs("div",{className:"nc-card-header",children:[i.jsxs("div",{className:"nc-info",children:[i.jsxs("div",{className:"nc-id-title",children:[i.jsx("span",{className:"nc-id",children:t.id}),i.jsx("h3",{className:"nc-title",children:t.title})]}),i.jsxs("div",{className:"nc-badges",children:[i.jsxs("span",{className:"category-badge",children:[a(t.category)," ",t.category]}),i.jsx("span",{className:"severity-badge",style:{backgroundColor:n(t.severity)},children:t.severity.toUpperCase()}),i.jsx("span",{className:"status-badge",style:{backgroundColor:r(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("div",{className:"nc-actions",children:i.jsx("button",{className:"action-btn view-btn",onClick:()=>e(t),title:"Ver detalhes",children:i.jsx(Xu,{})})})]}),i.jsxs("div",{className:"nc-card-content",children:[i.jsx("p",{className:"nc-description",children:t.description}),i.jsxs("div",{className:"nc-details",children:[i.jsxs("div",{className:"nc-location",children:[i.jsx("strong",{children:"Localização:"})," ",t.location.sector," -"," ",t.location.station,t.location.equipment&&` (${t.location.equipment})`]}),i.jsxs("div",{className:"nc-reporter",children:[i.jsx(Yl,{}),i.jsxs("span",{children:[i.jsx("strong",{children:"Reportado por:"})," ",t.reportedBy.name," (",t.reportedBy.role,")"]})]}),t.assignedTo&&i.jsxs("div",{className:"nc-assigned",children:[i.jsx(Yl,{}),i.jsxs("span",{children:[i.jsx("strong",{children:"Atribuído a:"})," ",t.assignedTo.name," (",t.assignedTo.role,")"]})]})]}),i.jsxs("div",{className:"nc-meta",children:[i.jsxs("div",{className:"nc-attachments",children:[i.jsx(lB,{}),i.jsxs("span",{children:[t.attachments.length," anexos"]})]}),i.jsxs("div",{className:"nc-alerts",children:[i.jsx(_v,{}),i.jsxs("span",{children:[t.attachments.length," anexos"]})]}),i.jsxs("div",{className:"nc-date",children:[i.jsx(Ft,{}),i.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("pt-BR")})]})]})]})]})}function Bue({showModal:t,onClose:e,onSubmit:n,newNC:r,setNewNC:a}){return t?i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Nova Não Conformidade"}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx($r,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Título:"}),i.jsx("input",{type:"text",value:r.title,onChange:s=>a({...r,title:s.target.value}),placeholder:"Descreva brevemente o problema"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Descrição detalhada:"}),i.jsx("textarea",{value:r.description,onChange:s=>a({...r,description:s.target.value}),placeholder:"Descreva detalhadamente o problema encontrado",rows:4})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Categoria:"}),i.jsxs("select",{value:r.category,onChange:s=>a({...r,category:s.target.value}),children:[i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"safety",children:"Segurança"}),i.jsx("option",{value:"process",children:"Processo"}),i.jsx("option",{value:"equipment",children:"Equipamento"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Severidade:"}),i.jsxs("select",{value:r.severity,onChange:s=>a({...r,severity:s.target.value}),children:[i.jsx("option",{value:"low",children:"Baixa"}),i.jsx("option",{value:"medium",children:"Média"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"critical",children:"Crítica"})]})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Setor:"}),i.jsx("input",{type:"text",value:r.sector,onChange:s=>a({...r,sector:s.target.value}),placeholder:"Ex: Corte, Montagem, Acabamento"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Estação:"}),i.jsx("input",{type:"text",value:r.station,onChange:s=>a({...r,station:s.target.value}),placeholder:"Ex: Estação 01, Linha 02"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Equipamento (opcional):"}),i.jsx("input",{type:"text",value:r.equipment,onChange:s=>a({...r,equipment:s.target.value}),placeholder:"Ex: Serra CNC-001, Compressor CP-005"})]}),i.jsxs("div",{className:"form-group checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:r.stopProduction,onChange:s=>a({...r,stopProduction:s.target.checked})}),i.jsx("span",{className:"checkmark"}),"Parar produção imediatamente"]}),i.jsx("p",{className:"checkbox-help",children:"Marque esta opção se o problema requer interrupção imediata da produção"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:e,children:"Cancelar"}),i.jsx("button",{className:"btn-primary",onClick:n,disabled:!r.title||!r.description,children:"Registrar Não Conformidade"})]})]})}):null}function Vue({selectedNC:t,onClose:e,onAssign:n,onAddComment:r,onResolve:a,getSeverityColor:s,getStatusColor:l}){return t?i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content large",onClick:u=>u.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"nc-modal-title",children:[i.jsxs("h2",{children:[t.id," - ",t.title]}),i.jsxs("div",{className:"nc-modal-badges",children:[i.jsx("span",{className:"severity-badge",style:{backgroundColor:s(t.severity)},children:t.severity.toUpperCase()}),i.jsx("span",{className:"status-badge",style:{backgroundColor:l(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx($r,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"nc-details-grid",children:[i.jsxs("div",{className:"nc-main-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Descrição"}),i.jsx("p",{children:t.description})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Localização"}),i.jsxs("div",{className:"location-details",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"Setor:"})," ",t.location.sector]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Estação:"})," ",t.location.station]}),t.location.equipment&&i.jsxs("span",{children:[i.jsx("strong",{children:"Equipamento:"})," ",t.location.equipment]})]})]}),t.attachments&&t.attachments.length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Anexos"}),i.jsx("div",{className:"attachments-grid",children:t.attachments.map((u,h)=>i.jsx("div",{className:"attachment-item",children:i.jsx("div",{className:"attachment-info",children:i.jsx("span",{className:"attachment-name",children:u.fileName})})},h))})]})]}),i.jsxs("div",{className:"nc-sidebar",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Informações"}),i.jsxs("div",{className:"info-list",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reportado por:"}),i.jsx("span",{className:"info-value",children:t.reportedBy.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Função:"}),i.jsx("span",{className:"info-value",children:t.reportedBy.role})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Data:"}),i.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.assignedTo&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Responsável:"}),i.jsx("span",{className:"info-value",children:t.assignedTo.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Função:"}),i.jsx("span",{className:"info-value",children:t.assignedTo.role})]})]}),t.resolvedAt&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Comentários"}),i.jsx("div",{className:"comments-list",children:t.comments&&t.comments.length>0?t.comments.map(u=>i.jsxs("div",{className:"comment-item",children:[i.jsxs("div",{className:"comment-header",children:[i.jsx("span",{className:"comment-user",children:u.userName}),i.jsx("span",{className:"comment-time",children:new Date(u.timestamp).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"comment-message",children:u.message})]},u.id)):i.jsx("p",{children:"Nenhum comentário disponível"})})]}),t.status!=="resolved"&&t.status!=="closed"&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Ações Rápidas"}),i.jsxs("div",{className:"quick-actions",children:[t.status==="open"&&i.jsxs("button",{className:"action-btn assign",onClick:()=>n(t.id,"resp-001","Maria Santos","Coordenador"),children:[i.jsx(Yl,{})," Atribuir Responsável"]}),i.jsxs("button",{className:"action-btn comment",onClick:()=>{const u=prompt("Adicionar comentário:");u&&r(t.id,u)},children:[i.jsx(nP,{})," Adicionar Comentário"]}),i.jsxs("button",{className:"action-btn resolve",onClick:()=>{const u=prompt("Descreva a resolução:");u&&a(t.id,u)},children:[i.jsx(Fr,{})," Resolver"]})]})]})]})]}),i.jsxs("div",{className:"nc-timeline",children:[i.jsx("h4",{children:"Histórico"}),i.jsxs("div",{className:"timeline",children:[i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsx("span",{className:"timeline-user",children:t.reportedBy.name}),i.jsx("span",{className:"timeline-time",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:"Não conformidade criada"})]})]}),t.resolvedAt&&i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsx("span",{className:"timeline-user",children:t.resolvedBy||"Sistema"}),i.jsx("span",{className:"timeline-time",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:"Não conformidade resolvida"})]})]})]})]})]})]})}):null}function Uue(){const{user:t}=Ha(),[e,n]=w.useState([]),[r,a]=w.useState(null),[s,l]=w.useState(!1),[u,h]=w.useState({status:[],severity:[],priority:[],category:[],sector:[],assignedTo:void 0,dateRange:void 0}),[f,m]=w.useState({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""});w.useEffect(()=>{n([{id:"NC-2024-001",title:"Peça com dimensão fora do padrão",description:"Durante a inspeção de qualidade, foi identificado que 5 peças estão com dimensões 2mm acima do especificado no desenho técnico. Possível problema no setup da máquina de corte.",category:"quality",severity:"high",priority:"high",status:"investigating",location:{sector:"Corte",sectorId:"corte-001",station:"Estação 02",equipment:"Serra CNC-001"},reportedBy:{id:"op-001",name:"João Silva",role:"Operador"},assignedTo:{id:"qc-001",name:"Maria Santos",role:"Coordenador Qualidade"},attachments:[{id:"att-001",fileName:"peca_defeituosa.jpg",fileType:"image/jpeg",fileSize:1024e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/peca_defeituosa.jpg",category:"photo"},{id:"att-002",fileName:"medicao_dimensional.pdf",fileType:"application/pdf",fileSize:512e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/medicao_dimensional.pdf",category:"document"}],stopProduction:!1,requiresImmediateAction:!0,escalationLevel:"supervisor",createdAt:"2024-01-20T08:00:00",updatedAt:"2024-01-20T08:00:00",createdBy:"user-001",updatedBy:"user-001"},{id:"NC-2024-002",title:"Material com defeito visual",description:"Identificado risco na matéria-prima recebida. Manchas e riscos visíveis que podem comprometer o acabamento final.",category:"material",severity:"medium",priority:"medium",status:"resolved",location:{sector:"Recebimento",sectorId:"recebimento-001",station:"Dock 01"},reportedBy:{id:"op-002",name:"Ana Oliveira",role:"Operador"},assignedTo:{id:"wh-001",name:"Roberto Lima",role:"Supervisor Almoxarifado"},resolvedAt:"2024-01-19T16:45:00",attachments:[{id:"att-003",fileName:"material_defeituoso.jpg",fileType:"image/jpeg",fileSize:2048e3,uploadedAt:"2024-01-19T14:20:00",uploadedBy:"op-002",url:"/attachments/material_defeituoso.jpg",category:"photo"}],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:"2024-01-19T14:00:00",updatedAt:"2024-01-19T14:00:00",createdBy:"user-002",updatedBy:"user-002"},{id:"NC-2024-003",title:"Equipamento com ruído anormal",description:"Compressor apresentando ruído excessivo e vibração. Pode indicar problema mecânico que requer manutenção preventiva.",category:"equipment",severity:"low",priority:"low",status:"open",location:{sector:"Montagem",sectorId:"montagem-001",station:"Linha 03",equipment:"Compressor CP-005"},reportedBy:{id:"op-003",name:"Carlos Mendes",role:"Operador"},createdAt:"2024-01-20T08:15:00",updatedAt:"2024-01-20T08:15:00",createdBy:"user-003",updatedBy:"user-003",attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none"}])},[]);const g=()=>{const P={id:`NC-2024-${String(e.length+1).padStart(3,"0")}`,title:f.title,description:f.description,category:f.category,severity:f.severity,priority:"medium",status:"open",location:{sector:f.sector,sectorId:"default-sector-id",station:f.station,equipment:f.equipment||void 0},reportedBy:{id:t?.id||"current-user",name:t?.name||t?.displayName||"Usuário Atual",role:"Operador"},attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(k=>[P,...k]),l(!1),m({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""})},y=(P,k,M,O)=>{n(D=>D.map(B=>B.id===P?{...B,assignedTo:{id:k,name:M,role:O},status:"investigating",updatedAt:new Date().toISOString()}:B))},j=(P,k)=>{n(M=>M.map(O=>O.id===P?{...O,updatedAt:new Date().toISOString()}:O))},b=(P,k)=>{n(M=>M.map(O=>O.id===P?{...O,status:"resolved",resolvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:O))},_=P=>{switch(P){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"critical":return"#e53e3e";default:return"#4a5568"}},T=P=>{switch(P){case"open":return"#f56565";case"investigating":return"#fbb040";case"resolved":return"#48bb78";case"closed":return"#4a5568";default:return"#4a5568"}},E=P=>{switch(P){case"quality":return"🔍";case"safety":return"⚠️";case"process":return"⚙️";case"equipment":return"🔧";case"material":return"📦";default:return"📋"}},C=e.filter(P=>!(u.status&&u.status.length>0&&!u.status.includes(P.status)||u.severity&&u.severity.length>0&&!u.severity.includes(P.severity)||u.category&&u.category.length>0&&!u.category.includes(P.category)||u.sector&&u.sector.length>0&&!u.sector.includes(P.location.sector))),N={total:e.length,open:e.filter(P=>P.status==="open").length,investigating:e.filter(P=>P.status==="investigating").length,resolved:e.filter(P=>P.status==="resolved").length,closed:e.filter(P=>P.status==="closed").length,bySeverity:{low:e.filter(P=>P.severity==="low").length,medium:e.filter(P=>P.severity==="medium").length,high:e.filter(P=>P.severity==="high").length,critical:e.filter(P=>P.severity==="critical").length},byPriority:{low:e.filter(P=>P.priority==="low").length,medium:e.filter(P=>P.priority==="medium").length,high:e.filter(P=>P.priority==="high").length,urgent:e.filter(P=>P.priority==="urgent").length},byCategory:{quality:e.filter(P=>P.category==="quality").length,safety:e.filter(P=>P.category==="safety").length,process:e.filter(P=>P.category==="process").length,equipment:e.filter(P=>P.category==="equipment").length,material:e.filter(P=>P.category==="material").length},bySector:e.reduce((P,k)=>(P[k.location.sector]=(P[k.location.sector]||0)+1,P),{}),productionStopped:e.filter(P=>P.stopProduction).length,requiresImmediateAction:e.filter(P=>P.requiresImmediateAction).length};return i.jsx("div",{className:"nc-page",children:i.jsxs("div",{className:"nc-container",children:[i.jsx(kue,{onNewNCClick:()=>l(!0)}),i.jsx(Due,{stats:N,productionStoppedCount:N.productionStopped}),i.jsxs("div",{className:"nc-content",children:[i.jsx(Mue,{filters:u,setFilters:h}),i.jsx("div",{className:"nc-list",children:C.map(P=>i.jsx(Lue,{nc:P,onViewDetails:k=>a(k),onAssign:y,getSeverityColor:_,getStatusColor:T,getCategoryIcon:E},P.id))})]}),i.jsx(Bue,{showModal:s,onClose:()=>l(!1),onSubmit:g,newNC:f,setNewNC:m}),i.jsx(Vue,{selectedNC:r,onClose:()=>a(null),onAssign:y,onAddComment:j,onResolve:b,getSeverityColor:_,getStatusColor:T})]})})}function zue(){return i.jsx("div",{className:"alerts-header",children:i.jsx("div",{className:"header-info",children:i.jsx("div",{className:"header-text",children:i.jsx("h1",{children:"Central de Alertas"})})})})}function $ue({stats:t}){return i.jsxs("div",{className:"alerts-stats",children:[i.jsxs("div",{className:"stat-card critical",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(oc,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.active}),i.jsx("div",{className:"stat-label",children:"Alertas Ativos"})]})]}),i.jsxs("div",{className:"stat-card high",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),i.jsx("div",{className:"stat-label",children:"Críticos"})]})]}),i.jsxs("div",{className:"stat-card urgent",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(aP,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.byPriority.urgent}),i.jsx("div",{className:"stat-label",children:"Urgentes"})]})]}),i.jsxs("div",{className:"stat-card warning",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Gl,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.active-t.acknowledged}),i.jsx("div",{className:"stat-label",children:"Não Reconhecidos"})]})]}),i.jsxs("div",{className:"stat-card info",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(lr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.total}),i.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function que({filterType:t,setFilterType:e,filterStatus:n,setFilterStatus:r,filterSeverity:a,setFilterSeverity:s,filterPriority:l,setFilterPriority:u,showOnlyMyAlerts:h,setShowOnlyMyAlerts:f}){return i.jsxs("div",{className:"alerts-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Tipo: "}),i.jsxs("select",{value:t,onChange:m=>e(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"production_stop",children:"Parada de Produção"}),i.jsx("option",{value:"non_conformity",children:"Não Conformidade"}),i.jsx("option",{value:"priority_change",children:"Mudança de Prioridade"}),i.jsx("option",{value:"delay",children:"Atraso"}),i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"maintenance",children:"Manutenção"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status: "}),i.jsxs("select",{value:n,onChange:m=>r(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"acknowledged",children:"Reconhecido"}),i.jsx("option",{value:"in_progress",children:"Em Andamento"}),i.jsx("option",{value:"resolved",children:"Resolvido"}),i.jsx("option",{value:"dismissed",children:"Dispensado"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severidade: "}),i.jsxs("select",{value:a,onChange:m=>s(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"critical",children:"Crítica"}),i.jsx("option",{value:"low",children:"Alta"}),i.jsx("option",{value:"medium",children:"Média"}),i.jsx("option",{value:"high",children:"Baixa"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Prioridade: "}),i.jsxs("select",{value:l,onChange:m=>u(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"urgent",children:"Urgente"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"medium",children:"Média"}),i.jsx("option",{value:"low",children:"Baixa"})]})]}),i.jsx("div",{className:"filter-group checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:h,onChange:m=>f(m.target.checked)}),i.jsx("span",{className:"checkbox-text",children:"Mostrar apenas meus alertas"})]})})]})}function Fue({alerts:t,onSelectAlert:e,onAcknowledgeAlert:n,currentUserId:r}){const a=m=>{switch(m){case"critical":return"#f56565";case"high":return"#fbb040";case"medium":return"#4299e1";case"low":return"#48bb78";default:return"#4a5568"}},s=m=>{switch(m){case"urgent":return"#e53e3e";case"high":return"#f56565";case"medium":return"#fbb040";case"low":return"#48bb78";default:return"#4a5568"}},l=m=>{switch(m){case"production_stop":return i.jsx(_v,{});case"non_conformity":return i.jsx(oc,{});case"priority_change":return i.jsx(kn,{});case"delay":return i.jsx(Ft,{});case"quality":return i.jsx(Va,{});case"maintenance":return i.jsx(wB,{});case"material":return i.jsx(ys,{});default:return i.jsx(Gl,{})}},u=m=>{switch(m){case"production_stop":return"Parada de Produção";case"non_conformity":return"Não Conformidade";case"priority_change":return"Mudança de Prioridade";case"delay":return"Atraso";case"quality":return"Qualidade";case"maintenance":return"Manutenção";case"material":return"Material";default:return m}},h=m=>m.recipients.some(g=>g.id===r),f=m=>r&&m.recipients.some(g=>g.id===r&&g.acknowledged);return i.jsxs("div",{className:"alerts-list",children:[i.jsx("div",{className:"list-header",children:i.jsxs("h3",{children:["Alertas (",t.length,")"]})}),i.jsx("div",{className:"alerts-grid",children:t.map(m=>i.jsxs("div",{className:`alert-card ${m.severity} ${m.status} ${m.priority==="urgent"?"urgent":""}`,children:[i.jsxs("div",{className:"alert-header",children:[i.jsxs("div",{className:"alert-type",children:[i.jsx("span",{className:"type-icon",children:l(m.severity)}),i.jsx("span",{className:"type-label",children:u(m.severity)})]}),i.jsxs("div",{className:"alert-badges",children:[i.jsx("span",{className:"severity-badge",style:{backgroundColor:a(m.severity)},children:m.severity.toUpperCase()}),i.jsx("span",{className:"priority-badge",style:{backgroundColor:s(m.priority)},children:m.priority.toUpperCase()})]})]}),i.jsxs("div",{className:"alert-content",children:[i.jsx("h4",{className:"alert-title",children:m.title}),i.jsx("p",{className:"alert-message",children:m.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Local:"}),i.jsxs("span",{className:"detail-value",children:[m.location.sector,m.location.station&&` - ${m.location.station}`]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Origem:"}),i.jsx("span",{className:"detail-value",children:m.source.name})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Criado:"}),i.jsx("span",{className:"detail-value",children:new Date(m.createdAt).toLocaleString("pt-BR")})]})]}),m.tags&&m.tags.length>0&&i.jsx("div",{className:"alert-tags",children:m.tags.map((g,y)=>i.jsx("span",{className:"tag",children:g},y))})]}),i.jsxs("div",{className:"alert-actions",children:[i.jsxs("button",{className:"action-btn view",onClick:()=>e(m),children:[i.jsx(Xu,{})," Detalhes"]}),h(m)&&!f(m)&&m.status==="active"&&i.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(m.id),children:[i.jsx(sr,{})," Reconhecer"]}),m.status==="active"&&i.jsx("div",{className:"status-indicator active",children:i.jsx(pt,{})}),m.status==="acknowledged"&&i.jsx("div",{className:"status-indicator acknowledged",children:i.jsx(Ft,{})})]})]},m.id))}),t.length===0&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Gl,{})}),i.jsx("h3",{children:"Nenhum alerta encontrado"}),i.jsx("p",{children:"Não há alertas que correspondam aos filtros selecionados."})]})]})}function Hue({alert:t,onClose:e,onAcknowledge:n,onResolve:r,onAddComment:a,currentUserId:s}){if(!t)return null;const l=()=>{const m=prompt("Descreva a resolução do alerta:");m&&r(t.id,m)},u=()=>{const m=prompt("Adicione um comentário:");m&&a(t.id,m)},h=()=>s&&t.recipients.some(m=>m.id===s),f=()=>s&&t.recipients.some(m=>m.id===s&&m.acknowledged);return i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content large",onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"alert-modal-title",children:[i.jsx("h2",{children:t.title}),i.jsxs("div",{className:"alert-modal-badges",children:[i.jsx("span",{className:`severity-badge ${t.severity}`,children:t.severity.toUpperCase()}),i.jsx("span",{className:`priority-badge ${t.priority}`,children:t.priority.toUpperCase()}),i.jsx("span",{className:`status-badge ${t.status}`,children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx($r,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"alert-details-grid",children:[i.jsxs("div",{className:"alert-main-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Descrição"}),i.jsx("p",{children:t.description})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Localização e Contexto"}),i.jsxs("div",{className:"location-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Setor:"}),i.jsx("span",{className:"detail-value",children:t.location.sector})]}),t.location.station&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Estação:"}),i.jsx("span",{className:"detail-value",children:t.location.station})]}),t.location.equipment&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Equipamento:"}),i.jsx("span",{className:"detail-value",children:t.location.equipment})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Relacionado a:"}),i.jsxs("span",{className:"detail-value",children:[t.relatedEntity.name," (",t.relatedEntity.id,")"]})]})]})]}),t.attachments.length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Anexos"}),i.jsx("div",{className:"attachments-list",children:t.attachments.map((m,g)=>i.jsx("div",{className:"attachment-item",children:i.jsx("span",{className:"attachment-name",children:m})},g))})]})]}),i.jsxs("div",{className:"alert-sidebar",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Informações Gerais"}),i.jsxs("div",{className:"info-list",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Origem:"}),i.jsx("span",{className:"info-value",children:t.source.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Criado em:"}),i.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.acknowledgedAt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reconhecido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.acknowledgedAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reconhecido por:"}),i.jsx("span",{className:"info-value",children:t.acknowledgedBy})]})]}),t.resolvedAt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido por:"}),i.jsx("span",{className:"info-value",children:t.resolvedBy})]})]})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Destinatários"}),i.jsx("div",{className:"recipients-list",children:t.recipients.map(m=>i.jsxs("div",{className:"recipient-item",children:[i.jsxs("div",{className:"recipient-info",children:[i.jsx("span",{className:"recipient-name",children:m.name}),i.jsx("span",{className:"recipient-role",children:m.role})]}),i.jsx("div",{className:"recipient-status",children:m.acknowledged?i.jsxs("span",{className:"status-acknowledged",children:[i.jsx(sr,{})," Reconhecido"]}):i.jsxs("span",{className:"status-pending",children:[i.jsx(Ft,{})," Pendente"]})})]},m.id))})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Tags"}),i.jsx("div",{className:"tags-list",children:t.tags&&t.tags.length>0?t.tags.map((m,g)=>i.jsx("span",{className:"tag",children:m},g)):i.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Nenhuma tag disponível"})})]}),t.status!=="resolved"&&t.status!=="dismissed"&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Ações"}),i.jsxs("div",{className:"quick-actions",children:[h()&&!f()&&t.status==="active"&&i.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(t.id),children:[i.jsx(sr,{})," Reconhecer"]}),i.jsxs("button",{className:"action-btn comment",onClick:u,children:[i.jsx(nP,{})," Comentar"]}),i.jsxs("button",{className:"action-btn resolve",onClick:l,children:[i.jsx(pt,{})," Resolver"]})]})]})]})]}),i.jsxs("div",{className:"alert-timeline",children:[i.jsx("h4",{children:"Histórico de Comentários"}),i.jsx("div",{className:"timeline",children:t.comments&&t.comments.length>0?t.comments.map(m=>i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsxs("span",{className:"timeline-user",children:[i.jsx(Yl,{})," ",m.userName]}),i.jsx("span",{className:"timeline-time",children:new Date(m.timestamp).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:m.message}),m.type!=="comment"&&i.jsx("div",{className:"timeline-type",children:m.type==="status_change"?"Mudança de Status":"Escalação"})]})]},m.id)):i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsx("div",{className:"timeline-content",children:i.jsx("div",{className:"timeline-description",style:{color:"#999",fontStyle:"italic"},children:"Nenhum comentário disponível"})})]})})]})]})]})})}function Kue(){const{user:t}=Ha(),[e,n]=w.useState([]),[r,a]=w.useState([]),[s,l]=w.useState(null),[u,h]=w.useState("all"),[f,m]=w.useState("all"),[g,y]=w.useState("all"),[j,b]=w.useState("all"),[_,T]=w.useState(!1);w.useEffect(()=>{const k=[{id:"alert-001",title:"PRODUÇÃO PARADA - Não Conformidade Crítica",description:"Peças com dimensão fora do padrão detectadas. Produção foi interrompida conforme procedimento. Aguardando análise da qualidade para liberação.",severity:"critical",priority:"urgent",location:{sector:"Corte",station:"Estação 02",equipment:"Serra CNC-001"},relatedEntity:{id:"OP-2024-001",name:"Produto A - Modelo X"},source:{id:"op-001",name:"João Silva"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"qc-001",name:"Maria Santos",role:"quality",department:"Qualidade",acknowledged:!0},{id:"eng-001",name:"Carlos Oliveira",role:"engineering",department:"Engenharia",acknowledged:!1}],status:"active",createdAt:"2024-01-20T10:30:00",updatedAt:"2024-01-20T10:30:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T10:45:00",acknowledgedBy:"Pedro Costa",tags:["produção","qualidade","crítico"],attachments:["foto_peca_defeituosa.jpg","medicao_dimensional.pdf"],comments:[{id:"comment-001",userId:"user-001",userName:"João Silva",message:"Produção interrompida. 5 peças com problema identificadas.",timestamp:"2024-01-20T10:30:00",type:"comment"},{id:"comment-002",userId:"coord-001",userName:"Pedro Costa",message:"Alerta reconhecido. Acionando equipe de qualidade.",timestamp:"2024-01-20T10:45:00",type:"status_change"},{id:"comment-003",userId:"qc-001",userName:"Maria Santos",message:"Verificando calibração da máquina. Setup será refeito.",timestamp:"2024-01-20T11:15:00",type:"comment"}]},{id:"alert-002",title:"Mudança de Prioridade - Pedido Urgente",description:"Cliente solicitou antecipação do prazo de entrega. Pedido deve ser priorizado na programação de produção.",severity:"medium",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema ERP"},location:{sector:"Planejamento"},relatedEntity:{id:"OP-2024-005",name:"Produto E - Modelo V"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"plan-001",name:"Ana Oliveira",role:"admin",department:"Planejamento",acknowledged:!1}],createdAt:"2024-01-20T14:15:00",updatedAt:"2024-01-20T14:15:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T14:20:00",acknowledgedBy:"Pedro Costa",tags:["prioridade","planejamento"],attachments:[],comments:[{id:"comment-004",userId:"user-004",userName:"Ana Oliveira",message:"Alteração solicitada pelo cliente. Prazo reduzido em 2 dias.",timestamp:"2024-01-20T14:15:00",type:"comment"}]},{id:"alert-003",title:"Atraso na Produção",description:"A tarefa de montagem do OP-2024-002 está com atraso de 30 minutos em relação ao planejado. Pode impactar o prazo final do pedido.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Monitoramento"},location:{sector:"Montagem",station:"Linha 03"},relatedEntity:{id:"task-002",name:"Montagem Principal"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T15:30:00",updatedAt:"2024-01-20T15:30:00",createdBy:"system",updatedBy:"system",tags:["atraso","montagem"],attachments:[],comments:[]},{id:"alert-004",title:"Material em Falta",description:"Componente XYZ-123 está com estoque abaixo do mínimo. Pode impactar a produção dos próximos pedidos se não for reposto.",severity:"high",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema de Estoque"},location:{sector:"Almoxarifado"},relatedEntity:{id:"mat-123",name:"Componente XYZ-123"},recipients:[{id:"wh-001",name:"Roberto Lima",role:"warehouse",department:"Almoxarifado",acknowledged:!0},{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T09:00:00",updatedAt:"2024-01-20T09:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T09:15:00",acknowledgedBy:"Roberto Lima",tags:["material","estoque"],attachments:[],comments:[{id:"comment-005",userId:"wh-001",userName:"Roberto Lima",message:"Pedido de compra já foi enviado ao fornecedor. Previsão de entrega: 2 dias.",timestamp:"2024-01-20T09:15:00",type:"comment"}]},{id:"alert-005",title:"Manutenção Preventiva Agendada",description:"Manutenção preventiva do equipamento CNC-002 agendada para amanhã às 08:00. Produção deve ser reprogramada.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Manutenção"},location:{sector:"Corte",equipment:"CNC-002"},relatedEntity:{id:"eq-002",name:"Serra CNC-002"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1},{id:"maint-001",name:"José Santos",role:"engineering",department:"Manutenção",acknowledged:!0}],createdAt:"2024-01-20T16:00:00",updatedAt:"2024-01-20T16:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T16:00:00",acknowledgedBy:"José Santos",tags:["manutenção","preventiva"],attachments:[],comments:[]}];n(k),a(k)},[]),w.useEffect(()=>{let k=[...e];u!=="all"&&(k=k.filter(M=>M.severity===u)),f!=="all"&&(k=k.filter(M=>M.status===f)),g!=="all"&&(k=k.filter(M=>M.severity===g)),j!=="all"&&(k=k.filter(M=>M.priority===j)),_&&t&&(k=k.filter(M=>M.recipients.some(O=>O.id===t.id)||M.source.id===t.id)),k.sort((M,O)=>{const D={urgent:4,high:3,medium:2,low:1},B=D[O.priority]-D[M.priority];return B!==0?B:new Date(O.createdAt).getTime()-new Date(M.createdAt).getTime()}),a(k)},[e,u,f,g,j,_,t]);const E=k=>{n(M=>M.map(O=>O.id===k?{...O,status:"acknowledged",acknowledgedAt:new Date().toISOString(),acknowledgedBy:t?.name||t?.displayName||"Usuário Atual",recipients:O.recipients.map(D=>D.id===t?.id?{...D,acknowledged:!0}:D)}:O))},C=(k,M)=>{n(O=>O.map(D=>D.id===k?{...D,status:"resolved",resolvedAt:new Date().toISOString(),resolvedBy:t?.name||t?.displayName||"Usuário Atual",comments:[...D.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:`Alerta resolvido: ${M}`,timestamp:new Date().toISOString(),type:"status_change"}]}:D))},N=(k,M)=>{n(O=>O.map(D=>D.id===k?{...D,comments:[...D.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:M,timestamp:new Date().toISOString(),type:"comment"}]}:D))},P=()=>{const k=e.length,M=e.filter(L=>L.status==="active").length,O=e.filter(L=>L.status==="acknowledged").length,D=e.filter(L=>L.status==="resolved").length,B=e.filter(L=>L.status==="dismissed").length,F={low:e.filter(L=>L.severity==="low").length,medium:e.filter(L=>L.severity==="medium").length,high:e.filter(L=>L.severity==="high").length,critical:e.filter(L=>L.severity==="critical").length},V={low:e.filter(L=>L.priority==="low").length,medium:e.filter(L=>L.priority==="medium").length,high:e.filter(L=>L.priority==="high").length,urgent:e.filter(L=>L.priority==="urgent").length};return{total:k,active:M,acknowledged:O,resolved:D,dismissed:B,bySeverity:F,byPriority:V}};return i.jsx("div",{className:"alerts-page",children:i.jsxs("div",{className:"alerts-container",children:[i.jsx(zue,{}),i.jsx($ue,{stats:P()}),i.jsx(que,{filterType:u,setFilterType:h,filterStatus:f,setFilterStatus:m,filterSeverity:g,setFilterSeverity:y,filterPriority:j,setFilterPriority:b,showOnlyMyAlerts:_,setShowOnlyMyAlerts:T}),i.jsx(Fue,{alerts:r,onSelectAlert:l,onAcknowledgeAlert:E,currentUserId:t?.id}),i.jsx(Hue,{alert:s,onClose:()=>l(null),onAcknowledge:E,onResolve:C,onAddComment:N,currentUserId:t?.id})]})})}function Gue({onRefresh:t}){const e=new Date().toLocaleString("pt-BR");return i.jsx("div",{className:"control-panel-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("div",{className:"header-info",children:i.jsx("div",{className:"header-text",children:i.jsx("h1",{children:"Painel de Controle"})})}),i.jsxs("div",{className:"header-actions",children:[i.jsx("div",{className:"last-update",children:i.jsxs("span",{children:["Ultima atualização: ",e]})}),i.jsx("button",{className:"refresh-btn",onClick:t,title:"Atualizar dados",children:i.jsx(kn,{})})]})]})})}function Wue({status:t,activeOrders:e,urgentOrders:n,blockedOrders:r}){const s=(()=>{switch(t){case"green":return{message:"Sistema Operando Normalmente",description:"Todos os processos estão funcionando dentro dos parâmetros esperados",color:"#48bb78"};case"yellow":return{message:"Atenção Necessária",description:"Alguns processos requerem monitoramento próximo",color:"#ed8936"};case"red":return{message:"Intervenção Urgente",description:"Problemas críticos detectados que requerem ação imediata",color:"#f56565"}}})();return i.jsxs("div",{className:"status-semaphore",children:[i.jsx("div",{className:"semaphore-header",children:i.jsx("h2",{children:"Status Geral do Sistema"})}),i.jsxs("div",{className:"semaphore-content",children:[i.jsxs("div",{className:"semaphore-lights",children:[i.jsx("div",{className:`light red ${t==="red"?"active":""}`,children:i.jsx(H1,{})}),i.jsx("div",{className:`light yellow ${t==="yellow"?"active":""}`,children:i.jsx(H1,{})}),i.jsx("div",{className:`light green ${t==="green"?"active":""}`,children:i.jsx(H1,{})})]}),i.jsxs("div",{className:"status-info",children:[i.jsx("h3",{style:{color:s.color},children:s.message}),i.jsx("p",{children:s.description})]})]}),i.jsxs("div",{className:"status-metrics",children:[i.jsxs("div",{className:"metric-card active",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:e}),i.jsx("span",{className:"metric-label",children:"Pedidos Ativos"})]})]}),i.jsxs("div",{className:"metric-card urgent",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:n}),i.jsx("span",{className:"metric-label",children:"Pedidos Urgentes"})]})]}),i.jsxs("div",{className:"metric-card blocked",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(_v,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:r}),i.jsx("span",{className:"metric-label",children:"Pedidos Bloqueados"})]})]})]})]})}function Yue({pendencies:t,onResolve:e}){const n=l=>{switch(l){case"urgent":return i.jsx(pt,{});case"high":return i.jsx(Ft,{});case"medium":return i.jsx(ts,{});case"low":return i.jsx(ts,{});default:return i.jsx(ts,{})}},r=l=>{switch(l){case"maintenance":return i.jsx(ef,{});case"quality":return i.jsx(oc,{});case"safety":return i.jsx(sP,{});case"process":return i.jsx(Ba,{});case"material":return i.jsx(ys,{});case"equipment":return i.jsx(ef,{});default:return i.jsx(ts,{})}},a=l=>{const u=new Date,h=new Date(l),f=Math.floor((u.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const m=Math.floor(f/60);return m<24?`${m}h atrás`:`${Math.floor(m/24)}d atrás`},s=l=>l.dueDate?new Date(l.dueDate)<new Date&&l.status!=="completed":!1;return i.jsxs("div",{className:"pendencies-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Principais Pendências"}),i.jsx("span",{className:"pendencies-count",children:t.length})]}),i.jsx("div",{className:"pendencies-list",children:t.length===0?i.jsxs("div",{className:"no-pendencies",children:[i.jsx(sr,{className:"success-icon"}),i.jsx("p",{children:"Nenhuma pendência no momento"})]}):t.map(l=>i.jsxs("div",{className:`pendency-item ${l.priority} ${s(l)?"overdue":""}`,children:[i.jsx("div",{className:"pendency-icon",children:n(l.priority)}),i.jsxs("div",{className:"pendency-content",children:[i.jsxs("div",{className:"pendency-header",children:[i.jsx("h3",{children:l.title}),i.jsx("span",{className:"pendency-time",children:a(l.createdAt)})]}),i.jsx("p",{className:"pendency-description",children:l.description}),i.jsxs("div",{className:"pendency-details",children:[i.jsxs("span",{className:"pendency-category",children:[r(l.category)," ",l.category]}),i.jsxs("span",{className:"pendency-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),l.assignedTo&&i.jsx("span",{className:"pendency-assigned",children:l.assignedTo.name})]}),s(l)&&i.jsxs("div",{className:"overdue-warning",children:[i.jsx(pt,{}),i.jsx("span",{children:"Pendência vencida"})]}),i.jsxs("div",{className:"pendency-footer",children:[i.jsxs("span",{className:"pendency-sector",children:["Setor: ",l.location.sector]}),i.jsxs("button",{className:"resolve-btn",onClick:()=>e(l.id),title:"Marcar como resolvido",children:[i.jsx(sr,{}),"Resolver"]})]})]})]},l.id))})]})}function Xue({alerts:t,onAcknowledge:e}){const n=l=>{switch(l){case"critical":return i.jsx(_v,{});case"high":return i.jsx(pt,{});case"medium":return i.jsx(oc,{});case"low":return i.jsx(ts,{});default:return i.jsx(ts,{})}},r=l=>{const u=new Date,h=new Date(l),f=Math.floor((u.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const m=Math.floor(f/60);return m<24?`${m}h atrás`:`${Math.floor(m/24)}d atrás`},a=t.filter(l=>l.status==="active"),s=t.filter(l=>l.status==="acknowledged");return i.jsxs("div",{className:"alerts-overview",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Alertas em Tempo Real"}),i.jsxs("div",{className:"alerts-badges",children:[i.jsx("span",{className:"badge critical",children:t.filter(l=>l.severity==="critical"&&l.status==="active").length}),i.jsx("span",{className:"badge warning",children:t.filter(l=>l.severity==="high"&&l.status==="active").length}),i.jsx("span",{className:"badge info",children:t.filter(l=>(l.severity==="medium"||l.severity==="low")&&l.status==="active").length})]})]}),i.jsx("div",{className:"alerts-container",children:a.length===0&&s.length===0?i.jsxs("div",{className:"no-alerts",children:[i.jsx(sr,{className:"success-icon"}),i.jsx("p",{children:"Nenhum alerta ativo"})]}):i.jsxs(i.Fragment,{children:[a.length>0&&i.jsxs("div",{className:"alerts-section",children:[i.jsxs("h3",{className:"section-title",children:[" ","Não reconhecidos (",a.length,")"]}),i.jsx("div",{className:"alerts-list",children:a.map(l=>i.jsxs("div",{className:`alert-item ${l.severity} unacknowledged`,children:[i.jsx("div",{className:"alert-icon",children:n(l.severity)}),i.jsxs("div",{className:"alert-content",children:[i.jsxs("div",{className:"alert-header",children:[i.jsx("h4",{children:l.title}),i.jsx("span",{className:"alert-time",children:r(l.createdAt)})]}),i.jsx("p",{className:"alert-message",children:l.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("span",{className:"alert-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),i.jsx("span",{className:"alert-source",children:l.source.name})]}),i.jsxs("button",{className:"acknowledge-btn",onClick:()=>e(l.id),title:"Reconhecer alerta",children:[i.jsx(sr,{}),"Reconhecer"]})]})]},l.id))})]}),s.length>0&&i.jsxs("div",{className:"alerts-section",children:[i.jsxs("h3",{className:"section-title",children:["Reconhecidos (",s.length,")"]}),i.jsx("div",{className:"alerts-list acknowledged",children:s.slice(0,3).map(l=>i.jsxs("div",{className:`alert-item ${l.severity} acknowledged`,children:[i.jsx("div",{className:"alert-icon",children:n(l.severity)}),i.jsxs("div",{className:"alert-content",children:[i.jsxs("div",{className:"alert-header",children:[i.jsx("h4",{children:l.title}),i.jsx("span",{className:"alert-time",children:r(l.createdAt)})]}),i.jsx("p",{className:"alert-message",children:l.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("span",{className:"alert-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),i.jsx("span",{className:"alert-source",children:l.source.name})]})]})]},l.id))})]})]})})]})}function Que({data:t}){const e=t.open+t.investigating+t.resolved,n=e>0?t.bySeverity.critical/e*100:0,r=()=>t.bySeverity.critical>5?"#e53e3e":t.bySeverity.critical>2?"#ed8936":"#48bb78";return i.jsxs("div",{className:"nonconformity-status",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("p",{children:"Status de Não Conformidade"}),i.jsxs("div",{className:"critical-indicator",style:{backgroundColor:r()},children:[i.jsx(oc,{}),i.jsxs("span",{children:[t.bySeverity.critical," criticas"]})]})]}),i.jsxs("div",{className:"status-overview",children:[i.jsxs("div",{className:"status-card",children:[i.jsx("span",{className:"card-number",children:e}),i.jsx("span",{className:"count-label",children:"Total de NCs"})]}),n>0&&i.jsxs("div",{className:"critical-percentage",children:[i.jsx("div",{className:"percentage-bar",children:i.jsx("div",{className:"percentage-fill",style:{width:`${Math.min(n,100)}%`}})}),i.jsxs("span",{className:"percentage-text",children:[n.toFixed(1),"% de criticas"]})]})]}),i.jsxs("div",{className:"status-cards",children:[i.jsxs("div",{className:"status-card open",children:[i.jsx("div",{className:"card-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.open}),i.jsx("span",{className:"card-label",children:"Abertas"})]})]}),i.jsxs("div",{className:"status-card progress",children:[i.jsx("div",{className:"card-icon",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.investigating}),i.jsx("span",{className:"card-label",children:"Em Andamento"})]})]}),i.jsxs("div",{className:"status-card resolved",children:[i.jsx("div",{className:"card-icon",children:i.jsx(Fr,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.resolved}),i.jsx("span",{className:"card-label",children:"Resolvidas"})]})]})]}),i.jsxs("div",{className:"quick-actions",children:[i.jsx("button",{className:"action-btn primary",children:"Ver todas as NCs"}),i.jsx("button",{className:"action-btn secondary",children:"Relatorio mensal"})]})]})}function Zue(){const t=Cs(),e=[{id:"generate-report",title:"Gerar Relatório",description:"Relatório completo de produção",icon:i.jsx(vu,{}),color:"blue",onClick:()=>t("/app/reports")},{id:"export-data",title:"Exportar Dados",description:"Exportar dados para Excel/PDF",icon:i.jsx(cs,{}),color:"green",onClick:()=>t("/app/reports")},{id:"system-config",title:"Configurações",description:"Configurar parâmetros do sistema",icon:i.jsx(Ba,{}),color:"gray",onClick:()=>t("/app/settings")},{id:"analytics",title:"Analytics",description:"Visualizar métricas detalhadas",icon:i.jsx(lr,{}),color:"purple",onClick:()=>t("/app/analytics")},{id:"emergency-stop",title:"Parada de Emergência",description:"Parar todos os processos críticos",icon:i.jsx(pt,{}),color:"red",onClick:()=>console.log("Emergency stop activated...")},{id:"team-management",title:"Gestão de Equipe",description:"Gerenciar operadores e turnos",icon:i.jsx(ns,{}),color:"orange",onClick:()=>t("/app/team-management")},{id:"schedule",title:"Programação",description:"Visualizar cronograma de produção",icon:i.jsx(Nf,{}),color:"teal",onClick:()=>t("/app/scheduling")},{id:"sync-data",title:"Sincronizar",description:"Sincronizar dados com ERP",icon:i.jsx(kn,{}),color:"indigo",onClick:()=>t("/app/data-sync")}];return i.jsxs("div",{className:"quick-actions",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Ações Rápidas"}),i.jsx("p",{children:"Ações rápidas para gerenciar a produção"})]}),i.jsx("div",{className:"actions-grid",children:e.map(n=>i.jsxs("button",{className:`action-card ${n.color}`,onClick:n.onClick,title:n.description,children:[i.jsx("div",{className:"action-icon",children:n.icon}),i.jsxs("div",{className:"action-content",children:[i.jsx("h3",{children:n.title}),i.jsx("p",{children:n.description})]})]},n.id))}),i.jsxs("div",{className:"emergency-section",children:[i.jsxs("div",{className:"emergency-header",children:[i.jsx(pt,{}),i.jsx("span",{children:"Acoes de emergencia"})]}),i.jsxs("div",{className:"emergency-actions",children:[i.jsx("button",{className:"emergency-btn stop",children:"Parada Geral"}),i.jsx("button",{className:"emergency-btn alert",children:"Alerta Crítico"})]})]})]})}function Jue(){Ha();const{hasToken:t,token:e}=WR(),{loading:n,error:r,stats:a,lastSync:s,refresh:l}=GR({accessToken:e||void 0,autoRefresh:!0,refreshInterval:3e4}),[u,h]=w.useState([]),[f,m]=w.useState({alerts:[],pendencies:[],nonConformities:{total:0,open:0,investigating:0,resolved:0,closed:0,bySeverity:{low:0,medium:0,high:0,critical:0},byPriority:{low:0,medium:0,high:0,urgent:0},byCategory:{quality:0,safety:0,process:0,equipment:0,material:0},bySector:{},productionStopped:0,requiresImmediateAction:0},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0},generalStatus:"green",activeOrders:0,urgentOrders:0,blockedOrders:0}),[g,y]=w.useState(!0);w.useEffect(()=>{const T=()=>{const C={generalStatus:t?a.urgentOrders>5?"red":a.urgentOrders>2?"yellow":"green":u.filter(N=>N.priority==="urgent").length>2?"yellow":"green",activeOrders:t?a.totalOrders:u.length,urgentOrders:t?a.urgentOrders:u.filter(N=>N.priority==="urgent").length,blockedOrders:t?a.cancelledOrders:u.filter(N=>N.status==="cancelled").length,pendencies:[{id:"1",type:"urgent",title:"Atraso na Produção",description:"Pedido #1234 com 2 horas de atraso",sector:"Montagem",timestamp:new Date(Date.now()-18e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Montagem",station:"Estação 1"},createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),attachments:[],comments:[]},{id:"2",type:"warning",title:"Manutenção Preventiva",description:"Equipamento X precisa de manutenção em 2 dias",sector:"Usinagem",timestamp:new Date(Date.now()-36e5).toISOString(),status:"inProgress",priority:"high",category:"maintenance",location:{sector:"Usinagem",station:"Estação 2"},createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),attachments:[],comments:[]},{id:"3",type:"info",title:"Novo Pedido Urgente",description:"Cliente VIP solicitou prioridade máxima",sector:"Planejamento",timestamp:new Date(Date.now()-9e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Planejamento"},createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),attachments:[],comments:[]}],alerts:[{id:"alert-001",title:"Alerta de Qualidade",description:"5 peças com dimensões fora do padrão detectadas na linha de produção",severity:"high",priority:"urgent",status:"active",location:{sector:"Produção",station:"Linha 01",equipment:"Máquina CNC-001"},relatedEntity:{id:"order-123",name:"Pedido #123 - Peças Mecânicas"},source:{id:"qc-system",name:"Sistema de Qualidade"},createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system",attachments:["relatorio_qualidade.pdf"],tags:["qualidade","produção"],recipients:[{id:"user-001",name:"João Silva",role:"Coordenador Qualidade",department:"Qualidade",acknowledged:!1},{id:"user-002",name:"Maria Santos",role:"Supervisor Produção",department:"Produção",acknowledged:!0}],comments:[]},{id:"alert-002",title:"Alerta de Equipamento",description:"Compressor apresentando ruído excessivo e vibração anormal",severity:"medium",priority:"high",status:"acknowledged",location:{sector:"Manutenção",station:"Área Técnica",equipment:"Compressor CP-005"},relatedEntity:{id:"equipment-005",name:"Compressor CP-005"},source:{id:"maintenance-system",name:"Sistema de Manutenção"},createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-18e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_vibracao.pdf"],tags:["manutenção","equipamento"],recipients:[{id:"user-003",name:"Pedro Costa",role:"Técnico Manutenção",department:"Manutenção",acknowledged:!0}],comments:[]},{id:"alert-003",title:"Alerta de Material",description:"Material com defeito visual identificado no recebimento",severity:"low",priority:"medium",status:"resolved",location:{sector:"Recebimento",station:"Dock 01"},relatedEntity:{id:"material-456",name:"Lote de Materiais #456"},source:{id:"warehouse-system",name:"Sistema de Almoxarifado"},createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system",resolvedAt:new Date(Date.now()-36e5).toISOString(),resolvedBy:"user-004",attachments:["fotos_material.jpg"],tags:["material","recebimento"],recipients:[{id:"user-004",name:"Ana Oliveira",role:"Supervisor Almoxarifado",department:"Almoxarifado",acknowledged:!0}],comments:[]},{id:"alert-004",title:"Alerta de Sistema",description:"Relatório semanal de produtividade disponível para análise",severity:"low",priority:"low",status:"acknowledged",location:{sector:"Administração"},relatedEntity:{id:"task-001",name:"Relatório Semanal"},source:{id:"report-system",name:"Sistema de Relatórios"},createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-36e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_semanal.pdf"],tags:["relatório","produtividade"],recipients:[{id:"user-003",name:"Pedro Costa",role:"admin",department:"Administração",acknowledged:!0}],comments:[]}],nonConformities:{total:0,open:Math.floor(Math.random()*8)+2,investigating:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*20)+10,closed:Math.floor(Math.random()*3),bySeverity:{low:Math.floor(Math.random()*5)+1,medium:Math.floor(Math.random()*8)+2,high:Math.floor(Math.random()*3)+1,critical:Math.floor(Math.random()*2)},byPriority:{low:Math.floor(Math.random()*4)+1,medium:Math.floor(Math.random()*6)+2,high:Math.floor(Math.random()*3)+1,urgent:Math.floor(Math.random()*2)},byCategory:{quality:Math.floor(Math.random()*5)+1,safety:Math.floor(Math.random()*3)+1,process:Math.floor(Math.random()*8)+2,equipment:Math.floor(Math.random()*4)+1,material:Math.floor(Math.random()*6)+2},bySector:{Montagem:Math.floor(Math.random()*5)+1,Usinagem:Math.floor(Math.random()*3)+1,Planejamento:Math.floor(Math.random()*2)+1,Recebimento:Math.floor(Math.random()*4)+1,Administração:Math.floor(Math.random()*3)+1},productionStopped:Math.floor(Math.random()*3),requiresImmediateAction:Math.floor(Math.random()*2)},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0}};C.stats.totalAlerts=C.alerts.length,C.stats.activeAlerts=C.alerts.filter(N=>N.status==="active").length,C.stats.totalPendencies=C.pendencies.length,C.nonConformities.total=C.nonConformities.open+C.nonConformities.investigating+C.nonConformities.resolved+C.nonConformities.closed,C.stats.totalNonConformities=C.nonConformities.total,m(C),y(!1)};T();const E=setInterval(T,3e4);return()=>clearInterval(E)},[]);const j=T=>{m(E=>({...E,alerts:E.alerts.map(C=>C.id===T?{...C,status:"acknowledged"}:C)}))},b=T=>{m(E=>({...E,pendencies:E.pendencies.filter(C=>C.id!==T)}))},_=async()=>{y(!0);try{await l()}catch(T){console.error("Erro ao atualizar dados:",T)}finally{y(!1)}};return g||n?i.jsx("div",{className:"control-panel-container",children:i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando painel de controle..."}),n&&i.jsx("p",{children:"Carregando dados do Bling..."})]})}):i.jsxs("div",{className:"control-panel-container",children:[i.jsx(Gue,{onRefresh:_}),t?i.jsx(XR,{hasToken:t,lastSync:s,error:r,onConfigure:()=>window.location.href="/bling-integration"}):i.jsx(QR,{onDataChange:h}),i.jsxs("div",{className:"control-panel-grid",children:[i.jsx("div",{className:"semaphore-section",children:i.jsx(Wue,{status:f.generalStatus,activeOrders:f.activeOrders,urgentOrders:f.urgentOrders,blockedOrders:f.blockedOrders})}),i.jsx("div",{className:"alerts-section",children:i.jsx(Xue,{alerts:f.alerts,onAcknowledge:j})}),i.jsx("div",{className:"pendencies-section",children:i.jsx(Yue,{pendencies:f.pendencies,onResolve:b})}),i.jsx("div",{className:"nonconformity-section",children:i.jsx(Que,{data:f.nonConformities})}),i.jsx("div",{className:"actions-section",children:i.jsx(Zue,{})})]})]})}function ede(){const{urgentOrders:t,scheduleChanges:e,config:n,isProcessing:r,lastRecalculation:a,nextRecalculation:s,stats:l,manualRecalculation:u,updateConfig:h,notifyChange:f}=rG();w.useEffect(()=>{t.length},[t.length]);const m=async()=>{await u()},g=()=>{h({autoRecalculation:!n.autoRecalculation})},y=(b,_)=>{h({[b]:_})},j=b=>{const _=Math.floor(b/60),T=b%60;return _>0?`${_}h ${T}m`:`${T}m`};return i.jsx("div",{className:"priority-optimization-page",children:i.jsx("div",{className:"priority-optimization-container",children:i.jsxs("div",{className:"priority-optimization-content",children:[i.jsxs("div",{className:"optimization-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Otimização de Prioridades"}),i.jsx("p",{children:"Sistema de recálculo automático de agendas para pedidos urgentes"})]}),i.jsx("div",{className:"header-actions",children:i.jsxs("button",{className:`action-btn ${r?"processing":""}`,onClick:m,disabled:r,children:[r?i.jsx(kn,{className:"spinning"}):i.jsx(kn,{}),r?"Processando...":"Recalcular Agora"]})})]}),i.jsxs("div",{className:"status-cards",children:[i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon urgent",children:i.jsx(pt,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Pedidos Urgentes"}),i.jsx("span",{className:"card-value",children:l.totalUrgentOrders})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon processing",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Em Processamento"}),i.jsx("span",{className:"card-value",children:l.processingOrders})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon changes",children:i.jsx(ns,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Mudanças de Agenda"}),i.jsx("span",{className:"card-value",children:l.totalScheduleChanges})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon efficiency",children:i.jsx(Uh,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Eficiência Otimização"}),i.jsxs("span",{className:"card-value",children:[Math.round(l.efficiency),"%"]})]})]})]}),i.jsxs("div",{className:"config-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Configurações de Otimização"}),i.jsx(Ba,{})]}),i.jsxs("div",{className:"config-grid",children:[i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.autoRecalculation,onChange:g}),"Recálculo Automático"]})}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Intervalo de Recálculo (minutos)"}),i.jsx("input",{type:"number",value:n.recalculateInterval,onChange:b=>y("recalculateInterval",parseInt(b.target.value)),min:"5",max:"1440"})]}),i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.notifyOperators,onChange:b=>y("notifyOperators",b.target.checked)}),"Notificar Operadores"]})}),i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.notifyCoordinators,onChange:b=>y("notifyCoordinators",b.target.checked)}),"Notificar Coordenadores"]})}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Delay Máximo Permitido (minutos)"}),i.jsx("input",{type:"number",value:n.maxDelayAllowed,onChange:b=>y("maxDelayAllowed",parseInt(b.target.value)),min:"0",max:"480"})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Limiar de Prioridade"}),i.jsxs("select",{value:n.priorityThreshold,onChange:b=>y("priorityThreshold",b.target.value),children:[i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"urgent",children:"Urgente"}),i.jsx("option",{value:"critical",children:"Crítico"})]})]})]}),i.jsxs("div",{className:"recalculation-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Última Recálculo:"}),i.jsx("span",{className:"info-value",children:a?a.toLocaleString("pt-BR"):"Nunca"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Próximo Recálculo:"}),i.jsx("span",{className:"info-value",children:s?s.toLocaleString("pt-BR"):"Não agendado"})]})]})]}),i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Pedidos Urgentes Processados"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"filter-btn active",children:"Todos"}),i.jsx("button",{className:"filter-btn",children:"Processando"}),i.jsx("button",{className:"filter-btn",children:"Concluídos"})]})]}),i.jsx("div",{className:"orders-list",children:t.map(b=>i.jsxs("div",{className:"order-card",children:[i.jsxs("div",{className:"order-header",children:[i.jsx("div",{className:"order-id",children:b.id}),i.jsx("div",{className:`priority-badge ${b.priority}`,children:b.priority==="urgent"?"Urgente":"Crítico"}),i.jsxs("div",{className:`status-badge ${b.status}`,children:[b.status==="pending"&&"Pendente",b.status==="processing"&&"Processando",b.status==="completed"&&"Concluído",b.status==="failed"&&"Falhou"]})]}),i.jsxs("div",{className:"order-content",children:[i.jsxs("div",{className:"order-info",children:[i.jsx("h3",{children:b.productName}),i.jsxs("p",{children:["Quantidade: ",b.quantity," unidades"]}),i.jsxs("p",{children:["Prazo Original:"," ",new Date(b.originalDeadline).toLocaleString("pt-BR")]}),i.jsxs("p",{children:["Novo Prazo:"," ",new Date(b.newDeadline).toLocaleString("pt-BR")]})]}),i.jsxs("div",{className:"order-impact",children:[i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Tarefas Afetadas:"}),i.jsx("span",{className:"impact-value",children:b.affectedTasks})]}),i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Operadores Afetados:"}),i.jsx("span",{className:"impact-value",children:b.affectedOperators})]}),i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Delay Estimado:"}),i.jsx("span",{className:"impact-value",children:j(b.estimatedDelay)})]})]})]}),i.jsxs("div",{className:"order-actions",children:[i.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),i.jsxs("button",{className:"action-btn notify",children:[i.jsx(Gl,{}),"Notificar"]})]})]},b.id))})]}),i.jsxs("div",{className:"changes-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Mudanças de Agenda"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"filter-btn active",children:"Todas"}),i.jsx("button",{className:"filter-btn",children:"Não Notificadas"}),i.jsx("button",{className:"filter-btn",children:"Alto Impacto"})]})]}),i.jsx("div",{className:"changes-list",children:e.map(b=>i.jsxs("div",{className:"change-card",children:[i.jsxs("div",{className:"change-header",children:[i.jsx("div",{className:"change-id",children:b.id}),i.jsx("div",{className:`impact-badge ${b.impact}`,children:b.impact==="low"?"Baixo":b.impact==="medium"?"Médio":"Alto"}),i.jsxs("div",{className:`notification-status ${b.notified?"notified":"pending"}`,children:[b.notified?i.jsx(Fr,{}):i.jsx(pB,{}),b.notified?"Notificado":"Pendente"]})]}),i.jsxs("div",{className:"change-content",children:[i.jsxs("div",{className:"change-info",children:[i.jsxs("h3",{children:["Operador: ",b.operatorName]}),i.jsxs("p",{children:["Motivo: ",b.reason]}),i.jsxs("p",{children:["Pedido: ",b.orderId]})]}),i.jsx("div",{className:"schedule-comparison",children:i.jsxs("div",{className:"time-comparison",children:[i.jsxs("div",{className:"original-time",children:[i.jsx("span",{className:"time-label",children:"Horário Original"}),i.jsxs("span",{className:"time-value",children:[b.originalStartTime," -"," ",b.originalEndTime]})]}),i.jsx("div",{className:"arrow",children:i.jsx(z2,{})}),i.jsxs("div",{className:"new-time",children:[i.jsx("span",{className:"time-label",children:"Novo Horário"}),i.jsxs("span",{className:"time-value",children:[b.newStartTime," - ",b.newEndTime]})]})]})})]}),i.jsxs("div",{className:"change-actions",children:[i.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),!b.notified&&i.jsxs("button",{className:"action-btn notify",onClick:()=>f(b.id),children:[i.jsx(Gl,{}),"Notificar"]})]})]},b.id))})]})]})})})}function tde({accessToken:t,onOrderSelect:e}){const[n,r]=w.useState([]),[a,s]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(""),[m,g]=w.useState(""),[y,j]=w.useState(1),[b,_]=w.useState(1),T=[{value:"",label:"Todos os Status"},{value:"em_aberto",label:"Em Aberto"},{value:"em_producao",label:"Em Produção"},{value:"aguardando_producao",label:"Aguardando Produção"},{value:"concluido",label:"Concluído"},{value:"cancelado",label:"Cancelado"}];w.useEffect(()=>{t&&E()},[t,y,m]);const E=async()=>{if(t){s(!0),u(null);try{Rt.setAccessToken(t);const O=await Rt.getOrders(y,20,{situacao:m||void 0});r(O.data),_(Math.ceil(O.total/20))}catch(O){u(O instanceof Error?O.message:"Erro ao carregar pedidos")}finally{s(!1)}}},C=()=>{E()},N=n.filter(O=>h===""||O.numero.toLowerCase().includes(h.toLowerCase())||O.cliente.nome.toLowerCase().includes(h.toLowerCase())||O.itens.some(B=>B.descricao.toLowerCase().includes(h.toLowerCase()))),P=O=>{const B={em_aberto:{label:"Em Aberto",class:"status-open"},em_producao:{label:"Em Produção",class:"status-production"},aguardando_producao:{label:"Aguardando",class:"status-waiting"},concluido:{label:"Concluído",class:"status-completed"},cancelado:{label:"Cancelado",class:"status-cancelled"}}[O]||{label:O,class:"status-default"};return i.jsx("span",{className:`status-badge ${B.class}`,children:B.label})},k=O=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(O),M=O=>new Date(O).toLocaleDateString("pt-BR");return t?i.jsxs("div",{className:"bling-orders-list",children:[i.jsxs("div",{className:"orders-header",children:[i.jsx("h2",{children:"Pedidos do Bling"}),i.jsx("div",{className:"header-actions",children:i.jsxs("button",{className:"btn btn-outline",onClick:C,disabled:a,children:[i.jsx(kn,{className:a?"spinning":""}),"Atualizar"]})})]}),i.jsxs("div",{className:"orders-filters",children:[i.jsx("div",{className:"filter-group",children:i.jsxs("div",{className:"search-input",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar por número, cliente ou produto...",value:h,onChange:O=>f(O.target.value)})]})}),i.jsx("div",{className:"filter-group",children:i.jsx("select",{value:m,onChange:O=>g(O.target.value),children:T.map(O=>i.jsx("option",{value:O.value,children:O.label},O.value))})})]}),i.jsxs("div",{className:"orders-content",children:[a&&i.jsxs("div",{className:"loading-state",children:[i.jsx(kn,{className:"spinning"}),i.jsx("p",{children:"Carregando pedidos..."})]}),l&&i.jsxs("div",{className:"error-state",children:[i.jsx("p",{children:l}),i.jsx("button",{className:"btn btn-primary",onClick:C,children:"Tentar Novamente"})]}),!a&&!l&&N.length===0&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"Nenhum pedido encontrado"})}),!a&&!l&&N.length>0&&i.jsx("div",{className:"orders-grid",children:N.map(O=>i.jsxs("div",{className:"order-card",children:[i.jsxs("div",{className:"order-header",children:[i.jsxs("div",{className:"order-number",children:[i.jsx("h3",{children:O.numero}),P(O.situacao)]}),i.jsx("div",{className:"order-date",children:M(O.data)})]}),i.jsxs("div",{className:"order-customer",children:[i.jsx("h4",{children:O.cliente.nome}),O.cliente.email&&i.jsx("p",{className:"customer-email",children:O.cliente.email})]}),i.jsxs("div",{className:"order-items",children:[i.jsxs("h5",{children:["Itens (",O.itens.length,")"]}),i.jsxs("div",{className:"items-list",children:[O.itens.slice(0,2).map((D,B)=>i.jsxs("div",{className:"item",children:[i.jsxs("span",{className:"item-quantity",children:[D.quantidade,"x"]}),i.jsx("span",{className:"item-description",children:D.descricao})]},B)),O.itens.length>2&&i.jsxs("div",{className:"more-items",children:["+",O.itens.length-2," itens"]})]})]}),i.jsxs("div",{className:"order-footer",children:[i.jsx("div",{className:"order-total",children:i.jsx("strong",{children:k(O.total)})}),i.jsx("div",{className:"order-actions",children:i.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>e?.(O),children:[i.jsx(Xu,{}),"Ver Detalhes"]})})]})]},O.id))}),b>1&&i.jsxs("div",{className:"pagination",children:[i.jsx("button",{className:"btn btn-outline",onClick:()=>j(O=>Math.max(1,O-1)),disabled:y===1,children:"Anterior"}),i.jsxs("span",{className:"page-info",children:["Página ",y," de ",b]}),i.jsx("button",{className:"btn btn-outline",onClick:()=>j(O=>Math.min(b,O+1)),disabled:y===b,children:"Próxima"})]})]})]}):i.jsx("div",{className:"bling-orders-list",children:i.jsxs("div",{className:"no-access",children:[i.jsx("h3",{children:"Configure a integração com Bling"}),i.jsx("p",{children:"É necessário configurar o Access Token para visualizar os pedidos."})]})})}function nde(){const{testConnection:t,importOrders:e,getImportHistory:n,getConfiguration:r,updateConfiguration:a}=aG(),[s,l]=w.useState({clientId:"ea0ed893739830a936ff759edda059ba1d09286c",clientSecret:"c4ef9d26e1cc794e456ec7b5d7913aeb2904527d775895505ccf5e1505d9",baseUrl:"https://api.bling.com.br/Api/v3",accessToken:"",autoSync:!1,syncInterval:parseInt("30")}),[u,h]=w.useState([]),[f,m]=w.useState(!1),[g,y]=w.useState(!1),[j,b]=w.useState("config"),[_,T]=w.useState("unknown"),[E,C]=w.useState("token");w.useEffect(()=>{N()},[]),w.useEffect(()=>{console.log("Configuração atualizada:",s),console.log("Botão desabilitado:",!s.accessToken),console.log("Access Token:",s.accessToken?"Configurado":"Não configurado")},[s]);const N=async()=>{try{console.log("Carregando dados iniciais..."),console.log("Configuração atual:",s),console.log("Access Token inicial:",s.accessToken);const V=await r();if(console.log("Configuração salva:",V),console.log("Access Token na configuração salva:",V?.accessToken),V){const z={...s,...V,clientId:V.clientId||s.clientId,clientSecret:V.clientSecret||s.clientSecret,accessToken:V.accessToken||s.accessToken};console.log("Nova configuração mesclada:",z),console.log("Access Token na nova configuração:",z.accessToken),l(z)}else console.log("Nenhuma configuração salva encontrada, usando valores padrão"),console.log("Access Token padrão:",s.accessToken);const L=await n();L&&h(L)}catch(V){console.error("Erro ao carregar dados iniciais:",V)}},P=async()=>{if(console.log("Botão clicado! Função handleTestConnection chamada"),console.log("Estado atual - testing:",f),console.log("Estado atual - config:",s),console.log("Access Token válido:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de testar a conexão");return}m(!0);try{const V=await t(s);console.log("Resultado do teste:",V),V.success?(T("connected"),alert("Conexão com Bling estabelecida com sucesso!")):(T("failed"),alert(`Falha na conexão: ${V.error}`))}catch(V){console.error("Erro no teste de conexão:",V),T("failed"),alert("Erro ao testar conexão")}finally{m(!1)}},k=async()=>{try{console.log("Salvando configuração:",s),console.log("Access Token sendo salvo:",s.accessToken),await a(s),alert("Configuração salva com sucesso!")}catch(V){console.error("Erro ao salvar configuração:",V),alert("Erro ao salvar configuração")}},M=()=>{try{const V=Rt.getAuthorizationUrl();window.location.href=V}catch(V){console.error("Erro ao iniciar OAuth:",V),alert("Erro ao iniciar processo de autorização")}},O=()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),l(V=>({...V,accessToken:""})),T("unknown"),alert("Desconectado com sucesso!")},D=async()=>{if(console.log("Tentando importar ordens..."),console.log("Access Token disponível:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de importar ordens");return}y(!0);try{const V=await e(s);if(V.success){const L={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"success",message:"Importação realizada com sucesso",details:`${V.importedCount} ordens importadas`,ordersCount:V.importedCount,errorsCount:V.errorCount||0};h(z=>[L,...z]),alert(`Importação concluída! ${V.importedCount} ordens importadas.`)}else{const L={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Falha na importação",details:V.error||"Erro desconhecido"};h(z=>[L,...z]),alert(`Erro na importação: ${V.error}`)}}catch{const L={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Erro na importação",details:"Erro inesperado durante a importação"};h(z=>[L,...z]),alert("Erro inesperado durante a importação")}finally{y(!1)}},B=V=>{switch(V){case"success":return i.jsx(Fr,{className:"status-icon success"});case"error":return i.jsx(pt,{className:"status-icon error"});case"warning":return i.jsx(pt,{className:"status-icon warning"});default:return i.jsx(Ft,{className:"status-icon info"})}},F=V=>{switch(V){case"success":return"success";case"error":return"error";case"warning":return"warning";default:return"info"}};return i.jsx("div",{className:"bling-integration-page",children:i.jsxs("div",{className:"bling-integration-container",children:[i.jsxs("div",{className:"bling-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(YE,{className:"header-icon"}),"Integração Bling"]}),i.jsx("p",{children:"Configure e gerencie a integração com a API do Bling para importação de ordens de produção"})]}),i.jsx("div",{className:"header-status",children:i.jsxs("div",{className:`connection-status ${_}`,children:[_==="connected"&&i.jsx(Fr,{}),_==="failed"&&i.jsx(pt,{}),_==="unknown"&&i.jsx(Ft,{}),i.jsxs("span",{children:[_==="connected"&&"Conectado",_==="failed"&&"Falha na Conexão",_==="unknown"&&"Não Testado"]})]})})]}),i.jsxs("div",{className:"bling-tabs",children:[i.jsxs("button",{className:`tab-button ${j==="config"?"active":""}`,onClick:()=>b("config"),children:[i.jsx(Ba,{}),"Configuração"]}),i.jsxs("button",{className:`tab-button ${j==="import"?"active":""}`,onClick:()=>b("import"),children:[i.jsx(cs,{}),"Importação"]}),i.jsxs("button",{className:`tab-button ${j==="orders"?"active":""}`,onClick:()=>b("orders"),children:[i.jsx(iP,{}),"Pedidos"]}),i.jsxs("button",{className:`tab-button ${j==="history"?"active":""}`,onClick:()=>b("history"),children:[i.jsx(aB,{}),"Histórico"]}),i.jsxs("button",{className:`tab-button ${j==="logs"?"active":""}`,onClick:()=>b("logs"),children:[i.jsx(vu,{}),"Logs"]})]}),i.jsxs("div",{className:"tab-content",children:[j==="config"&&i.jsxs("div",{className:"config-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Configuração da API"}),i.jsx("p",{children:"Configure os parâmetros de conexão com a API do Bling"})]}),i.jsxs("div",{className:"config-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Método de Autenticação"}),i.jsxs("div",{className:"auth-method-selector",children:[i.jsxs("button",{type:"button",className:`auth-method-btn ${E==="oauth"?"active":""}`,onClick:()=>C("oauth"),children:[i.jsx(Sv,{}),"OAuth 2.0 (Recomendado)"]}),i.jsxs("button",{type:"button",className:`auth-method-btn ${E==="token"?"active":""}`,onClick:()=>C("token"),children:[i.jsx(YE,{}),"Token Manual"]})]})]}),E==="oauth"&&i.jsxs("div",{className:"oauth-section",children:[i.jsxs("div",{className:"oauth-info",children:[i.jsx("h3",{children:"Autorização OAuth 2.0"}),i.jsx("p",{children:"Conecte-se de forma segura usando OAuth 2.0 do Bling"})]}),s.accessToken?i.jsxs("div",{className:"connected-status",children:[i.jsx(Fr,{className:"success-icon"}),i.jsxs("div",{children:[i.jsx("h4",{children:"Conectado com Sucesso!"}),i.jsx("p",{children:"Você está autorizado a acessar a API do Bling"})]}),i.jsx("button",{type:"button",className:"btn btn-outline",onClick:O,children:"Desconectar"})]}):i.jsxs("div",{className:"oauth-actions",children:[i.jsxs("button",{type:"button",className:"btn btn-primary oauth-btn",onClick:M,children:[i.jsx(JL,{}),"Autorizar com Bling"]}),i.jsx("p",{className:"oauth-description",children:"Você será redirecionado para o Bling para autorizar o acesso"})]})]}),E==="token"&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Access Token OAuth"}),i.jsx(Ye,{name:"accessToken",type:"password",value:s.accessToken,onChange:V=>l(L=>({...L,accessToken:V.target.value})),placeholder:"Digite seu Access Token OAuth do Bling"}),i.jsx("div",{style:{fontSize:"0.8rem",color:s.accessToken?"#48bb78":"#e53e3e",marginTop:"0.25rem"},children:s.accessToken?"✅ Access Token configurado":"❌ Access Token necessário"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Obtenha seu Access Token através do fluxo OAuth 2.0 no painel do Bling"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Client ID (Opcional)"}),i.jsx(Ye,{name:"clientId",type:"text",value:s.clientId,onChange:V=>l(L=>({...L,clientId:V.target.value})),placeholder:"Digite seu Client ID do Bling (opcional)"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Client ID é opcional para API v3 com Bearer tokens"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Client Secret (Opcional)"}),i.jsx(Ye,{name:"clientSecret",type:"password",value:s.clientSecret,onChange:V=>l(L=>({...L,clientSecret:V.target.value})),placeholder:"Digite seu Client Secret do Bling (opcional)"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Client Secret é opcional para API v3 com Bearer tokens"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"URL Base"}),i.jsx(Ye,{name:"baseUrl",type:"text",value:s.baseUrl,onChange:V=>l(L=>({...L,baseUrl:V.target.value})),placeholder:"https://api.bling.com.br/Api/v3"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ URL padrão da API v3 do Bling"})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:s.autoSync,onChange:V=>l(L=>({...L,autoSync:V.target.checked}))}),"Sincronização Automática"]})}),s.autoSync&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Intervalo de Sincronização (minutos)"}),i.jsx(Ye,{name:"syncInterval",type:"number",value:s.syncInterval.toString(),onChange:V=>l(L=>({...L,syncInterval:parseInt(V.target.value)||30})),placeholder:"30"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn btn-outline",onClick:P,disabled:f||!s.accessToken,style:{padding:"0.75rem 1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",background:f||!s.accessToken?"#f7fafc":"white",color:f||!s.accessToken?"#a0aec0":"#4a5568",cursor:f||!s.accessToken?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:f?"Testando...":"Testar Conexão"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#4a5568",marginTop:"0.5rem"},children:f?"⏳ Testando conexão...":s.accessToken?"✅ Pronto para testar":"❌ Configure o Access Token"}),i.jsx(Ge,{onClick:k,children:"Salvar Configuração"})]})]})]}),j==="import"&&i.jsxs("div",{className:"import-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Importação de Ordens"}),i.jsx("p",{children:"Importe ordens de produção do Bling para o sistema"})]}),i.jsxs("div",{className:"import-actions",children:[i.jsxs("div",{className:"import-info",children:[i.jsxs("div",{className:"info-card",children:[i.jsx(q2,{className:"info-icon"}),i.jsxs("div",{children:[i.jsx("h3",{children:"Última Importação"}),i.jsx("p",{children:s.lastSync?new Date(s.lastSync).toLocaleString("pt-BR"):"Nunca"})]})]}),i.jsxs("div",{className:"info-card",children:[i.jsx(Ft,{className:"info-icon"}),i.jsxs("div",{children:[i.jsx("h3",{children:"Próxima Sincronização"}),i.jsx("p",{children:s.nextSync?new Date(s.nextSync).toLocaleString("pt-BR"):"Não agendada"})]})]})]}),i.jsx("div",{className:"import-controls",children:i.jsxs(Ge,{variant:"primary",onClick:D,disabled:g||_!=="connected",children:[g?i.jsx(kn,{className:"spinning"}):i.jsx(cs,{}),g?"Importando...":"Importar Ordens"]})})]})]}),j==="orders"&&i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Pedidos do Bling"}),i.jsx("p",{children:"Visualize e gerencie os pedidos importados do Bling"})]}),i.jsx(tde,{accessToken:s.accessToken,onOrderSelect:V=>{console.log("Pedido selecionado:",V)}})]}),j==="history"&&i.jsxs("div",{className:"history-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Histórico de Importações"}),i.jsx("p",{children:"Visualize o histórico completo de importações realizadas"})]}),i.jsxs("div",{className:"history-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Data/Hora"}),i.jsx("div",{children:"Tipo"}),i.jsx("div",{children:"Mensagem"}),i.jsx("div",{children:"Detalhes"}),i.jsx("div",{children:"Ordens"}),i.jsx("div",{children:"Erros"})]}),u.map(V=>i.jsxs("div",{className:`table-row ${F(V.type)}`,children:[i.jsx("div",{children:new Date(V.timestamp).toLocaleString("pt-BR")}),i.jsxs("div",{className:"log-type",children:[B(V.type),i.jsx("span",{children:V.type})]}),i.jsx("div",{children:V.message}),i.jsx("div",{children:V.details||"—"}),i.jsx("div",{children:V.ordersCount||"—"}),i.jsx("div",{children:V.errorsCount||"—"})]},V.id))]})]}),j==="logs"&&i.jsxs("div",{className:"logs-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Logs do Sistema"}),i.jsx("p",{children:"Monitore os logs detalhados de todas as operações"})]}),i.jsxs("div",{className:"logs-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Tipo:"}),i.jsxs("select",{children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"success",children:"Sucesso"}),i.jsx("option",{value:"error",children:"Erro"}),i.jsx("option",{value:"warning",children:"Aviso"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Data:"}),i.jsx("input",{type:"date"})]}),i.jsx(Ge,{variant:"outline",children:"Filtrar"})]}),i.jsx("div",{className:"logs-list",children:u.map(V=>i.jsxs("div",{className:`log-item ${F(V.type)}`,children:[i.jsxs("div",{className:"log-header",children:[i.jsx("div",{className:"log-timestamp",children:new Date(V.timestamp).toLocaleString("pt-BR")}),i.jsxs("div",{className:"log-type-badge",children:[B(V.type),V.type]})]}),i.jsx("div",{className:"log-message",children:V.message}),V.details&&i.jsxs("div",{className:"log-details",children:[i.jsx("strong",{children:"Detalhes:"})," ",V.details]}),i.jsxs("div",{className:"log-metrics",children:[V.ordersCount!==void 0&&i.jsxs("span",{className:"metric",children:[i.jsx(cs,{})," ",V.ordersCount," ordens"]}),V.errorsCount!==void 0&&i.jsxs("span",{className:"metric error",children:[i.jsx(pt,{})," ",V.errorsCount," erros"]})]})]},V.id))})]})]})]})})}function cg(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const rde=async(t,e)=>{if(!t.productId)throw new Error("Produto é obrigatório");if(!t.steps||t.steps.length===0)throw new Error("Pelo menos uma etapa é obrigatória");if(!t.primarySectorId)throw new Error("Setor primário é obrigatório");const n=cg({...t,createdBy:e,updatedBy:e});if(n.id){const s=qt(Ze,"operationalRoutes",n.id);return await rd(s,cg({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),n.id}const r=or(Ze,"operationalRoutes"),a=await Yv(r,cg({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Kr(a,{id:a.id}),a.id},ade=async(t,e,n)=>{const r=qt(Ze,"operationalRoutes",t);await Kr(r,cg({...e,updatedBy:n,updatedAt:new Date().toISOString()}))},C9=async t=>{const e=qt(Ze,"operationalRoutes",t);await yw(e)},O9=async()=>{try{const t=or(Ze,"operationalRoutes");return(await ga(t)).docs.map(n=>({...n.data(),id:n.id}))}catch(t){throw console.error("Erro ao listar roteiros:",t),t}},ide=async(t,e)=>{try{const n=or(Ze,"operationalRoutes"),r=Ma(n,Sr("productId","==",t),Sr("version","==",e));return!(await ga(r)).empty}catch(n){return console.error("Erro ao verificar existência do roteiro:",n),!1}};function sde(){const{user:t}=Ha(),[e,n]=w.useState({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),[r,a]=w.useState([]),[s,l]=w.useState([]),[u,h]=w.useState([]),[f,m]=w.useState([]),[g,y]=w.useState({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),[j,b]=w.useState(""),[_,T]=w.useState(!1),[E,C]=w.useState(null),[N,P]=w.useState({}),[k,M]=w.useState(!1);w.useEffect(()=>{(async()=>{try{M(!0);const Y=[{id:"1",code:"PROD001",name:"Produto A",description:"Descrição do produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrição do produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrição do produto C",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}],pe=[{id:"1",name:"Corte",code:"CORTE"},{id:"2",name:"Montagem",code:"MONT"},{id:"3",name:"Acabamento",code:"ACAB"},{id:"4",name:"Qualidade",code:"QUAL"},{id:"5",name:"Preparação",code:"PREP"}],je=[{id:"1",name:"João Silva",code:"OP001"},{id:"2",name:"Maria Santos",code:"OP002"},{id:"3",name:"Carlos Mendes",code:"OP003"},{id:"4",name:"Ana Oliveira",code:"OP004"}];l(Y),h(pe),m(je);const _e=await O9();a(_e)}catch(Y){console.error("Erro ao carregar dados:",Y),alert("Erro ao carregar dados dos roteiros operacionais")}finally{M(!1)}})()},[]);const O=async()=>{const q={};e.productId||(q.productId="Produto é obrigatório"),e.primarySectorId||(q.primarySectorId="Setor primário é obrigatório"),e.version.trim()||(q.version="Versão é obrigatória"),/^\d+\.\d+$/.test(e.version)||(q.version="Formato de versão inválido. Use o formato X.Y (ex: 1.0, 2.1)"),e.steps.length===0&&(q.steps="Pelo menos uma etapa é obrigatória"),e.steps.forEach((je,_e)=>{je.name.trim()||(q[`step${_e}Name`]=`Nome da etapa ${_e+1} é obrigatório`),je.standardTime<=0&&(q[`step${_e}StandardTime`]=`Tempo padrão da etapa ${_e+1} deve ser maior que 0`),je.sequence<=0&&(q[`step${_e}Sequence`]=`Sequência da etapa ${_e+1} deve ser maior que 0`),je.sectorId||(q[`step${_e}SectorId`]=`Setor da etapa ${_e+1} é obrigatório`)});const pe=e.steps.map(je=>je.sequence).sort((je,_e)=>je-_e);for(let je=0;je<pe.length;je++)if(pe[je]!==je+1){q.steps="As etapas devem ter sequência sequencial (1, 2, 3, ...)";break}if(!_&&e.productId&&e.version)try{await ide(e.productId,e.version)&&(q.version="Já existe um roteiro com esta versão para este produto")}catch(je){console.error("Erro ao verificar existência do roteiro:",je),q.version="Erro ao verificar versão existente"}return P(q),Object.keys(q).length===0},D=async q=>{if(q.preventDefault(),!t){alert("Usuário não autenticado");return}if(!await O())return;const Y=s.find(He=>He.id===e.productId);if(!Y){alert("Produto selecionado não encontrado");return}if(!u.find(He=>He.id===e.primarySectorId)){alert("Setor selecionado não encontrado");return}const je=e.steps.reduce((He,qe)=>He+qe.standardTime,0),_e=e.steps.reduce((He,qe)=>He+qe.setupTime,0);try{M(!0);const He={productId:e.productId,productCode:Y.code,productName:Y.name,productDescription:Y.description,productCategory:Y.category,version:e.version,status:e.status,primarySectorId:e.primarySectorId,assignedOperatorId:e.assignedOperatorId||void 0,steps:e.steps.map((qe,ye)=>({...qe,sequence:ye+1})),totalStandardTime:je,totalSetupTime:_e,totalSteps:e.steps.length,createdBy:t.id,updatedBy:t.id};if(_&&E)await ade(E,He,t.id),a(qe=>qe.map(ye=>ye.id===E?{...ye,...He,updatedAt:new Date().toISOString(),updatedBy:t.id}:ye)),T(!1),C(null),alert("Roteiro operacional atualizado com sucesso!");else{const ye={id:await rde(He,t.id),...He,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(Me=>[ye,...Me]),alert("Roteiro operacional criado com sucesso!")}B()}catch(He){console.error("Erro ao salvar roteiro:",He);const qe=He instanceof Error?He.message:"Erro desconhecido";alert(`Erro ao salvar roteiro: ${qe}`)}finally{M(!1)}},B=()=>{n({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),y({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),b(""),P({})},F=q=>{T(!0),C(q.id),n({productId:q.productId,version:q.version,status:q.status,primarySectorId:q.primarySectorId,assignedOperatorId:q.assignedOperatorId,steps:q.steps}),window.scrollTo({top:0,behavior:"smooth"})},V=async q=>{if(window.confirm(`Tem certeza que deseja excluir este roteiro operacional?

Esta ação não pode ser desfeita.`))try{M(!0),await C9(q),a(Y=>Y.filter(pe=>pe.id!==q)),alert("Roteiro operacional excluído com sucesso!")}catch(Y){console.error("Erro ao excluir roteiro:",Y);const pe=Y instanceof Error?Y.message:"Erro desconhecido";alert(`Erro ao excluir roteiro: ${pe}`)}finally{M(!1)}},L=()=>{if(!g.name||!g.standardTime||g.standardTime<=0||!g.sectorId){alert("Nome da etapa, tempo padrão e setor são obrigatórios");return}if(e.steps.some(pe=>pe.name.toLowerCase()===(g.name||"").toLowerCase())){alert("Já existe uma etapa com este nome");return}const Y={id:Date.now().toString(),name:g.name.trim(),description:g.description?.trim()||"",sequence:e.steps.length+1,standardTime:g.standardTime,setupTime:g.setupTime||0,equipment:g.equipment?.trim()||"",requirements:g.requirements||[],notes:g.notes?.trim()||"",sectorId:g.sectorId,operatorId:g.operatorId||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(pe=>({...pe,steps:[...pe.steps,Y]})),y({name:"",description:"",sequence:e.steps.length+2,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),b("")},z=q=>{n(Y=>{const je=Y.steps.filter(_e=>_e.id!==q).map((_e,He)=>({..._e,sequence:He+1}));return{...Y,steps:je}})},ve=()=>{j.trim()&&!g.requirements?.includes(j.trim())&&(y(q=>({...q,requirements:[...q.requirements||[],j.trim()]})),b(""))},he=q=>{y(Y=>({...Y,requirements:(Y.requirements||[]).filter(pe=>pe!==q)}))},Q=q=>{switch(q){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return q}},oe=q=>`status-${q}`,ae=q=>{const Y=Math.floor(q/60),pe=q%60;return Y>0?`${Y}h ${pe}min`:`${pe}min`},be=()=>{T(!1),C(null),B()},H=q=>u.find(Y=>Y.id===q)?.name||"Setor não encontrado",G=q=>q?f.find(Y=>Y.id===q)?.name||"Operador não encontrado":"Não atribuído";return i.jsx("div",{className:"operational-routes-page",children:i.jsxs("div",{className:"operational-routes-container",children:[i.jsx("div",{className:"operational-routes-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Cadastro de Roteiros Operacionais"}),i.jsx("p",{children:"Gerencie os roteiros de produção com produtos, etapas, tempo padrão e setup"})]})}),i.jsxs("form",{className:"registration-form",onSubmit:D,children:[i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(ys,{className:"section-icon"}),"Informações do Produto"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Produto *"}),i.jsxs("select",{className:`form-select ${N.productId?"error":""}`,value:e.productId,onChange:q=>n(Y=>({...Y,productId:q.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um produto"}),s.map(q=>i.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]}),N.productId&&i.jsx("span",{className:"form-error",children:N.productId})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Versão"}),i.jsx("input",{type:"text",className:`form-input ${N.version?"error":""}`,value:e.version,onChange:q=>n(Y=>({...Y,version:q.target.value})),placeholder:"Ex: 1.0"}),N.version&&i.jsx("span",{className:"form-error",children:N.version})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Status"}),i.jsxs("select",{className:"form-select",value:e.status,onChange:q=>n(Y=>({...Y,status:q.target.value})),children:[i.jsx("option",{value:"draft",children:"Rascunho"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(pg,{className:"section-icon"}),"Associações"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Setor Primário *"}),i.jsxs("select",{className:`form-select ${N.primarySectorId?"error":""}`,value:e.primarySectorId,onChange:q=>n(Y=>({...Y,primarySectorId:q.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um setor"}),u.map(q=>i.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]}),N.primarySectorId&&i.jsx("span",{className:"form-error",children:N.primarySectorId})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Operador Atribuído"}),i.jsxs("select",{className:"form-select",value:e.assignedOperatorId,onChange:q=>n(Y=>({...Y,assignedOperatorId:q.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(q=>i.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(Nu,{className:"section-icon"}),"Etapas do Roteiro"]}),e.steps.length>0&&i.jsxs("div",{className:"steps-list",children:[i.jsx("h4",{children:"Etapas Configuradas:"}),e.steps.map(q=>i.jsxs("div",{className:"step-item",children:[i.jsxs("div",{className:"step-header",children:[i.jsx("span",{className:"step-sequence",children:q.sequence}),i.jsx("span",{className:"step-name",children:q.name}),i.jsxs("span",{className:"step-times",children:[i.jsx(Ft,{})," ",ae(q.standardTime)," | ",i.jsx(ef,{})," ",ae(q.setupTime)]}),i.jsx("button",{type:"button",className:"remove-step-btn",onClick:()=>z(q.id),children:i.jsx(Wl,{})})]}),i.jsxs("div",{className:"step-details",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Descrição:"})," ",q.description]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Equipamento:"})," ",q.equipment]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Setor:"})," ",H(q.sectorId)]}),q.operatorId&&i.jsxs("p",{children:[i.jsx("strong",{children:"Operador:"})," ",G(q.operatorId)]}),q.requirements.length>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Requisitos:"})," ",q.requirements.join(", ")]}),q.notes&&i.jsxs("p",{children:[i.jsx("strong",{children:"Notas:"})," ",q.notes]})]})]},q.id))]}),i.jsxs("div",{className:"new-step-form",children:[i.jsx("h4",{children:"Adicionar Nova Etapa:"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Nome da Etapa *"}),i.jsx("input",{type:"text",className:"form-input",value:g.name,onChange:q=>y(Y=>({...Y,name:q.target.value})),placeholder:"Nome da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Descrição"}),i.jsx("input",{type:"text",className:"form-input",value:g.description,onChange:q=>y(Y=>({...Y,description:q.target.value})),placeholder:"Descrição da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tempo Padrão (minutos) *"}),i.jsx("input",{type:"number",className:"form-input",value:g.standardTime,onChange:q=>y(Y=>({...Y,standardTime:parseInt(q.target.value)||0})),min:"1",placeholder:"Tempo em minutos"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tempo de Setup (minutos)"}),i.jsx("input",{type:"number",className:"form-input",value:g.setupTime,onChange:q=>y(Y=>({...Y,setupTime:parseInt(q.target.value)||0})),min:"0",placeholder:"Tempo de setup"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Equipamento"}),i.jsx("input",{type:"text",className:"form-input",value:g.equipment,onChange:q=>y(Y=>({...Y,equipment:q.target.value})),placeholder:"Equipamento necessário"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Sequência"}),i.jsx("input",{type:"number",className:"form-input",value:g.sequence,onChange:q=>y(Y=>({...Y,sequence:parseInt(q.target.value)||1})),min:"1",placeholder:"Ordem da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Setor da Etapa *"}),i.jsxs("select",{className:"form-select",value:g.sectorId,onChange:q=>y(Y=>({...Y,sectorId:q.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um setor"}),u.map(q=>i.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Operador da Etapa"}),i.jsxs("select",{className:"form-select",value:g.operatorId,onChange:q=>y(Y=>({...Y,operatorId:q.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(q=>i.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{className:"form-label",children:"Requisitos"}),i.jsx("div",{className:"requirements-container",children:(g.requirements||[]).map((q,Y)=>i.jsxs("span",{className:"requirement-tag",children:[q,i.jsx("button",{type:"button",onClick:()=>he(q),children:i.jsx($r,{})})]},Y))}),i.jsxs("div",{className:"requirement-input-group",children:[i.jsx("input",{type:"text",className:"form-input requirement-input",value:j,onChange:q=>b(q.target.value),placeholder:"Digite um requisito",onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),ve())}),i.jsx(Ge,{type:"button",variant:"outline",onClick:ve,children:i.jsx(Jh,{})})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{className:"form-label",children:"Notas"}),i.jsx("textarea",{className:"form-textarea",value:g.notes,onChange:q=>y(Y=>({...Y,notes:q.target.value})),placeholder:"Observações sobre a etapa..."})]}),i.jsxs(Ge,{type:"button",variant:"outline",onClick:L,children:[i.jsx(Jh,{})," Adicionar Etapa"]})]}),N.steps&&i.jsx("span",{className:"form-error",children:N.steps})]}),i.jsxs("div",{className:"form-actions",children:[_&&i.jsx(Ge,{type:"button",variant:"secondary",onClick:be,children:"Cancelar"}),i.jsx(Ge,{type:"submit",variant:"primary",disabled:k,children:k?"Salvando...":_?"Atualizar Roteiro":"Cadastrar Roteiro"})]})]}),i.jsxs("div",{className:"routes-list-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(iP,{className:"section-icon"}),"Roteiros Operacionais Existentes"]}),k?i.jsx("div",{className:"loading-message",children:"Carregando roteiros..."}):r.length===0?i.jsxs("div",{className:"no-routes-message",children:[i.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),i.jsx("p",{children:"Use o formulário acima para criar o primeiro roteiro."})]}):i.jsx("div",{className:"routes-grid",children:r.map(q=>i.jsxs("div",{className:"route-card",children:[i.jsxs("div",{className:"route-header",children:[i.jsxs("div",{className:"route-product-info",children:[i.jsx("h4",{children:q.productName}),i.jsx("p",{className:"product-code",children:q.productCode}),i.jsxs("p",{className:"route-version",children:["Versão: ",q.version]})]}),i.jsx("div",{className:"route-status",children:i.jsx("span",{className:`status-badge ${oe(q.status)}`,children:Q(q.status)})})]}),i.jsxs("div",{className:"route-details",children:[i.jsxs("div",{className:"route-associations",children:[i.jsxs("p",{children:[i.jsx(pg,{})," ",i.jsx("strong",{children:"Setor:"})," ",H(q.primarySectorId)]}),i.jsxs("p",{children:[i.jsx(Yl,{})," ",i.jsx("strong",{children:"Operador:"})," ",G(q.assignedOperatorId)]})]}),i.jsxs("div",{className:"route-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx(Nu,{}),i.jsxs("span",{children:[q.totalSteps," etapas"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx(Ft,{}),i.jsx("span",{children:ae(q.totalStandardTime)})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx(ef,{}),i.jsx("span",{children:ae(q.totalSetupTime)})]})]}),i.jsxs("div",{className:"route-steps-preview",children:[i.jsx("h5",{children:"Etapas:"}),q.steps.slice(0,3).map(Y=>i.jsxs("div",{className:"step-preview",children:[i.jsx("span",{className:"step-number",children:Y.sequence}),i.jsx("span",{className:"step-name",children:Y.name}),i.jsx("span",{className:"step-time",children:ae(Y.standardTime)}),i.jsx("span",{className:"step-sector",children:H(Y.sectorId)})]},Y.id)),q.steps.length>3&&i.jsxs("p",{className:"more-steps",children:["+",q.steps.length-3," etapas"]})]})]}),i.jsxs("div",{className:"route-actions",children:[i.jsxs(Ge,{type:"button",variant:"outline",onClick:()=>F(q),children:[i.jsx(Yu,{})," Editar"]}),i.jsxs(Ge,{type:"button",variant:"secondary",onClick:()=>V(q.id),children:[i.jsx(Wl,{})," Excluir"]})]})]},q.id))})]})]})})}function ode(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(!1),[l,u]=w.useState(""),[h,f]=w.useState("all"),[m,g]=w.useState("productName"),[y,j]=w.useState("asc");w.useEffect(()=>{(async()=>{try{s(!0);const O=await O9();e(O),r(O)}catch(O){console.error("Erro ao carregar roteiros:",O),alert("Erro ao carregar roteiros operacionais")}finally{s(!1)}})()},[]),w.useEffect(()=>{let M=t.filter(O=>{const D=O.productName.toLowerCase().includes(l.toLowerCase())||O.productCode.toLowerCase().includes(l.toLowerCase())||O.version.toLowerCase().includes(l.toLowerCase()),B=h==="all"||O.status===h;return D&&B});M.sort((O,D)=>{let B,F;switch(m){case"productName":B=O.productName.toLowerCase(),F=D.productName.toLowerCase();break;case"productCode":B=O.productCode.toLowerCase(),F=D.productCode.toLowerCase();break;case"version":B=O.version,F=D.version;break;case"status":B=O.status,F=D.status;break;case"totalStandardTime":B=O.totalStandardTime,F=D.totalStandardTime;break;case"stepsCount":B=O.steps.length,F=D.steps.length;break;default:B=O.productName.toLowerCase(),F=D.productName.toLowerCase()}return y==="asc"?B>F?1:-1:B<F?1:-1}),r(M)},[t,l,h,m,y]);const b=async M=>{if(window.confirm("Tem certeza que deseja excluir este roteiro operacional?"))try{s(!0),await C9(M),e(O=>O.filter(D=>D.id!==M)),alert("Roteiro operacional excluído com sucesso!")}catch(O){console.error("Erro ao excluir roteiro:",O),alert(`Erro ao excluir roteiro: ${O instanceof Error?O.message:"Erro desconhecido"}`)}finally{s(!1)}},_=M=>{window.location.href=`/operational-routes?edit=${M.id}`},T=M=>{window.location.href=`/operational-routes?view=${M.id}`},E=M=>{switch(M){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return M}},C=M=>`status-${M}`,N=M=>{const O=Math.floor(M/60),D=M%60;return O>0?`${O}h ${D}min`:`${D}min`},P=M=>{m===M?j(y==="asc"?"desc":"asc"):(g(M),j("asc"))},k=()=>{u(""),f("all"),g("productName"),j("asc")};return i.jsx("div",{className:"operational-routes-list-page",children:i.jsx("div",{className:"operational-routes-list-container",children:i.jsxs("div",{className:"operational-routes-list-content",children:[i.jsxs("div",{className:"operational-routes-list-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Lista de Roteiros Operacionais"}),i.jsx("p",{children:"Visualize e gerencie todos os roteiros de produção cadastrados"})]}),i.jsx("div",{className:"header-actions",children:i.jsxs(Ge,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:[i.jsx(Nu,{})," Novo Roteiro"]})})]}),i.jsxs("div",{className:"filters-section",children:[i.jsx("div",{className:"search-container",children:i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar roteiros por produto, código ou versão...",value:l,onChange:M=>u(M.target.value)}),l&&i.jsx("button",{className:"clear-search-btn",onClick:()=>u(""),title:"Limpar busca",children:"×"})]})}),i.jsxs("div",{className:"filters-row",children:[i.jsxs("div",{className:"filter-item",children:[i.jsx("label",{className:"filter-label",children:"Status"}),i.jsxs("select",{className:"filter-select",value:h,onChange:M=>f(M.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"draft",children:"Rascunho"})]})]}),i.jsxs("div",{className:"filter-item",children:[i.jsx("label",{className:"filter-label",children:"Ordenar por"}),i.jsxs("div",{className:"sort-container",children:[i.jsxs("select",{className:"filter-select",value:m,onChange:M=>g(M.target.value),children:[i.jsx("option",{value:"productName",children:"Nome do Produto"}),i.jsx("option",{value:"productCode",children:"Código"}),i.jsx("option",{value:"version",children:"Versão"}),i.jsx("option",{value:"status",children:"Status"}),i.jsx("option",{value:"totalStandardTime",children:"Tempo"}),i.jsx("option",{value:"stepsCount",children:"Etapas"})]}),i.jsx("button",{className:"sort-btn",onClick:()=>P(m),title:`Ordenar ${y==="asc"?"decrescente":"crescente"}`,children:i.jsx(fB,{className:y==="asc"?"sort-asc":"sort-desc"})})]})]}),i.jsx("div",{className:"filter-item",children:i.jsxs(Ge,{variant:"outline",onClick:k,children:[i.jsx(eB,{})," Limpar"]})})]}),(l||h!=="all")&&i.jsxs("div",{className:"active-filters-bar",children:[i.jsx("span",{className:"active-filters-text",children:"Filtros aplicados:"}),i.jsxs("div",{className:"filter-tags",children:[l&&i.jsxs("span",{className:"filter-tag",children:['Busca: "',l,'"',i.jsx("button",{className:"tag-remove-btn",onClick:()=>u(""),children:"×"})]}),h!=="all"&&i.jsxs("span",{className:"filter-tag",children:["Status: ",E(h),i.jsx("button",{className:"tag-remove-btn",onClick:()=>f("all"),children:"×"})]})]})]})]}),i.jsx("div",{className:"routes-list-section",children:a?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Carregando roteiros..."})]}):n.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Nu,{})}),i.jsx("h3",{children:"Nenhum roteiro encontrado"}),l||h!=="all"?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Tente ajustar os filtros de busca ou"}),i.jsx(Ge,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"criar um novo roteiro"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),i.jsx(Ge,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"Criar Primeiro Roteiro"})]})]}):i.jsx("div",{className:"routes-table-container",children:i.jsxs("table",{className:"routes-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Produto"}),i.jsx("th",{children:"Versão"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Etapas"}),i.jsx("th",{children:"Tempo Total"}),i.jsx("th",{children:"Setup Total"}),i.jsx("th",{children:"Ações"})]})}),i.jsx("tbody",{children:n.map(M=>i.jsxs("tr",{className:"route-row",children:[i.jsx("td",{className:"product-cell",children:i.jsxs("div",{className:"product-info",children:[i.jsx("h4",{children:M.productName}),i.jsx("span",{className:"product-code",children:M.productCode})]})}),i.jsx("td",{className:"version-cell",children:i.jsx("span",{className:"version-badge",children:M.version})}),i.jsx("td",{className:"status-cell",children:i.jsx("span",{className:`status-badge ${C(M.status)}`,children:E(M.status)})}),i.jsx("td",{className:"steps-cell",children:i.jsxs("div",{className:"steps-info",children:[i.jsx("span",{className:"steps-count",children:M.steps.length}),i.jsx("span",{className:"steps-label",children:"etapas"})]})}),i.jsx("td",{className:"time-cell",children:i.jsxs("div",{className:"time-info",children:[i.jsx(Ft,{className:"time-icon"}),i.jsx("span",{children:N(M.totalStandardTime)})]})}),i.jsx("td",{className:"setup-cell",children:i.jsxs("div",{className:"setup-info",children:[i.jsx(ef,{className:"setup-icon"}),i.jsx("span",{children:N(M.totalSetupTime)})]})}),i.jsx("td",{className:"actions-cell",children:i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"action-btn view-btn",title:"Visualizar",onClick:()=>T(M),children:i.jsx(Xu,{})}),i.jsx("button",{className:"action-btn edit-btn",title:"Editar",onClick:()=>_(M),children:i.jsx(Yu,{})}),i.jsx("button",{className:"action-btn delete-btn",title:"Excluir",onClick:()=>b(M.id),children:i.jsx(Wl,{})})]})})]},M.id))})]})})})]})})})}function lde({config:t,onConfigChange:e}){const[n,r]=w.useState(!1);return i.jsxs("div",{className:"profile-settings",children:[i.jsx("h2",{children:"Configurações de Perfil"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome do Usuário"}),i.jsx("input",{type:"text",value:t.userName,onChange:a=>e("userName",a.target.value),placeholder:"Digite seu nome"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"E-mail"}),i.jsx("input",{type:"email",value:t.email,onChange:a=>e("email",a.target.value),placeholder:"seu@email.com"})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Idioma"}),i.jsxs("select",{value:t.language,onChange:a=>e("language",a.target.value),children:[i.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),i.jsx("option",{value:"en-US",children:"English (US)"}),i.jsx("option",{value:"es-ES",children:"Español"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Fuso Horário"}),i.jsxs("select",{value:t.timezone,onChange:a=>e("timezone",a.target.value),children:[i.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (GMT-3)"}),i.jsx("option",{value:"America/Manaus",children:"Manaus (GMT-4)"}),i.jsx("option",{value:"America/Belem",children:"Belém (GMT-3)"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nova Senha"}),i.jsxs("div",{className:"password-input",children:[i.jsx("input",{type:n?"text":"password",placeholder:"Digite sua nova senha"}),i.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?i.jsx(rP,{}):i.jsx(Xu,{})})]})]})]})}function cde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"notification-settings",children:[i.jsx("h2",{children:"Configurações de Notificações"}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:n=>e("emailNotifications",n.target.checked)}),"Receber notificações por e-mail"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.pushNotifications,onChange:n=>e("pushNotifications",n.target.checked)}),"Notificações push no navegador"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.alertSounds,onChange:n=>e("alertSounds",n.target.checked)}),"Sons de alerta"]})}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Frequência de Notificações"}),i.jsxs("select",{value:t.notificationFrequency,onChange:n=>e("notificationFrequency",n.target.value),children:[i.jsx("option",{value:"immediate",children:"Imediata"}),i.jsx("option",{value:"hourly",children:"A cada hora"}),i.jsx("option",{value:"daily",children:"Diária"}),i.jsx("option",{value:"weekly",children:"Semanal"})]})]})]})}function ude({config:t,onConfigChange:e}){return i.jsxs("div",{className:"appearance-settings",children:[i.jsx("h2",{children:"Configurações de Aparência"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tema"}),i.jsxs("select",{value:t.theme,onChange:n=>e("theme",n.target.value),children:[i.jsx("option",{value:"light",children:"Claro"}),i.jsx("option",{value:"dark",children:"Escuro"}),i.jsx("option",{value:"auto",children:"Automático"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tamanho da Fonte"}),i.jsxs("select",{value:t.fontSize,onChange:n=>e("fontSize",n.target.value),children:[i.jsx("option",{value:"small",children:"Pequeno"}),i.jsx("option",{value:"medium",children:"Médio"}),i.jsx("option",{value:"large",children:"Grande"})]})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.compactMode,onChange:n=>e("compactMode",n.target.checked)}),"Modo compacto"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.showAnimations,onChange:n=>e("showAnimations",n.target.checked)}),"Mostrar animações"]})})]})}function dde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"security-settings",children:[i.jsx("h2",{children:"Configurações de Segurança"}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.twoFactorAuth,onChange:n=>e("twoFactorAuth",n.target.checked)}),"Autenticação de dois fatores (2FA)"]})}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tempo limite da sessão (minutos)"}),i.jsx("input",{type:"number",value:t.sessionTimeout,onChange:n=>e("sessionTimeout",parseInt(n.target.value)),min:"5",max:"480"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Expiração de senha (dias)"}),i.jsx("input",{type:"number",value:t.passwordExpiry,onChange:n=>e("passwordExpiry",parseInt(n.target.value)),min:"30",max:"365"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tentativas de login permitidas"}),i.jsx("input",{type:"number",value:t.loginAttempts,onChange:n=>e("loginAttempts",parseInt(n.target.value)),min:"1",max:"10"})]})]})}function hde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"system-settings",children:[i.jsx("h2",{children:"Configurações do Sistema"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Idioma"}),i.jsxs("select",{value:t.language,onChange:n=>e("language",n.target.value),children:[i.jsx("option",{value:"pt",children:"Português"}),i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"es",children:"Español"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Fuso Horário"}),i.jsxs("select",{value:t.timezone,onChange:n=>e("timezone",n.target.value),children:[i.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (GMT-3)"}),i.jsx("option",{value:"America/New_York",children:"Nova York (GMT-5)"}),i.jsx("option",{value:"Europe/London",children:"Londres (GMT+0)"}),i.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Formato de Data"}),i.jsxs("select",{value:t.dateFormat,onChange:n=>e("dateFormat",n.target.value),children:[i.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/AAAA"}),i.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/AAAA"}),i.jsx("option",{value:"yyyy-mm-dd",children:"AAAA-MM-DD"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Moeda"}),i.jsxs("select",{value:t.currency,onChange:n=>e("currency",n.target.value),children:[i.jsx("option",{value:"BRL",children:"Real (R$)"}),i.jsx("option",{value:"USD",children:"Dólar ($)"}),i.jsx("option",{value:"EUR",children:"Euro (€)"})]})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.autoSave,onChange:n=>e("autoSave",n.target.checked)}),"Salvar automaticamente"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.debugMode,onChange:n=>e("debugMode",n.target.checked)}),"Modo de depuração"]})}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nível de Log"}),i.jsxs("select",{value:t.logLevel,onChange:n=>e("logLevel",n.target.value),children:[i.jsx("option",{value:"error",children:"Apenas Erros"}),i.jsx("option",{value:"warn",children:"Avisos e Erros"}),i.jsx("option",{value:"info",children:"Informações"}),i.jsx("option",{value:"debug",children:"Depuração Completa"})]})]})]})}function fde(){const[t,e]=w.useState("profile"),[n,r]=w.useState({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt",timezone:"America/Sao_Paulo",dateFormat:"dd/mm/yyyy",currency:"BRL",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1,logLevel:"info"}),[a,s]=w.useState(!1),l=(g,y)=>{r(j=>({...j,[g]:y})),s(!0)},u=()=>{console.log("Salvando configurações:",n),s(!1)},h=()=>{r({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt",timezone:"America/Sao_Paulo",dateFormat:"dd/mm/yyyy",currency:"BRL",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1,logLevel:"info"}),s(!1)},f=[{id:"profile",label:"Perfil",icon:i.jsx(Yl,{})},{id:"notifications",label:"Notificações",icon:i.jsx(Gl,{})},{id:"appearance",label:"Aparência",icon:i.jsx(oB,{})},{id:"security",label:"Segurança",icon:i.jsx(sP,{})},{id:"system",label:"Sistema",icon:i.jsx(Ba,{})}],m=()=>{switch(t){case"profile":return i.jsx(lde,{config:{userName:n.userName,email:n.email,language:n.language,timezone:n.timezone},onConfigChange:l});case"notifications":return i.jsx(cde,{config:{emailNotifications:n.emailNotifications,pushNotifications:n.pushNotifications,alertSounds:n.alertSounds,notificationFrequency:n.notificationFrequency},onConfigChange:l});case"appearance":return i.jsx(ude,{config:{theme:n.theme,fontSize:n.fontSize,compactMode:n.compactMode,showAnimations:n.showAnimations},onConfigChange:l});case"security":return i.jsx(dde,{config:{twoFactorAuth:n.twoFactorAuth,sessionTimeout:n.sessionTimeout,passwordExpiry:n.passwordExpiry,loginAttempts:n.loginAttempts},onConfigChange:l});case"system":return i.jsx(hde,{config:{language:n.language,timezone:n.timezone,dateFormat:n.dateFormat,currency:n.currency,autoSave:n.autoSave,debugMode:n.debugMode,logLevel:n.logLevel},onConfigChange:l});default:return null}};return i.jsx("div",{className:"settings-page",children:i.jsxs("div",{className:"settings-container",children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h1",{children:"Configurações"}),i.jsx("p",{children:"Gerencie suas preferências e configurações do sistema"})]}),i.jsxs("div",{className:"settings-content",children:[i.jsx("div",{className:"settings-sidebar",children:f.map(g=>i.jsxs("button",{className:`tab-button ${t===g.id?"active":""}`,onClick:()=>e(g.id),children:[g.icon,i.jsx("span",{children:g.label})]},g.id))}),i.jsx("div",{className:"settings-main",children:m()})]}),i.jsxs("div",{className:"settings-actions",children:[i.jsxs("button",{className:"action-btn secondary",onClick:h,disabled:!a,children:[i.jsx(gB,{}),"Restaurar Padrão"]}),i.jsxs("div",{className:"action-buttons",children:[i.jsxs("button",{className:"action-btn cancel",onClick:()=>s(!1),disabled:!a,children:[i.jsx($r,{}),"Cancelar"]}),i.jsxs("button",{className:"action-btn save",onClick:u,disabled:!a,children:[i.jsx(Cu,{}),"Salvar Alterações"]})]})]})]})})}const P9=async t=>{try{const e=or(Ze,"users"),n=Ma(e,Sr("email","==",t.toLowerCase().trim()));return!(await ga(n)).empty}catch(e){throw console.error("Erro ao verificar email:",e),new Error("Erro ao verificar disponibilidade do email")}},mde=async t=>{const e=[];if(!t.email||!t.email.trim()?e.push("E-mail é obrigatório"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||e.push("E-mail inválido"),(!t.name||!t.name.trim())&&e.push("Nome é obrigatório"),(!t.password||t.password.length<6)&&e.push("Senha deve ter pelo menos 6 caracteres"),(!t.userType||!t.userType.trim())&&e.push("Tipo de usuário é obrigatório"),(!t.role||!t.role.trim())&&e.push("Papel/função é obrigatório"),t.email&&t.email.trim())try{await P9(t.email)&&e.push("E-mail já está em uso")}catch{e.push("Erro ao verificar disponibilidade do email")}return{isValid:e.length===0,errors:e}},pde=async t=>{try{const e=await mde(t);if(!e.isValid)return{success:!1,error:e.errors.join(", ")};const r=(await Dj($l,t.email.trim().toLowerCase(),t.password)).user,a=r.uid;await WP(r,{displayName:t.displayName||t.name});const s={id:a,uid:a,email:t.email.trim().toLowerCase(),name:t.name.trim(),displayName:t.displayName?.trim()||t.name.trim(),company:t.company?.trim()||"",phone:t.phone?.trim()||"",photoURL:null,emailVerified:!1,userType:t.userType,role:t.role,createdAt:hs(),updatedAt:hs()},l=qt(Ze,"users",a);await rd(l,s),await $l.signOut();const u={id:a,email:s.email,name:s.name,displayName:s.displayName,company:s.company,phone:s.phone,photoURL:s.photoURL,emailVerified:s.emailVerified,userType:s.userType,role:s.role,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:a,updatedBy:a};return{success:!0,userId:a,user:u}}catch(e){console.error("Erro ao criar usuário:",e);try{await $l.signOut()}catch(r){console.error("Erro ao fazer logout:",r)}let n="Erro ao criar usuário";return e.code==="auth/email-already-in-use"?n="E-mail já está em uso":e.code==="auth/weak-password"?n="Senha muito fraca":e.code==="auth/invalid-email"?n="E-mail inválido":e.message&&(n=e.message),{success:!1,error:n}}},gde=async(t,e)=>{try{const n=qt(Ze,"users",t);if(!(await is(n)).exists())return{success:!1,error:"Usuário não encontrado"};const a={updatedAt:hs()};e.name&&(a.name=e.name.trim()),e.displayName&&(a.displayName=e.displayName.trim()),e.company&&(a.company=e.company.trim()),e.phone&&(a.phone=e.phone.trim()),e.userType&&(a.userType=e.userType),e.role&&(a.role=e.role),await Kr(n,a);const l=(await is(n)).data(),u={id:t,email:l?.email||"",name:l?.name||"",displayName:l?.displayName||"",company:l?.company||"",phone:l?.phone||"",photoURL:l?.photoURL||null,emailVerified:l?.emailVerified||!1,userType:l?.userType||"user",role:l?.role||"user",createdAt:l?.createdAt?.toDate?.()?.toISOString()||l?.createdAt||new Date().toISOString(),updatedAt:l?.updatedAt?.toDate?.()?.toISOString()||l?.updatedAt||new Date().toISOString(),createdBy:l?.createdBy||"",updatedBy:l?.updatedBy||""};return{success:!0,userId:t,user:u}}catch(n){return console.error("Erro ao atualizar usuário:",n),{success:!1,error:n.message||"Erro ao atualizar usuário"}}},vde=async()=>{try{const t=or(Ze,"users");return(await ga(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName||"",company:r.company||"",phone:r.phone||"",photoURL:r.photoURL||null,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt?.toDate?.()?.toISOString()||r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt?.toDate?.()?.toISOString()||r.updatedAt||new Date().toISOString(),createdBy:r.createdBy||"",updatedBy:r.updatedBy||""}})}catch(t){throw console.error("Erro ao listar usuários:",t),t}},yde=async t=>{try{const e=qt(Ze,"users",t);return(await is(e)).exists()?(await rd(e,{deleted:!0,deletedAt:hs()},{merge:!0}),{success:!0,userId:t}):{success:!1,error:"Usuário não encontrado"}}catch(e){return console.error("Erro ao remover usuário:",e),{success:!1,error:e.message||"Erro ao remover usuário"}}};function xde(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(""),[l,u]=w.useState("all"),[h,f]=w.useState(!0),[m,g]=w.useState(!1),[y,j]=w.useState(null),[b,_]=w.useState({email:"",name:"",displayName:"",company:"",phone:"",password:"",confirmPassword:"",userType:"operator",role:"operator",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],admissionDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",status:"active",lastTrainingDate:"",nextTrainingDate:"",newSkill:""}),[T,E]=w.useState(!1),[C,N]=w.useState(null),[P,k]=w.useState(!1);w.useEffect(()=>{M()},[]),w.useEffect(()=>{let G=t;l!=="all"&&(G=G.filter(q=>q.userType===l)),a.trim()&&(G=G.filter(q=>q.email.toLowerCase().includes(a.toLowerCase())||(q.name||"").toLowerCase().includes(a.toLowerCase())||(q.company||"").toLowerCase().includes(a.toLowerCase()))),r(G)},[t,a,l]);const M=async()=>{try{f(!0);const G=await vde();e(G)}catch(G){console.error("Erro ao carregar usuários:",G),N("Erro ao carregar lista de usuários")}finally{f(!1)}},O=G=>{const{name:q,value:Y}=G.target;_(pe=>({...pe,[q]:Y})),C&&N(null)},D=G=>{const q=G.replace(/\D/g,"");return q.length<=2?q:q.length<=7?`(${q.slice(0,2)}) ${q.slice(2)}`:q.length<=11?`(${q.slice(0,2)}) ${q.slice(2,7)}-${q.slice(7)}`:`(${q.slice(0,2)}) ${q.slice(2,7)}-${q.slice(7,11)}`},B=G=>{const{value:q}=G.target,Y=D(q);_(pe=>({...pe,phone:Y})),C&&N(null)},F=async()=>{if(!b.email||!b.name)return N("E-mail e nome são obrigatórios"),!1;if(!y&&!b.password)return N("Senha é obrigatória para novos usuários"),!1;if(b.password&&b.password!==b.confirmPassword)return N("As senhas não coincidem"),!1;if(b.password&&b.password.length<6)return N("A senha deve ter pelo menos 6 caracteres"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email))return N("E-mail inválido"),!1;if(!y)try{if(await P9(b.email))return N("E-mail já está em uso"),!1}catch{return N("Erro ao verificar disponibilidade do email"),!1}if(b.userType==="operator"){if(!b.code||!b.code.trim())return N("Código/Matrícula é obrigatório para operadores"),!1;if(!y)try{if(await jK(b.code))return N("Código/Matrícula já está em uso"),!1}catch{return N("Erro ao verificar disponibilidade do código"),!1}if(!b.primarySectorId)return N("Setor primário é obrigatório para operadores"),!1;if(!b.admissionDate)return N("Data de admissão é obrigatória para operadores"),!1;if(!b.weeklyHours||b.weeklyHours<=0)return N("Horas semanais devem ser maiores que 0"),!1}return!0},V=async G=>{if(G.preventDefault(),!!await F()){E(!0),N(null);try{if(y){const Y={name:b.name,displayName:b.displayName||b.name,company:b.company,phone:b.phone,userType:b.userType,role:b.role},pe=await gde(y.id,Y);pe.success?(k(!0),ve(),await M()):N(pe.error||"Erro ao atualizar usuário")}else{const Y={email:b.email,name:b.name,displayName:b.displayName||b.name,company:b.company,phone:b.phone,password:b.password,userType:b.userType,role:b.role},pe=await pde(Y);pe.success?(k(!0),ve(),await M()):N(pe.error||"Erro ao criar usuário")}}catch(Y){console.error("Erro ao salvar usuário:",Y),N("Erro ao salvar usuário. Tente novamente.")}finally{E(!1)}}},L=async G=>{if(confirm("Tem certeza que deseja remover este usuário?"))try{const q=await yde(G);q.success?(await M(),k(!0),setTimeout(()=>k(!1),3e3)):N(q.error||"Erro ao remover usuário")}catch(q){console.error("Erro ao remover usuário:",q),N("Erro ao remover usuário")}},z=G=>{j(G),_({email:G.email,name:G.name,displayName:G.displayName||"",company:G.company||"",phone:G.phone||"",password:"",confirmPassword:"",userType:G.userType,role:G.role,code:G.operatorData?.code||"",primarySectorId:G.operatorData?.primarySectorId||"",secondarySectorIds:G.operatorData?.secondarySectorIds||[],skills:G.operatorData?.skills||[],admissionDate:G.operatorData?.admissionDate||"",contractType:G.operatorData?.contractType||"clt",workSchedule:G.operatorData?.workSchedule||"day",weeklyHours:G.operatorData?.weeklyHours||40,supervisorId:G.operatorData?.supervisorId||"",teamId:G.operatorData?.teamId||"",status:G.operatorData?.status||"active",lastTrainingDate:G.operatorData?.lastTrainingDate||"",nextTrainingDate:G.operatorData?.nextTrainingDate||"",newSkill:""}),g(!0)},ve=()=>{_({email:"",name:"",displayName:"",company:"",phone:"",password:"",confirmPassword:"",userType:"operator",role:"operator",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],admissionDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",status:"active",lastTrainingDate:"",nextTrainingDate:"",newSkill:""}),j(null),N(null),setTimeout(()=>k(!1),3e3)},he=()=>{ve(),g(!1)},Q=()=>{ve(),g(!0)},oe=()=>{b.newSkill?.trim()&&!b.skills?.includes(b.newSkill.trim())&&_(G=>({...G,skills:[...G.skills||[],G.newSkill?.trim()||""],newSkill:""}))},ae=G=>{_(q=>({...q,skills:(q.skills||[]).filter(Y=>Y!==G)}))},be=G=>{switch(G){case"admin":return"role-admin";case"operator":return"role-operator";case"user":return"role-user";default:return"role-user"}},H=G=>{switch(G){case"admin":return"Administrador";case"operator":return"Operador";case"user":return"Usuário";default:return"Usuário"}};return i.jsx("div",{className:"user-creation-page",children:i.jsxs("div",{className:"user-creation-container",children:[i.jsx("div",{className:"user-creation-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(ns,{className:"header-icon"}),"Gerenciar Usuários"]}),i.jsx("p",{children:"Visualize, crie, edite e remova usuários do sistema"})]})}),C&&i.jsxs("div",{className:"error-message",children:[i.jsx($r,{}),C]}),P&&i.jsxs("div",{className:"success-message",children:[i.jsx(Cu,{}),"Operação realizada com sucesso!"]}),i.jsxs("div",{className:"users-section",children:[i.jsxs("div",{className:"search-container",children:[i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou empresa...",value:a,onChange:G=>s(G.target.value),className:"search-input"})]}),i.jsx("div",{className:"filter-wrapper",children:i.jsxs("select",{value:l,onChange:G=>u(G.target.value),className:"user-type-filter",children:[i.jsx("option",{value:"all",children:"Todos os tipos"}),i.jsx("option",{value:"admin",children:"Administradores"}),i.jsx("option",{value:"operator",children:"Operadores"}),i.jsx("option",{value:"user",children:"Usuários"})]})}),i.jsx("div",{className:"search-actions",children:i.jsxs(Ge,{onClick:Q,children:[i.jsx(uP,{}),"Criar Usuário"]})})]}),h?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando usuários..."})]}):i.jsxs("div",{className:"users-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Nome"}),i.jsx("div",{children:"E-mail"}),i.jsx("div",{children:"Empresa"}),i.jsx("div",{children:"Telefone"}),i.jsx("div",{children:"Papel"}),i.jsx("div",{children:"Ações"})]}),n.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx(ns,{}),i.jsx("p",{children:"Nenhum usuário encontrado"})]}):n.map(G=>i.jsxs("div",{className:"table-row",children:[i.jsxs("div",{className:"user-info",children:[i.jsx("div",{className:"user-avatar",children:G.name?.charAt(0)?.toUpperCase()||"U"}),i.jsxs("div",{children:[i.jsx("div",{className:"user-name",children:G.name||G.displayName||"—"}),i.jsx("div",{className:"user-type",children:G.userType})]})]}),i.jsxs("div",{className:"email-cell",children:[i.jsx(ZL,{}),G.email]}),i.jsxs("div",{className:"company-cell",children:[i.jsx(YL,{}),G.company||"—"]}),i.jsxs("div",{className:"phone-cell",children:[i.jsx(cB,{}),G.phone||"—"]}),i.jsx("div",{className:"role-cell",children:i.jsxs("span",{className:`role-badge ${be(G.userType)}`,children:[i.jsx(xB,{}),H(G.userType)]})}),i.jsxs("div",{className:"actions-cell",children:[i.jsx("button",{className:"action-btn edit-btn",onClick:()=>z(G),title:"Editar usuário",children:i.jsx(Yu,{})}),i.jsx("button",{className:"action-btn delete-btn",onClick:()=>L(G.id),title:"Remover usuário",children:i.jsx(Wl,{})})]})]},G.id))]})]}),m&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:y?"Editar Usuário":"Criar Novo Usuário"}),i.jsx("button",{className:"close-btn",onClick:he,children:i.jsx($r,{})})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("form",{onSubmit:V,className:"user-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Informações Pessoais"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome Completo *"}),i.jsx(Ye,{type:"text",name:"name",value:b.name,onChange:O,placeholder:"Digite o nome completo",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome de Exibição"}),i.jsx(Ye,{type:"text",name:"displayName",value:b.displayName,onChange:O,placeholder:"Nome para exibição (opcional)",disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"E-mail *"}),i.jsx(Ye,{type:"email",name:"email",value:b.email,onChange:O,placeholder:"Digite o e-mail",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Telefone"}),i.jsx(Ye,{type:"tel",name:"phone",value:b.phone,onChange:B,placeholder:"(11) 99999-9999",disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Empresa"}),i.jsx(Ye,{type:"text",name:"company",value:b.company,onChange:O,placeholder:"Nome da empresa",disabled:T})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Configurações de Acesso"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tipo de Usuário"}),i.jsxs("select",{name:"userType",value:b.userType,onChange:O,disabled:T,children:[i.jsx("option",{value:"user",children:"Usuário Padrão"}),i.jsx("option",{value:"operator",children:"Operador"}),i.jsx("option",{value:"admin",children:"Administrador"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Papel/Função"}),i.jsxs("select",{name:"role",value:b.role,onChange:O,disabled:T,children:[i.jsx("option",{value:"operator",children:"Operador"}),i.jsx("option",{value:"admin",children:"Administrador"})]})]}),!y&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Senha *"}),i.jsx(Ye,{type:"password",name:"password",value:b.password,onChange:O,placeholder:"Mínimo 6 caracteres",required:!y,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Confirmar Senha *"}),i.jsx(Ye,{type:"password",name:"confirmPassword",value:b.confirmPassword,onChange:O,placeholder:"Digite a senha novamente",required:!y,disabled:T})]})]})]})]}),b.role==="operator"&&i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Dados do Operador"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Código/Matrícula *"}),i.jsx(Ye,{type:"text",name:"code",value:b.code||"",onChange:O,placeholder:"Ex: OP001",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Data de Admissão *"}),i.jsx(Ye,{type:"date",name:"admissionDate",value:b.admissionDate||"",onChange:O,placeholder:"",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Setor Primário *"}),i.jsxs("select",{name:"primarySectorId",value:b.primarySectorId||"",onChange:O,required:!0,disabled:T,children:[i.jsx("option",{value:"",children:"Selecione um setor"}),i.jsx("option",{value:"corte",children:"Corte"}),i.jsx("option",{value:"montagem",children:"Montagem"}),i.jsx("option",{value:"acabamento",children:"Acabamento"}),i.jsx("option",{value:"embalagem",children:"Embalagem"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Status *"}),i.jsxs("select",{name:"status",value:b.status||"active",onChange:O,required:!0,disabled:T,children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"suspended",children:"Suspenso"}),i.jsx("option",{value:"on_leave",children:"Afastado"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tipo de Contrato *"}),i.jsxs("select",{name:"contractType",value:b.contractType||"clt",onChange:O,required:!0,disabled:T,children:[i.jsx("option",{value:"clt",children:"CLT"}),i.jsx("option",{value:"pj",children:"PJ"}),i.jsx("option",{value:"temporary",children:"Temporário"}),i.jsx("option",{value:"intern",children:"Estagiário"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Turno de Trabalho *"}),i.jsxs("select",{name:"workSchedule",value:b.workSchedule||"day",onChange:O,required:!0,disabled:T,children:[i.jsx("option",{value:"day",children:"Diurno"}),i.jsx("option",{value:"night",children:"Noturno"}),i.jsx("option",{value:"rotating",children:"Rotativo"}),i.jsx("option",{value:"flexible",children:"Flexível"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Horas Semanais *"}),i.jsx(Ye,{type:"number",name:"weeklyHours",value:String(b.weeklyHours||40),onChange:O,placeholder:"40",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Data do Último Treinamento"}),i.jsx(Ye,{type:"date",name:"lastTrainingDate",value:b.lastTrainingDate||"",onChange:O,placeholder:"",disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Próximo Treinamento"}),i.jsx(Ye,{type:"date",name:"nextTrainingDate",value:b.nextTrainingDate||"",onChange:O,placeholder:"",disabled:T})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Habilidades/Competências"}),i.jsxs("div",{className:"skills-container",children:[i.jsxs("div",{className:"skills-input",children:[i.jsx(Ye,{type:"text",name:"newSkill",placeholder:"Digite uma habilidade",value:b.newSkill||"",onChange:G=>_(q=>({...q,newSkill:G.target.value})),disabled:T}),i.jsxs(Ge,{type:"button",onClick:oe,disabled:T||!b.newSkill?.trim(),children:[i.jsx(Jh,{}),"Adicionar"]})]}),b.skills&&b.skills.length>0&&i.jsx("div",{className:"skills-list",children:b.skills.map((G,q)=>i.jsxs("span",{className:"skill-tag",children:[G,i.jsx("button",{type:"button",onClick:()=>ae(G),className:"remove-skill",children:i.jsx($r,{})})]},q))})]})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsxs(Ge,{type:"button",variant:"outline",onClick:he,disabled:T,children:[i.jsx($r,{}),"Cancelar"]}),i.jsxs(Ge,{type:"submit",disabled:T,children:[i.jsx(Cu,{}),T?"Salvando...":y?"Salvar":"Criar Usuário"]})]})]})})]})})]})})}const gs=[{id:"1",code:"PROD001",name:"Produto A",description:"Descrição do Produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01T00:00:00Z",updatedAt:"2023-01-01T00:00:00Z",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrição do Produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-02T00:00:00Z",updatedAt:"2023-01-02T00:00:00Z",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrição do Produto C",category:"Categoria 1",isActive:!1,createdAt:"2023-01-03T00:00:00Z",updatedAt:"2023-01-03T00:00:00Z",createdBy:"admin",updatedBy:"admin"}],tm=t=>new Promise(e=>setTimeout(e,t)),bde=async()=>(await tm(500),[...gs]),jde=async t=>{if(await tm(800),gs.find(r=>r.code===t.code))return{success:!1,error:"Código do produto já está em uso"};const n={id:Date.now().toString(),code:t.code,name:t.name,description:t.description,category:t.category,isActive:t.isActive??!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};return gs.push(n),{success:!0,data:n}},wde=async(t,e)=>{await tm(800);const n=gs.findIndex(a=>a.id===t);if(n===-1)return{success:!1,error:"Produto não encontrado"};const r={...gs[n],...e,updatedAt:new Date().toISOString(),updatedBy:"current-user"};return gs[n]=r,{success:!0,data:r}},Sde=async t=>{await tm(600);const e=gs.findIndex(n=>n.id===t);return e===-1?{success:!1,error:"Produto não encontrado"}:(gs.splice(e,1),{success:!0})},_de=async(t,e)=>(await tm(200),gs.some(n=>n.code===t&&n.id!==e));function Tde(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(""),[l,u]=w.useState("all"),[h,f]=w.useState(!0),[m,g]=w.useState(!1),[y,j]=w.useState(null),[b,_]=w.useState({code:"",name:"",description:"",category:"",isActive:!0}),[T,E]=w.useState(!1),[C,N]=w.useState(null),[P,k]=w.useState(!1);w.useEffect(()=>{M()},[]),w.useEffect(()=>{let ae=t;l!=="all"&&(ae=ae.filter(be=>be.category===l)),a.trim()&&(ae=ae.filter(be=>be.code.toLowerCase().includes(a.toLowerCase())||be.name.toLowerCase().includes(a.toLowerCase())||be.description.toLowerCase().includes(a.toLowerCase())||be.category.toLowerCase().includes(a.toLowerCase()))),r(ae)},[t,a,l]);const M=async()=>{try{f(!0);const ae=await bde();e(ae)}catch(ae){console.error("Erro ao carregar produtos:",ae),N("Erro ao carregar lista de produtos")}finally{f(!1)}},O=ae=>{const{name:be,value:H,type:G}=ae.target,q=ae.target.checked;_(Y=>({...Y,[be]:G==="checkbox"?q:H})),C&&N(null)},D=async()=>{if(!b.code||!b.name||!b.category)return N("Código, nome e categoria são obrigatórios"),!1;if(!y)try{if(await _de(b.code))return N("Código do produto já está em uso"),!1}catch{return N("Erro ao verificar disponibilidade do código"),!1}return!0},B=async ae=>{if(ae.preventDefault(),!!await D()){E(!0),N(null);try{if(y){const H={name:b.name,description:b.description,category:b.category,isActive:b.isActive},G=await wde(y.id,H);G.success?(k(!0),L(),await M()):N(G.error||"Erro ao atualizar produto")}else{const H={code:b.code,name:b.name,description:b.description,category:b.category,isActive:b.isActive},G=await jde(H);G.success?(k(!0),L(),await M()):N(G.error||"Erro ao criar produto")}}catch(H){console.error("Erro ao salvar produto:",H),N("Erro ao salvar produto. Tente novamente.")}finally{E(!1)}}},F=async ae=>{if(confirm("Tem certeza que deseja remover este produto?"))try{const be=await Sde(ae);be.success?(await M(),k(!0),setTimeout(()=>k(!1),3e3)):N(be.error||"Erro ao remover produto")}catch(be){console.error("Erro ao remover produto:",be),N("Erro ao remover produto")}},V=ae=>{j(ae),_({code:ae.code,name:ae.name,description:ae.description,category:ae.category,isActive:ae.isActive}),g(!0)},L=()=>{_({code:"",name:"",description:"",category:"",isActive:!0}),j(null),N(null),setTimeout(()=>k(!1),3e3)},z=()=>{L(),g(!1)},ve=()=>{L(),g(!0)},he=ae=>{switch(ae){case!0:return"status-active";case!1:return"status-inactive";default:return"status-unknown"}},Q=ae=>{switch(ae){case!0:return"Ativo";case!1:return"Inativo";default:return"Desconhecido"}},oe=Array.from(new Set(t.map(ae=>ae.category)));return i.jsxs("div",{className:"product-management-content",children:[i.jsx("div",{className:"content-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(GE,{className:"header-icon"}),"Gerenciar Produtos"]}),i.jsx("p",{children:"Visualize, crie, edite e remova produtos do sistema"})]})}),C&&i.jsxs("div",{className:"error-message",children:[i.jsx($r,{}),C]}),P&&i.jsxs("div",{className:"success-message",children:[i.jsx(Cu,{}),"Operação realizada com sucesso!"]}),i.jsxs("div",{className:"products-section",children:[i.jsxs("div",{className:"search-container",children:[i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar por código, nome, descrição ou categoria...",value:a,onChange:ae=>s(ae.target.value),className:"search-input"})]}),i.jsx("div",{className:"filter-wrapper",children:i.jsxs("select",{value:l,onChange:ae=>u(ae.target.value),className:"category-filter",children:[i.jsx("option",{value:"all",children:"Todas as categorias"}),oe.map(ae=>i.jsx("option",{value:ae,children:ae},ae))]})}),i.jsx("div",{className:"search-actions",children:i.jsxs(Ge,{onClick:ve,children:[i.jsx(ys,{}),"Criar Produto"]})})]}),h?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando produtos..."})]}):i.jsxs("div",{className:"products-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Código"}),i.jsx("div",{children:"Nome"}),i.jsx("div",{children:"Descrição"}),i.jsx("div",{children:"Categoria"}),i.jsx("div",{children:"Status"}),i.jsx("div",{children:"Ações"})]}),n.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx(GE,{}),i.jsx("p",{children:"Nenhum produto encontrado"})]}):n.map(ae=>i.jsxs("div",{className:"table-row",children:[i.jsxs("div",{className:"product-info",children:[i.jsx("div",{className:"product-avatar",children:ae.name?.charAt(0)?.toUpperCase()||"P"}),i.jsx("div",{children:i.jsx("div",{className:"product-code",children:ae.code})})]}),i.jsxs("div",{className:"name-cell",children:[i.jsx(lP,{}),ae.name]}),i.jsxs("div",{className:"description-cell",children:[i.jsx(ts,{}),ae.description||"—"]}),i.jsxs("div",{className:"category-cell",children:[i.jsx(rB,{}),ae.category]}),i.jsx("div",{className:"status-cell",children:i.jsx("span",{className:`status-badge ${he(ae.isActive)}`,children:Q(ae.isActive)})}),i.jsxs("div",{className:"actions-cell",children:[i.jsx("button",{className:"action-btn edit-btn",onClick:()=>V(ae),title:"Editar produto",children:i.jsx(Yu,{})}),i.jsx("button",{className:"action-btn delete-btn",onClick:()=>F(ae.id),title:"Remover produto",children:i.jsx(Wl,{})})]})]},ae.id))]})]}),m&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:y?"Editar Produto":"Criar Novo Produto"}),i.jsx("button",{className:"close-btn",onClick:z,children:i.jsx($r,{})})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("form",{onSubmit:B,className:"product-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Informações do Produto"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Código *"}),i.jsx(Ye,{type:"text",name:"code",value:b.code,onChange:O,placeholder:"Ex: PROD001",required:!0,disabled:T||!!y})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome *"}),i.jsx(Ye,{type:"text",name:"name",value:b.name,onChange:O,placeholder:"Nome do produto",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Categoria *"}),i.jsx(Ye,{type:"text",name:"category",value:b.category,onChange:O,placeholder:"Categoria do produto",required:!0,disabled:T})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Status"}),i.jsxs("select",{name:"isActive",value:b.isActive?"true":"false",onChange:ae=>_(be=>({...be,isActive:ae.target.value==="true"})),disabled:T,children:[i.jsx("option",{value:"true",children:"Ativo"}),i.jsx("option",{value:"false",children:"Inativo"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Descrição"}),i.jsx("textarea",{name:"description",value:b.description,onChange:O,placeholder:"Descrição detalhada do produto",rows:4,disabled:T})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsxs(Ge,{type:"button",variant:"outline",onClick:z,disabled:T,children:[i.jsx($r,{}),"Cancelar"]}),i.jsxs(Ge,{type:"submit",disabled:T,children:[i.jsx(Cu,{}),T?"Salvando...":y?"Salvar":"Criar Produto"]})]})]})})]})})]})}function ug(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const Ede=async()=>{const t=or(Ze,"users");return(await ga(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName,company:r.company,phone:r.phone,photoURL:r.photoURL,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt||new Date().toISOString(),operatorData:r.operatorData}})},Ade=async t=>{if(!t.email)throw new Error("E-mail é obrigatório");const e=ug({...t,email:t.email.trim().toLowerCase()});if(e.uid){const a=qt(Ze,"users",e.uid);return await rd(a,ug({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),e.uid}const n=or(Ze,"users"),r=await Yv(n,ug({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Kr(r,{uid:r.id}),r.id},Nde=async(t,e)=>{const n=qt(Ze,"users",t);await Kr(n,ug({...e,updatedAt:new Date().toISOString()}))},Cde=async t=>{const e=qt(Ze,"users",t);await yw(e)};function Ode(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,s]=w.useState(null),[l,u]=w.useState(""),[h,f]=w.useState(!1),[m,g]=w.useState(null),[y,j]=w.useState([]),b=(he,Q="success")=>{const oe=Date.now();j(ae=>[...ae,{id:oe,type:Q,message:he}]),setTimeout(()=>j(ae=>ae.filter(be=>be.id!==oe)),3e3)},_=56,T=6,E=w.useRef(null),[C,N]=w.useState(0),[P,k]=w.useState(480),M=w.useMemo(()=>{const he=l.trim().toLowerCase();return he?t.filter(Q=>Q.email.toLowerCase().includes(he)||(Q.name||"").toLowerCase().includes(he)||(Q.company||"").toLowerCase().includes(he)):t},[t,l]),O=M.length,D=Math.max(0,Math.floor(C/_)-T),B=Math.min(O,Math.ceil((C+P)/_)+T),F=M.slice(D,B),V=D*_,L=async()=>{try{r(!0);const he=await Ede();e(he)}catch{s("Falha ao carregar usuários")}finally{r(!1)}};w.useEffect(()=>{L()},[]),w.useEffect(()=>{if(!E.current)return;const he=E.current,Q=()=>k(he.clientHeight||480);Q();const oe=()=>N(he.scrollTop);return he.addEventListener("scroll",oe),window.addEventListener("resize",Q),()=>{he.removeEventListener("scroll",oe),window.removeEventListener("resize",Q)}},[]);const z=async he=>{try{s(null),m&&m.id?await Nde(m.id,he):await Ade({id:"",email:he.email||"",name:he.name||"",company:he.company,phone:he.phone,displayName:he.displayName,photoURL:he.photoURL,emailVerified:!1,userType:"user",role:he.role||"operator",createdBy:"admin",updatedBy:"admin"}),f(!1),g(null),await L(),b("Usuário salvo com sucesso","success")}catch{s("Falha ao salvar usuário"),b("Falha ao salvar usuário","error")}},ve=async he=>{if(confirm("Remover este usuário?"))try{await Cde(he),await L(),b("Usuário removido","success")}catch{s("Falha ao remover usuário"),b("Falha ao remover usuário","error")}};return i.jsxs("div",{className:"admin-page",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Gerenciar Usuários"}),i.jsx("p",{children:"Visualize, adicione, edite e remova usuários do sistema."})]}),i.jsxs("div",{className:"admin-actions",children:[i.jsx("div",{className:"admin-search",children:i.jsx(Ye,{type:"text",name:"search",placeholder:"Buscar por nome, e-mail ou empresa",value:l,onChange:he=>u(he.target.value)})}),i.jsx(Ge,{onClick:()=>{g(null),f(!0)},children:"Adicionar Usuário"})]})]}),a&&i.jsx("div",{className:"admin-error",children:a}),i.jsxs("div",{className:"users-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Nome"}),i.jsx("div",{children:"E-mail"}),i.jsx("div",{children:"Empresa"}),i.jsx("div",{children:"Telefone"}),i.jsx("div",{children:"Papel"}),i.jsx("div",{children:"Ações"})]}),n?i.jsx("div",{className:"users-viewport",children:Array.from({length:8}).map((he,Q)=>i.jsxs("div",{className:"table-row skeleton-row",children:[i.jsx("div",{className:"skeleton skeleton-text"}),i.jsx("div",{className:"skeleton skeleton-text"}),i.jsx("div",{className:"skeleton skeleton-text short"}),i.jsx("div",{className:"skeleton skeleton-text short"}),i.jsx("div",{className:"skeleton skeleton-badge"}),i.jsx("div",{className:"skeleton skeleton-actions"})]},Q))}):i.jsxs("div",{className:"users-viewport",ref:E,children:[i.jsx("div",{style:{height:O*_,position:"relative"},children:i.jsx("div",{style:{transform:`translateY(${V}px)`},children:F.map(he=>i.jsxs("div",{className:"table-row",children:[i.jsx("div",{children:he.name||he.displayName||"—"}),i.jsx("div",{children:he.email}),i.jsx("div",{children:he.company||"—"}),i.jsx("div",{children:he.phone||"—"}),i.jsx("div",{children:i.jsx("span",{className:`badge role-${he.role||"user"}`,children:he.role||"user"})}),i.jsxs("div",{className:"row-actions",children:[i.jsx("button",{className:"link",onClick:()=>{g(he),f(!0)},children:"Editar"}),i.jsx("button",{className:"link danger",onClick:()=>ve(he.id),children:"Remover"})]})]},he.id))})}),M.length===0&&i.jsx("div",{className:"table-empty",children:"Nenhum usuário encontrado."})]})]}),i.jsx("div",{className:"toasts",children:y.map(he=>i.jsx("div",{className:`toast toast-${he.type}`,children:he.message},he.id))}),h&&i.jsx(Pde,{initial:m||void 0,onClose:()=>{f(!1),g(null)},onSave:z})]})}function Pde({initial:t,onClose:e,onSave:n}){const[r,a]=w.useState({email:t?.email||"",name:t?.name||t?.displayName||"",company:t?.company||"",phone:t?.phone||"",role:t?.role||"operator",displayName:t?.displayName,photoURL:t?.photoURL}),[s,l]=w.useState(!1),u=f=>{const{name:m,value:g}=f.target;a(y=>({...y,[m]:g}))},h=async()=>{l(!0),await n(r),l(!1)};return i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:t?"Editar Usuário":"Adicionar Usuário"}),i.jsx("button",{className:"close",onClick:e,children:"×"})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"form-grid",children:[i.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:r.email||"",onChange:f=>u(f)}),i.jsx(Ye,{type:"text",name:"name",placeholder:"Nome",value:r.name||"",onChange:f=>u(f)}),i.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:r.company||"",onChange:f=>u(f)}),i.jsx(Ye,{type:"text",name:"phone",placeholder:"Telefone",value:r.phone||"",onChange:f=>u(f)}),i.jsxs("div",{className:"select-wrapper",children:[i.jsx("label",{children:"Papel"}),i.jsxs("select",{name:"role",value:r.role,onChange:u,children:[i.jsx("option",{value:"user",children:"Usuário"}),i.jsx("option",{value:"admin",children:"Administrador"})]})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx(Ge,{variant:"outline",onClick:e,disabled:s,children:"Cancelar"}),i.jsx(Ge,{onClick:h,disabled:s,children:s?"Salvando...":"Salvar"})]})]})})}function Ide(){const[t,e]=w.useState({type:"production",period:"weekly",format:"pdf",includeCharts:!0,includeDetails:!0}),[n,r]=w.useState(!1),a=[{value:"production",label:"Produção",icon:i.jsx(lr,{})},{value:"quality",label:"Qualidade",icon:i.jsx(vu,{})},{value:"maintenance",label:"Manutenção",icon:i.jsx(Nf,{})},{value:"financial",label:"Financeiro",icon:i.jsx(lr,{})}],s=[{value:"daily",label:"Diário"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensal"},{value:"custom",label:"Personalizado"}],l=[{value:"pdf",label:"PDF",icon:i.jsx(vu,{})},{value:"excel",label:"Excel",icon:i.jsx(cs,{})},{value:"csv",label:"CSV",icon:i.jsx(cs,{})}],u=async()=>{r(!0),setTimeout(()=>{r(!1),alert("Relatório gerado com sucesso!")},2e3)};return i.jsx("div",{className:"reports-page",children:i.jsxs("div",{className:"reports-container",children:[i.jsxs("div",{className:"reports-header",children:[i.jsxs("h1",{children:[i.jsx(vu,{className:"header-icon"}),"Relatórios de Produção"]}),i.jsx("p",{children:"Gere relatórios completos e detalhados do sistema"})]}),i.jsxs("div",{className:"reports-content",children:[i.jsxs("div",{className:"config-section",children:[i.jsx("h2",{children:"Configuração do Relatório"}),i.jsxs("div",{className:"config-grid",children:[i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Tipo de Relatório"}),i.jsx("div",{className:"type-selector",children:a.map(h=>i.jsxs("button",{className:`type-card ${t.type===h.value?"active":""}`,onClick:()=>e(f=>({...f,type:h.value})),children:[i.jsx("div",{className:"type-icon",children:h.icon}),i.jsx("span",{children:h.label})]},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Período"}),i.jsx("div",{className:"period-selector",children:s.map(h=>i.jsx("button",{className:`period-btn ${t.period===h.value?"active":""}`,onClick:()=>e(f=>({...f,period:h.value})),children:h.label},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Formato de Saída"}),i.jsx("div",{className:"format-selector",children:l.map(h=>i.jsxs("button",{className:`format-card ${t.format===h.value?"active":""}`,onClick:()=>e(f=>({...f,format:h.value})),children:[i.jsx("div",{className:"format-icon",children:h.icon}),i.jsx("span",{children:h.label})]},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Opções Adicionais"}),i.jsxs("div",{className:"options-grid",children:[i.jsxs("label",{className:"option-item",children:[i.jsx("input",{type:"checkbox",checked:t.includeCharts,onChange:h=>e(f=>({...f,includeCharts:h.target.checked}))}),i.jsx("span",{children:"Incluir Gráficos"})]}),i.jsxs("label",{className:"option-item",children:[i.jsx("input",{type:"checkbox",checked:t.includeDetails,onChange:h=>e(f=>({...f,includeDetails:h.target.checked}))}),i.jsx("span",{children:"Incluir Detalhes"})]})]})]})]}),i.jsx("div",{className:"actions-section",children:i.jsx(Ge,{variant:"primary",onClick:u,disabled:n,className:"generate-btn",children:n?i.jsxs(i.Fragment,{children:[i.jsx(cs,{className:"spinning"}),"Gerando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(vu,{}),"Gerar Relatório"]})})})]}),i.jsxs("div",{className:"preview-section",children:[i.jsx("h2",{children:"Prévia do Relatório"}),i.jsxs("div",{className:"preview-card",children:[i.jsxs("div",{className:"preview-header",children:[i.jsx("h3",{children:"Relatório de Produção"}),i.jsx("span",{className:"preview-period",children:"Última Semana"})]}),i.jsxs("div",{className:"preview-content",children:[i.jsxs("div",{className:"preview-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Pedidos Processados"}),i.jsx("span",{className:"stat-value",children:"156"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Eficiência"}),i.jsx("span",{className:"stat-value",children:"94.2%"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Tempo Médio"}),i.jsx("span",{className:"stat-value",children:"2.3h"})]})]}),i.jsx("div",{className:"preview-chart",children:i.jsxs("div",{className:"chart-placeholder",children:[i.jsx(lr,{}),i.jsx("p",{children:"Gráfico de Produção"})]})})]})]})]})]})]})})}function Rde(){const[t,e]=w.useState(null),[n,r]=w.useState(!0),[a,s]=w.useState("30d"),[l,u]=w.useState("production");w.useEffect(()=>{h()},[a]);const h=async()=>{r(!0),setTimeout(()=>{const f={productionTrend:Array.from({length:30},(m,g)=>({date:new Date(Date.now()-(29-g)*24*60*60*1e3).toLocaleDateString("pt-BR",{month:"short",day:"numeric"}),orders:Math.floor(Math.random()*50)+20,efficiency:Math.floor(Math.random()*20)+80})),qualityMetrics:[{category:"Aprovados",value:85,color:"#48bb78"},{category:"Reprovados",value:10,color:"#e53e3e"},{category:"Em Análise",value:5,color:"#ed8936"}],sectorPerformance:[{sector:"Montagem",orders:45,efficiency:92},{sector:"Usinagem",orders:38,efficiency:88},{sector:"Pintura",orders:32,efficiency:85},{sector:"Embalagem",orders:28,efficiency:90}],kpis:{totalOrders:143,avgEfficiency:88.75,qualityRate:85,downtime:2.3}};e(f),r(!1)},1e3)};return n?i.jsx("div",{className:"analytics-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando analytics..."})]})}):t?i.jsx("div",{className:"analytics-page",children:i.jsxs("div",{className:"analytics-container",children:[i.jsxs("div",{className:"analytics-header",children:[i.jsxs("h1",{children:[i.jsx(lr,{className:"header-icon"}),"Analytics de Produção"]}),i.jsx("p",{children:"Visualize métricas detalhadas e tendências de produção"})]}),i.jsxs("div",{className:"kpis-grid",children:[i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(Uh,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsx("h3",{children:t.kpis.totalOrders}),i.jsx("p",{children:"Total de Pedidos"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(KE,{}),"+12%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(lr,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.avgEfficiency,"%"]}),i.jsx("p",{children:"Eficiência Média"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(KE,{}),"+3.2%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(WE,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.qualityRate,"%"]}),i.jsx("p",{children:"Taxa de Qualidade"}),i.jsxs("span",{className:"kpi-trend negative",children:[i.jsx(z2,{}),"-1.5%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(Uh,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.downtime,"h"]}),i.jsx("p",{children:"Tempo de Parada"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(z2,{}),"-0.8h"]})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"time-range-selector",children:[i.jsx("label",{children:"Período:"}),i.jsx("div",{className:"range-buttons",children:[{value:"7d",label:"7 dias"},{value:"30d",label:"30 dias"},{value:"90d",label:"90 dias"}].map(f=>i.jsx("button",{className:`range-btn ${a===f.value?"active":""}`,onClick:()=>s(f.value),children:f.label},f.value))})]}),i.jsxs("div",{className:"chart-selector",children:[i.jsx("label",{children:"Tipo de Gráfico:"}),i.jsx("div",{className:"chart-buttons",children:[{value:"production",label:"Produção",icon:i.jsx(Uh,{})},{value:"quality",label:"Qualidade",icon:i.jsx(WE,{})},{value:"sectors",label:"Setores",icon:i.jsx(lr,{})}].map(f=>i.jsxs("button",{className:`chart-btn ${l===f.value?"active":""}`,onClick:()=>u(f.value),children:[f.icon,f.label]},f.value))})]})]}),i.jsx("div",{className:"charts-section",children:i.jsxs("div",{className:"chart-container",children:[i.jsxs("h2",{children:[l==="production"&&"Tendência de Produção",l==="quality"&&"Métricas de Qualidade",l==="sectors"&&"Performance por Setor"]}),i.jsxs("div",{className:"chart-wrapper",children:[l==="production"&&i.jsx(lg,{width:"100%",height:400,children:i.jsxs(vue,{data:t.productionTrend,children:[i.jsx(yv,{strokeDasharray:"3 3"}),i.jsx(_f,{dataKey:"date"}),i.jsx(Tf,{}),i.jsx(og,{}),i.jsx(xv,{type:"monotone",dataKey:"orders",stroke:"#667eea",strokeWidth:3}),i.jsx(xv,{type:"monotone",dataKey:"efficiency",stroke:"#48bb78",strokeWidth:3})]})}),l==="quality"&&i.jsx(lg,{width:"100%",height:400,children:i.jsxs(Cue,{children:[i.jsx(n_,{data:t.qualityMetrics,cx:"50%",cy:"50%",labelLine:!1,label:({category:f,percent:m})=>`${f} ${((m||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:t.qualityMetrics.map((f,m)=>i.jsx(bc,{fill:f.color},`cell-${m}`))}),i.jsx(og,{})]})}),l==="sectors"&&i.jsx(lg,{width:"100%",height:400,children:i.jsxs(xue,{data:t.sectorPerformance,children:[i.jsx(yv,{strokeDasharray:"3 3"}),i.jsx(_f,{dataKey:"sector"}),i.jsx(Tf,{}),i.jsx(og,{}),i.jsx(pv,{dataKey:"orders",fill:"#667eea"}),i.jsx(pv,{dataKey:"efficiency",fill:"#48bb78"})]})})]})]})}),i.jsxs("div",{className:"data-table-section",children:[i.jsx("h2",{children:"Dados Detalhados"}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"analytics-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Data"}),i.jsx("th",{children:"Pedidos"}),i.jsx("th",{children:"Eficiência"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:t.productionTrend.slice(-10).map((f,m)=>i.jsxs("tr",{children:[i.jsx("td",{children:f.date}),i.jsx("td",{children:f.orders}),i.jsxs("td",{children:[f.efficiency,"%"]}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${f.efficiency>=85?"good":f.efficiency>=70?"warning":"bad"}`,children:f.efficiency>=85?"Excelente":f.efficiency>=70?"Bom":"Atenção"})})]},m))})]})})]})]})}):null}function kde(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(!0),[l,u]=w.useState(""),[h,f]=w.useState(""),[m,g]=w.useState("");w.useEffect(()=>{y()},[]);const y=async()=>{s(!0),setTimeout(()=>{const E=[{id:"1",name:"João Silva",email:"joao.silva@empresa.com",role:"Operador Senior",sector:"Montagem",shift:"morning",status:"active",skills:["Soldagem","Montagem","Qualidade"],performance:95,lastActivity:"2 horas atrás"},{id:"2",name:"Maria Santos",email:"maria.santos@empresa.com",role:"Supervisora",sector:"Usinagem",shift:"afternoon",status:"active",skills:["CNC","Supervisão","Treinamento"],performance:92,lastActivity:"1 hora atrás"},{id:"3",name:"Pedro Costa",email:"pedro.costa@empresa.com",role:"Operador",sector:"Pintura",shift:"night",status:"on_leave",skills:["Pintura","Preparação"],performance:88,lastActivity:"1 dia atrás"}],C=[{id:"1",name:"Manhã",startTime:"06:00",endTime:"14:00",operators:12},{id:"2",name:"Tarde",startTime:"14:00",endTime:"22:00",operators:15},{id:"3",name:"Noite",startTime:"22:00",endTime:"06:00",operators:8}];e(E),r(C),s(!1)},1e3)},j=t.filter(E=>{const C=E.name.toLowerCase().includes(l.toLowerCase())||E.email.toLowerCase().includes(l.toLowerCase()),N=!h||E.sector===h,P=!m||E.shift===m;return C&&N&&P}),b=E=>{const N={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},on_leave:{label:"Afastado",class:"status-leave"}}[E]||{label:E,class:"status-default"};return i.jsx("span",{className:`status-badge ${N.class}`,children:N.label})},_=E=>{const N={morning:{label:"Manhã",class:"shift-morning"},afternoon:{label:"Tarde",class:"shift-afternoon"},night:{label:"Noite",class:"shift-night"}}[E]||{label:E,class:"shift-default"};return i.jsx("span",{className:`shift-badge ${N.class}`,children:N.label})},T=E=>{confirm("Tem certeza que deseja remover este operador?")&&e(C=>C.filter(N=>N.id!==E))};return a?i.jsx("div",{className:"team-management-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando dados da equipe..."})]})}):i.jsx("div",{className:"team-management-page",children:i.jsxs("div",{className:"team-management-container",children:[i.jsxs("div",{className:"team-header",children:[i.jsxs("h1",{children:[i.jsx(ns,{className:"header-icon"}),"Gestão de Equipe"]}),i.jsx("p",{children:"Gerencie operadores, turnos e habilidades da equipe"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(ns,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total de Operadores"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Ft,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(E=>E.status==="active").length}),i.jsx("p",{children:"Operadores Ativos"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Nf,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:n.length}),i.jsx("p",{children:"Turnos Configurados"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(ns,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("h3",{children:[Math.round(t.reduce((E,C)=>E+C.performance,0)/t.length),"%"]}),i.jsx("p",{children:"Performance Média"})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"search-filters",children:[i.jsxs("div",{className:"search-input",children:[i.jsx(Va,{className:"search-icon"}),i.jsx(Ye,{name:"search",type:"text",placeholder:"Buscar operadores...",value:l,onChange:E=>u(E.target.value)})]}),i.jsxs("div",{className:"filters",children:[i.jsxs("select",{value:h,onChange:E=>f(E.target.value),children:[i.jsx("option",{value:"",children:"Todos os Setores"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Usinagem",children:"Usinagem"}),i.jsx("option",{value:"Pintura",children:"Pintura"}),i.jsx("option",{value:"Embalagem",children:"Embalagem"})]}),i.jsxs("select",{value:m,onChange:E=>g(E.target.value),children:[i.jsx("option",{value:"",children:"Todos os Turnos"}),i.jsx("option",{value:"morning",children:"Manhã"}),i.jsx("option",{value:"afternoon",children:"Tarde"}),i.jsx("option",{value:"night",children:"Noite"})]})]})]}),i.jsxs(Ge,{variant:"primary",onClick:()=>console.log("Add operator modal"),className:"add-btn",children:[i.jsx(uP,{}),"Adicionar Operador"]})]}),i.jsxs("div",{className:"operators-section",children:[i.jsx("h2",{children:"Operadores"}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"operators-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Nome"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Cargo"}),i.jsx("th",{children:"Setor"}),i.jsx("th",{children:"Turno"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Performance"}),i.jsx("th",{children:"Última Atividade"}),i.jsx("th",{children:"Ações"})]})}),i.jsx("tbody",{children:j.map(E=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"operator-info",children:[i.jsx("div",{className:"operator-avatar",children:E.name.split(" ").map(C=>C[0]).join("")}),i.jsx("span",{children:E.name})]})}),i.jsx("td",{children:E.email}),i.jsx("td",{children:E.role}),i.jsx("td",{children:E.sector}),i.jsx("td",{children:_(E.shift)}),i.jsx("td",{children:b(E.status)}),i.jsx("td",{children:i.jsxs("div",{className:"performance-bar",children:[i.jsx("div",{className:"performance-fill",style:{width:`${E.performance}%`}}),i.jsxs("span",{children:[E.performance,"%"]})]})}),i.jsx("td",{children:E.lastActivity}),i.jsx("td",{children:i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"action-btn edit",onClick:()=>console.log("Edit operator",E.id),title:"Editar",children:i.jsx(Yu,{})}),i.jsx("button",{className:"action-btn delete",onClick:()=>T(E.id),title:"Remover",children:i.jsx(Wl,{})})]})})]},E.id))})]})})]}),i.jsxs("div",{className:"shifts-section",children:[i.jsx("h2",{children:"Turnos"}),i.jsx("div",{className:"shifts-grid",children:n.map(E=>i.jsxs("div",{className:"shift-card",children:[i.jsxs("div",{className:"shift-header",children:[i.jsx("h3",{children:E.name}),i.jsxs("span",{className:"shift-time",children:[E.startTime," - ",E.endTime]})]}),i.jsx("div",{className:"shift-info",children:i.jsxs("div",{className:"shift-stat",children:[i.jsx(ns,{}),i.jsxs("span",{children:[E.operators," operadores"]})]})})]},E.id))})]})]})})}function Dde(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,s]=w.useState(new Date),[l,u]=w.useState("week"),[h,f]=w.useState(""),[,m]=w.useState(!1);w.useEffect(()=>{g()},[]);const g=async()=>{r(!0),setTimeout(()=>{const N=[{id:"1",title:"Produção Pedido #1234",description:"Montagem de peças mecânicas",startTime:"08:00",endTime:"16:00",date:new Date().toISOString().split("T")[0],type:"production",status:"scheduled",assignedTo:["João Silva","Maria Santos"],priority:"high"},{id:"2",title:"Manutenção Preventiva",description:"Manutenção da máquina CNC-001",startTime:"14:00",endTime:"18:00",date:new Date(Date.now()+864e5).toISOString().split("T")[0],type:"maintenance",status:"scheduled",assignedTo:["Pedro Costa"],priority:"medium"},{id:"3",title:"Reunião de Equipe",description:"Reunião semanal de produção",startTime:"09:00",endTime:"10:00",date:new Date(Date.now()+1728e5).toISOString().split("T")[0],type:"meeting",status:"scheduled",assignedTo:["João Silva","Maria Santos","Pedro Costa"],priority:"low"}];e(N),r(!1)},1e3)},y=N=>({production:"🏭",maintenance:"🔧",meeting:"👥",break:"☕"})[N]||"📅",j=N=>({production:"#667eea",maintenance:"#ed8936",meeting:"#48bb78",break:"#a0aec0"})[N]||"#4a5568",b=N=>({low:"#48bb78",medium:"#ed8936",high:"#e53e3e",urgent:"#9f7aea"})[N]||"#4a5568",_=N=>{const k={scheduled:{label:"Agendado",class:"status-scheduled"},in_progress:{label:"Em Andamento",class:"status-progress"},completed:{label:"Concluído",class:"status-completed"},cancelled:{label:"Cancelado",class:"status-cancelled"}}[N]||{label:N,class:"status-default"};return i.jsx("span",{className:`status-badge ${k.class}`,children:k.label})},T=t.filter(N=>!h||N.type===h),E=N=>{const P=new Date(a);l==="day"?P.setDate(P.getDate()+(N==="next"?1:-1)):l==="week"?P.setDate(P.getDate()+(N==="next"?7:-7)):l==="month"&&P.setMonth(P.getMonth()+(N==="next"?1:-1)),s(P)},C=N=>N.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n?i.jsx("div",{className:"scheduling-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando cronograma..."})]})}):i.jsx("div",{className:"scheduling-page",children:i.jsxs("div",{className:"scheduling-container",children:[i.jsxs("div",{className:"schedule-header",children:[i.jsxs("h1",{children:[i.jsx(Nf,{className:"header-icon"}),"Cronograma de Produção"]}),i.jsx("p",{children:"Visualize e gerencie o cronograma de produção"})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"date-navigation",children:[i.jsx("button",{className:"nav-btn",onClick:()=>E("prev"),children:i.jsx(eP,{})}),i.jsx("h2",{children:C(a)}),i.jsx("button",{className:"nav-btn",onClick:()=>E("next"),children:i.jsx($2,{})})]}),i.jsxs("div",{className:"view-controls",children:[i.jsx("div",{className:"view-selector",children:[{value:"day",label:"Dia"},{value:"week",label:"Semana"},{value:"month",label:"Mês"}].map(N=>i.jsx("button",{className:`view-btn ${l===N.value?"active":""}`,onClick:()=>u(N.value),children:N.label},N.value))}),i.jsx("div",{className:"filter-controls",children:i.jsxs("select",{value:h,onChange:N=>f(N.target.value),children:[i.jsx("option",{value:"",children:"Todos os Tipos"}),i.jsx("option",{value:"production",children:"Produção"}),i.jsx("option",{value:"maintenance",children:"Manutenção"}),i.jsx("option",{value:"meeting",children:"Reunião"}),i.jsx("option",{value:"break",children:"Pausa"})]})}),i.jsxs(Ge,{variant:"primary",onClick:()=>m(!0),className:"add-btn",children:[i.jsx(Jh,{}),"Adicionar"]})]})]}),i.jsxs("div",{className:"schedule-content",children:[l==="day"&&i.jsxs("div",{className:"day-view",children:[i.jsx("h3",{children:"Agenda do Dia"}),i.jsx("div",{className:"timeline",children:Array.from({length:24},(N,P)=>i.jsxs("div",{className:"time-slot",children:[i.jsxs("div",{className:"time-label",children:[P.toString().padStart(2,"0"),":00"]}),i.jsx("div",{className:"time-content",children:T.filter(k=>parseInt(k.startTime.split(":")[0])===P).map(k=>i.jsxs("div",{className:"schedule-item",style:{borderLeftColor:j(k.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:y(k.type)}),i.jsx("span",{className:"item-title",children:k.title}),i.jsx("span",{className:"priority-dot",style:{backgroundColor:b(k.priority)}})]}),i.jsxs("div",{className:"item-time",children:[k.startTime," - ",k.endTime]}),i.jsx("div",{className:"item-assigned",children:k.assignedTo.join(", ")})]},k.id))})]},P))})]}),l==="week"&&i.jsxs("div",{className:"week-view",children:[i.jsx("h3",{children:"Agenda da Semana"}),i.jsx("div",{className:"week-grid",children:T.map(N=>i.jsxs("div",{className:"week-item",style:{borderLeftColor:j(N.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:y(N.type)}),i.jsx("span",{className:"item-title",children:N.title})]}),i.jsxs("div",{className:"item-details",children:[i.jsxs("div",{className:"item-time",children:[i.jsx(Ft,{}),N.startTime," - ",N.endTime]}),i.jsx("div",{className:"item-status",children:_(N.status)})]}),i.jsx("div",{className:"item-assigned",children:N.assignedTo.join(", ")})]},N.id))})]}),l==="month"&&i.jsxs("div",{className:"month-view",children:[i.jsx("h3",{children:"Visão Mensal"}),i.jsx("div",{className:"month-grid",children:T.map(N=>i.jsxs("div",{className:"month-item",style:{borderLeftColor:j(N.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:y(N.type)}),i.jsx("span",{className:"item-title",children:N.title})]}),i.jsx("div",{className:"item-date",children:new Date(N.date).toLocaleDateString("pt-BR")}),i.jsx("div",{className:"item-status",children:_(N.status)})]},N.id))})]})]}),i.jsxs("div",{className:"items-list-section",children:[i.jsx("h3",{children:"Todos os Itens Agendados"}),i.jsxs("div",{className:"items-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Tipo"}),i.jsx("div",{children:"Título"}),i.jsx("div",{children:"Data"}),i.jsx("div",{children:"Horário"}),i.jsx("div",{children:"Status"}),i.jsx("div",{children:"Responsáveis"}),i.jsx("div",{children:"Ações"})]}),T.map(N=>i.jsxs("div",{className:"table-row",children:[i.jsxs("div",{className:"item-type",children:[i.jsx("span",{className:"type-icon",children:y(N.type)}),i.jsx("span",{className:"type-label",children:N.type})]}),i.jsx("div",{className:"item-title",children:N.title}),i.jsx("div",{className:"item-date",children:new Date(N.date).toLocaleDateString("pt-BR")}),i.jsxs("div",{className:"item-time",children:[N.startTime," - ",N.endTime]}),i.jsx("div",{className:"item-status",children:_(N.status)}),i.jsx("div",{className:"item-assigned",children:N.assignedTo.join(", ")}),i.jsxs("div",{className:"item-actions",children:[i.jsx("button",{className:"action-btn edit",children:i.jsx(Yu,{})}),i.jsx("button",{className:"action-btn delete",children:i.jsx(Wl,{})})]})]},N.id))]})]})]})})}function Mde(){const[t,e]=w.useState([]),[n,r]=w.useState({autoSync:!0,syncInterval:30,retryAttempts:3,timeout:300,enabledSources:["bling","erp","crm"]}),[a,s]=w.useState(!0),[l,u]=w.useState(!1);w.useEffect(()=>{h()},[]);const h=async()=>{s(!0),setTimeout(()=>{const _=[{id:"1",name:"Sincronização Bling - Pedidos",type:"import",status:"completed",progress:100,startTime:new Date(Date.now()-36e5).toISOString(),endTime:new Date(Date.now()-35e5).toISOString(),recordsProcessed:156,recordsTotal:156},{id:"2",name:"Exportação ERP - Produtos",type:"export",status:"running",progress:65,startTime:new Date(Date.now()-3e5).toISOString(),recordsProcessed:89,recordsTotal:137},{id:"3",name:"Sincronização CRM - Clientes",type:"sync",status:"failed",progress:0,startTime:new Date(Date.now()-18e5).toISOString(),endTime:new Date(Date.now()-17e5).toISOString(),recordsProcessed:0,recordsTotal:45,error:"Timeout na conexão com o servidor"}];e(_),s(!1)},1e3)},f=_=>{switch(_){case"completed":return i.jsx(Fr,{className:"status-icon completed"});case"running":return i.jsx(kn,{className:"status-icon running spinning"});case"failed":return i.jsx(pt,{className:"status-icon failed"});default:return i.jsx(Ft,{className:"status-icon pending"})}},m=_=>{const E={pending:{label:"Pendente",class:"status-pending"},running:{label:"Executando",class:"status-running"},completed:{label:"Concluído",class:"status-completed"},failed:{label:"Falhou",class:"status-failed"}}[_]||{label:_,class:"status-default"};return i.jsx("span",{className:`status-badge ${E.class}`,children:E.label})},g=_=>{switch(_){case"import":return i.jsx(cs,{className:"type-icon import"});case"export":return i.jsx(vB,{className:"type-icon export"});case"sync":return i.jsx(kn,{className:"type-icon sync"});default:return i.jsx(q2,{className:"type-icon default"})}},y=async()=>{u(!0),setTimeout(()=>{const _={id:Date.now().toString(),name:"Sincronização Manual",type:"sync",status:"running",progress:0,startTime:new Date().toISOString(),recordsProcessed:0,recordsTotal:100};e(T=>[_,...T]),u(!1)},1e3)},j=_=>{e(T=>T.map(E=>E.id===_?{...E,status:"running",progress:0,startTime:new Date().toISOString()}:E))},b=(_,T)=>{const E=new Date(_),N=(T?new Date(T):new Date).getTime()-E.getTime(),P=Math.floor(N/6e4),k=Math.floor(N%6e4/1e3);return`${P}m ${k}s`};return a?i.jsx("div",{className:"data-sync-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando dados de sincronização..."})]})}):i.jsx("div",{className:"data-sync-page",children:i.jsxs("div",{className:"data-sync-container",children:[i.jsxs("div",{className:"sync-header",children:[i.jsxs("h1",{children:[i.jsx(kn,{className:"header-icon"}),"Sincronização de Dados"]}),i.jsx("p",{children:"Sincronize dados com sistemas externos e ERPs"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(q2,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total de Jobs"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Fr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(_=>_.status==="completed").length}),i.jsx("p",{children:"Concluídos"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(kn,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(_=>_.status==="running").length}),i.jsx("p",{children:"Em Execução"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(pt,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(_=>_.status==="failed").length}),i.jsx("p",{children:"Com Falha"})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"sync-controls",children:[i.jsx(Ge,{variant:"primary",onClick:y,disabled:l,className:"sync-btn",children:l?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"spinning"}),"Sincronizando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kn,{}),"Iniciar Sincronização"]})}),i.jsxs(Ge,{variant:"outline",onClick:()=>r(_=>({..._,autoSync:!_.autoSync})),className:"auto-sync-btn",children:[i.jsx(Ba,{}),n.autoSync?"Desativar":"Ativar"," Auto Sync"]})]}),i.jsxs("div",{className:"config-info",children:[i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Intervalo:"}),i.jsxs("span",{className:"config-value",children:[n.syncInterval," min"]})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Tentativas:"}),i.jsx("span",{className:"config-value",children:n.retryAttempts})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Timeout:"}),i.jsxs("span",{className:"config-value",children:[n.timeout,"s"]})]})]})]}),i.jsxs("div",{className:"jobs-section",children:[i.jsx("h2",{children:"Jobs de Sincronização"}),i.jsx("div",{className:"jobs-list",children:t.map(_=>i.jsxs("div",{className:"job-card",children:[i.jsxs("div",{className:"job-header",children:[i.jsxs("div",{className:"job-info",children:[i.jsx("div",{className:"job-icon",children:g(_.type)}),i.jsxs("div",{className:"job-details",children:[i.jsx("h3",{children:_.name}),i.jsxs("div",{className:"job-meta",children:[i.jsx("span",{className:"job-type",children:_.type.toUpperCase()}),i.jsx("span",{className:"job-time",children:_.startTime&&b(_.startTime,_.endTime)})]})]})]}),i.jsxs("div",{className:"job-status",children:[f(_.status),m(_.status)]})]}),i.jsxs("div",{className:"job-progress",children:[i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-fill",style:{width:`${_.progress}%`}})}),i.jsxs("div",{className:"progress-text",children:[_.recordsProcessed," / ",_.recordsTotal," registros (",_.progress,"%)"]})]}),_.error&&i.jsxs("div",{className:"job-error",children:[i.jsx(pt,{}),i.jsx("span",{children:_.error})]}),i.jsxs("div",{className:"job-actions",children:[_.status==="failed"&&i.jsxs(Ge,{variant:"outline",onClick:()=>j(_.id),className:"retry-btn",children:[i.jsx(kn,{}),"Tentar Novamente"]}),_.status==="running"&&i.jsxs(Ge,{variant:"outline",disabled:!0,className:"cancel-btn",children:[i.jsx(pt,{}),"Cancelar"]})]})]},_.id))})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h2",{children:"Configurações de Sincronização"}),i.jsxs("div",{className:"config-grid",children:[i.jsx("div",{className:"config-group",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.autoSync,onChange:_=>r(T=>({...T,autoSync:_.target.checked}))}),"Sincronização Automática"]})}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Intervalo de Sincronização (minutos)"}),i.jsx("input",{type:"number",value:n.syncInterval,onChange:_=>r(T=>({...T,syncInterval:parseInt(_.target.value)})),min:"5",max:"1440"})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Tentativas de Retry"}),i.jsx("input",{type:"number",value:n.retryAttempts,onChange:_=>r(T=>({...T,retryAttempts:parseInt(_.target.value)})),min:"1",max:"10"})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Timeout (segundos)"}),i.jsx("input",{type:"number",value:n.timeout,onChange:_=>r(T=>({...T,timeout:parseInt(_.target.value)})),min:"30",max:"600"})]})]}),i.jsx("div",{className:"config-actions",children:i.jsx(Ge,{variant:"primary",children:"Salvar Configurações"})})]})]})})}function Lde({onTokenConfigured:t}){const[e,n]=w.useState(""),[r,a]=w.useState(!1),[s,l]=w.useState(null),[,u]=w.useState(!1),h=async()=>{if(!e.trim()){l({success:!1,message:"Digite um token válido"});return}a(!0),l(null);try{Rt.setAccessToken(e);const g=await Rt.getOrders(1,1);l({success:!0,message:`Token configurado com sucesso! Encontrados ${g.total} pedidos.`}),t?.()}catch(g){const y=g instanceof Error?g.message:"Erro desconhecido";l({success:!1,message:`Erro ao configurar token: ${y}`})}finally{a(!1)}},f=()=>{const g="demo-token-"+Date.now();Rt.setAccessToken(g),l({success:!0,message:"Modo demonstração ativado! Os testes usarão dados simulados."}),u(!0),t?.()},m=()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),n(""),l(null),u(!1),t?.()};return i.jsxs("div",{className:"bling-quick-setup",children:[i.jsxs("div",{className:"setup-header",children:[i.jsx(XE,{className:"rocket-icon"}),i.jsx("h2",{children:"Configuração Rápida do Bling"}),i.jsx("p",{children:"Configure um token para testar a integração ou ative o modo demonstração."})]}),i.jsxs("div",{className:"setup-options",children:[i.jsxs("div",{className:"option-card",children:[i.jsxs("div",{className:"option-header",children:[i.jsx(Sv,{className:"option-icon"}),i.jsx("h3",{children:"Token Real"}),i.jsx("p",{children:"Use seu Access Token real do Bling para dados reais"})]}),i.jsxs("div",{className:"option-form",children:[i.jsx("input",{type:"text",value:e,onChange:g=>n(g.target.value),placeholder:"Cole seu Access Token do Bling aqui...",disabled:r}),i.jsx("button",{className:"btn btn-primary",onClick:h,disabled:r||!e.trim(),children:r?"Testando...":"Configurar Token Real"})]})]}),i.jsxs("div",{className:"option-card demo-card",children:[i.jsxs("div",{className:"option-header",children:[i.jsx(ts,{className:"option-icon"}),i.jsx("h3",{children:"Modo Demonstração"}),i.jsx("p",{children:"Ative para testar com dados simulados (sem token real)"})]}),i.jsx("div",{className:"option-form",children:i.jsxs("button",{className:"btn btn-demo",onClick:f,disabled:r,children:[i.jsx(XE,{}),"Ativar Modo Demonstração"]})})]})]}),s&&i.jsxs("div",{className:`setup-result ${s.success?"success":"error"}`,children:[i.jsx("div",{className:"result-icon",children:s.success?i.jsx(sr,{}):i.jsx(pt,{})}),i.jsx("div",{className:"result-message",children:s.message})]}),i.jsx("div",{className:"setup-actions",children:i.jsx("button",{className:"btn btn-outline",onClick:m,disabled:r,children:"Limpar Configuração"})}),i.jsxs("div",{className:"setup-info",children:[i.jsx("h4",{children:"Como obter um Access Token:"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Acesse sua conta do Bling"}),i.jsx("li",{children:"Vá em Configurações → API"}),i.jsx("li",{children:"Gere um novo Access Token"}),i.jsx("li",{children:"Cole o token no campo acima"})]}),i.jsxs("div",{className:"demo-info",children:[i.jsx("strong",{children:"💡 Dica:"}),' Se você não tem um token do Bling, use o "Modo Demonstração" para testar todas as funcionalidades com dados simulados.']}),i.jsxs("div",{className:"proxy-info",children:[i.jsx("strong",{children:"🔧 Informação Técnica:"})," O sistema usa um proxy local para contornar problemas de CORS com a API do Bling. Todas as requisições passam por `/api/bling` que redireciona para `https://api.bling.com.br/Api/v3`."]})]})]})}function Bde(){const[t,e]=w.useState(!1),[n,r]=w.useState(!1),[a,s]=w.useState({connection:null,orders:null,products:null,customers:null,sync:null,endpoints:null,apiStructure:null,apiBaseUrls:null});w.useEffect(()=>{const E=()=>{const N=localStorage.getItem("bling_access_token");r(!!N)};E();const C=()=>E();return window.addEventListener("storage",C),window.addEventListener("blingTokenChanged",C),()=>{window.removeEventListener("storage",C),window.removeEventListener("blingTokenChanged",C)}},[]);const l=async()=>{e(!0);try{const E=await Rt.testConnection();s(C=>({...C,connection:{success:E.success,error:E.error}}))}catch(E){s(C=>({...C,connection:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},u=async()=>{e(!0);try{const E=await Rt.getOrders(1,10);s(C=>({...C,orders:{success:!0,data:E.data,count:E.total}}))}catch(E){s(C=>({...C,orders:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},h=async()=>{e(!0);try{const E=await Rt.getProducts(1,10);s(C=>({...C,products:{success:!0,data:E.data,count:E.data?.length||0}}))}catch(E){s(C=>({...C,products:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},f=async()=>{e(!0);try{const E=await Rt.getCustomers(1,10);s(C=>({...C,customers:{success:!0,data:E.data,count:E.data?.length||0}}))}catch(E){s(C=>({...C,customers:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},m=async()=>{e(!0);try{const E=await Rt.syncData();s(C=>({...C,sync:{success:E.success,data:E,error:E.errors.length>0?E.errors.join(", "):void 0}}))}catch(E){s(C=>({...C,sync:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},g=async()=>{e(!0);try{const E=await Rt.testEndpoints(),C=E.filter(N=>N.success);s(N=>({...N,endpoints:{success:C.length>0,data:E,error:C.length===0?"Nenhum endpoint de vendas encontrado":void 0}}))}catch(E){s(C=>({...C,endpoints:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},y=async()=>{e(!0);try{const E=await Rt.testApiStructure(),C=E.filter(N=>N.success);s(N=>({...N,apiStructure:{success:C.length>0,data:E,error:C.length===0?"Nenhum endpoint de estrutura encontrado":void 0}}))}catch(E){s(C=>({...C,apiStructure:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},j=async()=>{e(!0);try{const E=await Rt.testApiBaseUrls(),C=E.filter(N=>N.success);s(N=>({...N,apiBaseUrls:{success:C.length>0,data:E,error:C.length===0?"Nenhuma URL base funcionando":void 0}}))}catch(E){s(C=>({...C,apiBaseUrls:{success:!1,error:E instanceof Error?E.message:"Erro desconhecido"}}))}finally{e(!1)}},b=async()=>{await l(),await j(),await y(),await g(),await u(),await h(),await f(),await m()},_=E=>E?E.success?i.jsx(Fr,{className:"success-icon"}):i.jsx(pt,{className:"error-icon"}):null,T=E=>E?E.success?"success":"error":"pending";return i.jsxs("div",{className:"bling-test-page",children:[i.jsxs("div",{className:"test-header",children:[i.jsx("h1",{children:"🧪 Teste da Integração Bling"}),i.jsx("p",{children:"Teste todas as funcionalidades da API Bling integrada"})]}),!n&&i.jsx(Lde,{onTokenConfigured:()=>r(!0)}),i.jsxs("div",{style:{margin:"1rem 0",padding:"1rem",background:"#f0f0f0",borderRadius:"8px"},children:[i.jsx("h4",{children:"🔧 Configuração de Token"}),i.jsxs("p",{children:["Status atual: ",n?"Token configurado":"Sem token"]}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[i.jsx("button",{onClick:()=>{localStorage.setItem("bling_access_token","demo-token-"+Date.now()),r(!0),window.location.reload()},style:{padding:"0.5rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🧪 Modo Demonstração"}),i.jsx("button",{onClick:()=>{const E=prompt("Cole seu Access Token do Bling:");E&&E.trim()&&(localStorage.setItem("bling_access_token",E.trim()),r(!0),window.location.reload())},style:{padding:"0.5rem 1rem",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🔑 Configurar Token Real"}),i.jsx("button",{onClick:()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),r(!1),window.location.reload()},style:{padding:"0.5rem 1rem",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"🗑️ Limpar Token"})]}),i.jsxs("div",{style:{marginTop:"1rem",padding:"0.5rem",background:"#e9ecef",borderRadius:"4px",fontSize:"0.9rem"},children:[i.jsx("strong",{children:"💡 Dica:"})," Para obter um Access Token do Bling, acesse sua conta → Configurações → API → Gerar novo token"]}),i.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7"},children:[i.jsx("h5",{children:"🔑 Token Atual"}),i.jsxs("div",{style:{marginTop:"0.5rem"},children:[i.jsx("strong",{children:"Status:"})," ",n?"✅ Configurado":"❌ Não configurado"]}),n&&i.jsxs("div",{style:{marginTop:"0.5rem"},children:[i.jsx("strong",{children:"Token:"}),i.jsx("div",{style:{background:"#f8f9fa",padding:"0.5rem",borderRadius:"4px",marginTop:"0.25rem",fontFamily:"monospace",fontSize:"0.8rem",wordBreak:"break-all",border:"1px solid #dee2e6"},children:localStorage.getItem("bling_access_token")}),i.jsx("button",{onClick:()=>{const E=localStorage.getItem("bling_access_token");E&&(navigator.clipboard.writeText(E),alert("Token copiado para a área de transferência!"))},style:{marginTop:"0.5rem",padding:"0.25rem 0.5rem",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"📋 Copiar Token"})]})]}),i.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[i.jsx("h5",{children:"🔐 Configuração OAuth (Client ID encontrado!)"}),i.jsxs("p",{style:{fontSize:"0.9rem",margin:"0.5rem 0"},children:[i.jsx("strong",{children:"Client ID:"})," ",i.jsx("code",{children:"ea0ed893739830a936ff759edda059ba1d09286c"})]}),i.jsx("button",{onClick:()=>{const E="ea0ed893739830a936ff759edda059ba1d09286c",C=window.location.origin+"/bling/callback",N=`https://www.bling.com.br/b/Api/v3/oauth/authorize?response_type=code&client_id=${E}&redirect_uri=${encodeURIComponent(C)}&scope=read`;window.open(N,"_blank","width=600,height=600")},style:{padding:"0.5rem 1rem",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem"},children:"🔗 Fazer Autenticação OAuth"}),i.jsx("p",{style:{fontSize:"0.8rem",margin:"0.5rem 0",color:"#6c757d"},children:"Isso abrirá uma nova janela para autenticação no Bling"})]})]}),i.jsx("div",{className:"test-controls",children:i.jsxs("button",{className:"btn btn-primary",onClick:b,disabled:t,children:[t?i.jsx(oP,{className:"spinning"}):i.jsx(kn,{}),t?"Testando...":"Executar Todos os Testes"]})}),i.jsxs("div",{className:"test-results",children:[i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🔗 Teste de Conexão"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:l,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.connection)}`,children:[_(a.connection),i.jsx("div",{className:"test-info",children:a.connection?a.connection.success?i.jsx("span",{children:"✅ Conexão estabelecida com sucesso!"}):i.jsxs("span",{children:["❌ Erro: ",a.connection.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🌐 Teste de URLs Base da API"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:j,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.apiBaseUrls)}`,children:[_(a.apiBaseUrls),i.jsx("div",{className:"test-info",children:a.apiBaseUrls?a.apiBaseUrls.success?i.jsx("span",{children:"✅ URLs base da API encontradas!"}):i.jsxs("span",{children:["❌ Erro: ",a.apiBaseUrls.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.apiBaseUrls?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver URLs base da API"}),i.jsx("pre",{children:JSON.stringify(a.apiBaseUrls.data,null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🏗️ Teste de Estrutura da API"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:y,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.apiStructure)}`,children:[_(a.apiStructure),i.jsx("div",{className:"test-info",children:a.apiStructure?a.apiStructure.success?i.jsx("span",{children:"✅ Estrutura da API descoberta!"}):i.jsxs("span",{children:["❌ Erro: ",a.apiStructure.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.apiStructure?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver estrutura da API"}),i.jsx("pre",{children:JSON.stringify(a.apiStructure.data,null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🔍 Teste de Endpoints"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:g,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.endpoints)}`,children:[_(a.endpoints),i.jsx("div",{className:"test-info",children:a.endpoints?a.endpoints.success?i.jsx("span",{children:"✅ Endpoints de vendas encontrados!"}):i.jsxs("span",{children:["❌ Erro: ",a.endpoints.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.endpoints?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver resultados dos endpoints"}),i.jsx("pre",{children:JSON.stringify(a.endpoints.data,null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"📦 Teste de Vendas"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:u,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.orders)}`,children:[_(a.orders),i.jsx("div",{className:"test-info",children:a.orders?a.orders.success?i.jsxs("span",{children:["✅ ",a.orders.count," vendas encontradas"]}):i.jsxs("span",{children:["❌ Erro: ",a.orders.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.orders?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver dados das vendas"}),i.jsx("pre",{children:JSON.stringify(a.orders.data.slice(0,2),null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🏷️ Teste de Produtos"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:h,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.products)}`,children:[_(a.products),i.jsx("div",{className:"test-info",children:a.products?a.products.success?i.jsxs("span",{children:["✅ ",a.products.count," produtos encontrados"]}):i.jsxs("span",{children:["❌ Erro: ",a.products.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.products?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver dados dos produtos"}),i.jsx("pre",{children:JSON.stringify(a.products.data.slice(0,2),null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"👥 Teste de Clientes"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:f,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.customers)}`,children:[_(a.customers),i.jsx("div",{className:"test-info",children:a.customers?a.customers.success?i.jsxs("span",{children:["✅ ",a.customers.count," clientes encontrados"]}):i.jsxs("span",{children:["❌ Erro: ",a.customers.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.customers?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver dados dos clientes"}),i.jsx("pre",{children:JSON.stringify(a.customers.data.slice(0,2),null,2)})]})})]})]}),i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsx("h3",{children:"🔄 Teste de Sincronização Completa"}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:m,disabled:t,children:"Testar"})]}),i.jsxs("div",{className:`test-result ${T(a.sync)}`,children:[_(a.sync),i.jsx("div",{className:"test-info",children:a.sync?a.sync.success?i.jsx("span",{children:"✅ Sincronização concluída com sucesso!"}):i.jsxs("span",{children:["❌ Erro: ",a.sync.error]}):i.jsx("span",{children:"⏳ Aguardando teste..."})}),a.sync?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver resultado da sincronização"}),i.jsx("pre",{children:JSON.stringify(a.sync.data,null,2)})]})})]})]})]}),i.jsxs("div",{className:"test-summary",children:[i.jsx("h3",{children:"📊 Resumo dos Testes"}),i.jsxs("div",{className:"summary-stats",children:[i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Conexão:"}),i.jsx("span",{className:`stat-value ${T(a.connection)}`,children:a.connection?a.connection.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"URLs Base:"}),i.jsx("span",{className:`stat-value ${T(a.apiBaseUrls)}`,children:a.apiBaseUrls?a.apiBaseUrls.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Estrutura:"}),i.jsx("span",{className:`stat-value ${T(a.apiStructure)}`,children:a.apiStructure?a.apiStructure.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Endpoints:"}),i.jsx("span",{className:`stat-value ${T(a.endpoints)}`,children:a.endpoints?a.endpoints.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Vendas:"}),i.jsx("span",{className:`stat-value ${T(a.orders)}`,children:a.orders?a.orders.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Produtos:"}),i.jsx("span",{className:`stat-value ${T(a.products)}`,children:a.products?a.products.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Clientes:"}),i.jsx("span",{className:`stat-value ${T(a.customers)}`,children:a.customers?a.customers.success?"✅":"❌":"⏳"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("span",{className:"stat-label",children:"Sincronização:"}),i.jsx("span",{className:`stat-value ${T(a.sync)}`,children:a.sync?a.sync.success?"✅":"❌":"⏳"})]})]})]})]})}function Vde({product:t,isOpen:e,onClose:n,onSave:r}){const[a,s]=w.useState(null),[l,u]=w.useState({});if(w.useEffect(()=>{t&&(s({...t}),u({}))},[t]),!e||!a)return null;const h=(j,b)=>{s(_=>{if(!_)return null;if(j.includes(".")){const[T,E]=j.split("."),C=_[T];return{..._,[T]:{...typeof C=="object"&&C!==null?C:{},[E]:b}}}return{..._,[j]:b}}),l[j]&&u(_=>({..._,[j]:""}))},f=()=>{const j={};return a?.name.trim()||(j.name="Nome do produto é obrigatório"),a?.category.trim()||(j.category="Categoria é obrigatória"),a?.series.trim()||(j.series="Série é obrigatória"),a?.description.trim()||(j.description="Descrição é obrigatória"),u(j),Object.keys(j).length===0},m=()=>{f()&&a&&(r(a),n())},g=["Acessórios","Aviação","HVC","Conectores","Proteção","Terminais","Borracha","Backshell","Manifolds","Cabos","PCB"],y=["Premium","Standard","Industrial","Automotive","High Voltage","Control","Accessory","Aviation","Fuse Box","Rubber","Protection"];return i.jsx("div",{className:"modal-overlay",onClick:n,children:i.jsxs("div",{className:"product-edit-modal",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"modal-title",children:[i.jsx(Ba,{className:"title-icon"}),i.jsx("h2",{children:"Editar Produto"})]}),i.jsx("button",{className:"close-button",onClick:n,children:i.jsx($r,{})})]}),i.jsx("div",{className:"modal-content",children:i.jsxs("form",{className:"edit-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(ys,{})," Informações Básicas"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",children:"Nome do Produto *"}),i.jsx("input",{type:"text",id:"name",value:a.name,onChange:j=>h("name",j.target.value),className:l.name?"error":"",placeholder:"Digite o nome do produto"}),l.name&&i.jsx("span",{className:"error-message",children:l.name})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"category",children:"Categoria *"}),i.jsxs("select",{id:"category",value:a.category,onChange:j=>h("category",j.target.value),className:l.category?"error":"",children:[i.jsx("option",{value:"",children:"Selecione uma categoria"}),g.map(j=>i.jsx("option",{value:j,children:j},j))]}),l.category&&i.jsx("span",{className:"error-message",children:l.category})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"series",children:"Série *"}),i.jsxs("select",{id:"series",value:a.series,onChange:j=>h("series",j.target.value),className:l.series?"error":"",children:[i.jsx("option",{value:"",children:"Selecione uma série"}),y.map(j=>i.jsx("option",{value:j,children:j},j))]}),l.series&&i.jsx("span",{className:"error-message",children:l.series})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:a.status,onChange:j=>h("status",j.target.value),children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"maintenance",children:"Manutenção"})]})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"description",children:"Descrição *"}),i.jsx("textarea",{id:"description",value:a.description,onChange:j=>h("description",j.target.value),className:l.description?"error":"",placeholder:"Descreva o produto",rows:3}),l.description&&i.jsx("span",{className:"error-message",children:l.description})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(sc,{})," Especificações Técnicas"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"voltage",children:"Voltagem"}),i.jsx("input",{type:"text",id:"voltage",value:a.specifications.voltage||"",onChange:j=>h("specifications.voltage",j.target.value),placeholder:"Ex: 220V"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"current",children:"Corrente"}),i.jsx("input",{type:"text",id:"current",value:a.specifications.current||"",onChange:j=>h("specifications.current",j.target.value),placeholder:"Ex: 16A"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"material",children:"Material"}),i.jsx("input",{type:"text",id:"material",value:a.specifications.material||"",onChange:j=>h("specifications.material",j.target.value),placeholder:"Ex: Plástico ABS"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"dimensions",children:"Dimensões"}),i.jsx("input",{type:"text",id:"dimensions",value:a.specifications.dimensions||"",onChange:j=>h("specifications.dimensions",j.target.value),placeholder:"Ex: 25x15x10mm"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"weight",children:"Peso"}),i.jsx("input",{type:"text",id:"weight",value:a.specifications.weight||"",onChange:j=>h("specifications.weight",j.target.value),placeholder:"Ex: 50g"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"temperature",children:"Temperatura"}),i.jsx("input",{type:"text",id:"temperature",value:a.specifications.temperature||"",onChange:j=>h("specifications.temperature",j.target.value),placeholder:"Ex: -40°C a +85°C"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"certification",children:"Certificação"}),i.jsx("input",{type:"text",id:"certification",value:a.specifications.certification||"",onChange:j=>h("specifications.certification",j.target.value),placeholder:"Ex: CE, UL, RoHS"})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(Yl,{})," Informações Adicionais"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"manufacturer",children:"Fabricante"}),i.jsx("input",{type:"text",id:"manufacturer",value:a.additionalInfo?.manufacturer||"",onChange:j=>h("additionalInfo.manufacturer",j.target.value),placeholder:"Nome do fabricante"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"partNumber",children:"Número da Peça"}),i.jsx("input",{type:"text",id:"partNumber",value:a.additionalInfo?.partNumber||"",onChange:j=>h("additionalInfo.partNumber",j.target.value),placeholder:"Código da peça"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"warranty",children:"Garantia"}),i.jsx("input",{type:"text",id:"warranty",value:a.additionalInfo?.warranty||"",onChange:j=>h("additionalInfo.warranty",j.target.value),placeholder:"Ex: 2 anos"})]})]})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"}),i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:m,children:[i.jsx(Cu,{}),"Salvar Alterações"]})]})]})})}function ha({category:t}){const e=Cs(),[n,r]=w.useState([]),[a,s]=w.useState([]),[l,u]=w.useState(""),[h,f]=w.useState(""),[m,g]=w.useState(""),[y,j]=w.useState(""),[b,_]=w.useState(!0),[T,E]=w.useState(null),[C,N]=w.useState(!1);w.useEffect(()=>{t&&f(t)},[t]),w.useEffect(()=>{const L=[{id:"1",name:"Conector Elétrico Premium",category:"Conectores",series:"Premium",description:"Conector elétrico de alta qualidade para aplicações industriais",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"220V",current:"16A",material:"Plástico ABS",dimensions:"25x15x10mm",weight:"15g",temperature:"-40°C a +85°C",certification:"CE, RoHS"},additionalInfo:{manufacturer:"RR Vision",partNumber:"RR-CON-001",warranty:"2 anos",createdAt:"2024-01-15",updatedAt:"2024-01-20",createdBy:"Admin"}},{id:"2",name:"Terminal de Montagem",category:"Terminais",series:"Standard",description:"Terminal de montagem para conexões elétricas",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"110V",current:"10A",material:"Metal",dimensions:"20x10x5mm"}},{id:"3",name:"Plug Industrial",category:"Conectores",series:"Industrial",description:"Plug industrial para ambientes pesados",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"380V",current:"32A",material:"Metal + Plástico",dimensions:"40x25x15mm"}},{id:"4",name:"Fusível Automotivo",category:"Proteção",series:"Automotive",description:"Fusível automotivo para proteção elétrica",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"12V",current:"15A",material:"Metal",dimensions:"15x8x3mm"}},{id:"5",name:"Cabo de Alta Tensão",category:"Cabos",series:"High Voltage",description:"Cabo de alta tensão para aplicações industriais",image:"/api/placeholder/200/150",status:"maintenance",specifications:{voltage:"1000V",current:"50A",material:"Cobre + PVC",dimensions:"1000x10x10mm"}},{id:"6",name:"Relé de Controle",category:"Controle",series:"Control",description:"Relé de controle para automação industrial",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"24V",current:"5A",material:"Plástico + Metal",dimensions:"30x20x15mm"}},{id:"7",name:"Acessório de Montagem",category:"Acessórios",series:"Accessory",description:"Acessório para montagem de conectores",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"N/A",current:"N/A",material:"Plástico",dimensions:"10x5x3mm"}},{id:"8",name:"Plug de Aviação",category:"Aviação",series:"Aviation",description:"Plug especializado para aplicações aeronáuticas",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"115V",current:"20A",material:"Metal + Cerâmica",dimensions:"35x20x12mm"}},{id:"9",name:"Conector HVC",category:"HVC",series:"High Voltage",description:"Conector de alta voltagem para aplicações especiais",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"1500V",current:"100A",material:"Cerâmica + Metal",dimensions:"50x30x20mm",weight:"120g",temperature:"-55°C a +125°C",certification:"UL, CSA"},additionalInfo:{manufacturer:"RR Vision",partNumber:"RR-HVC-001",warranty:"3 anos",createdAt:"2024-01-10",updatedAt:"2024-01-18",createdBy:"Admin"}},{id:"10",name:"Caixa de Fusíveis",category:"Proteção",series:"Fuse Box",description:"Caixa de fusíveis e relés para proteção elétrica",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"220V",current:"63A",material:"Plástico ABS",dimensions:"200x150x80mm"}},{id:"11",name:"Terminal de Borracha",category:"Borracha",series:"Rubber",description:"Terminal com isolamento de borracha",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"110V",current:"16A",material:"Borracha + Metal",dimensions:"25x12x8mm"}},{id:"12",name:"Backshell Protetor",category:"Backshell",series:"Protection",description:"Proteção traseira para conectores",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"N/A",current:"N/A",material:"Metal",dimensions:"40x25x15mm"}}];r(L),s(L),_(!1)},[]),w.useEffect(()=>{let L=n;l&&(L=L.filter(z=>z.name.toLowerCase().includes(l.toLowerCase())||z.description.toLowerCase().includes(l.toLowerCase()))),h&&(L=L.filter(z=>z.category===h)),m&&(L=L.filter(z=>z.series===m)),y&&(L=L.filter(z=>z.status===y)),s(L)},[l,h,m,y,n]);const P=L=>{E(L),N(!0)},k=L=>{e(`/app/product-detail/${L.id}`)},M=()=>{N(!1),E(null)},O=L=>{r(z=>z.map(ve=>ve.id===L.id?L:ve)),s(z=>z.map(ve=>ve.id===L.id?L:ve))},D=[...new Set(n.map(L=>L.category))],B=[...new Set(n.map(L=>L.series))],F=L=>{switch(L){case"active":return"#28a745";case"inactive":return"#6c757d";case"maintenance":return"#ffc107";default:return"#6c757d"}},V=L=>{switch(L){case"active":return"Ativo";case"inactive":return"Inativo";case"maintenance":return"Manutenção";default:return"Desconhecido"}};return b?i.jsx("div",{className:"products-page",children:i.jsxs("div",{className:"products-header",children:[i.jsx("h1",{children:"Produtos"}),i.jsx("p",{children:"Carregando produtos..."})]})}):i.jsxs("div",{className:"products-page",children:[i.jsxs("div",{className:"products-header",children:[i.jsxs("h1",{children:[i.jsx(ys,{})," ",t?`Produtos - ${t}`:"Gestão de Produtos"]}),i.jsx("p",{children:t?`Visualize produtos da categoria ${t}`:"Visualize e gerencie todos os produtos do sistema"})]}),i.jsxs("div",{className:"products-content",children:[i.jsxs("div",{className:"products-sidebar",children:[i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(Va,{})," Busca"]}),i.jsxs("div",{className:"search-box",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:L=>u(L.target.value)})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(nB,{})," Categorias"]}),i.jsxs("div",{className:"category-dropdown",children:[i.jsxs("div",{className:"category-trigger",children:[i.jsx("span",{children:h||"Todas as categorias"}),i.jsx("span",{className:"dropdown-arrow",children:"▼"})]}),i.jsxs("div",{className:"category-menu",children:[i.jsx("div",{className:"category-item",onClick:()=>f(""),children:"Todas as categorias"}),D.map(L=>i.jsx("div",{className:"category-item",onClick:()=>f(L),children:L},L))]})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(lP,{})," Séries"]}),i.jsxs("div",{className:"series-dropdown",children:[i.jsxs("div",{className:"series-trigger",children:[i.jsx("span",{children:m||"Todas as séries"}),i.jsx("span",{className:"dropdown-arrow",children:"▼"})]}),i.jsxs("div",{className:"series-menu",children:[i.jsx("div",{className:"series-item",onClick:()=>g(""),children:"Todas as séries"}),B.map(L=>i.jsx("div",{className:"series-item",onClick:()=>g(L),children:L},L))]})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(sc,{})," Status"]}),i.jsxs("select",{value:y,onChange:L=>j(L.target.value),children:[i.jsx("option",{value:"",children:"Todos os status"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"maintenance",children:"Manutenção"})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(lr,{})," Estatísticas"]}),i.jsxs("div",{className:"stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Total:"}),i.jsx("span",{className:"stat-value",children:n.length})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Ativos:"}),i.jsx("span",{className:"stat-value",children:n.filter(L=>L.status==="active").length})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Manutenção:"}),i.jsx("span",{className:"stat-value",children:n.filter(L=>L.status==="maintenance").length})]})]})]})]}),i.jsxs("div",{className:"products-main",children:[i.jsx("div",{className:"products-grid",children:a.map(L=>i.jsxs("div",{className:"product-card",onClick:()=>k(L),style:{cursor:"pointer"},children:[i.jsxs("div",{className:"product-image",children:[i.jsx("img",{src:L.image,alt:L.name}),i.jsx("div",{className:"product-status",style:{backgroundColor:F(L.status)},children:V(L.status)})]}),i.jsxs("div",{className:"product-info",children:[i.jsx("h3",{children:L.name}),i.jsxs("div",{className:"product-category-section",children:[i.jsx("span",{className:"category-tag",children:L.category}),i.jsxs("span",{className:"series-tag",children:["- ",L.series]})]}),i.jsx("p",{className:"product-description",children:L.description}),i.jsxs("div",{className:"product-specs",children:[L.specifications.voltage&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Voltagem:"}),i.jsx("span",{className:"spec-value",children:L.specifications.voltage})]}),L.specifications.current&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Corrente:"}),i.jsx("span",{className:"spec-value",children:L.specifications.current})]}),L.specifications.material&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Material:"}),i.jsx("span",{className:"spec-value",children:L.specifications.material})]})]})]}),i.jsx("div",{className:"product-actions",children:i.jsxs("button",{className:"btn btn-outline",onClick:z=>{z.stopPropagation(),P(L)},children:[i.jsx(Ba,{}),"Editar"]})})]},L.id))}),a.length===0&&i.jsxs("div",{className:"no-products",children:[i.jsx(ys,{className:"no-products-icon"}),i.jsx("h3",{children:"Nenhum produto encontrado"}),i.jsx("p",{children:"Tente ajustar os filtros de busca"})]})]})]}),i.jsx(Vde,{product:T,isOpen:C,onClose:M,onSave:O})]})}const Ude=()=>{z7();const t=Cs(),[e,n]=w.useState(""),[r,a]=w.useState(""),[s,l]=w.useState(""),[u,h]=w.useState("Female"),[f,m]=w.useState("Sealed"),[g,y]=w.useState(""),[j,b]=w.useState("Applicable Housing"),_={partNumber:"xtm06-8sd-cover",productCategory:"Accessory",images:["/api/placeholder/300/200","/api/placeholder/300/200","/api/placeholder/300/200"],specifications:{material:"pa66+gf15",color:"brown",maleFemale:"Female",sealedUnsealed:"Sealed",numberOfRows:2,numberOfPositions:8,flammabilityRating:"UL 94 V0",operatingTemperature:"-40-125c",qtyPer:"200pcs",packingType:"plastick bag",remarks:"mating with 8 pins dtm female housing"},applicableParts:[{type:"Applicable Housing",partNumber:"XTM06-08SD"},{type:"Applicable Seal",partNumber:"XTM06-SEAL-01"},{type:"Mating Locker",partNumber:"XTM06-LOCK-01"},{type:"Mating Terminal",partNumber:"XTM06-TERM-01"},{type:"Assembling Parts",partNumber:"XTM06-ASSY-01"}],drawings:[{name:"XTM06-8SD-COVER.pdf",url:"/drawings/XTM06-8SD-COVER.pdf"},{name:"XTM06-8SD-COVER-EN.pdf",url:"/drawings/XTM06-8SD-COVER-EN.pdf"}]},T=()=>{console.log("Searching with filters:",{searchTerm:e,selectedCategory:r,selectedSeries:s,selectedMaleFemale:u,selectedSealedUnsealed:f,selectedPositions:g})};return i.jsxs("div",{className:"product-detail-page",children:[i.jsx("div",{className:"back-button-container",children:i.jsxs("button",{className:"back-button",onClick:()=>t("/app/products"),children:[i.jsx(GL,{}),"Voltar para Produtos"]})}),i.jsxs("div",{className:"product-detail-content",children:[i.jsx("div",{className:"spec-search-sidebar",children:i.jsxs("div",{className:"spec-search-box",children:[i.jsx("h3",{className:"spec-search-title",children:"SPEC SEARCH"}),i.jsxs("div",{className:"search-bar",children:[i.jsx(Va,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:E=>n(E.target.value),className:"search-input"})]}),i.jsxs("div",{className:"filter-group",children:[i.jsxs("label",{className:"filter-label",children:[i.jsx("input",{type:"radio",name:"category",checked:!0,onChange:()=>{}}),"Products Category"]}),i.jsxs("select",{value:r,onChange:E=>a(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Please select Products"}),i.jsx("option",{value:"connector",children:"Connector"}),i.jsx("option",{value:"accessory",children:"Accessory"}),i.jsx("option",{value:"terminal",children:"Terminal"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsxs("label",{className:"filter-label",children:[i.jsx("input",{type:"radio",name:"series",checked:!0,onChange:()=>{}}),"Series"]}),i.jsxs("select",{value:s,onChange:E=>l(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Please select Series"}),i.jsx("option",{value:"xtm",children:"XTM Series"}),i.jsx("option",{value:"dtm",children:"DTM Series"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Male/Female"}),i.jsxs("div",{className:"radio-group",children:[i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"Male",checked:u==="Male",onChange:E=>h(E.target.value)}),"Male"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"Female",checked:u==="Female",onChange:E=>h(E.target.value)}),"Female"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"N/A",checked:u==="N/A",onChange:E=>h(E.target.value)}),"N/A"]})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Sealed/Unsealed"}),i.jsxs("div",{className:"radio-group",children:[i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"Sealed",checked:f==="Sealed",onChange:E=>m(E.target.value)}),"Sealed"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"Unsealed",checked:f==="Unsealed",onChange:E=>m(E.target.value)}),"Unsealed"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"N/A",checked:f==="N/A",onChange:E=>m(E.target.value)}),"N/A"]})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Number of Positions"}),i.jsxs("select",{value:g,onChange:E=>y(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Select Positions"}),i.jsx("option",{value:"4",children:"4"}),i.jsx("option",{value:"6",children:"6"}),i.jsx("option",{value:"8",children:"8"}),i.jsx("option",{value:"12",children:"12"})]})]}),i.jsx("button",{className:"search-button",onClick:T,children:"Search"})]})}),i.jsxs("div",{className:"product-main-content",children:[i.jsxs("div",{className:"product-introduction",children:[i.jsx("h2",{className:"section-title",children:"PRODUCT INTRODUCTION"}),i.jsxs("div",{className:"product-intro-content",children:[i.jsx("div",{className:"product-images",children:_.images.map((E,C)=>i.jsx("img",{src:E,alt:`Product view ${C+1}`,className:"product-image"},C))}),i.jsxs("div",{className:"product-basic-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Part Number:"}),i.jsx("span",{className:"info-value",children:_.partNumber})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Product Category:"}),i.jsx("span",{className:"info-value",children:_.productCategory})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Family Name/Series:"}),i.jsx("span",{className:"info-value",children:"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Dimension:"}),i.jsx("span",{className:"info-value",children:"-"})]})]})]})]}),i.jsxs("div",{className:"product-specification",children:[i.jsx("h2",{className:"section-title",children:"PRODUCT SPECIFICATION"}),i.jsxs("div",{className:"specification-table",children:[i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Material:"}),i.jsx("span",{className:"spec-value",children:_.specifications.material})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Color:"}),i.jsx("span",{className:"spec-value",children:_.specifications.color})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Male/Female:"}),i.jsx("span",{className:"spec-value",children:_.specifications.maleFemale})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Sealed/Unsealed:"}),i.jsx("span",{className:"spec-value",children:_.specifications.sealedUnsealed})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Number of Rows:"}),i.jsx("span",{className:"spec-value",children:_.specifications.numberOfRows})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Number of Positions:"}),i.jsx("span",{className:"spec-value",children:_.specifications.numberOfPositions})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Flammability Rating:"}),i.jsx("span",{className:"spec-value",children:_.specifications.flammabilityRating})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Operating Temperature range:"}),i.jsx("span",{className:"spec-value",children:_.specifications.operatingTemperature})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Qty_per:"}),i.jsx("span",{className:"spec-value",children:_.specifications.qtyPer})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Packing_type:"}),i.jsx("span",{className:"spec-value",children:_.specifications.packingType})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Remarks:"}),i.jsx("span",{className:"spec-value",children:_.specifications.remarks})]})]})]}),i.jsxs("div",{className:"applicable-parts",children:[i.jsx("h2",{className:"section-title",children:"APPLICABLE PARTS"}),i.jsx("div",{className:"parts-tabs",children:_.applicableParts.map(E=>i.jsx("button",{className:`part-tab ${j===E.type?"active":""}`,onClick:()=>b(E.type),children:E.type},E.type))}),i.jsx("div",{className:"parts-content",children:_.applicableParts.filter(E=>E.type===j).map(E=>i.jsx("div",{className:"part-number",children:E.partNumber},E.type))})]}),i.jsxs("div",{className:"drawing-section",children:[i.jsx("h2",{className:"section-title",children:"DRAWING"}),i.jsx("div",{className:"drawing-links",children:_.drawings.map((E,C)=>i.jsxs("a",{href:E.url,className:"drawing-link",download:!0,children:[i.jsx(cs,{className:"download-icon"}),E.name]},C))})]})]})]})]})};function zde(){const t=Ti(),e=Cs(),n=()=>{const a=t.pathname;return a==="/app"||a==="/app/"?"orders":a==="/app/schedule"?"schedule":a==="/app/productivity"?"productivity":a==="/app/nonconformities"?"nonconformities":a==="/app/alerts"?"alerts":a==="/app/control"?"control":a==="/app/priority-optimization"?"priority-optimization":a==="/app/operators-list"?"operators-list":a==="/app/bling-integration"?"bling-integration":a==="/app/operational-routes"?"operational-routes":a==="/app/operational-routes-list"?"operational-routes-list":a==="/app/settings"?"settings":a==="/app/user-creation"?"user-creation":a==="/app/product-management"?"product-management":a==="/app/admin-users"?"admin-users":a==="/app/reports"?"reports":a==="/app/analytics"?"analytics":a==="/app/team-management"?"team-management":a==="/app/scheduling"?"scheduling":a==="/app/data-sync"?"data-sync":a==="/app/bling-test"?"bling-test":a==="/app/products"||a.startsWith("/app/product-detail")||a.startsWith("/app/products/")?"products":"orders"},r=a=>{const l={orders:"/app",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control","priority-optimization":"/app/priority-optimization","operators-list":"/app/operators-list","bling-integration":"/app/bling-integration","operational-routes":"/app/operational-routes","operational-routes-list":"/app/operational-routes-list",settings:"/app/settings","user-creation":"/app/user-creation","product-management":"/app/product-management","admin-users":"/app/admin-users",reports:"/app/reports",analytics:"/app/analytics","team-management":"/app/team-management",scheduling:"/app/scheduling","data-sync":"/app/data-sync","bling-test":"/app/bling-test",products:"/app/products"}[a]||"/app";e(l)};return i.jsxs("div",{className:"dashboard-layout",children:[i.jsx(IK,{currentPage:n(),onPageChange:r,variant:"default"}),i.jsx("div",{className:"dashboard-main",children:i.jsxs(HO,{children:[i.jsx(Fe,{index:!0,element:i.jsx(UK,{})}),i.jsx(Fe,{path:"schedule",element:i.jsx(DN,{})}),i.jsx(Fe,{path:"productivity",element:i.jsx(Rue,{})}),i.jsx(Fe,{path:"nonconformities",element:i.jsx(Uue,{})}),i.jsx(Fe,{path:"alerts",element:i.jsx(Kue,{})}),i.jsx(Fe,{path:"control",element:i.jsx(Jue,{})}),i.jsx(Fe,{path:"priority-optimization",element:i.jsx(ede,{})}),i.jsx(Fe,{path:"operators-list",element:i.jsx(DN,{})}),i.jsx(Fe,{path:"bling-integration",element:i.jsx(nde,{})}),i.jsx(Fe,{path:"operational-routes",element:i.jsx(sde,{})}),i.jsx(Fe,{path:"operational-routes-list",element:i.jsx(ode,{})}),i.jsx(Fe,{path:"settings",element:i.jsx(fde,{})}),i.jsx(Fe,{path:"user-creation",element:i.jsx(xde,{})}),i.jsx(Fe,{path:"product-management",element:i.jsx(Tde,{})}),i.jsx(Fe,{path:"admin-users",element:i.jsx(Ode,{})}),i.jsx(Fe,{path:"reports",element:i.jsx(Ide,{})}),i.jsx(Fe,{path:"analytics",element:i.jsx(Rde,{})}),i.jsx(Fe,{path:"team-management",element:i.jsx(kde,{})}),i.jsx(Fe,{path:"scheduling",element:i.jsx(Dde,{})}),i.jsx(Fe,{path:"data-sync",element:i.jsx(Mde,{})}),i.jsx(Fe,{path:"bling-test",element:i.jsx(Bde,{})}),i.jsx(Fe,{path:"products",element:i.jsx(ha,{})}),i.jsx(Fe,{path:"product-detail/:id",element:i.jsx(Ude,{})}),i.jsx(Fe,{path:"products/accessory",element:i.jsx(ha,{category:"Acessórios"})}),i.jsx(Fe,{path:"products/aviation-plug",element:i.jsx(ha,{category:"Aviação"})}),i.jsx(Fe,{path:"products/hvc",element:i.jsx(ha,{category:"HVC"})}),i.jsx(Fe,{path:"products/connector",element:i.jsx(ha,{category:"Conectores"})}),i.jsx(Fe,{path:"products/fuse-relay-box",element:i.jsx(ha,{category:"Proteção"})}),i.jsx(Fe,{path:"products/terminal",element:i.jsx(ha,{category:"Terminais"})}),i.jsx(Fe,{path:"products/rubber-parts",element:i.jsx(ha,{category:"Borracha"})}),i.jsx(Fe,{path:"products/backshell",element:i.jsx(ha,{category:"Backshell"})}),i.jsx(Fe,{path:"products/manifolds",element:i.jsx(ha,{category:"Manifolds"})}),i.jsx(Fe,{path:"products/wire-harness",element:i.jsx(ha,{category:"Cabos"})}),i.jsx(Fe,{path:"products/pcb-connector",element:i.jsx(ha,{category:"PCB"})})]})})]})}function $de({children:t}){const{user:e,loading:n}=Ha();return n?null:e?i.jsx(i.Fragment,{children:t}):i.jsx(FO,{to:rt.login,replace:!0})}function qde(){return i.jsxs(HO,{children:[i.jsx(Fe,{path:rt.landing,element:i.jsx(CB,{})}),i.jsx(Fe,{path:rt.login,element:i.jsx(EK,{})}),i.jsx(Fe,{path:rt.register,element:i.jsx(NK,{})}),i.jsx(Fe,{path:rt.forgotPassword,element:i.jsx(CK,{})}),i.jsx(Fe,{path:"/bling/callback",element:i.jsx(PK,{})}),i.jsx(Fe,{path:"/app/*",element:i.jsx($de,{children:i.jsx(zde,{})})}),i.jsx(Fe,{path:"*",element:i.jsx(FO,{to:rt.landing,replace:!0})})]})}function Fde(){return i.jsx(qde,{})}const Hde=u7.createRoot(document.getElementById("root"));Hde.render(i.jsx(w.StrictMode,{children:i.jsx(EL,{children:i.jsx(_K,{children:i.jsx(Fde,{})})})}));
