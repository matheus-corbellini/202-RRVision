(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F0={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function Fk(){if(sE)return Fd;sE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return Fd.Fragment=e,Fd.jsx=n,Fd.jsxs=n,Fd}var oE;function Hk(){return oE||(oE=1,F0.exports=Fk()),F0.exports}var l=Hk(),H0={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function Kk(){if(lE)return He;lE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function S(K,G,B){this.props=K,this.context=G,this.refs=T,this.updater=B||w}S.prototype.isReactComponent={},S.prototype.setState=function(K,G){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,G,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function N(){}N.prototype=S.prototype;function P(K,G,B){this.props=K,this.context=G,this.refs=T,this.updater=B||w}var I=P.prototype=new N;I.constructor=P,_(I,S.prototype),I.isPureReactComponent=!0;var D=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function j(K,G,B,X,pe,xe){return B=xe.ref,{$$typeof:t,type:K,key:G,ref:B!==void 0?B:null,props:xe}}function R(K,G){return j(K.type,G,void 0,void 0,void 0,K.props)}function L(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function F(K){var G={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(B){return G[B]})}var z=/\/+/g;function q(K,G){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):G.toString(36)}function $(){}function Ne(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then($,$):(K.status="pending",K.then(function(G){K.status==="pending"&&(K.status="fulfilled",K.value=G)},function(G){K.status==="pending"&&(K.status="rejected",K.reason=G)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function me(K,G,B,X,pe){var xe=typeof K;(xe==="undefined"||xe==="boolean")&&(K=null);var Se=!1;if(K===null)Se=!0;else switch(xe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(K.$$typeof){case t:case e:Se=!0;break;case p:return Se=K._init,me(Se(K._payload),G,B,X,pe)}}if(Se)return pe=pe(K),Se=X===""?"."+q(K,0):X,D(pe)?(B="",Se!=null&&(B=Se.replace(z,"$&/")+"/"),me(pe,G,B,"",function(ge){return ge})):pe!=null&&(L(pe)&&(pe=R(pe,B+(pe.key==null||K&&K.key===pe.key?"":(""+pe.key).replace(z,"$&/")+"/")+Se)),G.push(pe)),1;Se=0;var Fe=X===""?".":X+":";if(D(K))for(var $e=0;$e<K.length;$e++)X=K[$e],xe=Fe+q(X,$e),Se+=me(X,G,B,xe,pe);else if($e=x(K),typeof $e=="function")for(K=$e.call(K),$e=0;!(X=K.next()).done;)X=X.value,xe=Fe+q(X,$e++),Se+=me(X,G,B,xe,pe);else if(xe==="object"){if(typeof K.then=="function")return me(Ne(K),G,B,X,pe);throw G=String(K),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Se}function te(K,G,B){if(K==null)return K;var X=[],pe=0;return me(K,X,"","",function(xe){return G.call(B,xe,pe++)}),X}function de(K){if(K._status===-1){var G=K._result;G=G(),G.then(function(B){(K._status===0||K._status===-1)&&(K._status=1,K._result=B)},function(B){(K._status===0||K._status===-1)&&(K._status=2,K._result=B)}),K._status===-1&&(K._status=0,K._result=G)}if(K._status===1)return K._result.default;throw K._result}var ae=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function _e(){}return He.Children={map:te,forEach:function(K,G,B){te(K,function(){G.apply(this,arguments)},B)},count:function(K){var G=0;return te(K,function(){G++}),G},toArray:function(K){return te(K,function(G){return G})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},He.Component=S,He.Fragment=n,He.Profiler=i,He.PureComponent=P,He.StrictMode=r,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,He.__COMPILER_RUNTIME={__proto__:null,c:function(K){return k.H.useMemoCache(K)}},He.cache=function(K){return function(){return K.apply(null,arguments)}},He.cloneElement=function(K,G,B){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var X=_({},K.props),pe=K.key,xe=void 0;if(G!=null)for(Se in G.ref!==void 0&&(xe=void 0),G.key!==void 0&&(pe=""+G.key),G)!V.call(G,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&G.ref===void 0||(X[Se]=G[Se]);var Se=arguments.length-2;if(Se===1)X.children=B;else if(1<Se){for(var Fe=Array(Se),$e=0;$e<Se;$e++)Fe[$e]=arguments[$e+2];X.children=Fe}return j(K.type,pe,void 0,void 0,xe,X)},He.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},He.createElement=function(K,G,B){var X,pe={},xe=null;if(G!=null)for(X in G.key!==void 0&&(xe=""+G.key),G)V.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(pe[X]=G[X]);var Se=arguments.length-2;if(Se===1)pe.children=B;else if(1<Se){for(var Fe=Array(Se),$e=0;$e<Se;$e++)Fe[$e]=arguments[$e+2];pe.children=Fe}if(K&&K.defaultProps)for(X in Se=K.defaultProps,Se)pe[X]===void 0&&(pe[X]=Se[X]);return j(K,xe,void 0,void 0,null,pe)},He.createRef=function(){return{current:null}},He.forwardRef=function(K){return{$$typeof:d,render:K}},He.isValidElement=L,He.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:de}},He.memo=function(K,G){return{$$typeof:f,type:K,compare:G===void 0?null:G}},He.startTransition=function(K){var G=k.T,B={};k.T=B;try{var X=K(),pe=k.S;pe!==null&&pe(B,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(_e,ae)}catch(xe){ae(xe)}finally{k.T=G}},He.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},He.use=function(K){return k.H.use(K)},He.useActionState=function(K,G,B){return k.H.useActionState(K,G,B)},He.useCallback=function(K,G){return k.H.useCallback(K,G)},He.useContext=function(K){return k.H.useContext(K)},He.useDebugValue=function(){},He.useDeferredValue=function(K,G){return k.H.useDeferredValue(K,G)},He.useEffect=function(K,G,B){var X=k.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(K,G)},He.useId=function(){return k.H.useId()},He.useImperativeHandle=function(K,G,B){return k.H.useImperativeHandle(K,G,B)},He.useInsertionEffect=function(K,G){return k.H.useInsertionEffect(K,G)},He.useLayoutEffect=function(K,G){return k.H.useLayoutEffect(K,G)},He.useMemo=function(K,G){return k.H.useMemo(K,G)},He.useOptimistic=function(K,G){return k.H.useOptimistic(K,G)},He.useReducer=function(K,G,B){return k.H.useReducer(K,G,B)},He.useRef=function(K){return k.H.useRef(K)},He.useState=function(K){return k.H.useState(K)},He.useSyncExternalStore=function(K,G,B){return k.H.useSyncExternalStore(K,G,B)},He.useTransition=function(){return k.H.useTransition()},He.version="19.1.0",He}var cE;function yu(){return cE||(cE=1,H0.exports=Kk()),H0.exports}var A=yu();const eo=ia(A);var K0={exports:{}},Hd={},G0={exports:{}},W0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function Gk(){return uE||(uE=1,function(t){function e(te,de){var ae=te.length;te.push(de);e:for(;0<ae;){var _e=ae-1>>>1,K=te[_e];if(0<i(K,de))te[_e]=de,te[ae]=K,ae=_e;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var de=te[0],ae=te.pop();if(ae!==de){te[0]=ae;e:for(var _e=0,K=te.length,G=K>>>1;_e<G;){var B=2*(_e+1)-1,X=te[B],pe=B+1,xe=te[pe];if(0>i(X,ae))pe<K&&0>i(xe,X)?(te[_e]=xe,te[pe]=ae,_e=pe):(te[_e]=X,te[B]=ae,_e=B);else if(pe<K&&0>i(xe,ae))te[_e]=xe,te[pe]=ae,_e=pe;else break e}}return de}function i(te,de){var ae=te.sortIndex-de.sortIndex;return ae!==0?ae:te.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,v=null,x=3,w=!1,_=!1,T=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(te){for(var de=n(f);de!==null;){if(de.callback===null)r(f);else if(de.startTime<=te)r(f),de.sortIndex=de.expirationTime,e(h,de);else break;de=n(f)}}function k(te){if(T=!1,D(te),!_)if(n(h)!==null)_=!0,V||(V=!0,q());else{var de=n(f);de!==null&&me(k,de.startTime-te)}}var V=!1,j=-1,R=5,L=-1;function F(){return S?!0:!(t.unstable_now()-L<R)}function z(){if(S=!1,V){var te=t.unstable_now();L=te;var de=!0;try{e:{_=!1,T&&(T=!1,P(j),j=-1),w=!0;var ae=x;try{t:{for(D(te),v=n(h);v!==null&&!(v.expirationTime>te&&F());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,x=v.priorityLevel;var K=_e(v.expirationTime<=te);if(te=t.unstable_now(),typeof K=="function"){v.callback=K,D(te),de=!0;break t}v===n(h)&&r(h),D(te)}else r(h);v=n(h)}if(v!==null)de=!0;else{var G=n(f);G!==null&&me(k,G.startTime-te),de=!1}}break e}finally{v=null,x=ae,w=!1}de=void 0}}finally{de?q():V=!1}}}var q;if(typeof I=="function")q=function(){I(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Ne=$.port2;$.port1.onmessage=z,q=function(){Ne.postMessage(null)}}else q=function(){N(z,0)};function me(te,de){j=N(function(){te(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(te){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var ae=x;x=de;try{return te()}finally{x=ae}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=x;x=te;try{return de()}finally{x=ae}},t.unstable_scheduleCallback=function(te,de,ae){var _e=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?_e+ae:_e):ae=_e,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ae+K,te={id:p++,callback:de,priorityLevel:te,startTime:ae,expirationTime:K,sortIndex:-1},ae>_e?(te.sortIndex=ae,e(f,te),n(h)===null&&te===n(f)&&(T?(P(j),j=-1):T=!0,me(k,ae-_e))):(te.sortIndex=K,e(h,te),_||w||(_=!0,V||(V=!0,q()))),te},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(te){var de=x;return function(){var ae=x;x=de;try{return te.apply(this,arguments)}finally{x=ae}}}}(W0)),W0}var dE;function Wk(){return dE||(dE=1,G0.exports=Gk()),G0.exports}var Y0={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function Yk(){if(hE)return Fn;hE=1;var t=yu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,p)},Fn.flushSync=function(h){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=p,r.d.f()}},Fn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Fn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Fn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Fn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Fn.requestFormReset=function(h){r.d.r(h)},Fn.unstable_batchedUpdates=function(h,f){return h(f)},Fn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var fE;function Q6(){if(fE)return Y0.exports;fE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y0.exports=Yk(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function Xk(){if(mE)return Hd;mE=1;var t=Wk(),e=yu(),n=Q6();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,m=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),a;if(b===m)return d(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=b;else{for(var O=!1,M=y.child;M;){if(M===u){O=!0,u=y,m=b;break}if(M===m){O=!0,m=y,u=b;break}M=M.sibling}if(!O){for(M=b.child;M;){if(M===u){O=!0,u=b,m=y;break}if(M===m){O=!0,m=b,u=y;break}M=M.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var $=Symbol.for("react.client.reference");function Ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case I:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return o=a.displayName||null,o!==null?o:Ne(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return Ne(a(o))}catch{}}return null}var me=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},_e=[],K=-1;function G(a){return{current:a}}function B(a){0>K||(a.current=_e[K],_e[K]=null,K--)}function X(a,o){K++,_e[K]=a.current,a.current=o}var pe=G(null),xe=G(null),Se=G(null),Fe=G(null);function $e(a,o){switch(X(Se,o),X(xe,a),X(pe,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?D4(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=D4(o),a=k4(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}B(pe),X(pe,a)}function ge(){B(pe),B(xe),B(Se)}function ke(a){a.memoizedState!==null&&X(Fe,a);var o=pe.current,u=k4(o,a.type);o!==u&&(X(xe,a),X(pe,u))}function se(a){xe.current===a&&(B(pe),B(xe)),Fe.current===a&&(B(Fe),Ud._currentValue=ae)}var Z=Object.prototype.hasOwnProperty,Ee=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,Re=t.unstable_requestPaint,Je=t.unstable_now,zn=t.unstable_getCurrentPriorityLevel,mr=t.unstable_ImmediatePriority,Ct=t.unstable_UserBlockingPriority,ci=t.unstable_NormalPriority,Lu=t.unstable_LowPriority,fs=t.unstable_IdlePriority,Vu=t.log,Tf=t.unstable_setDisableYieldValue,Bt=null,ht=null;function pr(a){if(typeof Vu=="function"&&Tf(a),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Bt,a)}catch{}}var qn=Math.clz32?Math.clz32:Ao,Ef=Math.log,Kv=Math.LN2;function Ao(a){return a>>>=0,a===0?32:31-(Ef(a)/Kv|0)|0}var jo=256,No=4194304;function ui(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ql(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var y=0,b=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var M=m&134217727;return M!==0?(m=M&~b,m!==0?y=ui(m):(O&=M,O!==0?y=ui(O):u||(u=M&~a,u!==0&&(y=ui(u))))):(M=m&~b,M!==0?y=ui(M):O!==0?y=ui(O):u||(u=m&~a,u!==0&&(y=ui(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function Co(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Uu(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var a=jo;return jo<<=1,(jo&4194048)===0&&(jo=256),a}function zu(){var a=No;return No<<=1,(No&62914560)===0&&(No=4194304),a}function ca(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function ua(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qu(a,o,u,m,y,b){var O=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var M=a.entanglements,H=a.expirationTimes,ee=a.hiddenUpdates;for(u=O&~u;0<u;){var oe=31-qn(u),he=1<<oe;M[oe]=0,H[oe]=-1;var ne=ee[oe];if(ne!==null)for(ee[oe]=null,oe=0;oe<ne.length;oe++){var re=ne[oe];re!==null&&(re.lane&=-536870913)}u&=~he}m!==0&&Ni(a,m,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(O&~o))}function Ni(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-qn(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&4194090}function $u(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-qn(u),y=1<<m;y&o|a[m]&o&&(a[m]|=o),u&=~y}}function ms(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ps(){var a=de.p;return a!==0?a:(a=window.event,a===void 0?32:eE(a.type))}function Af(a,o){var u=de.p;try{return de.p=a,o()}finally{de.p=u}}var Ot=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ot,Xt="__reactProps$"+Ot,kr="__reactContainer$"+Ot,Fu="__reactEvents$"+Ot,Gv="__reactListeners$"+Ot,gs="__reactHandles$"+Ot,jf="__reactResources$"+Ot,Oo="__reactMarker$"+Ot;function vs(a){delete a[ln],delete a[Xt],delete a[Fu],delete a[Gv],delete a[gs]}function da(a){var o=a[ln];if(o)return o;for(var u=a.parentNode;u;){if(o=u[kr]||u[ln]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=U4(a);a!==null;){if(u=a[ln])return u;a=U4(a)}return o}a=u,u=a.parentNode}return null}function Ci(a){if(a=a[ln]||a[kr]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Oi(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Zn(a){var o=a[jf];return o||(o=a[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $t(a){a[Oo]=!0}var Hu=new Set,Jl={};function di(a,o){ha(a,o),ha(a+"Capture",o)}function ha(a,o){for(Jl[a]=o,a=0;a<o.length;a++)Hu.add(o[a])}var Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cf={},Io={};function Of(a){return Z.call(Io,a)?!0:Z.call(Cf,a)?!1:Nf.test(a)?Io[a]=!0:(Cf[a]=!0,!1)}function ys(a,o,u){if(Of(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Ii(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Nn(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}var Ro,If;function fa(a){if(Ro===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ro=o&&o[1]||"",If=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ro+a+If}var ec=!1;function tc(a,o){if(!a||ec)return"";ec=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var ne=re}Reflect.construct(a,[],he)}else{try{he.call()}catch(re){ne=re}a.call(he.prototype)}}else{try{throw Error()}catch(re){ne=re}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),O=b[0],M=b[1];if(O&&M){var H=O.split(`
`),ee=M.split(`
`);for(y=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(m===H.length||y===ee.length)for(m=H.length-1,y=ee.length-1;1<=m&&0<=y&&H[m]!==ee[y];)y--;for(;1<=m&&0<=y;m--,y--)if(H[m]!==ee[y]){if(m!==1||y!==1)do if(m--,y--,0>y||H[m]!==ee[y]){var oe=`
`+H[m].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=m&&0<=y);break}}}finally{ec=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?fa(u):""}function Ku(a){switch(a.tag){case 26:case 27:case 5:return fa(a.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return tc(a.type,!1);case 11:return tc(a.type.render,!1);case 1:return tc(a.type,!0);case 31:return fa("Activity");default:return""}}function nc(a){try{var o="";do o+=Ku(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Gu(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Wv(a){var o=Gu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){m=""+O,b.call(this,O)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function rc(a){a._valueTracker||(a._valueTracker=Wv(a))}function Wu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=Gu(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function Po(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Yv=/[\n"\\]/g;function Qt(a){return a.replace(Yv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gr(a,o,u,m,y,b,O,M){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Jn(o)):a.value!==""+Jn(o)&&(a.value=""+Jn(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?xs(a,O,Jn(o)):u!=null?xs(a,O,Jn(u)):m!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Jn(M):a.removeAttribute("name")}function Do(a,o,u,m,y,b,O,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+Jn(u):"",o=o!=null?""+Jn(o):u,M||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=M?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O)}function xs(a,o,u){o==="number"&&Po(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ma(a,o,u,m){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Jn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function gt(a,o,u){if(o!=null&&(o=""+Jn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Jn(u):""}function ko(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Jn(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m)}function Mr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rf(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||Mo.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Yu(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&Rf(a,y,m)}else for(var b in o)o.hasOwnProperty(b)&&Rf(a,b,o[b])}function Xu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ic(a){return Qv.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var pa=null;function Lr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ga=null,va=null;function Qu(a){var o=Ci(a);if(o&&(a=o.stateNode)){var u=a[Xt]||null;e:switch(a=o.stateNode,o.type){case"input":if(gr(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Qt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var y=m[Xt]||null;if(!y)throw Error(r(90));gr(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&Wu(m)}break e;case"textarea":gt(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ma(a,!!u.multiple,o,!1)}}}var Ri=!1;function Pf(a,o,u){if(Ri)return a(o,u);Ri=!0;try{var m=a(o);return m}finally{if(Ri=!1,(ga!==null||va!==null)&&(Am(),ga&&(o=ga,a=va,va=ga=null,Qu(o),a)))for(o=0;o<a.length;o++)Qu(a[o])}}function Lo(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Xt]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(hi)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Vr=!1}var Pi=null,bs=null,ya=null;function Zu(){if(ya)return ya;var a,o=bs,u=o.length,m,y="value"in Pi?Pi.value:Pi.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var O=u-a;for(m=1;m<=O&&o[u-m]===y[b-m];m++);return ya=y.slice(a,1<m?1-m:void 0)}function Di(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ki(){return!0}function Ju(){return!1}function vn(a){function o(u,m,y,b,O){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(u=a[M],this[M]=u?u(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ki:Ju,this.isPropagationStopped=Ju,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),o}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=vn(ut),Uo=p({},ut,{view:0,detail:0}),Df=vn(Uo),sc,oc,Mi,Bo=p({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mi&&(Mi&&a.type==="mousemove"?(sc=a.screenX-Mi.screenX,oc=a.screenY-Mi.screenY):oc=sc=0,Mi=a),sc)},movementY:function(a){return"movementY"in a?a.movementY:oc}}),Ur=vn(Bo),kf=p({},Bo,{dataTransfer:0}),Zv=vn(kf),zo=p({},Uo,{relatedTarget:0}),lc=vn(zo),ed=p({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=vn(ed),Mf=p({},ut,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),uc=vn(Mf),Jv=p({},ut,{data:0}),td=vn(Jv),qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Vf[a])?!!o[a]:!1}function $o(){return nd}var Uf=p({},Uo,{key:function(a){if(a.key){var o=qo[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Di(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Lf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(a){return a.type==="keypress"?Di(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Di(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),dc=vn(Uf),Bf=p({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=vn(Bf),xa=p({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),zf=vn(xa),qf=p({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=vn(qf),Ff=p({},Bo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),hc=vn(Ff),er=p({},ut,{newState:0,oldState:0}),Hf=vn(er),Kf=[9,13,27,32],Li=hi&&"CompositionEvent"in window,g=null;hi&&"documentMode"in document&&(g=document.documentMode);var E=hi&&"TextEvent"in window&&!g,C=hi&&(!Li||g&&8<g&&11>=g),U=" ",Q=!1;function ie(a,o){switch(a){case"keyup":return Kf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nt=!1;function cn(a,o){switch(a){case"compositionend":return ve(o);case"keypress":return o.which!==32?null:(Q=!0,U);case"textInput":return a=o.data,a===U&&Q?null:a;default:return null}}function rt(a,o){if(nt)return a==="compositionend"||!Li&&ie(a,o)?(a=Zu(),ya=bs=Pi=null,nt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C&&o.locale!=="ko"?null:o.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!yn[a.type]:o==="textarea"}function ba(a,o,u,m){ga?va?va.push(m):va=[m]:ga=m,o=Rm(o,"onChange"),0<o.length&&(u=new ac("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var Cn=null,Vi=null;function id(a){C4(a,0)}function Gf(a){var o=Oi(a);if(Wu(o))return a}function Xw(a,o){if(a==="change")return o}var Qw=!1;if(hi){var ey;if(hi){var ty="oninput"in document;if(!ty){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),ty=typeof Zw.oninput=="function"}ey=ty}else ey=!1;Qw=ey&&(!document.documentMode||9<document.documentMode)}function Jw(){Cn&&(Cn.detachEvent("onpropertychange",eS),Vi=Cn=null)}function eS(a){if(a.propertyName==="value"&&Gf(Vi)){var o=[];ba(o,Vi,a,Lr(a)),Pf(id,o)}}function bD(a,o,u){a==="focusin"?(Jw(),Cn=o,Vi=u,Cn.attachEvent("onpropertychange",eS)):a==="focusout"&&Jw()}function _D(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gf(Vi)}function wD(a,o){if(a==="click")return Gf(o)}function SD(a,o){if(a==="input"||a==="change")return Gf(o)}function TD(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var vr=typeof Object.is=="function"?Object.is:TD;function ad(a,o){if(vr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!Z.call(o,y)||!vr(a[y],o[y]))return!1}return!0}function tS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nS(a,o){var u=tS(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tS(u)}}function rS(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?rS(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function iS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Po(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Po(a.document)}return o}function ny(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var ED=hi&&"documentMode"in document&&11>=document.documentMode,fc=null,ry=null,sd=null,iy=!1;function aS(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;iy||fc==null||fc!==Po(m)||(m=fc,"selectionStart"in m&&ny(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sd&&ad(sd,m)||(sd=m,m=Rm(ry,"onSelect"),0<m.length&&(o=new ac("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=fc)))}function Fo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var mc={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},ay={},sS={};hi&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Ho(a){if(ay[a])return ay[a];if(!mc[a])return a;var o=mc[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in sS)return ay[a]=o[u];return a}var oS=Ho("animationend"),lS=Ho("animationiteration"),cS=Ho("animationstart"),AD=Ho("transitionrun"),jD=Ho("transitionstart"),ND=Ho("transitioncancel"),uS=Ho("transitionend"),dS=new Map,sy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sy.push("scrollEnd");function fi(a,o){dS.set(a,o),di(o,[a])}var hS=new WeakMap;function Br(a,o){if(typeof a=="object"&&a!==null){var u=hS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:nc(o)},hS.set(a,o),o)}return{value:a,source:o,stack:nc(o)}}var zr=[],pc=0,oy=0;function Wf(){for(var a=pc,o=oy=pc=0;o<a;){var u=zr[o];zr[o++]=null;var m=zr[o];zr[o++]=null;var y=zr[o];zr[o++]=null;var b=zr[o];if(zr[o++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}b!==0&&fS(u,y,b)}}function Yf(a,o,u,m){zr[pc++]=a,zr[pc++]=o,zr[pc++]=u,zr[pc++]=m,oy|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function ly(a,o,u,m){return Yf(a,o,u,m),Xf(a)}function gc(a,o){return Yf(a,null,null,o),Xf(a)}function fS(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-qn(u),a=b.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=u|536870912),b):null}function Xf(a){if(50<Id)throw Id=0,m0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var vc={};function CD(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(a,o,u,m){return new CD(a,o,u,m)}function cy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _a(a,o){var u=a.alternate;return u===null?(u=yr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function mS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Qf(a,o,u,m,y,b){var O=0;if(m=a,typeof a=="function")cy(a)&&(O=1);else if(typeof a=="string")O=Ik(a,u,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=yr(31,u,o,y),a.elementType=L,a.lanes=b,a;case _:return Ko(u.children,y,b,o);case T:O=8,y|=24;break;case S:return a=yr(12,u,o,y|2),a.elementType=S,a.lanes=b,a;case k:return a=yr(13,u,o,y),a.elementType=k,a.lanes=b,a;case V:return a=yr(19,u,o,y),a.elementType=V,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:case I:O=10;break e;case P:O=9;break e;case D:O=11;break e;case j:O=14;break e;case R:O=16,m=null;break e}O=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=yr(O,u,o,y),o.elementType=a,o.type=m,o.lanes=b,o}function Ko(a,o,u,m){return a=yr(7,a,m,o),a.lanes=u,a}function uy(a,o,u){return a=yr(6,a,null,o),a.lanes=u,a}function dy(a,o,u){return o=yr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var yc=[],xc=0,Zf=null,Jf=0,qr=[],$r=0,Go=null,wa=1,Sa="";function Wo(a,o){yc[xc++]=Jf,yc[xc++]=Zf,Zf=a,Jf=o}function pS(a,o,u){qr[$r++]=wa,qr[$r++]=Sa,qr[$r++]=Go,Go=a;var m=wa;a=Sa;var y=32-qn(m)-1;m&=~(1<<y),u+=1;var b=32-qn(o)+y;if(30<b){var O=y-y%5;b=(m&(1<<O)-1).toString(32),m>>=O,y-=O,wa=1<<32-qn(o)+y|u<<y|m,Sa=b+a}else wa=1<<b|u<<y|m,Sa=a}function hy(a){a.return!==null&&(Wo(a,1),pS(a,1,0))}function fy(a){for(;a===Zf;)Zf=yc[--xc],yc[xc]=null,Jf=yc[--xc],yc[xc]=null;for(;a===Go;)Go=qr[--$r],qr[$r]=null,Sa=qr[--$r],qr[$r]=null,wa=qr[--$r],qr[$r]=null}var tr=null,zt=null,ct=!1,Yo=null,Ui=!1,my=Error(r(519));function Xo(a){var o=Error(r(418,""));throw cd(Br(o,a)),my}function gS(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[ln]=a,o[Xt]=m,u){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(u=0;u<Pd.length;u++)Ze(Pd[u],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),Do(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),rc(o);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),ko(o,m.value,m.defaultValue,m.children),rc(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||P4(o.textContent,u)?(m.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),m.onScroll!=null&&Ze("scroll",o),m.onScrollEnd!=null&&Ze("scrollend",o),m.onClick!=null&&(o.onclick=Pm),o=!0):o=!1,o||Xo(a)}function vS(a){for(tr=a.return;tr;)switch(tr.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:tr=tr.return}}function od(a){if(a!==tr)return!1;if(!ct)return vS(a),ct=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||O0(a.type,a.memoizedProps)),u=!u),u&&zt&&Xo(a),vS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){zt=pi(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}zt=null}}else o===27?(o=zt,Ms(a.type)?(a=D0,D0=null,zt=a):zt=o):zt=tr?pi(a.stateNode.nextSibling):null;return!0}function ld(){zt=tr=null,ct=!1}function yS(){var a=Yo;return a!==null&&(sr===null?sr=a:sr.push.apply(sr,a),Yo=null),a}function cd(a){Yo===null?Yo=[a]:Yo.push(a)}var py=G(null),Qo=null,Ta=null;function _s(a,o,u){X(py,o._currentValue),o._currentValue=u}function Ea(a){a._currentValue=py.current,B(py)}function gy(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function vy(a,o,u,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var O=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var H=0;H<o.length;H++)if(M.context===o[H]){b.lanes|=u,M=b.alternate,M!==null&&(M.lanes|=u),gy(b.return,u,a),m||(O=null);break e}b=M.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=u,b=O.alternate,b!==null&&(b.lanes|=u),gy(O,u,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function ud(a,o,u,m){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var M=y.type;vr(y.pendingProps.value,O.value)||(a!==null?a.push(M):a=[M])}}else if(y===Fe.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Ud):a=[Ud])}y=y.return}a!==null&&vy(o,a,u,m),o.flags|=262144}function em(a){for(a=a.firstContext;a!==null;){if(!vr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zo(a){Qo=a,Ta=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function $n(a){return xS(Qo,a)}function tm(a,o){return Qo===null&&Zo(a),xS(a,o)}function xS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ta===null){if(a===null)throw Error(r(308));Ta=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ta=Ta.next=o;return u}var OD=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},ID=t.unstable_scheduleCallback,RD=t.unstable_NormalPriority,dn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yy(){return{controller:new OD,data:new Map,refCount:0}}function dd(a){a.refCount--,a.refCount===0&&ID(RD,function(){a.controller.abort()})}var hd=null,xy=0,bc=0,_c=null;function PD(a,o){if(hd===null){var u=hd=[];xy=0,bc=_0(),_c={status:"pending",value:void 0,then:function(m){u.push(m)}}}return xy++,o.then(bS,bS),o}function bS(){if(--xy===0&&hd!==null){_c!==null&&(_c.status="fulfilled");var a=hd;hd=null,bc=0,_c=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function DD(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var _S=te.S;te.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&PD(a,o),_S!==null&&_S(a,o)};var Jo=G(null);function by(){var a=Jo.current;return a!==null?a:St.pooledCache}function nm(a,o){o===null?X(Jo,Jo.current):X(Jo,o.pool)}function wS(){var a=by();return a===null?null:{parent:dn._currentValue,pool:a}}var fd=Error(r(460)),SS=Error(r(474)),rm=Error(r(542)),_y={then:function(){}};function TS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function im(){}function ES(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(im,im),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jS(a),a;default:if(typeof o.status=="string")o.then(im,im);else{if(a=St,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jS(a),a}throw md=o,fd}}var md=null;function AS(){if(md===null)throw Error(r(459));var a=md;return md=null,a}function jS(a){if(a===fd||a===rm)throw Error(r(483))}var ws=!1;function wy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ss(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ts(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(ft&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Xf(a),fS(a,null,u),o}return Yf(a,m,o,u),Xf(a)}function pd(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,$u(a,u)}}function Ty(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=O:b=b.next=O,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Ey=!1;function gd(){if(Ey){var a=_c;if(a!==null)throw a}}function vd(a,o,u,m){Ey=!1;var y=a.updateQueue;ws=!1;var b=y.firstBaseUpdate,O=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var H=M,ee=H.next;H.next=null,O===null?b=ee:O.next=ee,O=H;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==O&&(M===null?oe.firstBaseUpdate=ee:M.next=ee,oe.lastBaseUpdate=H))}if(b!==null){var he=y.baseState;O=0,oe=ee=H=null,M=b;do{var ne=M.lane&-536870913,re=ne!==M.lane;if(re?(it&ne)===ne:(m&ne)===ne){ne!==0&&ne===bc&&(Ey=!0),oe!==null&&(oe=oe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Be=a,Pe=M;ne=o;var xt=u;switch(Pe.tag){case 1:if(Be=Pe.payload,typeof Be=="function"){he=Be.call(xt,he,ne);break e}he=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Pe.payload,ne=typeof Be=="function"?Be.call(xt,he,ne):Be,ne==null)break e;he=p({},he,ne);break e;case 2:ws=!0}}ne=M.callback,ne!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(ee=oe=re,H=he):oe=oe.next=re,O|=ne;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;re=M,M=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);oe===null&&(H=he),y.baseState=H,y.firstBaseUpdate=ee,y.lastBaseUpdate=oe,b===null&&(y.shared.lanes=0),Rs|=O,a.lanes=O,a.memoizedState=he}}function NS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function CS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)NS(u[a],o)}var wc=G(null),am=G(0);function OS(a,o){a=Ra,X(am,a),X(wc,o),Ra=a|o.baseLanes}function Ay(){X(am,Ra),X(wc,wc.current)}function jy(){Ra=am.current,B(wc),B(am)}var Es=0,Ke=null,vt=null,Zt=null,sm=!1,Sc=!1,el=!1,om=0,yd=0,Tc=null,kD=0;function Ft(){throw Error(r(321))}function Ny(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!vr(a[u],o[u]))return!1;return!0}function Cy(a,o,u,m,y,b){return Es=b,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=a===null||a.memoizedState===null?fT:mT,el=!1,b=u(m,y),el=!1,Sc&&(b=RS(o,u,m,y)),IS(a),b}function IS(a){te.H=fm;var o=vt!==null&&vt.next!==null;if(Es=0,Zt=vt=Ke=null,sm=!1,yd=0,Tc=null,o)throw Error(r(300));a===null||xn||(a=a.dependencies,a!==null&&em(a)&&(xn=!0))}function RS(a,o,u,m){Ke=a;var y=0;do{if(Sc&&(Tc=null),yd=0,Sc=!1,25<=y)throw Error(r(301));if(y+=1,Zt=vt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}te.H=qD,b=o(u,m)}while(Sc);return b}function MD(){var a=te.H,o=a.useState()[0];return o=typeof o.then=="function"?xd(o):o,a=a.useState()[0],(vt!==null?vt.memoizedState:null)!==a&&(Ke.flags|=1024),o}function Oy(){var a=om!==0;return om=0,a}function Iy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Ry(a){if(sm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}sm=!1}Es=0,Zt=vt=Ke=null,Sc=!1,yd=om=0,Tc=null}function ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ke.memoizedState=Zt=a:Zt=Zt.next=a,Zt}function Jt(){if(vt===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var o=Zt===null?Ke.memoizedState:Zt.next;if(o!==null)Zt=o,vt=a;else{if(a===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?Ke.memoizedState=Zt=a:Zt=Zt.next=a}return Zt}function Py(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xd(a){var o=yd;return yd+=1,Tc===null&&(Tc=[]),a=ES(Tc,a,o),o=Ke,(Zt===null?o.memoizedState:Zt.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?fT:mT),a}function lm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return xd(a);if(a.$$typeof===I)return $n(a)}throw Error(r(438,String(a)))}function Dy(a){var o=null,u=Ke.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=Ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Py(),Ke.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=F;return o.index++,u}function Aa(a,o){return typeof o=="function"?o(a):o}function cm(a){var o=Jt();return ky(o,vt,a)}function ky(a,o,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=a.baseQueue,b=m.pending;if(b!==null){if(y!==null){var O=y.next;y.next=b.next,b.next=O}o.baseQueue=y=b,m.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var M=O=null,H=null,ee=o,oe=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(it&he)===he:(Es&he)===he){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===bc&&(oe=!0);else if((Es&ne)===ne){ee=ee.next,ne===bc&&(oe=!0);continue}else he={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=he,O=b):H=H.next=he,Ke.lanes|=ne,Rs|=ne;he=ee.action,el&&u(b,he),b=ee.hasEagerState?ee.eagerState:u(b,he)}else ne={lane:he,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(M=H=ne,O=b):H=H.next=ne,Ke.lanes|=he,Rs|=he;ee=ee.next}while(ee!==null&&ee!==o);if(H===null?O=b:H.next=M,!vr(b,a.memoizedState)&&(xn=!0,oe&&(u=_c,u!==null)))throw u;a.memoizedState=b,a.baseState=O,a.baseQueue=H,m.lastRenderedState=b}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function My(a){var o=Jt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do b=a(b,O.action),O=O.next;while(O!==y);vr(b,o.memoizedState)||(xn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function PS(a,o,u){var m=Ke,y=Jt(),b=ct;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!vr((vt||y).memoizedState,u);O&&(y.memoizedState=u,xn=!0),y=y.queue;var M=MS.bind(null,m,y,a);if(bd(2048,8,M,[a]),y.getSnapshot!==o||O||Zt!==null&&Zt.memoizedState.tag&1){if(m.flags|=2048,Ec(9,um(),kS.bind(null,m,y,u,o),null),St===null)throw Error(r(349));b||(Es&124)!==0||DS(m,o,u)}return u}function DS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Ke.updateQueue,o===null?(o=Py(),Ke.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function kS(a,o,u,m){o.value=u,o.getSnapshot=m,LS(o)&&VS(a)}function MS(a,o,u){return u(function(){LS(o)&&VS(a)})}function LS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!vr(a,u)}catch{return!0}}function VS(a){var o=gc(a,2);o!==null&&Sr(o,a,2)}function Ly(a){var o=ir();if(typeof a=="function"){var u=a;if(a=u(),el){pr(!0);try{u()}finally{pr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},o}function US(a,o,u,m){return a.baseState=u,ky(a,vt,typeof m=="function"?m:Aa)}function LD(a,o,u,m,y){if(hm(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};te.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,BS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function BS(a,o){var u=o.action,m=o.payload,y=a.state;if(o.isTransition){var b=te.T,O={};te.T=O;try{var M=u(y,m),H=te.S;H!==null&&H(O,M),zS(a,o,M)}catch(ee){Vy(a,o,ee)}finally{te.T=b}}else try{b=u(y,m),zS(a,o,b)}catch(ee){Vy(a,o,ee)}}function zS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){qS(a,o,m)},function(m){return Vy(a,o,m)}):qS(a,o,u)}function qS(a,o,u){o.status="fulfilled",o.value=u,$S(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,BS(a,u)))}function Vy(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,$S(o),o=o.next;while(o!==m)}a.action=null}function $S(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function FS(a,o){return o}function HS(a,o){if(ct){var u=St.formState;if(u!==null){e:{var m=Ke;if(ct){if(zt){t:{for(var y=zt,b=Ui;y.nodeType!==8;){if(!b){y=null;break t}if(y=pi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){zt=pi(y.nextSibling),m=y.data==="F!";break e}}Xo(m)}m=!1}m&&(o=u[0])}}return u=ir(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FS,lastRenderedState:o},u.queue=m,u=uT.bind(null,Ke,m),m.dispatch=u,m=Ly(!1),b=$y.bind(null,Ke,!1,m.queue),m=ir(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,u=LD.bind(null,Ke,y,b,u),y.dispatch=u,m.memoizedState=a,[o,u,!1]}function KS(a){var o=Jt();return GS(o,vt,a)}function GS(a,o,u){if(o=ky(a,o,FS)[0],a=cm(Aa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=xd(o)}catch(O){throw O===fd?rm:O}else m=o;o=Jt();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(Ke.flags|=2048,Ec(9,um(),VD.bind(null,y,u),null)),[m,b,a]}function VD(a,o){a.action=o}function WS(a){var o=Jt(),u=vt;if(u!==null)return GS(o,u,a);Jt(),o=o.memoizedState,u=Jt();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function Ec(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=Ke.updateQueue,o===null&&(o=Py(),Ke.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function um(){return{destroy:void 0,resource:void 0}}function YS(){return Jt().memoizedState}function dm(a,o,u,m){var y=ir();m=m===void 0?null:m,Ke.flags|=a,y.memoizedState=Ec(1|o,um(),u,m)}function bd(a,o,u,m){var y=Jt();m=m===void 0?null:m;var b=y.memoizedState.inst;vt!==null&&m!==null&&Ny(m,vt.memoizedState.deps)?y.memoizedState=Ec(o,b,u,m):(Ke.flags|=a,y.memoizedState=Ec(1|o,b,u,m))}function XS(a,o){dm(8390656,8,a,o)}function QS(a,o){bd(2048,8,a,o)}function ZS(a,o){return bd(4,2,a,o)}function JS(a,o){return bd(4,4,a,o)}function eT(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function tT(a,o,u){u=u!=null?u.concat([a]):null,bd(4,4,eT.bind(null,o,a),u)}function Uy(){}function nT(a,o){var u=Jt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Ny(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function rT(a,o){var u=Jt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Ny(o,m[1]))return m[0];if(m=a(),el){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[m,o],m}function By(a,o,u){return u===void 0||(Es&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=s4(),Ke.lanes|=a,Rs|=a,u)}function iT(a,o,u,m){return vr(u,o)?u:wc.current!==null?(a=By(a,u,m),vr(a,o)||(xn=!0),a):(Es&42)===0?(xn=!0,a.memoizedState=u):(a=s4(),Ke.lanes|=a,Rs|=a,o)}function aT(a,o,u,m,y){var b=de.p;de.p=b!==0&&8>b?b:8;var O=te.T,M={};te.T=M,$y(a,!1,o,u);try{var H=y(),ee=te.S;if(ee!==null&&ee(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=DD(H,m);_d(a,o,oe,wr(a))}else _d(a,o,m,wr(a))}catch(he){_d(a,o,{then:function(){},status:"rejected",reason:he},wr())}finally{de.p=b,te.T=O}}function UD(){}function zy(a,o,u,m){if(a.tag!==5)throw Error(r(476));var y=sT(a).queue;aT(a,y,o,ae,u===null?UD:function(){return oT(a),u(m)})}function sT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ae},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function oT(a){var o=sT(a).next.queue;_d(a,o,{},wr())}function qy(){return $n(Ud)}function lT(){return Jt().memoizedState}function cT(){return Jt().memoizedState}function BD(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=wr();a=Ss(u);var m=Ts(o,a,u);m!==null&&(Sr(m,o,u),pd(m,o,u)),o={cache:yy()},a.payload=o;return}o=o.return}}function zD(a,o,u){var m=wr();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},hm(a)?dT(o,u):(u=ly(a,o,u,m),u!==null&&(Sr(u,a,m),hT(u,o,m)))}function uT(a,o,u){var m=wr();_d(a,o,u,m)}function _d(a,o,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(hm(a))dT(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var O=o.lastRenderedState,M=b(O,u);if(y.hasEagerState=!0,y.eagerState=M,vr(M,O))return Yf(a,o,y,0),St===null&&Wf(),!1}catch{}finally{}if(u=ly(a,o,y,m),u!==null)return Sr(u,a,m),hT(u,o,m),!0}return!1}function $y(a,o,u,m){if(m={lane:2,revertLane:_0(),action:m,hasEagerState:!1,eagerState:null,next:null},hm(a)){if(o)throw Error(r(479))}else o=ly(a,u,m,2),o!==null&&Sr(o,a,2)}function hm(a){var o=a.alternate;return a===Ke||o!==null&&o===Ke}function dT(a,o){Sc=sm=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function hT(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,$u(a,u)}}var fm={readContext:$n,use:lm,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},fT={readContext:$n,use:lm,useCallback:function(a,o){return ir().memoizedState=[a,o===void 0?null:o],a},useContext:$n,useEffect:XS,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,dm(4194308,4,eT.bind(null,o,a),u)},useLayoutEffect:function(a,o){return dm(4194308,4,a,o)},useInsertionEffect:function(a,o){dm(4,2,a,o)},useMemo:function(a,o){var u=ir();o=o===void 0?null:o;var m=a();if(el){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=ir();if(u!==void 0){var y=u(o);if(el){pr(!0);try{u(o)}finally{pr(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=zD.bind(null,Ke,a),[m.memoizedState,a]},useRef:function(a){var o=ir();return a={current:a},o.memoizedState=a},useState:function(a){a=Ly(a);var o=a.queue,u=uT.bind(null,Ke,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Uy,useDeferredValue:function(a,o){var u=ir();return By(u,a,o)},useTransition:function(){var a=Ly(!1);return a=aT.bind(null,Ke,a.queue,!0,!1),ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=Ke,y=ir();if(ct){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),St===null)throw Error(r(349));(it&124)!==0||DS(m,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,XS(MS.bind(null,m,b,a),[a]),m.flags|=2048,Ec(9,um(),kS.bind(null,m,b,u,o),null),u},useId:function(){var a=ir(),o=St.identifierPrefix;if(ct){var u=Sa,m=wa;u=(m&~(1<<32-qn(m)-1)).toString(32)+u,o="«"+o+"R"+u,u=om++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=kD++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:qy,useFormState:HS,useActionState:HS,useOptimistic:function(a){var o=ir();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=$y.bind(null,Ke,!0,u),u.dispatch=o,[a,o]},useMemoCache:Dy,useCacheRefresh:function(){return ir().memoizedState=BD.bind(null,Ke)}},mT={readContext:$n,use:lm,useCallback:nT,useContext:$n,useEffect:QS,useImperativeHandle:tT,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:rT,useReducer:cm,useRef:YS,useState:function(){return cm(Aa)},useDebugValue:Uy,useDeferredValue:function(a,o){var u=Jt();return iT(u,vt.memoizedState,a,o)},useTransition:function(){var a=cm(Aa)[0],o=Jt().memoizedState;return[typeof a=="boolean"?a:xd(a),o]},useSyncExternalStore:PS,useId:lT,useHostTransitionStatus:qy,useFormState:KS,useActionState:KS,useOptimistic:function(a,o){var u=Jt();return US(u,vt,a,o)},useMemoCache:Dy,useCacheRefresh:cT},qD={readContext:$n,use:lm,useCallback:nT,useContext:$n,useEffect:QS,useImperativeHandle:tT,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:rT,useReducer:My,useRef:YS,useState:function(){return My(Aa)},useDebugValue:Uy,useDeferredValue:function(a,o){var u=Jt();return vt===null?By(u,a,o):iT(u,vt.memoizedState,a,o)},useTransition:function(){var a=My(Aa)[0],o=Jt().memoizedState;return[typeof a=="boolean"?a:xd(a),o]},useSyncExternalStore:PS,useId:lT,useHostTransitionStatus:qy,useFormState:WS,useActionState:WS,useOptimistic:function(a,o){var u=Jt();return vt!==null?US(u,vt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:cT},Ac=null,wd=0;function mm(a){var o=wd;return wd+=1,Ac===null&&(Ac=[]),ES(Ac,a,o)}function Sd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function pm(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function pT(a){var o=a._init;return o(a._payload)}function gT(a){function o(Y,W){if(a){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function u(Y,W){if(!a)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function y(Y,W){return Y=_a(Y,W),Y.index=0,Y.sibling=null,Y}function b(Y,W,J){return Y.index=J,a?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=67108866,W):J):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function O(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function M(Y,W,J,ce){return W===null||W.tag!==6?(W=uy(J,Y.mode,ce),W.return=Y,W):(W=y(W,J),W.return=Y,W)}function H(Y,W,J,ce){var je=J.type;return je===_?oe(Y,W,J.props.children,ce,J.key):W!==null&&(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&pT(je)===W.type)?(W=y(W,J.props),Sd(W,J),W.return=Y,W):(W=Qf(J.type,J.key,J.props,null,Y.mode,ce),Sd(W,J),W.return=Y,W)}function ee(Y,W,J,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=dy(J,Y.mode,ce),W.return=Y,W):(W=y(W,J.children||[]),W.return=Y,W)}function oe(Y,W,J,ce,je){return W===null||W.tag!==7?(W=Ko(J,Y.mode,ce,je),W.return=Y,W):(W=y(W,J),W.return=Y,W)}function he(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=uy(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return J=Qf(W.type,W.key,W.props,null,Y.mode,J),Sd(J,W),J.return=Y,J;case w:return W=dy(W,Y.mode,J),W.return=Y,W;case R:var ce=W._init;return W=ce(W._payload),he(Y,W,J)}if(me(W)||q(W))return W=Ko(W,Y.mode,J,null),W.return=Y,W;if(typeof W.then=="function")return he(Y,mm(W),J);if(W.$$typeof===I)return he(Y,tm(Y,W),J);pm(Y,W)}return null}function ne(Y,W,J,ce){var je=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return je!==null?null:M(Y,W,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===je?H(Y,W,J,ce):null;case w:return J.key===je?ee(Y,W,J,ce):null;case R:return je=J._init,J=je(J._payload),ne(Y,W,J,ce)}if(me(J)||q(J))return je!==null?null:oe(Y,W,J,ce,null);if(typeof J.then=="function")return ne(Y,W,mm(J),ce);if(J.$$typeof===I)return ne(Y,W,tm(Y,J),ce);pm(Y,J)}return null}function re(Y,W,J,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(J)||null,M(W,Y,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Y=Y.get(ce.key===null?J:ce.key)||null,H(W,Y,ce,je);case w:return Y=Y.get(ce.key===null?J:ce.key)||null,ee(W,Y,ce,je);case R:var We=ce._init;return ce=We(ce._payload),re(Y,W,J,ce,je)}if(me(ce)||q(ce))return Y=Y.get(J)||null,oe(W,Y,ce,je,null);if(typeof ce.then=="function")return re(Y,W,J,mm(ce),je);if(ce.$$typeof===I)return re(Y,W,J,tm(W,ce),je);pm(W,ce)}return null}function Be(Y,W,J,ce){for(var je=null,We=null,Ce=W,De=W=0,_n=null;Ce!==null&&De<J.length;De++){Ce.index>De?(_n=Ce,Ce=null):_n=Ce.sibling;var ot=ne(Y,Ce,J[De],ce);if(ot===null){Ce===null&&(Ce=_n);break}a&&Ce&&ot.alternate===null&&o(Y,Ce),W=b(ot,W,De),We===null?je=ot:We.sibling=ot,We=ot,Ce=_n}if(De===J.length)return u(Y,Ce),ct&&Wo(Y,De),je;if(Ce===null){for(;De<J.length;De++)Ce=he(Y,J[De],ce),Ce!==null&&(W=b(Ce,W,De),We===null?je=Ce:We.sibling=Ce,We=Ce);return ct&&Wo(Y,De),je}for(Ce=m(Ce);De<J.length;De++)_n=re(Ce,Y,De,J[De],ce),_n!==null&&(a&&_n.alternate!==null&&Ce.delete(_n.key===null?De:_n.key),W=b(_n,W,De),We===null?je=_n:We.sibling=_n,We=_n);return a&&Ce.forEach(function(zs){return o(Y,zs)}),ct&&Wo(Y,De),je}function Pe(Y,W,J,ce){if(J==null)throw Error(r(151));for(var je=null,We=null,Ce=W,De=W=0,_n=null,ot=J.next();Ce!==null&&!ot.done;De++,ot=J.next()){Ce.index>De?(_n=Ce,Ce=null):_n=Ce.sibling;var zs=ne(Y,Ce,ot.value,ce);if(zs===null){Ce===null&&(Ce=_n);break}a&&Ce&&zs.alternate===null&&o(Y,Ce),W=b(zs,W,De),We===null?je=zs:We.sibling=zs,We=zs,Ce=_n}if(ot.done)return u(Y,Ce),ct&&Wo(Y,De),je;if(Ce===null){for(;!ot.done;De++,ot=J.next())ot=he(Y,ot.value,ce),ot!==null&&(W=b(ot,W,De),We===null?je=ot:We.sibling=ot,We=ot);return ct&&Wo(Y,De),je}for(Ce=m(Ce);!ot.done;De++,ot=J.next())ot=re(Ce,Y,De,ot.value,ce),ot!==null&&(a&&ot.alternate!==null&&Ce.delete(ot.key===null?De:ot.key),W=b(ot,W,De),We===null?je=ot:We.sibling=ot,We=ot);return a&&Ce.forEach(function($k){return o(Y,$k)}),ct&&Wo(Y,De),je}function xt(Y,W,J,ce){if(typeof J=="object"&&J!==null&&J.type===_&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var je=J.key;W!==null;){if(W.key===je){if(je=J.type,je===_){if(W.tag===7){u(Y,W.sibling),ce=y(W,J.props.children),ce.return=Y,Y=ce;break e}}else if(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&pT(je)===W.type){u(Y,W.sibling),ce=y(W,J.props),Sd(ce,J),ce.return=Y,Y=ce;break e}u(Y,W);break}else o(Y,W);W=W.sibling}J.type===_?(ce=Ko(J.props.children,Y.mode,ce,J.key),ce.return=Y,Y=ce):(ce=Qf(J.type,J.key,J.props,null,Y.mode,ce),Sd(ce,J),ce.return=Y,Y=ce)}return O(Y);case w:e:{for(je=J.key;W!==null;){if(W.key===je)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){u(Y,W.sibling),ce=y(W,J.children||[]),ce.return=Y,Y=ce;break e}else{u(Y,W);break}else o(Y,W);W=W.sibling}ce=dy(J,Y.mode,ce),ce.return=Y,Y=ce}return O(Y);case R:return je=J._init,J=je(J._payload),xt(Y,W,J,ce)}if(me(J))return Be(Y,W,J,ce);if(q(J)){if(je=q(J),typeof je!="function")throw Error(r(150));return J=je.call(J),Pe(Y,W,J,ce)}if(typeof J.then=="function")return xt(Y,W,mm(J),ce);if(J.$$typeof===I)return xt(Y,W,tm(Y,J),ce);pm(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(u(Y,W.sibling),ce=y(W,J),ce.return=Y,Y=ce):(u(Y,W),ce=uy(J,Y.mode,ce),ce.return=Y,Y=ce),O(Y)):u(Y,W)}return function(Y,W,J,ce){try{wd=0;var je=xt(Y,W,J,ce);return Ac=null,je}catch(Ce){if(Ce===fd||Ce===rm)throw Ce;var We=yr(29,Ce,null,Y.mode);return We.lanes=ce,We.return=Y,We}finally{}}}var jc=gT(!0),vT=gT(!1),Fr=G(null),Bi=null;function As(a){var o=a.alternate;X(hn,hn.current&1),X(Fr,a),Bi===null&&(o===null||wc.current!==null||o.memoizedState!==null)&&(Bi=a)}function yT(a){if(a.tag===22){if(X(hn,hn.current),X(Fr,a),Bi===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Bi=a)}}else js()}function js(){X(hn,hn.current),X(Fr,Fr.current)}function ja(a){B(Fr),Bi===a&&(Bi=null),B(hn)}var hn=G(0);function gm(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||P0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Fy(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Hy={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=wr(),y=Ss(m);y.payload=o,u!=null&&(y.callback=u),o=Ts(a,y,m),o!==null&&(Sr(o,a,m),pd(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=wr(),y=Ss(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Ts(a,y,m),o!==null&&(Sr(o,a,m),pd(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=wr(),m=Ss(u);m.tag=2,o!=null&&(m.callback=o),o=Ts(a,m,u),o!==null&&(Sr(o,a,u),pd(o,a,u))}};function xT(a,o,u,m,y,b,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,O):o.prototype&&o.prototype.isPureReactComponent?!ad(u,m)||!ad(y,b):!0}function bT(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&Hy.enqueueReplaceState(o,o.state,null)}function tl(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function _T(a){vm(a)}function wT(a){console.error(a)}function ST(a){vm(a)}function ym(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function TT(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ky(a,o,u){return u=Ss(u),u.tag=3,u.payload={element:null},u.callback=function(){ym(a,o)},u}function ET(a){return a=Ss(a),a.tag=3,a}function AT(a,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;a.payload=function(){return y(b)},a.callback=function(){TT(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){TT(o,u,m),typeof y!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var M=m.stack;this.componentDidCatch(m.value,{componentStack:M!==null?M:""})})}function $D(a,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ud(o,u,y,!0),u=Fr.current,u!==null){switch(u.tag){case 13:return Bi===null?g0():u.alternate===null&&qt===0&&(qt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===_y?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),y0(a,m,y)),!1;case 22:return u.flags|=65536,m===_y?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),y0(a,m,y)),!1}throw Error(r(435,u.tag))}return y0(a,m,y),g0(),!1}if(ct)return o=Fr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==my&&(a=Error(r(422),{cause:m}),cd(Br(a,u)))):(m!==my&&(o=Error(r(423),{cause:m}),cd(Br(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Br(m,u),y=Ky(a.stateNode,m,y),Ty(a,y),qt!==4&&(qt=2)),!1;var b=Error(r(520),{cause:m});if(b=Br(b,u),Od===null?Od=[b]:Od.push(b),qt!==4&&(qt=2),o===null)return!0;m=Br(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Ky(u.stateNode,m,a),Ty(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ps===null||!Ps.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=ET(y),AT(y,a,u,m),Ty(u,y),!1}u=u.return}while(u!==null);return!1}var jT=Error(r(461)),xn=!1;function On(a,o,u,m){o.child=a===null?vT(o,null,u,m):jc(o,a.child,u,m)}function NT(a,o,u,m,y){u=u.render;var b=o.ref;if("ref"in m){var O={};for(var M in m)M!=="ref"&&(O[M]=m[M])}else O=m;return Zo(o),m=Cy(a,o,u,O,b,y),M=Oy(),a!==null&&!xn?(Iy(a,o,y),Na(a,o,y)):(ct&&M&&hy(o),o.flags|=1,On(a,o,m,y),o.child)}function CT(a,o,u,m,y){if(a===null){var b=u.type;return typeof b=="function"&&!cy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,OT(a,o,b,m,y)):(a=Qf(u.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!e0(a,y)){var O=b.memoizedProps;if(u=u.compare,u=u!==null?u:ad,u(O,m)&&a.ref===o.ref)return Na(a,o,y)}return o.flags|=1,a=_a(b,m),a.ref=o.ref,a.return=o,o.child=a}function OT(a,o,u,m,y){if(a!==null){var b=a.memoizedProps;if(ad(b,m)&&a.ref===o.ref)if(xn=!1,o.pendingProps=m=b,e0(a,y))(a.flags&131072)!==0&&(xn=!0);else return o.lanes=a.lanes,Na(a,o,y)}return Gy(a,o,u,m,y)}function IT(a,o,u){var m=o.pendingProps,y=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=b!==null?b.baseLanes|u:u,a!==null){for(y=o.child=a.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~m}else o.childLanes=0,o.child=null;return RT(a,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&nm(o,b!==null?b.cachePool:null),b!==null?OS(o,b):Ay(),yT(o);else return o.lanes=o.childLanes=536870912,RT(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(nm(o,b.cachePool),OS(o,b),js(),o.memoizedState=null):(a!==null&&nm(o,null),Ay(),js());return On(a,o,y,u),o.child}function RT(a,o,u,m){var y=by();return y=y===null?null:{parent:dn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&nm(o,null),Ay(),yT(o),a!==null&&ud(a,o,m,!0),null}function xm(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Gy(a,o,u,m,y){return Zo(o),u=Cy(a,o,u,m,void 0,y),m=Oy(),a!==null&&!xn?(Iy(a,o,y),Na(a,o,y)):(ct&&m&&hy(o),o.flags|=1,On(a,o,u,y),o.child)}function PT(a,o,u,m,y,b){return Zo(o),o.updateQueue=null,u=RS(o,m,u,y),IS(a),m=Oy(),a!==null&&!xn?(Iy(a,o,b),Na(a,o,b)):(ct&&m&&hy(o),o.flags|=1,On(a,o,u,b),o.child)}function DT(a,o,u,m,y){if(Zo(o),o.stateNode===null){var b=vc,O=u.contextType;typeof O=="object"&&O!==null&&(b=$n(O)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Hy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},wy(o),O=u.contextType,b.context=typeof O=="object"&&O!==null?$n(O):vc,b.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Fy(o,u,O,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&Hy.enqueueReplaceState(b,b.state,null),vd(o,m,b,y),gd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var M=o.memoizedProps,H=tl(u,M);b.props=H;var ee=b.context,oe=u.contextType;O=vc,typeof oe=="object"&&oe!==null&&(O=$n(oe));var he=u.getDerivedStateFromProps;oe=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||ee!==O)&&bT(o,b,m,O),ws=!1;var ne=o.memoizedState;b.state=ne,vd(o,m,b,y),gd(),ee=o.memoizedState,M||ne!==ee||ws?(typeof he=="function"&&(Fy(o,u,he,m),ee=o.memoizedState),(H=ws||xT(o,u,H,m,ne,ee,O))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ee),b.props=m,b.state=ee,b.context=O,m=H):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Sy(a,o),O=o.memoizedProps,oe=tl(u,O),b.props=oe,he=o.pendingProps,ne=b.context,ee=u.contextType,H=vc,typeof ee=="object"&&ee!==null&&(H=$n(ee)),M=u.getDerivedStateFromProps,(ee=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==he||ne!==H)&&bT(o,b,m,H),ws=!1,ne=o.memoizedState,b.state=ne,vd(o,m,b,y),gd();var re=o.memoizedState;O!==he||ne!==re||ws||a!==null&&a.dependencies!==null&&em(a.dependencies)?(typeof M=="function"&&(Fy(o,u,M,m),re=o.memoizedState),(oe=ws||xT(o,u,oe,m,ne,re,H)||a!==null&&a.dependencies!==null&&em(a.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,re,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,re,H)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=re),b.props=m,b.state=re,b.context=H,m=oe):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&ne===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ne===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,xm(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=jc(o,a.child,null,y),o.child=jc(o,null,u,y)):On(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Na(a,o,y),a}function kT(a,o,u,m){return ld(),o.flags|=256,On(a,o,u,m),o.child}var Wy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(a){return{baseLanes:a,cachePool:wS()}}function Xy(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Hr),a}function MT(a,o,u){var m=o.pendingProps,y=!1,b=(o.flags&128)!==0,O;if((O=b)||(O=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(ct){if(y?As(o):js(),ct){var M=zt,H;if(H=M){e:{for(H=M,M=Ui;H.nodeType!==8;){if(!M){M=null;break e}if(H=pi(H.nextSibling),H===null){M=null;break e}}M=H}M!==null?(o.memoizedState={dehydrated:M,treeContext:Go!==null?{id:wa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},H=yr(18,null,null,0),H.stateNode=M,H.return=o,o.child=H,tr=o,zt=null,H=!0):H=!1}H||Xo(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return P0(M)?o.lanes=32:o.lanes=536870912,null;ja(o)}return M=m.children,m=m.fallback,y?(js(),y=o.mode,M=bm({mode:"hidden",children:M},y),m=Ko(m,y,u,null),M.return=o,m.return=o,M.sibling=m,o.child=M,y=o.child,y.memoizedState=Yy(u),y.childLanes=Xy(a,O,u),o.memoizedState=Wy,m):(As(o),Qy(o,M))}if(H=a.memoizedState,H!==null&&(M=H.dehydrated,M!==null)){if(b)o.flags&256?(As(o),o.flags&=-257,o=Zy(a,o,u)):o.memoizedState!==null?(js(),o.child=a.child,o.flags|=128,o=null):(js(),y=m.fallback,M=o.mode,m=bm({mode:"visible",children:m.children},M),y=Ko(y,M,u,null),y.flags|=2,m.return=o,y.return=o,m.sibling=y,o.child=m,jc(o,a.child,null,u),m=o.child,m.memoizedState=Yy(u),m.childLanes=Xy(a,O,u),o.memoizedState=Wy,o=y);else if(As(o),P0(M)){if(O=M.nextSibling&&M.nextSibling.dataset,O)var ee=O.dgst;O=ee,m=Error(r(419)),m.stack="",m.digest=O,cd({value:m,source:null,stack:null}),o=Zy(a,o,u)}else if(xn||ud(a,o,u,!1),O=(u&a.childLanes)!==0,xn||O){if(O=St,O!==null&&(m=u&-u,m=(m&42)!==0?1:ms(m),m=(m&(O.suspendedLanes|u))!==0?0:m,m!==0&&m!==H.retryLane))throw H.retryLane=m,gc(a,m),Sr(O,a,m),jT;M.data==="$?"||g0(),o=Zy(a,o,u)}else M.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,zt=pi(M.nextSibling),tr=o,ct=!0,Yo=null,Ui=!1,a!==null&&(qr[$r++]=wa,qr[$r++]=Sa,qr[$r++]=Go,wa=a.id,Sa=a.overflow,Go=o),o=Qy(o,m.children),o.flags|=4096);return o}return y?(js(),y=m.fallback,M=o.mode,H=a.child,ee=H.sibling,m=_a(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,ee!==null?y=_a(ee,y):(y=Ko(y,M,u,null),y.flags|=2),y.return=o,m.return=o,m.sibling=y,o.child=m,m=y,y=o.child,M=a.child.memoizedState,M===null?M=Yy(u):(H=M.cachePool,H!==null?(ee=dn._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=wS(),M={baseLanes:M.baseLanes|u,cachePool:H}),y.memoizedState=M,y.childLanes=Xy(a,O,u),o.memoizedState=Wy,m):(As(o),u=a.child,a=u.sibling,u=_a(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=u,o.memoizedState=null,u)}function Qy(a,o){return o=bm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function bm(a,o){return a=yr(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Zy(a,o,u){return jc(o,a.child,null,u),a=Qy(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function LT(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),gy(a.return,o,u)}function Jy(a,o,u,m,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=u,b.tailMode=y)}function VT(a,o,u){var m=o.pendingProps,y=m.revealOrder,b=m.tail;if(On(a,o,m.children,u),m=hn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&LT(a,u,o);else if(a.tag===19)LT(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(X(hn,m),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&gm(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Jy(o,!1,y,u,b);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&gm(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Jy(o,!0,u,null,b);break;case"together":Jy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Na(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Rs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(ud(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=_a(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=_a(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function e0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&em(a)))}function FD(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),_s(o,dn,a.memoizedState.cache),ld();break;case 27:case 5:ke(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:_s(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(As(o),o.flags|=128,null):(u&o.child.childLanes)!==0?MT(a,o,u):(As(o),a=Na(a,o,u),a!==null?a.sibling:null);As(o);break;case 19:var y=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ud(a,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return VT(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(hn,hn.current),m)break;return null;case 22:case 23:return o.lanes=0,IT(a,o,u);case 24:_s(o,dn,a.memoizedState.cache)}return Na(a,o,u)}function UT(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)xn=!0;else{if(!e0(a,u)&&(o.flags&128)===0)return xn=!1,FD(a,o,u);xn=(a.flags&131072)!==0}else xn=!1,ct&&(o.flags&1048576)!==0&&pS(o,Jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var m=o.elementType,y=m._init;if(m=y(m._payload),o.type=m,typeof m=="function")cy(m)?(a=tl(m,a),o.tag=1,o=DT(null,o,m,a,u)):(o.tag=0,o=Gy(null,o,m,a,u));else{if(m!=null){if(y=m.$$typeof,y===D){o.tag=11,o=NT(null,o,m,a,u);break e}else if(y===j){o.tag=14,o=CT(null,o,m,a,u);break e}}throw o=Ne(m)||m,Error(r(306,o,""))}}return o;case 0:return Gy(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=tl(m,o.pendingProps),DT(a,o,m,y,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;y=b.element,Sy(a,o),vd(o,m,null,u);var O=o.memoizedState;if(m=O.cache,_s(o,dn,m),m!==b.cache&&vy(o,[dn],u,!0),gd(),m=O.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=kT(a,o,m,u);break e}else if(m!==y){y=Br(Error(r(424)),o),cd(y),o=kT(a,o,m,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(zt=pi(a.firstChild),tr=o,ct=!0,Yo=null,Ui=!0,u=vT(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ld(),m===y){o=Na(a,o,u);break e}On(a,o,m,u)}o=o.child}return o;case 26:return xm(a,o),a===null?(u=$4(o.type,null,o.pendingProps,null))?o.memoizedState=u:ct||(u=o.type,a=o.pendingProps,m=Dm(Se.current).createElement(u),m[ln]=o,m[Xt]=a,Rn(m,u,a),$t(m),o.stateNode=m):o.memoizedState=$4(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ke(o),a===null&&ct&&(m=o.stateNode=B4(o.type,o.pendingProps,Se.current),tr=o,Ui=!0,y=zt,Ms(o.type)?(D0=y,zt=pi(m.firstChild)):zt=y),On(a,o,o.pendingProps.children,u),xm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ct&&((y=m=zt)&&(m=yk(m,o.type,o.pendingProps,Ui),m!==null?(o.stateNode=m,tr=o,zt=pi(m.firstChild),Ui=!1,y=!0):y=!1),y||Xo(o)),ke(o),y=o.type,b=o.pendingProps,O=a!==null?a.memoizedProps:null,m=b.children,O0(y,b)?m=null:O!==null&&O0(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=Cy(a,o,MD,null,null,u),Ud._currentValue=y),xm(a,o),On(a,o,m,u),o.child;case 6:return a===null&&ct&&((a=u=zt)&&(u=xk(u,o.pendingProps,Ui),u!==null?(o.stateNode=u,tr=o,zt=null,a=!0):a=!1),a||Xo(o)),null;case 13:return MT(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=jc(o,null,m,u):On(a,o,m,u),o.child;case 11:return NT(a,o,o.type,o.pendingProps,u);case 7:return On(a,o,o.pendingProps,u),o.child;case 8:return On(a,o,o.pendingProps.children,u),o.child;case 12:return On(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,_s(o,o.type,m.value),On(a,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Zo(o),y=$n(y),m=m(y),o.flags|=1,On(a,o,m,u),o.child;case 14:return CT(a,o,o.type,o.pendingProps,u);case 15:return OT(a,o,o.type,o.pendingProps,u);case 19:return VT(a,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},a===null?(u=bm(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=_a(a.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return IT(a,o,u);case 24:return Zo(o),m=$n(dn),a===null?(y=by(),y===null&&(y=St,b=yy(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:m,cache:y},wy(o),_s(o,dn,y)):((a.lanes&u)!==0&&(Sy(a,o),vd(o,null,null,u),gd()),y=a.memoizedState,b=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),_s(o,dn,m)):(m=b.cache,_s(o,dn,m),m!==y.cache&&vy(o,[dn],u,!0))),On(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ca(a){a.flags|=4}function BT(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!W4(o)){if(o=Fr.current,o!==null&&((it&4194048)===it?Bi!==null:(it&62914560)!==it&&(it&536870912)===0||o!==Bi))throw md=_y,SS;a.flags|=8192}}function _m(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?zu():536870912,a.lanes|=o,Ic|=o)}function Td(a,o){if(!ct)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Mt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function HD(a,o,u){var m=o.pendingProps;switch(fy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Mt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ea(dn),ge(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(od(o)?Ca(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,yS())),Mt(o),null;case 26:return u=o.memoizedState,a===null?(Ca(o),u!==null?(Mt(o),BT(o,u)):(Mt(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Ca(o),Mt(o),BT(o,u)):(Mt(o),o.flags&=-16777217):(a.memoizedProps!==m&&Ca(o),Mt(o),o.flags&=-16777217),null;case 27:se(o),u=Se.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ca(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Mt(o),null}a=pe.current,od(o)?gS(o):(a=B4(y,m,u),o.stateNode=a,Ca(o))}return Mt(o),null;case 5:if(se(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ca(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Mt(o),null}if(a=pe.current,od(o))gS(o);else{switch(y=Dm(Se.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}a[ln]=o,a[Xt]=m;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(Rn(a,u,m),u){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ca(o)}}return Mt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Ca(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,od(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,y=tr,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[ln]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||P4(a.nodeValue,u)),a||Xo(o)}else a=Dm(a).createTextNode(m),a[ln]=o,o.stateNode=a}return Mt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=od(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ln]=o}else ld(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),y=!1}else y=yS(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ja(o),o):(ja(o),null)}if(ja(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,a=a!==null&&a.memoizedState!==null,u){m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),_m(o,o.updateQueue),Mt(o),null;case 4:return ge(),a===null&&E0(o.stateNode.containerInfo),Mt(o),null;case 10:return Ea(o.type),Mt(o),null;case 19:if(B(hn),y=o.memoizedState,y===null)return Mt(o),null;if(m=(o.flags&128)!==0,b=y.rendering,b===null)if(m)Td(y,!1);else{if(qt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=gm(a),b!==null){for(o.flags|=128,Td(y,!1),a=b.updateQueue,o.updateQueue=a,_m(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)mS(u,a),u=u.sibling;return X(hn,hn.current&1|2),o.child}a=a.sibling}y.tail!==null&&Je()>Tm&&(o.flags|=128,m=!0,Td(y,!1),o.lanes=4194304)}else{if(!m)if(a=gm(b),a!==null){if(o.flags|=128,m=!0,a=a.updateQueue,o.updateQueue=a,_m(o,a),Td(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!ct)return Mt(o),null}else 2*Je()-y.renderingStartTime>Tm&&u!==536870912&&(o.flags|=128,m=!0,Td(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(a=y.last,a!==null?a.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Je(),o.sibling=null,a=hn.current,X(hn,m?a&1|2:a&1),o):(Mt(o),null);case 22:case 23:return ja(o),jy(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),u=o.updateQueue,u!==null&&_m(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&B(Jo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ea(dn),Mt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function KD(a,o){switch(fy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ea(dn),ge(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return se(o),null;case 13:if(ja(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ld()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return B(hn),null;case 4:return ge(),null;case 10:return Ea(o.type),null;case 22:case 23:return ja(o),jy(),a!==null&&B(Jo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ea(dn),null;case 25:return null;default:return null}}function zT(a,o){switch(fy(o),o.tag){case 3:Ea(dn),ge();break;case 26:case 27:case 5:se(o);break;case 4:ge();break;case 13:ja(o);break;case 19:B(hn);break;case 10:Ea(o.type);break;case 22:case 23:ja(o),jy(),a!==null&&B(Jo);break;case 24:Ea(dn)}}function Ed(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&a)===a){m=void 0;var b=u.create,O=u.inst;m=b(),O.destroy=m}u=u.next}while(u!==y)}}catch(M){_t(o,o.return,M)}}function Ns(a,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&a)===a){var O=m.inst,M=O.destroy;if(M!==void 0){O.destroy=void 0,y=o;var H=u,ee=M;try{ee()}catch(oe){_t(y,H,oe)}}}m=m.next}while(m!==b)}}catch(oe){_t(o,o.return,oe)}}function qT(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{CS(o,u)}catch(m){_t(a,a.return,m)}}}function $T(a,o,u){u.props=tl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){_t(a,o,m)}}function Ad(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(y){_t(a,o,y)}}function zi(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){_t(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){_t(a,o,y)}else u.current=null}function FT(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){_t(a,a.return,y)}}function t0(a,o,u){try{var m=a.stateNode;fk(m,a.type,u,o),m[Xt]=o}catch(y){_t(a,a.return,y)}}function HT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ms(a.type)||a.tag===4}function n0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||HT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ms(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function r0(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Pm));else if(m!==4&&(m===27&&Ms(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(r0(a,o,u),a=a.sibling;a!==null;)r0(a,o,u),a=a.sibling}function wm(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&Ms(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(wm(a,o,u),a=a.sibling;a!==null;)wm(a,o,u),a=a.sibling}function KT(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Rn(o,m,u),o[ln]=a,o[Xt]=u}catch(b){_t(a,a.return,b)}}var Oa=!1,Ht=!1,i0=!1,GT=typeof WeakSet=="function"?WeakSet:Set,bn=null;function GD(a,o){if(a=a.containerInfo,N0=Bm,a=iS(a),ny(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var O=0,M=-1,H=-1,ee=0,oe=0,he=a,ne=null;t:for(;;){for(var re;he!==u||y!==0&&he.nodeType!==3||(M=O+y),he!==b||m!==0&&he.nodeType!==3||(H=O+m),he.nodeType===3&&(O+=he.nodeValue.length),(re=he.firstChild)!==null;)ne=he,he=re;for(;;){if(he===a)break t;if(ne===u&&++ee===y&&(M=O),ne===b&&++oe===m&&(H=O),(re=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=re}u=M===-1||H===-1?null:{start:M,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(C0={focusedElem:a,selectionRange:u},Bm=!1,bn=o;bn!==null;)if(o=bn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,bn=a;else for(;bn!==null;){switch(o=bn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Be=tl(u.type,y,u.elementType===u.type);a=m.getSnapshotBeforeUpdate(Be,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){_t(u,u.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)R0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":R0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,bn=a;break}bn=o.return}}function WT(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Cs(a,u),m&4&&Ed(5,u);break;case 1:if(Cs(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(O){_t(u,u.return,O)}else{var y=tl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){_t(u,u.return,O)}}m&64&&qT(u),m&512&&Ad(u,u.return);break;case 3:if(Cs(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{CS(a,o)}catch(O){_t(u,u.return,O)}}break;case 27:o===null&&m&4&&KT(u);case 26:case 5:Cs(a,u),o===null&&m&4&&FT(u),m&512&&Ad(u,u.return);break;case 12:Cs(a,u);break;case 13:Cs(a,u),m&4&&QT(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=nk.bind(null,u),bk(a,u))));break;case 22:if(m=u.memoizedState!==null||Oa,!m){o=o!==null&&o.memoizedState!==null||Ht,y=Oa;var b=Ht;Oa=m,(Ht=o)&&!b?Os(a,u,(u.subtreeFlags&8772)!==0):Cs(a,u),Oa=y,Ht=b}break;case 30:break;default:Cs(a,u)}}function YT(a){var o=a.alternate;o!==null&&(a.alternate=null,YT(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&vs(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var It=null,ar=!1;function Ia(a,o,u){for(u=u.child;u!==null;)XT(a,o,u),u=u.sibling}function XT(a,o,u){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Bt,u)}catch{}switch(u.tag){case 26:Ht||zi(u,o),Ia(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ht||zi(u,o);var m=It,y=ar;Ms(u.type)&&(It=u.stateNode,ar=!1),Ia(a,o,u),kd(u.stateNode),It=m,ar=y;break;case 5:Ht||zi(u,o);case 6:if(m=It,y=ar,It=null,Ia(a,o,u),It=m,ar=y,It!==null)if(ar)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(u.stateNode)}catch(b){_t(u,o,b)}else try{It.removeChild(u.stateNode)}catch(b){_t(u,o,b)}break;case 18:It!==null&&(ar?(a=It,V4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),$d(a)):V4(It,u.stateNode));break;case 4:m=It,y=ar,It=u.stateNode.containerInfo,ar=!0,Ia(a,o,u),It=m,ar=y;break;case 0:case 11:case 14:case 15:Ht||Ns(2,u,o),Ht||Ns(4,u,o),Ia(a,o,u);break;case 1:Ht||(zi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&$T(u,o,m)),Ia(a,o,u);break;case 21:Ia(a,o,u);break;case 22:Ht=(m=Ht)||u.memoizedState!==null,Ia(a,o,u),Ht=m;break;default:Ia(a,o,u)}}function QT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$d(a)}catch(u){_t(o,o.return,u)}}function WD(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new GT),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new GT),o;default:throw Error(r(435,a.tag))}}function a0(a,o){var u=WD(a);o.forEach(function(m){var y=rk.bind(null,a,m);u.has(m)||(u.add(m),m.then(y,y))})}function xr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],b=a,O=o,M=O;e:for(;M!==null;){switch(M.tag){case 27:if(Ms(M.type)){It=M.stateNode,ar=!1;break e}break;case 5:It=M.stateNode,ar=!1;break e;case 3:case 4:It=M.stateNode.containerInfo,ar=!0;break e}M=M.return}if(It===null)throw Error(r(160));XT(b,O,y),It=null,ar=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)ZT(o,a),o=o.sibling}var mi=null;function ZT(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xr(o,a),br(a),m&4&&(Ns(3,a,a.return),Ed(3,a),Ns(5,a,a.return));break;case 1:xr(o,a),br(a),m&512&&(Ht||u===null||zi(u,u.return)),m&64&&Oa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=mi;if(xr(o,a),br(a),m&512&&(Ht||u===null||zi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Oo]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),Rn(b,m,u),b[ln]=a,$t(b),m=b;break e;case"link":var O=K4("link","href",y).get(m+(u.href||""));if(O){for(var M=0;M<O.length;M++)if(b=O[M],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(M,1);break t}}b=y.createElement(m),Rn(b,m,u),y.head.appendChild(b);break;case"meta":if(O=K4("meta","content",y).get(m+(u.content||""))){for(M=0;M<O.length;M++)if(b=O[M],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(M,1);break t}}b=y.createElement(m),Rn(b,m,u),y.head.appendChild(b);break;default:throw Error(r(468,m))}b[ln]=a,$t(b),m=b}a.stateNode=m}else G4(y,a.type,a.stateNode);else a.stateNode=H4(y,m,a.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?G4(y,a.type,a.stateNode):H4(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&t0(a,a.memoizedProps,u.memoizedProps)}break;case 27:xr(o,a),br(a),m&512&&(Ht||u===null||zi(u,u.return)),u!==null&&m&4&&t0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(xr(o,a),br(a),m&512&&(Ht||u===null||zi(u,u.return)),a.flags&32){y=a.stateNode;try{Mr(y,"")}catch(re){_t(a,a.return,re)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,t0(a,y,u!==null?u.memoizedProps:y)),m&1024&&(i0=!0);break;case 6:if(xr(o,a),br(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(re){_t(a,a.return,re)}}break;case 3:if(Lm=null,y=mi,mi=km(o.containerInfo),xr(o,a),mi=y,br(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$d(o.containerInfo)}catch(re){_t(a,a.return,re)}i0&&(i0=!1,JT(a));break;case 4:m=mi,mi=km(a.stateNode.containerInfo),xr(o,a),br(a),mi=m;break;case 12:xr(o,a),br(a);break;case 13:xr(o,a),br(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(d0=Je()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,a0(a,m)));break;case 22:y=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,ee=Oa,oe=Ht;if(Oa=ee||y,Ht=oe||H,xr(o,a),Ht=oe,Oa=ee,br(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||H||Oa||Ht||nl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(b=H.stateNode,y)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{M=H.stateNode;var he=H.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){_t(H,H.return,re)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(re){_t(H,H.return,re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,a0(a,u))));break;case 19:xr(o,a),br(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,a0(a,m)));break;case 30:break;case 21:break;default:xr(o,a),br(a)}}function br(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(HT(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=n0(a);wm(a,b,y);break;case 5:var O=u.stateNode;u.flags&32&&(Mr(O,""),u.flags&=-33);var M=n0(a);wm(a,M,O);break;case 3:case 4:var H=u.stateNode.containerInfo,ee=n0(a);r0(a,ee,H);break;default:throw Error(r(161))}}catch(oe){_t(a,a.return,oe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function JT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;JT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Cs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)WT(a,o.alternate,o),o=o.sibling}function nl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ns(4,o,o.return),nl(o);break;case 1:zi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&$T(o,o.return,u),nl(o);break;case 27:kd(o.stateNode);case 26:case 5:zi(o,o.return),nl(o);break;case 22:o.memoizedState===null&&nl(o);break;case 30:nl(o);break;default:nl(o)}a=a.sibling}}function Os(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,b=o,O=b.flags;switch(b.tag){case 0:case 11:case 15:Os(y,b,u),Ed(4,b);break;case 1:if(Os(y,b,u),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){_t(m,m.return,ee)}if(m=b,y=m.updateQueue,y!==null){var M=m.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)NS(H[y],M)}catch(ee){_t(m,m.return,ee)}}u&&O&64&&qT(b),Ad(b,b.return);break;case 27:KT(b);case 26:case 5:Os(y,b,u),u&&m===null&&O&4&&FT(b),Ad(b,b.return);break;case 12:Os(y,b,u);break;case 13:Os(y,b,u),u&&O&4&&QT(y,b);break;case 22:b.memoizedState===null&&Os(y,b,u),Ad(b,b.return);break;case 30:break;default:Os(y,b,u)}o=o.sibling}}function s0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&dd(u))}function o0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&dd(a))}function qi(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)e4(a,o,u,m),o=o.sibling}function e4(a,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:qi(a,o,u,m),y&2048&&Ed(9,o);break;case 1:qi(a,o,u,m);break;case 3:qi(a,o,u,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&dd(a)));break;case 12:if(y&2048){qi(a,o,u,m),a=o.stateNode;try{var b=o.memoizedProps,O=b.id,M=b.onPostCommit;typeof M=="function"&&M(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){_t(o,o.return,H)}}else qi(a,o,u,m);break;case 13:qi(a,o,u,m);break;case 23:break;case 22:b=o.stateNode,O=o.alternate,o.memoizedState!==null?b._visibility&2?qi(a,o,u,m):jd(a,o):b._visibility&2?qi(a,o,u,m):(b._visibility|=2,Nc(a,o,u,m,(o.subtreeFlags&10256)!==0)),y&2048&&s0(O,o);break;case 24:qi(a,o,u,m),y&2048&&o0(o.alternate,o);break;default:qi(a,o,u,m)}}function Nc(a,o,u,m,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,O=o,M=u,H=m,ee=O.flags;switch(O.tag){case 0:case 11:case 15:Nc(b,O,M,H,y),Ed(8,O);break;case 23:break;case 22:var oe=O.stateNode;O.memoizedState!==null?oe._visibility&2?Nc(b,O,M,H,y):jd(b,O):(oe._visibility|=2,Nc(b,O,M,H,y)),y&&ee&2048&&s0(O.alternate,O);break;case 24:Nc(b,O,M,H,y),y&&ee&2048&&o0(O.alternate,O);break;default:Nc(b,O,M,H,y)}o=o.sibling}}function jd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,y=m.flags;switch(m.tag){case 22:jd(u,m),y&2048&&s0(m.alternate,m);break;case 24:jd(u,m),y&2048&&o0(m.alternate,m);break;default:jd(u,m)}o=o.sibling}}var Nd=8192;function Cc(a){if(a.subtreeFlags&Nd)for(a=a.child;a!==null;)t4(a),a=a.sibling}function t4(a){switch(a.tag){case 26:Cc(a),a.flags&Nd&&a.memoizedState!==null&&Pk(mi,a.memoizedState,a.memoizedProps);break;case 5:Cc(a);break;case 3:case 4:var o=mi;mi=km(a.stateNode.containerInfo),Cc(a),mi=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Nd,Nd=16777216,Cc(a),Nd=o):Cc(a));break;default:Cc(a)}}function n4(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Cd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];bn=m,i4(m,a)}n4(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r4(a),a=a.sibling}function r4(a){switch(a.tag){case 0:case 11:case 15:Cd(a),a.flags&2048&&Ns(9,a,a.return);break;case 3:Cd(a);break;case 12:Cd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Sm(a)):Cd(a);break;default:Cd(a)}}function Sm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];bn=m,i4(m,a)}n4(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ns(8,o,o.return),Sm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Sm(o));break;default:Sm(o)}a=a.sibling}}function i4(a,o){for(;bn!==null;){var u=bn;switch(u.tag){case 0:case 11:case 15:Ns(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:dd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,bn=m;else e:for(u=a;bn!==null;){m=bn;var y=m.sibling,b=m.return;if(YT(m),m===u){bn=null;break e}if(y!==null){y.return=b,bn=y;break e}bn=b}}}var YD={getCacheForType:function(a){var o=$n(dn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},XD=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,Qe=null,it=0,mt=0,_r=null,Is=!1,Oc=!1,l0=!1,Ra=0,qt=0,Rs=0,rl=0,c0=0,Hr=0,Ic=0,Od=null,sr=null,u0=!1,d0=0,Tm=1/0,Em=null,Ps=null,In=0,Ds=null,Rc=null,Pc=0,h0=0,f0=null,a4=null,Id=0,m0=null;function wr(){if((ft&2)!==0&&it!==0)return it&-it;if(te.T!==null){var a=bc;return a!==0?a:_0()}return ps()}function s4(){Hr===0&&(Hr=(it&536870912)===0||ct?Bu():536870912);var a=Fr.current;return a!==null&&(a.flags|=32),Hr}function Sr(a,o,u){(a===St&&(mt===2||mt===9)||a.cancelPendingCommit!==null)&&(Dc(a,0),ks(a,it,Hr,!1)),ua(a,u),((ft&2)===0||a!==St)&&(a===St&&((ft&2)===0&&(rl|=u),qt===4&&ks(a,it,Hr,!1)),$i(a))}function o4(a,o,u){if((ft&6)!==0)throw Error(r(327));var m=!u&&(o&124)===0&&(o&a.expiredLanes)===0||Co(a,o),y=m?JD(a,o):v0(a,o,!0),b=m;do{if(y===0){Oc&&!m&&ks(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!QD(u)){y=v0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var M=a;y=Od;var H=M.current.memoizedState.isDehydrated;if(H&&(Dc(M,O).flags|=256),O=v0(M,O,!1),O!==2){if(l0&&!H){M.errorRecoveryDisabledLanes|=b,rl|=b,y=4;break e}b=sr,sr=y,b!==null&&(sr===null?sr=b:sr.push.apply(sr,b))}y=O}if(b=!1,y!==2)continue}}if(y===1){Dc(a,0),ks(a,o,0,!0);break}e:{switch(m=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ks(m,o,Hr,!Is);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=d0+300-Je(),10<y)){if(ks(m,o,Hr,!Is),Ql(m,0,!0)!==0)break e;m.timeoutHandle=M4(l4.bind(null,m,u,sr,Em,u0,o,Hr,rl,Ic,Is,b,2,-0,0),y);break e}l4(m,u,sr,Em,u0,o,Hr,rl,Ic,Is,b,0,-0,0)}}break}while(!0);$i(a)}function l4(a,o,u,m,y,b,O,M,H,ee,oe,he,ne,re){if(a.timeoutHandle=-1,he=o.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Vd={stylesheets:null,count:0,unsuspend:Rk},t4(o),he=Dk(),he!==null)){a.cancelPendingCommit=he(p4.bind(null,a,o,b,u,m,y,O,M,H,oe,1,ne,re)),ks(a,b,O,!ee);return}p4(a,o,b,u,m,y,O,M,H)}function QD(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],b=y.getSnapshot;y=y.value;try{if(!vr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ks(a,o,u,m){o&=~c0,o&=~rl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var b=31-qn(y),O=1<<b;m[b]=-1,y&=~O}u!==0&&Ni(a,u,o)}function Am(){return(ft&6)===0?(Rd(0),!1):!0}function p0(){if(Qe!==null){if(mt===0)var a=Qe.return;else a=Qe,Ta=Qo=null,Ry(a),Ac=null,wd=0,a=Qe;for(;a!==null;)zT(a.alternate,a),a=a.return;Qe=null}}function Dc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,pk(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),p0(),St=a,Qe=u=_a(a.current,null),it=o,mt=0,_r=null,Is=!1,Oc=Co(a,o),l0=!1,Ic=Hr=c0=rl=Rs=qt=0,sr=Od=null,u0=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-qn(m),b=1<<y;o|=a[y],m&=~b}return Ra=o,Wf(),u}function c4(a,o){Ke=null,te.H=fm,o===fd||o===rm?(o=AS(),mt=3):o===SS?(o=AS(),mt=4):mt=o===jT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,_r=o,Qe===null&&(qt=1,ym(a,Br(o,a.current)))}function u4(){var a=te.H;return te.H=fm,a===null?fm:a}function d4(){var a=te.A;return te.A=YD,a}function g0(){qt=4,Is||(it&4194048)!==it&&Fr.current!==null||(Oc=!0),(Rs&134217727)===0&&(rl&134217727)===0||St===null||ks(St,it,Hr,!1)}function v0(a,o,u){var m=ft;ft|=2;var y=u4(),b=d4();(St!==a||it!==o)&&(Em=null,Dc(a,o)),o=!1;var O=qt;e:do try{if(mt!==0&&Qe!==null){var M=Qe,H=_r;switch(mt){case 8:p0(),O=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(o=!0);var ee=mt;if(mt=0,_r=null,kc(a,M,H,ee),u&&Oc){O=0;break e}break;default:ee=mt,mt=0,_r=null,kc(a,M,H,ee)}}ZD(),O=qt;break}catch(oe){c4(a,oe)}while(!0);return o&&a.shellSuspendCounter++,Ta=Qo=null,ft=m,te.H=y,te.A=b,Qe===null&&(St=null,it=0,Wf()),O}function ZD(){for(;Qe!==null;)h4(Qe)}function JD(a,o){var u=ft;ft|=2;var m=u4(),y=d4();St!==a||it!==o?(Em=null,Tm=Je()+500,Dc(a,o)):Oc=Co(a,o);e:do try{if(mt!==0&&Qe!==null){o=Qe;var b=_r;t:switch(mt){case 1:mt=0,_r=null,kc(a,o,b,1);break;case 2:case 9:if(TS(b)){mt=0,_r=null,f4(o);break}o=function(){mt!==2&&mt!==9||St!==a||(mt=7),$i(a)},b.then(o,o);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:TS(b)?(mt=0,_r=null,f4(o)):(mt=0,_r=null,kc(a,o,b,7));break;case 5:var O=null;switch(Qe.tag){case 26:O=Qe.memoizedState;case 5:case 27:var M=Qe;if(!O||W4(O)){mt=0,_r=null;var H=M.sibling;if(H!==null)Qe=H;else{var ee=M.return;ee!==null?(Qe=ee,jm(ee)):Qe=null}break t}}mt=0,_r=null,kc(a,o,b,5);break;case 6:mt=0,_r=null,kc(a,o,b,6);break;case 8:p0(),qt=6;break e;default:throw Error(r(462))}}ek();break}catch(oe){c4(a,oe)}while(!0);return Ta=Qo=null,te.H=m,te.A=y,ft=u,Qe!==null?0:(St=null,it=0,Wf(),qt)}function ek(){for(;Qe!==null&&!Ue();)h4(Qe)}function h4(a){var o=UT(a.alternate,a,Ra);a.memoizedProps=a.pendingProps,o===null?jm(a):Qe=o}function f4(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=PT(u,o,o.pendingProps,o.type,void 0,it);break;case 11:o=PT(u,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:Ry(o);default:zT(u,o),o=Qe=mS(o,Ra),o=UT(u,o,Ra)}a.memoizedProps=a.pendingProps,o===null?jm(a):Qe=o}function kc(a,o,u,m){Ta=Qo=null,Ry(o),Ac=null,wd=0;var y=o.return;try{if($D(a,y,o,u,it)){qt=1,ym(a,Br(u,a.current)),Qe=null;return}}catch(b){if(y!==null)throw Qe=y,b;qt=1,ym(a,Br(u,a.current)),Qe=null;return}o.flags&32768?(ct||m===1?a=!0:Oc||(it&536870912)!==0?a=!1:(Is=a=!0,(m===2||m===9||m===3||m===6)&&(m=Fr.current,m!==null&&m.tag===13&&(m.flags|=16384))),m4(o,a)):jm(o)}function jm(a){var o=a;do{if((o.flags&32768)!==0){m4(o,Is);return}a=o.return;var u=HD(o.alternate,o,Ra);if(u!==null){Qe=u;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=a}while(o!==null);qt===0&&(qt=5)}function m4(a,o){do{var u=KD(a.alternate,a);if(u!==null){u.flags&=32767,Qe=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Qe=a;return}Qe=a=u}while(a!==null);qt=6,Qe=null}function p4(a,o,u,m,y,b,O,M,H){a.cancelPendingCommit=null;do Nm();while(In!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=oy,qu(a,u,b,O,M,H),a===St&&(Qe=St=null,it=0),Rc=o,Ds=a,Pc=u,h0=b,f0=y,a4=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ik(ci,function(){return b4(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=te.T,te.T=null,y=de.p,de.p=2,O=ft,ft|=4;try{GD(a,o,u)}finally{ft=O,de.p=y,te.T=m}}In=1,g4(),v4(),y4()}}function g4(){if(In===1){In=0;var a=Ds,o=Rc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=te.T,te.T=null;var m=de.p;de.p=2;var y=ft;ft|=4;try{ZT(o,a);var b=C0,O=iS(a.containerInfo),M=b.focusedElem,H=b.selectionRange;if(O!==M&&M&&M.ownerDocument&&rS(M.ownerDocument.documentElement,M)){if(H!==null&&ny(M)){var ee=H.start,oe=H.end;if(oe===void 0&&(oe=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(oe,M.value.length);else{var he=M.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Be=M.textContent.length,Pe=Math.min(H.start,Be),xt=H.end===void 0?Pe:Math.min(H.end,Be);!re.extend&&Pe>xt&&(O=xt,xt=Pe,Pe=O);var Y=nS(M,Pe),W=nS(M,xt);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var J=he.createRange();J.setStart(Y.node,Y.offset),re.removeAllRanges(),Pe>xt?(re.addRange(J),re.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),re.addRange(J))}}}}for(he=[],re=M;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<he.length;M++){var ce=he[M];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Bm=!!N0,C0=N0=null}finally{ft=y,de.p=m,te.T=u}}a.current=o,In=2}}function v4(){if(In===2){In=0;var a=Ds,o=Rc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=te.T,te.T=null;var m=de.p;de.p=2;var y=ft;ft|=4;try{WT(a,o.alternate,o)}finally{ft=y,de.p=m,te.T=u}}In=3}}function y4(){if(In===4||In===3){In=0,Re();var a=Ds,o=Rc,u=Pc,m=a4;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,Rc=Ds=null,x4(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ps=null),Zl(u),o=o.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Bt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=te.T,y=de.p,de.p=2,te.T=null;try{for(var b=a.onRecoverableError,O=0;O<m.length;O++){var M=m[O];b(M.value,{componentStack:M.stack})}}finally{te.T=o,de.p=y}}(Pc&3)!==0&&Nm(),$i(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===m0?Id++:(Id=0,m0=a):Id=0,Rd(0)}}function x4(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,dd(o)))}function Nm(a){return g4(),v4(),y4(),b4()}function b4(){if(In!==5)return!1;var a=Ds,o=h0;h0=0;var u=Zl(Pc),m=te.T,y=de.p;try{de.p=32>u?32:u,te.T=null,u=f0,f0=null;var b=Ds,O=Pc;if(In=0,Rc=Ds=null,Pc=0,(ft&6)!==0)throw Error(r(331));var M=ft;if(ft|=4,r4(b.current),e4(b,b.current,O,u),ft=M,Rd(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Bt,b)}catch{}return!0}finally{de.p=y,te.T=m,x4(a,o)}}function _4(a,o,u){o=Br(u,o),o=Ky(a.stateNode,o,2),a=Ts(a,o,2),a!==null&&(ua(a,2),$i(a))}function _t(a,o,u){if(a.tag===3)_4(a,a,u);else for(;o!==null;){if(o.tag===3){_4(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ps===null||!Ps.has(m))){a=Br(u,a),u=ET(2),m=Ts(o,u,2),m!==null&&(AT(u,m,o,a),ua(m,2),$i(m));break}}o=o.return}}function y0(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new XD;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(l0=!0,y.add(u),a=tk.bind(null,a,o,u),o.then(a,a))}function tk(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,St===a&&(it&u)===u&&(qt===4||qt===3&&(it&62914560)===it&&300>Je()-d0?(ft&2)===0&&Dc(a,0):c0|=u,Ic===it&&(Ic=0)),$i(a)}function w4(a,o){o===0&&(o=zu()),a=gc(a,o),a!==null&&(ua(a,o),$i(a))}function nk(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),w4(a,u)}function rk(a,o){var u=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),w4(a,u)}function ik(a,o){return Ee(a,o)}var Cm=null,Mc=null,x0=!1,Om=!1,b0=!1,il=0;function $i(a){a!==Mc&&a.next===null&&(Mc===null?Cm=Mc=a:Mc=Mc.next=a),Om=!0,x0||(x0=!0,sk())}function Rd(a,o){if(!b0&&Om){b0=!0;do for(var u=!1,m=Cm;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var O=m.suspendedLanes,M=m.pingedLanes;b=(1<<31-qn(42|a)+1)-1,b&=y&~(O&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,A4(m,b))}else b=it,b=Ql(m,m===St?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Co(m,b)||(u=!0,A4(m,b));m=m.next}while(u);b0=!1}}function ak(){S4()}function S4(){Om=x0=!1;var a=0;il!==0&&(mk()&&(a=il),il=0);for(var o=Je(),u=null,m=Cm;m!==null;){var y=m.next,b=T4(m,o);b===0?(m.next=null,u===null?Cm=y:u.next=y,y===null&&(Mc=u)):(u=m,(a!==0||(b&3)!==0)&&(Om=!0)),m=y}Rd(a)}function T4(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var O=31-qn(b),M=1<<O,H=y[O];H===-1?((M&u)===0||(M&m)!==0)&&(y[O]=Uu(M,o)):H<=o&&(a.expiredLanes|=M),b&=~M}if(o=St,u=it,u=Ql(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(mt===2||mt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&be(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Co(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&be(m),Zl(u)){case 2:case 8:u=Ct;break;case 32:u=ci;break;case 268435456:u=fs;break;default:u=ci}return m=E4.bind(null,a),u=Ee(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&be(m),a.callbackPriority=2,a.callbackNode=null,2}function E4(a,o){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Nm()&&a.callbackNode!==u)return null;var m=it;return m=Ql(a,a===St?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(o4(a,m,o),T4(a,Je()),a.callbackNode!=null&&a.callbackNode===u?E4.bind(null,a):null)}function A4(a,o){if(Nm())return null;o4(a,o,!0)}function sk(){gk(function(){(ft&6)!==0?Ee(mr,ak):S4()})}function _0(){return il===0&&(il=Bu()),il}function j4(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ic(""+a)}function N4(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function ok(a,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var b=j4((y[Xt]||null).action),O=m.submitter;O&&(o=(o=O[Xt]||null)?j4(o.formAction):O.getAttribute("formAction"),o!==null&&(b=o,O=null));var M=new ac("action","action",null,m,y);a.push({event:M,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(il!==0){var H=O?N4(y,O):new FormData(y);zy(u,{pending:!0,data:H,method:y.method,action:b},null,H)}}else typeof b=="function"&&(M.preventDefault(),H=O?N4(y,O):new FormData(y),zy(u,{pending:!0,data:H,method:y.method,action:b},b,H))},currentTarget:y}]})}}for(var w0=0;w0<sy.length;w0++){var S0=sy[w0],lk=S0.toLowerCase(),ck=S0[0].toUpperCase()+S0.slice(1);fi(lk,"on"+ck)}fi(oS,"onAnimationEnd"),fi(lS,"onAnimationIteration"),fi(cS,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(AD,"onTransitionRun"),fi(jD,"onTransitionStart"),fi(ND,"onTransitionCancel"),fi(uS,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pd));function C4(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],y=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var O=m.length-1;0<=O;O--){var M=m[O],H=M.instance,ee=M.currentTarget;if(M=M.listener,H!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ee;try{b(y)}catch(oe){vm(oe)}y.currentTarget=null,b=H}else for(O=0;O<m.length;O++){if(M=m[O],H=M.instance,ee=M.currentTarget,M=M.listener,H!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=ee;try{b(y)}catch(oe){vm(oe)}y.currentTarget=null,b=H}}}}function Ze(a,o){var u=o[Fu];u===void 0&&(u=o[Fu]=new Set);var m=a+"__bubble";u.has(m)||(O4(o,a,2,!1),u.add(m))}function T0(a,o,u){var m=0;o&&(m|=4),O4(u,a,m,o)}var Im="_reactListening"+Math.random().toString(36).slice(2);function E0(a){if(!a[Im]){a[Im]=!0,Hu.forEach(function(u){u!=="selectionchange"&&(uk.has(u)||T0(u,!1,a),T0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Im]||(o[Im]=!0,T0("selectionchange",!1,o))}}function O4(a,o,u,m){switch(eE(o)){case 2:var y=Lk;break;case 8:y=Vk;break;default:y=U0}u=y.bind(null,o,u,a),y=void 0,!Vr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function A0(a,o,u,m,y){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var M=m.stateNode.containerInfo;if(M===y)break;if(O===4)for(O=m.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;M!==null;){if(O=da(M),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){m=b=O;continue e}M=M.parentNode}}m=m.return}Pf(function(){var ee=b,oe=Lr(u),he=[];e:{var ne=dS.get(a);if(ne!==void 0){var re=ac,Be=a;switch(a){case"keypress":if(Di(u)===0)break e;case"keydown":case"keyup":re=dc;break;case"focusin":Be="focus",re=lc;break;case"focusout":Be="blur",re=lc;break;case"beforeblur":case"afterblur":re=lc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=zf;break;case oS:case lS:case cS:re=cc;break;case uS:re=$f;break;case"scroll":case"scrollend":re=Df;break;case"wheel":re=hc;break;case"copy":case"cut":case"paste":re=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=rd;break;case"toggle":case"beforetoggle":re=Hf}var Pe=(o&4)!==0,xt=!Pe&&(a==="scroll"||a==="scrollend"),Y=Pe?ne!==null?ne+"Capture":null:ne;Pe=[];for(var W=ee,J;W!==null;){var ce=W;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Y===null||(ce=Lo(W,Y),ce!=null&&Pe.push(Dd(W,ce,J))),xt)break;W=W.return}0<Pe.length&&(ne=new re(ne,Be,null,u,oe),he.push({event:ne,listeners:Pe}))}}if((o&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ne&&u!==pa&&(Be=u.relatedTarget||u.fromElement)&&(da(Be)||Be[kr]))break e;if((re||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Be=u.relatedTarget||u.toElement,re=ee,Be=Be?da(Be):null,Be!==null&&(xt=s(Be),Pe=Be.tag,Be!==xt||Pe!==5&&Pe!==27&&Pe!==6)&&(Be=null)):(re=null,Be=ee),re!==Be)){if(Pe=Ur,ce="onMouseLeave",Y="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=rd,ce="onPointerLeave",Y="onPointerEnter",W="pointer"),xt=re==null?ne:Oi(re),J=Be==null?ne:Oi(Be),ne=new Pe(ce,W+"leave",re,u,oe),ne.target=xt,ne.relatedTarget=J,ce=null,da(oe)===ee&&(Pe=new Pe(Y,W+"enter",Be,u,oe),Pe.target=J,Pe.relatedTarget=xt,ce=Pe),xt=ce,re&&Be)t:{for(Pe=re,Y=Be,W=0,J=Pe;J;J=Lc(J))W++;for(J=0,ce=Y;ce;ce=Lc(ce))J++;for(;0<W-J;)Pe=Lc(Pe),W--;for(;0<J-W;)Y=Lc(Y),J--;for(;W--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=Lc(Pe),Y=Lc(Y)}Pe=null}else Pe=null;re!==null&&I4(he,ne,re,Pe,!1),Be!==null&&xt!==null&&I4(he,xt,Be,Pe,!0)}}e:{if(ne=ee?Oi(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var je=Xw;else if(un(ne))if(Qw)je=SD;else{je=_D;var We=bD}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Xu(ee.elementType)&&(je=Xw):je=wD;if(je&&(je=je(a,ee))){ba(he,je,u,oe);break e}We&&We(a,ne,ee),a==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&xs(ne,"number",ne.value)}switch(We=ee?Oi(ee):window,a){case"focusin":(un(We)||We.contentEditable==="true")&&(fc=We,ry=ee,sd=null);break;case"focusout":sd=ry=fc=null;break;case"mousedown":iy=!0;break;case"contextmenu":case"mouseup":case"dragend":iy=!1,aS(he,u,oe);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":aS(he,u,oe)}var Ce;if(Li)e:{switch(a){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else nt?ie(a,u)&&(De="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(C&&u.locale!=="ko"&&(nt||De!=="onCompositionStart"?De==="onCompositionEnd"&&nt&&(Ce=Zu()):(Pi=oe,bs="value"in Pi?Pi.value:Pi.textContent,nt=!0)),We=Rm(ee,De),0<We.length&&(De=new td(De,a,null,u,oe),he.push({event:De,listeners:We}),Ce?De.data=Ce:(Ce=ve(u),Ce!==null&&(De.data=Ce)))),(Ce=E?cn(a,u):rt(a,u))&&(De=Rm(ee,"onBeforeInput"),0<De.length&&(We=new td("onBeforeInput","beforeinput",null,u,oe),he.push({event:We,listeners:De}),We.data=Ce)),ok(he,a,ee,u,oe)}C4(he,o)})}function Dd(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Rm(a,o){for(var u=o+"Capture",m=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Lo(a,u),y!=null&&m.unshift(Dd(a,y,b)),y=Lo(a,o),y!=null&&m.push(Dd(a,y,b))),a.tag===3)return m;a=a.return}return[]}function Lc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function I4(a,o,u,m,y){for(var b=o._reactName,O=[];u!==null&&u!==m;){var M=u,H=M.alternate,ee=M.stateNode;if(M=M.tag,H!==null&&H===m)break;M!==5&&M!==26&&M!==27||ee===null||(H=ee,y?(ee=Lo(u,b),ee!=null&&O.unshift(Dd(u,ee,H))):y||(ee=Lo(u,b),ee!=null&&O.push(Dd(u,ee,H)))),u=u.return}O.length!==0&&a.push({event:o,listeners:O})}var dk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function R4(a){return(typeof a=="string"?a:""+a).replace(dk,`
`).replace(hk,"")}function P4(a,o){return o=R4(o),R4(a)===o}function Pm(){}function yt(a,o,u,m,y,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Mr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Mr(a,""+m);break;case"className":Ii(a,"class",m);break;case"tabIndex":Ii(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(a,u,m);break;case"style":Yu(a,m,b);break;case"data":if(o!=="object"){Ii(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=ic(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&yt(a,o,"name",y.name,y,null),yt(a,o,"formEncType",y.formEncType,y,null),yt(a,o,"formMethod",y.formMethod,y,null),yt(a,o,"formTarget",y.formTarget,y,null)):(yt(a,o,"encType",y.encType,y,null),yt(a,o,"method",y.method,y,null),yt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=ic(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Pm);break;case"onScroll":m!=null&&Ze("scroll",a);break;case"onScrollEnd":m!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=ic(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),ys(a,"popover",m);break;case"xlinkActuate":Nn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Nn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Nn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Nn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Nn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Nn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ys(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xv.get(u)||u,ys(a,u,m))}}function j0(a,o,u,m,y,b){switch(u){case"style":Yu(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Mr(a,m):(typeof m=="number"||typeof m=="bigint")&&Mr(a,""+m);break;case"onScroll":m!=null&&Ze("scroll",a);break;case"onScrollEnd":m!=null&&Ze("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[Xt]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,y);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):ys(a,u,m)}}}function Rn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var m=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var O=u[b];if(O!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(a,o,b,O,u,null)}}y&&yt(a,o,"srcSet",u.srcSet,u,null),m&&yt(a,o,"src",u.src,u,null);return;case"input":Ze("invalid",a);var M=b=O=y=null,H=null,ee=null;for(m in u)if(u.hasOwnProperty(m)){var oe=u[m];if(oe!=null)switch(m){case"name":y=oe;break;case"type":O=oe;break;case"checked":H=oe;break;case"defaultChecked":ee=oe;break;case"value":b=oe;break;case"defaultValue":M=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:yt(a,o,m,oe,u,null)}}Do(a,b,M,H,ee,O,y,!1),rc(a);return;case"select":Ze("invalid",a),m=O=b=null;for(y in u)if(u.hasOwnProperty(y)&&(M=u[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":O=M;break;case"multiple":m=M;default:yt(a,o,y,M,u,null)}o=b,u=O,a.multiple=!!m,o!=null?ma(a,!!m,o,!1):u!=null&&ma(a,!!m,u,!0);return;case"textarea":Ze("invalid",a),b=y=m=null;for(O in u)if(u.hasOwnProperty(O)&&(M=u[O],M!=null))switch(O){case"value":m=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:yt(a,o,O,M,u,null)}ko(a,m,y,b),rc(a);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(m=u[H],m!=null))switch(H){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:yt(a,o,H,m,u,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(m=0;m<Pd.length;m++)Ze(Pd[m],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(m=u[ee],m!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(a,o,ee,m,u,null)}return;default:if(Xu(o)){for(oe in u)u.hasOwnProperty(oe)&&(m=u[oe],m!==void 0&&j0(a,o,oe,m,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(m=u[M],m!=null&&yt(a,o,M,m,u,null))}function fk(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,O=null,M=null,H=null,ee=null,oe=null;for(re in u){var he=u[re];if(u.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=he;default:m.hasOwnProperty(re)||yt(a,o,re,null,m,he)}}for(var ne in m){var re=m[ne];if(he=u[ne],m.hasOwnProperty(ne)&&(re!=null||he!=null))switch(ne){case"type":b=re;break;case"name":y=re;break;case"checked":ee=re;break;case"defaultChecked":oe=re;break;case"value":O=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==he&&yt(a,o,ne,re,m,he)}}gr(a,O,M,H,ee,oe,b,y);return;case"select":re=O=M=ne=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":re=H;default:m.hasOwnProperty(b)||yt(a,o,b,null,m,H)}for(y in m)if(b=m[y],H=u[y],m.hasOwnProperty(y)&&(b!=null||H!=null))switch(y){case"value":ne=b;break;case"defaultValue":M=b;break;case"multiple":O=b;default:b!==H&&yt(a,o,y,b,m,H)}o=M,u=O,m=re,ne!=null?ma(a,!!u,ne,!1):!!m!=!!u&&(o!=null?ma(a,!!u,o,!0):ma(a,!!u,u?[]:"",!1));return;case"textarea":re=ne=null;for(M in u)if(y=u[M],u.hasOwnProperty(M)&&y!=null&&!m.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:yt(a,o,M,null,m,y)}for(O in m)if(y=m[O],b=u[O],m.hasOwnProperty(O)&&(y!=null||b!=null))switch(O){case"value":ne=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&yt(a,o,O,y,m,b)}gt(a,ne,re);return;case"option":for(var Be in u)if(ne=u[Be],u.hasOwnProperty(Be)&&ne!=null&&!m.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:yt(a,o,Be,null,m,ne)}for(H in m)if(ne=m[H],re=u[H],m.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:yt(a,o,H,ne,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)ne=u[Pe],u.hasOwnProperty(Pe)&&ne!=null&&!m.hasOwnProperty(Pe)&&yt(a,o,Pe,null,m,ne);for(ee in m)if(ne=m[ee],re=u[ee],m.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:yt(a,o,ee,ne,m,re)}return;default:if(Xu(o)){for(var xt in u)ne=u[xt],u.hasOwnProperty(xt)&&ne!==void 0&&!m.hasOwnProperty(xt)&&j0(a,o,xt,void 0,m,ne);for(oe in m)ne=m[oe],re=u[oe],!m.hasOwnProperty(oe)||ne===re||ne===void 0&&re===void 0||j0(a,o,oe,ne,m,re);return}}for(var Y in u)ne=u[Y],u.hasOwnProperty(Y)&&ne!=null&&!m.hasOwnProperty(Y)&&yt(a,o,Y,null,m,ne);for(he in m)ne=m[he],re=u[he],!m.hasOwnProperty(he)||ne===re||ne==null&&re==null||yt(a,o,he,ne,m,re)}var N0=null,C0=null;function Dm(a){return a.nodeType===9?a:a.ownerDocument}function D4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k4(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function O0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var I0=null;function mk(){var a=window.event;return a&&a.type==="popstate"?a===I0?!1:(I0=a,!0):(I0=null,!1)}var M4=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,L4=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof L4<"u"?function(a){return L4.resolve(null).then(a).catch(vk)}:M4;function vk(a){setTimeout(function(){throw a})}function Ms(a){return a==="head"}function V4(a,o){var u=o,m=0,y=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<m&&8>m){u=m;var O=a.ownerDocument;if(u&1&&kd(O.documentElement),u&2&&kd(O.body),u&4)for(u=O.head,kd(u),O=u.firstChild;O;){var M=O.nextSibling,H=O.nodeName;O[Oo]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=M}}if(y===0){a.removeChild(b),$d(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=b}while(u);$d(o)}function R0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":R0(u),vs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function yk(a,o,u,m){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Oo])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=pi(a.nextSibling),a===null)break}return null}function xk(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=pi(a.nextSibling),a===null))return null;return a}function P0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function bk(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function pi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var D0=null;function U4(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function B4(a,o,u){switch(o=Dm(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function kd(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);vs(a)}var Kr=new Map,z4=new Set;function km(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pa=de.d;de.d={f:_k,r:wk,D:Sk,C:Tk,L:Ek,m:Ak,X:Nk,S:jk,M:Ck};function _k(){var a=Pa.f(),o=Am();return a||o}function wk(a){var o=Ci(a);o!==null&&o.tag===5&&o.type==="form"?oT(o):Pa.r(a)}var Vc=typeof document>"u"?null:document;function q4(a,o,u){var m=Vc;if(m&&typeof o=="string"&&o){var y=Qt(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),z4.has(y)||(z4.add(y),a={rel:a,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),Rn(o,"link",a),$t(o),m.head.appendChild(o)))}}function Sk(a){Pa.D(a),q4("dns-prefetch",a,null)}function Tk(a,o){Pa.C(a,o),q4("preconnect",a,o)}function Ek(a,o,u){Pa.L(a,o,u);var m=Vc;if(m&&a&&o){var y='link[rel="preload"][as="'+Qt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Qt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Qt(u.imageSizes)+'"]')):y+='[href="'+Qt(a)+'"]';var b=y;switch(o){case"style":b=Uc(a);break;case"script":b=Bc(a)}Kr.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Kr.set(b,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Md(b))||o==="script"&&m.querySelector(Ld(b))||(o=m.createElement("link"),Rn(o,"link",a),$t(o),m.head.appendChild(o)))}}function Ak(a,o){Pa.m(a,o);var u=Vc;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Qt(m)+'"][href="'+Qt(a)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Bc(a)}if(!Kr.has(b)&&(a=p({rel:"modulepreload",href:a},o),Kr.set(b,a),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ld(b)))return}m=u.createElement("link"),Rn(m,"link",a),$t(m),u.head.appendChild(m)}}}function jk(a,o,u){Pa.S(a,o,u);var m=Vc;if(m&&a){var y=Zn(m).hoistableStyles,b=Uc(a);o=o||"default";var O=y.get(b);if(!O){var M={loading:0,preload:null};if(O=m.querySelector(Md(b)))M.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Kr.get(b))&&k0(a,u);var H=O=m.createElement("link");$t(H),Rn(H,"link",a),H._p=new Promise(function(ee,oe){H.onload=ee,H.onerror=oe}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Mm(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:M},y.set(b,O)}}}function Nk(a,o){Pa.X(a,o);var u=Vc;if(u&&a){var m=Zn(u).hoistableScripts,y=Bc(a),b=m.get(y);b||(b=u.querySelector(Ld(y)),b||(a=p({src:a,async:!0},o),(o=Kr.get(y))&&M0(a,o),b=u.createElement("script"),$t(b),Rn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function Ck(a,o){Pa.M(a,o);var u=Vc;if(u&&a){var m=Zn(u).hoistableScripts,y=Bc(a),b=m.get(y);b||(b=u.querySelector(Ld(y)),b||(a=p({src:a,async:!0,type:"module"},o),(o=Kr.get(y))&&M0(a,o),b=u.createElement("script"),$t(b),Rn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function $4(a,o,u,m){var y=(y=Se.current)?km(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Uc(u.href),u=Zn(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Uc(u.href);var b=Zn(y).hoistableStyles,O=b.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,O),(b=y.querySelector(Md(a)))&&!b._p&&(O.instance=b,O.state.loading=5),Kr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Kr.set(a,u),b||Ok(y,a,u,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bc(u),u=Zn(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Uc(a){return'href="'+Qt(a)+'"'}function Md(a){return'link[rel="stylesheet"]['+a+"]"}function F4(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Ok(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Rn(o,"link",u),$t(o),a.head.appendChild(o))}function Bc(a){return'[src="'+Qt(a)+'"]'}function Ld(a){return"script[async]"+a}function H4(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Qt(u.href)+'"]');if(m)return o.instance=m,$t(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),$t(m),Rn(m,"style",y),Mm(m,u.precedence,a),o.instance=m;case"stylesheet":y=Uc(u.href);var b=a.querySelector(Md(y));if(b)return o.state.loading|=4,o.instance=b,$t(b),b;m=F4(u),(y=Kr.get(y))&&k0(m,y),b=(a.ownerDocument||a).createElement("link"),$t(b);var O=b;return O._p=new Promise(function(M,H){O.onload=M,O.onerror=H}),Rn(b,"link",m),o.state.loading|=4,Mm(b,u.precedence,a),o.instance=b;case"script":return b=Bc(u.src),(y=a.querySelector(Ld(b)))?(o.instance=y,$t(y),y):(m=u,(y=Kr.get(b))&&(m=p({},u),M0(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),$t(y),Rn(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Mm(m,u.precedence,a));return o.instance}function Mm(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,O=0;O<m.length;O++){var M=m[O];if(M.dataset.precedence===o)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function k0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function M0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Lm=null;function K4(a,o,u){if(Lm===null){var m=new Map,y=Lm=new Map;y.set(u,m)}else y=Lm,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Oo]||b[ln]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(o)||"";O=a+O;var M=m.get(O);M?M.push(b):m.set(O,[b])}}return m}function G4(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Ik(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function W4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Vd=null;function Rk(){}function Pk(a,o,u){if(Vd===null)throw Error(r(475));var m=Vd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Uc(u.href),b=a.querySelector(Md(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Vm.bind(m),a.then(m,m)),o.state.loading|=4,o.instance=b,$t(b);return}b=a.ownerDocument||a,u=F4(u),(y=Kr.get(y))&&k0(u,y),b=b.createElement("link"),$t(b);var O=b;O._p=new Promise(function(M,H){O.onload=M,O.onerror=H}),Rn(b,"link",u),o.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Vm.bind(m),a.addEventListener("load",o),a.addEventListener("error",o))}}function Dk(){if(Vd===null)throw Error(r(475));var a=Vd;return a.stylesheets&&a.count===0&&L0(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&L0(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Vm(){if(this.count--,this.count===0){if(this.stylesheets)L0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Um=null;function L0(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Um=new Map,o.forEach(kk,a),Um=null,Vm.call(a))}function kk(a,o){if(!(o.state.loading&4)){var u=Um.get(a);if(u)var m=u.get(null);else{u=new Map,Um.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var O=y[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}y=o.instance,O=y.getAttribute("data-precedence"),b=u.get(O)||m,b===m&&u.set(null,y),u.set(O,y),this.count++,m=Vm.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Ud={$$typeof:I,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Mk(a,o,u,m,y,b,O,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Y4(a,o,u,m,y,b,O,M,H,ee,oe,he){return a=new Mk(a,o,u,O,M,H,ee,he),o=1,b===!0&&(o|=24),b=yr(3,null,null,o),a.current=b,b.stateNode=a,o=yy(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},wy(b),a}function X4(a){return a?(a=vc,a):vc}function Q4(a,o,u,m,y,b){y=X4(y),m.context===null?m.context=y:m.pendingContext=y,m=Ss(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=Ts(a,m,o),u!==null&&(Sr(u,a,o),pd(u,a,o))}function Z4(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function V0(a,o){Z4(a,o),(a=a.alternate)&&Z4(a,o)}function J4(a){if(a.tag===13){var o=gc(a,67108864);o!==null&&Sr(o,a,67108864),V0(a,67108864)}}var Bm=!0;function Lk(a,o,u,m){var y=te.T;te.T=null;var b=de.p;try{de.p=2,U0(a,o,u,m)}finally{de.p=b,te.T=y}}function Vk(a,o,u,m){var y=te.T;te.T=null;var b=de.p;try{de.p=8,U0(a,o,u,m)}finally{de.p=b,te.T=y}}function U0(a,o,u,m){if(Bm){var y=B0(m);if(y===null)A0(a,o,m,zm,u),tE(a,m);else if(Bk(y,a,o,u,m))m.stopPropagation();else if(tE(a,m),o&4&&-1<Uk.indexOf(a)){for(;y!==null;){var b=Ci(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=ui(b.pendingLanes);if(O!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;O;){var H=1<<31-qn(O);M.entanglements[1]|=H,O&=~H}$i(b),(ft&6)===0&&(Tm=Je()+500,Rd(0))}}break;case 13:M=gc(b,2),M!==null&&Sr(M,b,2),Am(),V0(b,2)}if(b=B0(m),b===null&&A0(a,o,m,zm,u),b===y)break;y=b}y!==null&&m.stopPropagation()}else A0(a,o,m,null,u)}}function B0(a){return a=Lr(a),z0(a)}var zm=null;function z0(a){if(zm=null,a=da(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return zm=a,null}function eE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case mr:return 2;case Ct:return 8;case ci:case Lu:return 32;case fs:return 268435456;default:return 32}default:return 32}}var q0=!1,Ls=null,Vs=null,Us=null,Bd=new Map,zd=new Map,Bs=[],Uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(a,o){switch(a){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Bd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(o.pointerId)}}function qd(a,o,u,m,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Ci(o),o!==null&&J4(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function Bk(a,o,u,m,y){switch(o){case"focusin":return Ls=qd(Ls,a,o,u,m,y),!0;case"dragenter":return Vs=qd(Vs,a,o,u,m,y),!0;case"mouseover":return Us=qd(Us,a,o,u,m,y),!0;case"pointerover":var b=y.pointerId;return Bd.set(b,qd(Bd.get(b)||null,a,o,u,m,y)),!0;case"gotpointercapture":return b=y.pointerId,zd.set(b,qd(zd.get(b)||null,a,o,u,m,y)),!0}return!1}function nE(a){var o=da(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,Af(a.priority,function(){if(u.tag===13){var m=wr();m=ms(m);var y=gc(u,m);y!==null&&Sr(y,u,m),V0(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=B0(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);pa=m,u.target.dispatchEvent(m),pa=null}else return o=Ci(u),o!==null&&J4(o),a.blockedOn=u,!1;o.shift()}return!0}function rE(a,o,u){qm(a)&&u.delete(o)}function zk(){q0=!1,Ls!==null&&qm(Ls)&&(Ls=null),Vs!==null&&qm(Vs)&&(Vs=null),Us!==null&&qm(Us)&&(Us=null),Bd.forEach(rE),zd.forEach(rE)}function $m(a,o){a.blockedOn===o&&(a.blockedOn=null,q0||(q0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zk)))}var Fm=null;function iE(a){Fm!==a&&(Fm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fm===a&&(Fm=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(z0(m||u)===null)continue;break}var b=Ci(u);b!==null&&(a.splice(o,3),o-=3,zy(b,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function $d(a){function o(H){return $m(H,a)}Ls!==null&&$m(Ls,a),Vs!==null&&$m(Vs,a),Us!==null&&$m(Us,a),Bd.forEach(o),zd.forEach(o);for(var u=0;u<Bs.length;u++){var m=Bs[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Bs.length&&(u=Bs[0],u.blockedOn===null);)nE(u),u.blockedOn===null&&Bs.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],b=u[m+1],O=y[Xt]||null;if(typeof b=="function")O||iE(u);else if(O){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,O=b[Xt]||null)M=O.formAction;else if(z0(y)!==null)continue}else M=O.action;typeof M=="function"?u[m+1]=M:(u.splice(m,3),m-=3),iE(u)}}}function $0(a){this._internalRoot=a}Hm.prototype.render=$0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=wr();Q4(u,m,a,o,null,null)},Hm.prototype.unmount=$0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Q4(a.current,2,null,a,null,null),Am(),o[kr]=null}};function Hm(a){this._internalRoot=a}Hm.prototype.unstable_scheduleHydration=function(a){if(a){var o=ps();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Bs.length&&o!==0&&o<Bs[u].priority;u++);Bs.splice(u,0,a),u===0&&nE(a)}};var aE=e.version;if(aE!=="19.1.0")throw Error(r(527,aE,"19.1.0"));de.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var qk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{Bt=Km.inject(qk),ht=Km}catch{}}return Hd.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,m="",y=_T,b=wT,O=ST,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=Y4(a,1,!1,null,null,u,m,y,b,O,M,null),a[kr]=o.current,E0(a),new $0(o)},Hd.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var m=!1,y="",b=_T,O=wT,M=ST,H=null,ee=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(ee=u.formState)),o=Y4(a,1,!0,o,u??null,m,y,b,O,M,H,ee),o.context=X4(null),u=o.current,m=wr(),m=ms(m),y=Ss(m),y.callback=null,Ts(u,y,m),u=m,o.current.lanes=u,ua(o,u),$i(o),a[kr]=o.current,E0(a),new Hm(o)},Hd.version="19.1.0",Hd}var pE;function Qk(){if(pE)return K0.exports;pE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K0.exports=Xk(),K0.exports}var Zk=Qk();function st({children:t,variant:e="primary",size:n="medium",type:r="button",fullWidth:i=!1,onClick:s,disabled:c=!1,className:d}){const h=`btn btn-${e} btn-${n} ${i?"btn-full-width":""} ${d||""}`;return l.jsx("button",{type:r,className:h,onClick:s,disabled:c,children:t})}var Kd={},gE;function Jk(){if(gE)return Kd;gE=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.parse=c,Kd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,w){const _=new s,T=x.length;if(T<2)return _;const S=w?.decode||p;let N=0;do{const P=x.indexOf("=",N);if(P===-1)break;const I=x.indexOf(";",N),D=I===-1?T:I;if(P>D){N=x.lastIndexOf(";",P-1)+1;continue}const k=d(x,N,P),V=h(x,P,k),j=x.slice(k,V);if(_[j]===void 0){let R=d(x,P+1,D),L=h(x,D,R);const F=S(x.slice(R,L));_[j]=F}N=D+1}while(N<T);return _}function d(x,w,_){do{const T=x.charCodeAt(w);if(T!==32&&T!==9)return w}while(++w<_);return _}function h(x,w,_){for(;w>_;){const T=x.charCodeAt(--w);if(T!==32&&T!==9)return w+1}return _}function f(x,w,_){const T=_?.encode||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=T(w);if(!e.test(S))throw new TypeError(`argument val is invalid: ${w}`);let N=x+"="+S;if(!_)return N;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);N+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);N+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);N+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);N+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(N+="; HttpOnly"),_.secure&&(N+="; Secure"),_.partitioned&&(N+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return N}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return i.call(x)==="[object Date]"}return Kd}Jk();var vE="popstate";function e9(t={}){function e(r,i){let{pathname:s,search:c,hash:d}=r.location;return H2("",{pathname:s,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_h(i)}return n9(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _i(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t9(){return Math.random().toString(36).substring(2,10)}function yE(t,e){return{usr:t.state,key:t.key,idx:e}}function H2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xu(e):e,state:n,key:e&&e.key||r||t9()}}function _h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function n9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function v(){d="POP";let S=p(),N=S==null?null:S-f;f=S,h&&h({action:d,location:T.location,delta:N})}function x(S,N){d="PUSH";let P=H2(T.location,S,N);f=p()+1;let I=yE(P,f),D=T.createHref(P);try{c.pushState(I,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(D)}s&&h&&h({action:d,location:T.location,delta:1})}function w(S,N){d="REPLACE";let P=H2(T.location,S,N);f=p();let I=yE(P,f),D=T.createHref(P);c.replaceState(I,"",D),s&&h&&h({action:d,location:T.location,delta:0})}function _(S){return r9(S)}let T={get action(){return d},get location(){return t(i,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(vE,v),h=S,()=>{i.removeEventListener(vE,v),h=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let N=_(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(S){return c.go(S)}};return T}function r9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_h(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Z6(t,e,n="/"){return i9(t,e,n,!1)}function i9(t,e,n,r){let i=typeof e=="string"?xu(e):e,s=Wa(i.pathname||"/",n);if(s==null)return null;let c=J6(t);a9(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=g9(s);d=m9(c[h],f,r)}return d}function J6(t,e=[],n=[],r=""){let i=(s,c,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};h.relativePath.startsWith("/")&&(kt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=za([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(kt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J6(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:h9(f,s.index),routesMeta:p})};return t.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))i(s,c);else for(let d of eC(s.path))i(s,c,d)}),e}function eC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=eC(r.join("/")),d=[];return d.push(...c.map(h=>h===""?s:[s,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function a9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var s9=/^:[\w-]+$/,o9=3,l9=2,c9=1,u9=10,d9=-2,xE=t=>t==="*";function h9(t,e){let n=t.split("/"),r=n.length;return n.some(xE)&&(r+=d9),e&&(r+=l9),n.filter(i=>!xE(i)).reduce((i,s)=>i+(s9.test(s)?o9:s===""?c9:u9),r)}function f9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function m9(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=Rp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Rp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:za([s,v.pathname]),pathnameBase:b9(za([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=za([s,v.pathnameBase]))}return c}function Rp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},x)=>{if(p==="*"){let _=d[x]||"";c=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[x];return v&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:c,pattern:t}}function p9(t,e=!1,n=!0){_i(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function g9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function v9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xu(t):t;return{pathname:n?n.startsWith("/")?n:y9(n,e):e,search:_9(r),hash:w9(i)}}function y9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function X0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hb(t){let e=x9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fb(t,e,n,r=!1){let i;typeof t=="string"?i=xu(t):(i={...t},kt(!i.pathname||!i.pathname.includes("?"),X0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),X0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),X0("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}d=v>=0?e[v]:"/"}let h=v9(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var za=t=>t.join("/").replace(/\/\/+/g,"/"),b9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tC=["POST","PUT","PATCH","DELETE"];new Set(tC);var T9=["GET",...tC];new Set(T9);var bu=A.createContext(null);bu.displayName="DataRouter";var Vg=A.createContext(null);Vg.displayName="DataRouterState";var nC=A.createContext({isTransitioning:!1});nC.displayName="ViewTransition";var E9=A.createContext(new Map);E9.displayName="Fetchers";var A9=A.createContext(null);A9.displayName="Await";var Ai=A.createContext(null);Ai.displayName="Navigation";var Wh=A.createContext(null);Wh.displayName="Location";var aa=A.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var mb=A.createContext(null);mb.displayName="RouteError";function j9(t,{relative:e}={}){kt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Ai),{hash:i,pathname:s,search:c}=Yh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:za([n,s])),r.createHref({pathname:d,search:c,hash:i})}function _u(){return A.useContext(Wh)!=null}function as(){return kt(_u(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Wh).location}var rC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iC(t){A.useContext(Ai).static||A.useLayoutEffect(t)}function Ug(){let{isDataRoute:t}=A.useContext(aa);return t?B9():N9()}function N9(){kt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(bu),{basename:e,navigator:n}=A.useContext(Ai),{matches:r}=A.useContext(aa),{pathname:i}=as(),s=JSON.stringify(hb(r)),c=A.useRef(!1);return iC(()=>{c.current=!0}),A.useCallback((h,f={})=>{if(_i(c.current,rC),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=fb(h,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:za([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}A.createContext(null);function Yh(t,{relative:e}={}){let{matches:n}=A.useContext(aa),{pathname:r}=as(),i=JSON.stringify(hb(n));return A.useMemo(()=>fb(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function C9(t,e){return aC(t,e)}function aC(t,e,n,r){kt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Ai),{matches:s}=A.useContext(aa),c=s[s.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";sC(h,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=as(),x;if(e){let N=typeof e=="string"?xu(e):e;kt(f==="/"||N.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",_=w;if(f!=="/"){let N=f.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=Z6(t,{pathname:_});_i(p||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_i(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=D9(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:za([f,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:za([f,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,r);return e&&S?A.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function O9(){let t=U9(),e=S9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,c)}var I9=A.createElement(O9,null),R9=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(aa.Provider,{value:this.props.routeContext},A.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P9({routeContext:t,match:e,children:n}){let r=A.useContext(bu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(aa.Provider,{value:t},n)}function D9(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:v}=n,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let v,x=!1,w=null,_=null;n&&(v=s&&f.route.id?s[f.route.id]:void 0,w=f.route.errorElement||I9,c&&(d<0&&p===0?(sC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):d===p&&(x=!0,_=f.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,p+1)),S=()=>{let N;return v?N=w:x?N=_:f.route.Component?N=A.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,A.createElement(P9,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(R9,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}function pb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k9(t){let e=A.useContext(bu);return kt(e,pb(t)),e}function M9(t){let e=A.useContext(Vg);return kt(e,pb(t)),e}function L9(t){let e=A.useContext(aa);return kt(e,pb(t)),e}function gb(t){let e=L9(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V9(){return gb("useRouteId")}function U9(){let t=A.useContext(mb),e=M9("useRouteError"),n=gb("useRouteError");return t!==void 0?t:e.errors?.[n]}function B9(){let{router:t}=k9("useNavigate"),e=gb("useNavigate"),n=A.useRef(!1);return iC(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{_i(n.current,rC),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var bE={};function sC(t,e,n){!e&&!bE[t]&&(bE[t]=!0,_i(!1,n))}A.memo(z9);function z9({routes:t,future:e,state:n}){return aC(t,void 0,n,e)}function oC({to:t,replace:e,state:n,relative:r}){kt(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Ai);_i(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(aa),{pathname:c}=as(),d=Ug(),h=fb(t,hb(s),c,r==="path"),f=JSON.stringify(h);return A.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function al(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){kt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof n=="string"&&(n=xu(n));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:x="default"}=n,w=A.useMemo(()=>{let _=Wa(h,c);return _==null?null:{location:{pathname:_,search:f,hash:p,state:v,key:x},navigationType:r}},[c,h,f,p,v,x,r]);return _i(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Ai.Provider,{value:d},A.createElement(Wh.Provider,{children:e,value:w}))}function $9({children:t,location:e}){return C9(K2(t),e)}function K2(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,K2(r.props.children,s));return}kt(r.type===al,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=K2(r.props.children,s)),n.push(c)}),n}var vp="get",yp="application/x-www-form-urlencoded";function Bg(t){return t!=null&&typeof t.tagName=="string"}function F9(t){return Bg(t)&&t.tagName.toLowerCase()==="button"}function H9(t){return Bg(t)&&t.tagName.toLowerCase()==="form"}function K9(t){return Bg(t)&&t.tagName.toLowerCase()==="input"}function G9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W9(t,e){return t.button===0&&(!e||e==="_self")&&!G9(t)}var Gm=null;function Y9(){if(Gm===null)try{new FormData(document.createElement("form"),0),Gm=!1}catch{Gm=!0}return Gm}var X9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Q0(t){return t!=null&&!X9.has(t)?(_i(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):t}function Q9(t,e){let n,r,i,s,c;if(H9(t)){let d=t.getAttribute("action");r=d?Wa(d,e):null,n=t.getAttribute("method")||vp,i=Q0(t.getAttribute("enctype"))||yp,s=new FormData(t)}else if(F9(t)||K9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Wa(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||vp,i=Q0(t.getAttribute("formenctype"))||Q0(d.getAttribute("enctype"))||yp,s=new FormData(d,t),!Y9()){let{name:f,type:p,value:v}=t;if(p==="image"){let x=f?`${f}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else f&&s.append(f,v)}}else{if(Bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vp,r=null,i=yp,c=t}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:c}}function vb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Z9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let c=await Z9(s,n);return c.links?c.links():[]}return[]}));return iM(r.flat(1).filter(J9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _E(t,e,n,r,i,s){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):s==="data"?e.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tM(t,e,{includeHydrateFallback:n}={}){return nM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function nM(t){return[...new Set(t)]}function rM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(rM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aM=new Set([100,101,204,205]);function sM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lC(){let t=A.useContext(bu);return vb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oM(){let t=A.useContext(Vg);return vb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yb=A.createContext(void 0);yb.displayName="FrameworkContext";function cC(){let t=A.useContext(yb);return vb(t,"You must render this element inside a <HydratedRouter> element"),t}function lM(t,e){let n=A.useContext(yb),[r,i]=A.useState(!1),[s,c]=A.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,x=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let T=N=>{N.forEach(P=>{c(P.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let w=()=>{i(!0)},_=()=>{i(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Gd(d,w),onBlur:Gd(h,_),onMouseEnter:Gd(f,w),onMouseLeave:Gd(p,_),onTouchStart:Gd(v,w)}]:[!1,x,{}]}function Gd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cM({page:t,...e}){let{router:n}=lC(),r=A.useMemo(()=>Z6(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(dM,{page:t,matches:r,...e}):null}function uM(t){let{manifest:e,routeModules:n}=cC(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return eM(t,e,n).then(c=>{s||i(c)}),()=>{s=!0}},[t,e,n]),r}function dM({page:t,matches:e,...n}){let r=as(),{manifest:i,routeModules:s}=cC(),{basename:c}=lC(),{loaderData:d,matches:h}=oM(),f=A.useMemo(()=>_E(t,e,h,i,r,"data"),[t,e,h,i,r]),p=A.useMemo(()=>_E(t,e,h,i,r,"assets"),[t,e,h,i,r]),v=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(N=>{let P=i.routes[N.route.id];!P||!P.hasLoader||(!f.some(I=>I.route.id===N.route.id)&&N.route.id in d&&s[N.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:_.add(N.route.id))}),_.size===0)return[];let S=sM(t,c);return T&&_.size>0&&S.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[c,d,r,i,f,e,t,s]),x=A.useMemo(()=>tM(p,i),[p,i]),w=uM(p);return A.createElement(A.Fragment,null,v.map(_=>A.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),x.map(_=>A.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:T})=>A.createElement("link",{key:_,...T})))}function hM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uC&&(window.__reactRouterVersion="7.6.3")}catch{}function fM({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=e9({window:n,v5Compat:!0}));let i=r.current,[s,c]=A.useState({action:i.action,location:i.location}),d=A.useCallback(h=>{A.startTransition(()=>c(h))},[c]);return A.useLayoutEffect(()=>i.listen(d),[i,d]),A.createElement(q9,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hC=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:v,...x},w){let{basename:_}=A.useContext(Ai),T=typeof f=="string"&&dC.test(f),S,N=!1;if(typeof f=="string"&&T&&(S=f,uC))try{let L=new URL(window.location.href),F=f.startsWith("//")?new URL(L.protocol+f):new URL(f),z=Wa(F.pathname,_);F.origin===L.origin&&z!=null?f=z+F.search+F.hash:N=!0}catch{_i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=j9(f,{relative:i}),[I,D,k]=lM(r,x),V=vM(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:v});function j(L){e&&e(L),L.defaultPrevented||V(L)}let R=A.createElement("a",{...x,...k,href:S||P,onClick:N||s?e:j,ref:hM(w,D),target:h,"data-discover":!T&&n==="render"?"true":void 0});return I&&!T?A.createElement(A.Fragment,null,R,A.createElement(cM,{page:P})):R});hC.displayName="Link";var mM=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:d,children:h,...f},p){let v=Yh(c,{relative:f.relative}),x=as(),w=A.useContext(Vg),{navigator:_,basename:T}=A.useContext(Ai),S=w!=null&&wM(v)&&d===!0,N=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,P=x.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),I=I?I.toLowerCase():null,N=N.toLowerCase()),I&&T&&(I=Wa(I,T)||I);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=P===N||!i&&P.startsWith(N)&&P.charAt(D)==="/",V=I!=null&&(I===N||!i&&I.startsWith(N)&&I.charAt(N.length)==="/"),j={isActive:k,isPending:V,isTransitioning:S},R=k?e:void 0,L;typeof r=="function"?L=r(j):L=[r,k?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(j):s;return A.createElement(hC,{...f,"aria-current":R,className:L,ref:p,style:F,to:c,viewTransition:d},typeof h=="function"?h(j):h)});mM.displayName="NavLink";var pM=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:c=vp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,...x},w)=>{let _=bM(),T=_M(d,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&dC.test(d),P=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,k=D?.getAttribute("formmethod")||c;_(D||I.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:v})};return A.createElement("form",{ref:w,method:S,action:T,onSubmit:r?h:P,...x,"data-discover":!N&&t==="render"?"true":void 0})});pM.displayName="Form";function gM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(t){let e=A.useContext(bu);return kt(e,gM(t)),e}function vM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:c}={}){let d=Ug(),h=as(),f=Yh(t,{relative:s});return A.useCallback(p=>{if(W9(p,e)){p.preventDefault();let v=n!==void 0?n:_h(h)===_h(f);d(t,{replace:v,state:r,preventScrollReset:i,relative:s,viewTransition:c})}},[h,d,f,n,r,e,t,i,s,c])}var yM=0,xM=()=>`__${String(++yM)}__`;function bM(){let{router:t}=fC("useSubmit"),{basename:e}=A.useContext(Ai),n=V9();return A.useCallback(async(r,i={})=>{let{action:s,method:c,encType:d,formData:h,body:f}=Q9(r,e);if(i.navigate===!1){let p=i.fetcherKey||xM();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function _M(t,{relative:e}={}){let{basename:n}=A.useContext(Ai),r=A.useContext(aa);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Yh(t||".",{relative:e})},c=as();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:za([n,s.pathname])),_h(s)}function wM(t,e={}){let n=A.useContext(nC);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fC("useViewTransitionState"),i=Yh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Wa(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Wa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rp(i.pathname,c)!=null||Rp(i.pathname,s)!=null}[...aM];var SM=Q6();function yo(){const t=Ug();return{goTo:(n,r)=>{t(n,r)}}}function xb(t){const e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})}const Rt={landing:"/",login:"/login",register:"/register",forgotPassword:"/forgot-password",terms:"/terms",privacy:"/privacy",app:"/app",dashboard:"/app",admin:"/app/admin-users",priorityOptimization:"/app/priority-optimization",settings:"/app/settings",operationalRoutes:"/app/operational-routes",operationalRoutesList:"/app/operational-routes-list",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control",operatorsList:"/app/operators-list",blingIntegration:"/app/bling-integration",userCreation:"/app/user-creation",productManagement:"/app/product-management"};function TM(){const[t,e]=A.useState(!1),{goTo:n}=yo(),r=i=>{i.startsWith("#")?xb(i):n(i)};return l.jsx("header",{className:"header",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"header-content",children:[l.jsx("span",{className:"logo",style:{cursor:"pointer"},onClick:()=>r(Rt.landing),children:l.jsx("span",{className:"logo-text",children:"RR Vision Brazil"})}),l.jsxs("nav",{className:`nav ${t?"nav-open":""}`,children:[l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#features"),children:"Recursos"}),l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#about"),children:"Sobre"}),l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#contact"),children:"Contato"})]}),l.jsxs("div",{className:"header-actions",children:[l.jsx(st,{variant:"outline",onClick:()=>r(Rt.login),children:"Entrar"}),l.jsx(st,{variant:"primary",onClick:()=>r(Rt.register),children:"Cadastrar"})]}),l.jsxs("button",{className:"menu-toggle",onClick:()=>e(!t),children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})]})})})}function EM(){const{goTo:t}=yo(),e=n=>{n.startsWith("#")?xb(n):t(n)};return l.jsx("section",{className:"hero",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"hero-content",children:[l.jsxs("div",{className:"hero-text",children:[l.jsx("h1",{className:"hero-title",children:"Automatize seu Controle de Produção Industrial"}),l.jsx("p",{className:"hero-description",children:"Integre dados do ERP Bling com processos internos, otimize a alocação de operadores e monitore a eficiência em tempo real com dashboards dinâmicos e alertas automáticos."}),l.jsxs("div",{className:"hero-actions",children:[l.jsx(st,{variant:"primary",size:"large",onClick:()=>e("/register"),children:"Começar Agora"}),l.jsx(st,{variant:"outline",size:"large",onClick:()=>e("#features"),children:"Conhecer Recursos"})]})]}),l.jsx("div",{className:"hero-image",children:l.jsxs("div",{className:"dashboard-preview",children:[l.jsx("div",{className:"dashboard-header",children:l.jsxs("div",{className:"dashboard-tabs",children:[l.jsx("div",{className:"tab active",children:"Dashboard"}),l.jsx("div",{className:"tab",children:"Produção"}),l.jsx("div",{className:"tab",children:"Operadores"})]})}),l.jsxs("div",{className:"dashboard-content",children:[l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"87%"}),l.jsx("div",{className:"metric-label",children:"Eficiência"})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"24"}),l.jsx("div",{className:"metric-label",children:"Ordens Ativas"})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"156"}),l.jsx("div",{className:"metric-label",children:"Operadores"})]})]})]})})]})})})}var mC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wE=eo.createContext&&eo.createContext(mC),AM=["attr","size","title"];function jM(t,e){if(t==null)return{};var n=NM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){CM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CM(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t){var e=IM(t,"string");return typeof e=="symbol"?e:e+""}function IM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pC(t){return t&&t.map((e,n)=>eo.createElement(e.tag,Dp({key:n},e.attr),pC(e.child)))}function ye(t){return e=>eo.createElement(RM,Pp({attr:Dp({},t.attr)},e),pC(t.child))}function RM(t){var e=n=>{var{attr:r,size:i,title:s}=t,c=jM(t,AM),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),eo.createElement("svg",Pp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:Dp(Dp({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&eo.createElement("title",null,s),t.children)};return wE!==void 0?eo.createElement(wE.Consumer,null,n=>e(n)):e(mC)}function PM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function G2(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function DM(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function Tl(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Xh(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function Qh(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function TE(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function kM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function MM(t){return ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function gC(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function ss(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function vC(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function El(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ya(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function LM(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function VM(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Z0(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function yC(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function rn(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function UM(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function so(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function xC(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function BM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function ch(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function zg(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function zM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ml(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Gt(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function qM(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function qg(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function bC(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function $M(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function _C(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function FM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(t)}function HM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function kp(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function ul(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function KM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function GM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function WM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function YM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function XM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(t)}function W2(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function QM(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ZM(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function JM(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(t)}function Mp(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function e7(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 128c35.3 0 64-28.7 64-64S163.3 0 128 0 64 28.7 64 64s28.7 64 64 64zm384 0c35.3 0 64-28.7 64-64S547.3 0 512 0s-64 28.7-64 64 28.7 64 64 64zm127.3 226.5l-45.6-185.8c-3.3-13.5-15.5-23-29.8-24.2-15 9.7-32.8 15.5-52 15.5-19.2 0-37-5.8-52-15.5-14.3 1.2-26.5 10.7-29.8 24.2l-45.6 185.8C381 369.6 393 384 409.2 384H464v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V384h54.8c16.2 0 28.2-14.4 24.5-29.5zM336 0h-32c-8.8 0-16 7.2-16 16v480c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zM180.1 144.4c-15 9.8-32.9 15.6-52.1 15.6-19.2 0-37.1-5.8-52.1-15.6C51.3 146.5 32 166.9 32 192v136c0 13.3 10.7 24 24 24h8v136c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V352h8c13.3 0 24-10.7 24-24V192c0-25.1-19.3-45.5-43.9-47.6z"},child:[]}]})(t)}function ru(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function wh(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function wu(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function wC(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function t7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function n7(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function r7(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function $g(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function oo(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function i7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function a7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Zr(t){return ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Sh(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function Th(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function SC(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function s7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function o7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function l7(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(t)}function c7(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function u7(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function iu(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function d7(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function Eh(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function h7(t){return ye({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function f7(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function m7(){const t=[{icon:l.jsx(oo,{}),title:"Integração ERP Bling",description:"Sincronização automática de dados do ERP para otimizar o planejamento de produção"},{icon:l.jsx(Eh,{}),title:"Alocação Inteligente",description:"Distribuição de operadores baseada em habilidades e disponibilidade"},{icon:l.jsx(ss,{}),title:"Dashboards em Tempo Real",description:"Monitoramento da eficiência e produtividade com métricas atualizadas"},{icon:l.jsx(Xh,{}),title:"Execução Assistida",description:"Roteiros detalhados para guiar operadores durante a produção"},{icon:l.jsx(wu,{}),title:"Controle de Qualidade",description:"Registro e acompanhamento de não conformidades"},{icon:l.jsx(Tl,{}),title:"Alertas Automáticos",description:"Notificações inteligentes para otimizar o fluxo produtivo"}];return l.jsx("section",{id:"features",className:"features",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Recursos Principais"}),l.jsx("p",{children:"Tudo que você precisa para otimizar sua produção industrial"})]}),l.jsx("div",{className:"features-grid",children:t.map((e,n)=>l.jsxs("div",{className:"feature-card",children:[l.jsx("div",{className:"feature-icon",children:e.icon}),l.jsx("h3",{className:"feature-title",children:e.title}),l.jsx("p",{className:"feature-description",children:e.description})]},n))})]})})}function p7(){return l.jsx("section",{id:"about",className:"about",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"about-content",children:[l.jsxs("div",{className:"about-text",children:[l.jsx("h2",{children:"Sobre o RR Vision Brazil"}),l.jsx("p",{children:"Nossa plataforma foi desenvolvida especificamente para atender às necessidades da indústria brasileira, oferecendo uma solução completa para automação do controle de produção."}),l.jsx("p",{children:"Com foco na integração de dados e otimização de processos, o RR Vision Brazil permite que gestores e operadores trabalhem de forma mais eficiente, reduzindo custos e aumentando a produtividade."}),l.jsxs("div",{className:"stats",children:[l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"500+"}),l.jsx("div",{className:"stat-label",children:"Empresas Atendidas"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"25%"}),l.jsx("div",{className:"stat-label",children:"Aumento Médio de Eficiência"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"24/7"}),l.jsx("div",{className:"stat-label",children:"Suporte Técnico"})]})]})]}),l.jsx("div",{className:"about-image",children:l.jsxs("div",{className:"process-flow",children:[l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"1"}),l.jsx("div",{className:"step-title",children:"Planejamento"})]}),l.jsx("div",{className:"flow-arrow",children:"→"}),l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"2"}),l.jsx("div",{className:"step-title",children:"Execução"})]}),l.jsx("div",{className:"flow-arrow",children:"→"}),l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"3"}),l.jsx("div",{className:"step-title",children:"Monitoramento"})]})]})})]})})})}function Ye({type:t,name:e,placeholder:n,value:r,onChange:i,required:s=!1,disabled:c=!1,icon:d}){return l.jsxs("div",{className:"input-wrapper",children:[d&&l.jsx("div",{className:"input-icon",children:d}),l.jsx("input",{type:t,name:e,placeholder:n,value:r,onChange:i,required:s,disabled:c,className:`input ${d?"input-with-icon":""}`})]})}function g7(){const[t,e]=A.useState({name:"",email:"",company:"",message:""}),n=i=>{e({...t,[i.target.name]:i.target.value})},r=i=>{i.preventDefault(),console.log("Contact form:",t)};return l.jsx("section",{id:"contact",className:"contact",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Entre em Contato"}),l.jsx("p",{children:"Fale conosco para saber mais sobre o RR Vision Brazil"})]}),l.jsxs("div",{className:"contact-content",children:[l.jsxs("div",{className:"contact-info",children:[l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{children:[l.jsx("h4",{children:"E-mail"}),l.jsx("p",{children:"contato@rrvisionbrazil.com"})]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7294C21.7209 20.9846 21.5573 21.2136 21.3521 21.4019C21.1469 21.5902 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0973 21.9454 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3146 6.72533 15.2661 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.09456 3.90347 2.12787 3.62461 2.21649 3.36152C2.30512 3.09843 2.44756 2.85687 2.63483 2.65231C2.8221 2.44775 3.0498 2.28477 3.30349 2.17351C3.55718 2.06225 3.83148 2.00489 4.10999 2.00001H7.10999C7.59522 1.99522 8.06569 2.16708 8.43373 2.48353C8.80177 2.79999 9.04201 3.23945 9.10999 3.72001C9.23662 4.68007 9.47144 5.62273 9.80999 6.53001C9.94454 6.88792 9.97348 7.27675 9.89382 7.65369C9.81416 8.03063 9.62884 8.38332 9.35999 8.67001L8.08999 9.94001C9.51355 12.5795 11.4205 14.4865 14.06 15.91L15.33 14.64C15.6167 14.3712 15.9694 14.1858 16.3463 14.1062C16.7233 14.0265 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsxs("div",{children:[l.jsx("h4",{children:"Telefone"}),l.jsx("p",{children:"(11) 9999-9999"})]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{children:[l.jsx("h4",{children:"Endereço"}),l.jsx("p",{children:"São Paulo, SP - Brasil"})]})]})]}),l.jsxs("form",{onSubmit:r,className:"contact-form",children:[l.jsxs("div",{className:"form-row",children:[l.jsx(Ye,{type:"text",name:"name",placeholder:"Seu nome",value:t.name,onChange:n,required:!0}),l.jsx(Ye,{type:"email",name:"email",placeholder:"Seu e-mail",value:t.email,onChange:n,required:!0})]}),l.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:n,required:!0}),l.jsx("textarea",{name:"message",placeholder:"Sua mensagem",value:t.message,onChange:n,className:"contact-textarea",rows:5,required:!0}),l.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,children:"Enviar Mensagem"})]})]})]})})}const v7=new Date().getFullYear(),y7=({theme:t="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:r="to right",backgroundColor:i=t==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:s=t})=>{const c=t==="dark",d=e?{backgroundImage:`linear-gradient(${r}, ${n[0]}, ${n[1]})`}:{backgroundColor:i},h=c?"#ffffff":"#333333",f=s==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return l.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},d),{color:h}),children:[l.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:f,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),l.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless © ",v7]})]})};function x7(){const{goTo:t}=yo(),e=n=>{n.startsWith("#")?xb(n):t(n)};return l.jsx("footer",{className:"footer",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"footer-content",children:[l.jsxs("div",{className:"footer-section",children:[l.jsx("h3",{children:"RR Vision Brazil"}),l.jsx("p",{children:"Automatizando o controle de produção industrial com tecnologia e inovação."})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Produto"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#features"),children:"Recursos"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/pricing"),children:"Preços"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/demo"),children:"Demo"})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Empresa"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#about"),children:"Sobre"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/careers"),children:"Carreiras"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#contact"),children:"Contato"})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Suporte"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/help"),children:"Ajuda"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/docs"),children:"Documentação"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/support"),children:"Suporte Técnico"})]})]}),l.jsxs("div",{className:"footer-bottom",children:[l.jsx("p",{children:"© 2024 RR Vision Brazil. Todos os direitos reservados."}),l.jsxs("div",{className:"footer-links",children:[l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/privacy"),children:"Privacidade"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/terms"),children:"Termos de Uso"})]})]}),l.jsx(y7,{backgroundColor:"transparent",theme:"dark"})]})})}function b7(){return l.jsxs("div",{className:"app",children:[l.jsx(TM,{}),l.jsx(EM,{}),l.jsx(m7,{}),l.jsx(p7,{}),l.jsx(g7,{}),l.jsx(x7,{})]})}function uh(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function _7(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function Y2(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(t)}function bb(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(t)}function w7(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"},child:[]}]})(t)}function S7(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(t)}function T7(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}const E7=()=>{};var EE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],d=t[n++],h=((i&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},EC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,d=c?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=s>>2,v=(s&3)<<4|d>>4;let x=(d&15)<<2|f>>6,w=f&63;h||(w=64,c||(x=64)),r.push(n[p],n[v],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||f==null||v==null)throw new j7;const x=s<<2|d>>4;if(r.push(x),f!==64){const w=d<<4&240|f>>2;if(r.push(w),v!==64){const _=f<<6&192|v;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N7=function(t){const e=TC(t);return EC.encodeByteArray(e,!0)},Lp=function(t){return N7(t).replace(/\./g,"")},AC=function(t){try{return EC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=()=>C7().__FIREBASE_DEFAULTS__,I7=()=>{if(typeof process>"u"||typeof EE>"u")return;const t=EE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AC(t[1]);return e&&JSON.parse(e)},Fg=()=>{try{return E7()||O7()||I7()||R7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jC=t=>{var e,n;return(n=(e=Fg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NC=t=>{const e=jC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CC=()=>{var t;return(t=Fg())===null||t===void 0?void 0:t.config},OC=t=>{var e;return(e=Fg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _b(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lp(JSON.stringify(n)),Lp(JSON.stringify(c)),""].join(".")}const dh={};function D7(){const t={prod:[],emulator:[]};for(const e of Object.keys(dh))dh[e]?t.emulator.push(e):t.prod.push(e);return t}function k7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let AE=!1;function wb(t,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||dh[t]===e||dh[t]||AE)return;dh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=D7().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{AE=!0,c()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=k7(r),w=n("text"),_=document.getElementById(w)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),N=n("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const I=x.element;d(I),p(S,T);const D=f();h(P,N),I.append(P,_,S,D),document.body.appendChild(I)}s?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function L7(){var t;const e=(t=Fg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z7(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q7(){return!L7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $7(){try{return typeof indexedDB=="object"}catch{return!1}}function F7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="FirebaseError";class sa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H7,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?K7(s,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new sa(i,d,r)}}function K7(t,e){return t.replace(G7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G7=/\{\$([^}]+)}/g;function W7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(jE(s)&&jE(c)){if(!Al(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function th(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Y7(t,e){const n=new X7(t,e);return n.subscribe.bind(n)}class X7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=J0),i.error===void 0&&(i.error=J0),i.complete===void 0&&(i.complete=J0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function J0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eL(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const c=this.instances.get(i);return c&&e(c,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J7(t){return t===sl?void 0:t}function eL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const nL={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},rL=et.INFO,iL={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},aL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sb{constructor(e){this.name=e,this._logLevel=rL,this._logHandler=aL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const sL=(t,e)=>e.some(n=>t instanceof n);let NE,CE;function oL(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lL(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RC=new WeakMap,X2=new WeakMap,PC=new WeakMap,e1=new WeakMap,Tb=new WeakMap;function cL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(to(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&RC.set(n,t)}).catch(()=>{}),Tb.set(e,t),e}function uL(t){if(X2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});X2.set(t,e)}let Q2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dL(t){Q2=t(Q2)}function hL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(t1(this),e,...n);return PC.set(r,e.sort?e.sort():[e]),to(r)}:lL().includes(t)?function(...e){return t.apply(t1(this),e),to(RC.get(this))}:function(...e){return to(t.apply(t1(this),e))}}function fL(t){return typeof t=="function"?hL(t):(t instanceof IDBTransaction&&uL(t),sL(t,oL())?new Proxy(t,Q2):t)}function to(t){if(t instanceof IDBRequest)return cL(t);if(e1.has(t))return e1.get(t);const e=fL(t);return e!==t&&(e1.set(t,e),Tb.set(e,t)),e}const t1=t=>Tb.get(t);function mL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),d=to(c);return r&&c.addEventListener("upgradeneeded",h=>{r(to(c.result),h.oldVersion,h.newVersion,to(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const pL=["get","getKey","getAll","getAllKeys","count"],gL=["put","add","delete","clear"],n1=new Map;function OE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(n1.get(e))return n1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pL.includes(n)))return;const s=async function(c,...d){const h=this.transaction(c,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),i&&h.done]))[0]};return n1.set(e,s),s}dL(t=>({...t,get:(e,n,r)=>OE(e,n)||t.get(e,n,r),has:(e,n)=>!!OE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yL(t){const e=t.getComponent();return e?.type==="VERSION"}const Z2="@firebase/app",IE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Sb("@firebase/app"),xL="@firebase/app-compat",bL="@firebase/analytics-compat",_L="@firebase/analytics",wL="@firebase/app-check-compat",SL="@firebase/app-check",TL="@firebase/auth",EL="@firebase/auth-compat",AL="@firebase/database",jL="@firebase/data-connect",NL="@firebase/database-compat",CL="@firebase/functions",OL="@firebase/functions-compat",IL="@firebase/installations",RL="@firebase/installations-compat",PL="@firebase/messaging",DL="@firebase/messaging-compat",kL="@firebase/performance",ML="@firebase/performance-compat",LL="@firebase/remote-config",VL="@firebase/remote-config-compat",UL="@firebase/storage",BL="@firebase/storage-compat",zL="@firebase/firestore",qL="@firebase/ai",$L="@firebase/firestore-compat",FL="firebase",HL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="[DEFAULT]",KL={[Z2]:"fire-core",[xL]:"fire-core-compat",[_L]:"fire-analytics",[bL]:"fire-analytics-compat",[SL]:"fire-app-check",[wL]:"fire-app-check-compat",[TL]:"fire-auth",[EL]:"fire-auth-compat",[AL]:"fire-rtdb",[jL]:"fire-data-connect",[NL]:"fire-rtdb-compat",[CL]:"fire-fn",[OL]:"fire-fn-compat",[IL]:"fire-iid",[RL]:"fire-iid-compat",[PL]:"fire-fcm",[DL]:"fire-fcm-compat",[kL]:"fire-perf",[ML]:"fire-perf-compat",[LL]:"fire-rc",[VL]:"fire-rc-compat",[UL]:"fire-gcs",[BL]:"fire-gcs-compat",[zL]:"fire-fst",[$L]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[FL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,GL=new Map,ex=new Map;function RE(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(ex.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;ex.set(e,t);for(const n of Vp.values())RE(n,t);for(const n of GL.values())RE(n,t);return!0}function Hg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Zh("app","Firebase",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=HL;function DC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:J2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(n||(n=CC()),!n)throw no.create("no-options");const s=Vp.get(i);if(s){if(Al(n,s.options)&&Al(r,s.config))return s;throw no.create("duplicate-app",{appName:i})}const c=new tL(i);for(const h of ex.values())c.addComponent(h);const d=new YL(n,r,c);return Vp.set(i,d),d}function Eb(t=J2){const e=Vp.get(t);if(!e&&t===J2&&CC())return DC();if(!e)throw no.create("no-app",{appName:t});return e}function Ki(t,e,n){var r;let i=(r=KL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const d=[`Unable to register library "${i}" with version "${e}":`];s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(d.join(" "));return}jl(new lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="firebase-heartbeat-database",QL=1,Ah="firebase-heartbeat-store";let r1=null;function kC(){return r1||(r1=mL(XL,QL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ah)}catch(n){console.warn(n)}}}}).catch(t=>{throw no.create("idb-open",{originalErrorMessage:t.message})})),r1}async function ZL(t){try{const n=(await kC()).transaction(Ah),r=await n.objectStore(Ah).get(MC(t));return await n.done,r}catch(e){if(e instanceof sa)Xa.warn(e.message);else{const n=no.create("idb-get",{originalErrorMessage:e?.message});Xa.warn(n.message)}}}async function PE(t,e){try{const r=(await kC()).transaction(Ah,"readwrite");await r.objectStore(Ah).put(e,MC(t)),await r.done}catch(n){if(n instanceof sa)Xa.warn(n.message);else{const r=no.create("idb-set",{originalErrorMessage:n?.message});Xa.warn(r.message)}}}function MC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=1024,eV=30;class tV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>eV){const c=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DE(),{heartbeatsToSend:r,unsentEntries:i}=nV(this._heartbeatsCache.heartbeats),s=Lp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xa.warn(n),""}}}function DE(){return new Date().toISOString().substring(0,10)}function nV(t,e=JL){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),kE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $7()?F7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kE(t){return Lp(JSON.stringify({version:2,heartbeats:t})).length}function iV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){jl(new lo("platform-logger",e=>new vL(e),"PRIVATE")),jl(new lo("heartbeat",e=>new tV(e),"PRIVATE")),Ki(Z2,IE,t),Ki(Z2,IE,"esm2017"),Ki("fire-js","")}aV("");function Ab(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sV=LC,VC=new Zh("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Sb("@firebase/auth");function oV(t,...e){Up.logLevel<=et.WARN&&Up.warn(`Auth (${Vl}): ${t}`,...e)}function xp(t,...e){Up.logLevel<=et.ERROR&&Up.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw jb(t,...e)}function Gi(t,...e){return jb(t,...e)}function UC(t,e,n){const r=Object.assign(Object.assign({},sV()),{[e]:n});return new Zh("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return UC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VC.create(t,...e)}function Me(t,e,...n){if(!t)throw jb(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xp(e),new Error(e)}function Qa(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lV(){return ME()==="http:"||ME()==="https:"}function ME(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lV()||U7()||"connection"in navigator)?navigator.onLine:!0}function uV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qa(n>e,"Short delay should be less than long delay!"),this.isMobile=M7()||B7()}get(){return cV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e){Qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fV=new ef(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,i={}){return zC(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=Jh(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},s);return V7()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(f.credentials="include"),BC.fetch()(await qC(t,t.config.apiHost,n,d),f)})}async function zC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dV),e);try{const i=new pV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Wm(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wm(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Wm(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Wm(t,"user-disabled",c);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw UC(t,p,f);wi(t,p)}}catch(i){if(i instanceof sa)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function tf(t,e,n,r,i={}){const s=await os(t,e,n,r,i);return"mfaPendingCredential"in s&&wi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?Nb(t.config,i):`${t.config.apiScheme}://${i}`;return hV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function mV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),fV.get())})}}function Wm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gi(t,e,r);return i.customData._tokenResponse=n,i}function LE(t){return t!==void 0&&t.enterprise!==void 0}class gV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vV(t,e){return os(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function Bp(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xV(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=Cb(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:hh(i1(i.auth_time)),issuedAtTime:hh(i1(i.iat)),expirationTime:hh(i1(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function i1(t){return Number(t)*1e3}function Cb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(n);return i?JSON.parse(i):(xp("Failed to decode base64 JWT payload"),null)}catch(i){return xp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VE(t){const e=Cb(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sa&&bV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hh(this.lastLoginAt),this.creationTime=hh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await au(t,Bp(n,{idToken:r}));Me(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const c=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$C(s.providerUserInfo):[],d=SV(t.providerData,c),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!d?.length,p=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new nx(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function wV(t){const e=on(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $C(t){return t.map(e=>{var{providerId:n}=e,r=Ab(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){const n=await zC(t,{},async()=>{const r=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await qC(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(h.credentials="include"),BC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EV(t,e){return os(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=VE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new Xc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(Me(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ab(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xV(this,e)}reload(){return wV(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await au(this,yV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,c,d,h,f,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(c=n.photoURL)!==null&&c!==void 0?c:void 0,T=(d=n.tenantId)!==null&&d!==void 0?d:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:D,isAnonymous:k,providerData:V,stsTokenManager:j}=n;Me(I&&j,e,"internal-error");const R=Xc.fromJSON(this.name,j);Me(typeof I=="string",e,"internal-error"),qs(v,e.name),qs(x,e.name),Me(typeof D=="boolean",e,"internal-error"),Me(typeof k=="boolean",e,"internal-error"),qs(w,e.name),qs(_,e.name),qs(T,e.name),qs(S,e.name),qs(N,e.name),qs(P,e.name);const L=new yi({uid:I,auth:e,email:x,emailVerified:D,displayName:v,isAnonymous:k,photoURL:_,phoneNumber:w,tenantId:T,stsTokenManager:R,createdAt:N,lastLoginAt:P});return V&&Array.isArray(V)&&(L.providerData=V.map(F=>Object.assign({},F))),S&&(L._redirectEventId=S),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xc;i.updateFromServerResponse(n);const s=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$C(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,d=new Xc;d.updateFromIdToken(r);const h=new yi({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;function La(t){Qa(t instanceof Function,"Expected a class definition");let e=UE.get(t);return e?(Qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FC.type="NONE";const BE=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e,n){return`firebase:${t}:${e}:${n}`}class Qc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,s),this.fullPersistenceKey=bp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bp(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qc(La(BE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||La(BE);const c=bp(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const p=await f._get(c);if(p){let v;if(typeof p=="string"){const x=await Bp(e,{idToken:p}).catch(()=>{});if(!x)break;v=await yi._fromGetAccountInfoResponse(e,x,p)}else v=yi._fromJSON(e,p);f!==s&&(d=v),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Qc(s,e,r):(s=h[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(c)}catch{}})),new Qc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XC(e))return"Blackberry";if(QC(e))return"Webos";if(KC(e))return"Safari";if((e.includes("chrome/")||GC(e))&&!e.includes("edge/"))return"Chrome";if(YC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function HC(t=Qn()){return/firefox\//i.test(t)}function KC(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GC(t=Qn()){return/crios\//i.test(t)}function WC(t=Qn()){return/iemobile/i.test(t)}function YC(t=Qn()){return/android/i.test(t)}function XC(t=Qn()){return/blackberry/i.test(t)}function QC(t=Qn()){return/webos/i.test(t)}function Ob(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AV(t=Qn()){var e;return Ob(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jV(){return z7()&&document.documentMode===10}function ZC(t=Qn()){return Ob(t)||YC(t)||QC(t)||XC(t)||/windows phone/i.test(t)||WC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=zE(Qn());break;case"Worker":n=`${zE(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const h=e(s);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e={}){return os(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=6;class IV{constructor(e){var n,r,i,s;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:OV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new NV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=La(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bp(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(qa(this));const n=e?on(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CV(this),n=new IV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&La(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Qc.create(this,[La(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&oV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ul(t){return on(t)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y7(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PV(t){Kg=t}function eO(t){return Kg.loadJS(t)}function DV(){return Kg.recaptchaEnterpriseScript}function kV(){return Kg.gapiScript}function MV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LV{constructor(){this.enterprise=new VV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UV="recaptcha-enterprise",tO="NO_RECAPTCHA";class BV{constructor(e){this.type=UV,this.auth=Ul(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{vV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new gV(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function i(s,c,d){const h=window.grecaptcha;LE(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{c(f)}).catch(()=>{c(tO)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LV().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(d=>{if(!n&&LE(window.grecaptcha))i(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=DV();h.length!==0&&(h+=d),eO(h).then(()=>{i(d,s,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function $E(t,e,n,r=!1,i=!1){const s=new BV(t);let c;if(i)c=tO;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function rx(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $E(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $E(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t,e){const n=Hg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Al(s,e??{}))return i;wi(i,"already-initialized")}return n.initialize({options:e})}function qV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(La);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $V(t,e,n){const r=Ul(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nO(e),{host:c,port:d}=FV(e),h=d===null?"":`:${d}`,f={url:`${s}//${c}${h}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Al(f,r.config.emulator)&&Al(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ll(c)?(_b(`${s}//${c}${h}`),wb("Auth",!0)):HV()}function nO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){const e=nO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FE(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:FE(c)}}}function FE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function HV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function KV(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return tf(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){return tf(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function YV(t,e){return tf(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ib{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rx(e,n,"signInWithPassword",GV);case"emailLink":return WV(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rx(e,r,"signUpPassword",KV);case"emailLink":return YV(e,{idToken:n,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e){return tf(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="http://localhost";class Nl extends Ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ab(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new Nl(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Zc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zc(e,n)}buildRequest(){const e={requestUri:XV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZV(t){const e=th(nh(t)).link,n=e?th(nh(e)).deep_link_id:null,r=th(nh(t)).deep_link_id;return(r?th(nh(r)).link:null)||r||n||e||t}class Rb{constructor(e){var n,r,i,s,c,d;const h=th(nh(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(r=h.oobCode)!==null&&r!==void 0?r:null,v=QV((i=h.mode)!==null&&i!==void 0?i:null);Me(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=ZV(e);try{return new Rb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.providerId=Su.PROVIDER_ID}static credential(e,n){return jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rb.parseLink(n);return Me(r,"argument-error"),jh._fromEmailAndCode(e,r.code,r.tenantId)}}Su.PROVIDER_ID="password";Su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends rO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends nf{constructor(){super("facebook.com")}static credential(e){return Nl._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Nl._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends nf{constructor(){super("github.com")}static credential(e){return Nl._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends nf{constructor(){super("twitter.com")}static credential(e,n){return Nl._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return tf(t,"POST","/v1/accounts:signUp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yi._fromIdTokenResponse(e,r,i),c=HE(r);return new Cl({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=HE(r);return new Cl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function HE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends sa{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qp(e,n,r,i)}}function iO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,s,e,r):s})}async function eU(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Cl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(qa(r));const i="reauthenticate";try{const s=await au(t,iO(r,i,e,t),n);Me(s.idToken,r,"internal-error");const c=Cb(s.idToken);Me(c,r,"internal-error");const{sub:d}=c;return Me(t.uid===d,r,"user-mismatch"),Cl._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e,n=!1){if(Nr(t.app))return Promise.reject(qa(t));const r="signIn",i=await iO(t,r,e),s=await Cl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function nU(t,e){return aO(Ul(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t){const e=Ul(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pb(t,e,n){if(Nr(t.app))return Promise.reject(qa(t));const r=Ul(t),c=await rx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&sO(t),h}),d=await Cl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function rU(t,e,n){return Nr(t.app)?Promise.reject(qa(t)):nU(on(t),Su.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sO(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=on(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await au(r,iU(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function aU(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function sU(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function oU(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function lO(t){return on(t).signOut()}const $p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($p,"1"),this.storage.removeItem($p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=1e3,cU=10;class uO extends cO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);jV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uO.type="LOCAL";const uU=uO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends cO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dO.type="SESSION";const hO=dO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async f=>f(n.origin,s)),h=await dU(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((d,h)=>{const f=Db("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function fU(t){Wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function mU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gU(){return fO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebaseLocalStorageDb",vU=1,Fp="firebaseLocalStorage",pO="fbase_key";class rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wg(t,e){return t.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function yU(){const t=indexedDB.deleteDatabase(mO);return new rf(t).toPromise()}function ix(){const t=indexedDB.open(mO,vU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fp,{keyPath:pO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),await yU(),e(await ix()))})})}async function KE(t,e,n){const r=Wg(t,!0).put({[pO]:e,value:n});return new rf(r).toPromise()}async function xU(t,e){const n=Wg(t,!1).get(e),r=await new rf(n).toPromise();return r===void 0?null:r.value}function GE(t,e){const n=Wg(t,!0).delete(e);return new rf(n).toPromise()}const bU=800,_U=3;class gO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ix(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_U)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(gU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mU(),!this.activeServiceWorker)return;this.sender=new hU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ix();return await KE(e,$p,"1"),await GE(e,$p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wg(i,!1).getAll();return new rf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gO.type="LOCAL";const wU=gO;new ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t,e){return e?La(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TU(t){return aO(t.auth,new kb(t),t.bypassAuthState)}function EU(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),tU(n,new kb(t),t.bypassAuthState)}async function AU(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),eU(n,new kb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TU;case"linkViaPopup":case"linkViaRedirect":return AU;case"reauthViaPopup":case"reauthViaRedirect":return EU;default:wi(this.auth,"internal-error")}}resolve(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new ef(2e3,1e4);class Gc extends vO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Qa(this.filter.length===1,"Popup operations only handle one event");const e=Db();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jU.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="pendingRedirect",_p=new Map;class CU extends vO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const r=await OU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OU(t,e){const n=PU(e),r=RU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IU(t,e){_p.set(t._key(),e)}function RU(t){return La(t._redirectPersistence)}function PU(t){return bp(NU,t.config.apiKey,t.name)}async function DU(t,e,n=!1){if(Nr(t.app))return Promise.reject(qa(t));const r=Ul(t),i=SU(r,e),c=await new CU(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=10*60*1e3;class MU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kU&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BU=/^https?/;async function zU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VU(t);for(const n of e)try{if(qU(n))return}catch{}wi(t,"unauthorized-domain")}function qU(t){const e=tx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!BU.test(n))return!1;if(UU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new ef(3e4,6e4);function YE(){const t=Wi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var r,i,s;function c(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(Gi(t,"network-request-failed"))},timeout:$U.get()})}if(!((i=(r=Wi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wi().gapi)===null||s===void 0)&&s.load)c();else{const d=MV("iframefcb");return Wi()[d]=()=>{gapi.load?c():n(Gi(t,"network-request-failed"))},eO(`${kV()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw wp=null,e})}let wp=null;function HU(t){return wp=wp||FU(t),wp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new ef(5e3,15e3),GU="__/auth/iframe",WU="emulator/auth/iframe",YU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QU(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nb(e,WU):`https://${t.config.authDomain}/${GU}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},i=XU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jh(r).slice(1)}`}async function ZU(t){const e=await HU(t),n=Wi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:QU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Gi(t,"network-request-failed"),d=Wi().setTimeout(()=>{s(c)},KU.get());function h(){Wi().clearTimeout(d),i(r)}r.ping(h).then(h,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eB=500,tB=600,nB="_blank",rB="http://localhost";class XE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iB(t,e,n,r=eB,i=tB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},JU),{width:r.toString(),height:i.toString(),top:s,left:c}),f=Qn().toLowerCase();n&&(d=GC(f)?nB:n),HC(f)&&(e=e||rB,h.scrollbars="yes");const p=Object.entries(h).reduce((x,[w,_])=>`${x}${w}=${_},`,"");if(AV(f)&&d!=="_self")return aB(e||"",d),new XE(null);const v=window.open(e||"",d,p);Me(v,t,"popup-blocked");try{v.focus()}catch{}return new XE(v)}function aB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="__/auth/handler",oB="emulator/auth/handler",lB=encodeURIComponent("fac");async function QE(t,e,n,r,i,s){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:i};if(e instanceof rO){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",W7(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))c[p]=v}if(e instanceof nf){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const h=await t._getAppCheckToken(),f=h?`#${lB}=${encodeURIComponent(h)}`:"";return`${cB(t)}?${Jh(d).slice(1)}${f}`}function cB({config:t}){return t.emulator?Nb(t,oB):`https://${t.authDomain}/${sB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="webStorageSupport";class uB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hO,this._completeRedirectFn=DU,this._overrideRedirectResult=IU}async _openPopup(e,n,r,i){var s;Qa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const c=await QE(e,n,r,tx(),i);return iB(e,c,Db())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await QE(e,n,r,tx(),i);return fU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZU(e),r=new MU(e);return n.register("authEvent",i=>(Me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a1,{type:a1},i=>{var s;const c=(s=i?.[0])===null||s===void 0?void 0:s[a1];c!==void 0&&n(!!c),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZC()||KC()||Ob()}}const dB=uB;var ZE="@firebase/auth",JE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mB(t){jl(new lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},f=new RV(r,i,s,h);return qV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new lo("auth-internal",e=>{const n=Ul(e.getProvider("auth").getImmediate());return(r=>new hB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(ZE,JE,fB(t)),Ki(ZE,JE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=5*60,gB=OC("authIdTokenMaxAge")||pB;let eA=null;const vB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gB)return;const i=n?.token;eA!==i&&(eA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xO(t=Eb()){const e=Hg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zV(t,{popupRedirectResolver:dB,persistence:[wU,uU,hO]}),r=OC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=vB(s.toString());sU(n,c,()=>c(n.currentUser)),aU(n,d=>c(d))}}const i=jC("auth");return i&&$V(n,`http://${i}`),n}function yB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mB("Browser");var xB="firebase",bB="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(xB,bB,"app");var tA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,bO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,R){function L(){}L.prototype=R.prototype,j.D=R.prototype,j.prototype=new L,j.prototype.constructor=j,j.C=function(F,z,q){for(var $=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)$[Ne-2]=arguments[Ne];return R.prototype[z].apply(F,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,R,L){L||(L=0);var F=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)F[z]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(z=0;16>z;++z)F[z]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=j.g[0],L=j.g[1],z=j.g[2];var q=j.g[3],$=R+(q^L&(z^q))+F[0]+3614090360&4294967295;R=L+($<<7&4294967295|$>>>25),$=q+(z^R&(L^z))+F[1]+3905402710&4294967295,q=R+($<<12&4294967295|$>>>20),$=z+(L^q&(R^L))+F[2]+606105819&4294967295,z=q+($<<17&4294967295|$>>>15),$=L+(R^z&(q^R))+F[3]+3250441966&4294967295,L=z+($<<22&4294967295|$>>>10),$=R+(q^L&(z^q))+F[4]+4118548399&4294967295,R=L+($<<7&4294967295|$>>>25),$=q+(z^R&(L^z))+F[5]+1200080426&4294967295,q=R+($<<12&4294967295|$>>>20),$=z+(L^q&(R^L))+F[6]+2821735955&4294967295,z=q+($<<17&4294967295|$>>>15),$=L+(R^z&(q^R))+F[7]+4249261313&4294967295,L=z+($<<22&4294967295|$>>>10),$=R+(q^L&(z^q))+F[8]+1770035416&4294967295,R=L+($<<7&4294967295|$>>>25),$=q+(z^R&(L^z))+F[9]+2336552879&4294967295,q=R+($<<12&4294967295|$>>>20),$=z+(L^q&(R^L))+F[10]+4294925233&4294967295,z=q+($<<17&4294967295|$>>>15),$=L+(R^z&(q^R))+F[11]+2304563134&4294967295,L=z+($<<22&4294967295|$>>>10),$=R+(q^L&(z^q))+F[12]+1804603682&4294967295,R=L+($<<7&4294967295|$>>>25),$=q+(z^R&(L^z))+F[13]+4254626195&4294967295,q=R+($<<12&4294967295|$>>>20),$=z+(L^q&(R^L))+F[14]+2792965006&4294967295,z=q+($<<17&4294967295|$>>>15),$=L+(R^z&(q^R))+F[15]+1236535329&4294967295,L=z+($<<22&4294967295|$>>>10),$=R+(z^q&(L^z))+F[1]+4129170786&4294967295,R=L+($<<5&4294967295|$>>>27),$=q+(L^z&(R^L))+F[6]+3225465664&4294967295,q=R+($<<9&4294967295|$>>>23),$=z+(R^L&(q^R))+F[11]+643717713&4294967295,z=q+($<<14&4294967295|$>>>18),$=L+(q^R&(z^q))+F[0]+3921069994&4294967295,L=z+($<<20&4294967295|$>>>12),$=R+(z^q&(L^z))+F[5]+3593408605&4294967295,R=L+($<<5&4294967295|$>>>27),$=q+(L^z&(R^L))+F[10]+38016083&4294967295,q=R+($<<9&4294967295|$>>>23),$=z+(R^L&(q^R))+F[15]+3634488961&4294967295,z=q+($<<14&4294967295|$>>>18),$=L+(q^R&(z^q))+F[4]+3889429448&4294967295,L=z+($<<20&4294967295|$>>>12),$=R+(z^q&(L^z))+F[9]+568446438&4294967295,R=L+($<<5&4294967295|$>>>27),$=q+(L^z&(R^L))+F[14]+3275163606&4294967295,q=R+($<<9&4294967295|$>>>23),$=z+(R^L&(q^R))+F[3]+4107603335&4294967295,z=q+($<<14&4294967295|$>>>18),$=L+(q^R&(z^q))+F[8]+1163531501&4294967295,L=z+($<<20&4294967295|$>>>12),$=R+(z^q&(L^z))+F[13]+2850285829&4294967295,R=L+($<<5&4294967295|$>>>27),$=q+(L^z&(R^L))+F[2]+4243563512&4294967295,q=R+($<<9&4294967295|$>>>23),$=z+(R^L&(q^R))+F[7]+1735328473&4294967295,z=q+($<<14&4294967295|$>>>18),$=L+(q^R&(z^q))+F[12]+2368359562&4294967295,L=z+($<<20&4294967295|$>>>12),$=R+(L^z^q)+F[5]+4294588738&4294967295,R=L+($<<4&4294967295|$>>>28),$=q+(R^L^z)+F[8]+2272392833&4294967295,q=R+($<<11&4294967295|$>>>21),$=z+(q^R^L)+F[11]+1839030562&4294967295,z=q+($<<16&4294967295|$>>>16),$=L+(z^q^R)+F[14]+4259657740&4294967295,L=z+($<<23&4294967295|$>>>9),$=R+(L^z^q)+F[1]+2763975236&4294967295,R=L+($<<4&4294967295|$>>>28),$=q+(R^L^z)+F[4]+1272893353&4294967295,q=R+($<<11&4294967295|$>>>21),$=z+(q^R^L)+F[7]+4139469664&4294967295,z=q+($<<16&4294967295|$>>>16),$=L+(z^q^R)+F[10]+3200236656&4294967295,L=z+($<<23&4294967295|$>>>9),$=R+(L^z^q)+F[13]+681279174&4294967295,R=L+($<<4&4294967295|$>>>28),$=q+(R^L^z)+F[0]+3936430074&4294967295,q=R+($<<11&4294967295|$>>>21),$=z+(q^R^L)+F[3]+3572445317&4294967295,z=q+($<<16&4294967295|$>>>16),$=L+(z^q^R)+F[6]+76029189&4294967295,L=z+($<<23&4294967295|$>>>9),$=R+(L^z^q)+F[9]+3654602809&4294967295,R=L+($<<4&4294967295|$>>>28),$=q+(R^L^z)+F[12]+3873151461&4294967295,q=R+($<<11&4294967295|$>>>21),$=z+(q^R^L)+F[15]+530742520&4294967295,z=q+($<<16&4294967295|$>>>16),$=L+(z^q^R)+F[2]+3299628645&4294967295,L=z+($<<23&4294967295|$>>>9),$=R+(z^(L|~q))+F[0]+4096336452&4294967295,R=L+($<<6&4294967295|$>>>26),$=q+(L^(R|~z))+F[7]+1126891415&4294967295,q=R+($<<10&4294967295|$>>>22),$=z+(R^(q|~L))+F[14]+2878612391&4294967295,z=q+($<<15&4294967295|$>>>17),$=L+(q^(z|~R))+F[5]+4237533241&4294967295,L=z+($<<21&4294967295|$>>>11),$=R+(z^(L|~q))+F[12]+1700485571&4294967295,R=L+($<<6&4294967295|$>>>26),$=q+(L^(R|~z))+F[3]+2399980690&4294967295,q=R+($<<10&4294967295|$>>>22),$=z+(R^(q|~L))+F[10]+4293915773&4294967295,z=q+($<<15&4294967295|$>>>17),$=L+(q^(z|~R))+F[1]+2240044497&4294967295,L=z+($<<21&4294967295|$>>>11),$=R+(z^(L|~q))+F[8]+1873313359&4294967295,R=L+($<<6&4294967295|$>>>26),$=q+(L^(R|~z))+F[15]+4264355552&4294967295,q=R+($<<10&4294967295|$>>>22),$=z+(R^(q|~L))+F[6]+2734768916&4294967295,z=q+($<<15&4294967295|$>>>17),$=L+(q^(z|~R))+F[13]+1309151649&4294967295,L=z+($<<21&4294967295|$>>>11),$=R+(z^(L|~q))+F[4]+4149444226&4294967295,R=L+($<<6&4294967295|$>>>26),$=q+(L^(R|~z))+F[11]+3174756917&4294967295,q=R+($<<10&4294967295|$>>>22),$=z+(R^(q|~L))+F[2]+718787259&4294967295,z=q+($<<15&4294967295|$>>>17),$=L+(q^(z|~R))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(z+($<<21&4294967295|$>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+q&4294967295}r.prototype.u=function(j,R){R===void 0&&(R=j.length);for(var L=R-this.blockSize,F=this.B,z=this.h,q=0;q<R;){if(z==0)for(;q<=L;)i(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<R;)if(F[z++]=j.charCodeAt(q++),z==this.blockSize){i(this,F),z=0;break}}else for(;q<R;)if(F[z++]=j[q++],z==this.blockSize){i(this,F),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;var L=8*this.o;for(R=j.length-8;R<j.length;++R)j[R]=L&255,L/=256;for(this.u(j),j=Array(16),R=L=0;4>R;++R)for(var F=0;32>F;F+=8)j[L++]=this.g[R]>>>F&255;return j};function s(j,R){var L=d;return Object.prototype.hasOwnProperty.call(L,j)?L[j]:L[j]=R(j)}function c(j,R){this.h=R;for(var L=[],F=!0,z=j.length-1;0<=z;z--){var q=j[z]|0;F&&q==R||(L[z]=q,F=!1)}this.g=L}var d={};function h(j){return-128<=j&&128>j?s(j,function(R){return new c([R|0],0>R?-1:0)}):new c([j|0],0>j?-1:0)}function f(j){if(isNaN(j)||!isFinite(j))return v;if(0>j)return S(f(-j));for(var R=[],L=1,F=0;j>=L;F++)R[F]=j/L|0,L*=4294967296;return new c(R,0)}function p(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return S(p(j.substring(1),R));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(R,8)),F=v,z=0;z<j.length;z+=8){var q=Math.min(8,j.length-z),$=parseInt(j.substring(z,z+q),R);8>q?(q=f(Math.pow(R,q)),F=F.j(q).add(f($))):(F=F.j(L),F=F.add(f($)))}return F}var v=h(0),x=h(1),w=h(16777216);t=c.prototype,t.m=function(){if(T(this))return-S(this).m();for(var j=0,R=1,L=0;L<this.g.length;L++){var F=this.i(L);j+=(0<=F?F:4294967296+F)*R,R*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(_(this))return"0";if(T(this))return"-"+S(this).toString(j);for(var R=f(Math.pow(j,6)),L=this,F="";;){var z=D(L,R).g;L=N(L,z.j(R));var q=((0<L.g.length?L.g[0]:L.h)>>>0).toString(j);if(L=z,_(L))return q+F;for(;6>q.length;)q="0"+q;F=q+F}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function _(j){if(j.h!=0)return!1;for(var R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function T(j){return j.h==-1}t.l=function(j){return j=N(this,j),T(j)?-1:_(j)?0:1};function S(j){for(var R=j.g.length,L=[],F=0;F<R;F++)L[F]=~j.g[F];return new c(L,~j.h).add(x)}t.abs=function(){return T(this)?S(this):this},t.add=function(j){for(var R=Math.max(this.g.length,j.g.length),L=[],F=0,z=0;z<=R;z++){var q=F+(this.i(z)&65535)+(j.i(z)&65535),$=(q>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);F=$>>>16,q&=65535,$&=65535,L[z]=$<<16|q}return new c(L,L[L.length-1]&-2147483648?-1:0)};function N(j,R){return j.add(S(R))}t.j=function(j){if(_(this)||_(j))return v;if(T(this))return T(j)?S(this).j(S(j)):S(S(this).j(j));if(T(j))return S(this.j(S(j)));if(0>this.l(w)&&0>j.l(w))return f(this.m()*j.m());for(var R=this.g.length+j.g.length,L=[],F=0;F<2*R;F++)L[F]=0;for(F=0;F<this.g.length;F++)for(var z=0;z<j.g.length;z++){var q=this.i(F)>>>16,$=this.i(F)&65535,Ne=j.i(z)>>>16,me=j.i(z)&65535;L[2*F+2*z]+=$*me,P(L,2*F+2*z),L[2*F+2*z+1]+=q*me,P(L,2*F+2*z+1),L[2*F+2*z+1]+=$*Ne,P(L,2*F+2*z+1),L[2*F+2*z+2]+=q*Ne,P(L,2*F+2*z+2)}for(F=0;F<R;F++)L[F]=L[2*F+1]<<16|L[2*F];for(F=R;F<2*R;F++)L[F]=0;return new c(L,0)};function P(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function I(j,R){this.g=j,this.h=R}function D(j,R){if(_(R))throw Error("division by zero");if(_(j))return new I(v,v);if(T(j))return R=D(S(j),R),new I(S(R.g),S(R.h));if(T(R))return R=D(j,S(R)),new I(S(R.g),R.h);if(30<j.g.length){if(T(j)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var L=x,F=R;0>=F.l(j);)L=k(L),F=k(F);var z=V(L,1),q=V(F,1);for(F=V(F,2),L=V(L,2);!_(F);){var $=q.add(F);0>=$.l(j)&&(z=z.add(L),q=$),F=V(F,1),L=V(L,1)}return R=N(j,z.j(R)),new I(z,R)}for(z=v;0<=j.l(R);){for(L=Math.max(1,Math.floor(j.m()/R.m())),F=Math.ceil(Math.log(L)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),q=f(L),$=q.j(R);T($)||0<$.l(j);)L-=F,q=f(L),$=q.j(R);_(q)&&(q=x),z=z.add(q),j=N(j,$)}return new I(z,j)}t.A=function(j){return D(this,j).h},t.and=function(j){for(var R=Math.max(this.g.length,j.g.length),L=[],F=0;F<R;F++)L[F]=this.i(F)&j.i(F);return new c(L,this.h&j.h)},t.or=function(j){for(var R=Math.max(this.g.length,j.g.length),L=[],F=0;F<R;F++)L[F]=this.i(F)|j.i(F);return new c(L,this.h|j.h)},t.xor=function(j){for(var R=Math.max(this.g.length,j.g.length),L=[],F=0;F<R;F++)L[F]=this.i(F)^j.i(F);return new c(L,this.h^j.h)};function k(j){for(var R=j.g.length+1,L=[],F=0;F<R;F++)L[F]=j.i(F)<<1|j.i(F-1)>>>31;return new c(L,j.h)}function V(j,R){var L=R>>5;R%=32;for(var F=j.g.length-L,z=[],q=0;q<F;q++)z[q]=0<R?j.i(q+L)>>>R|j.i(q+L+1)<<32-R:j.i(q+L);return new c(z,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bO=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=p,ro=c}).apply(typeof tA<"u"?tA:typeof self<"u"?self:typeof window<"u"?window:{});var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _O,rh,wO,Sp,ax,SO,TO,EO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,C){return g==Array.prototype||g==Object.prototype||(g[E]=C.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ym=="object"&&Ym];for(var E=0;E<g.length;++E){var C=g[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,E){if(E)e:{var C=r;g=g.split(".");for(var U=0;U<g.length-1;U++){var Q=g[U];if(!(Q in C))break e;C=C[Q]}g=g[g.length-1],U=C[g],E=E(U),E!=U&&E!=null&&e(C,g,{configurable:!0,writable:!0,value:E})}}function s(g,E){g instanceof String&&(g+="");var C=0,U=!1,Q={next:function(){if(!U&&C<g.length){var ie=C++;return{value:E(ie,g[ie]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(g){return g||function(){return s(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function f(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,C){return g.call.apply(g.bind,arguments)}function v(g,E,C){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,U),g.apply(E,Q)}}return function(){return g.apply(E,arguments)}}function x(g,E,C){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,x.apply(null,arguments)}function w(g,E){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function _(g,E){function C(){}C.prototype=E.prototype,g.aa=E.prototype,g.prototype=new C,g.prototype.constructor=g,g.Qb=function(U,Q,ie){for(var ve=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ve[nt-2]=arguments[nt];return E.prototype[Q].apply(U,ve)}}function T(g){const E=g.length;if(0<E){const C=Array(E);for(let U=0;U<E;U++)C[U]=g[U];return C}return[]}function S(g,E){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(h(U)){const Q=g.length||0,ie=U.length||0;g.length=Q+ie;for(let ve=0;ve<ie;ve++)g[Q+ve]=U[ve]}else g.push(U)}}class N{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function P(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function D(g){return D[" "](g),g}D[" "]=function(){};var k=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function V(g,E,C){for(const U in g)E.call(C,g[U],U,g)}function j(g,E){for(const C in g)E.call(void 0,g[C],C,g)}function R(g){const E={};for(const C in g)E[C]=g[C];return E}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(g,E){let C,U;for(let Q=1;Q<arguments.length;Q++){U=arguments[Q];for(C in U)g[C]=U[C];for(let ie=0;ie<L.length;ie++)C=L[ie],Object.prototype.hasOwnProperty.call(U,C)&&(g[C]=U[C])}}function z(g){var E=1;g=g.split(":");const C=[];for(;0<E&&g.length;)C.push(g.shift()),E--;return g.length&&C.push(g.join(":")),C}function q(g){d.setTimeout(()=>{throw g},0)}function $(){var g=_e;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class Ne{constructor(){this.h=this.g=null}add(E,C){const U=me.get();U.set(E,C),this.h?this.h.next=U:this.g=U,this.h=U}}var me=new N(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ae=!1,_e=new Ne,K=()=>{const g=d.Promise.resolve(void 0);de=()=>{g.then(G)}};var G=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(C){q(C)}var E=me;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ae=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};d.addEventListener("test",C,E),d.removeEventListener("test",C,E)}catch{}return g}();function xe(g,E){if(X.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var C=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(k){e:{try{D(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else C=="mouseover"?E=g.fromElement:C=="mouseout"&&(E=g.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Se[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&xe.aa.h.call(this)}}_(xe,X);var Se={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),$e=0;function ge(g,E,C,U,Q){this.listener=g,this.proxy=null,this.src=E,this.type=C,this.capture=!!U,this.ha=Q,this.key=++$e,this.da=this.fa=!1}function ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function se(g){this.src=g,this.g={},this.h=0}se.prototype.add=function(g,E,C,U,Q){var ie=g.toString();g=this.g[ie],g||(g=this.g[ie]=[],this.h++);var ve=Ee(g,E,U,Q);return-1<ve?(E=g[ve],C||(E.fa=!1)):(E=new ge(E,this.src,ie,!!U,Q),E.fa=C,g.push(E)),E};function Z(g,E){var C=E.type;if(C in g.g){var U=g.g[C],Q=Array.prototype.indexOf.call(U,E,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(U,Q,1),ie&&(ke(E),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Ee(g,E,C,U){for(var Q=0;Q<g.length;++Q){var ie=g[Q];if(!ie.da&&ie.listener==E&&ie.capture==!!C&&ie.ha==U)return Q}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Ue={};function Re(g,E,C,U,Q){if(Array.isArray(E)){for(var ie=0;ie<E.length;ie++)Re(g,E[ie],C,U,Q);return null}return C=Tf(C),g&&g[Fe]?g.K(E,C,f(U)?!!U.capture:!1,Q):Je(g,E,C,!1,U,Q)}function Je(g,E,C,U,Q,ie){if(!E)throw Error("Invalid event type");var ve=f(Q)?!!Q.capture:!!Q,nt=fs(g);if(nt||(g[be]=nt=new se(g)),C=nt.add(E,C,U,ve,ie),C.proxy)return C;if(U=zn(),C.proxy=U,U.src=g,U.listener=C,g.addEventListener)pe||(Q=ve),Q===void 0&&(Q=!1),g.addEventListener(E.toString(),U,Q);else if(g.attachEvent)g.attachEvent(ci(E.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function zn(){function g(C){return E.call(g.src,g.listener,C)}const E=Lu;return g}function mr(g,E,C,U,Q){if(Array.isArray(E))for(var ie=0;ie<E.length;ie++)mr(g,E[ie],C,U,Q);else U=f(U)?!!U.capture:!!U,C=Tf(C),g&&g[Fe]?(g=g.i,E=String(E).toString(),E in g.g&&(ie=g.g[E],C=Ee(ie,C,U,Q),-1<C&&(ke(ie[C]),Array.prototype.splice.call(ie,C,1),ie.length==0&&(delete g.g[E],g.h--)))):g&&(g=fs(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Ee(E,C,U,Q)),(C=-1<g?E[g]:null)&&Ct(C))}function Ct(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Fe])Z(E.i,g);else{var C=g.type,U=g.proxy;E.removeEventListener?E.removeEventListener(C,U,g.capture):E.detachEvent?E.detachEvent(ci(C),U):E.addListener&&E.removeListener&&E.removeListener(U),(C=fs(E))?(Z(C,g),C.h==0&&(C.src=null,E[be]=null)):ke(g)}}}function ci(g){return g in Ue?Ue[g]:Ue[g]="on"+g}function Lu(g,E){if(g.da)g=!0;else{E=new xe(E,this);var C=g.listener,U=g.ha||g.src;g.fa&&Ct(g),g=C.call(U,E)}return g}function fs(g){return g=g[be],g instanceof se?g:null}var Vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(g){return typeof g=="function"?g:(g[Vu]||(g[Vu]=function(E){return g.handleEvent(E)}),g[Vu])}function Bt(){B.call(this),this.i=new se(this),this.M=this,this.F=null}_(Bt,B),Bt.prototype[Fe]=!0,Bt.prototype.removeEventListener=function(g,E,C,U){mr(this,g,E,C,U)};function ht(g,E){var C,U=g.F;if(U)for(C=[];U;U=U.F)C.push(U);if(g=g.M,U=E.type||E,typeof E=="string")E=new X(E,g);else if(E instanceof X)E.target=E.target||g;else{var Q=E;E=new X(U,g),F(E,Q)}if(Q=!0,C)for(var ie=C.length-1;0<=ie;ie--){var ve=E.g=C[ie];Q=pr(ve,U,!0,E)&&Q}if(ve=E.g=g,Q=pr(ve,U,!0,E)&&Q,Q=pr(ve,U,!1,E)&&Q,C)for(ie=0;ie<C.length;ie++)ve=E.g=C[ie],Q=pr(ve,U,!1,E)&&Q}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var C=g.g[E],U=0;U<C.length;U++)ke(C[U]);delete g.g[E],g.h--}}this.F=null},Bt.prototype.K=function(g,E,C,U){return this.i.add(String(g),E,!1,C,U)},Bt.prototype.L=function(g,E,C,U){return this.i.add(String(g),E,!0,C,U)};function pr(g,E,C,U){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,ie=0;ie<E.length;++ie){var ve=E[ie];if(ve&&!ve.da&&ve.capture==C){var nt=ve.listener,cn=ve.ha||ve.src;ve.fa&&Z(g.i,ve),Q=nt.call(cn,U)!==!1&&Q}}return Q&&!U.defaultPrevented}function qn(g,E,C){if(typeof g=="function")C&&(g=x(g,C));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(g,E||0)}function Ef(g){g.g=qn(()=>{g.g=null,g.i&&(g.i=!1,Ef(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Kv extends B{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ef(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(g){B.call(this),this.h=g,this.g={}}_(Ao,B);var jo=[];function No(g){V(g.g,function(E,C){this.g.hasOwnProperty(C)&&Ct(E)},g),g.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),No(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=d.JSON.stringify,Ql=d.JSON.parse,Co=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function Uu(){}Uu.prototype.h=null;function Bu(g){return g.h||(g.h=g.i())}function zu(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ua(){X.call(this,"d")}_(ua,X);function qu(){X.call(this,"c")}_(qu,X);var Ni={},$u=null;function ms(){return $u=$u||new Bt}Ni.La="serverreachability";function Zl(g){X.call(this,Ni.La,g)}_(Zl,X);function ps(g){const E=ms();ht(E,new Zl(E))}Ni.STAT_EVENT="statevent";function Af(g,E){X.call(this,Ni.STAT_EVENT,g),this.stat=E}_(Af,X);function Ot(g){const E=ms();ht(E,new Af(E,g))}Ni.Ma="timingevent";function ln(g,E){X.call(this,Ni.Ma,g),this.size=E}_(ln,X);function Xt(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},E)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Fu(g,E,C,U,Q,ie){g.info(function(){if(g.g)if(ie)for(var ve="",nt=ie.split("&"),cn=0;cn<nt.length;cn++){var rt=nt[cn].split("=");if(1<rt.length){var yn=rt[0];rt=rt[1];var un=yn.split("_");ve=2<=un.length&&un[1]=="type"?ve+(yn+"="+rt+"&"):ve+(yn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+U+") [attempt "+Q+"]: "+E+`
`+C+`
`+ve})}function Gv(g,E,C,U,Q,ie,ve){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Q+"]: "+E+`
`+C+`
`+ie+" "+ve})}function gs(g,E,C,U){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Oo(g,C)+(U?" "+U:"")})}function jf(g,E){g.info(function(){return"TIMEOUT: "+E})}kr.prototype.info=function(){};function Oo(g,E){if(!g.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(g=0;g<C.length;g++)if(Array.isArray(C[g])){var U=C[g];if(!(2>U.length)){var Q=U[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return ui(C)}catch{return E}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function Oi(){}_(Oi,Uu),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Ci=new Oi;function Zn(g,E,C,U){this.j=g,this.i=E,this.l=C,this.R=U||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Hu={},Jl={};function di(g,E,C){g.L=1,g.v=ko(gr(E)),g.m=C,g.P=!0,ha(g,null)}function ha(g,E){g.F=Date.now(),Io(g),g.A=gr(g.v);var C=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),Qu(C.i,"t",U),g.C=0,C=g.j.J,g.h=new $t,g.g=$f(g.j,C?E:null,!g.m),0<g.O&&(g.M=new Kv(x(g.Y,g,g.g),g.O)),E=g.U,C=g.g,U=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(jo[0]=Q.toString()),Q=jo);for(var ie=0;ie<Q.length;ie++){var ve=Re(C,Q[ie],U||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),ps(),Fu(g.i,g.u,g.A,g.l,g.R,g.m)}Zn.prototype.ca=function(g){g=g.target;const E=this.M;E&&Ur(g)==3?E.j():this.Y(g)},Zn.prototype.Y=function(g){try{if(g==this.g)e:{const un=Ur(this.g);var E=this.g.Ba();const ba=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||kf(this.g)))){this.J||un!=4||E==7||(E==8||0>=ba?ps(3):ps(2)),ys(this);var C=this.g.Z();this.X=C;t:if(Nf(this)){var U=kf(this.g);g="";var Q=U.length,ie=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),Ii(this);var ve="";break t}this.h.i=new d.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,g+=this.h.i.decode(U[E],{stream:!(ie&&E==Q-1)});U.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=C==200,Gv(this.i,this.u,this.A,this.l,this.R,un,C),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,cn=this.g;if((nt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(nt)){var rt=nt;break t}}rt=null}if(C=rt)gs(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,C);else{this.o=!1,this.s=3,Ot(12),Nn(this),Ii(this);break e}}if(this.P){C=!0;let Cn;for(;!this.J&&this.C<ve.length;)if(Cn=Cf(this,ve),Cn==Jl){un==4&&(this.s=4,Ot(14),C=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Hu){this.s=4,Ot(15),gs(this.i,this.l,ve,"[Invalid Chunk]"),C=!1;break}else gs(this.i,this.l,Cn,null),Ro(this,Cn);if(Nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ve.length!=0||this.h.h||(this.s=1,Ot(16),C=!1),this.o=this.o&&C,!C)gs(this.i,this.l,ve,"[Invalid Chunked Response]"),Nn(this),Ii(this);else if(0<ve.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),$o(yn),yn.M=!0,Ot(11))}}else gs(this.i,this.l,ve,null),Ro(this,ve);un==4&&Nn(this),this.o&&!this.J&&(un==4?Bf(this.j,this):(this.o=!1,Io(this)))}else Zv(this.g),C==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Nn(this),Ii(this)}}}catch{}finally{}};function Nf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Cf(g,E){var C=g.C,U=E.indexOf(`
`,C);return U==-1?Jl:(C=Number(E.substring(C,U)),isNaN(C)?Hu:(U+=1,U+C>E.length?Jl:(E=E.slice(U,U+C),g.C=U+C,E)))}Zn.prototype.cancel=function(){this.J=!0,Nn(this)};function Io(g){g.S=Date.now()+g.I,Of(g,g.I)}function Of(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Xt(x(g.ba,g),E)}function ys(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Zn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(jf(this.i,this.A),this.L!=2&&(ps(),Ot(17)),Nn(this),this.s=2,Ii(this)):Of(this,this.S-g)};function Ii(g){g.j.G==0||g.J||Bf(g.j,g)}function Nn(g){ys(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,No(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function Ro(g,E){try{var C=g.j;if(C.G!=0&&(C.g==g||Ku(C.h,g))){if(!g.K&&Ku(C.h,g)&&C.G==3){try{var U=C.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Q=U;if(Q[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<g.F)dc(C),cc(C);else break e;nd(C),Ot(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=Xt(x(C.Za,C),6e3));if(1>=tc(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else xa(C,11)}else if((g.K||C.g==g)&&dc(C),!P(E))for(Q=C.Da.g.parse(E),E=0;E<Q.length;E++){let rt=Q[E];if(C.T=rt[0],rt=rt[1],C.G==2)if(rt[0]=="c"){C.K=rt[1],C.ia=rt[2];const yn=rt[3];yn!=null&&(C.la=yn,C.j.info("VER="+C.la));const un=rt[4];un!=null&&(C.Aa=un,C.j.info("SVER="+C.Aa));const ba=rt[5];ba!=null&&typeof ba=="number"&&0<ba&&(U=1.5*ba,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const Cn=g.g;if(Cn){const Vi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var ie=U.h;ie.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(nc(ie,ie.h),ie.h=null))}if(U.D){const id=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(U.ya=id,gt(U.I,U.D,id))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-g.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var ve=g;if(U.qa=qf(U,U.J?U.ia:null,U.W),ve.K){Jn(U.h,ve);var nt=ve,cn=U.L;cn&&(nt.I=cn),nt.B&&(ys(nt),Io(nt)),U.g=ve}else Vf(U);0<C.i.length&&uc(C)}else rt[0]!="stop"&&rt[0]!="close"||xa(C,7);else C.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?xa(C,7):ed(C):rt[0]!="noop"&&C.l&&C.l.ta(rt),C.v=0)}}ps(4)}catch{}}var If=class{constructor(g,E){this.g=g,this.map=E}};function fa(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ec(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function tc(g){return g.h?1:g.g?g.g.size:0}function Ku(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function nc(g,E){g.g?g.g.add(E):g.h=E}function Jn(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}fa.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Gu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const C of g.g.values())E=E.concat(C.D);return E}return T(g.i)}function Wv(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var E=[],C=g.length,U=0;U<C;U++)E.push(g[U]);return E}E=[],C=0;for(U in g)E[C++]=g[U];return E}function rc(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var E=[];g=g.length;for(var C=0;C<g;C++)E.push(C);return E}E=[],C=0;for(const U in g)E[C++]=U;return E}}}function Wu(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var C=rc(g),U=Wv(g),Q=U.length,ie=0;ie<Q;ie++)E.call(void 0,U[ie],C&&C[ie],g)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yv(g,E){if(g){g=g.split("&");for(var C=0;C<g.length;C++){var U=g[C].indexOf("="),Q=null;if(0<=U){var ie=g[C].substring(0,U);Q=g[C].substring(U+1)}else ie=g[C];E(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Qt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Qt){this.h=g.h,Do(this,g.j),this.o=g.o,this.g=g.g,xs(this,g.s),this.l=g.l;var E=g.i,C=new pa;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),ma(this,C),this.m=g.m}else g&&(E=String(g).match(Po))?(this.h=!1,Do(this,E[1]||"",!0),this.o=Mr(E[2]||""),this.g=Mr(E[3]||"",!0),xs(this,E[4]),this.l=Mr(E[5]||"",!0),ma(this,E[6]||"",!0),this.m=Mr(E[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}Qt.prototype.toString=function(){var g=[],E=this.j;E&&g.push(Mo(E,Yu,!0),":");var C=this.g;return(C||E=="file")&&(g.push("//"),(E=this.o)&&g.push(Mo(E,Yu,!0),"@"),g.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&g.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Mo(C,C.charAt(0)=="/"?Xv:Xu,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Mo(C,ic)),g.join("")};function gr(g){return new Qt(g)}function Do(g,E,C){g.j=C?Mr(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function xs(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function ma(g,E,C){E instanceof pa?(g.i=E,Pf(g.i,g.h)):(C||(E=Mo(E,Qv)),g.i=new pa(E,g.h))}function gt(g,E,C){g.i.set(E,C)}function ko(g){return gt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Mr(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Mo(g,E,C){return typeof g=="string"?(g=encodeURI(g).replace(E,Rf),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Rf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Yu=/[#\/\?@]/g,Xu=/[#\?:]/g,Xv=/[#\?]/g,Qv=/[#\?@]/g,ic=/#/g;function pa(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function Lr(g){g.g||(g.g=new Map,g.h=0,g.i&&Yv(g.i,function(E,C){g.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=pa.prototype,t.add=function(g,E){Lr(this),this.i=null,g=Ri(this,g);var C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(E),this.h+=1,this};function ga(g,E){Lr(g),E=Ri(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function va(g,E){return Lr(g),E=Ri(g,E),g.g.has(E)}t.forEach=function(g,E){Lr(this),this.g.forEach(function(C,U){C.forEach(function(Q){g.call(E,Q,U,this)},this)},this)},t.na=function(){Lr(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let U=0;U<E.length;U++){const Q=g[U];for(let ie=0;ie<Q.length;ie++)C.push(E[U])}return C},t.V=function(g){Lr(this);let E=[];if(typeof g=="string")va(this,g)&&(E=E.concat(this.g.get(Ri(this,g))));else{g=Array.from(this.g.values());for(let C=0;C<g.length;C++)E=E.concat(g[C])}return E},t.set=function(g,E){return Lr(this),this.i=null,g=Ri(this,g),va(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Qu(g,E,C){ga(g,E),0<C.length&&(g.i=null,g.g.set(Ri(g,E),T(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var U=E[C];const ie=encodeURIComponent(String(U)),ve=this.V(U);for(U=0;U<ve.length;U++){var Q=ie;ve[U]!==""&&(Q+="="+encodeURIComponent(String(ve[U]))),g.push(Q)}}return this.i=g.join("&")};function Ri(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Pf(g,E){E&&!g.j&&(Lr(g),g.i=null,g.g.forEach(function(C,U){var Q=U.toLowerCase();U!=Q&&(ga(this,U),Qu(this,Q,C))},g)),g.j=E}function Lo(g,E){const C=new kr;if(d.Image){const U=new Image;U.onload=w(Vr,C,"TestLoadImage: loaded",!0,E,U),U.onerror=w(Vr,C,"TestLoadImage: error",!1,E,U),U.onabort=w(Vr,C,"TestLoadImage: abort",!1,E,U),U.ontimeout=w(Vr,C,"TestLoadImage: timeout",!1,E,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else E(!1)}function hi(g,E){const C=new kr,U=new AbortController,Q=setTimeout(()=>{U.abort(),Vr(C,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:U.signal}).then(ie=>{clearTimeout(Q),ie.ok?Vr(C,"TestPingServer: ok",!0,E):Vr(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Vr(C,"TestPingServer: error",!1,E)})}function Vr(g,E,C,U,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),U(C)}catch{}}function Vo(){this.g=new Co}function Pi(g,E,C){const U=C||"";try{Wu(g,function(Q,ie){let ve=Q;f(Q)&&(ve=ui(Q)),E.push(U+ie+"="+encodeURIComponent(ve))})}catch(Q){throw E.push(U+"type="+encodeURIComponent("_badmap")),Q}}function bs(g){this.l=g.Ub||null,this.j=g.eb||!1}_(bs,Uu),bs.prototype.g=function(){return new ya(this.l,this.j)},bs.prototype.i=function(g){return function(){return g}}({});function ya(g,E){Bt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ya,Bt),t=ya.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,ki(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Di(this):ki(this),this.readyState==3&&Zu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Di(this))},t.Qa=function(g){this.g&&(this.response=g,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ki(g)}t.setRequestHeader=function(g,E){this.u.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=E.next();return g.join(`\r
`)};function ki(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ju(g){let E="";return V(g,function(C,U){E+=U,E+=":",E+=C,E+=`\r
`}),E}function vn(g,E,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=Ju(C),typeof g=="string"?C!=null&&encodeURIComponent(String(C)):gt(g,E,C))}function ut(g){Bt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ut,Bt);var ac=/^https?$/i,Uo=["POST","PUT"];t=ut.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,E,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?Bu(this.o):Bu(Ci),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(ie){Df(this,ie);return}if(g=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Q in U)C.set(Q,U[Q]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())C.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Uo,E,void 0))||U||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of C)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(g),this.u=!1}catch(ie){Df(this,ie)}};function Df(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,sc(g),Mi(g)}function sc(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ht(this,"complete"),ht(this,"abort"),Mi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oc(this):this.bb())},t.bb=function(){oc(this)};function oc(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Ur(g)!=4||g.Z()!=2)){if(g.u&&Ur(g)==4)qn(g.Ea,0,g);else if(ht(g,"readystatechange"),Ur(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var U;if(U=ve===0){var Q=String(g.D).match(Po)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),U=!ac.test(Q?Q.toLowerCase():"")}C=U}if(C)ht(g,"complete"),ht(g,"success");else{g.m=6;try{var ie=2<Ur(g)?g.g.statusText:""}catch{ie=""}g.l=ie+" ["+g.Z()+"]",sc(g)}}finally{Mi(g)}}}}function Mi(g,E){if(g.g){Bo(g);const C=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||ht(g,"ready");try{C.onreadystatechange=U}catch{}}}function Bo(g){g.I&&(d.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Ur(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Ql(E)}};function kf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zv(g){const E={};g=(g.g&&2<=Ur(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(P(g[U]))continue;var C=z(g[U]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=E[Q]||[];E[Q]=ie,ie.push(C)}j(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(g,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||E}function lc(g){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zo("baseRetryDelayMs",5e3,g),this.cb=zo("retryDelaySeedMs",1e4,g),this.Wa=zo("forwardChannelMaxRetries",2,g),this.wa=zo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new fa(g&&g.concurrentRequestLimit),this.Da=new Vo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lc.prototype,t.la=8,t.G=1,t.connect=function(g,E,C,U){Ot(0),this.W=g,this.H=E||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=qf(this,null,this.W),uc(this)};function ed(g){if(Mf(g),g.G==3){var E=g.U++,C=gr(g.I);if(gt(C,"SID",g.K),gt(C,"RID",E),gt(C,"TYPE","terminate"),qo(g,C),E=new Zn(g,g.j,E),E.L=2,E.v=ko(gr(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&d.Image&&(new Image().src=E.v,C=!0),C||(E.g=$f(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Io(E)}zf(g)}function cc(g){g.g&&($o(g),g.g.cancel(),g.g=null)}function Mf(g){cc(g),g.u&&(d.clearTimeout(g.u),g.u=null),dc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function uc(g){if(!ec(g.h)&&!g.s){g.s=!0;var E=g.Ga;de||K(),ae||(de(),ae=!0),_e.add(E,g),g.B=0}}function Jv(g,E){return tc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Xt(x(g.Ga,g,E),rd(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new Zn(this,this.j,g);let ie=this.o;if(this.S&&(ie?(ie=R(ie),F(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Lf(this,Q,E),C=gr(this.I),gt(C,"RID",g),gt(C,"CVER",22),this.D&&gt(C,"X-HTTP-Session-Id",this.D),qo(this,C),ie&&(this.O?E="headers="+encodeURIComponent(String(Ju(ie)))+"&"+E:this.m&&vn(C,this.m,ie)),nc(this.h,Q),this.Ua&&gt(C,"TYPE","init"),this.P?(gt(C,"$req",E),gt(C,"SID","null"),Q.T=!0,di(Q,C,null)):di(Q,C,E),this.G=2}}else this.G==3&&(g?td(this,g):this.i.length==0||ec(this.h)||td(this))};function td(g,E){var C;E?C=E.l:C=g.U++;const U=gr(g.I);gt(U,"SID",g.K),gt(U,"RID",C),gt(U,"AID",g.T),qo(g,U),g.m&&g.o&&vn(U,g.m,g.o),C=new Zn(g,g.j,C,g.B+1),g.m===null&&(C.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Lf(g,C,1e3),C.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),nc(g.h,C),di(C,U,E)}function qo(g,E){g.H&&V(g.H,function(C,U){gt(E,U,C)}),g.l&&Wu({},function(C,U){gt(E,U,C)})}function Lf(g,E,C){C=Math.min(g.i.length,C);var U=g.l?x(g.l.Na,g.l,g):null;e:{var Q=g.i;let ie=-1;for(;;){const ve=["count="+C];ie==-1?0<C?(ie=Q[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let nt=!0;for(let cn=0;cn<C;cn++){let rt=Q[cn].g;const yn=Q[cn].map;if(rt-=ie,0>rt)ie=Math.max(0,Q[cn].g-100),nt=!1;else try{Pi(yn,ve,"req"+rt+"_")}catch{U&&U(yn)}}if(nt){U=ve.join("&");break e}}}return g=g.i.splice(0,C),E.D=g,U}function Vf(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;de||K(),ae||(de(),ae=!0),_e.add(E,g),g.v=0}}function nd(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Xt(x(g.Fa,g),rd(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Xt(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),cc(this),Uf(this))};function $o(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function Uf(g){g.g=new Zn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=gr(g.qa);gt(E,"RID","rpc"),gt(E,"SID",g.K),gt(E,"AID",g.T),gt(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&gt(E,"TO",g.ja),gt(E,"TYPE","xmlhttp"),qo(g,E),g.m&&g.o&&vn(E,g.m,g.o),g.L&&(g.g.I=g.L);var C=g.g;g=g.ia,C.L=1,C.v=ko(gr(E)),C.m=null,C.P=!0,ha(C,g)}t.Za=function(){this.C!=null&&(this.C=null,cc(this),nd(this),Ot(19))};function dc(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function Bf(g,E){var C=null;if(g.g==E){dc(g),$o(g),g.g=null;var U=2}else if(Ku(g.h,E))C=E.D,Jn(g.h,E),U=1;else return;if(g.G!=0){if(E.o)if(U==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var Q=g.B;U=ms(),ht(U,new ln(U,C)),uc(g)}else Vf(g);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(U==1&&Jv(g,E)||U==2&&nd(g)))switch(C&&0<C.length&&(E=g.h,E.i=E.i.concat(C)),Q){case 1:xa(g,5);break;case 4:xa(g,10);break;case 3:xa(g,6);break;default:xa(g,2)}}}function rd(g,E){let C=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(C*=2),C*E}function xa(g,E){if(g.j.info("Error code "+E),E==2){var C=x(g.fb,g),U=g.Xa;const Q=!U;U=new Qt(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Do(U,"https"),ko(U),Q?Lo(U.toString(),C):hi(U.toString(),C)}else Ot(2);g.G=0,g.l&&g.l.sa(E),zf(g),Mf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function zf(g){if(g.G=0,g.ka=[],g.l){const E=Gu(g.h);(E.length!=0||g.i.length!=0)&&(S(g.ka,E),S(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function qf(g,E,C){var U=C instanceof Qt?gr(C):new Qt(C);if(U.g!="")E&&(U.g=E+"."+U.g),xs(U,U.s);else{var Q=d.location;U=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new Qt(null);U&&Do(ie,U),E&&(ie.g=E),Q&&xs(ie,Q),C&&(ie.l=C),U=ie}return C=g.D,E=g.ya,C&&E&&gt(U,C,E),gt(U,"VER",g.la),qo(g,U),U}function $f(g,E,C){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new ut(new bs({eb:C})):new ut(g.pa),E.Ha(g.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ff(){}t=Ff.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hc(){}hc.prototype.g=function(g,E){return new er(g,E)};function er(g,E){Bt.call(this),this.g=new lc(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!P(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!P(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Li(this)}_(er,Bt),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){ed(this.g)},er.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.u&&(C={},C.__data__=ui(g),g=C);E.i.push(new If(E.Ya++,g)),E.G==3&&uc(E)},er.prototype.N=function(){this.g.l=null,delete this.j,ed(this.g),delete this.g,er.aa.N.call(this)};function Hf(g){ua.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const C in E){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}_(Hf,ua);function Kf(){qu.call(this),this.status=1}_(Kf,qu);function Li(g){this.g=g}_(Li,Ff),Li.prototype.ua=function(){ht(this.g,"a")},Li.prototype.ta=function(g){ht(this.g,new Hf(g))},Li.prototype.sa=function(g){ht(this.g,new Kf)},Li.prototype.ra=function(){ht(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,EO=function(){return new hc},TO=function(){return ms()},SO=Ni,ax={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Sp=vs,da.COMPLETE="complete",wO=da,zu.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,rh=zu,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,_O=ut}).apply(typeof Ym<"u"?Ym:typeof self<"u"?self:typeof window<"u"?window:{});const nA="@firebase/firestore",rA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Sb("@firebase/firestore");function $c(){return Ol.logLevel}function Te(t,...e){if(Ol.logLevel<=et.DEBUG){const n=e.map(Mb);Ol.debug(`Firestore (${Tu}): ${t}`,...n)}}function Za(t,...e){if(Ol.logLevel<=et.ERROR){const n=e.map(Mb);Ol.error(`Firestore (${Tu}): ${t}`,...n)}}function co(t,...e){if(Ol.logLevel<=et.WARN){const n=e.map(Mb);Ol.warn(`Firestore (${Tu}): ${t}`,...n)}}function Mb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AO(t,r,n)}function AO(t,e,n){let r=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Za(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AO(e,i,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends sa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class wB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SB{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $a,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},d=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $a)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new jO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class TB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function sx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ge(r,i);{const s=NO(),c=NB(s.encode(aA(t,n)),s.encode(aA(e,n)));return c!==0?c:Ge(r,i)}}n+=r>65535?2:1}return Ge(t.length,e.length)}function aA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function NB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__name__";class Fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Fi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Fi.isNumericId(e),i=Fi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):sx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class Et extends Fi{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const CB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Fi{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return CB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sA}static keyField(){return new Mn([sA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Et.fromString(e))}static fromName(e){return new Ie(Et.fromString(e).popFirst(5))}static empty(){return new Ie(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e,n){if(!n)throw new we(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OB(t,e,n,r){if(e===!0&&r===!0)throw new we(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oA(t){if(!Ie.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lA(t){if(Ie.isDocumentKey(t))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function af(t,e){if(!OO(t))throw new we(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new we(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=-62135596800,uA=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uA);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cA)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uA}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(af(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:an("string",jt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new jt(0,0))}static max(){return new ze(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=-1;function IB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new uo(i,Ie.empty(),e)}function RB(t){return new uo(t.readTime,t.key,Nh)}class uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new uo(ze.min(),Ie.empty(),Nh)}static max(){return new uo(ze.max(),Ie.empty(),Nh)}}function PB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==DB)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,s=0,c=!1;e.forEach(d=>{++i,d.next(()=>{++s,c&&s===i&&n()},h=>r(h))}),c=!0,s===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const s=e.length,c=new Array(s);let d=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(p=>{c[f]=p,++d,d===s&&r(c)},p=>i(p))}})}static doWhile(e,n){return new fe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function MB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=-1;function Qg(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function LB(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="";function VB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dA(e)),e=UB(t.get(n),e);return dA(e)}function UB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case IO:n+="";break;default:n+=s}}return n}function dA(t){return t+IO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xm(this.root,e,this.comparator,!0)}}class Xm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=s??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fA(this.data.getIterator())}getIteratorFrom(e){return new fA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class fA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new mn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PO("Invalid base64 string: "+s):s}}(e);return new Vn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s}(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const BB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=BB.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fo(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="server_timestamp",kO="__type__",MO="__previous_value__",LO="__local_write_time__";function Ub(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kO])===null||n===void 0?void 0:n.stringValue)===DO}function Zg(t){const e=t.mapValue.fields[MO];return Ub(e)?Zg(e):e}function Ch(t){const e=ho(t.mapValue.fields[LO].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,i,s,c,d,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const Kp="(default)";class Oh{constructor(e,n){this.projectId=e,this.database=n||Kp}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===Kp}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__type__",qB="__max__",Qm={mapValue:{}},UO="__vector__",Gp="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ub(t)?4:FB(t)?9007199254740991:$B(t)?10:11:Le(28295,{value:t})}function ea(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ch(t).isEqual(Ch(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=ho(i.timestampValue),d=ho(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fo(i.bytesValue).isEqual(fo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kt(i.geoPointValue.latitude)===Kt(s.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kt(i.integerValue)===Kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=Kt(i.doubleValue),d=Kt(s.doubleValue);return c===d?Hp(c)===Hp(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:case 11:return function(i,s){const c=i.mapValue.fields||{},d=s.mapValue.fields||{};if(hA(c)!==hA(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ea(c[h],d[h])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function Ih(t,e){return(t.values||[]).find(n=>ea(n,e))!==void 0}function ou(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,c){const d=Kt(s.integerValue||s.doubleValue),h=Kt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return mA(t.timestampValue,e.timestampValue);case 4:return mA(Ch(t),Ch(e));case 5:return sx(t.stringValue,e.stringValue);case 6:return function(s,c){const d=fo(s),h=fo(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,c){const d=s.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const p=Ge(d[f],h[f]);if(p!==0)return p}return Ge(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,c){const d=Ge(Kt(s.latitude),Kt(c.latitude));return d!==0?d:Ge(Kt(s.longitude),Kt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pA(t.arrayValue,e.arrayValue);case 10:return function(s,c){var d,h,f,p;const v=s.fields||{},x=c.fields||{},w=(d=v[Gp])===null||d===void 0?void 0:d.arrayValue,_=(h=x[Gp])===null||h===void 0?void 0:h.arrayValue,T=Ge(((f=w?.values)===null||f===void 0?void 0:f.length)||0,((p=_?.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:pA(w,_)}(t.mapValue,e.mapValue);case 11:return function(s,c){if(s===Qm.mapValue&&c===Qm.mapValue)return 0;if(s===Qm.mapValue)return 1;if(c===Qm.mapValue)return-1;const d=s.fields||{},h=Object.keys(d),f=c.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const x=sx(h[v],p[v]);if(x!==0)return x;const w=ou(d[h[v]],f[p[v]]);if(w!==0)return w}return Ge(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{le:n})}}function mA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=ho(t),r=ho(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function pA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ou(n[i],r[i]);if(s)return s}return Ge(n.length,r.length)}function lu(t){return ox(t)}function ox(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ox(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${ox(n.fields[c])}`;return i+"}"}(t.mapValue):Le(61005,{value:t})}function Tp(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zg(t);return e?16+Tp(e):16;case 5:return 2*t.stringValue.length;case 6:return fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Tp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return bo(r.fields,(s,c)=>{i+=s.length+Tp(c)}),i}(t.mapValue);default:throw Le(13486,{value:t})}}function gA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lx(t){return!!t&&"integerValue"in t}function Bb(t){return!!t&&"arrayValue"in t}function vA(t){return!!t&&"nullValue"in t}function yA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function $B(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VO])===null||n===void 0?void 0:n.stringValue)===UO}function fh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(n)}setAll(e){let n=Mn.emptyPath(),r={},i=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=fh(c):i.push(d.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cr(fh(this.value))}}function BO(t){const e=[];return bo(t.fields,(n,r)=>{const i=new Mn([n]);if(Ep(r)){const s=BO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,i,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,ze.min(),ze.min(),ze.min(),cr.empty(),0)}static newFoundDocument(e,n,r,i){return new Wn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Wn(e,2,n,ze.min(),ze.min(),cr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,ze.min(),ze.min(),cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.position=e,this.inclusive=n}}function xA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=ou(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ea(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{}class nn extends zO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GB(e,n,r):n==="array-contains"?new XB(e,r):n==="in"?new QB(e,r):n==="not-in"?new ZB(e,r):n==="array-contains-any"?new JB(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WB(e,r):new YB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ou(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends zO{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ti(e,n)}matches(e){return qO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function qO(t){return t.op==="and"}function $O(t){return KB(t)&&qO(t)}function KB(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function cx(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+lu(t.value);if($O(t))return t.filters.map(e=>cx(e)).join(",");{const e=t.filters.map(n=>cx(n)).join(",");return`${t.op}(${e})`}}function FO(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&ea(r.value,i.value)}(t,e):t instanceof Ti?function(r,i){return i instanceof Ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,c,d)=>s&&FO(c,i.filters[d]),!0):!1}(t,e):void Le(19439)}function HO(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${lu(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(HO).join(" ,")+"}"}(t):"Filter"}class GB extends nn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class WB extends nn{constructor(e,n){super(e,"in",n),this.keys=KO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YB extends nn{constructor(e,n){super(e,"not-in",n),this.keys=KO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class XB extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bb(n)&&Ih(n.arrayValue,this.value)}}class QB extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ih(this.value.arrayValue,n)}}class ZB extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ih(this.value.arrayValue,n)}}class JB extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n=null,r=[],i=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.Pe=null}}function _A(t,e=null,n=[],r=[],i=null,s=null,c=null){return new ez(t,e,n,r,i,s,c)}function zb(t){const e=qe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lu(r)).join(",")),e.Pe=n}return e.Pe}function qb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bA(t.startAt,e.startAt)&&bA(t.endAt,e.endAt)}function ux(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n=null,r=[],i=[],s=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tz(t,e,n,r,i,s,c,d){return new ju(t,e,n,r,i,s,c,d)}function $b(t){return new ju(t)}function wA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GO(t){return t.collectionGroup!==null}function mh(t){const e=qe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new mn(Mn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(d=d.add(f.field))})}),d})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Rh(s,r))}),n.has(Mn.keyField().canonicalString())||e.Te.push(new Rh(Mn.keyField(),r))}return e.Te}function Yi(t){const e=qe(t);return e.Ie||(e.Ie=nz(e,mh(t))),e.Ie}function nz(t,e){if(t.limitType==="F")return _A(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rh(i.field,s)});const n=t.endAt?new Wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wp(t.startAt.position,t.startAt.inclusive):null;return _A(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dx(t,e){const n=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hx(t,e,n){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return qb(Yi(t),Yi(e))&&t.limitType===e.limitType}function WO(t){return`${zb(Yi(t))}|lt:${t.limitType}`}function Fc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HO(i)).join(", ")}]`),Qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lu(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function ev(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,d,h){const f=xA(c,d,h);return c.inclusive?f<=0:f<0}(r.startAt,mh(r),i)||r.endAt&&!function(c,d,h){const f=xA(c,d,h);return c.inclusive?f>=0:f>0}(r.endAt,mh(r),i))}(t,e)}function rz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YO(t){return(e,n)=>{let r=!1;for(const i of mh(t)){const s=iz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iz(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(s,c,d){const h=c.data.field(s),f=d.data.field(s);return h!==null&&f!==null?ou(h,f):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new Ut(Ie.comparator);function Ja(){return az}const XO=new Ut(Ie.comparator);function ih(...t){let e=XO;for(const n of t)e=e.insert(n.key,n);return e}function QO(t){let e=XO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dl(){return ph()}function ZO(){return ph()}function ph(){return new Bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const sz=new Ut(Ie.comparator),oz=new mn(Ie.comparator);function tt(...t){let e=oz;for(const n of t)e=e.add(n);return e}const lz=new mn(Ge);function cz(){return lz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function JO(t){return{integerValue:""+t}}function uz(t,e){return LB(e)?JO(e):Fb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this._=void 0}}function dz(t,e,n){return t instanceof Ph?function(i,s){const c={fields:{[kO]:{stringValue:DO},[LO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ub(s)&&(s=Zg(s)),s&&(c.fields[MO]=s),{mapValue:c}}(n,e):t instanceof Dh?tI(t,e):t instanceof kh?nI(t,e):function(i,s){const c=eI(i,s),d=SA(c)+SA(i.Ee);return lx(c)&&lx(i.Ee)?JO(d):Fb(i.serializer,d)}(t,e)}function hz(t,e,n){return t instanceof Dh?tI(t,e):t instanceof kh?nI(t,e):n}function eI(t,e){return t instanceof Yp?function(r){return lx(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ph extends tv{}class Dh extends tv{constructor(e){super(),this.elements=e}}function tI(t,e){const n=rI(e);for(const r of t.elements)n.some(i=>ea(i,r))||n.push(r);return{arrayValue:{values:n}}}class kh extends tv{constructor(e){super(),this.elements=e}}function nI(t,e){let n=rI(e);for(const r of t.elements)n=n.filter(i=>!ea(i,r));return{arrayValue:{values:n}}}class Yp extends tv{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function SA(t){return Kt(t.integerValue||t.doubleValue)}function rI(t){return Bb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e,n){this.field=e,this.transform=n}}function mz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dh&&i instanceof Dh||r instanceof kh&&i instanceof kh?su(r.elements,i.elements,ea):r instanceof Yp&&i instanceof Yp?ea(r.Ee,i.Ee):r instanceof Ph&&i instanceof Ph}(t.transform,e.transform)}class pz{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nv{}function iI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hb(t.key,ni.none()):new sf(t.key,t.data,ni.none());{const n=t.data,r=cr.empty();let i=new mn(Mn.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new _o(t.key,r,new Or(i.toArray()),ni.none())}}function gz(t,e,n){t instanceof sf?function(i,s,c){const d=i.value.clone(),h=EA(i.fieldTransforms,s,c.transformResults);d.setAll(h),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,s,c){if(!Ap(i.precondition,s))return void s.convertToUnknownDocument(c.version);const d=EA(i.fieldTransforms,s,c.transformResults),h=s.data;h.setAll(aI(i)),h.setAll(d),s.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function gh(t,e,n,r){return t instanceof sf?function(s,c,d,h){if(!Ap(s.precondition,c))return d;const f=s.value.clone(),p=AA(s.fieldTransforms,h,c);return f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(s,c,d,h){if(!Ap(s.precondition,c))return d;const f=AA(s.fieldTransforms,h,c),p=c.data;return p.setAll(aI(s)),p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,c,d){return Ap(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function vz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eI(r.transform,i||null);s!=null&&(n===null&&(n=cr.empty()),n.set(r.field,s))}return n||null}function TA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&su(r,i,(s,c)=>mz(s,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sf extends nv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _o extends nv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EA(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,d=e.data.field(s.field);r.set(s.field,hz(c,d,n[i]))}return r}function AA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,dz(s,c,e))}return r}class Hb extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yz extends nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZO();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(i.key)?null:d;const h=iI(c,d);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(n,r)=>TA(n,r))&&su(this.baseMutations,e.baseMutations,(n,r)=>TA(n,r))}}class Kb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return sz}();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new Kb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,at;function wz(t){switch(t){case ue.OK:return Le(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function sI(t){if(t===void 0)return Za("GRPC error has no .code"),ue.UNKNOWN;switch(t){case tn.OK:return ue.OK;case tn.CANCELLED:return ue.CANCELLED;case tn.UNKNOWN:return ue.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ue.INTERNAL;case tn.UNAVAILABLE:return ue.UNAVAILABLE;case tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case tn.NOT_FOUND:return ue.NOT_FOUND;case tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case tn.ABORTED:return ue.ABORTED;case tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case tn.DATA_LOSS:return ue.DATA_LOSS;default:return Le(39323,{code:t})}}(at=tn||(tn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new ro([4294967295,4294967295],0);function jA(t){const e=NO().encode(t),n=new bO;return n.update(e),new Uint8Array(n.digest())}function NA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ro([n,r],0),new ro([i,s],0)]}class Gb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ah(`Invalid padding: ${n}`);if(r<0)throw new ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ah(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ro.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ro.fromNumber(r)));return i.compare(Sz)===1&&(i=new ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=jA(e),[r,i]=NA(n);for(let s=0;s<this.hashCount;s++){const c=this.pe(r,i,s);if(!this.ye(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Gb(s,i,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const n=jA(e),[r,i]=NA(n);for(let s=0;s<this.hashCount;s++){const c=this.pe(r,i,s);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rv(ze.min(),i,new Ut(Ge),Ja(),tt())}}class of{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new of(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class oI{constructor(e,n){this.targetId=e,this.De=n}}class lI{constructor(e,n,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CA{constructor(){this.ve=0,this.Ce=OA(),this.Fe=Vn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),n=tt(),r=tt();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:s})}}),new of(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=OA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Tz{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ja(),this.je=Zm(),this.Je=Zm(),this.He=new Ut(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(ux(s))if(r===0){const c=new Ie(s.path);this.Xe(n,c,Wn.newNoDocument(c,ze.min()))}else dt(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const d=this._t(e),h=d?this.ut(d,e,c):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,d;try{c=fo(r).toUint8Array()}catch(h){if(h instanceof PO)return co("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Gb(c,i,s)}catch(h){return co(h instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,c)=>{const d=this.st(c);if(d){if(s.current&&ux(d.target)){const h=new Ie(d.target.path);this.Tt(h).has(c)||this.It(c,h)||this.Xe(c,h,Wn.newNoDocument(h,e))}s.Ne&&(n.set(c,s.Le()),s.ke())}});let r=tt();this.Je.forEach((s,c)=>{let d=!0;c.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(s))}),this.ze.forEach((s,c)=>c.setReadTime(e));const i=new rv(e,n,this.He,this.ze,r);return this.ze=Ja(),this.je=Zm(),this.Je=Zm(),this.He=new Ut(Ge),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new CA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new mn(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new mn(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new CA),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Zm(){return new Ut(Ie.comparator)}function OA(){return new Ut(Ie.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Az={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jz={and:"AND",or:"OR"};class Nz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fx(t,e){return t.useProto3Json||Qg(e)?e:{value:e}}function Xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cz(t,e){return Xp(t,e.toTimestamp())}function Xi(t){return dt(!!t,49232),ze.fromTimestamp(function(n){const r=ho(n);return new jt(r.seconds,r.nanos)}(t))}function Wb(t,e){return mx(t,e).canonicalString()}function mx(t,e){const n=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uI(t){const e=Et.fromString(t);return dt(pI(e),10190,{key:e.toString()}),e}function px(t,e){return Wb(t.databaseId,e.path)}function s1(t,e){const n=uI(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(hI(n))}function dI(t,e){return Wb(t.databaseId,e)}function Oz(t){const e=uI(t);return e.length===4?Et.emptyPath():hI(e)}function gx(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hI(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function IA(t,e,n){return{name:px(t,e),fields:n.value.mapValue.fields}}function Iz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Le(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(dt(p===void 0||typeof p=="string",58123),Vn.fromBase64String(p||"")):(dt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const p=f.code===void 0?ue.UNKNOWN:sI(f.code);return new we(p,f.message||"")}(c);n=new lI(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=s1(t,r.document.name),s=Xi(r.document.updateTime),c=r.document.createTime?Xi(r.document.createTime):ze.min(),d=new cr({mapValue:{fields:r.document.fields}}),h=Wn.newFoundDocument(i,s,c,d),f=r.targetIds||[],p=r.removedTargetIds||[];n=new jp(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=s1(t,r.document),s=r.readTime?Xi(r.readTime):ze.min(),c=Wn.newNoDocument(i,s),d=r.removedTargetIds||[];n=new jp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=s1(t,r.document),s=r.removedTargetIds||[];n=new jp([],s,i,null)}else{if(!("filter"in e))return Le(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new _z(i,s),d=r.targetId;n=new oI(d,c)}}return n}function Rz(t,e){let n;if(e instanceof sf)n={update:IA(t,e.key,e.value)};else if(e instanceof Hb)n={delete:px(t,e.key)};else if(e instanceof _o)n={update:IA(t,e.key,e.data),updateMask:zz(e.fieldMask)};else{if(!(e instanceof yz))return Le(16599,{Rt:e.type});n={verify:px(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,c){const d=c.transform;if(d instanceof Ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yp)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Le(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Cz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le(27497)}(t,e.precondition)),n}function Pz(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,s){let c=i.updateTime?Xi(i.updateTime):Xi(s);return c.isEqual(ze.min())&&(c=Xi(s)),new pz(c,i.transformResults||[])}(n,e))):[]}function Dz(t,e){return{documents:[dI(t,e.path)]}}function kz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dI(t,i);const s=function(f){if(f.length!==0)return mI(Ti.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const c=function(f){if(f.length!==0)return f.map(p=>function(x){return{field:Hc(x.field),direction:Vz(x.dir)}}(p))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=fx(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:i}}function Mz(t){let e=Oz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(v){const x=fI(v);return x instanceof Ti&&$O(x)?x.getFilters():[x]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(x=>function(_){return new Rh(Kc(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(x))}(n.orderBy));let d=null;n.limit&&(d=function(v){let x;return x=typeof v=="object"?v.value:v,Qg(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(v){const x=!!v.before,w=v.values||[];return new Wp(w,x)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const x=!v.before,w=v.values||[];return new Wp(w,x)}(n.endAt)),tz(e,i,c,s,d,"F",h,f)}function Lz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kc(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kc(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kc(n.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Kc(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Kc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function Vz(t){return Ez[t]}function Uz(t){return Az[t]}function Bz(t){return jz[t]}function Hc(t){return{fieldPath:t.canonicalString()}}function Kc(t){return Mn.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof nn?function(n){if(n.op==="=="){if(yA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NAN"}};if(vA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NAN"}};if(vA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(n.field),op:Uz(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(i=>mI(i));return r.length===1?r[0]:{compositeFilter:{op:Bz(n.op),filters:r}}}(t):Le(54877,{filter:t})}function zz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,i,s=ze.min(),c=ze.min(),d=Vn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.gt=e}}function $z(t){const e=Mz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.Dn=new Hz}addToCollectionParentIndex(e,n){return this.Dn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(uo.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class Hz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(Et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gI=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(gI,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new cu(0)}static ur(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="LruGarbageCollector",Kz=1048576;function DA([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class Gz{constructor(e){this.Tr=e,this.buffer=new mn(DA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Wz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(PA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Au(n)?Te(PA,"Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Rr(3e5)})}}class Yz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Xg.ue);const r=new Gz(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(RA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,c,d,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(f=Date.now(),$c()<=et.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${s} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v})))}}function Xz(t,e){return new Yz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.changes=new Bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gh(r.mutation,i,Or.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const i=dl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let c=ih();return s.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,i){let s=Ja();const c=ph(),d=function(){return ph()}();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof _o)?s=s.insert(f.key,f):p!==void 0?(c.set(f.key,p.mutation.getFieldMask()),gh(p.mutation,f,p.mutation.getFieldMask(),jt.now())):c.set(f.key,Or.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,p)=>c.set(f,p)),n.forEach((f,p)=>{var v;return d.set(f,new Zz(p,(v=c.get(f))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=ph();let i=new Ut((c,d)=>c-d),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Or.empty();p=d.applyToLocalView(f,p),r.set(h,p);const v=(i.get(d.batchId)||tt()).add(h);i=i.insert(d.batchId,v)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,p=h.value,v=ZO();p.forEach(x=>{if(!s.has(x)){const w=iI(n.get(x),r.get(x));w!==null&&v.set(x,w),s=s.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return fe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(dl());let d=Nh,h=s;return c.next(f=>fe.forEach(f,(p,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{h=h.insert(p,x)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,tt())).next(p=>({batchId:d,changes:QO(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=ih();return this.indexManager.getCollectionParents(e,s).next(d=>fe.forEach(d,h=>{const f=function(v,x){return new ju(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((v,x)=>{c=c.insert(v,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(c=>{s.forEach((h,f)=>{const p=f.getKey();c.get(p)===null&&(c=c.insert(p,Wn.newInvalidDocument(p)))});let d=ih();return c.forEach((h,f)=>{const p=s.get(h);p!==void 0&&gh(p.mutation,f,Or.empty(),jt.now()),ev(n,f)&&(d=d.insert(h,f))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:$z(i.bundledQuery),readTime:Xi(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.overlays=new Ut(Ie.comparator),this.kr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return fe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=dl(),s=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((f,p)=>f-p);const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=dl(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const d=dl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>d.set(f,p)),!(d.size()>=i)););return fe.resolve(d)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bz(n,r));let s=this.kr.get(n);s===void 0&&(s=tt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.qr=new mn(Sn.Qr),this.$r=new mn(Sn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Sn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Sn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ie(new Et([])),r=new Sn(n,e),i=new Sn(n,e+1),s=[];return this.$r.forEachInRange([r,i],c=>{this.Wr(c),s.push(c.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new Et([])),r=new Sn(n,e),i=new Sn(n,e+1);let s=tt();return this.$r.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const n=new Sn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mn(Sn.Qr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xz(s,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Yr=this.Yr.add(new Sn(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Vb:this.er-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sn(n,0),i=new Sn(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],c=>{const d=this.Zr(c.Hr);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(Ge);return n.forEach(i=>{const s=new Sn(i,0),c=new Sn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,c],d=>{r=r.add(d.Hr)})}),fe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const c=new Sn(new Ie(s),0);let d=new mn(Ge);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(d=d.add(h.Hr)),!0)},c),fe.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return fe.forEach(n.mutations,i=>{const s=new Sn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Sn(n,0),i=this.Yr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.ni=e,this.docs=function(){return new Ut(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=Ja();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ja();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||PB(RB(p),r)<=0||(i.has(p.key)||ev(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ri(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aq(this)}getSize(e){return fe.resolve(this.size)}}class aq extends Qz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.persistence=e,this.ii=new Bl(n=>zb(n),qb),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.si=0,this.oi=new Yb,this.targetCount=0,this._i=cu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),fe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.hr(n),fe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.ai={},this.overlays={},this.ui=new Xg(0),this.ci=!1,this.ci=!0,this.li=new nq,this.referenceDelegate=e(this),this.hi=new sq(this),this.indexManager=new Fz,this.remoteDocumentCache=function(i){return new iq(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new qz(n),this.Ti=new eq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new rq(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new oq(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return fe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class oq extends kB{constructor(e){super(),this.currentSequenceNumber=e}}class Xb{constructor(e){this.persistence=e,this.Ai=new Yb,this.Ri=null}static Vi(e){return new Xb(e)}get mi(){if(this.Ri)return this.Ri;throw Le(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.mi,r=>{const i=Ie.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ze.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return fe.or([()=>fe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qp{constructor(e,n){this.persistence=e,this.gi=new Bl(r=>VB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Xz(this,n)}static Vi(e,n){return new Qp(e,n)}Ii(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return fe.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,c=>this.Sr(e,c,n).next(d=>{d||(r++,s.removeEntry(c,ze.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),fe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tp(e.data.value)),n}Sr(e,n,r){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=tt(),i=tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return q7()?8:MB(Qn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(c=>{s.result=c}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(c=>{s.result=c})}).next(()=>{if(s.result)return;const c=new lq;return this.ws(e,n,c).next(d=>{if(s.result=d,this.Rs)return this.Ss(e,n,c,d.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?($c()<=et.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Fc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):($c()<=et.DEBUG&&Te("QueryEngine","Query:",Fc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?($c()<=et.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Fc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):fe.resolve())}ps(e,n){if(wA(n))return fe.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hx(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=tt(...s);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(n,d);return this.Ds(n,f,c,h.readTime)?this.ps(e,hx(n,null,"F")):this.vs(e,f,n,h)}))})))}ys(e,n,r,i){return wA(n)||i.isEqual(ze.min())?fe.resolve(null):this.gs.getDocuments(e,r).next(s=>{const c=this.bs(n,s);return this.Ds(n,c,r,i)?fe.resolve(null):($c()<=et.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(n)),this.vs(e,c,n,IB(i,Nh)).next(d=>d))})}bs(e,n){let r=new mn(YO(e));return n.forEach((i,s)=>{ev(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return $c()<=et.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Fc(n)),this.gs.getDocumentsMatchingQuery(e,n,uo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(c=>{s=s.insert(c.key,c)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="LocalStore",uq=3e8;class dq{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ut(Ge),this.Ms=new Bl(s=>zb(s),qb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function hq(t,e,n,r){return new dq(t,e,n,r)}async function yI(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],d=[];let h=tt();for(const f of i){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of s){d.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:c,addedBatchIds:d}))})})}function fq(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,h,f,p){const v=f.batch,x=v.keys();let w=fe.resolve();return x.forEach(_=>{w=w.next(()=>p.getEntry(h,_)).next(T=>{const S=f.docVersions.get(_);dt(S!==null,48541),T.version.compareTo(S)<0&&(v.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),p.addEntry(T)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(h,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=tt();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xI(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function mq(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const d=[];e.targetChanges.forEach((p,v)=>{const x=i.get(v);if(!x)return;d.push(n.hi.removeMatchingKeys(s,p.removedDocuments,v).next(()=>n.hi.addMatchingKeys(s,p.addedDocuments,v)));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Vn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(v,w),function(T,S,N){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=uq?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(x,w,p)&&d.push(n.hi.updateTargetData(s,w))});let h=Ja(),f=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),d.push(pq(s,c,e.documentUpdates).next(p=>{h=p.Ls,f=p.ks})),!r.isEqual(ze.min())){const p=n.hi.getLastRemoteSnapshotVersion(s).next(v=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(p)}return fe.waitFor(d).next(()=>c.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.Fs=i,s))}function pq(t,e,n){let r=tt(),i=tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let c=Ja();return n.forEach((d,h)=>{const f=s.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(d)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Te(Zb,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)}),{Ls:c,ks:i}})}function gq(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vq(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,fe.resolve(i)):n.hi.allocateTargetId(r).next(c=>(i=new Qs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function vx(t,e,n){const r=qe(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Au(c))throw c;Te(Zb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function kA(t,e,n){const r=qe(t);let i=ze.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,f,p){const v=qe(h),x=v.Ms.get(p);return x!==void 0?fe.resolve(v.Fs.get(x)):v.hi.getTargetData(f,p)}(r,c,Yi(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,d.targetId).next(h=>{s=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:ze.min(),n?s:tt())).next(d=>(yq(r,rz(e),d),{documents:d,qs:s})))}function yq(t,e,n){let r=t.xs.get(e)||ze.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class MA{constructor(){this.activeTargetIds=cz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xq{constructor(){this.Fo=new MA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new MA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="ConnectivityMonitor";class VA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(LA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(LA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function yx(){return Jm===null?Jm=function(){return 268435456+Math.round(2147483648*Math.random())}():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="RestConnection",_q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wq{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Kp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=yx(),d=this.Go(e,n.toUriEncodedString());Te(o1,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,s);const{host:f}=new URL(d),p=Ll(f);return this.jo(e,d,h,r,p).then(v=>(Te(o1,`Received RPC '${e}' ${c}: `,v),v),v=>{throw co(o1,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v})}Jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=_q[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class Tq extends wq{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const c=yx();return new Promise((d,h)=>{const f=new _O;f.setWithCredentials(!0),f.listenOnce(wO.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Sp.NO_ERROR:const v=f.getResponseJson();Te(Hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Sp.TIMEOUT:Te(Hn,`RPC '${e}' ${c} timed out`),h(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const x=f.getStatus();if(Te(Hn,`RPC '${e}' ${c} failed with status:`,x,"response text:",f.getResponseText()),x>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const _=w?.error;if(_&&_.status&&_.message){const T=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(P)>=0?P:ue.UNKNOWN}(_.status);h(new we(T,_.message))}else h(new we(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{c_:e,streamId:c,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Te(Hn,`RPC '${e}' ${c} completed.`)}});const p=JSON.stringify(i);Te(Hn,`RPC '${e}' ${c} sending request:`,i),f.send(n,"POST",p,r,15)})}P_(e,n,r){const i=yx(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=EO(),d=TO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=s.join("");Te(Hn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const v=c.createWebChannel(p,h);this.T_(v);let x=!1,w=!1;const _=new Sq({Ho:S=>{w?Te(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(x||(Te(Hn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),Te(Hn,`RPC '${e}' stream ${i} sending:`,S),v.send(S))},Yo:()=>v.close()}),T=(S,N,P)=>{S.listen(N,I=>{try{P(I)}catch(D){setTimeout(()=>{throw D},0)}})};return T(v,rh.EventType.OPEN,()=>{w||(Te(Hn,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),T(v,rh.EventType.CLOSE,()=>{w||(w=!0,Te(Hn,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(v))}),T(v,rh.EventType.ERROR,S=>{w||(w=!0,co(Hn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.__(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),T(v,rh.EventType.MESSAGE,S=>{var N;if(!w){const P=S.data[0];dt(!!P,16349);const I=P,D=I?.error||((N=I[0])===null||N===void 0?void 0:N.error);if(D){Te(Hn,`RPC '${e}' stream ${i} received error:`,D);const k=D.status;let V=function(L){const F=tn[L];if(F!==void 0)return sI(F)}(k),j=D.message;V===void 0&&(V=ue.INTERNAL,j="Unknown error status: "+k+" with message "+D.message),w=!0,_.__(new we(V,j)),v.close()}else Te(Hn,`RPC '${e}' stream ${i} received:`,P),_.a_(P)}}),T(d,SO.STAT_EVENT,S=>{S.stat===ax.PROXY?Te(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===ax.NOPROXY&&Te(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function l1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return new Nz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="PersistentStream";class _I{constructor(e,n,r,i,s,c,d,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Za(n.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new we(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Te(UA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Te(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eq extends _I{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Iz(this.serializer,e),r=function(s){if(!("targetChange"in s))return ze.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Xi(c.readTime):ze.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=gx(this.serializer),n.addTarget=function(s,c){let d;const h=c.target;if(d=ux(h)?{documents:Dz(s,h)}:{query:kz(s,h).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=cI(s,c.resumeToken);const f=fx(s,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(ze.min())>0){d.readTime=Xp(s,c.snapshotVersion.toTimestamp());const f=fx(s,c.expectedCount);f!==null&&(d.expectedCount=f)}return d}(this.serializer,e);const r=Lz(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=gx(this.serializer),n.removeTarget=e,this.k_(n)}}class Aq extends _I{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Pz(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=gx(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rz(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{}class Nq extends jq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Wo(e,mx(n,r),i,s,c)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(ue.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,mx(n,r),i,c,d,s)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ue.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Cq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Za(n),this._a=!1):Te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class Oq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{zl(this)&&(Te(Il,"Restarting streams for network reachability change."),await async function(h){const f=qe(h);f.Ia.add(4),await lf(f),f.Aa.set("Unknown"),f.Ia.delete(4),await av(f)}(this))})}),this.Aa=new Cq(r,i)}}async function av(t){if(zl(t))for(const e of t.da)await e(!0)}async function lf(t){for(const e of t.da)await e(!1)}function wI(t,e){const n=qe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),n_(n)?t_(n):Nu(n).x_()&&e_(n,e))}function Jb(t,e){const n=qe(t),r=Nu(n);n.Ta.delete(e),r.x_()&&SI(n,e),n.Ta.size===0&&(r.x_()?r.B_():zl(n)&&n.Aa.set("Unknown"))}function e_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).H_(e)}function SI(t,e){t.Ra.$e(e),Nu(t).Y_(e)}function t_(t){t.Ra=new Tz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.Aa.aa()}function n_(t){return zl(t)&&!Nu(t).M_()&&t.Ta.size>0}function zl(t){return qe(t).Ia.size===0}function TI(t){t.Ra=void 0}async function Iq(t){t.Aa.set("Online")}async function Rq(t){t.Ta.forEach((e,n)=>{e_(t,e)})}async function Pq(t,e){TI(t),n_(t)?(t.Aa.la(e),t_(t)):t.Aa.set("Unknown")}async function Dq(t,e,n){if(t.Aa.set("Online"),e instanceof lI&&e.state===2&&e.cause)try{await async function(i,s){const c=s.cause;for(const d of s.targetIds)i.Ta.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ta.delete(d),i.Ra.removeTarget(d))}(t,e)}catch(r){Te(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zp(t,r)}else if(e instanceof jp?t.Ra.Ye(e):e instanceof oI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ze.min()))try{const r=await xI(t.localStore);n.compareTo(r)>=0&&await function(s,c){const d=s.Ra.Pt(c);return d.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ta.get(f);p&&s.Ta.set(f,p.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,f)=>{const p=s.Ta.get(h);if(!p)return;s.Ta.set(h,p.withResumeToken(Vn.EMPTY_BYTE_STRING,p.snapshotVersion)),SI(s,h);const v=new Qs(p.target,h,f,p.sequenceNumber);e_(s,v)}),s.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){Te(Il,"Failed to raise snapshot:",r),await Zp(t,r)}}async function Zp(t,e,n){if(!Au(e))throw e;t.Ia.add(1),await lf(t),t.Aa.set("Offline"),n||(n=()=>xI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(Il,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await av(t)})}function EI(t,e){return e().catch(n=>Zp(t,n,e))}async function sv(t){const e=qe(t),n=po(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Vb;for(;kq(e);)try{const i=await gq(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Mq(e,i)}catch(i){await Zp(e,i)}AI(e)&&jI(e)}function kq(t){return zl(t)&&t.Pa.length<10}function Mq(t,e){t.Pa.push(e);const n=po(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function AI(t){return zl(t)&&!po(t).M_()&&t.Pa.length>0}function jI(t){po(t).start()}async function Lq(t){po(t).na()}async function Vq(t){const e=po(t);for(const n of t.Pa)e.X_(n.mutations)}async function Uq(t,e,n){const r=t.Pa.shift(),i=Kb.from(r,e,n);await EI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sv(t)}async function Bq(t,e){e&&po(t).Z_&&await async function(r,i){if(function(c){return wz(c)&&c!==ue.ABORTED}(i.code)){const s=r.Pa.shift();po(r).N_(),await EI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sv(r)}}(t,e),AI(t)&&jI(t)}async function BA(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(Il,"RemoteStore received new credentials");const r=zl(n);n.Ia.add(3),await lf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await av(n)}async function zq(t,e){const n=qe(t);e?(n.Ia.delete(2),await av(n)):e||(n.Ia.add(2),await lf(n),n.Aa.set("Unknown"))}function Nu(t){return t.Va||(t.Va=function(n,r,i){const s=qe(n);return s.ia(),new Eq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Iq.bind(null,t),e_:Rq.bind(null,t),n_:Pq.bind(null,t),J_:Dq.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),n_(t)?t_(t):t.Aa.set("Unknown")):(await t.Va.stop(),TI(t))})),t.Va}function po(t){return t.ma||(t.ma=function(n,r,i){const s=qe(n);return s.ia(),new Aq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Lq.bind(null,t),n_:Bq.bind(null,t),ea:Vq.bind(null,t),ta:Uq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await sv(t)):(await t.ma.stop(),t.Pa.length>0&&(Te(Il,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,d=new r_(e,n,c,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i_(t,e){if(Za("AsyncQueue",`${e}: ${t}`),Au(t))return new we(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{static emptySet(e){return new Jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=ih(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.fa=new Ut(Ie.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Le(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class uu{constructor(e,n,r,i,s,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new uu(e,n,Jc.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class $q{constructor(){this.queries=qA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=qe(n),s=i.queries;i.queries=qA(),s.forEach((c,d)=>{for(const h of d.wa)h.onError(r)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function qA(){return new Bl(t=>WO(t),Jg)}async function NI(t,e){const n=qe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new qq,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=i_(c,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&a_(n)}async function CI(t,e){const n=qe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.wa.indexOf(e);c>=0&&(s.wa.splice(c,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fq(t,e){const n=qe(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const d of c.wa)d.Ca(i)&&(r=!0);c.ya=i}}r&&a_(n)}function Hq(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function a_(t){t.Da.forEach(e=>{e.next()})}var xx,$A;($A=xx||(xx={})).Fa="default",$A.Cache="cache";class OI{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.key=e}}class RI{constructor(e){this.key=e}}class Kq{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=YO(e),this.eu=new Jc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new zA,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const x=i.get(p),w=ev(this.query,v)?v:null,_=!!x&&this.mutatedKeys.has(x.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;x&&w?x.data.isEqual(w.data)?_!==T&&(r.track({type:3,doc:w}),S=!0):this.iu(x,w)||(r.track({type:2,doc:w}),S=!0,(h&&this.Xa(w,h)>0||f&&this.Xa(w,f)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),S=!0):x&&!w&&(r.track({type:1,doc:x}),S=!0,(h||f)&&(d=!0)),S&&(w?(c=c.add(w),s=T?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{eu:c,ru:r,Ds:d,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((p,v)=>function(w,_){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{At:S})}};return T(w)-T(_)}(p.type,v.type)||this.Xa(p.doc,v.doc)),this.su(r),i=i!=null&&i;const d=n&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,f=h!==this.Ya;return this.Ya=h,c.length!==0||f?{snapshot:new uu(this.query,e.eu,s,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new RI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new II(r))}),n}uu(e){this.Ha=e.qs,this.Za=tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return uu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const s_="SyncEngine";class Gq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Wq{constructor(e){this.key=e,this.lu=!1}}class Yq{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Bl(d=>WO(d),Jg),this.Tu=new Map,this.Iu=new Set,this.du=new Ut(Ie.comparator),this.Eu=new Map,this.Au=new Yb,this.Ru={},this.Vu=new Map,this.mu=cu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Xq(t,e,n=!0){const r=VI(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await PI(r,e,n,!0),i}async function Qq(t,e){const n=VI(t);await PI(n,e,!0,!1)}async function PI(t,e,n,r){const i=await vq(t.localStore,Yi(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await Zq(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&wI(t.remoteStore,i),d}async function Zq(t,e,n,r,i){t.gu=(v,x,w)=>async function(T,S,N,P){let I=S.view.nu(N);I.Ds&&(I=await kA(T.localStore,S.query,!1).then(({documents:j})=>S.view.nu(j,I)));const D=P&&P.targetChanges.get(S.targetId),k=P&&P.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(I,T.isPrimaryClient,D,k);return HA(T,S.targetId,V._u),V.snapshot}(t,v,x,w);const s=await kA(t.localStore,e,!0),c=new Kq(e,s.qs),d=c.nu(s.documents),h=of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=c.applyChanges(d,t.isPrimaryClient,h);HA(t,n,f._u);const p=new Gq(e,n,c);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function Jq(t,e,n){const r=qe(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(c=>!Jg(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jb(r.remoteStore,i.targetId),bx(r,i.targetId)}).catch(Eu)):(bx(r,i.targetId),await vx(r.localStore,i.targetId,!0))}async function e$(t,e){const n=qe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jb(n.remoteStore,r.targetId))}async function t$(t,e,n){const r=l$(t);try{const i=await function(c,d){const h=qe(c),f=jt.now(),p=d.reduce((w,_)=>w.add(_.key),tt());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=Ja(),T=tt();return h.Os.getEntries(w,p).next(S=>{_=S,_.forEach((N,P)=>{P.isValidDocument()||(T=T.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,_)).next(S=>{v=S;const N=[];for(const P of d){const I=vz(P,v.get(P.key).overlayedDocument);I!=null&&N.push(new _o(P.key,I,BO(I.value.mapValue),ni.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,N,d)}).next(S=>{x=S;const N=S.applyToLocalDocumentSet(v,T);return h.documentOverlayCache.saveOverlays(w,S.batchId,N)})}).then(()=>({batchId:x.batchId,changes:QO(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,h){let f=c.Ru[c.currentUser.toKey()];f||(f=new Ut(Ge)),f=f.insert(d,h),c.Ru[c.currentUser.toKey()]=f}(r,i.batchId,n),await cf(r,i.changes),await sv(r.remoteStore)}catch(i){const s=i_(i,"Failed to persist write");n.reject(s)}}async function DI(t,e){const n=qe(t);try{const r=await mq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const c=n.Eu.get(s);c&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.lu=!0:i.modifiedDocuments.size>0?dt(c.lu,14607):i.removedDocuments.size>0&&(dt(c.lu,42227),c.lu=!1))}),await cf(n,r,e)}catch(r){await Eu(r)}}function FA(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(c,d){const h=qe(c);h.onlineState=d;let f=!1;h.queries.forEach((p,v)=>{for(const x of v.wa)x.va(d)&&(f=!0)}),f&&a_(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n$(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let c=new Ut(Ie.comparator);c=c.insert(s,Wn.newNoDocument(s,ze.min()));const d=tt().add(s),h=new rv(ze.min(),new Map,new Ut(Ge),c,d);await DI(r,h),r.du=r.du.remove(s),r.Eu.delete(e),o_(r)}else await vx(r.localStore,e,!1).then(()=>bx(r,e,n)).catch(Eu)}async function r$(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await fq(n.localStore,e);MI(n,r,null),kI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cf(n,i)}catch(i){await Eu(i)}}async function i$(t,e,n){const r=qe(t);try{const i=await function(c,d){const h=qe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,d).next(v=>(dt(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);MI(r,e,n),kI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cf(r,i)}catch(i){await Eu(i)}}function kI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function MI(t,e,n){const r=qe(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||LI(t,r)})}function LI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jb(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),o_(t))}function HA(t,e,n){for(const r of n)r instanceof II?(t.Au.addReference(r.key,e),a$(t,r)):r instanceof RI?(Te(s_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||LI(t,r.key)):Le(19791,{yu:r})}function a$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Te(s_,"New document in limbo: "+n),t.Iu.add(r),o_(t))}function o_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ie(Et.fromString(e)),r=t.mu.next();t.Eu.set(r,new Wq(n)),t.du=t.du.insert(n,r),wI(t.remoteStore,new Qs(Yi($b(n.path)),r,"TargetPurposeLimboResolution",Xg.ue))}}async function cf(t,e,n){const r=qe(t),i=[],s=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((d,h)=>{c.push(r.gu(h,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const v=f?!f.fromCache:(p=n?.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){i.push(f);const v=Qb.Es(h.targetId,f);s.push(v)}}))}),await Promise.all(c),r.hu.J_(i),await async function(h,f){const p=qe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(f,x=>fe.forEach(x.Is,w=>p.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>fe.forEach(x.ds,w=>p.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!Au(v))throw v;Te(Zb,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const w=p.Fs.get(x),_=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(_);p.Fs=p.Fs.insert(x,T)}}}(r.localStore,s))}async function s$(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te(s_,"User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(s,c){s.Vu.forEach(d=>{d.forEach(h=>{h.reject(new we(ue.CANCELLED,c))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cf(n,r.Bs)}}function o$(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.lu)return tt().add(r.key);{let i=tt();const s=n.Tu.get(e);if(!s)return i;for(const c of s){const d=n.Pu.get(c);i=i.unionWith(d.view.tu)}return i}}function VI(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n$.bind(null,e),e.hu.J_=Fq.bind(null,e.eventManager),e.hu.pu=Hq.bind(null,e.eventManager),e}function l$(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i$.bind(null,e),e}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=iv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return hq(this.persistence,new cq,e.initialUser,this.serializer)}Du(e){return new vI(Xb.Vi,this.serializer)}bu(e){return new xq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class c$ extends Jp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){dt(this.persistence.referenceDelegate instanceof Qp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Wz(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new vI(r=>Qp.Vi(r,n),this.serializer)}}class _x{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s$.bind(null,this.syncEngine),await zq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $q}()}createDatastore(e){const n=iv(e.databaseInfo.databaseId),r=function(s){return new Tq(s)}(e.databaseInfo);return function(s,c,d,h){return new Nq(s,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,c,d){return new Oq(r,i,s,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>FA(this.syncEngine,n,0),function(){return VA.C()?new VA:new bq}())}createSyncEngine(e,n){return function(i,s,c,d,h,f,p){const v=new Yq(i,s,c,d,h,f);return p&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=qe(i);Te(Il,"RemoteStore shutting down."),s.Ia.add(5),await lf(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_x.provider={build:()=>new _x};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Za("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="FirestoreClient";class u${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=Lb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async c=>{Te(go,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(Te(go,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=i_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c1(t,e){t.asyncQueue.verifyOperationInProgress(),Te(go,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{co("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{co("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function KA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await d$(t);Te(go,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>BA(e.remoteStore,i)),t._onlineComponents=e}async function d$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(go,"Using user provided OfflineComponentProvider");try{await c1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await c1(t,new Jp)}}else Te(go,"Using default OfflineComponentProvider"),await c1(t,new c$(void 0));return t._offlineComponents}async function BI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(go,"Using user provided OnlineComponentProvider"),await KA(t,t._uninitializedComponentsProvider._online)):(Te(go,"Using default OnlineComponentProvider"),await KA(t,new _x))),t._onlineComponents}function h$(t){return BI(t).then(e=>e.syncEngine)}async function zI(t){const e=await BI(t),n=e.eventManager;return n.onListen=Xq.bind(null,e.syncEngine),n.onUnlisten=Jq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e$.bind(null,e.syncEngine),n}function f$(t,e,n={}){const r=new $a;return t.asyncQueue.enqueueAndForget(async()=>function(s,c,d,h,f){const p=new UI({next:x=>{p.Ou(),c.enqueueAndForget(()=>CI(s,v));const w=x.docs.has(d);!w&&x.fromCache?f.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&h&&h.source==="server"?f.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new OI($b(d.path),p,{includeMetadataChanges:!0,ka:!0});return NI(s,v)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}function m$(t,e,n={}){const r=new $a;return t.asyncQueue.enqueueAndForget(async()=>function(s,c,d,h,f){const p=new UI({next:x=>{p.Ou(),c.enqueueAndForget(()=>CI(s,v)),x.fromCache&&h.source==="server"?f.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new OI(d,p,{includeMetadataChanges:!0,ka:!0});return NI(s,v)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firestore.googleapis.com",WA=!0;class YA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$I,this.ssl=WA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:WA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kz)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ov{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _B;switch(r.type){case"firstParty":return new EB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GA.get(n);r&&(Te("ComponentProvider","Removing Datastore"),GA.delete(n),r.terminate())}(this),Promise.resolve()}}function p$(t,e,n,r={}){var i;t=Si(t,ov);const s=Ll(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;s&&(_b(`https://${h}`),wb("Firestore",!0)),c.host!==$I&&c.host!==h&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},c),{host:h,ssl:s,emulatorOptions:r});if(!Al(f,d)&&(t._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Gn.MOCK_USER;else{p=IC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gn(x)}t._authCredentials=new wB(new jO(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(af(n,Wt._jsonSchema))return new Wt(e,r||null,new Ie(Et.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:an("string",Wt._jsonSchemaVersion),referencePath:an("string")};class io extends ql{constructor(e,n,r){super(e,n,$b(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ie(e))}withConverter(e){return new io(this.firestore,e,this._path)}}function Xn(t,e,...n){if(t=on(t),CO("collection","path",e),t instanceof ov){const r=Et.fromString(e,...n);return lA(r),new io(t,null,r)}{if(!(t instanceof Wt||t instanceof io))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return lA(r),new io(t.firestore,null,r)}}function Lt(t,e,...n){if(t=on(t),arguments.length===1&&(e=Lb.newId()),CO("doc","path",e),t instanceof ov){const r=Et.fromString(e,...n);return oA(r),new Wt(t,null,new Ie(r))}{if(!(t instanceof Wt||t instanceof io))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return oA(r),new Wt(t.firestore,t instanceof io?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="AsyncQueue";class QA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bI(this,"async_queue_retry"),this.oc=()=>{const r=l1();r&&Te(XA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=l1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=l1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new $a;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Au(e))throw e;Te(XA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Za("INTERNAL UNHANDLED ERROR: ",ZA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=r_.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Le(47125,{hc:ZA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function ZA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $l extends ov{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QA(e),this._firestoreClient=void 0,await e}}}function g$(t,e){const n=typeof t=="object"?t:Eb(),r=typeof t=="string"?t:Kp,i=Hg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NC("firestore");s&&p$(i,...s)}return i}function l_(t){if(t._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v$(t),t._firestoreClient}function v$(t){var e,n,r;const i=t._freezeSettings(),s=function(d,h,f,p){return new zB(d,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new u$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(d){const h=d?._online.build();return{_offline:d?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Vn.fromBase64String(e))}catch(n){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(af(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:an("string",Qr._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(af(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:an("string",Qi._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(af(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zi(e.vectorValues);throw new we(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:an("string",Zi._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=/^__.*__$/;class x${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new sf(e,this.data,n,this.fieldTransforms)}}class FI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ec:t})}}class c_{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new c_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return eg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HI(this.Ec)&&y$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class b${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||iv(e)}Dc(e,n,r,i=!1){return new c_({Ec:e,methodName:n,bc:r,path:Mn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uv(t){const e=t._freezeSettings(),n=iv(t._databaseId);return new b$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KI(t,e,n,r,i,s={}){const c=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);d_("Data must be an object, but it was:",c,r);const d=GI(r,c);let h,f;if(s.merge)h=new Or(c.fieldMask),f=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const x=wx(e,v,n);if(!c.contains(x))throw new we(ue.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);YI(p,x)||p.push(x)}h=new Or(p),f=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=c.fieldTransforms;return new x$(new cr(d),h,f)}class dv extends cv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dv}}class u_ extends cv{_toFieldTransform(e){return new fz(e.path,new Ph)}isEqual(e){return e instanceof u_}}function _$(t,e,n,r){const i=t.Dc(1,e,n);d_("Data must be an object, but it was:",i,r);const s=[],c=cr.empty();bo(r,(h,f)=>{const p=h_(e,h,n);f=on(f);const v=i.gc(p);if(f instanceof dv)s.push(p);else{const x=uf(f,v);x!=null&&(s.push(p),c.set(p,x))}});const d=new Or(s);return new FI(c,d,i.fieldTransforms)}function w$(t,e,n,r,i,s){const c=t.Dc(1,e,n),d=[wx(e,r,n)],h=[i];if(s.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(wx(e,s[x])),h.push(s[x+1]);const f=[],p=cr.empty();for(let x=d.length-1;x>=0;--x)if(!YI(f,d[x])){const w=d[x];let _=h[x];_=on(_);const T=c.gc(w);if(_ instanceof dv)f.push(w);else{const S=uf(_,T);S!=null&&(f.push(w),p.set(w,S))}}const v=new Or(f);return new FI(p,v,c.fieldTransforms)}function S$(t,e,n,r=!1){return uf(n,t.Dc(r?4:3,e))}function uf(t,e){if(WI(t=on(t)))return d_("Unsupported field value:",e,t),GI(t,e);if(t instanceof cv)return function(r,i){if(!HI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let c=0;for(const d of r){let h=uf(d,i.yc(c));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),c++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:Xp(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xp(i.serializer,s)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:cI(i.serializer,r._byteString)};if(r instanceof Wt){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zi)return function(c,d){return{mapValue:{fields:{[VO]:{stringValue:UO},[Gp]:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw d.wc("VectorValues must only contain numeric values.");return Fb(d.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Yg(r)}`)}(t,e)}function GI(t,e){const n={};return RO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const s=uf(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Qi||t instanceof Qr||t instanceof Wt||t instanceof cv||t instanceof Zi)}function d_(t,e,n){if(!WI(n)||!OO(n)){const r=Yg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function wx(t,e,n){if((e=on(e))instanceof lv)return e._internalPath;if(typeof e=="string")return h_(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,n)}const T$=new RegExp("[~\\*/\\[\\]]");function h_(t,e,n){if(e.search(T$)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lv(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eg(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new we(ue.INVALID_ARGUMENT,d+t+h)}function YI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E$ extends XI{data(){return super.data()}}function hv(t,e){return typeof e=="string"?h_(t,e):e instanceof lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f_{}class QI extends f_{}function xi(t,e,...n){let r=[];e instanceof f_&&r.push(e),r=r.concat(n),function(s){const c=s.filter(h=>h instanceof m_).length,d=s.filter(h=>h instanceof fv).length;if(c>1||c>0&&d>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fv extends QI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fv(e,n,r)}_apply(e){const n=this._parse(e);return ZI(e._query,n),new ql(e.firestore,e.converter,dx(e._query,n))}_parse(e){const n=uv(e.firestore);return function(s,c,d,h,f,p,v){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ej(v,p);const _=[];for(const T of v)_.push(JA(h,s,T));x={arrayValue:{values:_}}}else x=JA(h,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ej(v,p),x=S$(d,c,v,p==="in"||p==="not-in");return nn.create(f,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ur(t,e,n){const r=e,i=hv("where",t);return fv._create(i,r,n)}class m_ extends f_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let c=i;const d=s.getFlattenedFilters();for(const h of d)ZI(c,h),c=dx(c,h)}(e._query,n),new ql(e.firestore,e.converter,dx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p_ extends QI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p_(e,n)}_apply(e){const n=function(i,s,c){if(i.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rh(s,c)}(e._query,this._field,this._direction);return new ql(e.firestore,e.converter,function(i,s){const c=i.explicitOrderBy.concat([s]);return new ju(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Sx(t,e="asc"){const n=e,r=hv("orderBy",t);return p_._create(r,n)}function JA(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GO(e)&&n.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Ie.isDocumentKey(r))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gA(t,new Ie(r))}if(n instanceof Wt)return gA(t,n._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(n)}.`)}function ej(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZI(t,e){const n=function(i,s){for(const c of i)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class j${convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Gp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>Kt(c.doubleValue));return new Zi(s)}convertGeoPoint(e){return new Qi(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ch(e));default:return null}}convertTimestamp(e){const n=ho(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);dt(pI(r),9688,{name:e});const i=new Oh(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||Za(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends XI{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:an("string",vl._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Np extends vl{data(e={}){return super.data(e)}}class eu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Np(this._firestore,this._userDataWriter,r.key,r,new sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>{const h=new Np(i._firestore,i._userDataWriter,d.doc.key,d.doc,new sh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||d.type!==3).map(d=>{const h=new Np(i._firestore,i._userDataWriter,d.doc.key,d.doc,new sh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:N$(d.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function N$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){t=Si(t,Wt);const e=Si(t.firestore,$l);return f$(l_(e),t._key).then(n=>C$(e,t,n))}eu._jsonSchemaVersion="firestore/querySnapshot/1.0",eu._jsonSchema={type:an("string",eu._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class eR extends j${constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Jr(t){t=Si(t,ql);const e=Si(t.firestore,$l),n=l_(e),r=new eR(e);return A$(t._query),m$(n,t._query).then(i=>new eu(e,r,t,i))}function Cu(t,e,n){t=Si(t,Wt);const r=Si(t.firestore,$l),i=JI(t.converter,e,n);return pv(r,[KI(uv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function Rr(t,e,n,...r){t=Si(t,Wt);const i=Si(t.firestore,$l),s=uv(i);let c;return c=typeof(e=on(e))=="string"||e instanceof lv?w$(s,"updateDoc",t._key,e,n,r):_$(s,"updateDoc",t._key,e),pv(i,[c.toMutation(t._key,ni.exists(!0))])}function g_(t){return pv(Si(t.firestore,$l),[new Hb(t._key,ni.none())])}function mv(t,e){const n=Si(t.firestore,$l),r=Lt(t),i=JI(t.converter,e);return pv(n,[KI(uv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function pv(t,e){return function(r,i){const s=new $a;return r.asyncQueue.enqueueAndForget(async()=>t$(await h$(r),i,s)),s.promise}(l_(t),e)}function C$(t,e,n){const r=n.docs.get(e._key),i=new eR(t);return new vl(t,i,e._key,r,new sh(n.hasPendingWrites,n.fromCache),e.converter)}function Fa(){return new u_("serverTimestamp")}(function(e,n=!0){(function(i){Tu=i})(Vl),jl(new lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new $l(new SB(r.getProvider("auth-internal")),new AB(c,r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(f.options.projectId,p)}(c,i),c);return s=Object.assign({useFetchStreams:n},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),Ki(nA,rA,e),Ki(nA,rA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebasestorage.googleapis.com",O$="storageBucket",I$=2*60*1e3,R$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends sa{constructor(e,n,r=0){super(u1(e),`Firebase Storage: ${n} (${u1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ta;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ta||(ta={}));function u1(t){return"storage/"+t}function P$(){const t="An unknown error occurred, please check the error payload for server response.";return new oa(ta.UNKNOWN,t)}function D$(){return new oa(ta.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k$(){return new oa(ta.CANCELED,"User canceled the upload/download.")}function M$(t){return new oa(ta.INVALID_URL,"Invalid URL '"+t+"'.")}function L$(t){return new oa(ta.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tj(t){return new oa(ta.INVALID_ARGUMENT,t)}function nR(){return new oa(ta.APP_DELETED,"The Firebase app was deleted.")}function V$(t){return new oa(ta.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bi.makeFromUrl(e,n)}catch{return new bi(e,"")}if(r.path==="")return r;throw L$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),h={bucket:1,path:3};function f(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${i}/o${x}`,"i"),_={bucket:1,path:3},T=n===tR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${T}/${i}/${S}`,"i"),I=[{regex:d,indices:h,postModify:s},{regex:w,indices:_,postModify:f},{regex:N,indices:{bucket:1,path:2},postModify:f}];for(let D=0;D<I.length;D++){const k=I[D],V=k.regex.exec(e);if(V){const j=V[k.indices.bucket];let R=V[k.indices.path];R||(R=""),r=new bi(j,R),k.postModify(r);break}}if(r==null)throw M$(e);return r}}class U${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e,n){let r=1,i=null,s=null,c=!1,d=0;function h(){return d===2}let f=!1;function p(...S){f||(f=!0,e.apply(null,S))}function v(S){i=setTimeout(()=>{i=null,t(w,h())},S)}function x(){s&&clearTimeout(s)}function w(S,...N){if(f){x();return}if(S){x(),p.call(null,S,...N);return}if(h()||c){x(),p.call(null,S,...N);return}r<64&&(r*=2);let I;d===1?(d=2,I=0):I=(r+Math.random())*1e3,v(I)}let _=!1;function T(S){_||(_=!0,x(),!f&&(i!==null?(S||(d=2),clearTimeout(i),v(0)):S||(d=1)))}return v(0),s=setTimeout(()=>{c=!0,T(!0)},n),T}function z$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){return t!==void 0}function nj(t,e,n,r){if(r<e)throw tj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw tj(`Invalid value for '${t}'. Expected ${n} or less.`)}function $$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var tg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tg||(tg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i,s,c,d,h,f,p,v,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ep(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===tg.NO_ERROR,h=s.getStatus();if(!d||F$(h,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===tg.ABORT;r(!1,new ep(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new ep(f,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());q$(h)?s(h):s()}catch(h){c(h)}else if(d!==null){const h=P$();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(i.canceled){const h=this.appDelete_?nR():k$();c(h)}else{const h=D$();c(h)}};this.canceled_?n(!1,new ep(!1,null,!0)):this.backoffId_=B$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ep{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function K$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function G$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Y$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function X$(t,e,n,r,i,s,c=!0,d=!1){const h=$$(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return W$(p,e),K$(p,n),G$(p,s),Y$(p,r),new H$(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this._service=e,n instanceof bi?this._location=n:this._location=bi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ng(e,n)}get root(){const e=new bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z$(this._location.path)}get storage(){return this._service}get parent(){const e=Q$(this._location.path);if(e===null)return null;const n=new bi(this._location.bucket,e);return new ng(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw V$(e)}}function rj(t,e){const n=e?.[O$];return n==null?null:bi.makeFromBucketSpec(n,t)}function J$(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ll(e);i&&(_b(`https://${t.host}/b`),wb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:IC(s,t.app.options.projectId))}class eF{constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=tR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I$,this._maxUploadRetryTime=R$,this._requests=new Set,i!=null?this._bucket=bi.makeFromBucketSpec(i,this._host):this._bucket=rj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bi.makeFromBucketSpec(this._url,e):this._bucket=rj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ng(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new U$(nR());{const c=X$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ij="@firebase/storage",aj="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="storage";function tF(t=Eb(),e){t=on(t);const r=Hg(t,rR).getImmediate({identifier:e}),i=NC("storage");return i&&nF(r,...i),r}function nF(t,e,n,r={}){J$(t,e,n,r)}function rF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new eF(n,r,i,e,Vl)}function iF(){jl(new lo(rR,rF,"PUBLIC").setMultipleInstances(!0)),Ki(ij,aj,""),Ki(ij,aj,"esm2017")}iF();const aF={apiKey:"AIzaSyD4C8cE_DX6dWL89w_gwR2M3sjAtKK3GHU",authDomain:"rrvision-99414.firebaseapp.com",projectId:"rrvision-99414",storageBucket:"rrvision-99414.firebasestorage.app",messagingSenderId:"808020762931",appId:"808020762931:web:c8b68d4bad3352b037de46"},v_=DC(aF),yl=xO(v_),Xe=g$(v_);tF(v_);const wn=[],y_=async t=>{console.log("convertFirebaseUser called with:",{uid:t.uid,email:t.email,displayName:t.displayName});const e=await sF(t.uid);console.log("User document from Firestore:",e);const n={id:t.uid,email:t.email||"",displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,emailVerified:t.emailVerified,name:e?.name,company:e?.company,phone:e?.phone,createdAt:e?.createdAt,updatedAt:e?.updatedAt,role:e?.role||"operator",userType:e?.userType||"operator",accessToken:await t.getIdToken()};return e?.userType==="operator"&&e?.operatorData&&(n.operatorData={code:e.operatorData.code||"",primarySectorId:e.operatorData.primarySectorId||"",primarySectorName:e.operatorData.primarySectorName,secondarySectorIds:e.operatorData.secondarySectorIds||[],secondarySectorNames:e.operatorData.secondarySectorNames,trainedActivities:e.operatorData.trainedActivities||[],trainedActivitiesDetails:e.operatorData.trainedActivitiesDetails,status:e.operatorData.status||"active",admissionDate:e.operatorData.admissionDate||"",lastTrainingDate:e.operatorData.lastTrainingDate,nextTrainingDate:e.operatorData.nextTrainingDate,contractType:e.operatorData.contractType||"clt",workSchedule:e.operatorData.workSchedule||"day",weeklyHours:e.operatorData.weeklyHours||40,supervisorId:e.operatorData.supervisorId,supervisorName:e.operatorData.supervisorName,teamId:e.operatorData.teamId,teamName:e.operatorData.teamName,skills:e.operatorData.skills||[],certifications:e.operatorData.certifications||[],accessLevel:e.operatorData.accessLevel||"basic",permissions:e.operatorData.permissions||[]}),console.log("Converted user object:",n),console.log("Converted user name:",n.name),console.log("Converted user role:",n.role),console.log("Is operator:",e?.userType==="operator"),console.log("Operator data:",n.operatorData),n},sF=async t=>{try{console.log("getUserDocument called for uid:",t);const e=Lt(Xe,"users",t);console.log("User reference created:",e.path);const n=await Va(e);if(console.log("User snapshot exists:",n.exists()),n.exists()){const r=n.data();return console.log("User data retrieved:",r),console.log("User data keys:",Object.keys(r)),console.log("User data values:",Object.values(r)),console.log("User name type:",typeof r.name),console.log("User role type:",typeof r.role),r}return console.log("User document does not exist"),null}catch(e){return console.error("Error getting user document:",e),null}},oF=async(t,e)=>{try{const n=Lt(Xe,"users",t);await Cu(n,{id:t,email:e.email,name:e.name,company:e.company,phone:e.phone,role:"operator",userType:"operator",createdAt:Fa(),updatedAt:Fa()})}catch(n){throw console.error("Error creating user document:",n),n}},lF=async t=>{try{const{email:e,password:n,...r}=t,s=(await Pb(yl,e,n)).user;return await oO(s,{displayName:r.name}),await oF(s.uid,t),await y_(s)}catch(e){throw console.error("Error registering user:",e),e}},cF=async(t,e)=>{try{const n=await rU(yl,t,e);return await y_(n.user)}catch(n){throw console.error("Error logging in:",n),n}},uF=async()=>{try{await lO(yl)}catch(t){throw console.error("Error logging out:",t),t}};class iR{static async createOperatorWithUser(e){try{const n=xO(),s=(await Pb(n,e.email,e.password)).user.uid;await lO(n);const c={id:s,email:e.email,name:e.name,displayName:e.displayName||e.name,company:e.company||"",phone:e.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",userId:s,operatorData:{code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],trainedActivities:[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",accessLevel:"basic",permissions:[],certifications:[]}},d={email:c.email,name:c.name,displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",code:c.code,primarySectorId:c.primarySectorId,secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status,admissionDate:c.admissionDate,lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType,workSchedule:c.workSchedule,weeklyHours:c.weeklyHours,supervisorId:c.supervisorId||"",teamId:c.teamId||"",createdAt:Fa(),updatedAt:Fa()};console.log("Dados para Firestore:",d);const h=Lt(Xe,"users",s);return await Cu(h,d),wn.push(c),{user:c,operator:c}}catch(n){throw console.error("Erro ao criar usuário operador:",n),new Error("Falha ao criar usuário operador")}}static async getOperatorByUserId(e){try{const n=Lt(Xe,"users",e),r=await Va(n);if(r.exists()){const s=r.data();if(s.userType==="operator"&&s.operatorData)return s}const i=wn.find(s=>s.id===e);return i&&i.userType==="operator"&&i.operatorData?i:null}catch(n){console.error("Erro ao buscar operador por userId:",n);const r=wn.find(i=>i.id===e);return r&&r.userType==="operator"&&r.operatorData?r:null}}static async getUserByOperatorId(e){try{const n=Lt(Xe,"users",e),r=await Va(n);return r.exists()?r.data():wn.find(i=>i.id===e)||null}catch(n){return console.error("Erro ao buscar usuário por operatorId:",n),wn.find(r=>r.id===e)||null}}static isOperator(e){return e.userType==="operator"&&e.operatorData!==void 0}static async getAllOperatorsWithUsers(){try{const e=Xn(Xe,"users"),n=xi(e,ur("userType","==","operator")),r=await Jr(n),i=[];for(const s of r.docs){const c=s.data(),d=s.id,h={id:d,email:c.email||"",name:c.name||"",displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:c.photoURL||null,emailVerified:c.emailVerified||!1,userType:c.userType||"operator",role:c.role||"user",createdAt:c.createdAt?.toDate?.()?.toISOString()||c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt?.toDate?.()?.toISOString()||c.updatedAt||new Date().toISOString(),createdBy:c.createdBy||"system",updatedBy:c.updatedBy||"system",operatorData:{code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],trainedActivities:c.trainedActivities||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",accessLevel:c.accessLevel||"basic",permissions:c.permissions||[],certifications:c.certifications||[]}},f={...h,code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",userId:d};i.push({operator:f,user:h})}return wn.length=0,i.forEach(({user:s})=>{wn.push(s)}),console.log("Operadores encontrados:",i.length),i}catch(e){return console.error("Erro ao buscar operadores com usuários:",e),wn.filter(n=>n.userType==="operator"&&n.operatorData).map(n=>({operator:n,user:n}))}}static async updateOperator(e,n){try{const r=Lt(Xe,"users",e);await Rr(r,{...n,updatedAt:Fa()});const i=await Va(r);if(!i.exists())throw new Error("Operador não encontrado");const s=i.data(),c={id:e,email:s.email||"",name:s.name||"",displayName:s.displayName||"",company:s.company||"",phone:s.phone||"",photoURL:s.photoURL||null,emailVerified:s.emailVerified||!1,userType:s.userType||"operator",role:s.role||"user",createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt||new Date().toISOString(),updatedAt:s.updatedAt?.toDate?.()?.toISOString()||s.updatedAt||new Date().toISOString(),createdBy:s.createdBy||"system",updatedBy:s.updatedBy||"system",code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",userId:e,operatorData:{code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],trainedActivities:s.trainedActivities||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",accessLevel:s.accessLevel||"basic",permissions:s.permissions||[],certifications:s.certifications||[]}},d=wn.findIndex(h=>h.id===e);return d!==-1&&(wn[d]=c),c}catch(r){throw console.error("Erro ao atualizar operador:",r),r}}static async deleteOperatorAndUser(e){try{const n=Lt(Xe,"users",e),r=await Va(n);if(!r.exists())throw new Error("Operador não encontrado");if(r.data().userType!=="operator")throw new Error("Usuário não é um operador");await g_(n),console.log("Operador excluído com sucesso do Firestore");const s=wn.findIndex(c=>c.id===e);s!==-1&&wn.splice(s,1)}catch(n){throw console.error("Erro ao excluir operador e usuário:",n),n}}static async getOperatorByCode(e){try{const n=Xn(Xe,"users"),r=xi(n,ur("userType","==","operator")),i=await Jr(r);for(const s of i.docs){const c=s.data(),d=s.id;if(c.code===e)return{id:d,email:c.email||"",name:c.name||"",displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:c.photoURL||null,emailVerified:c.emailVerified||!1,userType:c.userType||"operator",role:c.role||"user",createdAt:c.createdAt?.toDate?.()?.toISOString()||c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt?.toDate?.()?.toISOString()||c.updatedAt||new Date().toISOString(),createdBy:c.createdBy||"system",updatedBy:c.updatedBy||"system",code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",userId:d,operatorData:{code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],trainedActivities:c.trainedActivities||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",accessLevel:c.accessLevel||"basic",permissions:c.permissions||[],certifications:c.certifications||[]}}}return wn.find(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)||null}catch(n){return console.error("Erro ao buscar operador por código:",n),wn.find(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)||null}}static async isCodeAlreadyUsed(e){try{const n=Xn(Xe,"users"),r=xi(n,ur("userType","==","operator")),i=await Jr(r);for(const s of i.docs)if(s.data().code===e)return!0;return wn.some(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)}catch(n){return console.error("Erro ao verificar código:",n),wn.some(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)}}static async isEmailAlreadyUsed(e){try{const n=Xn(Xe,"users"),r=xi(n,ur("email","==",e));return(await Jr(r)).empty?wn.some(s=>s.email===e):!0}catch(n){return console.error("Erro ao verificar email:",n),wn.some(r=>r.email===e)}}}const dF=iR.getAllOperatorsWithUsers,hF=iR.isCodeAlreadyUsed,fF={user:null,loading:!0,error:null},Zs={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR"},mF=(t,e)=>{switch(e.type){case Zs.SET_LOADING:return{...t,loading:e.payload};case Zs.SET_USER:return{...t,user:e.payload,loading:!1,error:null};case Zs.SET_ERROR:return{...t,error:e.payload,loading:!1};case Zs.CLEAR_ERROR:return{...t,error:null};default:return t}},aR=A.createContext(void 0),pF=({children:t})=>{const[e,n]=A.useReducer(mF,fF),r=A.useCallback(x=>{n({type:Zs.SET_LOADING,payload:x})},[]),i=A.useCallback(x=>{n({type:Zs.SET_USER,payload:x})},[]),s=A.useCallback(x=>{n({type:Zs.SET_ERROR,payload:x})},[]),c=A.useCallback(()=>{n({type:Zs.CLEAR_ERROR})},[]),d=A.useCallback(async x=>{try{if(x){const w=await y_(x);i(w)}else i(null)}catch(w){console.error("Error converting Firebase user:",w),s("Failed to load user data"),i(null)}},[i,s]);A.useEffect(()=>{const x=oU(yl,d);return()=>x()},[d]);const h=A.useCallback(async(x,w)=>{r(!0),c();try{const _=await cF(x,w);return i(_),_}catch(_){const T=_ instanceof Error?_.message:"Login failed";throw s(T),_}},[r,c,i,s]),f=A.useCallback(async x=>{r(!0),c();try{const w=await lF(x);return i(w),w}catch(w){const _=w instanceof Error?w.message:"Registration failed";throw s(_),w}},[r,c,i,s]),p=A.useCallback(async()=>{r(!0),c();try{await uF(),i(null)}catch(x){const w=x instanceof Error?x.message:"Logout failed";throw s(w),x}},[r,c,i,s]),v=A.useMemo(()=>({user:e.user,loading:e.loading,login:h,register:f,logout:p}),[e.user,e.loading,h,f,p]);return A.useCallback(()=>e.user!==null,[e.user]),l.jsx(aR.Provider,{value:v,children:t})},la=()=>{const t=A.useContext(aR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gF=()=>{const{login:t}=la(),[e,n]=A.useState(!1),[r,i]=A.useState(null);return{handleLogin:async d=>{n(!0),i(null);try{return await t(d.email,d.password)}catch(h){const f=h instanceof Error?h.message:"Login failed";throw i(f),h}finally{n(!1)}},loading:e,error:r,clearError:()=>i(null)}};function vF(){const[t,e]=A.useState({email:"",password:""}),{goTo:n}=yo(),{handleLogin:r,loading:i,error:s,clearError:c}=gF();la();const d=()=>{n(Rt.landing)},h=p=>{s&&c(),e({...t,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();try{await r(t);let v;v=Rt.app,n(v)}catch{}};return l.jsxs("div",{className:"login-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:d,disabled:i,title:"Voltar à página inicial",children:l.jsx(uh,{})}),l.jsx("div",{className:"login-container",children:l.jsxs("div",{className:"login-card",children:[l.jsxs("div",{className:"login-header",children:[l.jsx("h1",{children:"Entrar no Sistema"}),l.jsx("p",{children:"Acesse sua conta RR Vision Brazil"})]}),l.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),l.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:h,required:!0,disabled:i,icon:l.jsx(bb,{})}),l.jsx(Ye,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:h,required:!0,disabled:i,icon:l.jsx(Y2,{})}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"checkbox-container",children:[l.jsx("input",{type:"checkbox",disabled:i}),"Lembrar de mim"]}),l.jsx("span",{className:"forgot-link",style:{cursor:i?"not-allowed":"pointer",opacity:i?.6:1},onClick:()=>!i&&n(Rt.forgotPassword),children:"Esqueceu a senha?"})]}),l.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,disabled:i,children:i?"Entrando...":"Entrar"})]}),l.jsx("div",{className:"login-footer",children:l.jsxs("p",{children:["Não tem uma conta?"," ",l.jsx("span",{style:{cursor:i?"not-allowed":"pointer",color:"#fbb040",opacity:i?.6:1},onClick:()=>!i&&n(Rt.register),children:"Cadastre-se"})]})})]})})]})}const yF=()=>{const{register:t}=la(),[e,n]=A.useState(!1),[r,i]=A.useState(null),s=(h,f)=>h!==f?(i("As senhas não coincidem"),!1):h.length<6?(i("A senha deve ter pelo menos 6 caracteres"),!1):!0;return{handleRegister:async h=>{n(!0),i(null);try{if(!s(h.password,h.confirmPassword)){n(!1);return}const f={name:h.name,email:h.email,company:h.company,phone:h.phone,password:h.password};await t(f)}catch(f){const p=f instanceof Error?f.message:"Registration failed";throw i(p),f}finally{n(!1)}},loading:e,error:r,clearError:()=>i(null)}};function xF(){const[t,e]=A.useState({name:"",email:"",company:"",phone:"",password:"",confirmPassword:""}),[n,r]=A.useState(!1),{goTo:i}=yo(),{handleRegister:s,loading:c,error:d,clearError:h}=yF(),f=()=>{i(Rt.landing)},p=x=>{d&&h(),e({...t,[x.target.name]:x.target.value})},v=async x=>{if(x.preventDefault(),!n){alert("Você deve aceitar os termos de uso e política de privacidade");return}try{await s(t),i(Rt.app)}catch(w){console.error("Registration failed:",w)}};return l.jsxs("div",{className:"register-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:f,disabled:c,title:"Voltar à página inicial",children:l.jsx(uh,{})}),l.jsx("div",{className:"register-container",children:l.jsxs("div",{className:"register-card",children:[l.jsxs("div",{className:"register-header",children:[l.jsx("h1",{children:"Criar Conta"}),l.jsx("p",{children:"Cadastre-se no RR Vision Brazil"})]}),l.jsxs("form",{onSubmit:v,className:"register-form",children:[d&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:d}),l.jsxs("div",{className:"form-row",children:[l.jsx(Ye,{type:"text",name:"name",placeholder:"Nome completo",value:t.name,onChange:p,required:!0,disabled:c,icon:l.jsx(T7,{})}),l.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:p,required:!0,disabled:c,icon:l.jsx(bb,{})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:p,required:!0,disabled:c,icon:l.jsx(w7,{})}),l.jsx(Ye,{type:"tel",name:"phone",placeholder:"Telefone",value:t.phone,onChange:p,required:!0,disabled:c,icon:l.jsx(S7,{})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx(Ye,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:p,required:!0,disabled:c,icon:l.jsx(Y2,{})}),l.jsx(Ye,{type:"password",name:"confirmPassword",placeholder:"Confirmar senha",value:t.confirmPassword,onChange:p,required:!0,disabled:c,icon:l.jsx(Y2,{})})]}),l.jsx("div",{className:"form-options",children:l.jsxs("label",{className:"checkbox-container",children:[l.jsx("input",{type:"checkbox",required:!0,disabled:c,checked:n,onChange:x=>r(x.target.checked)}),l.jsx("span",{className:"checkmark"}),"Aceito os"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(Rt.terms),children:"termos de uso"})," ","e"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(Rt.privacy),children:"política de privacidade"})]})}),l.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,disabled:c||!n,children:c?"Criando conta...":"Criar Conta"})]}),l.jsx("div",{className:"register-footer",children:l.jsxs("p",{children:["Já tem uma conta?"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(Rt.login),children:"Faça login"})]})})]})})]})}function bF(){const[t,e]=A.useState(""),[n,r]=A.useState(!1),[i,s]=A.useState(""),[c,d]=A.useState(!1),{goTo:h}=yo(),f=w=>{i&&s(""),e(w.target.value)},p=async w=>{if(w.preventDefault(),!t.trim()){s("Por favor, insira seu e-mail");return}r(!0),s("");try{await new Promise(_=>setTimeout(_,2e3)),d(!0),r(!1)}catch{s("Erro ao enviar e-mail de recuperação. Tente novamente."),r(!1)}},v=()=>{h(Rt.login)},x=()=>{h(Rt.landing)};return c?l.jsxs("div",{className:"recovery-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:x,disabled:n,title:"Voltar à página inicial",children:l.jsx(uh,{})}),l.jsx("div",{className:"recovery-container",children:l.jsxs("div",{className:"recovery-card",children:[l.jsxs("div",{className:"recovery-header",children:[l.jsx("div",{className:"success-icon",children:l.jsx(_7,{})}),l.jsx("h1",{children:"E-mail Enviado!"}),l.jsx("p",{children:"Verifique sua caixa de entrada"})]}),l.jsxs("div",{className:"recovery-success-message",children:[l.jsxs("p",{children:["Enviamos um link de recuperação para ",l.jsx("strong",{children:t})]}),l.jsx("p",{children:"Clique no link recebido para redefinir sua senha. O link expira em 1 hora."})]}),l.jsxs("div",{className:"recovery-actions",children:[l.jsx(st,{variant:"secondary",fullWidth:!0,onClick:v,children:"Voltar ao Login"}),l.jsx(st,{variant:"outline",fullWidth:!0,onClick:()=>{d(!1),e("")},children:"Enviar Novamente"})]})]})})]}):l.jsxs("div",{className:"recovery-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:x,disabled:n,title:"Voltar à página inicial",children:l.jsx(uh,{})}),l.jsx("div",{className:"recovery-container",children:l.jsxs("div",{className:"recovery-card",children:[l.jsxs("div",{className:"recovery-header",children:[l.jsx("h1",{children:"Recuperar Senha"}),l.jsx("p",{children:"Digite seu e-mail para receber o link de recuperação"})]}),l.jsxs("form",{onSubmit:p,className:"recovery-form",children:[i&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:i}),l.jsx(Ye,{type:"email",name:"email",placeholder:"Digite seu e-mail",value:t,onChange:f,required:!0,disabled:n,icon:l.jsx(bb,{})}),l.jsx(st,{type:"submit",variant:"primary",fullWidth:!0,disabled:n||!t.trim(),children:n?"Enviando...":"Enviar Link de Recuperação"})]}),l.jsx("div",{className:"recovery-footer",children:l.jsxs("button",{className:"back-button",onClick:v,disabled:n,style:{cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[l.jsx(uh,{}),"Voltar ao Login"]})})]})})]})}function _F({currentPage:t,onPageChange:e,variant:n="default"}){const[r,i]=A.useState(!1),s=la(),{user:c,logout:d}=s,{goTo:h}=yo();console.log("Sidebar Auth Data:",s),console.log("Sidebar User Data:",{name:c?.name,email:c?.email,role:c?.role,id:c?.id}),console.log("Full user object in Sidebar:",c),console.log("User type:",typeof c),console.log("User is null?",c===null),console.log("User is undefined?",c===void 0);const f=[{id:"orders",title:"Dashboard",icon:l.jsx(yC,{}),description:"Visão Geral do Sistema",badge:null,access:["admin"]},{id:"user-creation",title:"Usuário",icon:l.jsx(l7,{}),description:"Gerenciar Usuários",badge:null,access:["admin"]},{id:"product-management",title:"Gerenciar Produtos",icon:l.jsx(Qh,{}),description:"Cadastro e Gestão de Produtos",badge:null,access:["admin"]},{id:"schedule",title:"Agenda",icon:l.jsx(gC,{}),description:"Agenda do Operador",badge:null,access:["admin","operator"]},{id:"productivity",title:"Produtividade",icon:l.jsx(ss,{}),description:"Painel de Produtividade",badge:null,access:["admin"]},{id:"nonconformities",title:"Não Conformidades",icon:l.jsx(Gt,{}),description:"Controle de Qualidade",badge:"2",access:["admin"]},{id:"alerts",title:"Alertas",icon:l.jsx(Ml,{}),description:"Alertas e Notificações",badge:"5",access:["admin"]},{id:"control",title:"Painel de Controle",icon:l.jsx(so,{}),description:"Monitoramento do Sistema",badge:null,access:["admin"]},{id:"operational-routes",title:"Roteiros Operacionais",icon:l.jsx(ru,{}),description:"Cadastro de Roteiros de Produção",badge:null,access:["admin"]},{id:"operational-routes-list",title:"Lista de Roteiros",icon:l.jsx(ru,{}),description:"Visualizar Todos os Roteiros",badge:null,access:["admin"]}],p=[{id:"admin-users",title:"Gerenciar Usuários",icon:l.jsx(d7,{}),description:"Administração do Sistema",badge:null,access:["admin"]}],x=(()=>{if(n==="admin")return p;if(c?.userType==="operator"||c?.role==="operator")return f.filter(N=>N.id==="schedule");const T=c?.role||"user";return[...f,...T==="admin"?p:[]].filter(N=>N.access.includes(T)||N.access.includes("admin")||T==="admin")})(),w=T=>{if(T==="admin-users"){h(Rt.admin);return}e(T)},_=async()=>{try{await d(),h(Rt.landing)}catch(T){console.error("Logout failed:",T)}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`sidebar ${r?"sidebar-collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsx("div",{className:"sidebar-logo",children:!r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"logo-text",children:"RR Vision"}),l.jsx("span",{className:"logo-subtitle",children:"Brazil"})]})}),l.jsx("button",{className:"sidebar-toggle",onClick:()=>i(!r),title:r?"Expandir sidebar":"Recolher sidebar",children:r?l.jsx(VM,{}):l.jsx(LM,{})})]}),l.jsx("nav",{className:"sidebar-nav",children:l.jsx("div",{className:"nav-section",children:x.map(T=>l.jsxs("button",{className:`nav-item ${t===T.id?"nav-item-active":""}`,onClick:()=>w(T.id),title:r?T.title:"",children:[l.jsx("span",{className:"nav-icon",children:T.icon}),!r&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"nav-content",children:[l.jsx("span",{className:"nav-title",children:T.title}),l.jsx("span",{className:"nav-description",children:T.description})]}),T.badge&&l.jsx("span",{className:"nav-badge",children:T.badge})]})]},T.id))})}),l.jsxs("div",{className:"sidebar-footer",children:[n!=="admin"&&l.jsx(l.Fragment,{children:l.jsxs("button",{className:"footer-item",title:"Configurações",onClick:()=>e("settings"),children:[l.jsx("span",{className:"footer-icon",children:l.jsx(so,{})}),!r&&l.jsx("span",{children:"Configurações"})]})}),l.jsxs("button",{className:"footer-item logout-btn",onClick:_,title:"Sair",children:[l.jsx("span",{className:"footer-icon",children:l.jsx(t7,{})}),!r&&l.jsx("span",{children:"Sair"})]})]})]}),!r&&l.jsx("div",{className:"sidebar-overlay",onClick:()=>i(!0)})]})}function wF({userName:t}){return l.jsx("div",{className:"dashboard-header",children:l.jsx("div",{className:"header-content",children:l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:"Dashboard"}),l.jsxs("p",{children:["Bem-vindo, ",t]})]})})})}function tp({title:t,icon:e,value:n,change:r,changeType:i}){return l.jsx("div",{className:"stat-card",children:l.jsxs("div",{className:"stat-grid",children:[l.jsx("div",{className:"stat-title",children:t}),l.jsx("div",{className:"stat-icon",children:e}),l.jsx("div",{className:"stat-value",children:n}),l.jsx("div",{className:`stat-change ${i}`,children:r})]})})}function SF({stats:t}){return l.jsxs("div",{className:"dashboard-stats",children:[l.jsx(tp,{title:"Total de Pedidos",icon:l.jsx(yC,{}),value:t.totalOrders,change:"+2 hoje",changeType:"positive"}),l.jsx(tp,{title:"Produtividade",icon:l.jsx(Xh,{}),value:`${t.productivity}%`,change:"+3% esta semana",changeType:"positive"}),l.jsx(tp,{title:"Pedidos Pendentes",icon:l.jsx(Gt,{}),value:t.pendingOrders,change:"Atenção necessária",changeType:"negative"}),l.jsx(tp,{title:"Eficiência",icon:l.jsx(kp,{}),value:`${t.efficiency}%`,change:"Operação normal",changeType:"positive"})]})}function TF({orders:t,filterStatus:e,onFilterChange:n}){const r=t.filter(c=>e==="all"?!0:e==="urgent"?c.priority==="urgent":c.status===e),i=(c,d)=>{let h="status-badge";switch(d==="urgent"&&(h+=" urgent"),c){case"pending":return h+" pending";case"in_progress":return h+" production";case"completed":return h+" completed";case"cancelled":return h+" cancelled";default:return h}},s=c=>{switch(c){case"pending":return"Pendente";case"production":return"Em Produção";case"completed":return"Concluído";case"urgent":return"Urgente";default:return c}};return l.jsxs("div",{className:"orders-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{className:"section-title",children:"Ordens de Produção"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"btn-icon",title:"Atualizar",children:l.jsx(oo,{})}),l.jsx("button",{className:"btn-icon",title:"Exportar",children:l.jsx(ss,{})}),l.jsx("button",{className:"btn-icon",title:"Configurações",children:l.jsx(so,{})})]})]}),l.jsxs("div",{className:"orders-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status:"}),l.jsxs("select",{className:"filter-select",value:e,onChange:c=>n(c.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"pending",children:"Pendente"}),l.jsx("option",{value:"production",children:"Em Produção"}),l.jsx("option",{value:"completed",children:"Concluído"}),l.jsx("option",{value:"urgent",children:"Urgente"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Período:"}),l.jsxs("select",{className:"filter-select",children:[l.jsx("option",{children:"Hoje"}),l.jsx("option",{children:"Esta Semana"}),l.jsx("option",{children:"Este Mês"})]})]})]}),l.jsxs("table",{className:"orders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"OP"}),l.jsx("th",{children:"Produto"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Progresso"}),l.jsx("th",{children:"Previsão"}),l.jsx("th",{children:"Alertas"})]})}),l.jsx("tbody",{children:r.map(c=>l.jsxs("tr",{className:"order-row",children:[l.jsx("td",{children:l.jsx("div",{className:"order-id",children:c.id})}),l.jsx("td",{children:l.jsx("div",{className:"order-product",children:c.product})}),l.jsx("td",{children:c.quantity}),l.jsx("td",{children:l.jsx("span",{className:i(c.status,c.priority),children:s(c.status)})}),l.jsxs("td",{children:[l.jsx("div",{className:"progress-container",children:l.jsx("div",{className:"progress-bar",style:{width:"0%"}})}),l.jsx("div",{className:"progress-text",children:"0%"})]}),l.jsx("td",{children:l.jsx("div",{className:"date-cell",children:new Date(c.dueDate).toLocaleDateString("pt-BR")})}),l.jsx("td",{children:c.priority==="urgent"&&l.jsx("span",{className:"alert-icon",children:l.jsx(Gt,{})})})]},c.id))})]})]})}function EF({alerts:t}){return l.jsxs("div",{className:"alerts-panel",children:[l.jsx("div",{className:"panel-header",children:l.jsx("h4",{className:"panel-title",children:"Alertas e Notificações"})}),l.jsx("div",{className:"panel-content",children:t.map(e=>l.jsxs("div",{className:`alert-item ${e.severity}`,children:[l.jsxs("div",{className:"alert-content",children:[l.jsx("h4",{children:e.title}),l.jsx("p",{children:e.description})]}),l.jsx("span",{className:"alert-timestamp",children:e.createdAt})]},e.id))})]})}function AF({sectors:t}){const e=n=>{switch(n){case"active":return"Ativo";case"inactive":return"Inativo";case"idle":return"Ocioso";case"blocked":return"Bloqueado";default:return n}};return l.jsxs("div",{className:"sectors-panel",children:[l.jsx("div",{className:"panel-header",children:l.jsx("h4",{className:"panel-title",children:"Status dos Setores"})}),l.jsx("div",{className:"panel-content",children:t.map((n,r)=>l.jsxs("div",{className:"sector-item",children:[l.jsxs("div",{className:"sector-info",children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Código: ",n.code," | Descrição: ",n.description]})]}),l.jsxs("div",{className:"sector-status",children:[l.jsx("div",{className:`status-indicator status-${n.isActive?"active":"inactive"}`}),l.jsx("span",{children:e(n.isActive?"active":"inactive")})]})]},r))})]})}function jF(){const{user:t,logout:e,loading:n}=la(),{goTo:r}=yo(),[i,s]=A.useState([]),[c,d]=A.useState([]),[h,f]=A.useState([]),[p,v]=A.useState("all"),[,x]=A.useState([]),[w,_]=A.useState(new Date);A.useEffect(()=>{const I=[{id:"OP-2024-001",orderNumber:"OP-2024-001",customer:"Cliente A",product:"Produto A - Modelo X",quantity:100,status:"in_progress",priority:"urgent",createdAt:"2024-01-15",dueDate:"2024-01-20"},{id:"OP-2024-002",orderNumber:"OP-2024-002",customer:"Cliente B",product:"Produto B - Modelo Y",quantity:50,status:"in_progress",priority:"medium",createdAt:"2024-01-16",dueDate:"2024-01-22"},{id:"OP-2024-003",orderNumber:"OP-2024-003",customer:"Cliente C",product:"Produto C - Modelo Z",quantity:200,status:"pending",priority:"low",createdAt:"2024-01-18",dueDate:"2024-01-25"},{id:"OP-2024-004",orderNumber:"OP-2024-004",customer:"Cliente D",product:"Produto D - Modelo W",quantity:75,status:"completed",priority:"low",createdAt:"2024-01-10",dueDate:"2024-01-17",completedAt:"2024-01-16"}],D=[{id:"1",title:"Atraso Crítico",description:"OP-2024-001 está 2 dias atrasada",severity:"critical",priority:"urgent",status:"active",location:{sector:"Produção"},relatedEntity:{id:"OP-2024-001",name:"Pedido OP-2024-001"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T10:30:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"2",title:"Setor Ocioso",description:"Setor de Acabamento com 40% de ociosidade",severity:"medium",priority:"medium",status:"active",location:{sector:"Acabamento"},relatedEntity:{id:"acabamento",name:"Setor de Acabamento"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"3",title:"Importação Concluída",description:"15 novos pedidos importados do Bling",severity:"low",priority:"low",status:"active",location:{sector:"Sistema"},relatedEntity:{id:"bling",name:"Integração Bling"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T08:45:00Z",updatedAt:"2024-01-20T08:45:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]}],k=[{id:"1",name:"Corte",code:"CORT",description:"Setor de Corte",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de Montagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de Acabamento",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"4",name:"Embalagem",code:"EMBA",description:"Setor de Embalagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"}],V=["08:45 [INFO] Iniciando importação do Bling...","08:46 [SUCCESS] 15 pedidos importados com sucesso","08:47 [INFO] Processando roteiros de produção...","08:48 [SUCCESS] Roteiros carregados para 12 produtos","08:49 [WARNING] 3 produtos sem roteiro definido","08:50 [INFO] Calculando tempos de produção...","08:51 [SUCCESS] Importação finalizada"];s(I),d(D),f(k),x(V)},[]);const T=async()=>{try{await e(),r(Rt.landing)}catch(I){console.error("Logout failed:",I)}},S=()=>{const I=`${new Date().toLocaleTimeString()} [INFO] Importação manual iniciada...`;x(D=>[...D,I]),_(new Date)},N={totalAlerts:c.length,activeAlerts:c.filter(I=>I.status==="active").length,resolvedAlerts:c.filter(I=>I.status==="resolved").length,totalOrders:i.length,pendingOrders:i.filter(I=>I.status==="pending").length,completedOrders:i.filter(I=>I.status==="completed").length,productivity:84,efficiency:84};if(n)return l.jsx("div",{className:"dashboard-loading",children:l.jsx("p",{children:"Carregando dashboard..."})});if(!t)return r(Rt.login),null;const P=t.name||t.displayName||t.email;return l.jsx("div",{className:"dashboard-page",children:l.jsxs("div",{className:"dashboard-container",children:[l.jsx(wF,{userName:P,lastSync:w,onImportBling:S,onLogout:T}),l.jsx(SF,{stats:N}),l.jsxs("div",{className:"dashboard-content",children:[l.jsx(TF,{orders:i,filterStatus:p,onFilterChange:v}),l.jsxs("div",{className:"sidebar-section",children:[l.jsx(EF,{alerts:c}),l.jsx(AF,{sectors:h})]})]})]})})}function sj(){return l.jsx(jF,{})}function NF({viewMode:t,setViewMode:e,currentTime:n,onStartShift:r,onStopShift:i,isShiftStarted:s=!1,elapsedTime:c=null,hasActiveWorkRecord:d=!1}){return l.jsxs("div",{className:"schedule-header",children:[l.jsx("div",{className:"header-info",children:l.jsx("h1",{children:"Agenda do Operador"})}),l.jsxs("div",{className:"header-controls",children:[l.jsx("div",{className:"shift-control",children:s?l.jsxs("div",{className:"shift-status",children:[c&&l.jsx("span",{className:"elapsed-time",children:c}),l.jsxs("button",{className:"stop-shift-btn",onClick:i,title:"Parar Jornada de Trabalho",children:[l.jsx("span",{className:"btn-icon",children:"⏹"}),l.jsx("span",{className:"btn-text",children:"Parar"})]})]}):l.jsxs("button",{className:"start-shift-btn",onClick:r,title:d?"Continuar Jornada de Trabalho":"Iniciar Jornada de Trabalho",children:[l.jsx("span",{className:"btn-icon",children:"▶"}),l.jsx("span",{className:"btn-text",children:d?"Continuar Jornada":"Iniciar Jornada"})]})}),l.jsxs("div",{className:"view-toggle",children:[l.jsx("button",{className:`toggle-btn ${t==="day"?"active":""}`,onClick:()=>e("day"),children:"Dia"}),l.jsx("button",{className:`toggle-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"})]}),l.jsxs("div",{className:"current-time",children:[l.jsx("span",{className:"time-label",children:"Hora Atual"}),l.jsx("span",{className:"time-value",children:n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})}function CF({stats:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(El,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",children:[t.tasksCompleted,"/",t.dailyTarget]}),l.jsx("div",{className:"stat-label",children:"Tarefas Concluídas"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Xh,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency,"%"]}),l.jsx("div",{className:"stat-label",children:"Eficiência Média"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(rn,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:n(t.totalWorkTime)}),l.jsx("div",{className:"stat-label",children:"Tempo Trabalhado"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(SC,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",children:["#",t.ranking]}),l.jsx("div",{className:"stat-label",children:"Ranking Equipe"})]})]})]})}function OF({currentTask:t,activeBreak:e,currentTime:n,handlePauseTask:r,handleCompleteTask:i,handleStartBreak:s,handleEndBreak:c,calculateProgress:d,calculateActualTime:h}){return t?l.jsxs("div",{className:"current-task-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h3",{children:"Tarefa Atual"}),l.jsx("div",{className:"task-timer",children:t.actualStartTime&&l.jsxs("span",{children:["Iniciada às ",t.actualStartTime," •"," ",Math.floor(h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))/60),"h"," ",h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))%60,"m"]})})]}),l.jsxs("div",{className:"current-task-content",children:[l.jsxs("div",{className:"task-info",children:[l.jsx("h4",{children:t.activity}),l.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),l.jsx("p",{className:"task-description",children:t.description}),l.jsxs("div",{className:"task-progress",children:[l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar",style:{width:`${d(t)}%`}})}),l.jsxs("span",{className:"progress-text",children:[Math.round(d(t)),"%"]})]})]}),l.jsxs("div",{className:"task-controls",children:[l.jsxs("div",{className:"break-controls",children:[l.jsx("h5",{children:"Pausas"}),l.jsx("div",{className:"break-buttons",children:e?l.jsxs("div",{className:"active-break",children:[l.jsxs("span",{children:["Pausa: ",e.type," desde ",e.startTime]}),l.jsx("button",{className:"end-break-btn",onClick:c,children:"Finalizar Pausa"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"break-btn coffee",onClick:()=>s("coffee"),children:[l.jsx(UM,{})," Café"]}),l.jsxs("button",{className:"break-btn lunch",onClick:()=>s("lunch"),children:[l.jsx(h7,{})," Almoço"]}),l.jsxs("button",{className:"break-btn bathroom",onClick:()=>s("bathroom"),children:[l.jsx(e7,{})," Banheiro"]}),l.jsxs("button",{className:"break-btn other",onClick:()=>s("other"),children:[l.jsx(W2,{})," Outra"]})]})})]}),l.jsxs("div",{className:"task-actions",children:[l.jsxs("button",{className:"action-btn pause",onClick:()=>r(t.id),children:[l.jsx(W2,{})," Pausar"]}),l.jsxs("button",{className:"action-btn nonconformity",children:[l.jsx(Gt,{})," Não Conformidade"]}),l.jsxs("button",{className:"action-btn complete",onClick:()=>i(t.id),children:[l.jsx(Ya,{})," Finalizar"]})]})]})]})]}):null}function IF({task:t,handleStartTask:e,getTaskStatusColor:n,getPriorityColor:r,getEfficiencyColor:i,formatTime:s}){return l.jsxs("div",{className:`task-card ${t.status}`,children:[l.jsxs("div",{className:"task-timeline",children:[l.jsxs("div",{className:"time-slot",children:[l.jsx("span",{className:"start-time",children:t.startTime}),l.jsx("span",{className:"end-time",children:t.endTime})]}),l.jsx("div",{className:"timeline-indicator",style:{backgroundColor:n(t.status)},children:l.jsx("div",{className:"timeline-dot"})})]}),l.jsxs("div",{className:"task-details",children:[l.jsxs("div",{className:"task-header",children:[l.jsx("h4",{className:"task-title",children:t.activity}),l.jsxs("div",{className:"task-badges",children:[l.jsx("span",{className:"priority-badge",style:{backgroundColor:r(t.priority)},children:t.priority.toUpperCase()}),l.jsx("span",{className:"status-badge",children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),l.jsx("p",{className:"task-description",children:t.description}),l.jsxs("div",{className:"task-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Estimado:"}),l.jsx("span",{className:"metric-value",children:s(t.estimatedTime+t.setupTime)})]}),t.actualTime&&l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Real:"}),l.jsx("span",{className:"metric-value",children:s(t.actualTime)})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Eficiência:"}),l.jsx("span",{className:"metric-value",style:{color:t.actualTime?i(t.estimatedTime/t.actualTime*100):"#4a5568"},children:t.actualTime?`${Math.round(t.estimatedTime/t.actualTime*100)}%`:"N/A"})]})]}),l.jsxs("div",{className:"task-skills",children:[l.jsx("span",{className:"skills-label",children:"Habilidades:"}),t.requiredSkills.map((c,d)=>l.jsx("span",{className:"skill-tag",children:c},d))]}),t.status==="pending"&&l.jsx("div",{className:"task-actions",children:l.jsxs("button",{className:"start-btn",onClick:()=>e(t.id),children:[l.jsx(ZM,{})," Iniciar Tarefa"]})}),t.breaks.length>0&&l.jsxs("div",{className:"task-breaks",children:[l.jsx("span",{className:"breaks-label",children:"Pausas:"}),t.breaks.map((c,d)=>l.jsxs("span",{className:"break-tag",children:[c.type," (",c.duration,"min)"]},d))]})]})]})}function RF({tasks:t,currentDate:e,setCurrentDate:n,handleStartTask:r,getTaskStatusColor:i,getPriorityColor:s,getEfficiencyColor:c,formatTime:d,onDateChange:h}){return l.jsxs("div",{className:"tasks-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{children:"Tarefas do Dia"}),l.jsxs("div",{className:"date-selector",children:[l.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()-864e5);n(f),h?.(f)},children:"←"}),l.jsx("span",{className:"current-date",children:e.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()+864e5);n(f),h?.(f)},children:"→"})]})]}),l.jsx("div",{className:"tasks-list",children:t.map(f=>l.jsx(IF,{task:f,handleStartTask:r,getTaskStatusColor:i,getPriorityColor:s,getEfficiencyColor:c,formatTime:d},f.id))})]})}function PF({tasks:t,onFilterChange:e,onSortChange:n,currentTask:r,onQuickAction:i}){const[s,c]=A.useState("all"),[d,h]=A.useState("time"),[f,p]=A.useState(!0),v={total:t.length,pending:t.filter(S=>S.status==="pending").length,completed:t.filter(S=>S.status==="completed").length,urgent:t.filter(S=>S.priority==="urgent").length,delayed:t.filter(S=>S.status==="delayed").length},x=S=>{c(S);let N=[...t];switch(S){case"priority":N=t.filter(P=>P.priority==="urgent"||P.priority==="high");break;case"sector":{const P=t.reduce((D,k)=>(D[k.sector]=(D[k.sector]||0)+1,D),{}),I=Object.keys(P).reduce((D,k)=>P[D]>P[k]?D:k);N=t.filter(D=>D.sector===I);break}case"status":N=t.filter(P=>P.status==="pending"||P.status==="in_progress");break;case"upcoming":{const P=new Date,I=P.getHours()*60+P.getMinutes();N=t.filter(D=>{const[k,V]=D.startTime.split(":").map(Number);return k*60+V>I&&D.status==="pending"});break}default:N=t}e(N)},w=S=>{h(S);const N=[...t];switch(S){case"time":N.sort((P,I)=>{const D=P.startTime.split(":").map(Number),k=I.startTime.split(":").map(Number);return D[0]*60+D[1]-(k[0]*60+k[1])});break;case"priority":{const P={urgent:4,high:3,medium:2,low:1};N.sort((I,D)=>P[D.priority]-P[I.priority]);break}case"duration":N.sort((P,I)=>I.estimatedTime+I.setupTime-(P.estimatedTime+P.setupTime));break;case"sector":N.sort((P,I)=>P.sector.localeCompare(I.sector));break}n(N)},_=[{id:"start-next",icon:l.jsx(G2,{}),label:"Iniciar Próxima",action:()=>i("start-next"),disabled:!t.find(S=>S.status==="pending")||!!r},{id:"pause-current",icon:l.jsx(rn,{}),label:"Pausar Atual",action:()=>i("pause-current"),disabled:!r||r.status!=="in_progress"},{id:"complete-current",icon:l.jsx(Ya,{}),label:"Finalizar Atual",action:()=>i("complete-current"),disabled:!r},{id:"emergency-break",icon:l.jsx(Gt,{}),label:"Pausa Emergência",action:()=>i("emergency-break"),disabled:!1}],T=S=>{const N=Math.floor(S/60),P=S%60;return N>0?`${N}h ${P}m`:`${P}m`};return l.jsxs("div",{className:`quick-actions-panel ${f?"expanded":"collapsed"}`,children:[l.jsxs("div",{className:"panel-header",children:[l.jsxs("div",{className:"panel-title",children:[l.jsx("span",{className:"panel-icon",children:l.jsx(Xh,{})}),l.jsx("span",{children:"Ações Rápidas"})]}),l.jsx("button",{className:"expand-btn",onClick:()=>p(!f),children:f?l.jsx(WM,{}):l.jsx(Mp,{})})]}),f&&l.jsxs("div",{className:"panel-content",children:[l.jsxs("div",{className:"quick-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value",children:v.total}),l.jsx("span",{className:"stat-label",children:"Total"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value pending",children:v.pending}),l.jsx("span",{className:"stat-label",children:"Pendentes"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value completed",children:v.completed}),l.jsx("span",{className:"stat-label",children:"Concluídas"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value urgent",children:v.urgent}),l.jsx("span",{className:"stat-label",children:"Urgentes"})]})]}),l.jsxs("div",{className:"filters-container",children:[l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{children:"Filtros"}),l.jsxs("div",{className:"filter-buttons",children:[l.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>x("all"),children:[l.jsx(wu,{})," Todas"]}),l.jsxs("button",{className:`filter-btn ${s==="priority"?"active":""}`,onClick:()=>x("priority"),children:[l.jsx(_C,{})," Prioridade"]}),l.jsxs("button",{className:`filter-btn ${s==="status"?"active":""}`,onClick:()=>x("status"),children:[l.jsx(rn,{})," Ativas"]}),l.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>x("upcoming"),children:[l.jsx(G2,{})," Próximas"]})]})]}),l.jsxs("div",{className:"sort-section",children:[l.jsx("h4",{children:"Ordenar por"}),l.jsxs("div",{className:"sort-buttons",children:[l.jsxs("button",{className:`sort-btn ${d==="time"?"active":""}`,onClick:()=>w("time"),children:[l.jsx(rn,{})," Horário"]}),l.jsxs("button",{className:`sort-btn ${d==="priority"?"active":""}`,onClick:()=>w("priority"),children:[l.jsx(r7,{})," Prioridade"]}),l.jsxs("button",{className:`sort-btn ${d==="duration"?"active":""}`,onClick:()=>w("duration"),children:[l.jsx(rn,{})," Duração"]}),l.jsxs("button",{className:`sort-btn ${d==="sector"?"active":""}`,onClick:()=>w("sector"),children:[l.jsx(kp,{})," Setor"]})]})]})]}),l.jsxs("div",{className:"actions-section",children:[l.jsx("h4",{children:"Ações"}),l.jsx("div",{className:"action-buttons",children:_.map(S=>l.jsxs("button",{className:`action-btn ${S.disabled?"disabled":""}`,onClick:S.action,disabled:S.disabled,title:S.label,children:[l.jsx("span",{className:"action-icon",children:S.icon}),l.jsx("span",{className:"action-label",children:S.label})]},S.id))})]}),r&&l.jsxs("div",{className:"current-task-info",children:[l.jsx("h4",{children:"Tarefa Atual"}),l.jsxs("div",{className:"task-summary",children:[l.jsxs("div",{className:"task-header",children:[l.jsx("span",{className:"task-name",children:r.activity}),l.jsx("span",{className:`task-priority priority-${r.priority}`,children:r.priority.toUpperCase()})]}),l.jsxs("div",{className:"task-details",children:[l.jsx("span",{className:"task-sector",children:r.sector}),l.jsx("span",{className:"task-duration",children:T(r.estimatedTime+r.setupTime)})]}),l.jsxs("div",{className:"task-timeline",children:[l.jsx("span",{children:r.startTime}),l.jsx("span",{children:"→"}),l.jsx("span",{children:r.endTime})]})]})]})]})]})}function DF({workShifts:t}){const e=i=>i,n=i=>i,r=i=>i==="completed"?"var(--success-color)":"var(--warning-color)";return t.length===0?l.jsx("div",{className:"work-shifts-history empty",children:l.jsx("p",{children:"Nenhuma jornada registrada hoje"})}):l.jsxs("div",{className:"work-shifts-history",children:[l.jsx("h3",{children:"Histórico de Jornadas de Hoje"}),l.jsx("div",{className:"shifts-list",children:t.map(i=>l.jsxs("div",{className:"shift-card",children:[l.jsxs("div",{className:"shift-header",children:[l.jsxs("div",{className:"shift-time",children:[l.jsxs("span",{className:"start-time",children:[l.jsx("strong",{children:"Início:"})," ",e(i.startTime)]}),l.jsxs("span",{className:"end-time",children:[l.jsx("strong",{children:"Fim:"})," ",e(i.endTime)]})]}),l.jsx("div",{className:"shift-status",style:{color:r(i.status)},children:i.status==="completed"?"✓ Concluída":"⚠ Interrompida"})]}),l.jsxs("div",{className:"shift-details",children:[l.jsxs("div",{className:"duration",children:[l.jsx("strong",{children:"Tempo Total:"})," ",n(i.duration)]}),i.notes&&l.jsxs("div",{className:"notes",children:[l.jsx("strong",{children:"Observações:"})," ",i.notes]})]})]},i.id))})]})}function kF({workTimeRecords:t}){const e=c=>c,n=c=>c,r=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),i=c=>{switch(c){case"completed":return"var(--success-color)";case"active":return"var(--primary-color)";case"interrupted":return"var(--warning-color)";default:return"var(--text-secondary)"}},s=c=>{switch(c){case"completed":return"✓ Concluído";case"active":return"🔄 Ativo";case"interrupted":return"⚠ Interrompido";default:return"❓ Desconhecido"}};return t.length===0?l.jsx("div",{className:"work-time-records empty",children:l.jsx("p",{children:"Nenhum registro de tempo trabalhado encontrado"})}):l.jsxs("div",{className:"work-time-records",children:[l.jsx("h3",{children:"Registros de Tempo Trabalhado"}),l.jsx("div",{className:"records-list",children:t.map(c=>l.jsxs("div",{className:"record-card",children:[l.jsxs("div",{className:"record-header",children:[l.jsxs("div",{className:"record-date",children:[l.jsx("strong",{children:"Data:"})," ",r(c.date)]}),l.jsx("div",{className:"record-status",style:{color:i(c.status)},children:s(c.status)})]}),l.jsxs("div",{className:"record-details",children:[l.jsxs("div",{className:"time-info",children:[l.jsxs("div",{className:"time-range",children:[l.jsxs("span",{className:"start-time",children:[l.jsx("strong",{children:"Início:"})," ",e(c.startTime)]}),l.jsxs("span",{className:"end-time",children:[l.jsx("strong",{children:"Fim:"})," ",e(c.endTime)]})]}),l.jsxs("div",{className:"duration",children:[l.jsx("strong",{children:"Tempo Total:"})," ",n(c.duration)]})]}),l.jsxs("div",{className:"time-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Minutos:"}),l.jsxs("span",{className:"metric-value",children:[c.totalMinutes," min"]})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Segundos:"}),l.jsxs("span",{className:"metric-value",children:[c.totalSeconds," seg"]})]})]}),c.notes&&l.jsxs("div",{className:"notes",children:[l.jsx("strong",{children:"Observações:"})," ",c.notes]})]})]},c.id))})]})}const oj=async(t,e)=>{try{const n=Xn(Xe,"Agenda"),r=xi(n,ur("userId","==",t),ur("date","==",e),Sx("time","asc"));return(await Jr(r)).docs.map(s=>({...s.data(),id:s.id}))}catch(n){throw console.error("Erro ao buscar agenda do usuário por data:",n),n}},sR=async t=>{try{const e=Lt(Xe,"Agenda",t),n=await Va(e);return n.exists()?{...n.data(),id:n.id}:null}catch(e){throw console.error("Erro ao buscar item da agenda:",e),e}},d1=async(t,e)=>{try{const n=Lt(Xe,"Agenda",t),r={status:e,updatedAt:new Date().toISOString()};e==="in_progress"?r.actualStartTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):e==="completed"&&(r.actualEndTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),await Rr(n,r)}catch(n){throw console.error("Erro ao atualizar status do item da agenda:",n),n}},MF=async(t,e)=>{try{const n=Lt(Xe,"Agenda",t),r={...e,id:`break-${Date.now()}`},i=await sR(t);if(!i)throw new Error("Item da agenda não encontrado");const s=[...i.breaks,r];await Rr(n,{breaks:s,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao adicionar pausa ao item da agenda:",n),n}},LF=async(t,e)=>{try{const n=Lt(Xe,"Agenda",t),r=await sR(t);if(!r)throw new Error("Item da agenda não encontrado");const i=r.breaks.map(s=>{if(s.id===e&&!s.endTime){const c=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),d=VF(s.startTime,c);return{...s,endTime:c,duration:d}}return s});await Rr(n,{breaks:i,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao finalizar pausa do item da agenda:",n),n}},VF=(t,e)=>{const[n,r]=t.split(":").map(Number),[i,s]=e.split(":").map(Number);return i*60+s-(n*60+r)},UF=async(t,e,n,r,i,s)=>{try{const d=new Date().toISOString().split("T")[0],h={userId:t,date:d,startTime:e,endTime:n,duration:r,totalMinutes:i,status:"completed",notes:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},f=Xn(Xe,"WorkShifts"),p=await mv(f,h);return await Rr(p,{id:p.id}),console.log(`Jornada salva com ID: ${p.id}`),p.id}catch(c){throw console.error("Erro ao salvar jornada:",c),c}},BF=async(t,e,n)=>{try{const r=Xn(Xe,"WorkShifts");let i=xi(r,ur("userId","==",t));return e&&n&&(i=xi(i,ur("date",">=",e),ur("date","<=",n))),i=xi(i,Sx("date","desc"),Sx("startTime","desc")),(await Jr(i)).docs.map(c=>({...c.data(),id:c.id}))}catch(r){throw console.error("Erro ao buscar jornadas:",r),r}},zF=async t=>{try{const e=new Date().toISOString().split("T")[0];return await BF(t,e,e)}catch(e){throw console.error("Erro ao buscar jornadas de hoje:",e),e}},vh=async t=>{try{const e=new Date().toISOString().split("T")[0],n=Xn(Xe,"WorkTimeRecords"),r=xi(n,ur("operatorId","==",t),ur("date","==",e)),i=await Jr(r);if(i.empty)return null;const s=i.docs[0];return{...s.data(),id:s.id}}catch(e){throw console.error("Erro ao buscar registro de tempo trabalhado de hoje:",e),e}},lj=async(t,e,n,r,i,s,c)=>{try{const h=new Date().toISOString().split("T")[0],f=await vh(e),[p,v,x]=i.split(":").map(Number),w=p*3600+v*60+x;if(console.log(`Salvando registro - Duration: ${i}, Hours: ${p}, Minutes: ${v}, Seconds: ${x}`),console.log(`Total minutes: ${s}, Total seconds: ${w}`),f){const _=Lt(Xe,"WorkTimeRecords",f.id),T={endTime:r,duration:i,totalMinutes:s,totalSeconds:w,status:"completed",notes:c,updatedAt:new Date().toISOString()};return await Rr(_,T),console.log(`Registro de tempo trabalhado atualizado com ID: ${f.id}`),f.id}else{const _={userId:t,operatorId:e,date:h,startTime:n,endTime:r,duration:i,totalMinutes:s,totalSeconds:w,status:"completed",notes:c,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},T=Xn(Xe,"WorkTimeRecords"),S=await mv(T,_);return await Rr(S,{id:S.id}),console.log(`Novo registro de tempo trabalhado criado com ID: ${S.id}`),S.id}}catch(d){throw console.error("Erro ao salvar/atualizar registro de tempo trabalhado:",d),d}},qF=async(t,e,n)=>{try{const r=await vh(t);if(r){const[i,s,c]=e.split(":").map(Number),d=i*3600+s*60+c,h=Lt(Xe,"WorkTimeRecords",r.id),f={duration:e,totalMinutes:n,totalSeconds:d,status:"active",updatedAt:new Date().toISOString()};await Rr(h,f),console.log(`Duração do registro atualizada: ${e}`)}}catch(r){throw console.error("Erro ao atualizar duração do registro:",r),r}},cj=t=>({id:t.id,orderId:t.orderId,productName:t.productName,activity:t.activity,sector:t.sector,sectorId:t.sectorId,description:t.description,estimatedTime:t.estimatedTime,setupTime:t.setupTime,startTime:t.startTime,endTime:t.endTime,status:t.status,actualStartTime:t.actualStartTime,actualEndTime:t.actualEndTime,actualTime:t.actualTime,priority:t.priority,requiredSkills:t.requiredSkills,breaks:t.breaks,nonConformities:t.nonConformities,assignedOperatorId:t.assignedOperatorId,routeId:t.routeId,stepId:t.stepId,qualityChecks:t.qualityChecks,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system"});function $F(){const{user:t}=la(),[e,n]=A.useState(new Date),[r,i]=A.useState("day"),[s,c]=A.useState([]),[d,h]=A.useState([]),[f,p]=A.useState(null),[v,x]=A.useState(null),[w,_]=A.useState({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),[T,S]=A.useState(new Date),[N,P]=A.useState(!1),[I,D]=A.useState(null),[k,V]=A.useState(null),[j,R]=A.useState(null),[L,F]=A.useState([]),[z,q]=A.useState([]);A.useEffect(()=>{const se=async()=>{if(t?.id)try{const be=new Date().toISOString().split("T")[0],Re=(await oj(t.id,be)).map(cj);c(Re),h(Re),_({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:Re.length,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),p(null)}catch(Ee){console.error("Erro ao buscar dados da agenda:",Ee),c([]),h([]),_({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),p(null)}};(async()=>{await se(),await te(),await de()})()},[t?.id]),A.useEffect(()=>{(async()=>{if(t?.id)try{const Z=await vh(t.id);if(Z)if(console.log("Registro de tempo trabalhado encontrado:",Z),Z.status==="active"){P(!0),D(Z.startTime);const[Ee,be]=Z.startTime.split(":").map(Number),Ue=new Date;Ue.setHours(Ee,be,0,0),R(Ue.getTime()),V(Z.duration),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",Z.startTime),localStorage.setItem("shiftStartTimestamp",Ue.getTime().toString()),localStorage.setItem("shiftStartDate",new Date().toDateString()),console.log("Jornada ativa restaurada do documento existente")}else console.log("Jornada já finalizada, carregando dados para exibição"),await de();else{const Ee=localStorage.getItem("shiftStarted"),be=localStorage.getItem("shiftStartTime"),Ue=localStorage.getItem("shiftStartDate"),Re=localStorage.getItem("shiftStartTimestamp"),Je=new Date().toDateString();Ee==="true"&&Ue===Je&&be&&Re?(P(!0),D(be),R(parseInt(Re)),V($(parseInt(Re)))):(localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"))}}catch(Z){console.error("Erro ao verificar registro de tempo trabalhado:",Z)}})()},[t?.id]),A.useEffect(()=>{const se=setInterval(()=>{S(new Date),N&&j&&V($(j))},1e3);return()=>clearInterval(se)},[N,j]),A.useEffect(()=>{if(N&&I&&k){const[se,Z,Ee]=k.split(":").map(Number),be=se*60+Z+Ee/60;_(Ue=>({...Ue,totalWorkTime:Math.round(be)}))}else if(!N&&z.length>0){const se=z[0];se&&se.status==="completed"&&(_(Z=>({...Z,totalWorkTime:se.totalMinutes})),console.log(`Tempo trabalhado carregado do documento: ${se.duration} (${se.totalMinutes} min)`))}else N||_(se=>({...se,totalWorkTime:0}))},[N,I,k,z]),A.useEffect(()=>{if(N&&k&&t?.id){const se=setInterval(async()=>{try{const[Z,Ee,be]=k.split(":").map(Number),Ue=Z*60+Ee+be/60;await qF(t.id,k,Math.round(Ue))}catch(Z){console.error("Erro ao atualizar duração do registro:",Z)}},3e4);return()=>clearInterval(se)}},[N,k,t?.id]),A.useEffect(()=>{const se=s.filter(Re=>Re.status==="completed").length,Z=s.length,Ee=s.filter(Re=>Re.status==="completed"&&Re.actualTime&&Re.actualTime<=Re.estimatedTime+Re.setupTime).length,be=s.reduce((Re,Je)=>Re+Je.breaks.length,0),Ue=s.reduce((Re,Je)=>Re+Je.breaks.reduce((zn,mr)=>zn+(mr.duration||0),0),0);_(Re=>({...Re,tasksCompleted:se,averageEfficiency:Z>0?se/Z*100:0,onTimeCompletion:Z>0?Ee/Z*100:0,dailyTarget:Z,totalBreaks:be,totalBreakTime:Ue}))},[s]);const $=se=>{const Ee=Date.now()-se;if(Ee<0)return"00:00:00";const be=Math.floor(Ee/(1e3*60*60)),Ue=Math.floor(Ee%(1e3*60*60)/(1e3*60)),Re=Math.floor(Ee%(1e3*60)/1e3);return`${be.toString().padStart(2,"0")}:${Ue.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`},Ne=async()=>{if(t?.id)try{const se=new Date,Z=se.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Ee=se.getTime();await vh(t.id)||(await lj(t.id,t.id,Z,Z,"00:00:00",0,"Jornada iniciada - documento criado"),console.log("Documento de tempo trabalhado criado para hoje")),V("00:00:00"),R(Ee),P(!0),D(Z),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",Z),localStorage.setItem("shiftStartTimestamp",Ee.toString()),localStorage.setItem("shiftStartDate",se.toDateString()),await de(),console.log(`Jornada iniciada às ${Z}`)}catch(se){console.error("Erro ao iniciar jornada:",se),alert("Erro ao iniciar jornada. Tente novamente.")}},me=async()=>{if(!(!t?.id||!I||!k))try{const se=k,Ee=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),[be,Ue,Re]=se.split(":").map(Number),Je=be*60+Ue+Re/60;console.log(`Finalizando jornada - Tempo decorrido: ${se}, Total minutos: ${Math.round(Je)}`);const zn=await UF(t.id,I,Ee,se,Math.round(Je),"Jornada finalizada pelo operador");console.log(`Jornada salva com ID: ${zn}`);const mr=await lj(t.id,t.id,I,Ee,se,Math.round(Je),`Jornada finalizada - Jornada ID: ${zn}`);console.log(`Registro de tempo trabalhado atualizado com ID: ${mr}`),P(!1),D(null),R(null),V(null),localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"),await te(),await de(),console.log(`Jornada finalizada às ${Ee}. Tempo total: ${se}`)}catch(se){console.error("Erro ao salvar jornada:",se),alert("Erro ao salvar jornada. Tente novamente.")}},te=async()=>{if(t?.id)try{const se=await zF(t.id);F(se)}catch(se){console.error("Erro ao carregar jornadas do dia:",se)}},de=async()=>{if(t?.id)try{const se=await vh(t.id);se?(q([se]),console.log(`Carregado registro de tempo trabalhado de hoje: ${se.duration}`)):(q([]),console.log("Nenhum registro de tempo trabalhado encontrado para hoje"))}catch(se){console.error("Erro ao carregar registro de tempo trabalhado:",se)}},ae=async se=>{if(t?.id)try{const Z=se.toISOString().split("T")[0],be=(await oj(t.id,Z)).map(cj);c(be),h(be),p(be.find(Ct=>Ct.status==="in_progress")||null);const Ue=be.filter(Ct=>Ct.status==="completed").length,Re=be.length,Je=be.filter(Ct=>Ct.status==="completed"&&Ct.actualTime&&Ct.actualTime<=Ct.estimatedTime+Ct.setupTime).length,zn=be.reduce((Ct,ci)=>Ct+ci.breaks.length,0),mr=be.reduce((Ct,ci)=>Ct+ci.breaks.reduce((Lu,fs)=>Lu+(fs.duration||0),0),0);_(Ct=>({...Ct,tasksCompleted:Ue,averageEfficiency:Re>0?Ue/Re*100:0,totalWorkTime:0,onTimeCompletion:Re>0?Je/Re*100:0,dailyTarget:Re,totalBreaks:zn,totalBreakTime:mr}))}catch(Z){console.error("Erro ao buscar agenda por data:",Z)}},_e=async se=>{if(t?.id)try{f&&await G(f.id),await d1(se,"in_progress"),c(Ee=>Ee.map(be=>be.id===se?{...be,status:"in_progress",actualStartTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}:be));const Z=s.find(Ee=>Ee.id===se);Z&&p({...Z,status:"in_progress"})}catch(Z){console.error("Erro ao iniciar tarefa:",Z)}},K=async se=>{if(t?.id)try{const Z=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});await d1(se,"completed"),c(Ee=>Ee.map(be=>be.id===se?{...be,status:"completed",actualEndTime:Z,actualTime:be.actualStartTime?xe(be.actualStartTime,Z):be.estimatedTime}:be)),p(null)}catch(Z){console.error("Erro ao completar tarefa:",Z)}},G=async se=>{if(t?.id)try{await d1(se,"paused"),c(Z=>Z.map(Ee=>Ee.id===se?{...Ee,status:"pending"}:Ee)),f?.id===se&&p(null)}catch(Z){console.error("Erro ao pausar tarefa:",Z)}},B=async se=>{if(!(!f?.id||!t?.id))try{const Z={id:`break-${Date.now()}`,type:se,startTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.id,updatedBy:t.id};await MF(f.id,Z),x(Z)}catch(Z){console.error("Erro ao iniciar pausa:",Z)}},X=async()=>{if(!(!v?.id||!f?.id||!t?.id))try{await LF(f.id,v.id);const se=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Z=xe(v.startTime,se),Ee={...v,endTime:se,duration:Z};c(be=>be.map(Ue=>Ue.id===f.id?{...Ue,breaks:[...Ue.breaks,Ee]}:Ue))}catch(se){console.error("Erro ao finalizar pausa:",se)}finally{x(null)}},pe=async se=>{switch(se){case"start-next":{const Z=s.find(Ee=>Ee.status==="pending");Z&&await _e(Z.id);break}case"pause-current":f&&await G(f.id);break;case"complete-current":f&&await K(f.id);break;case"emergency-break":f&&(await G(f.id),await B("other"));break}},xe=(se,Z)=>{const[Ee,be]=se.split(":").map(Number),[Ue,Re]=Z.split(":").map(Number);return Ue*60+Re-(Ee*60+be)},Se=se=>{switch(se){case"pending":return"#e2e8f0";case"in_progress":return"#bee3f8";case"active":return"#fbb040";case"completed":return"#c6f6d5";case"overdue":return"#fed7d7";default:return"#e2e8f0"}},Fe=se=>{switch(se){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"urgent":return"#e53e3e";default:return"#4a5568"}},$e=se=>se>=95?"#48bb78":se>=85?"#fbb040":"#f56565",ge=se=>{const Z=Math.floor(se/60),Ee=se%60;return`${Z}h ${Ee}m`},ke=se=>{if(se.status==="completed")return 100;if(se.status==="pending")return 0;const Z=new Date,[Ee,be]=se.startTime.split(":").map(Number),[Ue,Re]=se.endTime.split(":").map(Number),Je=new Date;Je.setHours(Ee,be,0,0);const zn=new Date;zn.setHours(Ue,Re,0,0);const mr=zn.getTime()-Je.getTime(),Ct=Z.getTime()-Je.getTime();return Math.min(Math.max(Ct/mr*100,0),100)};return l.jsx("div",{className:"schedule-page",children:l.jsxs("div",{className:"schedule-container",children:[l.jsx(NF,{user:t,viewMode:r,setViewMode:i,currentTime:T,onStartShift:Ne,onStopShift:me,isShiftStarted:N,shiftStartTime:I,elapsedTime:k,hasActiveWorkRecord:z.length>0}),l.jsx(CF,{stats:w,getEfficiencyColor:$e,formatTime:ge}),l.jsx(PF,{tasks:s,currentTask:f,onFilterChange:h,onSortChange:se=>{c(se),h(se)},onQuickAction:pe}),l.jsxs("div",{className:"schedule-content",children:[l.jsx(OF,{currentTask:f,activeBreak:v,currentTime:T,handlePauseTask:G,handleCompleteTask:K,handleStartBreak:B,handleEndBreak:X,calculateProgress:ke,calculateActualTime:xe}),l.jsx(RF,{tasks:d,currentDate:e,setCurrentDate:n,handleStartTask:_e,getTaskStatusColor:Se,getPriorityColor:Fe,getEfficiencyColor:$e,formatTime:ge,onDateChange:ae})]}),l.jsx(DF,{workShifts:L}),l.jsx(kF,{workTimeRecords:z})]})})}const FF=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState([]),[c,d]=A.useState(null),h=(p,v)=>v===0?0:p/v*100,f=(p,v)=>p===0?0:v/p*100;return A.useEffect(()=>{const p=[{id:"task-001",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Corte de Peças",sector:"Corte",description:"Cortar 100 peças conforme especificação técnica.",estimatedTime:120,setupTime:30,startTime:"08:00",endTime:"10:30",status:"completed",actualStartTime:"08:05",actualEndTime:"10:25",actualTime:140,priority:"high",requiredSkills:["Corte","Medição"],breaks:[],nonConformities:[],sectorId:"corte-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T10:25:00Z",createdBy:"system",updatedBy:"system"},{id:"task-002",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Montagem Principal",sector:"Montagem",description:"Montar componentes principais seguindo roteiro.",estimatedTime:180,setupTime:45,startTime:"10:30",endTime:"14:15",status:"completed",actualStartTime:"10:35",actualEndTime:"14:00",actualTime:165,priority:"high",requiredSkills:["Montagem","Torque"],breaks:[{id:"break-001",type:"coffee",startTime:"12:00",endTime:"12:15",duration:15,createdAt:"2024-01-20T12:00:00Z",updatedAt:"2024-01-20T12:15:00Z",createdBy:"system",updatedBy:"system"}],nonConformities:[],sectorId:"montagem-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system"},{id:"task-003",orderId:"OP-2024-002",productName:"Produto B - Modelo Y",activity:"Acabamento Final",sector:"Acabamento",description:"Aplicar acabamento final e inspeção de qualidade.",estimatedTime:90,setupTime:15,startTime:"14:15",endTime:"15:45",status:"completed",actualStartTime:"14:20",actualEndTime:"15:35",actualTime:75,priority:"medium",requiredSkills:["Acabamento","Inspeção"],breaks:[],nonConformities:[],sectorId:"acabamento-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system"},{id:"task-004",orderId:"OP-2024-003",productName:"Produto C - Modelo Z",activity:"Preparação Material",sector:"Preparação",description:"Separar e preparar materiais para produção.",estimatedTime:60,setupTime:20,startTime:"15:45",endTime:"17:05",status:"delayed",actualStartTime:"15:50",actualEndTime:"17:20",actualTime:90,priority:"low",requiredSkills:["Preparação"],breaks:[],nonConformities:[],sectorId:"preparacao-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system"},{id:"task-005",orderId:"OP-2024-004",productName:"Produto D - Modelo W",activity:"Inspeção Qualidade",sector:"Qualidade",description:"Inspeção final de qualidade conforme especificação.",estimatedTime:45,setupTime:10,startTime:"08:00",endTime:"09:00",status:"completed",actualStartTime:"08:02",actualEndTime:"08:50",actualTime:48,priority:"urgent",requiredSkills:["Qualidade","Inspeção"],breaks:[],nonConformities:[],sectorId:"qualidade-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system"}],v={"Corte de Peças":105,"Montagem Principal":160,"Acabamento Final":70,"Preparação Material":55,"Inspeção Qualidade":40},x=p.filter(D=>D.status==="completed"||D.status==="delayed").map(D=>{const k=D.estimatedTime+D.setupTime,V=D.actualTime||k,j=v[D.activity]||k*.9,R=h(k,V),L=f(V,j);return{operatorId:"op-001",operatorName:"João Silva",taskId:D.id,taskName:D.activity,orderId:D.orderId,orderName:D.productName,sector:D.sector,shift:"morning",date:"2024-01-20",plannedTime:k,actualTime:V,bestHistoricTime:j,efficiency:R,productivity:L,status:D.status==="completed"?"completed":"delayed"}}),w=x.filter(D=>D.status==="completed"),_=w.reduce((D,k)=>D+k.efficiency,0)/w.length,T=w.reduce((D,k)=>D+k.productivity,0)/w.length,S=w.filter(D=>D.efficiency>=100).length/w.length*100,N=[{operatorId:"op-001",operatorName:"João Silva",totalTasks:x.length,averageEfficiency:_,totalProductivity:T,onTimeCompletion:S,rank:1,trend:_>100?"up":"down"},{operatorId:"op-002",operatorName:"Maria Santos",totalTasks:18,averageEfficiency:104.7,totalProductivity:98.9,onTimeCompletion:88.9,rank:2,trend:"stable"},{operatorId:"op-003",operatorName:"Pedro Costa",totalTasks:15,averageEfficiency:89.3,totalProductivity:85.2,onTimeCompletion:73.3,rank:3,trend:"down"}],P=x.reduce((D,k)=>D+k.actualTime,0),I=[{period:"Hoje",tasksCompleted:x.length,averageEfficiency:_,totalTime:P,productivityScore:T,onTimeRate:S},{period:"Esta Semana",tasksCompleted:x.length*5,averageEfficiency:_*.98,totalTime:P*5,productivityScore:T*.96,onTimeRate:S*.95},{period:"Este Mês",tasksCompleted:x.length*20,averageEfficiency:_*.96,totalTime:P*20,productivityScore:T*.94,onTimeRate:S*.92}];e(x),r(N),s(I),d(N[0])},[]),{productivityData:t,operatorRankings:n,periodStats:i,currentUserStats:c,calculateEfficiency:h,calculateProductivity:f}};function HF(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState({autoRecalculation:!0,recalculateInterval:30,notifyOperators:!0,notifyCoordinators:!0,maxDelayAllowed:120,priorityThreshold:"urgent"}),[c,d]=A.useState(!1),[h,f]=A.useState(null),[p,v]=A.useState(null),x=A.useCallback(async D=>{await new Promise(j=>setTimeout(j,2e3));const k=[],V=["João Silva","Maria Santos","Pedro Costa","Ana Oliveira"];for(let j=0;j<D.affectedOperators;j++){const R={id:`SC-${Date.now()}-${j}`,orderId:D.id,taskId:`task-${j+1}`,operatorId:`op-${j+1}`,operatorName:V[j%V.length],originalStartTime:"08:00",newStartTime:"07:30",originalEndTime:"17:00",newEndTime:"16:30",reason:`Pedido ${D.priority} ${D.id}`,impact:D.priority==="critical"?"high":"medium",notified:!1};k.push(R)}return k},[]),w=A.useCallback(async D=>{d(!0);try{await new Promise(V=>setTimeout(V,3e3));const k=await x(D);e(V=>[{...D,status:"completed",processedAt:new Date().toISOString()},...V]),r(V=>[...k,...V]),i.notifyOperators&&await _(k),i.notifyCoordinators&&await T(D,k),f(new Date),v(new Date(Date.now()+i.recalculateInterval*60*1e3))}catch(k){console.error("Erro ao processar pedido urgente:",k),e(V=>[{...D,status:"failed"},...V])}finally{d(!1)}},[i,x]),_=A.useCallback(async D=>{console.log("Notificando operadores sobre mudanças de agenda:",D),r(k=>k.map(V=>D.some(j=>j.id===V.id)?{...V,notified:!0}:V))},[]),T=A.useCallback(async(D,k)=>{console.log("Notificando coordenadores sobre pedido urgente:",D,k)},[]),S=A.useCallback(async()=>{if(!c){d(!0);try{const D={id:`UO-2024-${String(t.length+1).padStart(3,"0")}`,productName:"Produto C - Modelo Z",quantity:75,priority:"urgent",originalDeadline:"2024-01-24T18:00:00",newDeadline:"2024-01-22T16:00:00",affectedTasks:6,affectedOperators:2,estimatedDelay:30,status:"pending",createdAt:new Date().toISOString()};await w(D)}catch(D){console.error("Erro no recálculo manual:",D)}finally{d(!1)}}},[t.length,w,c]);A.useEffect(()=>{if(!i.autoRecalculation)return;const D=setInterval(()=>{c||S()},i.recalculateInterval*60*1e3);return()=>clearInterval(D)},[i.autoRecalculation,i.recalculateInterval,S,c]);const N={totalUrgentOrders:t.length,processingOrders:t.filter(D=>D.status==="processing").length,completedOrders:t.filter(D=>D.status==="completed").length,failedOrders:t.filter(D=>D.status==="failed").length,totalScheduleChanges:n.length,notifiedChanges:n.filter(D=>D.notified).length,efficiency:t.length>0?t.filter(D=>D.status==="completed").length/t.length*100:0},P=A.useCallback(D=>{s(k=>({...k,...D}))},[]),I=A.useCallback(async D=>{const k=n.find(V=>V.id===D);if(k)try{await _([k])}catch(V){console.error("Erro ao notificar mudança:",V)}},[n,_]);return{urgentOrders:t,scheduleChanges:n,config:i,isProcessing:c,lastRecalculation:h,nextRecalculation:p,stats:N,processUrgentOrder:w,manualRecalculation:S,updateConfig:P,notifyChange:I}}class KF{config;accessToken=null;tokenExpiry=0;constructor(){this.config={clientId:"bb038bbf8baa2108a9e5c31b409338ef03cc93a0",clientSecret:"5602db5f1ddfccf5894336d514cdfae102111c9cb4cbfc788c8bc4d771f6",baseUrl:"https://api.bling.com.br/Api/v3",accessToken:""},this.config.accessToken&&(this.accessToken=this.config.accessToken,this.tokenExpiry=Date.now()+365*24*60*60*1e3)}setAccessToken(e){this.accessToken=e,this.tokenExpiry=Date.now()+365*24*60*60*1e3}isTokenValid(){return this.accessToken!==null&&Date.now()<this.tokenExpiry}getValidToken(){if(!this.isTokenValid())throw new Error("Token de acesso não configurado ou expirado. Configure o VITE_BLING_ACCESS_TOKEN ou use setAccessToken()");return this.accessToken}async getOrders(e=1,n=50){try{const r=this.getValidToken(),i=await fetch(`${this.config.baseUrl}/pedidos?page=${e}&limit=${n}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Erro ao buscar pedidos: ${i.status}`);return await i.json()}catch(r){throw console.error("Erro ao buscar pedidos:",r),r}}async getProducts(e=1,n=50){try{const r=this.getValidToken(),i=await fetch(`${this.config.baseUrl}/produtos?page=${e}&limit=${n}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Erro ao buscar produtos: ${i.status}`);return await i.json()}catch(r){throw console.error("Erro ao buscar produtos:",r),r}}async getCustomers(e=1,n=50){try{const r=this.getValidToken(),i=await fetch(`${this.config.baseUrl}/contatos?page=${e}&limit=${n}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Erro ao buscar clientes: ${i.status}`);return await i.json()}catch(r){throw console.error("Erro ao buscar clientes:",r),r}}async testConnection(){try{const e=this.getValidToken(),n=await fetch(`${this.config.baseUrl}/contatos?page=1&limit=1`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return n.ok?{success:!0}:{success:!1,error:`Erro ${n.status}: ${n.statusText}`}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Erro desconhecido"}}}async syncData(){try{const[e,n,r]=await Promise.all([this.getOrders(1,100),this.getProducts(1,100),this.getCustomers(1,100)]);return{orders:e.data?.length||0,products:n.data?.length||0,customers:r.data?.length||0,success:!0,message:"Sincronização realizada com sucesso"}}catch(e){return console.error("Erro na sincronização:",e),{orders:0,products:0,customers:0,success:!1,message:`Erro na sincronização: ${e instanceof Error?e.message:"Erro desconhecido"}`}}}}const np=new KF,GF=()=>{const[t,e]=A.useState(!1),n=A.useCallback(async p=>{if(!p.accessToken)return{success:!1,error:"Access Token é obrigatório"};try{return e(!0),np.setAccessToken(p.accessToken),await np.testConnection()}catch(v){return{success:!1,error:v instanceof Error?v.message:"Erro inesperado durante o teste de conexão"}}finally{e(!1)}},[]),r=A.useCallback(async p=>{if(!p.accessToken)return{success:!1,error:"Access Token é obrigatório"};try{e(!0),np.setAccessToken(p.accessToken);const v=await np.syncData();if(v.success){const x=[{id:"bling-001",number:"OP-2024-001",customer:"Cliente A",product:"Produto X",quantity:100,status:"pending",createdAt:new Date(Date.now()-864e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"},{id:"bling-002",number:"OP-2024-002",customer:"Cliente B",product:"Produto Y",quantity:50,status:"processing",createdAt:new Date(Date.now()-1728e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"},{id:"bling-003",number:"OP-2024-003",customer:"Cliente C",product:"Produto Z",quantity:200,status:"completed",createdAt:new Date(Date.now()-2592e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"}];return{success:!0,importedCount:v.orders,errorCount:0,orders:x}}else return{success:!1,error:v.message}}catch(v){return{success:!1,error:v instanceof Error?v.message:"Erro desconhecido na importação"}}finally{e(!1)}},[]),i=A.useCallback(async()=>{try{return[{id:"log-001",timestamp:new Date(Date.now()-36e5).toISOString(),type:"success",message:"Importação automática realizada",details:"3 ordens importadas com sucesso",ordersCount:3,errorsCount:0},{id:"log-002",timestamp:new Date(Date.now()-72e5).toISOString(),type:"warning",message:"Importação com avisos",details:"2 ordens importadas, 1 com dados incompletos",ordersCount:2,errorsCount:1},{id:"log-003",timestamp:new Date(Date.now()-864e5).toISOString(),type:"error",message:"Falha na importação",details:"Erro de conexão com a API do Bling",ordersCount:0,errorsCount:1}]}catch(p){return console.error("Erro ao carregar histórico:",p),[]}},[]),s=A.useCallback(async()=>{try{const p=localStorage.getItem("bling-config");return p?JSON.parse(p):null}catch(p){return console.error("Erro ao carregar configuração:",p),null}},[]),c=A.useCallback(async p=>{try{localStorage.setItem("bling-config",JSON.stringify(p)),await new Promise(v=>setTimeout(v,500))}catch(v){throw console.error("Erro ao salvar configuração:",v),v}},[]),d=A.useCallback(async p=>p.autoSync?await r(p):{success:!1,error:"Sincronização automática desabilitada"},[r]),h=A.useCallback(async()=>{try{const p=await i(),v=p.reduce((_,T)=>_+(T.ordersCount||0),0),x=p.filter(_=>_.type==="success").length,w=p.length>0?x/p.length*100:0;return{totalOrders:v,lastSync:p.length>0?p[0].timestamp:null,nextSync:null,successRate:w}}catch(p){return console.error("Erro ao obter estatísticas:",p),{totalOrders:0,lastSync:null,nextSync:null,successRate:0}}},[i]),f=A.useCallback(p=>{const v=[];return(!p.accessToken||p.accessToken.trim().length===0)&&v.push("Access Token é obrigatório"),(!p.baseUrl||p.baseUrl.trim().length===0)&&v.push("URL Base é obrigatória"),p.autoSync&&(p.syncInterval<5||p.syncInterval>1440)&&v.push("Intervalo de sincronização deve estar entre 5 e 1440 minutos"),{isValid:v.length===0,errors:v}},[]);return{loading:t,testConnection:n,importOrders:r,getImportHistory:i,getConfiguration:s,updateConfiguration:c,syncOrders:d,getSyncStats:h,validateConfig:f}};function WF({selectedPeriod:t,setSelectedPeriod:e}){return l.jsxs("div",{className:"productivity-header",children:[l.jsx("div",{className:"header-info",children:l.jsx("h1",{children:"Painel de Produtividade"})}),l.jsx("div",{className:"header-controls",children:l.jsxs("div",{className:"period-selector",children:[l.jsx("button",{className:`period-btn ${t==="today"?"active":""}`,onClick:()=>e("today"),children:"Hoje"}),l.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"}),l.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>e("month"),children:"Mês"})]})})]})}function YF({currentUserStats:t,getEfficiencyColor:e,getTrendIcon:n}){return l.jsxs("div",{className:"user-stats-card",children:[l.jsxs("div",{className:"user-stats-header",children:[l.jsx("div",{className:"user-info",children:l.jsx("h3",{children:"Performance do Operador"})}),l.jsxs("div",{className:"user-rank",children:[l.jsxs("div",{className:"rank-badge",children:["#",t.rank]}),l.jsx("div",{className:"trend-indicator",children:n(t.trend)})]})]}),l.jsxs("div",{className:"user-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Eficiência Média"})]}),l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",children:[t.totalProductivity.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Produtividade"})]}),l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",children:[t.onTimeCompletion.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"No Prazo"})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-value",children:t.totalTasks}),l.jsx("span",{className:"metric-label",children:"Tarefas"})]})]})]})}function XF({currentPeriodStats:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"period-overview",children:[l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(El,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsx("div",{className:"overview-value",children:t.tasksCompleted}),l.jsx("div",{className:"overview-label",children:"Tarefas Concluídas"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(Xh,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Eficiência Média"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(MM,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",children:[t.productivityScore.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Score Produtividade"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(rn,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsx("div",{className:"overview-value",children:n(t.totalTime)}),l.jsx("div",{className:"overview-label",children:"Tempo Total"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(ss,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",children:[t.onTimeRate.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Taxa No Prazo"})]})]})]})}function QF({selectedOperator:t,setSelectedOperator:e,selectedSector:n,setSelectedSector:r,availableOperators:i}){return l.jsxs("div",{className:"filters-section",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Operador:"}),l.jsxs("select",{value:t,onChange:s=>e(s.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),i.map(s=>l.jsx("option",{value:s.operator.id,children:s.user.name||s.operator.code},s.operator.id))]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Setor:"}),l.jsxs("select",{value:n,onChange:s=>r(s.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"Corte",children:"Corte"}),l.jsx("option",{value:"Montagem",children:"Montagem"}),l.jsx("option",{value:"Acabamento",children:"Acabamento"}),l.jsx("option",{value:"Qualidade",children:"Qualidade"})]})]})]})}function ZF({filteredData:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"performance-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{children:"Performance Detalhada"}),l.jsx("div",{className:"section-actions",children:l.jsxs("button",{className:"export-btn",children:[l.jsx(ss,{})," Exportar"]})})]}),l.jsx("div",{className:"performance-table-container",children:l.jsxs("table",{className:"performance-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Operador"}),l.jsx("th",{children:"Tarefa"}),l.jsx("th",{children:"Pedido"}),l.jsx("th",{children:"Setor"}),l.jsx("th",{children:"Planejado"}),l.jsx("th",{children:"Real"}),l.jsx("th",{children:"Melhor"}),l.jsx("th",{children:"Eficiência"}),l.jsx("th",{children:"Produtividade"}),l.jsx("th",{children:"Status"})]})}),l.jsx("tbody",{children:t.map((r,i)=>l.jsxs("tr",{className:"performance-row",children:[l.jsx("td",{children:l.jsxs("div",{className:"operator-cell",children:[l.jsxs("div",{className:"operator-avatar",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),l.jsx("span",{children:r.operatorName})]})}),l.jsx("td",{children:l.jsxs("div",{className:"task-cell",children:[l.jsx("div",{className:"task-name",children:r.taskName}),l.jsx("div",{className:"task-id",children:r.taskId})]})}),l.jsx("td",{children:l.jsxs("div",{className:"order-cell",children:[l.jsx("div",{className:"order-name",children:r.orderName}),l.jsx("div",{className:"order-id",children:r.orderId})]})}),l.jsx("td",{children:l.jsx("span",{className:"sector-badge",children:r.sector})}),l.jsx("td",{children:n(r.plannedTime)}),l.jsx("td",{children:n(r.actualTime)}),l.jsx("td",{children:n(r.bestHistoricTime)}),l.jsx("td",{children:l.jsxs("div",{className:"efficiency-cell",children:[l.jsxs("span",{className:"efficiency-value",style:{color:e(r.efficiency)},children:[r.efficiency.toFixed(1),"%"]}),l.jsx("div",{className:"efficiency-bar",children:l.jsx("div",{className:"efficiency-fill",style:{width:`${Math.min(r.efficiency,150)}%`,backgroundColor:e(r.efficiency)}})})]})}),l.jsx("td",{children:l.jsxs("span",{className:"productivity-value",style:{color:e(r.productivity)},children:[r.productivity.toFixed(1),"%"]})}),l.jsx("td",{children:l.jsx("span",{className:`status-badge status-${r.status}`,children:r.status==="completed"?"Concluído":r.status==="in_progress"?"Em Andamento":"Atrasado"})})]},i))})]})})]})}function JF({operatorRankings:t,getEfficiencyColor:e,getTrendIcon:n}){return l.jsxs("div",{className:"rankings-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("h3",{children:"Ranking de Operadores"})}),l.jsx("div",{className:"rankings-grid",children:t.map((r,i)=>l.jsxs("div",{className:`ranking-card ${i<3?"podium":""}`,children:[l.jsxs("div",{className:"ranking-header",children:[l.jsxs("div",{className:"rank-position",children:[l.jsxs("span",{className:"rank-number",children:["#",r.rank]}),i===0&&l.jsx("span",{className:"medal",children:l.jsx(SC,{})}),i===1&&l.jsx("span",{className:"medal",children:l.jsx(GM,{})}),i===2&&l.jsx("span",{className:"medal",children:l.jsx(DM,{})})]}),l.jsx("div",{className:"trend",children:n(r.trend)})]}),l.jsxs("div",{className:"operator-info",children:[l.jsxs("div",{className:"operator-avatar large",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),l.jsx("h4",{children:r.operatorName})]}),l.jsxs("div",{className:"ranking-metrics",children:[l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",style:{color:e(r.averageEfficiency)},children:[r.averageEfficiency.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Eficiência"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",children:[r.totalProductivity.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Produtividade"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsx("span",{className:"metric-value",children:r.totalTasks}),l.jsx("span",{className:"metric-label",children:"Tarefas"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",children:[r.onTimeCompletion.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"No Prazo"})]})]})]},r.operatorId))})]})}function oR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=oR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=oR(t))&&(r&&(r+=" "),r+=e);return r}var h1={},f1={},uj;function eH(){return uj||(uj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(f1)),f1}var m1={},dj;function lR(){return dj||(dj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(m1)),m1}var p1={},hj;function cR(){return hj||(hj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(p1)),p1}var g1={},fj;function x_(){return fj||(fj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,c="",d="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const f=n[s];d?f==="\\"&&s+1<i?(s++,c+=n[s]):f===d?d="":c+=f:h?f==='"'||f==="'"?d=f:f==="]"?(h=!1,r.push(c),c=""):c+=f:f==="["?(h=!0,c&&(r.push(c),c="")):f==="."?c&&(r.push(c),c=""):c+=f,s++}return c&&r.push(c),r}t.toPath=e}(g1)),g1}var mj;function b_(){return mj||(mj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eH(),n=lR(),r=cR(),i=x_();function s(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?n.isDeepKey(h)?s(d,i.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?f:p}default:{if(Array.isArray(h))return c(d,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?f:p}}}function c(d,h,f){if(h.length===0)return f;let p=d;for(let v=0;v<h.length;v++){if(p==null||e.isUnsafeProperty(h[v]))return f;p=p[h[v]]}return p===void 0?f:p}t.get=s}(h1)),h1}var v1,pj;function tH(){return pj||(pj=1,v1=b_().get),v1}var nH=tH();const Rl=ia(nH);var y1={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function rH(){if(gj)return bt;gj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function _(T){if(typeof T=="object"&&T!==null){var S=T.$$typeof;switch(S){case t:switch(T=T.type,T){case n:case i:case r:case h:case f:case x:return T;default:switch(T=T&&T.$$typeof,T){case c:case d:case v:case p:return T;case s:return T;default:return S}}case e:return S}}}return bt.ContextConsumer=s,bt.ContextProvider=c,bt.Element=t,bt.ForwardRef=d,bt.Fragment=n,bt.Lazy=v,bt.Memo=p,bt.Portal=e,bt.Profiler=i,bt.StrictMode=r,bt.Suspense=h,bt.SuspenseList=f,bt.isContextConsumer=function(T){return _(T)===s},bt.isContextProvider=function(T){return _(T)===c},bt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},bt.isForwardRef=function(T){return _(T)===d},bt.isFragment=function(T){return _(T)===n},bt.isLazy=function(T){return _(T)===v},bt.isMemo=function(T){return _(T)===p},bt.isPortal=function(T){return _(T)===e},bt.isProfiler=function(T){return _(T)===i},bt.isStrictMode=function(T){return _(T)===r},bt.isSuspense=function(T){return _(T)===h},bt.isSuspenseList=function(T){return _(T)===f},bt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===h||T===f||typeof T=="object"&&T!==null&&(T.$$typeof===v||T.$$typeof===p||T.$$typeof===c||T.$$typeof===s||T.$$typeof===d||T.$$typeof===w||T.getModuleId!==void 0)},bt.typeOf=_,bt}var vj;function iH(){return vj||(vj=1,y1.exports=rH()),y1.exports}var aH=iH(),ei=t=>t===0?0:t>0?1:-1,ri=t=>typeof t=="number"&&t!=+t,hl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!ri(t),na=t=>Oe(t)||typeof t=="string",sH=0,Mh=t=>{var e=++sH;return"".concat(t||"").concat(e)},vo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(hl(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ri(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},uR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},rp=(t,e)=>Oe(t)&&Oe(e)?n=>t+n*(e-t):()=>e;function dR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Rl(r,e))===n)}var oH=t=>{if(!t||!t.length)return null;for(var e=t.length,n=0,r=0,i=0,s=0,c=1/0,d=-1/0,h=0,f=0,p=0;p<e;p++)h=t[p].cx||0,f=t[p].cy||0,n+=h,r+=f,i+=h*f,s+=h*h,c=Math.min(c,h),d=Math.max(d,h);var v=e*s!==n*n?(e*i-n*r)/(e*s-n*n):0;return{xmin:c,xmax:d,a:v,b:(r-v*n)/e}},Vt=t=>t===null||typeof t>"u",df=t=>Vt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),lH=["viewBox","children"],cH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yj=["points","pathLength"],x1={svg:lH,polygon:yj,polyline:yj},__=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uH=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{__.includes(i)&&(r[i]=s=>n[i](n,s))}),r},dH=(t,e,n)=>r=>(t(e,n,r),null),hR=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];__.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=dH(s,e,n))}),r},xj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",bj=null,b1=null,fR=t=>{if(t===bj&&Array.isArray(b1))return b1;var e=[];return A.Children.forEach(t,n=>{Vt(n)||(aH.isFragment(n)?e=e.concat(fR(n.props.children)):e.push(n))}),b1=e,bj=t,e};function w_(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>xj(i)):r=[xj(e)],fR(t).forEach(i=>{var s=Rl(i,"type.displayName")||Rl(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var hH=(t,e,n,r)=>{var i,s=(i=r&&x1?.[r])!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||cH.includes(e))||n&&__.includes(e)},Pt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var c;hH((c=r)===null||c===void 0?void 0:c[s],s,e,n)&&(i[s]=r[s])}),i},fH=["children","width","height","viewBox","className","style","title","desc"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}function mH(t,e){if(t==null)return{};var n,r,i=pH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mR=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:d,title:h,desc:f}=t,p=mH(t,fH),v=s||{width:r,height:i,x:0,y:0},x=Nt("recharts-surface",c);return A.createElement("svg",Tx({},Pt(p,!0,"svg"),{className:x,width:r,height:i,style:d,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),A.createElement("title",null,h),A.createElement("desc",null,f),n)}),gH=["children","className"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(null,arguments)}function vH(t,e){if(t==null)return{};var n,r,i=yH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var es=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=vH(t,gH),s=Nt("recharts-layer",r);return A.createElement("g",Ex({className:s},Pt(i,!0),{ref:e}),n)}),xH=A.createContext(null);function Tt(t){return function(){return t}}const pR=Math.cos,rg=Math.sin,ji=Math.sqrt,ig=Math.PI,gv=2*ig,Ax=Math.PI,jx=2*Ax,ol=1e-6,bH=jx-ol;function gR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _H(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gR;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class wH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gR:_H(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,h=r-e,f=i-n,p=c-e,v=d-n,x=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>ol)if(!(Math.abs(v*h-f*p)>ol)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,_=i-d,T=h*h+f*f,S=w*w+_*_,N=Math.sqrt(T),P=Math.sqrt(x),I=s*Math.tan((Ax-Math.acos((T+x-S)/(2*N*P)))/2),D=I/P,k=I/N;Math.abs(D-1)>ol&&this._append`L${e+D*p},${n+D*v}`,this._append`A${s},${s},0,0,${+(v*w>p*_)},${this._x1=e+k*h},${this._y1=n+k*f}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),h=r*Math.sin(i),f=e+d,p=n+h,v=1^c,x=c?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ol||Math.abs(this._y1-p)>ol)&&this._append`L${f},${p}`,r&&(x<0&&(x=x%jx+jx),x>bH?this._append`A${r},${r},0,1,${v},${e-d},${n-h}A${r},${r},0,1,${v},${this._x1=f},${this._y1=p}`:x>ol&&this._append`A${r},${r},0,${+(x>=Ax)},${v},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function S_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wH(e)}function T_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vR(t){this._context=t}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vv(t){return new vR(t)}function yR(t){return t[0]}function xR(t){return t[1]}function bR(t,e){var n=Tt(!0),r=null,i=vv,s=null,c=S_(d);t=typeof t=="function"?t:t===void 0?yR:Tt(t),e=typeof e=="function"?e:e===void 0?xR:Tt(e);function d(h){var f,p=(h=T_(h)).length,v,x=!1,w;for(r==null&&(s=i(w=c())),f=0;f<=p;++f)!(f<p&&n(v=h[f],f,h))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(v,f,h),+e(v,f,h));if(w)return s=null,w+""||null}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Tt(+h),d):t},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Tt(+h),d):e},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Tt(!!h),d):n},d.curve=function(h){return arguments.length?(i=h,r!=null&&(s=i(r)),d):i},d.context=function(h){return arguments.length?(h==null?r=s=null:s=i(r=h),d):r},d}function ip(t,e,n){var r=null,i=Tt(!0),s=null,c=vv,d=null,h=S_(f);t=typeof t=="function"?t:t===void 0?yR:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xR:Tt(+n);function f(v){var x,w,_,T=(v=T_(v)).length,S,N=!1,P,I=new Array(T),D=new Array(T);for(s==null&&(d=c(P=h())),x=0;x<=T;++x){if(!(x<T&&i(S=v[x],x,v))===N)if(N=!N)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=x-1;_>=w;--_)d.point(I[_],D[_]);d.lineEnd(),d.areaEnd()}N&&(I[x]=+t(S,x,v),D[x]=+e(S,x,v),d.point(r?+r(S,x,v):I[x],n?+n(S,x,v):D[x]))}if(P)return d=null,P+""||null}function p(){return bR().defined(i).curve(c).context(s)}return f.x=function(v){return arguments.length?(t=typeof v=="function"?v:Tt(+v),r=null,f):t},f.x0=function(v){return arguments.length?(t=typeof v=="function"?v:Tt(+v),f):t},f.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Tt(+v),f):r},f.y=function(v){return arguments.length?(e=typeof v=="function"?v:Tt(+v),n=null,f):e},f.y0=function(v){return arguments.length?(e=typeof v=="function"?v:Tt(+v),f):e},f.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Tt(+v),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Tt(!!v),f):i},f.curve=function(v){return arguments.length?(c=v,s!=null&&(d=c(s)),f):c},f.context=function(v){return arguments.length?(v==null?s=d=null:d=c(s=v),f):s},f}class _R{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function SH(t){return new _R(t,!0)}function TH(t){return new _R(t,!1)}const E_={draw(t,e){const n=ji(e/ig);t.moveTo(n,0),t.arc(0,0,n,0,gv)}},EH={draw(t,e){const n=ji(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wR=ji(1/3),AH=wR*2,jH={draw(t,e){const n=ji(e/AH),r=n*wR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},NH={draw(t,e){const n=ji(e),r=-n/2;t.rect(r,r,n,n)}},CH=.8908130915292852,SR=rg(ig/10)/rg(7*ig/10),OH=rg(gv/10)*SR,IH=-pR(gv/10)*SR,RH={draw(t,e){const n=ji(e*CH),r=OH*n,i=IH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=gv*s/5,d=pR(c),h=rg(c);t.lineTo(h*n,-d*n),t.lineTo(d*r-h*i,h*r+d*i)}t.closePath()}},_1=ji(3),PH={draw(t,e){const n=-ji(e/(_1*3));t.moveTo(0,n*2),t.lineTo(-_1*n,-n),t.lineTo(_1*n,-n),t.closePath()}},Gr=-.5,Wr=ji(3)/2,Nx=1/ji(12),DH=(Nx/2+1)*3,kH={draw(t,e){const n=ji(e/DH),r=n/2,i=n*Nx,s=r,c=n*Nx+n,d=-s,h=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(d,h),t.lineTo(Gr*r-Wr*i,Wr*r+Gr*i),t.lineTo(Gr*s-Wr*c,Wr*s+Gr*c),t.lineTo(Gr*d-Wr*h,Wr*d+Gr*h),t.lineTo(Gr*r+Wr*i,Gr*i-Wr*r),t.lineTo(Gr*s+Wr*c,Gr*c-Wr*s),t.lineTo(Gr*d+Wr*h,Gr*h-Wr*d),t.closePath()}};function MH(t,e){let n=null,r=S_(i);t=typeof t=="function"?t:Tt(t||E_),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ag(){}function sg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TR(t){this._context=t}TR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LH(t){return new TR(t)}function ER(t){this._context=t}ER.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VH(t){return new ER(t)}function AR(t){this._context=t}AR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UH(t){return new AR(t)}function jR(t){this._context=t}jR.prototype={areaStart:ag,areaEnd:ag,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function BH(t){return new jR(t)}function _j(t){return t<0?-1:1}function wj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),d=(s*i+c*r)/(r+i);return(_j(s)+_j(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function Sj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,c-d*n,s,c)}function og(t){this._context=t}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w1(this,this._t0,Sj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w1(this,Sj(this,n=wj(this,t,e)),n);break;default:w1(this,this._t0,n=wj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NR(t){this._context=new CR(t)}(NR.prototype=Object.create(og.prototype)).point=function(t,e){og.prototype.point.call(this,e,t)};function CR(t){this._context=t}CR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function zH(t){return new og(t)}function qH(t){return new NR(t)}function OR(t){this._context=t}OR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Tj(t),i=Tj(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Tj(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $H(t){return new OR(t)}function yv(t,e){this._context=t,this._t=e}yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function FH(t){return new yv(t,.5)}function HH(t){return new yv(t,0)}function KH(t){return new yv(t,1)}function du(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,d=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Cx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function GH(t,e){return t[e]}function WH(t){const e=[];return e.key=t,e}function YH(){var t=Tt([]),e=Cx,n=du,r=GH;function i(s){var c=Array.from(t.apply(this,arguments),WH),d,h=c.length,f=-1,p;for(const v of s)for(d=0,++f;d<h;++d)(c[d][f]=[0,+r(v,c[d].key,f,s)]).data=v;for(d=0,p=T_(e(c));d<h;++d)c[p[d]].index=d;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Cx:typeof s=="function"?s:Tt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??du,i):n},i}function XH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}du(t,e)}}function QH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,d=0;c<i;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}du(t,e)}}function ZH(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var d=0,h=0,f=0;d<c;++d){for(var p=t[e[d]],v=p[r][1]||0,x=p[r-1][1]||0,w=(v-x)/2,_=0;_<d;++_){var T=t[e[_]],S=T[r][1]||0,N=T[r-1][1]||0;w+=S-N}h+=v,f+=w*v}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,du(t,e)}}var JH=["type","size","sizeType"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(null,arguments)}function Ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(n),!0).forEach(function(r){eK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eK(t,e,n){return(e=tK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=nK(t,"string");return typeof e=="symbol"?e:e+""}function nK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rK(t,e){if(t==null)return{};var n,r,i=iK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var IR={symbolCircle:E_,symbolCross:EH,symbolDiamond:jH,symbolSquare:NH,symbolStar:RH,symbolTriangle:PH,symbolWye:kH},aK=Math.PI/180,sK=t=>{var e="symbol".concat(df(t));return IR[e]||E_},oK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*aK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lK=(t,e)=>{IR["symbol".concat(df(t))]=e},A_=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=rK(t,JH),s=Aj(Aj({},i),{},{type:e,size:n,sizeType:r}),c=()=>{var v=sK(e),x=MH().type(v).size(oK(n,r,e));return x()},{className:d,cx:h,cy:f}=s,p=Pt(s,!0);return h===+h&&f===+f&&n===+n?A.createElement("path",Ox({},p,{className:Nt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};A_.registerSymbol=lK;var S1={},T1={},jj;function cK(){return jj||(jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);i.has(d)||i.set(d,c)}return Array.from(i.values())}t.uniqBy=e}(T1)),T1}var E1={},Nj;function RR(){return Nj||(Nj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(E1)),E1}var A1={},j1={},N1={},Cj;function uK(){return Cj||(Cj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(N1)),N1}var Oj;function j_(){return Oj||(Oj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uK();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(j1)),j1}var C1={},Ij;function dK(){return Ij||(Ij=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(C1)),C1}var Rj;function hK(){return Rj||(Rj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j_(),n=dK();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(A1)),A1}var O1={},I1={},Pj;function fK(){return Pj||(Pj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b_();function n(r){return function(i){return e.get(i,r)}}t.property=n}(I1)),I1}var R1={},P1={},D1={},k1={},Dj;function PR(){return Dj||(Dj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(k1)),k1}var M1={},kj;function DR(){return kj||(kj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(M1)),M1}var L1={},Mj;function N_(){return Mj||(Mj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(L1)),L1}var Lj;function mK(){return Lj||(Lj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_(),n=PR(),r=DR(),i=N_();function s(v,x,w){return typeof w!="function"?e.isMatch(v,x):c(v,x,function _(T,S,N,P,I,D){const k=w(T,S,N,P,I,D);return k!==void 0?!!k:c(T,S,_,D)},new Map)}function c(v,x,w,_){if(x===v)return!0;switch(typeof x){case"object":return d(v,x,w,_);case"function":return Object.keys(x).length>0?c(v,{...x},w,_):i.eq(v,x);default:return n.isObject(v)?typeof x=="string"?x==="":!0:i.eq(v,x)}}function d(v,x,w,_){if(x==null)return!0;if(Array.isArray(x))return f(v,x,w,_);if(x instanceof Map)return h(v,x,w,_);if(x instanceof Set)return p(v,x,w,_);const T=Object.keys(x);if(v==null)return T.length===0;if(T.length===0)return!0;if(_&&_.has(x))return _.get(x)===v;_&&_.set(x,v);try{for(let S=0;S<T.length;S++){const N=T[S];if(!r.isPrimitive(v)&&!(N in v)||x[N]===void 0&&v[N]!==void 0||x[N]===null&&v[N]!==null||!w(v[N],x[N],N,v,x,_))return!1}return!0}finally{_&&_.delete(x)}}function h(v,x,w,_){if(x.size===0)return!0;if(!(v instanceof Map))return!1;for(const[T,S]of x.entries()){const N=v.get(T);if(w(N,S,T,v,x,_)===!1)return!1}return!0}function f(v,x,w,_){if(x.length===0)return!0;if(!Array.isArray(v))return!1;const T=new Set;for(let S=0;S<x.length;S++){const N=x[S];let P=!1;for(let I=0;I<v.length;I++){if(T.has(I))continue;const D=v[I];let k=!1;if(w(D,N,S,v,x,_)&&(k=!0),k){T.add(I),P=!0;break}}if(!P)return!1}return!0}function p(v,x,w,_){return x.size===0?!0:v instanceof Set?f([...v],[...x],w,_):!1}t.isMatchWith=s,t.isSetMatch=p}(D1)),D1}var Vj;function C_(){return Vj||(Vj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mK();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(P1)),P1}var V1={},U1={},B1={},Uj;function kR(){return Uj||(Uj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(B1)),B1}var z1={},Bj;function O_(){return Bj||(Bj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(z1)),z1}var q1={},zj;function I_(){return zj||(zj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",v="[object Function]",x="[object ArrayBuffer]",w="[object Object]",_="[object Error]",T="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",D="[object BigUint64Array]",k="[object Int8Array]",V="[object Int16Array]",j="[object Int32Array]",R="[object BigInt64Array]",L="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=T,t.dateTag=d,t.errorTag=_,t.float32ArrayTag=L,t.float64ArrayTag=F,t.functionTag=v,t.int16ArrayTag=V,t.int32ArrayTag=j,t.int8ArrayTag=k,t.mapTag=h,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=P,t.uint32ArrayTag=I,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N}(q1)),q1}var $1={},qj;function pK(){return qj||(qj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}($1)),$1}var $j;function MR(){return $j||($j=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kR(),n=O_(),r=I_(),i=DR(),s=pK();function c(p,v){return d(p,void 0,p,new Map,v)}function d(p,v,x,w=new Map,_=void 0){const T=_?.(p,v,x,w);if(T!=null)return T;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const S=new Array(p.length);w.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,x,w,_);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;w.set(p,S);for(const[N,P]of p)S.set(N,d(P,N,x,w,_));return S}if(p instanceof Set){const S=new Set;w.set(p,S);for(const N of p)S.add(d(N,void 0,x,w,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,x,w,_);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,S),h(S,p,x,w,_),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return w.set(p,S),h(S,p,x,w,_),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return w.set(p,S),h(S,p,x,w,_),S}if(p instanceof Error){const S=new p.constructor;return w.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,h(S,p,x,w,_),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return w.set(p,S),h(S,p,x,w,_),S}return p}function h(p,v,x=p,w,_){const T=[...Object.keys(v),...e.getSymbols(v)];for(let S=0;S<T.length;S++){const N=T[S],P=Object.getOwnPropertyDescriptor(p,N);(P==null||P.writable)&&(p[N]=d(v[N],N,x,w,_))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=h}(U1)),U1}var Fj;function gK(){return Fj||(Fj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(V1)),V1}var Hj;function vK(){return Hj||(Hj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_(),n=gK();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r}(R1)),R1}var F1={},H1={},K1={},Kj;function yK(){return Kj||(Kj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MR(),n=I_();function r(i,s){return e.cloneDeepWith(i,(c,d,h,f)=>{const p=s?.(c,d,h,f);if(p!=null)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new i.constructor(i?.valueOf());return e.copyProperties(v,i),v}case n.argumentsTag:{const v={};return e.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r}(K1)),K1}var Gj;function xK(){return Gj||(Gj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(H1)),H1}var G1={},W1={},Wj;function LR(){return Wj||(Wj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(W1)),W1}var Y1={},Yj;function bK(){return Yj||(Yj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O_();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Y1)),Y1}var Xj;function _K(){return Xj||(Xj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lR(),n=LR(),r=bK(),i=x_();function s(c,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&e.isDeepKey(d)&&c?.[d]==null?h=i.toPath(d):h=[d],h.length===0)return!1;let f=c;for(let p=0;p<h.length;p++){const v=h[p];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}t.has=s}(G1)),G1}var Qj;function wK(){return Qj||(Qj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_(),n=cR(),r=xK(),i=b_(),s=_K();function c(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(f){const p=i.get(f,d);return p===void 0?s.has(f,d):h===void 0?p===void 0:e.isMatch(p,h)}}t.matchesProperty=c}(F1)),F1}var Zj;function SK(){return Zj||(Zj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RR(),n=fK(),r=vK(),i=wK();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s}(O1)),O1}var Jj;function TK(){return Jj||(Jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cK(),n=RR(),r=hK(),i=SK();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),i.iteratee(d)):[]}t.uniqBy=s}(S1)),S1}var X1,eN;function EK(){return eN||(eN=1,X1=TK().uniqBy),X1}var AK=EK();const tN=ia(AK);function jK(t,e,n){return e===!0?tN(t,n):typeof e=="function"?tN(t,e):t}var Q1={exports:{}},Z1={},J1={exports:{}},e2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function NK(){if(nN)return e2;nN=1;var t=yu();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(v,x){var w=x(),_=r({inst:{value:w,getSnapshot:x}}),T=_[0].inst,S=_[1];return s(function(){T.value=w,T.getSnapshot=x,h(T)&&S({inst:T})},[v,w,x]),i(function(){return h(T)&&S({inst:T}),v(function(){h(T)&&S({inst:T})})},[v]),c(w),w}function h(v){var x=v.getSnapshot;v=v.value;try{var w=x();return!n(v,w)}catch{return!0}}function f(v,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return e2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,e2}var rN;function CK(){return rN||(rN=1,J1.exports=NK()),J1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function OK(){if(iN)return Z1;iN=1;var t=yu(),e=CK();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return Z1.useSyncExternalStoreWithSelector=function(f,p,v,x,w){var _=s(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=d(function(){function N(V){if(!P){if(P=!0,I=V,V=x(V),w!==void 0&&T.hasValue){var j=T.value;if(w(j,V))return D=j}return D=V}if(j=D,r(I,V))return j;var R=x(V);return w!==void 0&&w(j,R)?(I=V,j):(I=V,D=R)}var P=!1,I,D,k=v===void 0?null:v;return[function(){return N(p())},k===null?void 0:function(){return N(k())}]},[p,v,x,w]);var S=i(f,_[0],_[1]);return c(function(){T.hasValue=!0,T.value=S},[S]),h(S),S},Z1}var aN;function IK(){return aN||(aN=1,Q1.exports=OK()),Q1.exports}var RK=IK(),R_=A.createContext(null),PK=t=>t,pn=()=>{var t=A.useContext(R_);return t?t.store.dispatch:PK},Cp=()=>{},DK=()=>Cp,kK=(t,e)=>t===e;function Ve(t){var e=A.useContext(R_);return RK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:DK,e?e.store.getState:Cp,e?e.store.getState:Cp,e?t:Cp,kK)}function MK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function LK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function VK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sN=t=>Array.isArray(t)?t:[t];function UK(t){const e=Array.isArray(t[0])?t[0]:t;return VK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function BK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var zK=class{constructor(t){this.value=t}deref(){return this.value}},qK=typeof WeakRef<"u"?WeakRef:zK,$K=0,oN=1;function ap(){return{s:$K,v:void 0,o:null,p:null}}function VR(t,e={}){let n=ap();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let d=n;const{length:h}=arguments;for(let v=0,x=h;v<x;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const T=_.get(w);T===void 0?(d=ap(),_.set(w,d)):d=T}else{let _=d.p;_===null&&(d.p=_=new Map);const T=_.get(w);T===void 0?(d=ap(),_.set(w,d)):d=T}}const f=d;let p;if(d.s===oN)p=d.v;else if(p=t.apply(null,arguments),s++,r){const v=i?.deref?.()??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new qK(p):p}return f.s=oN,f.v=p,p}return c.clearCache=()=>{n=ap(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function FK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,d,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),MK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:v,memoizeOptions:x=[],argsMemoize:w=VR,argsMemoizeOptions:_=[]}=p,T=sN(x),S=sN(_),N=UK(i),P=v(function(){return s++,f.apply(null,arguments)},...T),I=w(function(){c++;const k=BK(N,arguments);return d=P.apply(null,k),d},...S);return Object.assign(I,{resultFunc:f,memoizedResultFunc:P,dependencies:N,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var le=FK(VR),HK=Object.assign((t,e=le)=>{LK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,h)=>(c[n[h]]=d,c),{}))},{withTypes:()=>HK}),t2={},n2={},r2={},lN;function KK(){return lN||(lN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),d=e(i);if(c===d&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n}(r2)),r2}var i2={},a2={},cN;function UR(){return cN||(cN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(a2)),a2}var uN;function GK(){return uN||(uN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i}(i2)),i2}var dN;function WK(){return dN||(dN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KK(),n=GK(),r=x_();function i(s,c,d,h){if(s==null)return[];d=h?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const f=(w,_)=>{let T=w;for(let S=0;S<_.length&&T!=null;++S)T=T[_[S]];return T},p=(w,_)=>_==null||w==null?_:typeof w=="object"&&"key"in w?Object.hasOwn(_,w.key)?_[w.key]:f(_,w.path):typeof w=="function"?w(_):Array.isArray(w)?f(_,w):typeof _=="object"?_[w]:_,v=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:v.map(_=>p(_,w))})).slice().sort((w,_)=>{for(let T=0;T<v.length;T++){const S=e.compareValues(w.criteria[T],_.criteria[T],d[T]);if(S!==0)return S}return 0}).map(w=>w.original)}t.orderBy=i}(n2)),n2}var s2={},hN;function YK(){return hN||(hN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(d,h)=>{for(let f=0;f<d.length;f++){const p=d[f];Array.isArray(p)&&h<s?c(p,h+1):i.push(p)}};return c(n,0),i}t.flatten=e}(s2)),s2}var o2={},fN;function BR(){return fN||(fN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LR(),n=j_(),r=PR(),i=N_();function s(c,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&e.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?i.eq(h[d],c):!1}t.isIterateeCall=s}(o2)),o2}var mN;function XK(){return mN||(mN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WK(),n=YK(),r=BR();function i(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i}(t2)),t2}var l2,pN;function QK(){return pN||(pN=1,l2=XK().sortBy),l2}var ZK=QK();const xv=ia(ZK);var zR=t=>t.legend.settings,JK=t=>t.legend.size,eG=t=>t.legend.payload;le([eG,zR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?xv(r,n):r});var sp=1;function tG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>sp||Math.abs(c.left-e.left)>sp||Math.abs(c.top-e.top)>sp||Math.abs(c.width-e.width)>sp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nG=typeof Symbol=="function"&&Symbol.observable||"@@observable",gN=nG,c2=()=>Math.random().toString(36).substring(7).split("").join("."),rG={INIT:`@@redux/INIT${c2()}`,REPLACE:`@@redux/REPLACE${c2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${c2()}`},lg=rG;function P_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function qR(t,e,n){if(typeof t!="function")throw new Error(Pn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pn(1));return n(qR)(t,e)}let r=t,i=e,s=new Map,c=s,d=0,h=!1;function f(){c===s&&(c=new Map,s.forEach((S,N)=>{c.set(N,S)}))}function p(){if(h)throw new Error(Pn(3));return i}function v(S){if(typeof S!="function")throw new Error(Pn(4));if(h)throw new Error(Pn(5));let N=!0;f();const P=d++;return c.set(P,S),function(){if(N){if(h)throw new Error(Pn(6));N=!1,f(),c.delete(P),s=null}}}function x(S){if(!P_(S))throw new Error(Pn(7));if(typeof S.type>"u")throw new Error(Pn(8));if(typeof S.type!="string")throw new Error(Pn(17));if(h)throw new Error(Pn(9));try{h=!0,i=r(i,S)}finally{h=!1}return(s=c).forEach(P=>{P()}),S}function w(S){if(typeof S!="function")throw new Error(Pn(10));r=S,x({type:lg.REPLACE})}function _(){const S=v;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Pn(11));function P(){const D=N;D.next&&D.next(p())}return P(),{unsubscribe:S(P)}},[gN](){return this}}}return x({type:lg.INIT}),{dispatch:x,subscribe:v,getState:p,replaceReducer:w,[gN]:_}}function iG(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:lg.INIT})>"u")throw new Error(Pn(12));if(typeof n(void 0,{type:lg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function $R(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{iG(n)}catch(s){i=s}return function(c={},d){if(i)throw i;let h=!1;const f={};for(let p=0;p<r.length;p++){const v=r[p],x=n[v],w=c[v],_=x(w,d);if(typeof _>"u")throw d&&d.type,new Error(Pn(14));f[v]=_,h=h||_!==w}return h=h||r.length!==Object.keys(c).length,h?f:c}}function cg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function aG(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Pn(15))};const c={getState:i.getState,dispatch:(h,...f)=>s(h,...f)},d=t.map(h=>h(c));return s=cg(...d)(i.dispatch),{...i,dispatch:s}}}function FR(t){return P_(t)&&"type"in t&&typeof t.type=="string"}var HR=Symbol.for("immer-nothing"),vN=Symbol.for("immer-draftable"),Pr=Symbol.for("immer-state");function gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hu=Object.getPrototypeOf;function Pl(t){return!!t&&!!t[Pr]}function ts(t){return t?KR(t)||Array.isArray(t)||!!t[vN]||!!t.constructor?.[vN]||_v(t)||wv(t):!1}var sG=Object.prototype.constructor.toString();function KR(t){if(!t||typeof t!="object")return!1;const e=hu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sG}function ug(t,e){bv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function bv(t){const e=t[Pr];return e?e.type_:Array.isArray(t)?1:_v(t)?2:wv(t)?3:0}function Ix(t,e){return bv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function GR(t,e,n){const r=bv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function oG(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _v(t){return t instanceof Map}function wv(t){return t instanceof Set}function ll(t){return t.copy_||t.base_}function Rx(t,e){if(_v(t))return new Map(t);if(wv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=KR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Pr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(hu(t),r)}else{const r=hu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function D_(t,e=!1){return Sv(t)||Pl(t)||!ts(t)||(bv(t)>1&&(t.set=t.add=t.clear=t.delete=lG),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>D_(r,!0))),t}function lG(){gi(2)}function Sv(t){return Object.isFrozen(t)}var cG={};function Dl(t){const e=cG[t];return e||gi(0,t),e}var Lh;function WR(){return Lh}function uG(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yN(t,e){e&&(Dl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Px(t){Dx(t),t.drafts_.forEach(dG),t.drafts_=null}function Dx(t){t===Lh&&(Lh=t.parent_)}function xN(t){return Lh=uG(Lh,t)}function dG(t){const e=t[Pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Pr].modified_&&(Px(e),gi(4)),ts(t)&&(t=dg(e,t),e.parent_||hg(e,t)),e.patches_&&Dl("Patches").generateReplacementPatches_(n[Pr].base_,t,e.patches_,e.inversePatches_)):t=dg(e,n,[]),Px(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==HR?t:void 0}function dg(t,e,n){if(Sv(e))return e;const r=e[Pr];if(!r)return ug(e,(i,s)=>_N(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return hg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,c=!1;r.type_===3&&(s=new Set(i),i.clear(),c=!0),ug(s,(d,h)=>_N(t,r,i,d,h,n,c)),hg(t,i,!1),n&&t.patches_&&Dl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function _N(t,e,n,r,i,s,c){if(Pl(i)){const d=s&&e&&e.type_!==3&&!Ix(e.assigned_,r)?s.concat(r):void 0,h=dg(t,i,d);if(GR(n,r,h),Pl(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(ts(i)&&!Sv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;dg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&hg(t,i)}}function hg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&D_(e,n)}function hG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:WR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=k_;n&&(i=[r],s=Vh);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,d}var k_={get(t,e){if(e===Pr)return t;const n=ll(t);if(!Ix(n,e))return fG(t,n,e);const r=n[e];return t.finalized_||!ts(r)?r:r===u2(t.base_,e)?(d2(t),t.copy_[e]=Mx(r,t)):r},has(t,e){return e in ll(t)},ownKeys(t){return Reflect.ownKeys(ll(t))},set(t,e,n){const r=YR(ll(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=u2(ll(t),e),s=i?.[Pr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(oG(n,i)&&(n!==void 0||Ix(t.base_,e)))return!0;d2(t),kx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return u2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,d2(t),kx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ll(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){gi(11)},getPrototypeOf(t){return hu(t.base_)},setPrototypeOf(){gi(12)}},Vh={};ug(k_,(t,e)=>{Vh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vh.deleteProperty=function(t,e){return Vh.set.call(this,t,e,void 0)};Vh.set=function(t,e,n){return k_.set.call(this,t[0],e,n,t[0])};function u2(t,e){const n=t[Pr];return(n?ll(n):t)[e]}function fG(t,e,n){const r=YR(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function YR(t,e){if(!(e in t))return;let n=hu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=hu(n)}}function kx(t){t.modified_||(t.modified_=!0,t.parent_&&kx(t.parent_))}function d2(t){t.copy_||(t.copy_=Rx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(h=s,...f){return c.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&gi(6),r!==void 0&&typeof r!="function"&&gi(7);let i;if(ts(e)){const s=xN(this),c=Mx(e,void 0);let d=!0;try{i=n(c),d=!1}finally{d?Px(s):Dx(s)}return yN(s,r),bN(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===HR&&(i=void 0),this.autoFreeze_&&D_(i,!0),r){const s=[],c=[];Dl("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else gi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,h=>e(h,...d));let r,i;return[this.produce(e,n,(c,d)=>{r=c,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ts(t)||gi(8),Pl(t)&&(t=Ha(t));const e=xN(this),n=Mx(t,void 0);return n[Pr].isManual_=!0,Dx(e),n}finishDraft(t,e){const n=t&&t[Pr];(!n||!n.isManual_)&&gi(9);const{scope_:r}=n;return yN(r,e),bN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Dl("Patches").applyPatches_;return Pl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Mx(t,e){const n=_v(t)?Dl("MapSet").proxyMap_(t,e):wv(t)?Dl("MapSet").proxySet_(t,e):hG(t,e);return(e?e.scope_:WR()).drafts_.push(n),n}function Ha(t){return Pl(t)||gi(10,t),XR(t)}function XR(t){if(!ts(t)||Sv(t))return t;const e=t[Pr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Rx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Rx(t,!0);return ug(n,(r,i)=>{GR(n,r,XR(i))}),e&&(e.finalized_=!1),n}var Dr=new mG,QR=Dr.produce;Dr.produceWithPatches.bind(Dr);Dr.setAutoFreeze.bind(Dr);Dr.setUseStrictShallowCopy.bind(Dr);Dr.applyPatches.bind(Dr);Dr.createDraft.bind(Dr);Dr.finishDraft.bind(Dr);function ZR(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var pG=ZR(),gG=ZR,vG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cg:cg.apply(null,arguments)};function ii(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ir(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FR(r)&&r.type===t,n}var JR=class oh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,oh.prototype)}static get[Symbol.species](){return oh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new oh(...e[0].concat(this)):new oh(...e.concat(this))}};function wN(t){return ts(t)?QR(t,()=>{}):t}function op(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function yG(t){return typeof t=="boolean"}var xG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new JR;return n&&(yG(n)?c.push(pG):c.push(gG(n.extraArgument))),c},bG="RTK_autoBatch",SN=t=>e=>{setTimeout(e,t)},_G=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SN(10):t.type==="callback"?t.queueNotification:SN(t.timeout),f=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),x=r.subscribe(v);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[bG],s=!i,s&&(c||(c=!0,h(f))),r.dispatch(p)}finally{i=!0}}})},wG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new JR(t);return r&&i.push(_G(typeof r=="object"?r:void 0)),i};function SG(t){const e=xG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(P_(n))d=$R(n);else throw new Error(Ir(1));let h;typeof r=="function"?h=r(e):h=e();let f=cg;i&&(f=vG({trace:!1,...typeof i=="object"&&i}));const p=aG(...h),v=wG(p);let x=typeof c=="function"?c(v):v();const w=f(...x);return qR(d,s,w)}function e5(t){const e={},n=[];let r;const i={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Ir(28));if(d in e)throw new Error(Ir(29));return e[d]=c,i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function TG(t){return typeof t=="function"}function EG(t,e){let[n,r,i]=e5(e),s;if(TG(t))s=()=>wN(t());else{const d=wN(t);s=()=>d}function c(d=s(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,v)=>{if(v)if(Pl(p)){const w=v(p,h);return w===void 0?p:w}else{if(ts(p))return QR(p,x=>v(x,h));{const x=v(p,h);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var AG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jG=(t=21)=>{let e="",n=t;for(;n--;)e+=AG[Math.random()*64|0];return e},NG=Symbol.for("rtk-slice-createasyncthunk");function CG(t,e){return`${t}/${e}`}function OG({creators:t}={}){const e=t?.asyncThunk?.[NG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ir(11));const c=(typeof r.reducers=="function"?r.reducers(RG()):r.reducers)||{},d=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,D){const k=typeof I=="string"?I:I.type;if(!k)throw new Error(Ir(12));if(k in h.sliceCaseReducersByType)throw new Error(Ir(13));return h.sliceCaseReducersByType[k]=D,f},addMatcher(I,D){return h.sliceMatchers.push({matcher:I,reducer:D}),f},exposeAction(I,D){return h.actionCreators[I]=D,f},exposeCaseReducer(I,D){return h.sliceCaseReducersByName[I]=D,f}};d.forEach(I=>{const D=c[I],k={reducerName:I,type:CG(i,I),createNotation:typeof r.reducers=="function"};DG(D)?MG(k,D,f,e):PG(k,D,f)});function p(){const[I={},D=[],k=void 0]=typeof r.extraReducers=="function"?e5(r.extraReducers):[r.extraReducers],V={...I,...h.sliceCaseReducersByType};return EG(r.initialState,j=>{for(let R in V)j.addCase(R,V[R]);for(let R of h.sliceMatchers)j.addMatcher(R.matcher,R.reducer);for(let R of D)j.addMatcher(R.matcher,R.reducer);k&&j.addDefaultCase(k)})}const v=I=>I,x=new Map,w=new WeakMap;let _;function T(I,D){return _||(_=p()),_(I,D)}function S(){return _||(_=p()),_.getInitialState()}function N(I,D=!1){function k(j){let R=j[I];return typeof R>"u"&&D&&(R=op(w,k,S)),R}function V(j=v){const R=op(x,D,()=>new WeakMap);return op(R,j,()=>{const L={};for(const[F,z]of Object.entries(r.selectors??{}))L[F]=IG(z,j,()=>op(w,j,S),D);return L})}return{reducerPath:I,getSelectors:V,get selectors(){return V(k)},selectSlice:k}}const P={name:i,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...N(s),injectInto(I,{reducerPath:D,...k}={}){const V=D??s;return I.inject({reducerPath:V,reducer:T},k),{...P,...N(V,!0)}}};return P}}function IG(t,e,n,r){function i(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return i.unwrapped=t,i}var si=OG();function RG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function PG({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!kG(r))throw new Error(Ir(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?ii(t,c):ii(t))}function DG(t){return t._reducerDefinitionType==="asyncThunk"}function kG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function MG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ir(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:h,settled:f,options:p}=n,v=i(t,s,p);r.exposeAction(e,v),c&&r.addCase(v.fulfilled,c),d&&r.addCase(v.pending,d),h&&r.addCase(v.rejected,h),f&&r.addMatcher(v.settled,f),r.exposeCaseReducer(e,{fulfilled:c||lp,pending:d||lp,rejected:h||lp,settled:f||lp})}function lp(){}var LG="task",t5="listener",n5="completed",M_="cancelled",VG=`task-${M_}`,UG=`task-${n5}`,Lx=`${t5}-${M_}`,BG=`${t5}-${n5}`,Tv=class{constructor(t){this.code=t,this.message=`${LG} ${M_} (reason: ${t})`}name="TaskAbortError";message},L_=(t,e)=>{if(typeof t!="function")throw new TypeError(Ir(32))},fg=()=>{},r5=(t,e=fg)=>(t.catch(e),t),i5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),xl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},bl=t=>{if(t.aborted){const{reason:e}=t;throw new Tv(e)}};function a5(t,e){let n=fg;return new Promise((r,i)=>{const s=()=>i(new Tv(t.reason));if(t.aborted){s();return}n=i5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=fg})}var zG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Tv?"cancelled":"rejected",error:n}}finally{e?.()}},mg=t=>e=>r5(a5(t,e).then(n=>(bl(t),n))),s5=t=>{const e=mg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:tu}=Object,TN={},Ev="listenerMiddleware",qG=(t,e)=>{const n=r=>i5(t,()=>xl(r,t.reason));return(r,i)=>{L_(r);const s=new AbortController;n(s);const c=zG(async()=>{bl(t),bl(s.signal);const d=await r({pause:mg(s.signal),delay:s5(s.signal),signal:s.signal});return bl(s.signal),d},()=>xl(s,UG));return i?.autoJoin&&e.push(c.catch(fg)),{result:mg(t)(c),cancel(){xl(s,VG)}}}},$G=(t,e)=>{const n=async(r,i)=>{bl(e);let s=()=>{};const d=[new Promise((h,f)=>{let p=t({predicate:r,effect:(v,x)=>{x.unsubscribe(),h([v,x.getState(),x.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&d.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await a5(e,Promise.race(d));return bl(e),h}finally{s()}};return(r,i)=>r5(n(r,i))},o5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ii(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ir(21));return L_(s),{predicate:i,type:e,effect:s}},l5=tu(t=>{const{type:e,predicate:n,effect:r}=o5(t);return{id:jG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>l5}),EN=(t,e)=>{const{type:n,effect:r,predicate:i}=o5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Vx=t=>{t.pending.forEach(e=>{xl(e,Lx)})},FG=t=>()=>{t.forEach(Vx),t.clear()},AN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},c5=tu(ii(`${Ev}/add`),{withTypes:()=>c5}),HG=ii(`${Ev}/removeAll`),u5=tu(ii(`${Ev}/remove`),{withTypes:()=>u5}),KG=(...t)=>{console.error(`${Ev}/error`,...t)},hf=(t={})=>{const e=new Map,{extra:n,onError:r=KG}=t;L_(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&Vx(p)}),s=p=>{const v=EN(e,p)??l5(p);return i(v)};tu(s,{withTypes:()=>s});const c=p=>{const v=EN(e,p);return v&&(v.unsubscribe(),p.cancelActive&&Vx(v)),!!v};tu(c,{withTypes:()=>c});const d=async(p,v,x,w)=>{const _=new AbortController,T=$G(s,_.signal),S=[];try{p.pending.add(_),await Promise.resolve(p.effect(v,tu({},x,{getOriginalState:w,condition:(N,P)=>T(N,P).then(Boolean),take:T,delay:s5(_.signal),pause:mg(_.signal),extra:n,signal:_.signal,fork:qG(_.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,P,I)=>{N!==_&&(xl(N,Lx),I.delete(N))})},cancel:()=>{xl(_,Lx),p.pending.delete(_)},throwIfCancelled:()=>{bl(_.signal)}})))}catch(N){N instanceof Tv||AN(r,N,{raisedBy:"effect"})}finally{await Promise.all(S),xl(_,BG),p.pending.delete(_)}},h=FG(e);return{middleware:p=>v=>x=>{if(!FR(x))return v(x);if(c5.match(x))return s(x.payload);if(HG.match(x)){h();return}if(u5.match(x))return c(x.payload);let w=p.getState();const _=()=>{if(w===TN)throw new Error(Ir(23));return w};let T;try{if(T=v(x),e.size>0){const S=p.getState(),N=Array.from(e.values());for(const P of N){let I=!1;try{I=P.predicate(x,S,w)}catch(D){I=!1,AN(r,D,{raisedBy:"predicate"})}I&&d(P,x,p,_)}}}finally{w=TN}return T},startListening:s,stopListening:c,clearListeners:h}};function Ir(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var GG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},d5=si({name:"chartLayout",initialState:GG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:WG,setLayout:YG,setChartSize:XG,setScale:QG}=d5.actions,ZG=d5.reducer;function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){JG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pg=Math.PI/180,nW=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-pg*r)*n,y:e+Math.sin(-pg*r)*n}),rW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},iW=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},aW=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=iW({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-i)/c,h=Math.acos(d);return r>s&&(h=2*Math.PI-h),{radius:c,angle:nW(h),angleInRadian:h}},sW=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},oW=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},lW=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=aW({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(i<c||i>d||i===0)return null;var{startAngle:h,endAngle:f}=sW(e),p=s,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?NN(NN({},e),{},{radius:i,angle:oW(p,e)}):null};function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=dW(t,"string");return typeof e=="symbol"?e:e+""}function dW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rr(t,e,n){return Vt(t)||Vt(e)?n:na(e)?Rl(t,e,n):typeof e=="function"?e(t):n}var hW=(t,e,n,r,i)=>{var s,c=-1,d=(s=e?.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,v=h>=d-1?n[0].coordinate:n[h+1].coordinate,x=void 0;if(ei(p-f)!==ei(v-p)){var w=[];if(ei(v-p)===ei(i[1]-i[0])){x=v;var _=p+i[1]-i[0];w[0]=Math.min(_,(_+f)/2),w[1]=Math.max(_,(_+f)/2)}else{x=f;var T=v+i[1]-i[0];w[0]=Math.min(p,(T+p)/2),w[1]=Math.max(p,(T+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=w[0]&&t<=w[1]){({index:c}=n[h]);break}}else{var N=Math.min(f,v),P=Math.max(f,v);if(t>(N+p)/2&&t<=(P+p)/2){({index:c}=n[h]);break}}}else if(e){for(var I=0;I<d;I++)if(I===0&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I>0&&I<d-1&&t>(e[I].coordinate+e[I-1].coordinate)/2&&t<=(e[I].coordinate+e[I+1].coordinate)/2||I===d-1&&t>(e[I].coordinate+e[I-1].coordinate)/2){({index:c}=e[I]);break}}return c},fW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Oe(t[s]))return Xr(Xr({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Oe(t[c]))return Xr(Xr({},t),{},{[c]:t[c]+(i||0)})}return t},Fl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",h5=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,c=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||c.push(e),s||c.push(n),c},f5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:v,niceTicks:x,axisType:w}=t;if(!c)return null;var _=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,T=i==="category"&&c.bandwidth?c.bandwidth()/_:0;if(T=w==="angleAxis"&&s&&s.length>=2?ei(s[0]-s[1])*2*T:T,v||x){var S=(v||x||[]).map((N,P)=>{var I=r?r.indexOf(N):N;return{coordinate:c(I)+T,value:N,offset:T,index:P}});return S.filter(N=>!ri(N.coordinate))}return h&&f?f.map((N,P)=>({coordinate:c(N)+T,value:N,index:P,offset:T})):c.ticks&&p!=null?c.ticks(p).map((N,P)=>({coordinate:c(N)+T,value:N,offset:T,index:P})):c.domain().map((N,P)=>({coordinate:c(N)+T,value:r?r[N]:N,index:P,offset:T}))},ON=1e-4,mW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-ON,s=Math.max(r[0],r[1])+ON,c=t(e[0]),d=t(e[n-1]);(c<i||c>s||d<i||d>s)&&t.domain([e[0],e[n-1]])}},pW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,c=0;c<e;++c){var d=ri(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},gW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var c=ri(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},vW={sign:pW,expand:XH,none:du,silhouette:QH,wiggle:ZH,positive:gW},yW=(t,e,n)=>{var r=vW[n],i=YH().keys(e).value((s,c)=>+rr(s,c,0)).order(Cx).offset(r);return i(t)};function xW(t){return t==null?void 0:String(t)}function IN(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vt(i[e.dataKey])){var d=dR(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var h=rr(i,Vt(c)?e.dataKey:c);return Vt(h)?null:e.scale(h)}var bW=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},_W=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],wW=(t,e,n)=>{if(t!=null)return _W(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:c}=s,d=c.reduce((h,f)=>{var p=bW(f.slice(e,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},RN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SW=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=xv(e,p=>p.coordinate),s=1/0,c=1,d=i.length;c<d;c++){var h=i[c],f=i[c-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return 0};function DN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Xr(Xr({},e),{},{dataKey:n,payload:r,value:i,name:s})}function m5(t,e){if(t)return String(t);if(typeof e=="string")return e}function TW(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?lW({x:t,y:e},r):null}var EW=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:c}=r;return Xr(Xr(Xr({},r),Ln(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,{angle:h}=r;return Xr(Xr(Xr({},r),Ln(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{x:0,y:0}},AW=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ls=t=>t.layout.width,cs=t=>t.layout.height,jW=t=>t.layout.scale,p5=t=>t.layout.margin,V_=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),U_=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),g5="data-recharts-item-index",v5="data-recharts-item-data-key",Av=60;function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=CW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IW=t=>t.brush.height,Un=le([ls,cs,p5,IW,V_,U_,zR,JK],(t,e,n,r,i,s,c,d)=>{var h=s.reduce((_,T)=>{var{orientation:S}=T;if(!T.mirror&&!T.hide){var N=typeof T.width=="number"?T.width:Av;return $s($s({},_),{},{[S]:_[S]+N})}return _},{left:n.left||0,right:n.right||0}),f=i.reduce((_,T)=>{var{orientation:S}=T;return!T.mirror&&!T.hide?$s($s({},_),{},{[S]:Rl(_,"".concat(S))+T.height}):_},{top:n.top||0,bottom:n.bottom||0}),p=$s($s({},f),h),v=p.bottom;p.bottom+=r,p=fW(p,c,d);var x=t-p.left-p.right,w=e-p.top-p.bottom;return $s($s({brushBottom:v},p),{},{width:Math.max(x,0),height:Math.max(w,0)})}),RW=le(Un,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),y5=le(ls,cs,(t,e)=>({x:0,y:0,width:t,height:e})),PW=A.createContext(null),oi=()=>A.useContext(PW)!=null,jv=t=>t.brush,Nv=le([jv,Un,p5],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),B_=()=>{var t,e=oi(),n=Ve(RW),r=Ve(Nv),i=(t=Ve(jv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},DW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},x5=()=>{var t;return(t=Ve(Un))!==null&&t!==void 0?t:DW},b5=()=>Ve(ls),_5=()=>Ve(cs),Yt=t=>t.layout.layoutType,w5=()=>Ve(Yt),kW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},S5=si({name:"legend",initialState:kW,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Ha(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:voe,setLegendSettings:yoe,addLegendPayload:MW,removeLegendPayload:LW}=S5.actions,VW=S5.reducer;function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(null,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return(e=BW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=zW(t,"string");return typeof e=="symbol"?e:e+""}function zW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t){return Array.isArray(t)&&na(t[0])&&na(t[1])?t.join(" ~ "):t}var $W=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:c,itemSorter:d,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:v,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var k={padding:0,margin:0},V=(d?xv(s,d):s).map((j,R)=>{if(j.type==="none")return null;var L=j.formatter||c||qW,{value:F,name:z}=j,q=F,$=z;if(L){var Ne=L(F,z,j,R,s);if(Array.isArray(Ne))[q,$]=Ne;else if(Ne!=null)q=Ne;else return null}var me=h2({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:me},na($)?A.createElement("span",{className:"recharts-tooltip-item-name"},$):null,na($)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:k},V)}return null},_=h2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=h2({margin:0},i),S=!Vt(p),N=S?p:"",P=Nt("recharts-default-tooltip",h),I=Nt("recharts-tooltip-label",f);S&&v&&s!==void 0&&s!==null&&(N=v(p,s));var D=x?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Ux({className:P,style:_},D),A.createElement("p",{className:I,style:T},A.isValidElement(N)?N:"".concat(N)),w())},Wd="recharts-tooltip-wrapper",FW={visibility:"hidden"};function HW(t){var{coordinate:e,translateX:n,translateY:r}=t;return Nt(Wd,{["".concat(Wd,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(Wd,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(Wd,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(Wd,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function LN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=t;if(s&&Oe(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),v=n[r]+i;if(e[r])return c[r]?p:v;var x=h[r];if(x==null)return 0;if(c[r]){var w=p,_=x;return w<_?Math.max(v,x):Math.max(p,x)}if(f==null)return 0;var T=v+d,S=x+f;return T>S?Math.max(p,x):Math.max(v,x)}function KW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function GW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:h}=t,f,p,v;return c.height>0&&c.width>0&&n?(p=LN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),v=LN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=KW({translateX:p,translateY:v,useTranslate3d:d})):f=FW,{cssProperties:f,cssClasses:HW({translateX:p,translateY:v,coordinate:n})}}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bx(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XW extends A.PureComponent{constructor(){super(...arguments),Bx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:d,isAnimationActive:h,offset:f,position:p,reverseDirection:v,useTranslate3d:x,viewBox:w,wrapperStyle:_,lastBoundingBox:T,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:P,cssProperties:I}=GW({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:f,position:p,reverseDirection:v,tooltipBox:{height:T.height,width:T.width},useTranslate3d:x,viewBox:w}),D=N?{}:cp(cp({transition:h&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=cp(cp({},D),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},_);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:k,ref:S},s)}}var QW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ff={isSsr:QW()},T5=()=>Ve(t=>t.rootProps.accessibilityLayer);function Ei(t){return Number.isFinite(t)}function gg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(null,arguments)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=eY(t,"string");return typeof e=="symbol"?e:e+""}function eY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zN={curveBasisClosed:VH,curveBasisOpen:UH,curveBasis:LH,curveBumpX:SH,curveBumpY:TH,curveLinearClosed:BH,curveLinear:vv,curveMonotoneX:zH,curveMonotoneY:qH,curveNatural:$H,curveStep:FH,curveStepAfter:KH,curveStepBefore:HH},up=t=>Ei(t.x)&&Ei(t.y),Yd=t=>t.x,Xd=t=>t.y,tY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(df(t));return(n==="curveMonotone"||n==="curveBump")&&e?zN["".concat(n).concat(e==="vertical"?"Y":"X")]:zN[n]||vv},nY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,c=tY(e,i),d=s?n.filter(up):n,h;if(Array.isArray(r)){var f=s?r.filter(v=>up(v)):r,p=d.map((v,x)=>BN(BN({},v),{},{base:f[x]}));return i==="vertical"?h=ip().y(Xd).x1(Yd).x0(v=>v.base.x):h=ip().x(Yd).y1(Xd).y0(v=>v.base.y),h.defined(up).curve(c),h(p)}return i==="vertical"&&Oe(r)?h=ip().y(Xd).x1(Yd).x0(r):Oe(r)?h=ip().x(Yd).y1(Xd).y0(r):h=bR().x(Yd).y(Xd),h.defined(up).curve(c),h(d)},E5=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?nY(t):r;return A.createElement("path",zx({},Pt(t,!1),uH(t),{className:Nt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},rY=["x","y","top","left","width","height","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(null,arguments)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){aY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e,n){return(e=sY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sY(t){var e=oY(t,"string");return typeof e=="symbol"?e:e+""}function oY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t,e){if(t==null)return{};var n,r,i=cY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uY=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),dY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:d}=t,h=lY(t,rY),f=iY({x:e,y:n,top:r,left:i,width:s,height:c},h);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(c)||!Oe(r)||!Oe(i)?null:A.createElement("path",qx({},Pt(f,!0),{className:Nt("recharts-cross",d),d:uY(e,n,s,c,r,i)}))};function hY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){mY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mY(t,e,n){return(e=pY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=gY(t,"string");return typeof e=="symbol"?e:e+""}function gY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hl(t,e){var n=fY({},t),r=e,i=Object.keys(e),s=i.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var f2={},m2={},p2={},FN;function vY(){return FN||(FN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(p2)),p2}var HN;function yY(){return HN||(HN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vY(),n=kR(),r=O_(),i=I_(),s=N_();function c(f,p,v){return d(f,p,void 0,void 0,void 0,void 0,v)}function d(f,p,v,x,w,_,T){const S=T(f,p,v,x,w,_);if(S!==void 0)return S;if(typeof f==typeof p)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===p;case"number":return f===p||Object.is(f,p);case"function":return f===p;case"object":return h(f,p,_,T)}return h(f,p,_,T)}function h(f,p,v,x){if(Object.is(f,p))return!0;let w=r.getTag(f),_=r.getTag(p);if(w===i.argumentsTag&&(w=i.objectTag),_===i.argumentsTag&&(_=i.objectTag),w!==_)return!1;switch(w){case i.stringTag:return f.toString()===p.toString();case i.numberTag:{const N=f.valueOf(),P=p.valueOf();return s.eq(N,P)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),p.valueOf());case i.regexpTag:return f.source===p.source&&f.flags===p.flags;case i.functionTag:return f===p}v=v??new Map;const T=v.get(f),S=v.get(p);if(T!=null&&S!=null)return T===p;v.set(f,p),v.set(p,f);try{switch(w){case i.mapTag:{if(f.size!==p.size)return!1;for(const[N,P]of f.entries())if(!p.has(N)||!d(P,p.get(N),N,f,p,v,x))return!1;return!0}case i.setTag:{if(f.size!==p.size)return!1;const N=Array.from(f.values()),P=Array.from(p.values());for(let I=0;I<N.length;I++){const D=N[I],k=P.findIndex(V=>d(D,V,void 0,f,p,v,x));if(k===-1)return!1;P.splice(k,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(p)||f.length!==p.length)return!1;for(let N=0;N<f.length;N++)if(!d(f[N],p[N],N,f,p,v,x))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==p.byteLength?!1:h(new Uint8Array(f),new Uint8Array(p),v,x);case i.dataViewTag:return f.byteLength!==p.byteLength||f.byteOffset!==p.byteOffset?!1:h(new Uint8Array(f),new Uint8Array(p),v,x);case i.errorTag:return f.name===p.name&&f.message===p.message;case i.objectTag:{if(!(h(f.constructor,p.constructor,v,x)||e.isPlainObject(f)&&e.isPlainObject(p)))return!1;const P=[...Object.keys(f),...n.getSymbols(f)],I=[...Object.keys(p),...n.getSymbols(p)];if(P.length!==I.length)return!1;for(let D=0;D<P.length;D++){const k=P[D],V=f[k];if(!Object.hasOwn(p,k))return!1;const j=p[k];if(!d(V,j,k,f,p,v,x))return!1}return!0}default:return!1}}finally{v.delete(f),v.delete(p)}}t.isEqualWith=c}(m2)),m2}var g2={},KN;function xY(){return KN||(KN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(g2)),g2}var GN;function bY(){return GN||(GN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yY(),n=xY();function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r}(f2)),f2}var v2,WN;function _Y(){return WN||(WN=1,v2=bY().isEqual),v2}var wY=_Y();const SY=ia(wY);function TY(t){var e={},n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[h,...f]=d;if(typeof h=="number"){i=t.setTimeout(s.bind(null,f),h);return}s(h),i=t.setTimeout(s.bind(null,f));return}typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}var vg=1e-4,A5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],j5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),YN=(t,e)=>n=>{var r=A5(t,e);return j5(r,n)},EY=(t,e)=>n=>{var r=A5(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return j5(i,n)},XN=function(){for(var e,n,r,i,s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var h=c[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,i]=h[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else c.length===4&&([e,r,n,i]=c);var f=YN(e,n),p=YN(r,i),v=EY(e,n),x=_=>_>1?1:_<0?0:_,w=_=>{for(var T=_>1?1:_,S=T,N=0;N<8;++N){var P=f(S)-T,I=v(S);if(Math.abs(P-T)<vg||I<vg)return p(S);S=x(S-P/I)}return p(S)};return w.isStepper=!1,w},AY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,d,h)=>{var f=-(c-d)*n,p=h*r,v=h+(f-p)*i/1e3,x=h*i/1e3+c;return Math.abs(x-d)<vg&&Math.abs(v)<vg?[d,0]:[x,v]};return s.isStepper=!0,s.dt=i,s},jY=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XN(t);case"spring":return AY();default:if(t.split("(")[0]==="cubic-bezier")return XN(t)}return typeof t=="function"?t:null};function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){NY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NY(t,e,n){return(e=CY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=OY(t,"string");return typeof e=="symbol"?e:e+""}function OY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),RY=(t,e,n)=>t.map(r=>"".concat(IY(r)," ").concat(e,"ms ").concat(n)).join(","),PY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Uh=(t,e)=>Object.keys(e).reduce((n,r)=>ZN(ZN({},n),{},{[r]:t(r,e[r])}),{});function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){DY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DY(t,e,n){return(e=kY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=MY(t,"string");return typeof e=="symbol"?e:e+""}function MY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg=(t,e,n)=>t+(e-t)*n,$x=t=>{var{from:e,to:n}=t;return e!==n},N5=(t,e,n)=>{var r=Uh((i,s)=>{if($x(s)){var[c,d]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Uh((i,s)=>$x(s)?kn(kn({},s),{},{velocity:yg(s.velocity,r[i].velocity,n),from:yg(s.from,r[i].from,n)}):s,e):N5(t,r,n-1)};function LY(t,e,n,r,i,s){var c,d=r.reduce((x,w)=>kn(kn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),h=()=>Uh((x,w)=>w.from,d),f=()=>!Object.values(d).filter($x).length,p=null,v=x=>{c||(c=x);var w=x-c,_=w/n.dt;d=N5(n,d,_),i(kn(kn(kn({},t),e),h())),c=x,f()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{p()})}function VY(t,e,n,r,i,s,c){var d=null,h=i.reduce((v,x)=>kn(kn({},v),{},{[x]:[t[x],e[x]]}),{}),f,p=v=>{f||(f=v);var x=(v-f)/r,w=Uh((T,S)=>yg(...S,n(x)),h);if(s(kn(kn(kn({},t),e),w)),x<1)d=c.setTimeout(p);else{var _=Uh((T,S)=>yg(...S,n(1)),h);s(kn(kn(kn({},t),e),_))}};return()=>(d=c.setTimeout(p),()=>{d()})}const UY=(t,e,n,r,i,s)=>{var c=PY(t,e);return n.isStepper===!0?LY(t,e,n,c,i,s):VY(t,e,n,r,c,i,s)};class BY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var zY=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(null,arguments)}function qY(t,e){if(t==null)return{};var n,r,i=$Y(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Y(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){fl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fl(t,e,n){return(e=FY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=HY(t,"string");return typeof e=="symbol"?e:e+""}function HY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(){return TY(new BY)}class z_ extends A.PureComponent{constructor(e,n){super(e,n),fl(this,"mounted",!1),fl(this,"manager",null),fl(this,"stopJSAnimation",null),fl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:c,children:d,duration:h,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(s){if(typeof d=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:c,from:d}=this.props,{style:h}=this.state;if(r){if(!n){var f={style:i?{[i]:c}:c};this.state&&h&&(i&&h[i]!==c||!i&&h!==c)&&this.setState(f);return}if(!(SY(e.to,c)&&e.canBegin&&e.isActive)){var p=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=p||s?d:e.to;if(this.state&&h){var x={style:i?{[i]:v}:v};(i&&h[i]!==v||!i&&h!==v)&&this.setState(x)}this.runAnimation(Fs(Fs({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:h}=e,f=UY(n,r,jY(s),i,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=f()};this.manager.start([h,c,p,i,d])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:c,onAnimationStart:d,onAnimationEnd:h,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(e);return}var p=i?{[i]:s}:s,v=RY(Object.keys(p),r,c);this.manager.start([d,n,Fs(Fs({},p),{},{transition:v}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:c,isActive:d,from:h,to:f,canBegin:p,onAnimationEnd:v,shouldReAnimate:x,onAnimationReStart:w,animationManager:_}=e,T=qY(e,zY),S=A.Children.count(n),N=this.state.style;if(typeof n=="function")return n(N);if(!d||S===0||i<=0)return n;var P=I=>{var{style:D={},className:k}=I.props,V=A.cloneElement(I,Fs(Fs({},T),{},{style:Fs(Fs({},D),N),className:k}));return V};return S===1?P(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,I=>P(I)))}}fl(z_,"displayName","Animate");fl(z_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var GY=A.createContext(null);function Bh(t){var e,n,r=A.useContext(GY);return A.createElement(z_,Fx({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:KY()}))}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(null,arguments)}var t3=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,x=4;v<x;v++)p[v]=i[v]>s?s:i[v];f="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(e)),f+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+c*p[1])),f+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),f+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-c*p[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);f="M ".concat(t,",").concat(e+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+n,",").concat(e+c*w,`
            L `).concat(t+n,",").concat(e+r-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(h,",").concat(t,",").concat(e+r-c*w," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},WY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C5=t=>{var e=Hl(t,WY),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&i(N)}catch{}},[]);var{x:s,y:c,width:d,height:h,radius:f,className:p}=e,{animationEasing:v,animationDuration:x,animationBegin:w,isAnimationActive:_,isUpdateAnimationActive:T}=e;if(s!==+s||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var S=Nt("recharts-rectangle",p);return T?A.createElement(Bh,{canBegin:r>0,from:{width:d,height:h,x:s,y:c},to:{width:d,height:h,x:s,y:c},duration:x,animationEasing:v,isActive:T},N=>{var{width:P,height:I,x:D,y:k}=N;return A.createElement(Bh,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:_,easing:v},A.createElement("path",xg({},Pt(e,!0),{className:S,d:t3(D,k,P,I,f),ref:n})))}):A.createElement("path",xg({},Pt(e,!0),{className:S,d:t3(s,c,d,h,f)}))};function O5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=Ln(e,n,r,i),d=Ln(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(null,arguments)}var YY=(t,e)=>{var n=ei(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},dp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:h}=t,f=d*(c?1:-1)+r,p=Math.asin(d/f)/pg,v=h?i:i+s*p,x=Ln(e,n,f,v),w=Ln(e,n,r,v),_=h?i-s*p:i,T=Ln(e,n,f*Math.cos(p*pg),_);return{center:x,circleTangency:w,lineTangency:T,theta:p}},I5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,d=YY(s,c),h=s+d,f=Ln(e,n,i,s),p=Ln(e,n,i,h),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Ln(e,n,r,s),w=Ln(e,n,r,h);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},XY=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}=t,p=ei(f-h),{circleTangency:v,lineTangency:x,theta:w}=dp({cx:e,cy:n,radius:i,angle:h,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:_,lineTangency:T,theta:S}=dp({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(h-f):Math.abs(h-f)-w-S;if(N<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):I5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:D,theta:k}=dp({cx:e,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:V,lineTangency:j,theta:R}=dp({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),L=d?Math.abs(h-f):Math.abs(h-f)-k-R;if(L<0&&s===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},QY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},R5=t=>{var e=Hl(t,QY),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p,className:v}=e;if(s<i||f===p)return null;var x=Nt("recharts-sector",v),w=s-i,_=vo(c,w,0,!0),T;return _>0&&Math.abs(f-p)<360?T=XY({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(_,w/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):T=I5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),A.createElement("path",Hx({},Pt(e,!0),{className:x,d:T}))};function ZY(t,e,n){var r,i,s,c;if(t==="horizontal")r=e.x,s=r,i=n.top,c=n.top+n.height;else if(t==="vertical")i=e.y,c=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:d,cy:h,innerRadius:f,outerRadius:p,angle:v}=e,x=Ln(d,h,f,v),w=Ln(d,h,p,v);r=x.x,i=x.y,s=w.x,c=w.y}else return O5(e);return[{x:r,y:i},{x:s,y:c}]}var y2={},x2={},b2={},n3;function JY(){return n3||(n3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(b2)),b2}var r3;function eX(){return r3||(r3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JY();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(x2)),x2}var i3;function tX(){return i3||(i3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BR(),n=eX();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-i)/(c||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=i,i+=c;return h}t.range=r}(y2)),y2}var _2,a3;function nX(){return a3||(a3=1,_2=tX().range),_2}var rX=nX();const P5=ia(rX);function ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q_(t){let e,n,r;t.length!==2?(e=ao,n=(d,h)=>ao(t(d),h),r=(d,h)=>t(d)-h):(e=t===ao||t===iX?t:aX,n=t,r=t);function i(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<0?f=v+1:p=v}while(f<p)}return f}function s(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<=0?f=v+1:p=v}while(f<p)}return f}function c(d,h,f=0,p=d.length){const v=i(d,h,f,p-1);return v>f&&r(d[v-1],h)>-r(d[v],h)?v-1:v}return{left:i,center:c,right:s}}function aX(){return 0}function D5(t){return t===null?NaN:+t}function*sX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oX=q_(ao),mf=oX.right;q_(D5).center;class s3 extends Map{constructor(e,n=uX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(o3(this,e))}has(e){return super.has(o3(this,e))}set(e,n){return super.set(lX(this,e),n)}delete(e){return super.delete(cX(this,e))}}function o3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dX(t=ao){if(t===ao)return k5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function k5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hX=Math.sqrt(50),fX=Math.sqrt(10),mX=Math.sqrt(2);function bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=hX?10:s>=fX?5:s>=mX?2:1;let d,h,f;return i<0?(f=Math.pow(10,-i)/c,d=Math.round(t*f),h=Math.round(e*f),d/f<t&&++d,h/f>e&&--h,f=-f):(f=Math.pow(10,i)*c,d=Math.round(t/f),h=Math.round(e/f),d*f<t&&++d,h*f>e&&--h),h<d&&.5<=n&&n<2?bg(t,e,n*2):[d,h,f]}function Kx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?bg(e,t,n):bg(t,e,n);if(!(s>=i))return[];const d=s-i+1,h=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)h[f]=(s-f)/-c;else for(let f=0;f<d;++f)h[f]=(s-f)*c;else if(c<0)for(let f=0;f<d;++f)h[f]=(i+f)/-c;else for(let f=0;f<d;++f)h[f]=(i+f)*c;return h}function Gx(t,e,n){return e=+e,t=+t,n=+n,bg(t,e,n)[2]}function Wx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Gx(e,t,n):Gx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function l3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function c3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function M5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?k5:dX(i);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,p=Math.log(h),v=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*v*(h-v)/h)*(f-h/2<0?-1:1),w=Math.max(n,Math.floor(e-f*v/h+x)),_=Math.min(r,Math.floor(e+(h-f)*v/h+x));M5(t,e,w,_,i)}const s=t[e];let c=n,d=r;for(Qd(t,n,e),i(t[r],s)>0&&Qd(t,n,r);c<d;){for(Qd(t,c,d),++c,--d;i(t[c],s)<0;)++c;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?Qd(t,n,d):(++d,Qd(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Qd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pX(t,e,n){if(t=Float64Array.from(sX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return c3(t);if(e>=1)return l3(t);var r,i=(r-1)*e,s=Math.floor(i),c=l3(M5(t,s).subarray(0,s+1)),d=c3(t.subarray(s+1));return c+(d-c)*(i-s)}}function gX(t,e,n=D5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(i-s)}}function vX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function us(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Yx=Symbol("implicit");function $_(){var t=new s3,e=[],n=[],r=Yx;function i(s){let c=t.get(s);if(c===void 0){if(r!==Yx)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new s3;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $_(e,n).unknown(r)},li.apply(i,arguments),i}function F_(){var t=$_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,d=!1,h=0,f=0,p=.5;delete t.unknown;function v(){var x=e().length,w=i<r,_=w?i:r,T=w?r:i;s=(T-_)/Math.max(1,x-h+f*2),d&&(s=Math.floor(s)),_+=(T-_-s*(x-h))*p,c=s*(1-h),d&&(_=Math.round(_),c=Math.round(c));var S=vX(x).map(function(N){return _+s*N});return n(w?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),v()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,d=!0,v()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,v()):d},t.padding=function(x){return arguments.length?(h=Math.min(1,f=+x),v()):h},t.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),v()):h},t.paddingOuter=function(x){return arguments.length?(f=+x,v()):f},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),v()):p},t.copy=function(){return F_(e(),[r,i]).round(d).paddingInner(h).paddingOuter(f).align(p)},li.apply(v(),arguments)}function L5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return L5(e())},t}function yX(){return L5(F_.apply(null,arguments).paddingInner(1))}function H_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function V5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pf(){}var zh=.7,_g=1/zh,nu="\\s*([+-]?\\d+)\\s*",qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xX=/^#([0-9a-f]{3,8})$/,bX=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),_X=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),wX=new RegExp(`^rgba\\(${nu},${nu},${nu},${qh}\\)$`),SX=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${qh}\\)$`),TX=new RegExp(`^hsl\\(${qh},${Ji},${Ji}\\)$`),EX=new RegExp(`^hsla\\(${qh},${Ji},${Ji},${qh}\\)$`),u3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H_(pf,$h,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:d3,formatHex:d3,formatHex8:AX,formatHsl:jX,formatRgb:h3,toString:h3});function d3(){return this.rgb().formatHex()}function AX(){return this.rgb().formatHex8()}function jX(){return U5(this).formatHsl()}function h3(){return this.rgb().formatRgb()}function $h(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f3(e):n===3?new dr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bX.exec(t))?new dr(e[1],e[2],e[3],1):(e=_X.exec(t))?new dr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wX.exec(t))?hp(e[1],e[2],e[3],e[4]):(e=SX.exec(t))?hp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TX.exec(t))?g3(e[1],e[2]/100,e[3]/100,1):(e=EX.exec(t))?g3(e[1],e[2]/100,e[3]/100,e[4]):u3.hasOwnProperty(t)?f3(u3[t]):t==="transparent"?new dr(NaN,NaN,NaN,0):null}function f3(t){return new dr(t>>16&255,t>>8&255,t&255,1)}function hp(t,e,n,r){return r<=0&&(t=e=n=NaN),new dr(t,e,n,r)}function NX(t){return t instanceof pf||(t=$h(t)),t?(t=t.rgb(),new dr(t.r,t.g,t.b,t.opacity)):new dr}function Xx(t,e,n,r){return arguments.length===1?NX(t):new dr(t,e,n,r??1)}function dr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H_(dr,Xx,V5(pf,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zh:Math.pow(zh,t),new dr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dr(_l(this.r),_l(this.g),_l(this.b),wg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m3,formatHex:m3,formatHex8:CX,formatRgb:p3,toString:p3}));function m3(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}`}function CX(){return`#${ml(this.r)}${ml(this.g)}${ml(this.b)}${ml((isNaN(this.opacity)?1:this.opacity)*255)}`}function p3(){const t=wg(this.opacity);return`${t===1?"rgb(":"rgba("}${_l(this.r)}, ${_l(this.g)}, ${_l(this.b)}${t===1?")":`, ${t})`}`}function wg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _l(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ml(t){return t=_l(t),(t<16?"0":"")+t.toString(16)}function g3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,n,r)}function U5(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof pf||(t=$h(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-i,h=(s+i)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=h<.5?s+i:2-s-i,c*=60):d=h>0&&h<1?0:c,new vi(c,d,h,t.opacity)}function OX(t,e,n,r){return arguments.length===1?U5(t):new vi(t,e,n,r??1)}function vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H_(vi,OX,V5(pf,{brighter(t){return t=t==null?_g:Math.pow(_g,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zh:Math.pow(zh,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dr(w2(t>=240?t-240:t+120,i,r),w2(t,i,r),w2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vi(v3(this.h),fp(this.s),fp(this.l),wg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wg(this.opacity);return`${t===1?"hsl(":"hsla("}${v3(this.h)}, ${fp(this.s)*100}%, ${fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function v3(t){return t=(t||0)%360,t<0?t+360:t}function fp(t){return Math.max(0,Math.min(1,t||0))}function w2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const K_=t=>()=>t;function IX(t,e){return function(n){return t+n*e}}function RX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function PX(t){return(t=+t)==1?B5:function(e,n){return n-e?RX(e,n,t):K_(isNaN(e)?n:e)}}function B5(t,e){var n=e-t;return n?IX(t,n):K_(isNaN(t)?e:t)}const y3=function t(e){var n=PX(e);function r(i,s){var c=n((i=Xx(i)).r,(s=Xx(s)).r),d=n(i.g,s.g),h=n(i.b,s.b),f=B5(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=d(p),i.b=h(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function DX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function kX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=Ou(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=i[c](d);return s}}function LX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ou(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Qx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S2=new RegExp(Qx.source,"g");function UX(t){return function(){return t}}function BX(t){return function(e){return t(e)+""}}function zX(t,e){var n=Qx.lastIndex=S2.lastIndex=0,r,i,s,c=-1,d=[],h=[];for(t=t+"",e=e+"";(r=Qx.exec(t))&&(i=S2.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,h.push({i:c,x:Sg(r,i)})),n=S2.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?h[0]?BX(h[0].x):UX(e):(e=h.length,function(f){for(var p=0,v;p<e;++p)d[(v=h[p]).i]=v.x(f);return d.join("")})}function Ou(t,e){var n=typeof e,r;return e==null||n==="boolean"?K_(e):(n==="number"?Sg:n==="string"?(r=$h(e))?(e=r,y3):zX:e instanceof $h?y3:e instanceof Date?LX:kX(e)?DX:Array.isArray(e)?MX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VX:Sg)(t,e)}function G_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function qX(t,e){e===void 0&&(e=t,t=Ou);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function $X(t){return function(){return t}}function Tg(t){return+t}var x3=[0,1];function nr(t){return t}function Zx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$X(isNaN(e)?NaN:.5)}function FX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function HX(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=Zx(i,r),s=n(c,s)):(r=Zx(r,i),s=n(s,c)),function(d){return s(r(d))}}function KX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=Zx(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var h=mf(t,d,1,r)-1;return s[h](i[h](d))}}function gf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cv(){var t=x3,e=x3,n=Ou,r,i,s,c=nr,d,h,f;function p(){var x=Math.min(t.length,e.length);return c!==nr&&(c=FX(t[0],t[x-1])),d=x>2?KX:HX,h=f=null,v}function v(x){return x==null||isNaN(x=+x)?s:(h||(h=d(t.map(r),e,n)))(r(c(x)))}return v.invert=function(x){return c(i((f||(f=d(e,t.map(r),Sg)))(x)))},v.domain=function(x){return arguments.length?(t=Array.from(x,Tg),p()):t.slice()},v.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},v.rangeRound=function(x){return e=Array.from(x),n=G_,p()},v.clamp=function(x){return arguments.length?(c=x?!0:nr,p()):c!==nr},v.interpolate=function(x){return arguments.length?(n=x,p()):n},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,w){return r=x,i=w,p()}}function W_(){return Cv()(nr,nr)}function GX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Eg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fu(t){return t=Eg(Math.abs(t)),t?t[1]:NaN}function WX(t,e){return function(n,r){for(var i=n.length,s=[],c=0,d=t[0],h=0;i>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),s.push(n.substring(i-=d,i+d)),!((h+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function YX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fh(t){if(!(e=XX.exec(t)))throw new Error("invalid format: "+t);var e;return new Y_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fh.prototype=Y_.prototype;function Y_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Y_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var z5;function ZX(t,e){var n=Eg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(z5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Eg(t,Math.max(0,e+s-1))[0]}function b3(t,e){var n=Eg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>b3(t*100,e),r:b3,s:ZX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w3(t){return t}var S3=Array.prototype.map,T3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function JX(t){var e=t.grouping===void 0||t.thousands===void 0?w3:WX(S3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?w3:YX(S3.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(v){v=Fh(v);var x=v.fill,w=v.align,_=v.sign,T=v.symbol,S=v.zero,N=v.width,P=v.comma,I=v.precision,D=v.trim,k=v.type;k==="n"?(P=!0,k="g"):_3[k]||(I===void 0&&(I=12),D=!0,k="g"),(S||x==="0"&&w==="=")&&(S=!0,x="0",w="=");var V=T==="$"?n:T==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",j=T==="$"?r:/[%p]/.test(k)?c:"",R=_3[k],L=/[defgprs%]/.test(k);I=I===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function F(z){var q=V,$=j,Ne,me,te;if(k==="c")$=R(z)+$,z="";else{z=+z;var de=z<0||1/z<0;if(z=isNaN(z)?h:R(Math.abs(z),I),D&&(z=QX(z)),de&&+z==0&&_!=="+"&&(de=!1),q=(de?_==="("?_:d:_==="-"||_==="("?"":_)+q,$=(k==="s"?T3[8+z5/3]:"")+$+(de&&_==="("?")":""),L){for(Ne=-1,me=z.length;++Ne<me;)if(te=z.charCodeAt(Ne),48>te||te>57){$=(te===46?i+z.slice(Ne+1):z.slice(Ne))+$,z=z.slice(0,Ne);break}}}P&&!S&&(z=e(z,1/0));var ae=q.length+z.length+$.length,_e=ae<N?new Array(N-ae+1).join(x):"";switch(P&&S&&(z=e(_e+z,_e.length?N-$.length:1/0),_e=""),w){case"<":z=q+z+$+_e;break;case"=":z=q+_e+z+$;break;case"^":z=_e.slice(0,ae=_e.length>>1)+q+z+$+_e.slice(ae);break;default:z=_e+q+z+$;break}return s(z)}return F.toString=function(){return v+""},F}function p(v,x){var w=f((v=Fh(v),v.type="f",v)),_=Math.max(-8,Math.min(8,Math.floor(fu(x)/3)))*3,T=Math.pow(10,-_),S=T3[8+_/3];return function(N){return w(T*N)+S}}return{format:f,formatPrefix:p}}var mp,X_,q5;eQ({thousands:",",grouping:[3],currency:["$",""]});function eQ(t){return mp=JX(t),X_=mp.format,q5=mp.formatPrefix,mp}function tQ(t){return Math.max(0,-fu(Math.abs(t)))}function nQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fu(e)/3)))*3-fu(Math.abs(t)))}function rQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fu(e)-fu(t))+1}function $5(t,e,n,r){var i=Wx(t,e,n),s;switch(r=Fh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=nQ(i,c))&&(r.precision=s),q5(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=rQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=tQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return X_(r)}function wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Kx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],d=r[s],h,f,p=10;for(d<c&&(f=c,c=d,d=f,f=i,i=s,s=f);p-- >0;){if(f=Gx(c,d,n),f===h)return r[i]=c,r[s]=d,e(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;h=f}return t},t}function F5(){var t=W_();return t.copy=function(){return gf(t,F5())},li.apply(t,arguments),wo(t)}function H5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return H5(t).unknown(e)},t=arguments.length?Array.from(t,Tg):[0,1],wo(n)}function K5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function E3(t){return Math.log(t)}function A3(t){return Math.exp(t)}function iQ(t){return-Math.log(-t)}function aQ(t){return-Math.exp(-t)}function sQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oQ(t){return t===10?sQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function j3(t){return(e,n)=>-t(-e,n)}function Q_(t){const e=t(E3,A3),n=e.domain;let r=10,i,s;function c(){return i=lQ(r),s=oQ(r),n()[0]<0?(i=j3(i),s=j3(s),t(iQ,aQ)):t(E3,A3),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const h=n();let f=h[0],p=h[h.length-1];const v=p<f;v&&([f,p]=[p,f]);let x=i(f),w=i(p),_,T;const S=d==null?10:+d;let N=[];if(!(r%1)&&w-x<S){if(x=Math.floor(x),w=Math.ceil(w),f>0){for(;x<=w;++x)for(_=1;_<r;++_)if(T=x<0?_/s(-x):_*s(x),!(T<f)){if(T>p)break;N.push(T)}}else for(;x<=w;++x)for(_=r-1;_>=1;--_)if(T=x>0?_/s(-x):_*s(x),!(T<f)){if(T>p)break;N.push(T)}N.length*2<S&&(N=Kx(f,p,S))}else N=Kx(x,w,Math.min(w-x,S)).map(s);return v?N.reverse():N},e.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Fh(h)).precision==null&&(h.trim=!0),h=X_(h)),d===1/0)return h;const f=Math.max(1,r*d/e.ticks().length);return p=>{let v=p/s(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=f?h(p):""}},e.nice=()=>n(K5(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function G5(){const t=Q_(Cv()).domain([1,10]);return t.copy=()=>gf(t,G5()).base(t.base()),li.apply(t,arguments),t}function N3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function C3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Z_(t){var e=1,n=t(N3(e),C3(e));return n.constant=function(r){return arguments.length?t(N3(e=+r),C3(e)):e},wo(n)}function W5(){var t=Z_(Cv());return t.copy=function(){return gf(t,W5()).constant(t.constant())},li.apply(t,arguments)}function O3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uQ(t){return t<0?-t*t:t*t}function J_(t){var e=t(nr,nr),n=1;function r(){return n===1?t(nr,nr):n===.5?t(cQ,uQ):t(O3(n),O3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},wo(e)}function ew(){var t=J_(Cv());return t.copy=function(){return gf(t,ew()).exponent(t.exponent())},li.apply(t,arguments),t}function dQ(){return ew.apply(null,arguments).exponent(.5)}function I3(t){return Math.sign(t)*t*t}function hQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y5(){var t=W_(),e=[0,1],n=!1,r;function i(s){var c=hQ(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(I3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Tg)).map(I3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Y5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},li.apply(i,arguments),wo(i)}function X5(){var t=[],e=[],n=[],r;function i(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=gX(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[mf(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(ao),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return X5().domain(t).range(e).unknown(r)},li.apply(s,arguments)}function Q5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(h){return h!=null&&h<=h?i[mf(r,h,0,n)]:s}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,d()):[t,e]},c.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,d()):i.slice()},c.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},c.unknown=function(h){return arguments.length&&(s=h),c},c.thresholds=function(){return r.slice()},c.copy=function(){return Q5().domain([t,e]).range(i).unknown(s)},li.apply(wo(c),arguments)}function Z5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[mf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Z5().domain(t).range(e).unknown(n)},li.apply(i,arguments)}const T2=new Date,E2=new Date;function gn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),d=i.ceil(s);return s-c<d-s?c:d},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,d)=>{const h=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return h;let f;do h.push(f=new Date(+s)),e(s,d),t(s);while(f<s&&s<c);return h},i.filter=s=>gn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(T2.setTime(+s),E2.setTime(+c),t(T2),t(E2),Math.floor(n(T2,E2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const Ag=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ag.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ag);Ag.range;const Ua=1e3,ti=Ua*60,Ba=ti*60,ns=Ba*24,tw=ns*7,R3=ns*30,A2=ns*365,pl=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCSeconds());pl.range;const nw=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());nw.range;const rw=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());rw.range;const iw=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getHours());iw.range;const aw=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCHours());aw.range;const vf=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/ns,t=>t.getDate()-1);vf.range;const Ov=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>t.getUTCDate()-1);Ov.range;const J5=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>Math.floor(t/ns));J5.range;function Kl(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/tw)}const Iv=Kl(0),jg=Kl(1),fQ=Kl(2),mQ=Kl(3),mu=Kl(4),pQ=Kl(5),gQ=Kl(6);Iv.range;jg.range;fQ.range;mQ.range;mu.range;pQ.range;gQ.range;function Gl(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tw)}const Rv=Gl(0),Ng=Gl(1),vQ=Gl(2),yQ=Gl(3),pu=Gl(4),xQ=Gl(5),bQ=Gl(6);Rv.range;Ng.range;vQ.range;yQ.range;pu.range;xQ.range;bQ.range;const sw=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());sw.range;const ow=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ow.range;const rs=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rs.range;const is=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});is.range;function eP(t,e,n,r,i,s){const c=[[pl,1,Ua],[pl,5,5*Ua],[pl,15,15*Ua],[pl,30,30*Ua],[s,1,ti],[s,5,5*ti],[s,15,15*ti],[s,30,30*ti],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[r,1,ns],[r,2,2*ns],[n,1,tw],[e,1,R3],[e,3,3*R3],[t,1,A2]];function d(f,p,v){const x=p<f;x&&([f,p]=[p,f]);const w=v&&typeof v.range=="function"?v:h(f,p,v),_=w?w.range(f,+p+1):[];return x?_.reverse():_}function h(f,p,v){const x=Math.abs(p-f)/v,w=q_(([,,S])=>S).right(c,x);if(w===c.length)return t.every(Wx(f/A2,p/A2,v));if(w===0)return Ag.every(Math.max(Wx(f,p,v),1));const[_,T]=c[x/c[w-1][2]<c[w][2]/x?w-1:w];return _.every(T)}return[d,h]}const[_Q,wQ]=eP(is,ow,Rv,J5,aw,rw),[SQ,TQ]=eP(rs,sw,Iv,vf,iw,nw);function j2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function EQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,d=t.months,h=t.shortMonths,f=Jd(i),p=eh(i),v=Jd(s),x=eh(s),w=Jd(c),_=eh(c),T=Jd(d),S=eh(d),N=Jd(h),P=eh(h),I={a:de,A:ae,b:_e,B:K,c:null,d:V3,e:V3,f:WQ,g:iZ,G:sZ,H:HQ,I:KQ,j:GQ,L:tP,m:YQ,M:XQ,p:G,q:B,Q:z3,s:q3,S:QQ,u:ZQ,U:JQ,V:eZ,w:tZ,W:nZ,x:null,X:null,y:rZ,Y:aZ,Z:oZ,"%":B3},D={a:X,A:pe,b:xe,B:Se,c:null,d:U3,e:U3,f:dZ,g:_Z,G:SZ,H:lZ,I:cZ,j:uZ,L:rP,m:hZ,M:fZ,p:Fe,q:$e,Q:z3,s:q3,S:mZ,u:pZ,U:gZ,V:vZ,w:yZ,W:xZ,x:null,X:null,y:bZ,Y:wZ,Z:TZ,"%":B3},k={a:F,A:z,b:q,B:$,c:Ne,d:M3,e:M3,f:zQ,g:k3,G:D3,H:L3,I:L3,j:LQ,L:BQ,m:MQ,M:VQ,p:L,q:kQ,Q:$Q,s:FQ,S:UQ,u:OQ,U:IQ,V:RQ,w:CQ,W:PQ,x:me,X:te,y:k3,Y:D3,Z:DQ,"%":qQ};I.x=V(n,I),I.X=V(r,I),I.c=V(e,I),D.x=V(n,D),D.X=V(r,D),D.c=V(e,D);function V(ge,ke){return function(se){var Z=[],Ee=-1,be=0,Ue=ge.length,Re,Je,zn;for(se instanceof Date||(se=new Date(+se));++Ee<Ue;)ge.charCodeAt(Ee)===37&&(Z.push(ge.slice(be,Ee)),(Je=P3[Re=ge.charAt(++Ee)])!=null?Re=ge.charAt(++Ee):Je=Re==="e"?" ":"0",(zn=ke[Re])&&(Re=zn(se,Je)),Z.push(Re),be=Ee+1);return Z.push(ge.slice(be,Ee)),Z.join("")}}function j(ge,ke){return function(se){var Z=Zd(1900,void 0,1),Ee=R(Z,ge,se+="",0),be,Ue;if(Ee!=se.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ke&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(be=N2(Zd(Z.y,0,1)),Ue=be.getUTCDay(),be=Ue>4||Ue===0?Ng.ceil(be):Ng(be),be=Ov.offset(be,(Z.V-1)*7),Z.y=be.getUTCFullYear(),Z.m=be.getUTCMonth(),Z.d=be.getUTCDate()+(Z.w+6)%7):(be=j2(Zd(Z.y,0,1)),Ue=be.getDay(),be=Ue>4||Ue===0?jg.ceil(be):jg(be),be=vf.offset(be,(Z.V-1)*7),Z.y=be.getFullYear(),Z.m=be.getMonth(),Z.d=be.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ue="Z"in Z?N2(Zd(Z.y,0,1)).getUTCDay():j2(Zd(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ue+5)%7:Z.w+Z.U*7-(Ue+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,N2(Z)):j2(Z)}}function R(ge,ke,se,Z){for(var Ee=0,be=ke.length,Ue=se.length,Re,Je;Ee<be;){if(Z>=Ue)return-1;if(Re=ke.charCodeAt(Ee++),Re===37){if(Re=ke.charAt(Ee++),Je=k[Re in P3?ke.charAt(Ee++):Re],!Je||(Z=Je(ge,se,Z))<0)return-1}else if(Re!=se.charCodeAt(Z++))return-1}return Z}function L(ge,ke,se){var Z=f.exec(ke.slice(se));return Z?(ge.p=p.get(Z[0].toLowerCase()),se+Z[0].length):-1}function F(ge,ke,se){var Z=w.exec(ke.slice(se));return Z?(ge.w=_.get(Z[0].toLowerCase()),se+Z[0].length):-1}function z(ge,ke,se){var Z=v.exec(ke.slice(se));return Z?(ge.w=x.get(Z[0].toLowerCase()),se+Z[0].length):-1}function q(ge,ke,se){var Z=N.exec(ke.slice(se));return Z?(ge.m=P.get(Z[0].toLowerCase()),se+Z[0].length):-1}function $(ge,ke,se){var Z=T.exec(ke.slice(se));return Z?(ge.m=S.get(Z[0].toLowerCase()),se+Z[0].length):-1}function Ne(ge,ke,se){return R(ge,e,ke,se)}function me(ge,ke,se){return R(ge,n,ke,se)}function te(ge,ke,se){return R(ge,r,ke,se)}function de(ge){return c[ge.getDay()]}function ae(ge){return s[ge.getDay()]}function _e(ge){return h[ge.getMonth()]}function K(ge){return d[ge.getMonth()]}function G(ge){return i[+(ge.getHours()>=12)]}function B(ge){return 1+~~(ge.getMonth()/3)}function X(ge){return c[ge.getUTCDay()]}function pe(ge){return s[ge.getUTCDay()]}function xe(ge){return h[ge.getUTCMonth()]}function Se(ge){return d[ge.getUTCMonth()]}function Fe(ge){return i[+(ge.getUTCHours()>=12)]}function $e(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ke=V(ge+="",I);return ke.toString=function(){return ge},ke},parse:function(ge){var ke=j(ge+="",!1);return ke.toString=function(){return ge},ke},utcFormat:function(ge){var ke=V(ge+="",D);return ke.toString=function(){return ge},ke},utcParse:function(ge){var ke=j(ge+="",!0);return ke.toString=function(){return ge},ke}}}var P3={"-":"",_:" ",0:"0"},En=/^\s*\d+/,AQ=/^%/,jQ=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function NQ(t){return t.replace(jQ,"\\$&")}function Jd(t){return new RegExp("^(?:"+t.map(NQ).join("|")+")","i")}function eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function CQ(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OQ(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function IQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function RQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function PQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function D3(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function k3(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function DQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kQ(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function MQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M3(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LQ(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function L3(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function UQ(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function BQ(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qQ(t,e,n){var r=AQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $Q(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function FQ(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function V3(t,e){return lt(t.getDate(),e,2)}function HQ(t,e){return lt(t.getHours(),e,2)}function KQ(t,e){return lt(t.getHours()%12||12,e,2)}function GQ(t,e){return lt(1+vf.count(rs(t),t),e,3)}function tP(t,e){return lt(t.getMilliseconds(),e,3)}function WQ(t,e){return tP(t,e)+"000"}function YQ(t,e){return lt(t.getMonth()+1,e,2)}function XQ(t,e){return lt(t.getMinutes(),e,2)}function QQ(t,e){return lt(t.getSeconds(),e,2)}function ZQ(t){var e=t.getDay();return e===0?7:e}function JQ(t,e){return lt(Iv.count(rs(t)-1,t),e,2)}function nP(t){var e=t.getDay();return e>=4||e===0?mu(t):mu.ceil(t)}function eZ(t,e){return t=nP(t),lt(mu.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function tZ(t){return t.getDay()}function nZ(t,e){return lt(jg.count(rs(t)-1,t),e,2)}function rZ(t,e){return lt(t.getFullYear()%100,e,2)}function iZ(t,e){return t=nP(t),lt(t.getFullYear()%100,e,2)}function aZ(t,e){return lt(t.getFullYear()%1e4,e,4)}function sZ(t,e){var n=t.getDay();return t=n>=4||n===0?mu(t):mu.ceil(t),lt(t.getFullYear()%1e4,e,4)}function oZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function U3(t,e){return lt(t.getUTCDate(),e,2)}function lZ(t,e){return lt(t.getUTCHours(),e,2)}function cZ(t,e){return lt(t.getUTCHours()%12||12,e,2)}function uZ(t,e){return lt(1+Ov.count(is(t),t),e,3)}function rP(t,e){return lt(t.getUTCMilliseconds(),e,3)}function dZ(t,e){return rP(t,e)+"000"}function hZ(t,e){return lt(t.getUTCMonth()+1,e,2)}function fZ(t,e){return lt(t.getUTCMinutes(),e,2)}function mZ(t,e){return lt(t.getUTCSeconds(),e,2)}function pZ(t){var e=t.getUTCDay();return e===0?7:e}function gZ(t,e){return lt(Rv.count(is(t)-1,t),e,2)}function iP(t){var e=t.getUTCDay();return e>=4||e===0?pu(t):pu.ceil(t)}function vZ(t,e){return t=iP(t),lt(pu.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function yZ(t){return t.getUTCDay()}function xZ(t,e){return lt(Ng.count(is(t)-1,t),e,2)}function bZ(t,e){return lt(t.getUTCFullYear()%100,e,2)}function _Z(t,e){return t=iP(t),lt(t.getUTCFullYear()%100,e,2)}function wZ(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function SZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pu(t):pu.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function TZ(){return"+0000"}function B3(){return"%"}function z3(t){return+t}function q3(t){return Math.floor(+t/1e3)}var zc,aP,sP;EZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EZ(t){return zc=EQ(t),aP=zc.format,zc.parse,sP=zc.utcFormat,zc.utcParse,zc}function AZ(t){return new Date(t)}function jZ(t){return t instanceof Date?+t:+new Date(+t)}function lw(t,e,n,r,i,s,c,d,h,f){var p=W_(),v=p.invert,x=p.domain,w=f(".%L"),_=f(":%S"),T=f("%I:%M"),S=f("%I %p"),N=f("%a %d"),P=f("%b %d"),I=f("%B"),D=f("%Y");function k(V){return(h(V)<V?w:d(V)<V?_:c(V)<V?T:s(V)<V?S:r(V)<V?i(V)<V?N:P:n(V)<V?I:D)(V)}return p.invert=function(V){return new Date(v(V))},p.domain=function(V){return arguments.length?x(Array.from(V,jZ)):x().map(AZ)},p.ticks=function(V){var j=x();return t(j[0],j[j.length-1],V??10)},p.tickFormat=function(V,j){return j==null?k:f(j)},p.nice=function(V){var j=x();return(!V||typeof V.range!="function")&&(V=e(j[0],j[j.length-1],V??10)),V?x(K5(j,V)):p},p.copy=function(){return gf(p,lw(t,e,n,r,i,s,c,d,h,f))},p}function NZ(){return li.apply(lw(SQ,TQ,rs,sw,Iv,vf,iw,nw,pl,aP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CZ(){return li.apply(lw(_Q,wQ,is,ow,Rv,Ov,aw,rw,pl,sP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pv(){var t=0,e=1,n,r,i,s,c=nr,d=!1,h;function f(v){return v==null||isNaN(v=+v)?h:c(i===0?.5:(v=(s(v)-n)*i,d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e]=v,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(c=v,f):c};function p(v){return function(x){var w,_;return arguments.length?([w,_]=x,c=v(w,_),f):[c(0),c(1)]}}return f.range=p(Ou),f.rangeRound=p(G_),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return s=v,n=v(t),r=v(e),i=n===r?0:1/(r-n),f}}function So(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oP(){var t=wo(Pv()(nr));return t.copy=function(){return So(t,oP())},us.apply(t,arguments)}function lP(){var t=Q_(Pv()).domain([1,10]);return t.copy=function(){return So(t,lP()).base(t.base())},us.apply(t,arguments)}function cP(){var t=Z_(Pv());return t.copy=function(){return So(t,cP()).constant(t.constant())},us.apply(t,arguments)}function cw(){var t=J_(Pv());return t.copy=function(){return So(t,cw()).exponent(t.exponent())},us.apply(t,arguments)}function OZ(){return cw.apply(null,arguments).exponent(.5)}function uP(){var t=[],e=nr;function n(r){if(r!=null&&!isNaN(r=+r))return e((mf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>pX(t,s/r))},n.copy=function(){return uP(e).domain(t)},us.apply(n,arguments)}function Dv(){var t=0,e=.5,n=1,r=1,i,s,c,d,h,f=nr,p,v=!1,x;function w(T){return isNaN(T=+T)?x:(T=.5+((T=+p(T))-s)*(r*T<r*s?d:h),f(v?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=p(t=+t),s=p(e=+e),c=p(n=+n),d=i===s?0:.5/(s-i),h=s===c?0:.5/(c-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(v=!!T,w):v},w.interpolator=function(T){return arguments.length?(f=T,w):f};function _(T){return function(S){var N,P,I;return arguments.length?([N,P,I]=S,f=qX(T,[N,P,I]),w):[f(0),f(.5),f(1)]}}return w.range=_(Ou),w.rangeRound=_(G_),w.unknown=function(T){return arguments.length?(x=T,w):x},function(T){return p=T,i=T(t),s=T(e),c=T(n),d=i===s?0:.5/(s-i),h=s===c?0:.5/(c-s),r=s<i?-1:1,w}}function dP(){var t=wo(Dv()(nr));return t.copy=function(){return So(t,dP())},us.apply(t,arguments)}function hP(){var t=Q_(Dv()).domain([.1,1,10]);return t.copy=function(){return So(t,hP()).base(t.base())},us.apply(t,arguments)}function fP(){var t=Z_(Dv());return t.copy=function(){return So(t,fP()).constant(t.constant())},us.apply(t,arguments)}function uw(){var t=J_(Dv());return t.copy=function(){return So(t,uw()).exponent(t.exponent())},us.apply(t,arguments)}function IZ(){return uw.apply(null,arguments).exponent(.5)}const lh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:F_,scaleDiverging:dP,scaleDivergingLog:hP,scaleDivergingPow:uw,scaleDivergingSqrt:IZ,scaleDivergingSymlog:fP,scaleIdentity:H5,scaleImplicit:Yx,scaleLinear:F5,scaleLog:G5,scaleOrdinal:$_,scalePoint:yX,scalePow:ew,scaleQuantile:X5,scaleQuantize:Q5,scaleRadial:Y5,scaleSequential:oP,scaleSequentialLog:lP,scaleSequentialPow:cw,scaleSequentialQuantile:uP,scaleSequentialSqrt:OZ,scaleSequentialSymlog:cP,scaleSqrt:dQ,scaleSymlog:W5,scaleThreshold:Z5,scaleTime:NZ,scaleUtc:CZ,tickFormat:$5},Symbol.toStringTag,{value:"Module"}));var Wl=t=>t.chartData,RZ=le([Wl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mP=(t,e,n,r)=>r?RZ(t):Wl(t);function gu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ei(e)&&Ei(n))return!0}return!1}function $3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function PZ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ei(n))i=n;else if(typeof n=="function")return;if(Ei(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(gu(c))return c}}function DZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gu(r))return $3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,d;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Oe(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&RN.test(i)){var h=RN.exec(i);if(h==null||e==null)c=void 0;else{var f=+h[1];c=e[0]-f}}else c=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Oe(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&PN.test(s)){var p=PN.exec(s);if(p==null||e==null)d=void 0;else{var v=+p[1];d=e[1]+v}}else d=e?.[1];var x=[c,d];if(gu(x))return e==null?x:$3(x,e,n)}}}var Iu=1e9,kZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hw,Dt=!0,ai="[DecimalError] ",wl=ai+"Invalid argument: ",dw=ai+"Exponent out of range: ",Ru=Math.floor,cl=Math.pow,MZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,Tn=1e7,At=7,pP=9007199254740991,Cg=Ru(pP/At),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return Ka(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return wt(Ka(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return sn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Cr))throw Error(ai+"NaN");if(n.s<1)throw Error(ai+(n.s?"NaN":"-Infinity"));return n.eq(Cr)?new r(0):(Dt=!1,e=Ka(Hh(n,s),Hh(t,s),s),Dt=!0,wt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yP(e,t):gP(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ai+"NaN");return n.s?(Dt=!1,e=Ka(n,t,0,1).times(t),Dt=!0,n.minus(e)):wt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return vP(this)};Ae.naturalLogarithm=Ae.ln=function(){return Hh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gP(e,t):yP(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wl+t);if(e=sn(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,s,c,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(ai+"NaN")}for(t=sn(d),Dt=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=Hi(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ru((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(i.toString()),n=h.precision,i=c=n+3;;)if(s=r,r=s.plus(Ka(d,s,c+2)).times(.5),Hi(s.d).slice(0,c)===(e=Hi(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(wt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return Dt=!0,wt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,s,c,d,h,f,p=this,v=p.constructor,x=p.d,w=(t=new v(t)).d;if(!p.s||!t.s)return new v(0);for(t.s*=p.s,n=p.e+t.e,h=x.length,f=w.length,h<f&&(s=x,x=w,w=s,c=h,h=f,f=c),s=[],c=h+f,r=c;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=h+r;i>r;)d=s[i]+w[r]*x[i-r-1]+e,s[i--]=d%Tn|0,e=d/Tn|0;s[i]=(s[i]+e)%Tn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Dt?wt(t,v.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ra(t,0,Iu),e===void 0?e=r.rounding:ra(e,0,8),wt(n,t+sn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=kl(r,!0):(ra(t,0,Iu),e===void 0?e=i.rounding:ra(e,0,8),r=wt(new i(r),t+1,e),n=kl(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?kl(i):(ra(t,0,Iu),e===void 0?e=s.rounding:ra(e,0,8),r=wt(new s(i),t+sn(i)+1,e),n=kl(r.abs(),!1,t+sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return wt(new e(t),sn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,s,c,d=this,h=d.constructor,f=12,p=+(t=new h(t));if(!t.s)return new h(Cr);if(d=new h(d),!d.s){if(t.s<1)throw Error(ai+"Infinity");return d}if(d.eq(Cr))return d;if(r=h.precision,t.eq(Cr))return wt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=pP){for(i=new h(Cr),e=Math.ceil(r/At+4),Dt=!1;n%2&&(i=i.times(d),H3(i.d,e)),n=Ru(n/2),n!==0;)d=d.times(d),H3(d.d,e);return Dt=!0,t.s<0?new h(Cr).div(i):wt(i,r)}}else if(s<0)throw Error(ai+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Dt=!1,i=t.times(Hh(d,r+f)),Dt=!0,i=vP(i),i.s=s,i};Ae.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=sn(i),r=kl(i,n<=s.toExpNeg||n>=s.toExpPos)):(ra(t,1,Iu),e===void 0?e=s.rounding:ra(e,0,8),i=wt(new s(i),t,e),n=sn(i),r=kl(i,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ra(t,1,Iu),e===void 0?e=r.rounding:ra(e,0,8)),wt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),n=t.constructor;return kl(t,e<=n.toExpNeg||e>=n.toExpPos)};function gP(t,e){var n,r,i,s,c,d,h,f,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Dt?wt(e,v):e;if(h=t.d,f=e.d,c=t.e,i=e.e,h=h.slice(),s=c-i,s){for(s<0?(r=h,s=-s,d=f.length):(r=f,i=c,d=h.length),c=Math.ceil(v/At),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=h.length,s=f.length,d-s<0&&(s=d,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/Tn|0,h[s]%=Tn;for(n&&(h.unshift(n),++i),d=h.length;h[--d]==0;)h.pop();return e.d=h,e.e=i,Dt?wt(e,v):e}function ra(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wl+t)}function Hi(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=At-r.length,n&&(s+=Hs(n)),s+=r;c=t[e],r=c+"",n=At-r.length,n&&(s+=Hs(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ka=function(){function t(r,i){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+c,r[d]=s%Tn|0,c=s/Tn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var d,h;if(s!=c)h=s>c?1:-1;else for(d=h=0;d<s;d++)if(r[d]!=i[d]){h=r[d]>i[d]?1:-1;break}return h}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*Tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var d,h,f,p,v,x,w,_,T,S,N,P,I,D,k,V,j,R,L=r.constructor,F=r.s==i.s?1:-1,z=r.d,q=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(ai+"Division by zero");for(h=r.e-i.e,j=q.length,k=z.length,w=new L(F),_=w.d=[],f=0;q[f]==(z[f]||0);)++f;if(q[f]>(z[f]||0)&&--h,s==null?P=s=L.precision:c?P=s+(sn(r)-sn(i))+1:P=s,P<0)return new L(0);if(P=P/At+2|0,f=0,j==1)for(p=0,q=q[0],P++;(f<k||p)&&P--;f++)I=p*Tn+(z[f]||0),_[f]=I/q|0,p=I%q|0;else{for(p=Tn/(q[0]+1)|0,p>1&&(q=t(q,p),z=t(z,p),j=q.length,k=z.length),D=j,T=z.slice(0,j),S=T.length;S<j;)T[S++]=0;R=q.slice(),R.unshift(0),V=q[0],q[1]>=Tn/2&&++V;do p=0,d=e(q,T,j,S),d<0?(N=T[0],j!=S&&(N=N*Tn+(T[1]||0)),p=N/V|0,p>1?(p>=Tn&&(p=Tn-1),v=t(q,p),x=v.length,S=T.length,d=e(v,T,x,S),d==1&&(p--,n(v,j<x?R:q,x))):(p==0&&(d=p=1),v=q.slice()),x=v.length,x<S&&v.unshift(0),n(T,v,S),d==-1&&(S=T.length,d=e(q,T,j,S),d<1&&(p++,n(T,j<S?R:q,S))),S=T.length):d===0&&(p++,T=[0]),_[f++]=p,d&&T[0]?T[S++]=z[D]||0:(T=[z[D]],S=1);while((D++<k||T[0]!==void 0)&&P--)}return _[0]||_.shift(),w.e=h,wt(w,c?s+sn(w)+1:s)}}();function vP(t,e){var n,r,i,s,c,d,h=0,f=0,p=t.constructor,v=p.precision;if(sn(t)>16)throw Error(dw+sn(t));if(!t.s)return new p(Cr);for(Dt=!1,d=v,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(r=Math.log(cl(2,f))/Math.LN10*2+5|0,d+=r,n=i=s=new p(Cr),p.precision=d;;){if(i=wt(i.times(t),d),n=n.times(++h),c=s.plus(Ka(i,n,d)),Hi(c.d).slice(0,d)===Hi(s.d).slice(0,d)){for(;f--;)s=wt(s.times(s),d);return p.precision=v,e==null?(Dt=!0,wt(s,v)):s}s=c}}function sn(t){for(var e=t.e*At,n=t.d[0];n>=10;n/=10)e++;return e}function C2(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(ai+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function Hs(t){for(var e="";t--;)e+="0";return e}function Hh(t,e){var n,r,i,s,c,d,h,f,p,v=1,x=10,w=t,_=w.d,T=w.constructor,S=T.precision;if(w.s<1)throw Error(ai+(w.s?"NaN":"-Infinity"));if(w.eq(Cr))return new T(0);if(e==null?(Dt=!1,f=S):f=e,w.eq(10))return e==null&&(Dt=!0),C2(T,f);if(f+=x,T.precision=f,n=Hi(_),r=n.charAt(0),s=sn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Hi(w.d),r=n.charAt(0),v++;s=sn(w),r>1?(w=new T("0."+n),s++):w=new T(r+"."+n.slice(1))}else return h=C2(T,f+2,S).times(s+""),w=Hh(new T(r+"."+n.slice(1)),f-x).plus(h),T.precision=S,e==null?(Dt=!0,wt(w,S)):w;for(d=c=w=Ka(w.minus(Cr),w.plus(Cr),f),p=wt(w.times(w),f),i=3;;){if(c=wt(c.times(p),f),h=d.plus(Ka(c,new T(i),f)),Hi(h.d).slice(0,f)===Hi(d.d).slice(0,f))return d=d.times(2),s!==0&&(d=d.plus(C2(T,f+2,S).times(s+""))),d=Ka(d,new T(v),f),T.precision=S,e==null?(Dt=!0,wt(d,S)):d;d=h,i+=2}}function F3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ru(n/At),t.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=At;r<i;)t.d.push(+e.slice(r,r+=At));e=e.slice(r),r=At-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>Cg||t.e<-Cg))throw Error(dw+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,s,c,d,h,f,p,v=t.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=At,i=e,f=v[p=0];else{if(p=Math.ceil((r+1)/At),s=v.length,p>=s)return t;for(f=s=v[p],c=1;s>=10;s/=10)c++;r%=At,i=r-At+c}if(n!==void 0&&(s=cl(10,c-i-1),d=f/s%10|0,h=e<0||v[p+1]!==void 0||f%s,h=n<4?(d||h)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?i>0?f/cl(10,c-i):0:v[p-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return h?(s=sn(t),v.length=1,e=e-s-1,v[0]=cl(10,(At-e%At)%At),t.e=Ru(-e/At)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=cl(10,At-r),v[p]=i>0?(f/cl(10,c-i)%cl(10,i)|0)*s:0),h)for(;;)if(p==0){(v[0]+=s)==Tn&&(v[0]=1,++t.e);break}else{if(v[p]+=s,v[p]!=Tn)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(Dt&&(t.e>Cg||t.e<-Cg))throw Error(dw+sn(t));return t}function yP(t,e){var n,r,i,s,c,d,h,f,p,v,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Dt?wt(e,w):e;if(h=t.d,v=e.d,r=e.e,f=t.e,h=h.slice(),c=f-r,c){for(p=c<0,p?(n=h,c=-c,d=v.length):(n=v,r=f,d=h.length),i=Math.max(Math.ceil(w/At),d)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=h.length,d=v.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(h[i]!=v[i]){p=h[i]<v[i];break}c=0}for(p&&(n=h,h=v,v=n,e.s=-e.s),d=h.length,i=v.length-d;i>0;--i)h[d++]=0;for(i=v.length;i>c;){if(h[--i]<v[i]){for(s=i;s&&h[--s]===0;)h[s]=Tn-1;--h[s],h[i]+=Tn}h[i]-=v[i]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Dt?wt(e,w):e):new x(0)}function kl(t,e,n){var r,i=sn(t),s=Hi(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Hs(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Hs(-i-1)+s,n&&(r=n-c)>0&&(s+=Hs(r))):i>=c?(s+=Hs(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Hs(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Hs(r))),t.s<0?"-"+s:s}function H3(t,e){if(t.length>e)return t.length=e,!0}function xP(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return F3(c,s.toString())}else if(typeof s!="string")throw Error(wl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,MZ.test(s))F3(c,s);else throw Error(wl+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xP,i.config=i.set=LZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function LZ(t){if(!t||typeof t!="object")throw Error(ai+"Object expected");var e,n,r,i=["precision",1,Iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ru(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wl+n+": "+r);return this}var hw=xP(kZ);Cr=new hw(1);const pt=hw;var VZ=t=>t,bP={},_P=t=>t===bP,K3=t=>function e(){return arguments.length===0||arguments.length===1&&_P(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},wP=(t,e)=>t===1?e:K3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(c=>c!==bP).length;return s>=t?e(...r):wP(t-s,K3(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var f=r.map(p=>_P(p)?d.shift():p);return e(...f,...d)}))}),kv=t=>wP(t.length,t),Jx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},UZ=kv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),BZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return VZ;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((d,h)=>h(d),s(...arguments))}},eb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),SP=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((c,d)=>{var h;return c===((h=e)===null||h===void 0?void 0:h[d])})||(e=i,n=t(...i)),n}};function TP(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function EP(t,e,n){for(var r=new pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}kv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});kv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});kv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var AP=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},jP=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=TP(t.toNumber()),i=new pt(10).pow(r),s=t.div(i),c=r!==1?.05:.1,d=new pt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),h=d.mul(i);return e?new pt(h.toNumber()):new pt(Math.ceil(h.toNumber()))},zZ=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new pt(10).pow(TP(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));var c=Math.floor((e-1)/2),d=BZ(UZ(h=>i.add(new pt(h-c).mul(r)).toNumber()),Jx);return d(0,e)},NP=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var c=jP(new pt(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new pt(0):(d=new pt(e).add(n).div(2),d=d.sub(new pt(d).mod(c)));var h=Math.ceil(d.sub(e).div(c).toNumber()),f=Math.ceil(new pt(n).sub(d).div(c).toNumber()),p=h+f+1;return p>r?NP(e,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:c,tickMin:d.sub(new pt(h).mul(c)),tickMax:d.add(new pt(f).mul(c))})};function qZ(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[c,d]=AP([e,n]);if(c===-1/0||d===1/0){var h=d===1/0?[c,...Jx(0,r-1).map(()=>1/0)]:[...Jx(0,r-1).map(()=>-1/0),d];return e>n?eb(h):h}if(c===d)return zZ(c,r,i);var{step:f,tickMin:p,tickMax:v}=NP(c,d,s,i,0),x=EP(p,v.add(new pt(.1).mul(f)),f);return e>n?eb(x):x}function $Z(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=AP([n,r]);if(s===-1/0||c===1/0)return[n,r];if(s===c)return[s];var d=Math.max(e,2),h=jP(new pt(c).sub(s).div(d-1),i,0),f=[...EP(new pt(s),new pt(c),h),c];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?eb(f):f}var FZ=SP(qZ),HZ=SP($Z),KZ=t=>t.rootProps.barCategoryGap,Mv=t=>t.rootProps.stackOffset,fw=t=>t.options.chartName,mw=t=>t.rootProps.syncId,CP=t=>t.rootProps.syncMethod,pw=t=>t.options.eventEmitter,Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},GZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},WZ={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:Ar.type,unit:void 0},YZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},XZ={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:"category",unit:void 0},gw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YZ:GZ,vw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?XZ:WZ,Vv=t=>t.polarOptions,yw=le([ls,cs,Un],rW),OP=le([Vv,yw],(t,e)=>{if(t!=null)return vo(t.innerRadius,e,0)}),IP=le([Vv,yw],(t,e)=>{if(t!=null)return vo(t.outerRadius,e,e*.8)}),QZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},RP=le([Vv],QZ);le([gw,RP],Lv);var PP=le([yw,OP,IP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([vw,PP],Lv);var ZZ=le([Yt,Vv,OP,IP,ls,cs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:h,endAngle:f}=e;return{cx:vo(c,i,i/2),cy:vo(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),An=(t,e)=>e,Uv=(t,e,n)=>n;function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){JZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JZ(t,e,n){return(e=eJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return typeof e=="symbol"?e:e+""}function tJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tb=[0,"auto"],Tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ds=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Tr},Er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Av},To=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Er},Js={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Js},fr=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return To(t,n);case"zAxis":return xw(t,n);case"angleAxis":return gw(t,n);case"radiusAxis":return vw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nJ=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return To(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yf=(t,e,n)=>{switch(e){case"xAxis":return ds(t,n);case"yAxis":return To(t,n);case"angleAxis":return gw(t,n);case"radiusAxis":return vw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},DP=t=>t.graphicalItems.countOfBars>0;function kP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var MP=t=>t.graphicalItems.cartesianItems,rJ=le([An,Uv],kP),LP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),xf=le([MP,fr,rJ],LP),VP=t=>t.filter(e=>e.stackId===void 0),iJ=le([xf],VP),UP=t=>t.map(e=>e.data).filter(Boolean).flat(1),aJ=le([xf],UP),BP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Bv=le([aJ,mP],BP),zP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:rr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:rr(i,r)}))):t.map(r=>({value:r})),zv=le([Bv,fr,xf],zP);function qP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Yl(t){return t.filter(e=>na(e)||e instanceof Date).map(Number).filter(e=>ri(e)===!1)}function sJ(t,e,n){return!n||typeof e!="number"||ri(e)?[]:n.length?Yl(n.flatMap(r=>{var i=rr(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!Ei(s)||!Ei(c)))return[e-s,e+c]})):[]}var $P=(t,e,n)=>{var r={},i=e.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[c,d]=s,h=d.map(f=>f.dataKey);return[c,{stackedData:yW(t,h,n),graphicalItems:d}]}))},oJ=le([Bv,xf,Mv],$P),FP=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=wW(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},lJ=le([oJ,Wl,An],FP),HP=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var c,d,h=(c=s.errorBars)===null||c===void 0?void 0:c.filter(p=>qP(r,p)),f=rr(i,(d=e.dataKey)!==null&&d!==void 0?d:s.dataKey);return{value:f,errorDomain:sJ(i,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(i=>({value:rr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),cJ=le(Bv,fr,iJ,An,HP);function uJ(t){var{value:e}=t;if(na(e)||e instanceof Date)return e}var dJ=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Yl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hJ=(t,e,n)=>{var r=t.map(uJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&uR(r))?P5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},bw=t=>{var e;if(t==null||!("domain"in t))return tb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Yl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:tb},_w=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},KP=t=>t.referenceElements.dots,Pu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),fJ=le([KP,An,Uv],Pu),GP=t=>t.referenceElements.areas,mJ=le([GP,An,Uv],Pu),WP=t=>t.referenceElements.lines,pJ=le([WP,An,Uv],Pu),YP=(t,e)=>{var n=Yl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gJ=le(fJ,An,YP),XP=(t,e)=>{var n=Yl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vJ=le([mJ,An],XP),QP=(t,e)=>{var n=Yl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yJ=le(pJ,An,QP),xJ=le(gJ,yJ,vJ,(t,e,n)=>_w(t,n,e)),bJ=le([fr],bw),ZP=(t,e,n,r,i)=>{var s=PZ(e,t.allowDataOverflow);return s??DZ(e,_w(n,i,dJ(r)),t.allowDataOverflow)},_J=le([fr,bJ,lJ,cJ,xJ],ZP),wJ=[0,1],JP=(t,e,n,r,i,s,c)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:d,type:h}=t,f=Fl(e,s);return f&&d==null?P5(0,n.length):h==="category"?hJ(r,t,f):i==="expand"?wJ:c}},ww=le([fr,Yt,Bv,zv,Mv,An,_J],JP),e8=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(df(s));return d in lh?d:"point"}}},bf=le([fr,Yt,DP,fw,An],e8);function SJ(t){if(t!=null){if(t in lh)return lh[t]();var e="scale".concat(df(t));if(e in lh)return lh[e]()}}function Sw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=SJ(e);if(i!=null){var s=i.domain(n).range(r);return mW(s),s}}}var t8=(t,e,n)=>{var r=bw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gu(t))return FZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gu(t))return HZ(t,e.tickCount,e.allowDecimals)}},Tw=le([ww,yf,bf],t8),n8=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&gu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(i,s),Math.max(c,d)]}return e},TJ=le([fr,ww,Tw,An],n8),EJ=le(zv,fr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Yl(t.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/i}}),r8=le(EJ,Yt,KZ,Un,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ei(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=vo(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),AJ=(t,e)=>{var n=ds(t,e);return n==null||typeof n.padding!="string"?0:r8(t,"xAxis",e,n.padding)},jJ=(t,e)=>{var n=To(t,e);return n==null||typeof n.padding!="string"?0:r8(t,"yAxis",e,n.padding)},NJ=le(ds,AJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),CJ=le(To,jJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),OJ=le([Un,NJ,Nv,jv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),IJ=le([Un,Yt,CJ,Nv,jv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),_f=(t,e,n,r)=>{var i;switch(e){case"xAxis":return OJ(t,n,r);case"yAxis":return IJ(t,n,r);case"zAxis":return(i=xw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return RP(t);case"radiusAxis":return PP(t,n);default:return}},i8=le([fr,_f],Lv),Du=le([fr,bf,TJ,i8],Sw);le(xf,An,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>qP(e,n)));function a8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var qv=(t,e)=>e,$v=(t,e,n)=>n,RJ=le(V_,qv,$v,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(a8)),PJ=le(U_,qv,$v,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(a8)),s8=(t,e)=>({width:t.width,height:e.height}),DJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Av;return{width:n,height:t.height}},kJ=le(Un,ds,s8),MJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},LJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},VJ=le(cs,Un,RJ,qv,$v,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var h=s8(e,d);c==null&&(c=MJ(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[d.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),s}),UJ=le(ls,Un,PJ,qv,$v,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var h=DJ(e,d);c==null&&(c=LJ(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[d.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),s}),BJ=(t,e)=>{var n=Un(t),r=ds(t,e);if(r!=null){var i=VJ(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},zJ=(t,e)=>{var n=Un(t),r=To(t,e);if(r!=null){var i=UJ(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},qJ=le(Un,To,(t,e)=>{var n=typeof e.width=="number"?e.width:Av;return{width:n,height:t.height}}),o8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,d=Fl(t,r),h=e.map(f=>f.value);if(c&&d&&s==="category"&&i&&uR(h))return h}},Ew=le([Yt,zv,fr,An],o8),l8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Fl(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},Aw=le([Yt,zv,yf,An],l8),W3=le([Yt,nJ,bf,Du,Ew,Aw,_f,Tw,An],(t,e,n,r,i,s,c,d,h)=>{if(e==null)return null;var f=Fl(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:d,range:c,realScaleType:n,scale:r}}),$J=(t,e,n,r,i,s,c,d,h)=>{if(!(e==null||r==null)){var f=Fl(t,h),{type:p,ticks:v,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=p==="category"&&r.bandwidth?r.bandwidth()/w:0;_=h==="angleAxis"&&s!=null&&s.length>=2?ei(s[0]-s[1])*2*_:_;var T=v||i;if(T){var S=T.map((N,P)=>{var I=c?c.indexOf(N):N;return{index:P,coordinate:r(I)+_,value:N,offset:_}});return S.filter(N=>!ri(N.coordinate))}return f&&d?d.map((N,P)=>({coordinate:r(N)+_,value:N,index:P,offset:_})):r.ticks?r.ticks(x).map(N=>({coordinate:r(N)+_,value:N,offset:_})):r.domain().map((N,P)=>({coordinate:r(N)+_,value:c?c[N]:N,index:P,offset:_}))}},c8=le([Yt,yf,bf,Du,Tw,_f,Ew,Aw,An],$J),FJ=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Fl(t,c),{tickCount:h}=e,f=0;return f=c==="angleAxis"&&r?.length>=2?ei(r[0]-r[1])*2*f:f,d&&s?s.map((p,v)=>({coordinate:n(p)+f,value:p,index:v,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,v)=>({coordinate:n(p)+f,value:i?i[p]:p,index:v,offset:f}))}},u8=le([Yt,yf,Du,_f,Ew,Aw,An],FJ),d8=le(fr,Du,(t,e)=>{if(!(t==null||e==null))return Og(Og({},t),{},{scale:e})}),HJ=le([fr,bf,ww,i8],Sw),KJ=le((t,e,n)=>xw(t,n),HJ,(t,e)=>{if(!(t==null||e==null))return Og(Og({},t),{},{scale:e})}),GJ=le([Yt,V_,U_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h8=t=>t.options.defaultTooltipEventType,f8=t=>t.options.validateTooltipEventTypes;function m8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jw(t,e){var n=h8(t),r=f8(t);return m8(e,n,r)}function WJ(t){return Ve(e=>jw(e,t))}var p8=(t,e)=>{var n,r=Number(e);if(!(ri(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},YJ=t=>t.tooltip.settings,Xs={active:!1,index:null,dataKey:void 0,coordinate:void 0},XJ={itemInteraction:{click:Xs,hover:Xs},axisInteraction:{click:Xs,hover:Xs},keyboardInteraction:Xs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},g8=si({name:"tooltip",initialState:XJ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Ha(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:QJ,removeTooltipEntrySettings:ZJ,setTooltipSettingsState:JJ,setActiveMouseOverItemIndex:v8,mouseLeaveItem:eee,mouseLeaveChart:y8,setActiveClickItemIndex:tee,setMouseOverAxisIndex:x8,setMouseClickAxisIndex:nee,setSyncInteraction:nb,setKeyboardInteraction:rb}=g8.actions,ree=g8.reducer;function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return(e=aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=see(t,"string");return typeof e=="symbol"?e:e+""}function see(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lee(t){return t.index!=null}var b8=(t,e,n,r)=>{if(e==null)return Xs;var i=oee(t,e,n);if(i==null)return Xs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(lee(i)){if(s)return pp(pp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return pp(pp({},Xs),{},{coordinate:i.coordinate})},Nw=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Ei(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},_8=(t,e,n,r,i,s,c,d)=>{if(!(s==null||d==null)){var h=c[0],f=h==null?void 0:d(h.positions,s);if(f!=null)return f;var p=i?.[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},w8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===i})},wf=t=>t.options.tooltipPayloadSearcher,ku=t=>t.tooltip;function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return(e=uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=dee(t,"string");return typeof e=="symbol"?e:e+""}function dee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hee(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function fee(t,e){return t??e}var S8=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,v=[];return t.reduce((x,w)=>{var _,{dataDefinedOnItem:T,settings:S}=w,N=fee(T,d),P=hee(N,f,p),I=(_=S?.dataKey)!==null&&_!==void 0?_:r?.dataKey,D=S?.nameKey,k;if(r!=null&&r.dataKey&&Array.isArray(P)&&!Array.isArray(P[0])&&c==="axis"?k=dR(P,r.dataKey,i):k=s(P,e,h,D),Array.isArray(k))k.forEach(j=>{var R=Q3(Q3({},S),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});x.push(DN({tooltipEntrySettings:R,dataKey:j.dataKey,payload:j.payload,value:rr(j.payload,j.dataKey),name:j.name}))});else{var V;x.push(DN({tooltipEntrySettings:S,dataKey:I,payload:k,value:rr(k,I),name:(V=rr(k,D))!==null&&V!==void 0?V:S?.name}))}return x},v)}},jn=t=>{var e=Yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Mu=t=>t.tooltip.settings.axisId,Bn=t=>{var e=jn(t),n=Mu(t);return yf(t,e,n)},Cw=le([Bn,Yt,DP,fw,jn],e8),mee=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),pee=le([jn,Mu],kP),Fv=le([mee,Bn,pee],LP),gee=le([Fv],UP),Xl=le([gee,Wl],BP),Ow=le([Xl,Bn,Fv],zP),vee=le([Bn],bw),yee=le([Xl,Fv,Mv],$P),xee=le([yee,Wl,jn],FP),bee=le([Fv],VP),_ee=le([Xl,Bn,bee,jn],HP),wee=le([KP,jn,Mu],Pu),See=le([wee,jn],YP),Tee=le([GP,jn,Mu],Pu),Eee=le([Tee,jn],XP),Aee=le([WP,jn,Mu],Pu),jee=le([Aee,jn],QP),Nee=le([See,jee,Eee],_w),Cee=le([Bn,vee,xee,_ee,Nee],ZP),T8=le([Bn,Yt,Xl,Ow,Mv,jn,Cee],JP),Oee=le([T8,Bn,Cw],t8),Iee=le([Bn,T8,Oee,jn],n8),E8=t=>{var e=jn(t),n=Mu(t),r=!1;return _f(t,e,n,r)},A8=le([Bn,E8],Lv),j8=le([Bn,Cw,Iee,A8],Sw),Ree=le([Yt,Ow,Bn,jn],o8),Pee=le([Yt,Ow,Bn,jn],l8),Dee=(t,e,n,r,i,s,c,d)=>{if(e){var{type:h}=e,f=Fl(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=d==="angleAxis"&&i!=null&&i?.length>=2?ei(i[0]-i[1])*2*v:v,f&&c?c.map((x,w)=>({coordinate:r(x)+v,value:x,index:w,offset:v})):r.domain().map((x,w)=>({coordinate:r(x)+v,value:s?s[x]:x,index:w,offset:v}))}}},hs=le([Yt,Bn,Cw,j8,E8,Ree,Pee,jn],Dee),Iw=le([h8,f8,YJ],(t,e,n)=>m8(n.shared,t,e)),N8=t=>t.tooltip.settings.trigger,Rw=t=>t.tooltip.settings.defaultIndex,Hv=le([ku,Iw,N8,Rw],b8),Kh=le([Hv,Xl],Nw),C8=le([hs,Kh],p8),kee=le([Hv],t=>{if(t)return t.dataKey}),O8=le([ku,Iw,N8,Rw],w8),Mee=le([ls,cs,Yt,Un,hs,Rw,O8,wf],_8),Lee=le([Hv,Mee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Vee=le([Hv],t=>t.active),Uee=le([O8,Kh,Wl,Bn,C8,wf,Iw],S8);le([Uee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=qee(t,"string");return typeof e=="symbol"?e:e+""}function qee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ee=()=>Ve(Bn),Fee=()=>{var t=$ee(),e=Ve(hs),n=Ve(j8);return SW(J3(J3({},t),{},{scale:n}),e)},Hee=()=>Ve(fw),Pw=(t,e)=>e,I8=(t,e,n)=>n,Dw=(t,e,n,r)=>r,Kee=le(hs,t=>xv(t,e=>e.coordinate)),kw=le([ku,Pw,I8,Dw],b8),R8=le([kw,Xl],Nw),Gee=(t,e,n)=>{if(e!=null){var r=ku(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},P8=le([ku,Pw,I8,Dw],w8),Ig=le([ls,cs,Yt,Un,hs,Dw,P8,wf],_8),Wee=le([kw,Ig],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),D8=le(hs,R8,p8),Yee=le([P8,R8,Wl,Bn,D8,wf,Pw],S8),Xee=le([kw],t=>({isActive:t.active,activeIndex:t.index})),Qee=(t,e,n,r,i,s,c,d)=>{if(!(!t||!e||!r||!i||!s)){var h=TW(t.chartX,t.chartY,e,n,d);if(h){var f=AW(h,e),p=hW(f,c,s,r,i),v=EW(e,s,p,h);return{activeIndex:String(p),activeCoordinate:v}}}};function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:h,chartName:f}=t,p=e,v=n,x=r;if(!d||!p||f!=="ScatterChart"&&h!=="axis")return null;var w,_;if(f==="ScatterChart")w=p,_=dY;else if(f==="BarChart")w=hY(c,p,i,s),_=C5;else if(c==="radial"){var{cx:T,cy:S,radius:N,startAngle:P,endAngle:I}=O5(p);w={cx:T,cy:S,startAngle:P,endAngle:I,innerRadius:N,outerRadius:N},_=R5}else w={points:ZY(c,p,i)},_=E5;var D=typeof d=="object"&&"className"in d?d.className:void 0,k=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},i),w),Pt(d,!1)),{},{payload:v,payloadIndex:x,className:Nt("recharts-tooltip-cursor",D)});return A.isValidElement(d)?A.cloneElement(d,k):A.createElement(_,k)}function nte(t){var e=Fee(),n=x5(),r=w5(),i=Hee();return A.createElement(tte,ib({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var k8=A.createContext(null),rte=()=>A.useContext(k8),O2={exports:{}},t6;function ite(){return t6||(t6=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function s(h,f,p,v,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,v||h,x),_=n?n+f:f;return h._events[_]?h._events[_].fn?h._events[_]=[h._events[_],w]:h._events[_].push(w):(h._events[_]=w,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)e.call(p,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=n?n+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,w=v.length,_=new Array(w);x<w;x++)_[x]=v[x].fn;return _},d.prototype.listenerCount=function(f){var p=n?n+f:f,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(f,p,v,x,w,_){var T=n?n+f:f;if(!this._events[T])return!1;var S=this._events[T],N=arguments.length,P,I;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,v),!0;case 4:return S.fn.call(S.context,p,v,x),!0;case 5:return S.fn.call(S.context,p,v,x,w),!0;case 6:return S.fn.call(S.context,p,v,x,w,_),!0}for(I=1,P=new Array(N-1);I<N;I++)P[I-1]=arguments[I];S.fn.apply(S.context,P)}else{var D=S.length,k;for(I=0;I<D;I++)switch(S[I].once&&this.removeListener(f,S[I].fn,void 0,!0),N){case 1:S[I].fn.call(S[I].context);break;case 2:S[I].fn.call(S[I].context,p);break;case 3:S[I].fn.call(S[I].context,p,v);break;case 4:S[I].fn.call(S[I].context,p,v,x);break;default:if(!P)for(k=1,P=new Array(N-1);k<N;k++)P[k-1]=arguments[k];S[I].fn.apply(S[I].context,P)}}return!0},d.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},d.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},d.prototype.removeListener=function(f,p,v,x){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return c(this,w),this;var _=this._events[w];if(_.fn)_.fn===p&&(!x||_.once)&&(!v||_.context===v)&&c(this,w);else{for(var T=0,S=[],N=_.length;T<N;T++)(_[T].fn!==p||x&&!_[T].once||v&&_[T].context!==v)&&S.push(_[T]);S.length?this._events[w]=S.length===1?S[0]:S:c(this,w)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d}(O2)),O2.exports}var ate=ite();const ste=ia(ate);var Gh=new ste,ab="recharts.syncEvent.tooltip",n6="recharts.syncEvent.brush";function ote(t,e){if(e){var n=Number.parseInt(e,10);if(!ri(n))return t?.[n]}}var lte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},M8=si({name:"options",initialState:lte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cte=M8.reducer,{createEventEmitter:ute}=M8.actions;function dte(t){return t.tooltip.syncInteraction}var hte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},L8=si({name:"chartData",initialState:hte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:r6,setDataStartEndIndexes:fte,setComputedData:xoe}=L8.actions,mte=L8.reducer,V8=()=>{};function pte(){var t=Ve(mw),e=Ve(pw),n=pn(),r=Ve(CP),i=Ve(hs),s=w5(),c=B_(),d=Ve(h=>h.rootProps.className);A.useEffect(()=>{if(t==null)return V8;var h=(f,p,v)=>{if(e!==v&&t===f){if(r==="index"){n(p);return}if(i!=null){var x;if(typeof r=="function"){var w={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},_=r(i,w);x=i[_]}else r==="value"&&(x=i.find(V=>String(V.value)===p.payload.label));var{coordinate:T}=p.payload;if(x==null||p.payload.active===!1||T==null||c==null){n(nb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:N}=T,P=Math.min(S,c.x+c.width),I=Math.min(N,c.y+c.height),D={x:s==="horizontal"?x.coordinate:P,y:s==="horizontal"?I:x.coordinate},k=nb({active:p.payload.active,coordinate:D,dataKey:p.payload.dataKey,index:String(x.index),label:p.payload.label});n(k)}}};return Gh.on(ab,h),()=>{Gh.off(ab,h)}},[d,n,e,t,r,i,s,c])}function gte(){var t=Ve(mw),e=Ve(pw),n=pn();A.useEffect(()=>{if(t==null)return V8;var r=(i,s,c)=>{e!==c&&t===i&&n(fte(s))};return Gh.on(n6,r),()=>{Gh.off(n6,r)}},[n,e,t])}function vte(){var t=pn();A.useEffect(()=>{t(ute())},[t]),pte(),gte()}function yte(t,e,n,r,i,s){var c=Ve(x=>Gee(x,t,e)),d=Ve(pw),h=Ve(mw),f=Ve(CP),p=Ve(dte),v=p?.active;A.useEffect(()=>{if(!v&&h!=null&&d!=null){var x=nb({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r});Gh.emit(ab,h,x,d)}},[v,n,c,i,r,d,h,f,s])}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xte(t,e,n){return(e=bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=_te(t,"string");return typeof e=="symbol"?e:e+""}function _te(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t){return t.dataKey}function Ste(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement($W,e)}var s6=[],Tte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ff.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ete(t){var e=Hl(t,Tte),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:c,filterNull:d,isAnimationActive:h,offset:f,payloadUniqBy:p,position:v,reverseDirection:x,useTranslate3d:w,wrapperStyle:_,cursor:T,shared:S,trigger:N,defaultIndex:P,portal:I,axisId:D}=e,k=pn(),V=typeof P=="number"?String(P):P;A.useEffect(()=>{k(JJ({shared:S,trigger:N,axisId:D,active:n,defaultIndex:V}))},[k,S,N,D,n,V]);var j=B_(),R=T5(),L=WJ(S),{activeIndex:F,isActive:z}=Ve(xe=>Xee(xe,L,N,V)),q=Ve(xe=>Yee(xe,L,N,V)),$=Ve(xe=>D8(xe,L,N,V)),Ne=Ve(xe=>Wee(xe,L,N,V)),me=q,te=rte(),de=n??z,[ae,_e]=tG([me,de]),K=L==="axis"?$:void 0;yte(L,N,Ne,K,F,de);var G=I??te;if(G==null)return null;var B=me??s6;de||(B=s6),d&&B.length&&(B=jK(me.filter(xe=>xe.value!=null&&(xe.hide!==!0||e.includeHidden)),p,wte));var X=B.length>0,pe=A.createElement(XW,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:h,active:de,coordinate:Ne,hasPayload:X,offset:f,position:v,reverseDirection:x,useTranslate3d:w,viewBox:j,wrapperStyle:_,lastBoundingBox:ae,innerRef:_e,hasPortalFromProps:!!I},Ste(c,a6(a6({},e),{},{payload:B,label:K,active:de,coordinate:Ne,accessibilityLayer:R})));return A.createElement(A.Fragment,null,SM.createPortal(pe,G),de&&A.createElement(nte,{cursor:T,tooltipEventType:L,coordinate:Ne,payload:me,index:F}))}var I2={},R2={},o6;function Ate(){return o6||(o6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,c=null,d=null,h=0,f=null,p;const{leading:v=!1,trailing:x=!0,maxWait:w}=i,_="maxWait"in i,T=_?Math.max(Number(w)||0,r):0,S=j=>(s!==null&&(p=n.apply(c,s)),s=c=null,h=j,p),N=j=>(h=j,f=setTimeout(k,r),v&&s!==null?S(j):p),P=j=>(f=null,x&&s!==null?S(j):p),I=j=>{if(d===null)return!0;const R=j-d,L=R>=r||R<0,F=_&&j-h>=T;return L||F},D=j=>{const R=d===null?0:j-d,L=r-R,F=T-(j-h);return _?Math.min(L,F):L},k=()=>{const j=Date.now();if(I(j))return P(j);f=setTimeout(k,D(j))},V=function(...j){const R=Date.now(),L=I(R);if(s=j,c=this,d=R,L){if(f===null)return N(R);if(_)return clearTimeout(f),f=setTimeout(k,r),S(R)}return f===null&&(f=setTimeout(k,r)),p};return V.cancel=()=>{f!==null&&clearTimeout(f),h=0,d=s=c=f=null},V.flush=()=>f===null?p:P(Date.now()),V}t.debounce=e}(R2)),R2}var l6;function jte(){return l6||(l6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ate();function n(r,i=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:d})}t.throttle=n}(I2)),I2}var P2,c6;function Nte(){return c6||(c6=1,P2=jte().throttle),P2}var Cte=Nte();const Ote=ia(Cte);var yh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dte=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:c=0,minHeight:d,maxHeight:h,children:f,debounce:p=0,id:v,className:x,onResize:w,style:_={}}=t,T=A.useRef(null),S=A.useRef();S.current=w,A.useImperativeHandle(e,()=>T.current);var[N,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),I=A.useCallback((k,V)=>{P(j=>{var R=Math.round(k),L=Math.round(V);return j.containerWidth===R&&j.containerHeight===L?j:{containerWidth:R,containerHeight:L}})},[]);A.useEffect(()=>{var k=L=>{var F,{width:z,height:q}=L[0].contentRect;I(z,q),(F=S.current)===null||F===void 0||F.call(S,z,q)};p>0&&(k=Ote(k,p,{trailing:!0,leading:!1}));var V=new ResizeObserver(k),{width:j,height:R}=T.current.getBoundingClientRect();return I(j,R),V.observe(T.current),()=>{V.disconnect()}},[I,p]);var D=A.useMemo(()=>{var{containerWidth:k,containerHeight:V}=N;if(k<0||V<0)return null;yh(hl(i)||hl(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),yh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=hl(i)?k:i,R=hl(s)?V:s;return n&&n>0&&(j?R=j/n:R&&(j=R*n),h&&R>h&&(R=h)),yh(j>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,R,i,s,c,d,n),A.Children.map(f,L=>A.cloneElement(L,{width:j,height:R,style:D2({width:j,height:R},L.props.style)}))},[n,f,s,h,d,c,N,i]);return A.createElement("div",{id:v?"".concat(v):void 0,className:Nt("recharts-responsive-container",x),style:D2(D2({},_),{},{width:i,height:s,minWidth:c,minHeight:d,maxHeight:h}),ref:T},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))}),Mw=t=>null;Mw.displayName="Cell";function d6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qc={widthCache:{},cacheCount:0},Vte=2e3,Ute={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h6="recharts_measurement_span";function Bte(t){var e=sb({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var xh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ff.isSsr)return{width:0,height:0};var r=Bte(n),i=JSON.stringify({text:e,copyStyle:r});if(qc.widthCache[i])return qc.widthCache[i];try{var s=document.getElementById(h6);s||(s=document.createElement("span"),s.setAttribute("id",h6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=sb(sb({},Ute),r);Object.assign(s.style,c),s.textContent="".concat(e);var d=s.getBoundingClientRect(),h={width:d.width,height:d.height};return qc.widthCache[i]=h,++qc.cacheCount>Vte&&(qc.cacheCount=0,qc.widthCache={}),h}catch{return{width:0,height:0}}},f6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$te=Object.keys(U8),Wc="NaN";function Fte(t,e){return t*U8[e]}class or{static parse(e){var n,[,r,i]=(n=qte.exec(e))!==null&&n!==void 0?n:[];return new or(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ri(e)&&(this.unit=""),n!==""&&!zte.test(n)&&(this.num=NaN,this.unit=""),$te.includes(n)&&(this.num=Fte(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new or(NaN,""):new or(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new or(NaN,""):new or(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new or(NaN,""):new or(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new or(NaN,""):new or(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ri(this.num)}}function B8(t){if(t.includes(Wc))return Wc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=f6.exec(e))!==null&&n!==void 0?n:[],c=or.parse(r??""),d=or.parse(s??""),h=i==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Wc;e=e.replace(f6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,v,x]=(f=m6.exec(e))!==null&&f!==void 0?f:[],w=or.parse(p??""),_=or.parse(x??""),T=v==="+"?w.add(_):w.subtract(_);if(T.isNaN())return Wc;e=e.replace(m6,T.toString())}return e}var p6=/\(([^()]*)\)/;function Hte(t){for(var e=t,n;(n=p6.exec(e))!=null;){var[,r]=n;e=e.replace(p6,B8(r))}return e}function Kte(t){var e=t.replace(/\s+/g,"");return e=Hte(e),e=B8(e),e}function Gte(t){try{return Kte(t)}catch{return Wc}}function k2(t){var e=Gte(t.slice(5,-1));return e===Wc?"":e}var Wte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yte=["dx","dy","angle","className","breakAll"];function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(null,arguments)}function g6(t,e){if(t==null)return{};var n,r,i=Xte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z8=/[ \f\n\r\t\v\u2028\u2029]+/,q8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Vt(e)||(n?i=e.toString().split(""):i=e.toString().split(z8));var s=i.map(d=>({word:d,width:xh(d,r).width})),c=n?0:xh(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Qte=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:d,breakAll:h}=t,f=Oe(s),p=c,v=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((q,$)=>{var{word:Ne,width:me}=$,te=q[q.length-1];if(te&&(r==null||i||te.width+me+n<Number(r)))te.words.push(Ne),te.width+=me+n;else{var de={words:[Ne],width:me};q.push(de)}return q},[])},x=v(e),w=F=>F.reduce((z,q)=>z.width>q.width?z:q);if(!f||i)return x;var _=x.length>s||w(x).width>Number(r);if(!_)return x;for(var T="…",S=F=>{var z=p.slice(0,F),q=q8({breakAll:h,style:d,children:z+T}).wordsWithComputedWidth,$=v(q),Ne=$.length>s||w($).width>Number(r);return[Ne,$]},N=0,P=p.length-1,I=0,D;N<=P&&I<=p.length-1;){var k=Math.floor((N+P)/2),V=k-1,[j,R]=S(V),[L]=S(k);if(!j&&!L&&(N=k+1),j&&L&&(P=k-1),!j&&L){D=R;break}I++}return D||x},v6=t=>{var e=Vt(t)?[]:t.toString().split(z8);return[{words:e}]},Zte=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!ff.isSsr){var d,h,f=q8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:v}=f;d=p,h=v}else return v6(r);return Qte({breakAll:s,children:r,maxLines:c,style:i},d,h,e,n)}return v6(r)},y6="#808080",Lw=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:h="end",fill:f=y6}=t,p=g6(t,Wte),v=A.useMemo(()=>Zte({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:x,dy:w,angle:_,className:T,breakAll:S}=p,N=g6(p,Yte);if(!na(n)||!na(r))return null;var P=n+(Oe(x)?x:0),I=r+(Oe(w)?w:0),D;switch(h){case"start":D=k2("calc(".concat(s,")"));break;case"middle":D=k2("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:D=k2("calc(".concat(v.length-1," * -").concat(i,")"));break}var k=[];if(c){var V=v[0].width,{width:j}=p;k.push("scale(".concat(Oe(j)?j/V:1,")"))}return _&&k.push("rotate(".concat(_,", ").concat(P,", ").concat(I,")")),k.length&&(N.transform=k.join(" ")),A.createElement("text",ob({},Pt(N,!0),{ref:e,x:P,y:I,className:Nt("recharts-text",T),textAnchor:d,fill:f.includes("url")?y6:f}),v.map((R,L)=>{var F=R.words.join(S?"":" ");return A.createElement("tspan",{x:P,dy:L===0?D:i,key:"".concat(F,"-").concat(L)},F)}))});Lw.displayName="Text";var Jte=["offset"],ene=["labelRef"];function x6(t,e){if(t==null)return{};var n,r,i=tne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return(e=rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return typeof e=="symbol"?e:e+""}function ine(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(null,arguments)}var ane=t=>{var{value:e,formatter:n}=t,r=Vt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Vw=t=>t!=null&&typeof t=="function",sne=(t,e)=>{var n=ei(e-t),r=Math.min(Math.abs(e-t),360);return n*r},one=(t,e,n)=>{var{position:r,viewBox:i,offset:s,className:c}=t,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:v,endAngle:x,clockWise:w}=i,_=(f+p)/2,T=sne(v,x),S=T>=0?1:-1,N,P;r==="insideStart"?(N=v+S*s,P=w):r==="insideEnd"?(N=x-S*s,P=!w):r==="end"&&(N=x+S*s,P=w),P=T<=0?P:!P;var I=Ln(d,h,_,N),D=Ln(d,h,_,N+(P?1:-1)*359),k="M".concat(I.x,",").concat(I.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(P?0:1,`,
    `).concat(D.x,",").concat(D.y),V=Vt(t.id)?Mh("recharts-radial-line-"):t.id;return A.createElement("text",ka({},n,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",c)}),A.createElement("defs",null,A.createElement("path",{id:V,d:k})),A.createElement("textPath",{xlinkHref:"#".concat(V)},e))},lne=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:s,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f}=e,p=(h+f)/2;if(r==="outside"){var{x:v,y:x}=Ln(i,s,d+n,p);return{x:v,y:x,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(c+d)/2,{x:_,y:T}=Ln(i,s,w,p);return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},cne=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:c,width:d,height:h}=e,f=h>=0?1:-1,p=f*r,v=f>0?"end":"start",x=f>0?"start":"end",w=d>=0?1:-1,_=w*r,T=w>0?"end":"start",S=w>0?"start":"end";if(i==="top"){var N={x:s+d/2,y:c-f*r,textAnchor:"middle",verticalAnchor:v};return en(en({},N),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var P={x:s+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:x};return en(en({},P),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(i==="left"){var I={x:s-_,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return en(en({},I),n?{width:Math.max(I.x-n.x,0),height:h}:{})}if(i==="right"){var D={x:s+d+_,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return en(en({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:h}:{})}var k=n?{width:d,height:h}:{};return i==="insideLeft"?en({x:s+_,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?en({x:s+d-_,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},k):i==="insideTop"?en({x:s+d/2,y:c+p,textAnchor:"middle",verticalAnchor:x},k):i==="insideBottom"?en({x:s+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:v},k):i==="insideTopLeft"?en({x:s+_,y:c+p,textAnchor:S,verticalAnchor:x},k):i==="insideTopRight"?en({x:s+d-_,y:c+p,textAnchor:T,verticalAnchor:x},k):i==="insideBottomLeft"?en({x:s+_,y:c+h-p,textAnchor:S,verticalAnchor:v},k):i==="insideBottomRight"?en({x:s+d-_,y:c+h-p,textAnchor:T,verticalAnchor:v},k):i&&typeof i=="object"&&(Oe(i.x)||hl(i.x))&&(Oe(i.y)||hl(i.y))?en({x:s+vo(i.x,d),y:c+vo(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):en({x:s+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},une=t=>"cx"in t&&Oe(t.cx);function jr(t){var{offset:e=5}=t,n=x6(t,Jte),r=en({offset:e},n),{viewBox:i,position:s,value:c,children:d,content:h,className:f="",textBreakAll:p,labelRef:v}=r,x=B_(),w=i||x;if(!w||Vt(c)&&Vt(d)&&!A.isValidElement(h)&&typeof h!="function")return null;if(A.isValidElement(h)){var{labelRef:_}=r,T=x6(r,ene);return A.cloneElement(h,T)}var S;if(typeof h=="function"){if(S=A.createElement(h,r),A.isValidElement(S))return S}else S=ane(r);var N=une(w),P=Pt(r,!0);if(N&&(s==="insideStart"||s==="insideEnd"||s==="end"))return one(r,S,P);var I=N?lne(r):cne(r,w);return A.createElement(Lw,ka({ref:v,className:Nt("recharts-label",f)},P,I,{breakAll:p}),S)}jr.displayName="Label";var $8=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:c,radius:d,innerRadius:h,outerRadius:f,x:p,y:v,top:x,left:w,width:_,height:T,clockWise:S,labelViewBox:N}=t;if(N)return N;if(Oe(_)&&Oe(T)){if(Oe(p)&&Oe(v))return{x:p,y:v,width:_,height:T};if(Oe(x)&&Oe(w))return{x,y:w,width:_,height:T}}if(Oe(p)&&Oe(v))return{x:p,y:v,width:0,height:0};if(Oe(e)&&Oe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:h||0,outerRadius:f||d||c||0,clockWise:S};if(t.viewBox)return t.viewBox},dne=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(jr,ka({key:"label-implicit"},r)):na(t)?A.createElement(jr,ka({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===jr?A.cloneElement(t,en({key:"label-implicit"},r)):A.createElement(jr,ka({key:"label-implicit",content:t},r)):Vw(t)?A.createElement(jr,ka({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(jr,ka({},t,{key:"label-implicit"},r)):null},hne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,c=$8(e),d=w_(i,jr).map((f,p)=>A.cloneElement(f,{viewBox:n||c,key:"label-".concat(p)}));if(!r)return d;var h=dne(e.label,n||c,s);return[h,...d]};jr.parseViewBox=$8;jr.renderCallByParent=hne;var M2={},L2={},_6;function fne(){return _6||(_6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(L2)),L2}var V2={},w6;function mne(){return w6||(w6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(V2)),V2}var S6;function pne(){return S6||(S6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fne(),n=mne(),r=j_();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i}(M2)),M2}var U2,T6;function gne(){return T6||(T6=1,U2=pne().last),U2}var vne=gne();const yne=ia(vne);var xne=["valueAccessor"],bne=["data","dataKey","clockWise","id","textBreakAll"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(null,arguments)}function E6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E6(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j6(t,e){if(t==null)return{};var n,r,i=Tne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ene=t=>Array.isArray(t.value)?yne(t.value):t.value;function Sl(t){var{valueAccessor:e=Ene}=t,n=j6(t,xne),{data:r,dataKey:i,clockWise:s,id:c,textBreakAll:d}=n,h=j6(n,bne);return!r||!r.length?null:A.createElement(es,{className:"recharts-label-list"},r.map((f,p)=>{var v=Vt(i)?e(f,p):rr(f&&f.payload,i),x=Vt(c)?{}:{id:"".concat(c,"-").concat(p)};return A.createElement(jr,Rg({},Pt(f,!0),h,x,{parentViewBox:f.parentViewBox,value:v,textBreakAll:d,viewBox:jr.parseViewBox(Vt(s)?f:A6(A6({},f),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Sl.displayName="LabelList";function Ane(t,e){return t?t===!0?A.createElement(Sl,{key:"labelList-implicit",data:e}):A.isValidElement(t)||Vw(t)?A.createElement(Sl,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?A.createElement(Sl,Rg({data:e},t,{key:"labelList-implicit"})):null:null}function jne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=w_(r,Sl).map((c,d)=>A.cloneElement(c,{data:e,key:"labelList-".concat(d)}));if(!n)return i;var s=Ane(t.label,e);return[s,...i]}Sl.renderCallByParent=jne;var Nne={radiusAxis:{},angleAxis:{}},F8=si({name:"polarAxis",initialState:Nne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:boe,removeRadiusAxis:_oe,addAngleAxis:woe,removeAngleAxis:Soe}=F8.actions,Cne=F8.reducer,One={countOfBars:0,cartesianItems:[],polarItems:[]},H8=si({name:"graphicalItems",initialState:One,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Ha(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Ha(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Ha(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Toe,removeBar:Eoe,addCartesianGraphicalItem:Ine,replaceCartesianGraphicalItem:Rne,removeCartesianGraphicalItem:Pne,addPolarGraphicalItem:Aoe,removePolarGraphicalItem:joe}=H8.actions,Dne=H8.reducer;function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kne(t,e,n){return(e=Mne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vne(t){var e=pn(),n=A.useRef(null);return A.useEffect(()=>{var r=C6(C6({},t),{},{stackId:xW(t.stackId)});n.current===null?e(Ine(r)):n.current!==r&&e(Rne({prev:n.current,next:r})),n.current=r},[e,t]),A.useEffect(()=>()=>{n.current&&(e(Pne(n.current)),n.current=null)},[e]),null}var B2={},O6;function Une(){return O6||(O6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(B2)),B2}var z2,I6;function Bne(){return I6||(I6=1,z2=Une().isPlainObject),z2}var zne=Bne();const qne=ia(zne);function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(null,arguments)}var R6=(t,e,n,r,i)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+i),c+="L ".concat(t+n-s/2-r,",").concat(e+i),c+="L ".concat(t,",").concat(e," Z"),c},$ne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fne=t=>{var e=Hl(t,$ne),n=A.useRef(),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:s,y:c,upperWidth:d,lowerWidth:h,height:f,className:p}=e,{animationEasing:v,animationDuration:x,animationBegin:w,isUpdateAnimationActive:_}=e;if(s!==+s||c!==+c||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var T=Nt("recharts-trapezoid",p);return _?A.createElement(Bh,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:c},to:{upperWidth:d,lowerWidth:h,height:f,x:s,y:c},duration:x,animationEasing:v,isActive:_},S=>{var{upperWidth:N,lowerWidth:P,height:I,x:D,y:k}=S;return A.createElement(Bh,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:v},A.createElement("path",Pg({},Pt(e,!0),{className:T,d:R6(D,k,N,P,I),ref:n})))}):A.createElement("g",null,A.createElement("path",Pg({},Pt(e,!0),{className:T,d:R6(s,c,d,h,f)})))},Hne=["option","shapeType","propTransformer","activeClassName","isActive"];function Kne(t,e){if(t==null)return{};var n,r,i=Gne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return(e=Yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qne(t,e){return Dg(Dg({},e),t)}function Zne(t,e){return t==="symbols"}function D6(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(C5,n);case"trapezoid":return A.createElement(Fne,n);case"sector":return A.createElement(R5,n);case"symbols":if(Zne(e))return A.createElement(A_,n);break;default:return null}}function Jne(t){return A.isValidElement(t)?t.props:t}function k6(t){var{option:e,shapeType:n,propTransformer:r=Qne,activeClassName:i="recharts-active-shape",isActive:s}=t,c=Kne(t,Hne),d;if(A.isValidElement(e))d=A.cloneElement(e,Dg(Dg({},c),Jne(e)));else if(typeof e=="function")d=e(c);else if(qne(e)&&typeof e!="boolean"){var h=r(e,c);d=A.createElement(D6,{shapeType:n,elementProps:h})}else{var f=c;d=A.createElement(D6,{shapeType:n,elementProps:f})}return s?A.createElement(es,{className:i},d):d}var ere=(t,e)=>{var n=pn();return(r,i)=>s=>{t?.(r,i,s),n(v8({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},tre=t=>{var e=pn();return(n,r)=>i=>{t?.(n,r,i),e(eee())}},nre=(t,e)=>{var n=pn();return(r,i)=>s=>{t?.(r,i,s),n(tee({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function rre(t){var{fn:e,args:n}=t,r=pn(),i=oi();return A.useEffect(()=>{if(!i){var s=e(n);return r(QJ(s)),()=>{r(ZJ(s))}}},[e,n,r,i]),null}var ire=()=>{};function are(t){var{legendPayload:e}=t,n=pn(),r=oi();return A.useEffect(()=>r?ire:(n(MW(e)),()=>{n(LW(e))}),[n,r,e]),null}function sre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Mh(e)),r=A.useRef(t);return r.current!==t&&(n.current=Mh(e),r.current=t),n.current}var ore=le([Un],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),lre=le([ore,ls,cs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),K8=()=>Ve(lre),cre=["children"];function ure(t,e){if(t==null)return{};var n,r,i=dre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var M6=()=>{},hre=A.createContext({addErrorBar:M6,removeErrorBar:M6}),fre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mre=A.createContext(fre);function pre(t){var{children:e}=t,n=ure(t,cre);return A.createElement(mre.Provider,{value:n},e)}var gre=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:c,stackId:d,hide:h,type:f,barSize:p}=t,[v,x]=A.useState([]),w=A.useCallback(S=>{x(N=>[...N,S])},[x]),_=A.useCallback(S=>{x(N=>N.filter(P=>P!==S))},[x]),T=oi();return A.createElement(hre.Provider,{value:{addErrorBar:w,removeErrorBar:_}},A.createElement(Vne,{type:f,data:c,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:v,stackId:d,hide:h,barSize:p,isPanorama:T}),e)};function G8(t,e){var n,r,i=Ve(f=>ds(f,t)),s=Ve(f=>To(f,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Tr.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Er.allowDataOverflow,h=c||d;return{needClip:h,needClipX:c,needClipY:d}}function vre(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=K8(),{needClipX:s,needClipY:c,needClip:d}=G8(e,n);if(!d)return null;var{x:h,y:f,width:p,height:v}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?h:h-p/2,y:c?f:f-v/2,width:s?p:p*2,height:c?v:v*2}))}var yre=t=>{var{chartData:e}=t,n=pn(),r=oi();return A.useEffect(()=>r?()=>{}:(n(r6(e)),()=>{n(r6(void 0))}),[e,n,r]),null},L6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W8=si({name:"brush",initialState:L6,reducers:{setBrushSettings(t,e){return e.payload==null?L6:e.payload}}}),{setBrushSettings:Noe}=W8.actions,xre=W8.reducer;function bre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Uw{static create(e){return new Uw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}bre(Uw,"EPS",1e-4);function Sre(t){return(t%180+180)%180}var Tre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sre(i),c=s*Math.PI/180,d=Math.atan(r/n),h=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(h)},Ere={dots:[],areas:[],lines:[]},Y8=si({name:"referenceElements",initialState:Ere,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ha(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ha(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ha(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Coe,removeDot:Ooe,addArea:Ioe,removeArea:Roe,addLine:Poe,removeLine:Doe}=Y8.actions,Are=Y8.reducer,jre=A.createContext(void 0),Nre=t=>{var{children:e}=t,[n]=A.useState("".concat(Mh("recharts"),"-clip")),r=K8();if(r==null)return null;var{x:i,y:s,width:c,height:d}=r;return A.createElement(jre.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:d,width:c}))),e)};function q2(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function X8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Cre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tre(r,n)}function Ore(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:d}=t;return e===1?{start:r?i:s,end:r?i+c:s+d}:{start:r?i+c:s+d,end:r?i:s}}function kg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ire(t,e){return X8(t,e+1)}function Rre(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:d}=e,h=0,f=1,p=c,v=function(){var _=r?.[h];if(_===void 0)return{v:X8(r,f)};var T=h,S,N=()=>(S===void 0&&(S=n(_,T)),S),P=_.coordinate,I=h===0||kg(t,P,N,p,d);I||(h=0,p=c,f+=1),I&&(p=P+t*(N()/2+i),h+=f)},x;f<=s.length;)if(x=v(),x)return x.v;return[]}function V6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V6(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=Dre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=kre(t,"string");return typeof e=="symbol"?e:e+""}function kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mre(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:h}=e,f=function(x){var w=s[x],_,T=()=>(_===void 0&&(_=n(w,x)),_);if(x===c-1){var S=t*(w.coordinate+t*T()/2-h);s[x]=w=Kn(Kn({},w),{},{tickCoord:S>0?w.coordinate-S*t:w.coordinate})}else s[x]=w=Kn(Kn({},w),{},{tickCoord:w.coordinate});var N=kg(t,w.tickCoord,T,d,h);N&&(h=w.tickCoord-t*(T()/2+i),s[x]=Kn(Kn({},w),{},{isShow:!0}))},p=c-1;p>=0;p--)f(p);return s}function Lre(t,e,n,r,i,s){var c=(r||[]).slice(),d=c.length,{start:h,end:f}=e;if(s){var p=r[d-1],v=n(p,d-1),x=t*(p.coordinate+t*v/2-f);c[d-1]=p=Kn(Kn({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate});var w=kg(t,p.tickCoord,()=>v,h,f);w&&(f=p.tickCoord-t*(v/2+i),c[d-1]=Kn(Kn({},p),{},{isShow:!0}))}for(var _=s?d-1:d,T=function(P){var I=c[P],D,k=()=>(D===void 0&&(D=n(I,P)),D);if(P===0){var V=t*(I.coordinate-t*k()/2-h);c[P]=I=Kn(Kn({},I),{},{tickCoord:V<0?I.coordinate-V*t:I.coordinate})}else c[P]=I=Kn(Kn({},I),{},{tickCoord:I.coordinate});var j=kg(t,I.tickCoord,k,h,f);j&&(h=I.tickCoord+t*(k()/2+i),c[P]=Kn(Kn({},I),{},{isShow:!0}))},S=0;S<_;S++)T(S);return c}function Bw(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:d,interval:h,tickFormatter:f,unit:p,angle:v}=t;if(!i||!i.length||!r)return[];if(Oe(h)||ff.isSsr){var x;return(x=Ire(i,Oe(h)?h:0))!==null&&x!==void 0?x:[]}var w=[],_=d==="top"||d==="bottom"?"width":"height",T=p&&_==="width"?xh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(I,D)=>{var k=typeof f=="function"?f(I.value,D):I.value;return _==="width"?Cre(xh(k,{fontSize:e,letterSpacing:n}),T,v):xh(k,{fontSize:e,letterSpacing:n})[_]},N=i.length>=2?ei(i[1].coordinate-i[0].coordinate):1,P=Ore(s,N,_);return h==="equidistantPreserveStart"?Rre(N,P,S,i,c):(h==="preserveStart"||h==="preserveStartEnd"?w=Lre(N,P,S,i,c,h==="preserveStartEnd"):w=Mre(N,P,S,i,c),w.filter(I=>I.isShow))}var Vre=["viewBox"],Ure=["viewBox"];function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(null,arguments)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6(t,e){if(t==null)return{};var n,r,i=Bre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zw(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Eo extends A.Component{constructor(e){super(e),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=B6(e,Vre),s=this.props,{viewBox:c}=s,d=B6(s,Ure);return!q2(r,c)||!q2(i,d)||!q2(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:c,tickSize:d,mirror:h,tickMargin:f}=this.props,p,v,x,w,_,T,S=h?-1:1,N=e.tickSize||d,P=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":p=v=e.coordinate,w=r+ +!h*s,x=w-S*N,T=x-S*f,_=P;break;case"left":x=w=e.coordinate,v=n+ +!h*i,p=v-S*N,_=p-S*f,T=P;break;case"right":x=w=e.coordinate,v=n+ +h*i,p=v+S*N,_=p+S*f,T=P;break;default:p=v=e.coordinate,w=r+ +h*s,x=w+S*N,T=x+S*f,_=P;break}return{line:{x1:p,y1:x,x2:v,y2:w},tick:{x:_,y:T}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:d}=this.props,h=fn(fn(fn({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!c||s==="bottom"&&c);h=fn(fn({},h),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);h=fn(fn({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",Yc({},h,{className:Nt("recharts-cartesian-axis-line",Rl(d,"className"))}))}static renderTickItem(e,n,r){var i,s=Nt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,fn(fn({},n),{},{className:s}));else if(typeof e=="function")i=e(fn(fn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Nt(c,e.className)),i=A.createElement(Lw,Yc({},n,{className:c}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:c,tickFormatter:d,unit:h}=this.props,f=Bw(fn(fn({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Pt(this.props,!1),w=Pt(c,!1),_=fn(fn({},x),{},{fill:"none"},Pt(i,!1)),T=f.map((S,N)=>{var{line:P,tick:I}=this.getTickLineCoord(S),D=fn(fn(fn(fn({textAnchor:p,verticalAnchor:v},x),{},{stroke:"none",fill:s},w),I),{},{index:N,payload:S,visibleTicksCount:f.length,tickFormatter:d});return A.createElement(es,Yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},hR(this.props,S,N)),i&&A.createElement("line",Yc({},_,P,{className:Nt("recharts-cartesian-axis-tick-line",Rl(i,"className"))})),c&&Eo.renderTickItem(c,D,"".concat(typeof d=="function"?d(S.value,N):S.value).concat(h||"")))});return T.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(es,{className:Nt("recharts-cartesian-axis",i),ref:d=>{if(d){var h=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var f=h[0];if(f){var p=window.getComputedStyle(f).fontSize,v=window.getComputedStyle(f).letterSpacing;(p!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),jr.renderCallByParent(this.props))}}zw(Eo,"displayName","CartesianAxis");zw(Eo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $re=["x1","y1","x2","y2","key"],Fre=["offset"],Hre=["xAxisId","yAxisId"],Kre=["xAxisId","yAxisId"];function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function Mg(t,e){if(t==null)return{};var n,r,i=Xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qre=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:d}=t;return A.createElement("rect",{x:r,y:i,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q8(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:c,key:d}=e,h=Mg(e,$re),f=Pt(h,!1),{offset:p}=f,v=Mg(f,Fre);n=A.createElement("line",gl({},v,{x1:r,y1:i,x2:s,y2:c,fill:"none",key:d}))}return n}function Zre(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Mg(t,Hre),h=i.map((f,p)=>{var v=Yn(Yn({},d),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return Q8(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Jre(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Mg(t,Kre),h=i.map((f,p)=>{var v=Yn(Yn({},d),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return Q8(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function eie(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:d,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var f=d.map(v=>Math.round(v+i-i)).sort((v,x)=>v-x);i!==f[0]&&f.unshift(0);var p=f.map((v,x)=>{var w=!f[x+1],_=w?i+c-v:f[x+1]-v;if(_<=0)return null;var T=x%e.length;return A.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:_,width:s,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function tie(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:d,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(v=>Math.round(v+i-i)).sort((v,x)=>v-x);i!==f[0]&&f.unshift(0);var p=f.map((v,x)=>{var w=!f[x+1],_=w?i+c-v:f[x+1]-v;if(_<=0)return null;var T=x%n.length;return A.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:_,height:d,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var nie=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return h5(Bw(Yn(Yn(Yn({},Eo.defaultProps),n),{},{ticks:f5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},rie=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return h5(Bw(Yn(Yn(Yn({},Eo.defaultProps),n),{},{ticks:f5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},iie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Z8(t){var e=b5(),n=_5(),r=x5(),i=Yn(Yn({},Hl(t,iie)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:h,width:f,height:p,syncWithTicks:v,horizontalValues:x,verticalValues:w}=i,_=oi(),T=Ve(L=>W3(L,"xAxis",s,_)),S=Ve(L=>W3(L,"yAxis",c,_));if(!Oe(f)||f<=0||!Oe(p)||p<=0||!Oe(d)||d!==+d||!Oe(h)||h!==+h)return null;var N=i.verticalCoordinatesGenerator||nie,P=i.horizontalCoordinatesGenerator||rie,{horizontalPoints:I,verticalPoints:D}=i;if((!I||!I.length)&&typeof P=="function"){var k=x&&x.length,V=P({yAxis:S?Yn(Yn({},S),{},{ticks:k?x:S.ticks}):void 0,width:e,height:n,offset:r},k?!0:v);yh(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(I=V)}if((!D||!D.length)&&typeof N=="function"){var j=w&&w.length,R=N({xAxis:T?Yn(Yn({},T),{},{ticks:j?w:T.ticks}):void 0,width:e,height:n,offset:r},j?!0:v);yh(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(D=R)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Qre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(eie,gl({},i,{horizontalPoints:I})),A.createElement(tie,gl({},i,{verticalPoints:D})),A.createElement(Zre,gl({},i,{offset:r,horizontalPoints:I,xAxis:T,yAxis:S})),A.createElement(Jre,gl({},i,{offset:r,verticalPoints:D,xAxis:T,yAxis:S})))}Z8.displayName="CartesianGrid";function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return(e=sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=oie(t,"string");return typeof e=="symbol"?e:e+""}function oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lie={xAxis:{},yAxis:{},zAxis:{}},J8=si({name:"cartesianAxis",initialState:lie,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=$6($6({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:cie,removeXAxis:uie,addYAxis:die,removeYAxis:hie,addZAxis:fie,removeZAxis:mie,updateYAxisWidth:pie}=J8.actions,gie=J8.reducer;function eD(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t){var e=pn();return A.useEffect(()=>(e(fie(t)),()=>{e(mie(t))}),[t,e]),null}class qw extends A.Component{render(){return A.createElement(xie,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:Js.allowDuplicatedCategory,allowDataOverflow:Js.allowDataOverflow,reversed:Js.reversed,includeHidden:Js.includeHidden})}}eD(qw,"displayName","ZAxis");eD(qw,"defaultProps",{zAxisId:0,range:Js.range,scale:Js.scale,type:Js.type});var bie=["option","isActive"];function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(null,arguments)}function _ie(t,e){if(t==null)return{};var n,r,i=wie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sie(t){var{option:e,isActive:n}=t,r=_ie(t,bie);return typeof e=="string"?A.createElement(k6,bh({option:A.createElement(A_,bh({type:e},r)),isActive:n,shapeType:"symbols"},r)):A.createElement(k6,bh({option:e,isActive:n,shapeType:"symbols"},r))}var Tie=(t,e,n,r,i,s,c)=>d8(t,"xAxis",e,c),Eie=(t,e,n,r,i,s,c)=>u8(t,"xAxis",e,c),Aie=(t,e,n,r,i,s,c)=>d8(t,"yAxis",n,c),jie=(t,e,n,r,i,s,c)=>u8(t,"yAxis",n,c),Nie=(t,e,n,r)=>KJ(t,"zAxis",r,!1),Cie=(t,e,n,r,i)=>i,Oie=(t,e,n,r,i,s)=>s,Iie=(t,e,n,r,i,s,c)=>mP(t,e,n,c),Rie=le([MP,Cie],(t,e)=>{if(t.some(n=>n.type==="scatter"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Pie=le([Iie,Tie,Eie,Aie,jie,Nie,Rie,Oie],(t,e,n,r,i,s,c,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=t;if(c!=null){var v;if(c?.data!=null&&c.data.length>0?v=c.data:v=h?.slice(f,p+1),!(v==null||e==null||r==null||n==null||i==null||n?.length===0||i?.length===0))return Fie({displayedData:v,xAxis:e,yAxis:r,zAxis:s,scatterSettings:c,xAxisTicks:n,yAxisTicks:i,cells:d})}}),Die=["onMouseEnter","onClick","onMouseLeave"],kie=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function tD(t,e){if(t==null)return{};var n,r,i=Mie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){$w(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $w(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uie=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:m5(n,e),payload:t}]};function Bie(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:s}=n;if(!r)return null;var c=Pt(n,!1),d=Pt(r,!1),h,f;if(i==="joint")h=e.map(S=>({x:S.cx,y:S.cy}));else if(i==="fitting"){var{xmin:p,xmax:v,a:x,b:w}=oH(e),_=S=>x*S+w;h=[{x:p,y:_(p)},{x:v,y:_(v)}]}var T=hr(hr(hr({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:h});return A.isValidElement(r)?f=A.cloneElement(r,T):typeof r=="function"?f=r(T):f=A.createElement(E5,vu({},T,{type:s})),A.createElement(es,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function nD(t){var{points:e,showLabels:n,allOtherScatterProps:r}=t,{shape:i,activeShape:s,dataKey:c}=r,d=Pt(r,!1),h=Ve(Kh),{onMouseEnter:f,onClick:p,onMouseLeave:v}=r,x=tD(r,Die),w=ere(f,r.dataKey),_=tre(v),T=nre(p,r.dataKey);return e==null?null:A.createElement(A.Fragment,null,A.createElement(Bie,{points:e,props:r}),e.map((S,N)=>{var P=s&&h===String(N),I=P?s:i,D=hr(hr(hr({key:"symbol-".concat(N)},d),S),{},{[g5]:N,[v5]:String(c)});return A.createElement(es,vu({className:"recharts-scatter-symbol"},hR(x,S,N),{onMouseEnter:w(S,N),onMouseLeave:_(S,N),onClick:T(S,N),key:"symbol-".concat(S?.cx,"-").concat(S?.cy,"-").concat(S?.size,"-").concat(N)}),A.createElement(Sie,vu({option:I,isActive:P},D)))}),n&&Sl.renderCallByParent(r,e))}function zie(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:d}=n,h=e.current,f=sre(n,"recharts-scatter-"),[p,v]=A.useState(!1),x=A.useCallback(()=>{v(!1)},[]),w=A.useCallback(()=>{v(!0)},[]);return A.createElement(Bh,{begin:s,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:w,key:f},_=>{var{t:T}=_,S=T===1?r:r.map((N,P)=>{var I=h&&h[P];if(I){var D=rp(I.cx,N.cx),k=rp(I.cy,N.cy),V=rp(I.size,N.size);return hr(hr({},N),{},{cx:D(T),cy:k(T),size:V(T)})}var j=rp(0,N.size);return hr(hr({},N),{},{size:j(T)})});return T>0&&(e.current=S),A.createElement(es,null,A.createElement(nD,{points:S,allOtherScatterProps:n,showLabels:!p}))})}function qie(t){var{points:e,isAnimationActive:n}=t,r=A.useRef(null),i=r.current;return n&&e&&e.length&&(!i||i!==e)?A.createElement(zie,{props:t,previousPointsRef:r}):A.createElement(nD,{points:e,allOtherScatterProps:t,showLabels:!0})}function $ie(t){var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:d,tooltipType:h}=t;return{dataDefinedOnItem:n?.map(f=>f.tooltipPayload),positions:n?.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:s,nameKey:void 0,dataKey:e,name:m5(c,e),hide:d,type:h,color:s,unit:""}}}function Fie(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:d,cells:h}=t,f=Vt(n.dataKey)?s.dataKey:n.dataKey,p=Vt(r.dataKey)?s.dataKey:r.dataKey,v=i&&i.dataKey,x=i?i.range:qw.defaultProps.range,w=x&&x[0],_=n.scale.bandwidth?n.scale.bandwidth():0,T=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((S,N)=>{var P=rr(S,f),I=rr(S,p),D=!Vt(v)&&rr(S,v)||"-",k=[{name:Vt(n.dataKey)?s.name:n.name||n.dataKey,unit:n.unit||"",value:P,payload:S,dataKey:f,type:s.tooltipType},{name:Vt(r.dataKey)?s.name:r.name||r.dataKey,unit:r.unit||"",value:I,payload:S,dataKey:p,type:s.tooltipType}];D!=="-"&&k.push({name:i.name||i.dataKey,unit:i.unit||"",value:D,payload:S,dataKey:v,type:s.tooltipType});var V=IN({axis:n,ticks:c,bandSize:_,entry:S,index:N,dataKey:f}),j=IN({axis:r,ticks:d,bandSize:T,entry:S,index:N,dataKey:p}),R=D!=="-"?i.scale(D):w,L=Math.sqrt(Math.max(R,0)/Math.PI);return hr(hr({},S),{},{cx:V,cy:j,x:V-L,y:j-L,width:2*L,height:2*L,size:R,node:{x:P,y:I,z:D},tooltipPayload:k,tooltipPosition:{x:V,y:j},payload:S},h&&h[N]&&h[N].props)})}var Hie=(t,e,n)=>({x:t.cx,y:t.cy,value:n==="x"?+t.node.x:+t.node.y,errorVal:rr(t,e)});function Kie(t){var e=A.useRef(Mh("recharts-scatter-")),{hide:n,points:r,className:i,needClip:s,xAxisId:c,yAxisId:d,id:h,children:f}=t;if(n)return null;var p=Nt("recharts-scatter",i),v=Vt(h)?e.current:h;return A.createElement(es,{className:p,clipPath:s?"url(#clipPath-".concat(v,")"):null},s&&A.createElement("defs",null,A.createElement(vre,{clipPathId:v,xAxisId:c,yAxisId:d})),A.createElement(pre,{xAxisId:c,yAxisId:d,data:r,dataPointFormatter:Hie,errorBarOffset:0},f),A.createElement(es,{key:"recharts-scatter-symbols"},A.createElement(qie,t)))}var rD={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ff.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Gie(t){var e=Hl(t,rD),{animationBegin:n,animationDuration:r,animationEasing:i,hide:s,isAnimationActive:c,legendType:d,lineJointType:h,lineType:f,shape:p,xAxisId:v,yAxisId:x,zAxisId:w}=e,_=tD(e,kie),{needClip:T}=G8(v,x),S=A.useMemo(()=>w_(t.children,Mw),[t.children]),N=A.useMemo(()=>({name:t.name,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey}),[t.data,t.dataKey,t.name,t.tooltipType]),P=oi(),I=Ve(D=>Pie(D,v,x,w,N,S,P));return T==null?null:A.createElement(A.Fragment,null,A.createElement(rre,{fn:$ie,args:hr(hr({},t),{},{points:I})}),A.createElement(Kie,vu({},_,{xAxisId:v,yAxisId:x,zAxisId:w,lineType:f,lineJointType:h,legendType:d,shape:p,hide:s,isAnimationActive:c,animationBegin:n,animationDuration:r,animationEasing:i,points:I,needClip:T})))}class Fw extends A.Component{render(){return A.createElement(gre,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},A.createElement(are,{legendPayload:Uie(this.props)}),A.createElement(Gie,this.props))}}$w(Fw,"displayName","Scatter");$w(Fw,"defaultProps",rD);var Wie=["children"],Yie=["dangerouslySetInnerHTML","ticks"];function iD(t,e,n){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Qie(t,"string");return typeof e=="symbol"?e:e+""}function Qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(null,arguments)}function aD(t,e){if(t==null)return{};var n,r,i=Zie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jie(t){var e=pn(),n=A.useMemo(()=>{var{children:s}=t,c=aD(t,Wie);return c},[t]),r=Ve(s=>ds(s,n.id)),i=n===r;return A.useEffect(()=>(e(cie(n)),()=>{e(uie(n))}),[n,e]),i?t.children:null}var eae=t=>{var{xAxisId:e,className:n}=t,r=Ve(y5),i=oi(),s="xAxis",c=Ve(w=>Du(w,s,e,i)),d=Ve(w=>c8(w,s,e,i)),h=Ve(w=>kJ(w,e)),f=Ve(w=>BJ(w,e));if(h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,x=aD(t,Yie);return A.createElement(Eo,lb({},x,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:Nt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d}))},tae=t=>{var e,n,r,i,s;return A.createElement(Jie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},A.createElement(eae,t))};class Hw extends A.Component{render(){return A.createElement(tae,this.props)}}iD(Hw,"displayName","XAxis");iD(Hw,"defaultProps",{allowDataOverflow:Tr.allowDataOverflow,allowDecimals:Tr.allowDecimals,allowDuplicatedCategory:Tr.allowDuplicatedCategory,height:Tr.height,hide:!1,mirror:Tr.mirror,orientation:Tr.orientation,padding:Tr.padding,reversed:Tr.reversed,scale:Tr.scale,tickCount:Tr.tickCount,type:Tr.type,xAxisId:0});var nae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){e.forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>c&&(c=v.width)}});var d=n?n.getBoundingClientRect().width:0,h=i+s,f=c+h+d+(n?r:0);return Math.round(f)}return 0},rae=["dangerouslySetInnerHTML","ticks"];function sD(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(null,arguments)}function sae(t,e){if(t==null)return{};var n,r,i=oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lae(t){var e=pn();return A.useEffect(()=>(e(die(t)),()=>{e(hie(t))}),[t,e]),null}var cae=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,c=A.useRef(null),d=A.useRef(null),h=Ve(y5),f=oi(),p=pn(),v="yAxis",x=Ve(I=>Du(I,v,n,f)),w=Ve(I=>qJ(I,n)),_=Ve(I=>zJ(I,n)),T=Ve(I=>c8(I,v,n,f));if(A.useLayoutEffect(()=>{var I;if(!(i!=="auto"||!w||Vw(s)||A.isValidElement(s))){var D=c.current,k=D==null||(I=D.tickRefs)===null||I===void 0?void 0:I.current,{tickSize:V,tickMargin:j}=D.props,R=nae({ticks:k,label:d.current,labelGapWithTick:5,tickSize:V,tickMargin:j});Math.round(w.width)!==Math.round(R)&&p(pie({id:n,width:R}))}},[c,c==null||(e=c.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,w?.width,w,p,s,n,i]),w==null||_==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=t,P=sae(t,rae);return A.createElement(Eo,cb({},P,{ref:c,labelRef:d,scale:x,x:_.x,y:_.y,width:w.width,height:w.height,className:Nt("recharts-".concat(v," ").concat(v),r),viewBox:h,ticks:T}))},uae=t=>{var e,n,r,i,s;return A.createElement(A.Fragment,null,A.createElement(lae,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),A.createElement(cae,t))},dae={allowDataOverflow:Er.allowDataOverflow,allowDecimals:Er.allowDecimals,allowDuplicatedCategory:Er.allowDuplicatedCategory,hide:!1,mirror:Er.mirror,orientation:Er.orientation,padding:Er.padding,reversed:Er.reversed,scale:Er.scale,tickCount:Er.tickCount,type:Er.type,width:Er.width,yAxisId:0};class Kw extends A.Component{render(){return A.createElement(uae,this.props)}}sD(Kw,"displayName","YAxis");sD(Kw,"defaultProps",dae);var $2={exports:{}},F2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6;function hae(){if(H6)return F2;H6=1;var t=yu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return F2.useSyncExternalStoreWithSelector=function(h,f,p,v,x){var w=i(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=c(function(){function S(k){if(!N){if(N=!0,P=k,k=v(k),x!==void 0&&_.hasValue){var V=_.value;if(x(V,k))return I=V}return I=k}if(V=I,n(P,k))return V;var j=v(k);return x!==void 0&&x(V,j)?(P=k,V):(P=k,I=j)}var N=!1,P,I,D=p===void 0?null:p;return[function(){return S(f())},D===null?void 0:function(){return S(D())}]},[f,p,v,x]);var T=r(h,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=T},[T]),d(T),T},F2}var K6;function fae(){return K6||(K6=1,$2.exports=hae()),$2.exports}fae();function mae(t){t()}function pae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var G6={notify(){},get:()=>[]};function gae(t,e){let n,r=G6,i=0,s=!1;function c(T){p();const S=r.subscribe(T);let N=!1;return()=>{N||(N=!0,S(),v())}}function d(){r.notify()}function h(){_.onStateChange&&_.onStateChange()}function f(){return s}function p(){i++,n||(n=t.subscribe(h),r=pae())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=G6)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,v())}const _={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return _}var vae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yae=vae(),xae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bae=xae(),_ae=()=>yae||bae?A.useLayoutEffect:A.useEffect,wae=_ae(),Sae=Symbol.for("react-redux-context"),Tae=typeof globalThis<"u"?globalThis:{};function Eae(){if(!A.createContext)return{};const t=Tae[Sae]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Aae=Eae();function jae(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const h=gae(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),c=A.useMemo(()=>i.getState(),[i]);wae(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,c]);const d=n||Aae;return A.createElement(d.Provider,{value:s},e)}var Nae=jae,Cae=(t,e)=>e,Gw=le([Cae,Yt,ZZ,jn,A8,hs,Kee,Un],Qee),Ww=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},oD=ii("mouseClick"),lD=hf();lD.startListening({actionCreator:oD,effect:(t,e)=>{var n=t.payload,r=Gw(e.getState(),Ww(n));r?.activeIndex!=null&&e.dispatch(nee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ub=ii("mouseMove"),cD=hf();cD.startListening({actionCreator:ub,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=jw(r,r.tooltip.settings.shared),s=Gw(r,Ww(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(x8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(y8()))}});function Oae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var W6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},uD=si({name:"rootProps",initialState:W6,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:W6.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Iae=uD.reducer,{updateOptions:Rae}=uD.actions,dD=si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:koe}=dD.actions,Pae=dD.reducer,hD=ii("keyDown"),fD=ii("focus"),Yw=hf();Yw.startListening({actionCreator:hD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Number(Nw(i,Xl(n))),d=hs(n);if(s==="Enter"){var h=Ig(n,"axis","hover",String(i.index));e.dispatch(rb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var f=GJ(n),p=f==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,x=c+v*p;if(!(d==null||x>=d.length||x<0)){var w=Ig(n,"axis","hover",String(x));e.dispatch(rb({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});Yw.startListening({actionCreator:fD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Ig(n,"axis","hover",String(s));e.dispatch(rb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Yr=ii("externalEvent"),mD=hf();mD.startListening({actionCreator:Yr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Lee(n),activeDataKey:kee(n),activeIndex:Kh(n),activeLabel:C8(n),activeTooltipIndex:Kh(n),isTooltipActive:Vee(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Dae=le([ku],t=>t.tooltipItemPayloads),kae=le([Dae,wf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var c=e(s,n);return c}}}),pD=ii("touchMove"),gD=hf();gD.startListening({actionCreator:pD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=jw(r,r.tooltip.settings.shared);if(i==="axis"){var s=Gw(r,Ww({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(x8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0],h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(g5),p=(c=h.getAttribute(v5))!==null&&c!==void 0?c:void 0,v=kae(e.getState(),f,p);e.dispatch(v8({activeDataKey:p,activeIndex:f,activeCoordinate:v}))}}});var Mae=$R({brush:xre,cartesianAxis:gie,chartData:mte,graphicalItems:Dne,layout:ZG,legend:VW,options:cte,polarAxis:Cne,polarOptions:Pae,referenceElements:Are,rootProps:Iae,tooltip:ree}),Lae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return SG({reducer:Mae,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([lD.middleware,cD.middleware,Yw.middleware,mD.middleware,gD.middleware]),devTools:{serialize:{replacer:Oae},name:"recharts-".concat(n)}})};function Vae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=oi(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=Lae(e,r));var c=R_;return A.createElement(Nae,{context:c,store:s.current},n)}function Uae(t){var{layout:e,width:n,height:r,margin:i}=t,s=pn(),c=oi();return A.useEffect(()=>{c||(s(YG(e)),s(XG({width:n,height:r})),s(WG(i)))},[s,c,e,n,r,i]),null}function Bae(t){var e=pn();return A.useEffect(()=>{e(Rae(t))},[e,t]),null}var zae=["children"];function qae(t,e){if(t==null)return{};var n,r,i=$ae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}var Fae={width:"100%",height:"100%"},Hae=A.forwardRef((t,e)=>{var n=b5(),r=_5(),i=T5();if(!gg(n)||!gg(r))return null;var{children:s,otherAttributes:c,title:d,desc:h}=t,f,p;return typeof c.tabIndex=="number"?f=c.tabIndex:f=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0,A.createElement(mR,Lg({},c,{title:d,desc:h,role:p,tabIndex:f,width:n,height:r,style:Fae,ref:e}),s)}),Kae=t=>{var{children:e}=t,n=Ve(Nv);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return A.createElement(mR,{width:r,height:i,x:c,y:s},e)},Y6=A.forwardRef((t,e)=>{var{children:n}=t,r=qae(t,zae),i=oi();return i?A.createElement(Kae,null,n):A.createElement(Hae,Lg({ref:e},r),n)});function Gae(){var t=pn(),[e,n]=A.useState(null),r=Ve(jW);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ei(s)&&s!==r&&t(QG(s))}},[e,t,r]),n}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return(e=Xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Qae(t,"string");return typeof e=="symbol"?e:e+""}function Qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zae=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:v,onMouseUp:x,onTouchEnd:w,onTouchMove:_,onTouchStart:T,style:S,width:N}=t,P=pn(),[I,D]=A.useState(null),[k,V]=A.useState(null);vte();var j=Gae(),R=A.useCallback(B=>{j(B),typeof e=="function"&&e(B),D(B),V(B)},[j,e,D,V]),L=A.useCallback(B=>{P(oD(B)),P(Yr({handler:s,reactEvent:B}))},[P,s]),F=A.useCallback(B=>{P(ub(B)),P(Yr({handler:f,reactEvent:B}))},[P,f]),z=A.useCallback(B=>{P(y8()),P(Yr({handler:p,reactEvent:B}))},[P,p]),q=A.useCallback(B=>{P(ub(B)),P(Yr({handler:v,reactEvent:B}))},[P,v]),$=A.useCallback(()=>{P(fD())},[P]),Ne=A.useCallback(B=>{P(hD(B.key))},[P]),me=A.useCallback(B=>{P(Yr({handler:c,reactEvent:B}))},[P,c]),te=A.useCallback(B=>{P(Yr({handler:d,reactEvent:B}))},[P,d]),de=A.useCallback(B=>{P(Yr({handler:h,reactEvent:B}))},[P,h]),ae=A.useCallback(B=>{P(Yr({handler:x,reactEvent:B}))},[P,x]),_e=A.useCallback(B=>{P(Yr({handler:T,reactEvent:B}))},[P,T]),K=A.useCallback(B=>{P(pD(B)),P(Yr({handler:_,reactEvent:B}))},[P,_]),G=A.useCallback(B=>{P(Yr({handler:w,reactEvent:B}))},[P,w]);return A.createElement(k8.Provider,{value:I},A.createElement(xH.Provider,{value:k},A.createElement("div",{className:Nt("recharts-wrapper",r),style:Wae({position:"relative",cursor:"default",width:N,height:i},S),onClick:L,onContextMenu:me,onDoubleClick:te,onFocus:$,onKeyDown:Ne,onMouseDown:de,onMouseEnter:F,onMouseLeave:z,onMouseMove:q,onMouseUp:ae,onTouchEnd:G,onTouchMove:K,onTouchStart:_e,ref:R},n)))}),Jae=["children","className","width","height","style","compact","title","desc"];function ese(t,e){if(t==null)return{};var n,r,i=tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nse=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:c,compact:d,title:h,desc:f}=t,p=ese(t,Jae),v=Pt(p,!1);return d?A.createElement(Y6,{otherAttributes:v,title:h,desc:f},n):A.createElement(Zae,{className:r,style:c,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(Y6,{otherAttributes:v,title:h,desc:f,ref:e},A.createElement(Nre,null,n)))}),rse=["width","height"];function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(null,arguments)}function ise(t,e){if(t==null)return{};var n,r,i=ase(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sse={top:5,right:5,bottom:5,left:5},ose={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:sse,reverseStackOrder:!1,syncMethod:"index"},lse=A.forwardRef(function(e,n){var r,i=Hl(e.categoricalChartProps,ose),{width:s,height:c}=i,d=ise(i,rse);if(!gg(s)||!gg(c))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,categoricalChartProps:x}=e,w={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return A.createElement(Vae,{preloadedState:{options:w},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:h},A.createElement(yre,{chartData:x.data}),A.createElement(Uae,{width:s,height:c,layout:i.layout,margin:i.margin}),A.createElement(Bae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(nse,db({},d,{width:s,height:c,ref:n})))}),cse=["item"],use=A.forwardRef((t,e)=>A.createElement(lse,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:cse,tooltipPayloadSearcher:ote,categoricalChartProps:t,ref:e}));function dse({productivityData:t}){const e=t.map(i=>({efficiency:i.efficiency,productivity:i.productivity,taskName:i.taskName,sector:i.sector,status:i.status})),n=(i,s)=>{const c=(i+s)/2;return c>=105?"#48bb78":c>=95?"#fbb040":"#f56565"},r=({active:i,payload:s})=>{if(i&&s&&s.length){const c=s[0].payload;return l.jsxs("div",{className:"chart-tooltip",children:[l.jsx("p",{className:"tooltip-title",children:c.taskName}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Setor:"})," ",c.sector]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Eficiência:"})," ",c.efficiency.toFixed(1),"%"]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Produtividade:"})," ",c.productivity.toFixed(1),"%"]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Status:"})," ",c.status==="completed"?"Concluído":"Atrasado"]})]})}return null};return l.jsxs("div",{className:"charts-section",children:[l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-header",children:l.jsx("h4",{children:"Eficiência vs. Produtividade"})}),l.jsx("div",{className:"chart-container",children:l.jsx(Dte,{width:"100%",height:400,children:l.jsxs(use,{margin:{top:20,right:20,bottom:20,left:20},children:[l.jsx(Z8,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(Hw,{type:"number",dataKey:"efficiency",name:"Eficiência",unit:"%",domain:[60,130],tickFormatter:i=>`${i}%`}),l.jsx(Kw,{type:"number",dataKey:"productivity",name:"Produtividade",unit:"%",domain:[60,130],tickFormatter:i=>`${i}%`}),l.jsx(Ete,{content:l.jsx(r,{})}),l.jsx("line",{x1:"100",y1:"60",x2:"100",y2:"130",stroke:"#cbd5e0",strokeDasharray:"5,5"}),l.jsx("line",{x1:"60",y1:"100",x2:"130",y2:"100",stroke:"#cbd5e0",strokeDasharray:"5,5"}),l.jsx(Fw,{name:"Tarefas",data:e,fill:"#8884d8",children:e.map((i,s)=>l.jsx(Mw,{fill:n(i.efficiency,i.productivity)},`cell-${s}`))})]})})}),l.jsxs("div",{className:"chart-legend",children:[l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#48bb78"}}),l.jsx("span",{children:"Excelente (>105%)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#fbb040"}}),l.jsx("span",{children:"Bom (95-105%)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#f56565"}}),l.jsx("span",{children:"Precisa Melhorar (<95%)"})]})]})]}),l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-header",children:l.jsx("h4",{children:"Tendência de Performance"})}),l.jsx("div",{className:"chart-placeholder",children:l.jsxs("div",{className:"chart-info",children:[l.jsx("p",{children:"Evolução da performance ao longo do tempo"}),l.jsxs("div",{className:"trend-indicators",children:[l.jsxs("div",{className:"trend-item",children:[l.jsx("span",{className:"trend-value positive",children:"+5.2%"}),l.jsx("span",{children:"vs. semana anterior"})]}),l.jsxs("div",{className:"trend-item",children:[l.jsx("span",{className:"trend-value positive",children:"+12.8%"}),l.jsx("span",{children:"vs. mês anterior"})]})]})]})})]})]})}function hse(){const[t,e]=A.useState("today"),[n,r]=A.useState("all"),[i,s]=A.useState("all"),[c,d]=A.useState(""),[h,f]=A.useState([]),{productivityData:p,operatorRankings:v,periodStats:x,currentUserStats:w}=FF();A.useEffect(()=>{(async()=>{try{const V=await dF();Array.isArray(V)&&(f(V),V.length>0&&!c&&d(V[0].operator.id))}catch(V){console.error("Erro ao carregar operadores:",V),f([])}})()},[]),eo.useEffect(()=>{v.length>0&&!c&&d(v[0].operatorId)},[v,c]);const T=(()=>{if(!c)return w;const k=h.find(V=>V.operator.id===c);return k?{operatorId:k.operator.id,operatorName:k.user.name||k.operator.code,totalTasks:0,averageEfficiency:85,totalProductivity:80,onTimeCompletion:90,rank:1,trend:"stable"}:v.find(V=>V.operatorId===c)||w})(),S=k=>k>=105?"#48bb78":k>=95?"#fbb040":k>=85?"#f6ad55":"#f56565",N=k=>{switch(k){case"up":return l.jsx(vC,{});case"down":return l.jsx(ss,{});default:return l.jsx(G2,{})}},P=k=>{const V=Math.floor(k/60),j=k%60;return V>0?`${V}h ${j}m`:`${j}m`},I=p.filter(k=>!(n!=="all"&&k.operatorId!==n||i!=="all"&&k.sector!==i)),D=x.find(k=>{switch(t){case"today":return k.period==="Hoje";case"week":return k.period==="Esta Semana";case"month":return k.period==="Este Mês";default:return k.period==="Hoje"}});return l.jsx("div",{className:"productivity-page",children:l.jsxs("div",{className:"productivity-container",children:[l.jsx(WF,{selectedPeriod:t,setSelectedPeriod:e}),T&&l.jsx(YF,{currentUserStats:T,getEfficiencyColor:S,getTrendIcon:N}),D&&l.jsx(XF,{currentPeriodStats:D,getEfficiencyColor:S,formatTime:P}),l.jsxs("div",{className:"productivity-content",children:[l.jsx(QF,{selectedOperator:n,setSelectedOperator:r,selectedSector:i,setSelectedSector:s,availableOperators:h}),l.jsx(ZF,{filteredData:I,getEfficiencyColor:S,formatTime:P}),l.jsx(JF,{operatorRankings:v,getEfficiencyColor:S,getTrendIcon:N}),l.jsx(dse,{productivityData:I})]})]})})}function fse({onNewNCClick:t}){return l.jsxs("div",{className:"nc-header",children:[l.jsx("div",{className:"header-info",children:l.jsx("h1",{children:"Não Conformidades"})}),l.jsx("div",{className:"header-actions",children:l.jsx("button",{className:"new-nc-btn",onClick:t,children:"➕ Nova Não Conformidade"})})]})}function mse({stats:t,productionStoppedCount:e}){return l.jsxs("div",{className:"nc-stats",children:[l.jsxs("div",{className:"stat-card urgent",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Ml,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.open}),l.jsx("div",{className:"stat-label",children:"Em Aberto"})]})]}),l.jsxs("div",{className:"stat-card critical",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Gt,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),l.jsx("div",{className:"stat-label",children:"Críticas/Altas"})]})]}),l.jsxs("div",{className:"stat-card stopped",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(W2,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:e}),l.jsx("div",{className:"stat-label",children:"Produção Parada"})]})]}),l.jsxs("div",{className:"stat-card total",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(ss,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.total}),l.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function pse({filters:t,setFilters:e}){const n=(r,i)=>{e({...t,[r]:i})};return l.jsxs("div",{className:"nc-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status:"}),l.jsxs("select",{value:t.status?.[0]||"all",onChange:r=>n("status",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"open",children:"Aberto"}),l.jsx("option",{value:"investigating",children:"Em Andamento"}),l.jsx("option",{value:"resolved",children:"Resolvido"}),l.jsx("option",{value:"closed",children:"Fechado"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Severidade:"}),l.jsxs("select",{value:t.severity?.[0]||"all",onChange:r=>n("severity",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"critical",children:"Crítica"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"low",children:"Baixa"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Categoria:"}),l.jsxs("select",{value:t.category?.[0]||"all",onChange:r=>n("category",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"safety",children:"Segurança"}),l.jsx("option",{value:"process",children:"Processo"}),l.jsx("option",{value:"equipment",children:"Equipamento"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Setor:"}),l.jsxs("select",{value:t.sector?.[0]||"all",onChange:r=>n("sector",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"Corte",children:"Corte"}),l.jsx("option",{value:"Montagem",children:"Montagem"}),l.jsx("option",{value:"Acabamento",children:"Acabamento"})]})]}),l.jsx("div",{className:"filter-group checkbox",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:!!t.assignedTo,onChange:r=>n("assignedTo",r.target.checked?"current-user":void 0)}),"Apenas minhas NCs"]})}),l.jsx("div",{className:"filter-group checkbox",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:t.severity?.includes("critical")||!1,onChange:r=>n("severity",r.target.checked?["critical"]:void 0)}),"Apenas críticas"]})})]})}function gse({nc:t,onViewDetails:e,getSeverityColor:n,getStatusColor:r,getCategoryIcon:i}){return l.jsxs("div",{className:"nc-card",children:[l.jsxs("div",{className:"nc-card-header",children:[l.jsxs("div",{className:"nc-info",children:[l.jsxs("div",{className:"nc-id-title",children:[l.jsx("span",{className:"nc-id",children:t.id}),l.jsx("h3",{className:"nc-title",children:t.title})]}),l.jsxs("div",{className:"nc-badges",children:[l.jsxs("span",{className:"category-badge",children:[i(t.category)," ",t.category]}),l.jsx("span",{className:"severity-badge",style:{backgroundColor:n(t.severity)},children:t.severity.toUpperCase()}),l.jsx("span",{className:"status-badge",style:{backgroundColor:r(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("div",{className:"nc-actions",children:l.jsx("button",{className:"action-btn view-btn",onClick:()=>e(t),title:"Ver detalhes",children:l.jsx(qg,{})})})]}),l.jsxs("div",{className:"nc-card-content",children:[l.jsx("p",{className:"nc-description",children:t.description}),l.jsxs("div",{className:"nc-details",children:[l.jsxs("div",{className:"nc-location",children:[l.jsx("strong",{children:"Localização:"})," ",t.location.sector," -"," ",t.location.station,t.location.equipment&&` (${t.location.equipment})`]}),l.jsxs("div",{className:"nc-reporter",children:[l.jsx(iu,{}),l.jsxs("span",{children:[l.jsx("strong",{children:"Reportado por:"})," ",t.reportedBy.name," (",t.reportedBy.role,")"]})]}),t.assignedTo&&l.jsxs("div",{className:"nc-assigned",children:[l.jsx(iu,{}),l.jsxs("span",{children:[l.jsx("strong",{children:"Atribuído a:"})," ",t.assignedTo.name," (",t.assignedTo.role,")"]})]})]}),l.jsxs("div",{className:"nc-meta",children:[l.jsxs("div",{className:"nc-attachments",children:[l.jsx(XM,{}),l.jsxs("span",{children:[t.attachments.length," anexos"]})]}),l.jsxs("div",{className:"nc-alerts",children:[l.jsx($g,{}),l.jsxs("span",{children:[t.attachments.length," anexos"]})]}),l.jsxs("div",{className:"nc-date",children:[l.jsx(rn,{}),l.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("pt-BR")})]})]})]})]})}function vse({showModal:t,onClose:e,onSubmit:n,newNC:r,setNewNC:i}){return t?l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"Nova Não Conformidade"}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Zr,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Título:"}),l.jsx("input",{type:"text",value:r.title,onChange:s=>i({...r,title:s.target.value}),placeholder:"Descreva brevemente o problema"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Descrição detalhada:"}),l.jsx("textarea",{value:r.description,onChange:s=>i({...r,description:s.target.value}),placeholder:"Descreva detalhadamente o problema encontrado",rows:4})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Categoria:"}),l.jsxs("select",{value:r.category,onChange:s=>i({...r,category:s.target.value}),children:[l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"safety",children:"Segurança"}),l.jsx("option",{value:"process",children:"Processo"}),l.jsx("option",{value:"equipment",children:"Equipamento"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Severidade:"}),l.jsxs("select",{value:r.severity,onChange:s=>i({...r,severity:s.target.value}),children:[l.jsx("option",{value:"low",children:"Baixa"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"critical",children:"Crítica"})]})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Setor:"}),l.jsx("input",{type:"text",value:r.sector,onChange:s=>i({...r,sector:s.target.value}),placeholder:"Ex: Corte, Montagem, Acabamento"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Estação:"}),l.jsx("input",{type:"text",value:r.station,onChange:s=>i({...r,station:s.target.value}),placeholder:"Ex: Estação 01, Linha 02"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Equipamento (opcional):"}),l.jsx("input",{type:"text",value:r.equipment,onChange:s=>i({...r,equipment:s.target.value}),placeholder:"Ex: Serra CNC-001, Compressor CP-005"})]}),l.jsxs("div",{className:"form-group checkbox-group",children:[l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:r.stopProduction,onChange:s=>i({...r,stopProduction:s.target.checked})}),l.jsx("span",{className:"checkmark"}),"Parar produção imediatamente"]}),l.jsx("p",{className:"checkbox-help",children:"Marque esta opção se o problema requer interrupção imediata da produção"})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{className:"btn-secondary",onClick:e,children:"Cancelar"}),l.jsx("button",{className:"btn-primary",onClick:n,disabled:!r.title||!r.description,children:"Registrar Não Conformidade"})]})]})}):null}function yse({selectedNC:t,onClose:e,onAssign:n,onAddComment:r,onResolve:i,getSeverityColor:s,getStatusColor:c}){return t?l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content large",onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"nc-modal-title",children:[l.jsxs("h2",{children:[t.id," - ",t.title]}),l.jsxs("div",{className:"nc-modal-badges",children:[l.jsx("span",{className:"severity-badge",style:{backgroundColor:s(t.severity)},children:t.severity.toUpperCase()}),l.jsx("span",{className:"status-badge",style:{backgroundColor:c(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Zr,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"nc-details-grid",children:[l.jsxs("div",{className:"nc-main-info",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Descrição"}),l.jsx("p",{children:t.description})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Localização"}),l.jsxs("div",{className:"location-details",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Setor:"})," ",t.location.sector]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Estação:"})," ",t.location.station]}),t.location.equipment&&l.jsxs("span",{children:[l.jsx("strong",{children:"Equipamento:"})," ",t.location.equipment]})]})]}),t.attachments&&t.attachments.length>0&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Anexos"}),l.jsx("div",{className:"attachments-grid",children:t.attachments.map((d,h)=>l.jsx("div",{className:"attachment-item",children:l.jsx("div",{className:"attachment-info",children:l.jsx("span",{className:"attachment-name",children:d.fileName})})},h))})]})]}),l.jsxs("div",{className:"nc-sidebar",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Informações"}),l.jsxs("div",{className:"info-list",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reportado por:"}),l.jsx("span",{className:"info-value",children:t.reportedBy.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Função:"}),l.jsx("span",{className:"info-value",children:t.reportedBy.role})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Data:"}),l.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.assignedTo&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Responsável:"}),l.jsx("span",{className:"info-value",children:t.assignedTo.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Função:"}),l.jsx("span",{className:"info-value",children:t.assignedTo.role})]})]}),t.resolvedAt&&l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]})]})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Comentários"}),l.jsx("div",{className:"comments-list",children:t.comments&&t.comments.length>0?t.comments.map(d=>l.jsxs("div",{className:"comment-item",children:[l.jsxs("div",{className:"comment-header",children:[l.jsx("span",{className:"comment-user",children:d.userName}),l.jsx("span",{className:"comment-time",children:new Date(d.timestamp).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"comment-message",children:d.message})]},d.id)):l.jsx("p",{children:"Nenhum comentário disponível"})})]}),t.status!=="resolved"&&t.status!=="closed"&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Ações Rápidas"}),l.jsxs("div",{className:"quick-actions",children:[t.status==="open"&&l.jsxs("button",{className:"action-btn assign",onClick:()=>n(t.id,"resp-001","Maria Santos","Coordenador"),children:[l.jsx(iu,{})," Atribuir Responsável"]}),l.jsxs("button",{className:"action-btn comment",onClick:()=>{const d=prompt("Adicionar comentário:");d&&r(t.id,d)},children:[l.jsx(xC,{})," Adicionar Comentário"]}),l.jsxs("button",{className:"action-btn resolve",onClick:()=>{const d=prompt("Descreva a resolução:");d&&i(t.id,d)},children:[l.jsx(El,{})," Resolver"]})]})]})]})]}),l.jsxs("div",{className:"nc-timeline",children:[l.jsx("h4",{children:"Histórico"}),l.jsxs("div",{className:"timeline",children:[l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsx("span",{className:"timeline-user",children:t.reportedBy.name}),l.jsx("span",{className:"timeline-time",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:"Não conformidade criada"})]})]}),t.resolvedAt&&l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsx("span",{className:"timeline-user",children:t.resolvedBy||"Sistema"}),l.jsx("span",{className:"timeline-time",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:"Não conformidade resolvida"})]})]})]})]})]})]})}):null}function xse(){const{user:t}=la(),[e,n]=A.useState([]),[r,i]=A.useState(null),[s,c]=A.useState(!1),[d,h]=A.useState({status:[],severity:[],priority:[],category:[],sector:[],assignedTo:void 0,dateRange:void 0}),[f,p]=A.useState({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""});A.useEffect(()=>{n([{id:"NC-2024-001",title:"Peça com dimensão fora do padrão",description:"Durante a inspeção de qualidade, foi identificado que 5 peças estão com dimensões 2mm acima do especificado no desenho técnico. Possível problema no setup da máquina de corte.",category:"quality",severity:"high",priority:"high",status:"investigating",location:{sector:"Corte",sectorId:"corte-001",station:"Estação 02",equipment:"Serra CNC-001"},reportedBy:{id:"op-001",name:"João Silva",role:"Operador"},assignedTo:{id:"qc-001",name:"Maria Santos",role:"Coordenador Qualidade"},attachments:[{id:"att-001",fileName:"peca_defeituosa.jpg",fileType:"image/jpeg",fileSize:1024e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/peca_defeituosa.jpg",category:"photo"},{id:"att-002",fileName:"medicao_dimensional.pdf",fileType:"application/pdf",fileSize:512e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/medicao_dimensional.pdf",category:"document"}],stopProduction:!1,requiresImmediateAction:!0,escalationLevel:"supervisor",createdAt:"2024-01-20T08:00:00",updatedAt:"2024-01-20T08:00:00",createdBy:"user-001",updatedBy:"user-001"},{id:"NC-2024-002",title:"Material com defeito visual",description:"Identificado risco na matéria-prima recebida. Manchas e riscos visíveis que podem comprometer o acabamento final.",category:"material",severity:"medium",priority:"medium",status:"resolved",location:{sector:"Recebimento",sectorId:"recebimento-001",station:"Dock 01"},reportedBy:{id:"op-002",name:"Ana Oliveira",role:"Operador"},assignedTo:{id:"wh-001",name:"Roberto Lima",role:"Supervisor Almoxarifado"},resolvedAt:"2024-01-19T16:45:00",attachments:[{id:"att-003",fileName:"material_defeituoso.jpg",fileType:"image/jpeg",fileSize:2048e3,uploadedAt:"2024-01-19T14:20:00",uploadedBy:"op-002",url:"/attachments/material_defeituoso.jpg",category:"photo"}],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:"2024-01-19T14:00:00",updatedAt:"2024-01-19T14:00:00",createdBy:"user-002",updatedBy:"user-002"},{id:"NC-2024-003",title:"Equipamento com ruído anormal",description:"Compressor apresentando ruído excessivo e vibração. Pode indicar problema mecânico que requer manutenção preventiva.",category:"equipment",severity:"low",priority:"low",status:"open",location:{sector:"Montagem",sectorId:"montagem-001",station:"Linha 03",equipment:"Compressor CP-005"},reportedBy:{id:"op-003",name:"Carlos Mendes",role:"Operador"},createdAt:"2024-01-20T08:15:00",updatedAt:"2024-01-20T08:15:00",createdBy:"user-003",updatedBy:"user-003",attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none"}])},[]);const v=()=>{const D={id:`NC-2024-${String(e.length+1).padStart(3,"0")}`,title:f.title,description:f.description,category:f.category,severity:f.severity,priority:"medium",status:"open",location:{sector:f.sector,sectorId:"default-sector-id",station:f.station,equipment:f.equipment||void 0},reportedBy:{id:t?.id||"current-user",name:t?.name||t?.displayName||"Usuário Atual",role:"Operador"},attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(k=>[D,...k]),c(!1),p({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""})},x=(D,k,V,j)=>{n(R=>R.map(L=>L.id===D?{...L,assignedTo:{id:k,name:V,role:j},status:"investigating",updatedAt:new Date().toISOString()}:L))},w=(D,k)=>{n(V=>V.map(j=>j.id===D?{...j,updatedAt:new Date().toISOString()}:j))},_=(D,k)=>{n(V=>V.map(j=>j.id===D?{...j,status:"resolved",resolvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:j))},T=D=>{switch(D){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"critical":return"#e53e3e";default:return"#4a5568"}},S=D=>{switch(D){case"open":return"#f56565";case"investigating":return"#fbb040";case"resolved":return"#48bb78";case"closed":return"#4a5568";default:return"#4a5568"}},N=D=>{switch(D){case"quality":return"🔍";case"safety":return"⚠️";case"process":return"⚙️";case"equipment":return"🔧";case"material":return"📦";default:return"📋"}},P=e.filter(D=>!(d.status&&d.status.length>0&&!d.status.includes(D.status)||d.severity&&d.severity.length>0&&!d.severity.includes(D.severity)||d.category&&d.category.length>0&&!d.category.includes(D.category)||d.sector&&d.sector.length>0&&!d.sector.includes(D.location.sector))),I={total:e.length,open:e.filter(D=>D.status==="open").length,investigating:e.filter(D=>D.status==="investigating").length,resolved:e.filter(D=>D.status==="resolved").length,closed:e.filter(D=>D.status==="closed").length,bySeverity:{low:e.filter(D=>D.severity==="low").length,medium:e.filter(D=>D.severity==="medium").length,high:e.filter(D=>D.severity==="high").length,critical:e.filter(D=>D.severity==="critical").length},byPriority:{low:e.filter(D=>D.priority==="low").length,medium:e.filter(D=>D.priority==="medium").length,high:e.filter(D=>D.priority==="high").length,urgent:e.filter(D=>D.priority==="urgent").length},byCategory:{quality:e.filter(D=>D.category==="quality").length,safety:e.filter(D=>D.category==="safety").length,process:e.filter(D=>D.category==="process").length,equipment:e.filter(D=>D.category==="equipment").length,material:e.filter(D=>D.category==="material").length},bySector:e.reduce((D,k)=>(D[k.location.sector]=(D[k.location.sector]||0)+1,D),{}),productionStopped:e.filter(D=>D.stopProduction).length,requiresImmediateAction:e.filter(D=>D.requiresImmediateAction).length};return l.jsx("div",{className:"nc-page",children:l.jsxs("div",{className:"nc-container",children:[l.jsx(fse,{onNewNCClick:()=>c(!0)}),l.jsx(mse,{stats:I,productionStoppedCount:I.productionStopped}),l.jsxs("div",{className:"nc-content",children:[l.jsx(pse,{filters:d,setFilters:h}),l.jsx("div",{className:"nc-list",children:P.map(D=>l.jsx(gse,{nc:D,onViewDetails:k=>i(k),onAssign:x,getSeverityColor:T,getStatusColor:S,getCategoryIcon:N},D.id))})]}),l.jsx(vse,{showModal:s,onClose:()=>c(!1),onSubmit:v,newNC:f,setNewNC:p}),l.jsx(yse,{selectedNC:r,onClose:()=>i(null),onAssign:x,onAddComment:w,onResolve:_,getSeverityColor:T,getStatusColor:S})]})})}function bse(){return l.jsx("div",{className:"alerts-header",children:l.jsx("div",{className:"header-info",children:l.jsx("div",{className:"header-text",children:l.jsx("h1",{children:"Central de Alertas"})})})})}function _se({stats:t}){return l.jsxs("div",{className:"alerts-stats",children:[l.jsxs("div",{className:"stat-card critical",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Ml,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.active}),l.jsx("div",{className:"stat-label",children:"Alertas Ativos"})]})]}),l.jsxs("div",{className:"stat-card high",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Gt,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),l.jsx("div",{className:"stat-label",children:"Críticos"})]})]}),l.jsxs("div",{className:"stat-card urgent",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(_C,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.byPriority.urgent}),l.jsx("div",{className:"stat-label",children:"Urgentes"})]})]}),l.jsxs("div",{className:"stat-card warning",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Tl,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.active-t.acknowledged}),l.jsx("div",{className:"stat-label",children:"Não Reconhecidos"})]})]}),l.jsxs("div",{className:"stat-card info",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(ss,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.total}),l.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function wse({filterType:t,setFilterType:e,filterStatus:n,setFilterStatus:r,filterSeverity:i,setFilterSeverity:s,filterPriority:c,setFilterPriority:d,showOnlyMyAlerts:h,setShowOnlyMyAlerts:f}){return l.jsxs("div",{className:"alerts-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Tipo: "}),l.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"production_stop",children:"Parada de Produção"}),l.jsx("option",{value:"non_conformity",children:"Não Conformidade"}),l.jsx("option",{value:"priority_change",children:"Mudança de Prioridade"}),l.jsx("option",{value:"delay",children:"Atraso"}),l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"maintenance",children:"Manutenção"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status: "}),l.jsxs("select",{value:n,onChange:p=>r(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"acknowledged",children:"Reconhecido"}),l.jsx("option",{value:"in_progress",children:"Em Andamento"}),l.jsx("option",{value:"resolved",children:"Resolvido"}),l.jsx("option",{value:"dismissed",children:"Dispensado"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Severidade: "}),l.jsxs("select",{value:i,onChange:p=>s(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"critical",children:"Crítica"}),l.jsx("option",{value:"low",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"high",children:"Baixa"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Prioridade: "}),l.jsxs("select",{value:c,onChange:p=>d(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"urgent",children:"Urgente"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"low",children:"Baixa"})]})]}),l.jsx("div",{className:"filter-group checkbox-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:p=>f(p.target.checked)}),l.jsx("span",{className:"checkbox-text",children:"Mostrar apenas meus alertas"})]})})]})}function Sse({alerts:t,onSelectAlert:e,onAcknowledgeAlert:n,currentUserId:r}){const i=p=>{switch(p){case"critical":return"#f56565";case"high":return"#fbb040";case"medium":return"#4299e1";case"low":return"#48bb78";default:return"#4a5568"}},s=p=>{switch(p){case"urgent":return"#e53e3e";case"high":return"#f56565";case"medium":return"#fbb040";case"low":return"#48bb78";default:return"#4a5568"}},c=p=>{switch(p){case"production_stop":return l.jsx($g,{});case"non_conformity":return l.jsx(Ml,{});case"priority_change":return l.jsx(oo,{});case"delay":return l.jsx(rn,{});case"quality":return l.jsx(wu,{});case"maintenance":return l.jsx(f7,{});case"material":return l.jsx(Qh,{});default:return l.jsx(Tl,{})}},d=p=>{switch(p){case"production_stop":return"Parada de Produção";case"non_conformity":return"Não Conformidade";case"priority_change":return"Mudança de Prioridade";case"delay":return"Atraso";case"quality":return"Qualidade";case"maintenance":return"Manutenção";case"material":return"Material";default:return p}},h=p=>p.recipients.some(v=>v.id===r),f=p=>r&&p.recipients.some(v=>v.id===r&&v.acknowledged);return l.jsxs("div",{className:"alerts-list",children:[l.jsx("div",{className:"list-header",children:l.jsxs("h3",{children:["Alertas (",t.length,")"]})}),l.jsx("div",{className:"alerts-grid",children:t.map(p=>l.jsxs("div",{className:`alert-card ${p.severity} ${p.status} ${p.priority==="urgent"?"urgent":""}`,children:[l.jsxs("div",{className:"alert-header",children:[l.jsxs("div",{className:"alert-type",children:[l.jsx("span",{className:"type-icon",children:c(p.severity)}),l.jsx("span",{className:"type-label",children:d(p.severity)})]}),l.jsxs("div",{className:"alert-badges",children:[l.jsx("span",{className:"severity-badge",style:{backgroundColor:i(p.severity)},children:p.severity.toUpperCase()}),l.jsx("span",{className:"priority-badge",style:{backgroundColor:s(p.priority)},children:p.priority.toUpperCase()})]})]}),l.jsxs("div",{className:"alert-content",children:[l.jsx("h4",{className:"alert-title",children:p.title}),l.jsx("p",{className:"alert-message",children:p.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Local:"}),l.jsxs("span",{className:"detail-value",children:[p.location.sector,p.location.station&&` - ${p.location.station}`]})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Origem:"}),l.jsx("span",{className:"detail-value",children:p.source.name})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Criado:"}),l.jsx("span",{className:"detail-value",children:new Date(p.createdAt).toLocaleString("pt-BR")})]})]}),p.tags&&p.tags.length>0&&l.jsx("div",{className:"alert-tags",children:p.tags.map((v,x)=>l.jsx("span",{className:"tag",children:v},x))})]}),l.jsxs("div",{className:"alert-actions",children:[l.jsxs("button",{className:"action-btn view",onClick:()=>e(p),children:[l.jsx(qg,{})," Detalhes"]}),h(p)&&!f(p)&&p.status==="active"&&l.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(p.id),children:[l.jsx(Ya,{})," Reconhecer"]}),p.status==="active"&&l.jsx("div",{className:"status-indicator active",children:l.jsx(Gt,{})}),p.status==="acknowledged"&&l.jsx("div",{className:"status-indicator acknowledged",children:l.jsx(rn,{})})]})]},p.id))}),t.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(Tl,{})}),l.jsx("h3",{children:"Nenhum alerta encontrado"}),l.jsx("p",{children:"Não há alertas que correspondam aos filtros selecionados."})]})]})}function Tse({alert:t,onClose:e,onAcknowledge:n,onResolve:r,onAddComment:i,currentUserId:s}){if(!t)return null;const c=()=>{const p=prompt("Descreva a resolução do alerta:");p&&r(t.id,p)},d=()=>{const p=prompt("Adicione um comentário:");p&&i(t.id,p)},h=()=>s&&t.recipients.some(p=>p.id===s),f=()=>s&&t.recipients.some(p=>p.id===s&&p.acknowledged);return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content large",onClick:p=>p.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"alert-modal-title",children:[l.jsx("h2",{children:t.title}),l.jsxs("div",{className:"alert-modal-badges",children:[l.jsx("span",{className:`severity-badge ${t.severity}`,children:t.severity.toUpperCase()}),l.jsx("span",{className:`priority-badge ${t.priority}`,children:t.priority.toUpperCase()}),l.jsx("span",{className:`status-badge ${t.status}`,children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Zr,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"alert-details-grid",children:[l.jsxs("div",{className:"alert-main-info",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Descrição"}),l.jsx("p",{children:t.description})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Localização e Contexto"}),l.jsxs("div",{className:"location-details",children:[l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Setor:"}),l.jsx("span",{className:"detail-value",children:t.location.sector})]}),t.location.station&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Estação:"}),l.jsx("span",{className:"detail-value",children:t.location.station})]}),t.location.equipment&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Equipamento:"}),l.jsx("span",{className:"detail-value",children:t.location.equipment})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Relacionado a:"}),l.jsxs("span",{className:"detail-value",children:[t.relatedEntity.name," (",t.relatedEntity.id,")"]})]})]})]}),t.attachments.length>0&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Anexos"}),l.jsx("div",{className:"attachments-list",children:t.attachments.map((p,v)=>l.jsx("div",{className:"attachment-item",children:l.jsx("span",{className:"attachment-name",children:p})},v))})]})]}),l.jsxs("div",{className:"alert-sidebar",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Informações Gerais"}),l.jsxs("div",{className:"info-list",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Origem:"}),l.jsx("span",{className:"info-value",children:t.source.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Criado em:"}),l.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.acknowledgedAt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reconhecido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.acknowledgedAt).toLocaleString("pt-BR")})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reconhecido por:"}),l.jsx("span",{className:"info-value",children:t.acknowledgedBy})]})]}),t.resolvedAt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido por:"}),l.jsx("span",{className:"info-value",children:t.resolvedBy})]})]})]})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Destinatários"}),l.jsx("div",{className:"recipients-list",children:t.recipients.map(p=>l.jsxs("div",{className:"recipient-item",children:[l.jsxs("div",{className:"recipient-info",children:[l.jsx("span",{className:"recipient-name",children:p.name}),l.jsx("span",{className:"recipient-role",children:p.role})]}),l.jsx("div",{className:"recipient-status",children:p.acknowledged?l.jsxs("span",{className:"status-acknowledged",children:[l.jsx(Ya,{})," Reconhecido"]}):l.jsxs("span",{className:"status-pending",children:[l.jsx(rn,{})," Pendente"]})})]},p.id))})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Tags"}),l.jsx("div",{className:"tags-list",children:t.tags&&t.tags.length>0?t.tags.map((p,v)=>l.jsx("span",{className:"tag",children:p},v)):l.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Nenhuma tag disponível"})})]}),t.status!=="resolved"&&t.status!=="dismissed"&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Ações"}),l.jsxs("div",{className:"quick-actions",children:[h()&&!f()&&t.status==="active"&&l.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(t.id),children:[l.jsx(Ya,{})," Reconhecer"]}),l.jsxs("button",{className:"action-btn comment",onClick:d,children:[l.jsx(xC,{})," Comentar"]}),l.jsxs("button",{className:"action-btn resolve",onClick:c,children:[l.jsx(Gt,{})," Resolver"]})]})]})]})]}),l.jsxs("div",{className:"alert-timeline",children:[l.jsx("h4",{children:"Histórico de Comentários"}),l.jsx("div",{className:"timeline",children:t.comments&&t.comments.length>0?t.comments.map(p=>l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsxs("span",{className:"timeline-user",children:[l.jsx(iu,{})," ",p.userName]}),l.jsx("span",{className:"timeline-time",children:new Date(p.timestamp).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:p.message}),p.type!=="comment"&&l.jsx("div",{className:"timeline-type",children:p.type==="status_change"?"Mudança de Status":"Escalação"})]})]},p.id)):l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsx("div",{className:"timeline-content",children:l.jsx("div",{className:"timeline-description",style:{color:"#999",fontStyle:"italic"},children:"Nenhum comentário disponível"})})]})})]})]})]})})}function Ese(){const{user:t}=la(),[e,n]=A.useState([]),[r,i]=A.useState([]),[s,c]=A.useState(null),[d,h]=A.useState("all"),[f,p]=A.useState("all"),[v,x]=A.useState("all"),[w,_]=A.useState("all"),[T,S]=A.useState(!1);A.useEffect(()=>{const k=[{id:"alert-001",title:"PRODUÇÃO PARADA - Não Conformidade Crítica",description:"Peças com dimensão fora do padrão detectadas. Produção foi interrompida conforme procedimento. Aguardando análise da qualidade para liberação.",severity:"critical",priority:"urgent",location:{sector:"Corte",station:"Estação 02",equipment:"Serra CNC-001"},relatedEntity:{id:"OP-2024-001",name:"Produto A - Modelo X"},source:{id:"op-001",name:"João Silva"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"qc-001",name:"Maria Santos",role:"quality",department:"Qualidade",acknowledged:!0},{id:"eng-001",name:"Carlos Oliveira",role:"engineering",department:"Engenharia",acknowledged:!1}],status:"active",createdAt:"2024-01-20T10:30:00",updatedAt:"2024-01-20T10:30:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T10:45:00",acknowledgedBy:"Pedro Costa",tags:["produção","qualidade","crítico"],attachments:["foto_peca_defeituosa.jpg","medicao_dimensional.pdf"],comments:[{id:"comment-001",userId:"user-001",userName:"João Silva",message:"Produção interrompida. 5 peças com problema identificadas.",timestamp:"2024-01-20T10:30:00",type:"comment"},{id:"comment-002",userId:"coord-001",userName:"Pedro Costa",message:"Alerta reconhecido. Acionando equipe de qualidade.",timestamp:"2024-01-20T10:45:00",type:"status_change"},{id:"comment-003",userId:"qc-001",userName:"Maria Santos",message:"Verificando calibração da máquina. Setup será refeito.",timestamp:"2024-01-20T11:15:00",type:"comment"}]},{id:"alert-002",title:"Mudança de Prioridade - Pedido Urgente",description:"Cliente solicitou antecipação do prazo de entrega. Pedido deve ser priorizado na programação de produção.",severity:"medium",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema ERP"},location:{sector:"Planejamento"},relatedEntity:{id:"OP-2024-005",name:"Produto E - Modelo V"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"plan-001",name:"Ana Oliveira",role:"admin",department:"Planejamento",acknowledged:!1}],createdAt:"2024-01-20T14:15:00",updatedAt:"2024-01-20T14:15:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T14:20:00",acknowledgedBy:"Pedro Costa",tags:["prioridade","planejamento"],attachments:[],comments:[{id:"comment-004",userId:"user-004",userName:"Ana Oliveira",message:"Alteração solicitada pelo cliente. Prazo reduzido em 2 dias.",timestamp:"2024-01-20T14:15:00",type:"comment"}]},{id:"alert-003",title:"Atraso na Produção",description:"A tarefa de montagem do OP-2024-002 está com atraso de 30 minutos em relação ao planejado. Pode impactar o prazo final do pedido.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Monitoramento"},location:{sector:"Montagem",station:"Linha 03"},relatedEntity:{id:"task-002",name:"Montagem Principal"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T15:30:00",updatedAt:"2024-01-20T15:30:00",createdBy:"system",updatedBy:"system",tags:["atraso","montagem"],attachments:[],comments:[]},{id:"alert-004",title:"Material em Falta",description:"Componente XYZ-123 está com estoque abaixo do mínimo. Pode impactar a produção dos próximos pedidos se não for reposto.",severity:"high",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema de Estoque"},location:{sector:"Almoxarifado"},relatedEntity:{id:"mat-123",name:"Componente XYZ-123"},recipients:[{id:"wh-001",name:"Roberto Lima",role:"warehouse",department:"Almoxarifado",acknowledged:!0},{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T09:00:00",updatedAt:"2024-01-20T09:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T09:15:00",acknowledgedBy:"Roberto Lima",tags:["material","estoque"],attachments:[],comments:[{id:"comment-005",userId:"wh-001",userName:"Roberto Lima",message:"Pedido de compra já foi enviado ao fornecedor. Previsão de entrega: 2 dias.",timestamp:"2024-01-20T09:15:00",type:"comment"}]},{id:"alert-005",title:"Manutenção Preventiva Agendada",description:"Manutenção preventiva do equipamento CNC-002 agendada para amanhã às 08:00. Produção deve ser reprogramada.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Manutenção"},location:{sector:"Corte",equipment:"CNC-002"},relatedEntity:{id:"eq-002",name:"Serra CNC-002"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1},{id:"maint-001",name:"José Santos",role:"engineering",department:"Manutenção",acknowledged:!0}],createdAt:"2024-01-20T16:00:00",updatedAt:"2024-01-20T16:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T16:00:00",acknowledgedBy:"José Santos",tags:["manutenção","preventiva"],attachments:[],comments:[]}];n(k),i(k)},[]),A.useEffect(()=>{let k=[...e];d!=="all"&&(k=k.filter(V=>V.severity===d)),f!=="all"&&(k=k.filter(V=>V.status===f)),v!=="all"&&(k=k.filter(V=>V.severity===v)),w!=="all"&&(k=k.filter(V=>V.priority===w)),T&&t&&(k=k.filter(V=>V.recipients.some(j=>j.id===t.id)||V.source.id===t.id)),k.sort((V,j)=>{const R={urgent:4,high:3,medium:2,low:1},L=R[j.priority]-R[V.priority];return L!==0?L:new Date(j.createdAt).getTime()-new Date(V.createdAt).getTime()}),i(k)},[e,d,f,v,w,T,t]);const N=k=>{n(V=>V.map(j=>j.id===k?{...j,status:"acknowledged",acknowledgedAt:new Date().toISOString(),acknowledgedBy:t?.name||t?.displayName||"Usuário Atual",recipients:j.recipients.map(R=>R.id===t?.id?{...R,acknowledged:!0}:R)}:j))},P=(k,V)=>{n(j=>j.map(R=>R.id===k?{...R,status:"resolved",resolvedAt:new Date().toISOString(),resolvedBy:t?.name||t?.displayName||"Usuário Atual",comments:[...R.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:`Alerta resolvido: ${V}`,timestamp:new Date().toISOString(),type:"status_change"}]}:R))},I=(k,V)=>{n(j=>j.map(R=>R.id===k?{...R,comments:[...R.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:V,timestamp:new Date().toISOString(),type:"comment"}]}:R))},D=()=>{const k=e.length,V=e.filter(q=>q.status==="active").length,j=e.filter(q=>q.status==="acknowledged").length,R=e.filter(q=>q.status==="resolved").length,L=e.filter(q=>q.status==="dismissed").length,F={low:e.filter(q=>q.severity==="low").length,medium:e.filter(q=>q.severity==="medium").length,high:e.filter(q=>q.severity==="high").length,critical:e.filter(q=>q.severity==="critical").length},z={low:e.filter(q=>q.priority==="low").length,medium:e.filter(q=>q.priority==="medium").length,high:e.filter(q=>q.priority==="high").length,urgent:e.filter(q=>q.priority==="urgent").length};return{total:k,active:V,acknowledged:j,resolved:R,dismissed:L,bySeverity:F,byPriority:z}};return l.jsx("div",{className:"alerts-page",children:l.jsxs("div",{className:"alerts-container",children:[l.jsx(bse,{}),l.jsx(_se,{stats:D()}),l.jsx(wse,{filterType:d,setFilterType:h,filterStatus:f,setFilterStatus:p,filterSeverity:v,setFilterSeverity:x,filterPriority:w,setFilterPriority:_,showOnlyMyAlerts:T,setShowOnlyMyAlerts:S}),l.jsx(Sse,{alerts:r,onSelectAlert:c,onAcknowledgeAlert:N,currentUserId:t?.id}),l.jsx(Tse,{alert:s,onClose:()=>c(null),onAcknowledge:N,onResolve:P,onAddComment:I,currentUserId:t?.id})]})})}function Ase({onRefresh:t}){const e=new Date().toLocaleString("pt-BR");return l.jsx("div",{className:"control-panel-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("div",{className:"header-info",children:l.jsx("div",{className:"header-text",children:l.jsx("h1",{children:"Painel de Controle"})})}),l.jsxs("div",{className:"header-actions",children:[l.jsx("div",{className:"last-update",children:l.jsxs("span",{children:["Ultima atualização: ",e]})}),l.jsx("button",{className:"refresh-btn",onClick:t,title:"Atualizar dados",children:l.jsx(oo,{})})]})]})})}function jse({status:t,activeOrders:e,urgentOrders:n,blockedOrders:r}){const s=(()=>{switch(t){case"green":return{message:"Sistema Operando Normalmente",description:"Todos os processos estão funcionando dentro dos parâmetros esperados",color:"#48bb78"};case"yellow":return{message:"Atenção Necessária",description:"Alguns processos requerem monitoramento próximo",color:"#ed8936"};case"red":return{message:"Intervenção Urgente",description:"Problemas críticos detectados que requerem ação imediata",color:"#f56565"}}})();return l.jsxs("div",{className:"status-semaphore",children:[l.jsx("div",{className:"semaphore-header",children:l.jsx("h2",{children:"Status Geral do Sistema"})}),l.jsxs("div",{className:"semaphore-content",children:[l.jsxs("div",{className:"semaphore-lights",children:[l.jsx("div",{className:`light red ${t==="red"?"active":""}`,children:l.jsx(Z0,{})}),l.jsx("div",{className:`light yellow ${t==="yellow"?"active":""}`,children:l.jsx(Z0,{})}),l.jsx("div",{className:`light green ${t==="green"?"active":""}`,children:l.jsx(Z0,{})})]}),l.jsxs("div",{className:"status-info",children:[l.jsx("h3",{style:{color:s.color},children:s.message}),l.jsx("p",{children:s.description})]})]}),l.jsxs("div",{className:"status-metrics",children:[l.jsxs("div",{className:"metric-card active",children:[l.jsx("div",{className:"metric-icon",children:l.jsx(rn,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:e}),l.jsx("span",{className:"metric-label",children:"Pedidos Ativos"})]})]}),l.jsxs("div",{className:"metric-card urgent",children:[l.jsx("div",{className:"metric-icon",children:l.jsx(Gt,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:n}),l.jsx("span",{className:"metric-label",children:"Pedidos Urgentes"})]})]}),l.jsxs("div",{className:"metric-card blocked",children:[l.jsx("div",{className:"metric-icon",children:l.jsx($g,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:r}),l.jsx("span",{className:"metric-label",children:"Pedidos Bloqueados"})]})]})]})]})}function Nse({pendencies:t,onResolve:e}){const n=c=>{switch(c){case"urgent":return l.jsx(Gt,{});case"high":return l.jsx(rn,{});case"medium":return l.jsx(ul,{});case"low":return l.jsx(ul,{});default:return l.jsx(ul,{})}},r=c=>{switch(c){case"maintenance":return l.jsx(Sh,{});case"quality":return l.jsx(Ml,{});case"safety":return l.jsx(wC,{});case"process":return l.jsx(so,{});case"material":return l.jsx(Qh,{});case"equipment":return l.jsx(Sh,{});default:return l.jsx(ul,{})}},i=c=>{const d=new Date,h=new Date(c),f=Math.floor((d.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const p=Math.floor(f/60);return p<24?`${p}h atrás`:`${Math.floor(p/24)}d atrás`},s=c=>c.dueDate?new Date(c.dueDate)<new Date&&c.status!=="completed":!1;return l.jsxs("div",{className:"pendencies-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Principais Pendências"}),l.jsx("span",{className:"pendencies-count",children:t.length})]}),l.jsx("div",{className:"pendencies-list",children:t.length===0?l.jsxs("div",{className:"no-pendencies",children:[l.jsx(Ya,{className:"success-icon"}),l.jsx("p",{children:"Nenhuma pendência no momento"})]}):t.map(c=>l.jsxs("div",{className:`pendency-item ${c.priority} ${s(c)?"overdue":""}`,children:[l.jsx("div",{className:"pendency-icon",children:n(c.priority)}),l.jsxs("div",{className:"pendency-content",children:[l.jsxs("div",{className:"pendency-header",children:[l.jsx("h3",{children:c.title}),l.jsx("span",{className:"pendency-time",children:i(c.createdAt)})]}),l.jsx("p",{className:"pendency-description",children:c.description}),l.jsxs("div",{className:"pendency-details",children:[l.jsxs("span",{className:"pendency-category",children:[r(c.category)," ",c.category]}),l.jsxs("span",{className:"pendency-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),c.assignedTo&&l.jsx("span",{className:"pendency-assigned",children:c.assignedTo.name})]}),s(c)&&l.jsxs("div",{className:"overdue-warning",children:[l.jsx(Gt,{}),l.jsx("span",{children:"Pendência vencida"})]}),l.jsxs("div",{className:"pendency-footer",children:[l.jsxs("span",{className:"pendency-sector",children:["Setor: ",c.location.sector]}),l.jsxs("button",{className:"resolve-btn",onClick:()=>e(c.id),title:"Marcar como resolvido",children:[l.jsx(Ya,{}),"Resolver"]})]})]})]},c.id))})]})}function Cse({alerts:t,onAcknowledge:e}){const n=c=>{switch(c){case"critical":return l.jsx($g,{});case"high":return l.jsx(Gt,{});case"medium":return l.jsx(Ml,{});case"low":return l.jsx(ul,{});default:return l.jsx(ul,{})}},r=c=>{const d=new Date,h=new Date(c),f=Math.floor((d.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const p=Math.floor(f/60);return p<24?`${p}h atrás`:`${Math.floor(p/24)}d atrás`},i=t.filter(c=>c.status==="active"),s=t.filter(c=>c.status==="acknowledged");return l.jsxs("div",{className:"alerts-overview",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Alertas em Tempo Real"}),l.jsxs("div",{className:"alerts-badges",children:[l.jsx("span",{className:"badge critical",children:t.filter(c=>c.severity==="critical"&&c.status==="active").length}),l.jsx("span",{className:"badge warning",children:t.filter(c=>c.severity==="high"&&c.status==="active").length}),l.jsx("span",{className:"badge info",children:t.filter(c=>(c.severity==="medium"||c.severity==="low")&&c.status==="active").length})]})]}),l.jsx("div",{className:"alerts-container",children:i.length===0&&s.length===0?l.jsxs("div",{className:"no-alerts",children:[l.jsx(Ya,{className:"success-icon"}),l.jsx("p",{children:"Nenhum alerta ativo"})]}):l.jsxs(l.Fragment,{children:[i.length>0&&l.jsxs("div",{className:"alerts-section",children:[l.jsxs("h3",{className:"section-title",children:[" ","Não reconhecidos (",i.length,")"]}),l.jsx("div",{className:"alerts-list",children:i.map(c=>l.jsxs("div",{className:`alert-item ${c.severity} unacknowledged`,children:[l.jsx("div",{className:"alert-icon",children:n(c.severity)}),l.jsxs("div",{className:"alert-content",children:[l.jsxs("div",{className:"alert-header",children:[l.jsx("h4",{children:c.title}),l.jsx("span",{className:"alert-time",children:r(c.createdAt)})]}),l.jsx("p",{className:"alert-message",children:c.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("span",{className:"alert-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),l.jsx("span",{className:"alert-source",children:c.source.name})]}),l.jsxs("button",{className:"acknowledge-btn",onClick:()=>e(c.id),title:"Reconhecer alerta",children:[l.jsx(Ya,{}),"Reconhecer"]})]})]},c.id))})]}),s.length>0&&l.jsxs("div",{className:"alerts-section",children:[l.jsxs("h3",{className:"section-title",children:["Reconhecidos (",s.length,")"]}),l.jsx("div",{className:"alerts-list acknowledged",children:s.slice(0,3).map(c=>l.jsxs("div",{className:`alert-item ${c.severity} acknowledged`,children:[l.jsx("div",{className:"alert-icon",children:n(c.severity)}),l.jsxs("div",{className:"alert-content",children:[l.jsxs("div",{className:"alert-header",children:[l.jsx("h4",{children:c.title}),l.jsx("span",{className:"alert-time",children:r(c.createdAt)})]}),l.jsx("p",{className:"alert-message",children:c.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("span",{className:"alert-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),l.jsx("span",{className:"alert-source",children:c.source.name})]})]})]},c.id))})]})]})})]})}function Ose({data:t}){const e=t.open+t.investigating+t.resolved,n=e>0?t.bySeverity.critical/e*100:0,r=()=>t.bySeverity.critical>5?"#e53e3e":t.bySeverity.critical>2?"#ed8936":"#48bb78";return l.jsxs("div",{className:"nonconformity-status",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("p",{children:"Status de Não Conformidade"}),l.jsxs("div",{className:"critical-indicator",style:{backgroundColor:r()},children:[l.jsx(Ml,{}),l.jsxs("span",{children:[t.bySeverity.critical," criticas"]})]})]}),l.jsxs("div",{className:"status-overview",children:[l.jsxs("div",{className:"status-card",children:[l.jsx("span",{className:"card-number",children:e}),l.jsx("span",{className:"count-label",children:"Total de NCs"})]}),n>0&&l.jsxs("div",{className:"critical-percentage",children:[l.jsx("div",{className:"percentage-bar",children:l.jsx("div",{className:"percentage-fill",style:{width:`${Math.min(n,100)}%`}})}),l.jsxs("span",{className:"percentage-text",children:[n.toFixed(1),"% de criticas"]})]})]}),l.jsxs("div",{className:"status-cards",children:[l.jsxs("div",{className:"status-card open",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Gt,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.open}),l.jsx("span",{className:"card-label",children:"Abertas"})]})]}),l.jsxs("div",{className:"status-card progress",children:[l.jsx("div",{className:"card-icon",children:l.jsx(rn,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.investigating}),l.jsx("span",{className:"card-label",children:"Em Andamento"})]})]}),l.jsxs("div",{className:"status-card resolved",children:[l.jsx("div",{className:"card-icon",children:l.jsx(El,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.resolved}),l.jsx("span",{className:"card-label",children:"Resolvidas"})]})]})]}),l.jsxs("div",{className:"quick-actions",children:[l.jsx("button",{className:"action-btn primary",children:"Ver todas as NCs"}),l.jsx("button",{className:"action-btn secondary",children:"Relatorio mensal"})]})]})}function Ise(){const t=[{id:"generate-report",title:"Gerar Relatório",description:"Relatório completo de produção",icon:l.jsx(bC,{}),color:"blue",onClick:()=>console.log("Generating report...")},{id:"export-data",title:"Exportar Dados",description:"Exportar dados para Excel/PDF",icon:l.jsx(ch,{}),color:"green",onClick:()=>console.log("Exporting data...")},{id:"system-config",title:"Configurações",description:"Configurar parâmetros do sistema",icon:l.jsx(so,{}),color:"gray",onClick:()=>console.log("Opening settings...")},{id:"analytics",title:"Analytics",description:"Visualizar métricas detalhadas",icon:l.jsx(ss,{}),color:"purple",onClick:()=>console.log("Opening analytics...")},{id:"emergency-stop",title:"Parada de Emergência",description:"Parar todos os processos críticos",icon:l.jsx(Gt,{}),color:"red",onClick:()=>console.log("Emergency stop activated...")},{id:"team-management",title:"Gestão de Equipe",description:"Gerenciar operadores e turnos",icon:l.jsx(Eh,{}),color:"orange",onClick:()=>console.log("Opening team management...")},{id:"schedule",title:"Programação",description:"Visualizar cronograma de produção",icon:l.jsx(gC,{}),color:"teal",onClick:()=>console.log("Opening schedule...")},{id:"sync-data",title:"Sincronizar",description:"Sincronizar dados com ERP",icon:l.jsx(oo,{}),color:"indigo",onClick:()=>console.log("Syncing data...")}];return l.jsxs("div",{className:"quick-actions",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Ações Rápidas"}),l.jsx("p",{children:"Ações rápidas para gerenciar a produção"})]}),l.jsx("div",{className:"actions-grid",children:t.map(e=>l.jsxs("button",{className:`action-card ${e.color}`,onClick:e.onClick,title:e.description,children:[l.jsx("div",{className:"action-icon",children:e.icon}),l.jsxs("div",{className:"action-content",children:[l.jsx("h3",{children:e.title}),l.jsx("p",{children:e.description})]})]},e.id))}),l.jsxs("div",{className:"emergency-section",children:[l.jsxs("div",{className:"emergency-header",children:[l.jsx(Gt,{}),l.jsx("span",{children:"Acoes de emergencia"})]}),l.jsxs("div",{className:"emergency-actions",children:[l.jsx("button",{className:"emergency-btn stop",children:"Parada Geral"}),l.jsx("button",{className:"emergency-btn alert",children:"Alerta Crítico"})]})]})]})}function Rse(){const[t,e]=A.useState({alerts:[],pendencies:[],nonConformities:{total:0,open:0,investigating:0,resolved:0,closed:0,bySeverity:{low:0,medium:0,high:0,critical:0},byPriority:{low:0,medium:0,high:0,urgent:0},byCategory:{quality:0,safety:0,process:0,equipment:0,material:0},bySector:{},productionStopped:0,requiresImmediateAction:0},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0},generalStatus:"green",activeOrders:0,urgentOrders:0,blockedOrders:0}),[n,r]=A.useState(!0);A.useEffect(()=>{const d=()=>{const f={generalStatus:Math.random()>.7?"red":Math.random()>.4?"yellow":"green",activeOrders:Math.floor(Math.random()*50)+20,urgentOrders:Math.floor(Math.random()*10)+2,blockedOrders:Math.floor(Math.random()*5),pendencies:[{id:"1",type:"urgent",title:"Atraso na Produção",description:"Pedido #1234 com 2 horas de atraso",sector:"Montagem",timestamp:new Date(Date.now()-18e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Montagem",station:"Estação 1"},createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),attachments:[],comments:[]},{id:"2",type:"warning",title:"Manutenção Preventiva",description:"Equipamento X precisa de manutenção em 2 dias",sector:"Usinagem",timestamp:new Date(Date.now()-36e5).toISOString(),status:"inProgress",priority:"high",category:"maintenance",location:{sector:"Usinagem",station:"Estação 2"},createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),attachments:[],comments:[]},{id:"3",type:"info",title:"Novo Pedido Urgente",description:"Cliente VIP solicitou prioridade máxima",sector:"Planejamento",timestamp:new Date(Date.now()-9e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Planejamento"},createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),attachments:[],comments:[]}],alerts:[{id:"alert-001",title:"Alerta de Qualidade",description:"5 peças com dimensões fora do padrão detectadas na linha de produção",severity:"high",priority:"urgent",status:"active",location:{sector:"Produção",station:"Linha 01",equipment:"Máquina CNC-001"},relatedEntity:{id:"order-123",name:"Pedido #123 - Peças Mecânicas"},source:{id:"qc-system",name:"Sistema de Qualidade"},createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system",attachments:["relatorio_qualidade.pdf"],tags:["qualidade","produção"],recipients:[{id:"user-001",name:"João Silva",role:"Coordenador Qualidade",department:"Qualidade",acknowledged:!1},{id:"user-002",name:"Maria Santos",role:"Supervisor Produção",department:"Produção",acknowledged:!0}],comments:[]},{id:"alert-002",title:"Alerta de Equipamento",description:"Compressor apresentando ruído excessivo e vibração anormal",severity:"medium",priority:"high",status:"acknowledged",location:{sector:"Manutenção",station:"Área Técnica",equipment:"Compressor CP-005"},relatedEntity:{id:"equipment-005",name:"Compressor CP-005"},source:{id:"maintenance-system",name:"Sistema de Manutenção"},createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-18e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_vibracao.pdf"],tags:["manutenção","equipamento"],recipients:[{id:"user-003",name:"Pedro Costa",role:"Técnico Manutenção",department:"Manutenção",acknowledged:!0}],comments:[]},{id:"alert-003",title:"Alerta de Material",description:"Material com defeito visual identificado no recebimento",severity:"low",priority:"medium",status:"resolved",location:{sector:"Recebimento",station:"Dock 01"},relatedEntity:{id:"material-456",name:"Lote de Materiais #456"},source:{id:"warehouse-system",name:"Sistema de Almoxarifado"},createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system",resolvedAt:new Date(Date.now()-36e5).toISOString(),resolvedBy:"user-004",attachments:["fotos_material.jpg"],tags:["material","recebimento"],recipients:[{id:"user-004",name:"Ana Oliveira",role:"Supervisor Almoxarifado",department:"Almoxarifado",acknowledged:!0}],comments:[]},{id:"alert-004",title:"Alerta de Sistema",description:"Relatório semanal de produtividade disponível para análise",severity:"low",priority:"low",status:"acknowledged",location:{sector:"Administração"},relatedEntity:{id:"task-001",name:"Relatório Semanal"},source:{id:"report-system",name:"Sistema de Relatórios"},createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-36e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_semanal.pdf"],tags:["relatório","produtividade"],recipients:[{id:"user-003",name:"Pedro Costa",role:"admin",department:"Administração",acknowledged:!0}],comments:[]}],nonConformities:{total:0,open:Math.floor(Math.random()*8)+2,investigating:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*20)+10,closed:Math.floor(Math.random()*3),bySeverity:{low:Math.floor(Math.random()*5)+1,medium:Math.floor(Math.random()*8)+2,high:Math.floor(Math.random()*3)+1,critical:Math.floor(Math.random()*2)},byPriority:{low:Math.floor(Math.random()*4)+1,medium:Math.floor(Math.random()*6)+2,high:Math.floor(Math.random()*3)+1,urgent:Math.floor(Math.random()*2)},byCategory:{quality:Math.floor(Math.random()*5)+1,safety:Math.floor(Math.random()*3)+1,process:Math.floor(Math.random()*8)+2,equipment:Math.floor(Math.random()*4)+1,material:Math.floor(Math.random()*6)+2},bySector:{Montagem:Math.floor(Math.random()*5)+1,Usinagem:Math.floor(Math.random()*3)+1,Planejamento:Math.floor(Math.random()*2)+1,Recebimento:Math.floor(Math.random()*4)+1,Administração:Math.floor(Math.random()*3)+1},productionStopped:Math.floor(Math.random()*3),requiresImmediateAction:Math.floor(Math.random()*2)},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0}};f.stats.totalAlerts=f.alerts.length,f.stats.activeAlerts=f.alerts.filter(p=>p.status==="active").length,f.stats.totalPendencies=f.pendencies.length,f.nonConformities.total=f.nonConformities.open+f.nonConformities.investigating+f.nonConformities.resolved+f.nonConformities.closed,f.stats.totalNonConformities=f.nonConformities.total,e(f),r(!1)};d();const h=setInterval(d,3e4);return()=>clearInterval(h)},[]);const i=d=>{e(h=>({...h,alerts:h.alerts.map(f=>f.id===d?{...f,status:"acknowledged"}:f)}))},s=d=>{e(h=>({...h,pendencies:h.pendencies.filter(f=>f.id!==d)}))},c=()=>{r(!0),setTimeout(()=>{r(!1)},1e3)};return n?l.jsx("div",{className:"control-panel-container",children:l.jsxs("div",{className:"loading-spinner",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Carregando painel de controle..."})]})}):l.jsxs("div",{className:"control-panel-container",children:[l.jsx(Ase,{onRefresh:c}),l.jsxs("div",{className:"control-panel-grid",children:[l.jsx("div",{className:"semaphore-section",children:l.jsx(jse,{status:t.generalStatus,activeOrders:t.activeOrders,urgentOrders:t.urgentOrders,blockedOrders:t.blockedOrders})}),l.jsx("div",{className:"alerts-section",children:l.jsx(Cse,{alerts:t.alerts,onAcknowledge:i})}),l.jsx("div",{className:"pendencies-section",children:l.jsx(Nse,{pendencies:t.pendencies,onResolve:s})}),l.jsx("div",{className:"nonconformity-section",children:l.jsx(Ose,{data:t.nonConformities})}),l.jsx("div",{className:"actions-section",children:l.jsx(Ise,{})})]})]})}function Pse(){const{urgentOrders:t,scheduleChanges:e,config:n,isProcessing:r,lastRecalculation:i,nextRecalculation:s,stats:c,manualRecalculation:d,updateConfig:h,notifyChange:f}=HF();A.useEffect(()=>{t.length},[t.length]);const p=async()=>{await d()},v=()=>{h({autoRecalculation:!n.autoRecalculation})},x=(_,T)=>{h({[_]:T})},w=_=>{const T=Math.floor(_/60),S=_%60;return T>0?`${T}h ${S}m`:`${S}m`};return l.jsx("div",{className:"priority-optimization-page",children:l.jsx("div",{className:"priority-optimization-container",children:l.jsxs("div",{className:"priority-optimization-content",children:[l.jsxs("div",{className:"optimization-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Otimização de Prioridades"}),l.jsx("p",{children:"Sistema de recálculo automático de agendas para pedidos urgentes"})]}),l.jsx("div",{className:"header-actions",children:l.jsxs("button",{className:`action-btn ${r?"processing":""}`,onClick:p,disabled:r,children:[r?l.jsx(oo,{className:"spinning"}):l.jsx(oo,{}),r?"Processando...":"Recalcular Agora"]})})]}),l.jsxs("div",{className:"status-cards",children:[l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon urgent",children:l.jsx(Gt,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Pedidos Urgentes"}),l.jsx("span",{className:"card-value",children:c.totalUrgentOrders})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon processing",children:l.jsx(rn,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Em Processamento"}),l.jsx("span",{className:"card-value",children:c.processingOrders})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon changes",children:l.jsx(Eh,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Mudanças de Agenda"}),l.jsx("span",{className:"card-value",children:c.totalScheduleChanges})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon efficiency",children:l.jsx(vC,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Eficiência Otimização"}),l.jsxs("span",{className:"card-value",children:[Math.round(c.efficiency),"%"]})]})]})]}),l.jsxs("div",{className:"config-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Configurações de Otimização"}),l.jsx(so,{})]}),l.jsxs("div",{className:"config-grid",children:[l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.autoRecalculation,onChange:v}),"Recálculo Automático"]})}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Intervalo de Recálculo (minutos)"}),l.jsx("input",{type:"number",value:n.recalculateInterval,onChange:_=>x("recalculateInterval",parseInt(_.target.value)),min:"5",max:"1440"})]}),l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.notifyOperators,onChange:_=>x("notifyOperators",_.target.checked)}),"Notificar Operadores"]})}),l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.notifyCoordinators,onChange:_=>x("notifyCoordinators",_.target.checked)}),"Notificar Coordenadores"]})}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Delay Máximo Permitido (minutos)"}),l.jsx("input",{type:"number",value:n.maxDelayAllowed,onChange:_=>x("maxDelayAllowed",parseInt(_.target.value)),min:"0",max:"480"})]}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Limiar de Prioridade"}),l.jsxs("select",{value:n.priorityThreshold,onChange:_=>x("priorityThreshold",_.target.value),children:[l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"urgent",children:"Urgente"}),l.jsx("option",{value:"critical",children:"Crítico"})]})]})]}),l.jsxs("div",{className:"recalculation-info",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Última Recálculo:"}),l.jsx("span",{className:"info-value",children:i?i.toLocaleString("pt-BR"):"Nunca"})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Próximo Recálculo:"}),l.jsx("span",{className:"info-value",children:s?s.toLocaleString("pt-BR"):"Não agendado"})]})]})]}),l.jsxs("div",{className:"orders-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Pedidos Urgentes Processados"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"filter-btn active",children:"Todos"}),l.jsx("button",{className:"filter-btn",children:"Processando"}),l.jsx("button",{className:"filter-btn",children:"Concluídos"})]})]}),l.jsx("div",{className:"orders-list",children:t.map(_=>l.jsxs("div",{className:"order-card",children:[l.jsxs("div",{className:"order-header",children:[l.jsx("div",{className:"order-id",children:_.id}),l.jsx("div",{className:`priority-badge ${_.priority}`,children:_.priority==="urgent"?"Urgente":"Crítico"}),l.jsxs("div",{className:`status-badge ${_.status}`,children:[_.status==="pending"&&"Pendente",_.status==="processing"&&"Processando",_.status==="completed"&&"Concluído",_.status==="failed"&&"Falhou"]})]}),l.jsxs("div",{className:"order-content",children:[l.jsxs("div",{className:"order-info",children:[l.jsx("h3",{children:_.productName}),l.jsxs("p",{children:["Quantidade: ",_.quantity," unidades"]}),l.jsxs("p",{children:["Prazo Original:"," ",new Date(_.originalDeadline).toLocaleString("pt-BR")]}),l.jsxs("p",{children:["Novo Prazo:"," ",new Date(_.newDeadline).toLocaleString("pt-BR")]})]}),l.jsxs("div",{className:"order-impact",children:[l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Tarefas Afetadas:"}),l.jsx("span",{className:"impact-value",children:_.affectedTasks})]}),l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Operadores Afetados:"}),l.jsx("span",{className:"impact-value",children:_.affectedOperators})]}),l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Delay Estimado:"}),l.jsx("span",{className:"impact-value",children:w(_.estimatedDelay)})]})]})]}),l.jsxs("div",{className:"order-actions",children:[l.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),l.jsxs("button",{className:"action-btn notify",children:[l.jsx(Tl,{}),"Notificar"]})]})]},_.id))})]}),l.jsxs("div",{className:"changes-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Mudanças de Agenda"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"filter-btn active",children:"Todas"}),l.jsx("button",{className:"filter-btn",children:"Não Notificadas"}),l.jsx("button",{className:"filter-btn",children:"Alto Impacto"})]})]}),l.jsx("div",{className:"changes-list",children:e.map(_=>l.jsxs("div",{className:"change-card",children:[l.jsxs("div",{className:"change-header",children:[l.jsx("div",{className:"change-id",children:_.id}),l.jsx("div",{className:`impact-badge ${_.impact}`,children:_.impact==="low"?"Baixo":_.impact==="medium"?"Médio":"Alto"}),l.jsxs("div",{className:`notification-status ${_.notified?"notified":"pending"}`,children:[_.notified?l.jsx(El,{}):l.jsx(a7,{}),_.notified?"Notificado":"Pendente"]})]}),l.jsxs("div",{className:"change-content",children:[l.jsxs("div",{className:"change-info",children:[l.jsxs("h3",{children:["Operador: ",_.operatorName]}),l.jsxs("p",{children:["Motivo: ",_.reason]}),l.jsxs("p",{children:["Pedido: ",_.orderId]})]}),l.jsx("div",{className:"schedule-comparison",children:l.jsxs("div",{className:"time-comparison",children:[l.jsxs("div",{className:"original-time",children:[l.jsx("span",{className:"time-label",children:"Horário Original"}),l.jsxs("span",{className:"time-value",children:[_.originalStartTime," -"," ",_.originalEndTime]})]}),l.jsx("div",{className:"arrow",children:l.jsx(PM,{})}),l.jsxs("div",{className:"new-time",children:[l.jsx("span",{className:"time-label",children:"Novo Horário"}),l.jsxs("span",{className:"time-value",children:[_.newStartTime," - ",_.newEndTime]})]})]})})]}),l.jsxs("div",{className:"change-actions",children:[l.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),!_.notified&&l.jsxs("button",{className:"action-btn notify",onClick:()=>f(_.id),children:[l.jsx(Tl,{}),"Notificar"]})]})]},_.id))})]})]})})})}function Dse(){const{testConnection:t,importOrders:e,getImportHistory:n,getConfiguration:r,updateConfiguration:i}=GF(),[s,c]=A.useState({clientId:"bb038bbf8baa2108a9e5c31b409338ef03cc93a0",clientSecret:"5602db5f1ddfccf5894336d514cdfae102111c9cb4cbfc788c8bc4d771f6",baseUrl:"https://api.bling.com.br/Api/v3",accessToken:"",autoSync:!1,syncInterval:parseInt("30")}),[d,h]=A.useState([]),[f,p]=A.useState(!1),[v,x]=A.useState(!1),[w,_]=A.useState("config"),[T,S]=A.useState("unknown");A.useEffect(()=>{N()},[]),A.useEffect(()=>{console.log("Configuração atualizada:",s),console.log("Botão desabilitado:",!s.accessToken),console.log("Access Token:",s.accessToken?"Configurado":"Não configurado")},[s]);const N=async()=>{try{console.log("Carregando dados iniciais..."),console.log("Configuração atual:",s),console.log("Access Token inicial:",s.accessToken);const j=await r();if(console.log("Configuração salva:",j),console.log("Access Token na configuração salva:",j?.accessToken),j){const L={...s,...j,clientId:j.clientId||s.clientId,clientSecret:j.clientSecret||s.clientSecret,accessToken:j.accessToken||s.accessToken};console.log("Nova configuração mesclada:",L),console.log("Access Token na nova configuração:",L.accessToken),c(L)}else console.log("Nenhuma configuração salva encontrada, usando valores padrão"),console.log("Access Token padrão:",s.accessToken);const R=await n();R&&h(R)}catch(j){console.error("Erro ao carregar dados iniciais:",j)}},P=async()=>{if(console.log("Botão clicado! Função handleTestConnection chamada"),console.log("Estado atual - testing:",f),console.log("Estado atual - config:",s),console.log("Access Token válido:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de testar a conexão");return}p(!0);try{const j=await t(s);console.log("Resultado do teste:",j),j.success?(S("connected"),alert("Conexão com Bling estabelecida com sucesso!")):(S("failed"),alert(`Falha na conexão: ${j.error}`))}catch(j){console.error("Erro no teste de conexão:",j),S("failed"),alert("Erro ao testar conexão")}finally{p(!1)}},I=async()=>{try{console.log("Salvando configuração:",s),console.log("Access Token sendo salvo:",s.accessToken),await i(s),alert("Configuração salva com sucesso!")}catch(j){console.error("Erro ao salvar configuração:",j),alert("Erro ao salvar configuração")}},D=async()=>{if(console.log("Tentando importar ordens..."),console.log("Access Token disponível:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de importar ordens");return}x(!0);try{const j=await e(s);if(j.success){const R={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"success",message:"Importação realizada com sucesso",details:`${j.importedCount} ordens importadas`,ordersCount:j.importedCount,errorsCount:j.errorCount||0};h(L=>[R,...L]),alert(`Importação concluída! ${j.importedCount} ordens importadas.`)}else{const R={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Falha na importação",details:j.error||"Erro desconhecido"};h(L=>[R,...L]),alert(`Erro na importação: ${j.error}`)}}catch{const R={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Erro na importação",details:"Erro inesperado durante a importação"};h(L=>[R,...L]),alert("Erro inesperado durante a importação")}finally{x(!1)}},k=j=>{switch(j){case"success":return l.jsx(El,{className:"status-icon success"});case"error":return l.jsx(Gt,{className:"status-icon error"});case"warning":return l.jsx(Gt,{className:"status-icon warning"});default:return l.jsx(rn,{className:"status-icon info"})}},V=j=>{switch(j){case"success":return"success";case"error":return"error";case"warning":return"warning";default:return"info"}};return l.jsx("div",{className:"bling-integration-page",children:l.jsxs("div",{className:"bling-integration-container",children:[l.jsxs("div",{className:"bling-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{children:[l.jsx(JM,{className:"header-icon"}),"Integração Bling"]}),l.jsx("p",{children:"Configure e gerencie a integração com a API do Bling para importação de ordens de produção"})]}),l.jsx("div",{className:"header-status",children:l.jsxs("div",{className:`connection-status ${T}`,children:[T==="connected"&&l.jsx(El,{}),T==="failed"&&l.jsx(Gt,{}),T==="unknown"&&l.jsx(rn,{}),l.jsxs("span",{children:[T==="connected"&&"Conectado",T==="failed"&&"Falha na Conexão",T==="unknown"&&"Não Testado"]})]})})]}),l.jsxs("div",{className:"bling-tabs",children:[l.jsxs("button",{className:`tab-button ${w==="config"?"active":""}`,onClick:()=>_("config"),children:[l.jsx(so,{}),"Configuração"]}),l.jsxs("button",{className:`tab-button ${w==="import"?"active":""}`,onClick:()=>_("import"),children:[l.jsx(ch,{}),"Importação"]}),l.jsxs("button",{className:`tab-button ${w==="history"?"active":""}`,onClick:()=>_("history"),children:[l.jsx(HM,{}),"Histórico"]}),l.jsxs("button",{className:`tab-button ${w==="logs"?"active":""}`,onClick:()=>_("logs"),children:[l.jsx(bC,{}),"Logs"]})]}),l.jsxs("div",{className:"tab-content",children:[w==="config"&&l.jsxs("div",{className:"config-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Configuração da API"}),l.jsx("p",{children:"Configure os parâmetros de conexão com a API do Bling"})]}),l.jsxs("div",{className:"config-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Access Token OAuth"}),l.jsx(Ye,{name:"accessToken",type:"password",value:s.accessToken,onChange:j=>c(R=>({...R,accessToken:j.target.value})),placeholder:"Digite seu Access Token OAuth do Bling"}),l.jsx("div",{style:{fontSize:"0.8rem",color:s.accessToken?"#48bb78":"#e53e3e",marginTop:"0.25rem"},children:s.accessToken?"✅ Access Token configurado":"❌ Access Token necessário"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Obtenha seu Access Token através do fluxo OAuth 2.0 no painel do Bling"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Client ID (Opcional)"}),l.jsx(Ye,{name:"clientId",type:"text",value:s.clientId,onChange:j=>c(R=>({...R,clientId:j.target.value})),placeholder:"Digite seu Client ID do Bling (opcional)"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Client ID é opcional para API v3 com Bearer tokens"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Client Secret (Opcional)"}),l.jsx(Ye,{name:"clientSecret",type:"password",value:s.clientSecret,onChange:j=>c(R=>({...R,clientSecret:j.target.value})),placeholder:"Digite seu Client Secret do Bling (opcional)"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ Client Secret é opcional para API v3 com Bearer tokens"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"URL Base"}),l.jsx(Ye,{name:"baseUrl",type:"text",value:s.baseUrl,onChange:j=>c(R=>({...R,baseUrl:j.target.value})),placeholder:"https://api.bling.com.br/Api/v3"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:"ℹ️ URL padrão da API v3 do Bling"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:s.autoSync,onChange:j=>c(R=>({...R,autoSync:j.target.checked}))}),"Sincronização Automática"]})}),s.autoSync&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Intervalo de Sincronização (minutos)"}),l.jsx(Ye,{name:"syncInterval",type:"number",value:s.syncInterval.toString(),onChange:j=>c(R=>({...R,syncInterval:parseInt(j.target.value)||30})),placeholder:"30"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",className:"btn btn-outline",onClick:P,disabled:f||!s.accessToken,style:{padding:"0.75rem 1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",background:f||!s.accessToken?"#f7fafc":"white",color:f||!s.accessToken?"#a0aec0":"#4a5568",cursor:f||!s.accessToken?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:f?"Testando...":"Testar Conexão"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#4a5568",marginTop:"0.5rem"},children:f?"⏳ Testando conexão...":s.accessToken?"✅ Pronto para testar":"❌ Configure o Access Token"}),l.jsx(st,{onClick:I,children:"Salvar Configuração"})]})]})]}),w==="import"&&l.jsxs("div",{className:"import-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Importação de Ordens"}),l.jsx("p",{children:"Importe ordens de produção do Bling para o sistema"})]}),l.jsxs("div",{className:"import-actions",children:[l.jsxs("div",{className:"import-info",children:[l.jsxs("div",{className:"info-card",children:[l.jsx(BM,{className:"info-icon"}),l.jsxs("div",{children:[l.jsx("h3",{children:"Última Importação"}),l.jsx("p",{children:s.lastSync?new Date(s.lastSync).toLocaleString("pt-BR"):"Nunca"})]})]}),l.jsxs("div",{className:"info-card",children:[l.jsx(rn,{className:"info-icon"}),l.jsxs("div",{children:[l.jsx("h3",{children:"Próxima Sincronização"}),l.jsx("p",{children:s.nextSync?new Date(s.nextSync).toLocaleString("pt-BR"):"Não agendada"})]})]})]}),l.jsx("div",{className:"import-controls",children:l.jsxs(st,{variant:"primary",onClick:D,disabled:v||T!=="connected",children:[v?l.jsx(oo,{className:"spinning"}):l.jsx(ch,{}),v?"Importando...":"Importar Ordens"]})})]})]}),w==="history"&&l.jsxs("div",{className:"history-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Histórico de Importações"}),l.jsx("p",{children:"Visualize o histórico completo de importações realizadas"})]}),l.jsxs("div",{className:"history-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Data/Hora"}),l.jsx("div",{children:"Tipo"}),l.jsx("div",{children:"Mensagem"}),l.jsx("div",{children:"Detalhes"}),l.jsx("div",{children:"Ordens"}),l.jsx("div",{children:"Erros"})]}),d.map(j=>l.jsxs("div",{className:`table-row ${V(j.type)}`,children:[l.jsx("div",{children:new Date(j.timestamp).toLocaleString("pt-BR")}),l.jsxs("div",{className:"log-type",children:[k(j.type),l.jsx("span",{children:j.type})]}),l.jsx("div",{children:j.message}),l.jsx("div",{children:j.details||"—"}),l.jsx("div",{children:j.ordersCount||"—"}),l.jsx("div",{children:j.errorsCount||"—"})]},j.id))]})]}),w==="logs"&&l.jsxs("div",{className:"logs-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Logs do Sistema"}),l.jsx("p",{children:"Monitore os logs detalhados de todas as operações"})]}),l.jsxs("div",{className:"logs-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Tipo:"}),l.jsxs("select",{children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"success",children:"Sucesso"}),l.jsx("option",{value:"error",children:"Erro"}),l.jsx("option",{value:"warning",children:"Aviso"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Data:"}),l.jsx("input",{type:"date"})]}),l.jsx(st,{variant:"outline",children:"Filtrar"})]}),l.jsx("div",{className:"logs-list",children:d.map(j=>l.jsxs("div",{className:`log-item ${V(j.type)}`,children:[l.jsxs("div",{className:"log-header",children:[l.jsx("div",{className:"log-timestamp",children:new Date(j.timestamp).toLocaleString("pt-BR")}),l.jsxs("div",{className:"log-type-badge",children:[k(j.type),j.type]})]}),l.jsx("div",{className:"log-message",children:j.message}),j.details&&l.jsxs("div",{className:"log-details",children:[l.jsx("strong",{children:"Detalhes:"})," ",j.details]}),l.jsxs("div",{className:"log-metrics",children:[j.ordersCount!==void 0&&l.jsxs("span",{className:"metric",children:[l.jsx(ch,{})," ",j.ordersCount," ordens"]}),j.errorsCount!==void 0&&l.jsxs("span",{className:"metric error",children:[l.jsx(Gt,{})," ",j.errorsCount," erros"]})]})]},j.id))})]})]})]})})}function Op(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const kse=async(t,e)=>{if(!t.productId)throw new Error("Produto é obrigatório");if(!t.steps||t.steps.length===0)throw new Error("Pelo menos uma etapa é obrigatória");if(!t.primarySectorId)throw new Error("Setor primário é obrigatório");const n=Op({...t,createdBy:e,updatedBy:e});if(n.id){const s=Lt(Xe,"operationalRoutes",n.id);return await Cu(s,Op({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),n.id}const r=Xn(Xe,"operationalRoutes"),i=await mv(r,Op({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Rr(i,{id:i.id}),i.id},Mse=async(t,e,n)=>{const r=Lt(Xe,"operationalRoutes",t);await Rr(r,Op({...e,updatedBy:n,updatedAt:new Date().toISOString()}))},vD=async t=>{const e=Lt(Xe,"operationalRoutes",t);await g_(e)},yD=async()=>{try{const t=Xn(Xe,"operationalRoutes");return(await Jr(t)).docs.map(n=>({...n.data(),id:n.id}))}catch(t){throw console.error("Erro ao listar roteiros:",t),t}},Lse=async(t,e)=>{try{const n=Xn(Xe,"operationalRoutes"),r=xi(n,ur("productId","==",t),ur("version","==",e));return!(await Jr(r)).empty}catch(n){return console.error("Erro ao verificar existência do roteiro:",n),!1}};function Vse(){const{user:t}=la(),[e,n]=A.useState({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),[r,i]=A.useState([]),[s,c]=A.useState([]),[d,h]=A.useState([]),[f,p]=A.useState([]),[v,x]=A.useState({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),[w,_]=A.useState(""),[T,S]=A.useState(!1),[N,P]=A.useState(null),[I,D]=A.useState({}),[k,V]=A.useState(!1);A.useEffect(()=>{(async()=>{try{V(!0);const X=[{id:"1",code:"PROD001",name:"Produto A",description:"Descrição do produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrição do produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrição do produto C",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}],pe=[{id:"1",name:"Corte",code:"CORTE"},{id:"2",name:"Montagem",code:"MONT"},{id:"3",name:"Acabamento",code:"ACAB"},{id:"4",name:"Qualidade",code:"QUAL"},{id:"5",name:"Preparação",code:"PREP"}],xe=[{id:"1",name:"João Silva",code:"OP001"},{id:"2",name:"Maria Santos",code:"OP002"},{id:"3",name:"Carlos Mendes",code:"OP003"},{id:"4",name:"Ana Oliveira",code:"OP004"}];c(X),h(pe),p(xe);const Se=await yD();i(Se)}catch(X){console.error("Erro ao carregar dados:",X),alert("Erro ao carregar dados dos roteiros operacionais")}finally{V(!1)}})()},[]);const j=async()=>{const B={};e.productId||(B.productId="Produto é obrigatório"),e.primarySectorId||(B.primarySectorId="Setor primário é obrigatório"),e.version.trim()||(B.version="Versão é obrigatória"),/^\d+\.\d+$/.test(e.version)||(B.version="Formato de versão inválido. Use o formato X.Y (ex: 1.0, 2.1)"),e.steps.length===0&&(B.steps="Pelo menos uma etapa é obrigatória"),e.steps.forEach((xe,Se)=>{xe.name.trim()||(B[`step${Se}Name`]=`Nome da etapa ${Se+1} é obrigatório`),xe.standardTime<=0&&(B[`step${Se}StandardTime`]=`Tempo padrão da etapa ${Se+1} deve ser maior que 0`),xe.sequence<=0&&(B[`step${Se}Sequence`]=`Sequência da etapa ${Se+1} deve ser maior que 0`),xe.sectorId||(B[`step${Se}SectorId`]=`Setor da etapa ${Se+1} é obrigatório`)});const pe=e.steps.map(xe=>xe.sequence).sort((xe,Se)=>xe-Se);for(let xe=0;xe<pe.length;xe++)if(pe[xe]!==xe+1){B.steps="As etapas devem ter sequência sequencial (1, 2, 3, ...)";break}if(!T&&e.productId&&e.version)try{await Lse(e.productId,e.version)&&(B.version="Já existe um roteiro com esta versão para este produto")}catch(xe){console.error("Erro ao verificar existência do roteiro:",xe),B.version="Erro ao verificar versão existente"}return D(B),Object.keys(B).length===0},R=async B=>{if(B.preventDefault(),!t){alert("Usuário não autenticado");return}if(!await j())return;const X=s.find(Fe=>Fe.id===e.productId);if(!X){alert("Produto selecionado não encontrado");return}if(!d.find(Fe=>Fe.id===e.primarySectorId)){alert("Setor selecionado não encontrado");return}const xe=e.steps.reduce((Fe,$e)=>Fe+$e.standardTime,0),Se=e.steps.reduce((Fe,$e)=>Fe+$e.setupTime,0);try{V(!0);const Fe={productId:e.productId,productCode:X.code,productName:X.name,productDescription:X.description,productCategory:X.category,version:e.version,status:e.status,primarySectorId:e.primarySectorId,assignedOperatorId:e.assignedOperatorId||void 0,steps:e.steps.map(($e,ge)=>({...$e,sequence:ge+1})),totalStandardTime:xe,totalSetupTime:Se,totalSteps:e.steps.length,createdBy:t.id,updatedBy:t.id};if(T&&N)await Mse(N,Fe,t.id),i($e=>$e.map(ge=>ge.id===N?{...ge,...Fe,updatedAt:new Date().toISOString(),updatedBy:t.id}:ge)),S(!1),P(null),alert("Roteiro operacional atualizado com sucesso!");else{const ge={id:await kse(Fe,t.id),...Fe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(ke=>[ge,...ke]),alert("Roteiro operacional criado com sucesso!")}L()}catch(Fe){console.error("Erro ao salvar roteiro:",Fe);const $e=Fe instanceof Error?Fe.message:"Erro desconhecido";alert(`Erro ao salvar roteiro: ${$e}`)}finally{V(!1)}},L=()=>{n({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),x({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),_(""),D({})},F=B=>{S(!0),P(B.id),n({productId:B.productId,version:B.version,status:B.status,primarySectorId:B.primarySectorId,assignedOperatorId:B.assignedOperatorId,steps:B.steps}),window.scrollTo({top:0,behavior:"smooth"})},z=async B=>{if(window.confirm(`Tem certeza que deseja excluir este roteiro operacional?

Esta ação não pode ser desfeita.`))try{V(!0),await vD(B),i(X=>X.filter(pe=>pe.id!==B)),alert("Roteiro operacional excluído com sucesso!")}catch(X){console.error("Erro ao excluir roteiro:",X);const pe=X instanceof Error?X.message:"Erro desconhecido";alert(`Erro ao excluir roteiro: ${pe}`)}finally{V(!1)}},q=()=>{if(!v.name||!v.standardTime||v.standardTime<=0||!v.sectorId){alert("Nome da etapa, tempo padrão e setor são obrigatórios");return}if(e.steps.some(pe=>pe.name.toLowerCase()===(v.name||"").toLowerCase())){alert("Já existe uma etapa com este nome");return}const X={id:Date.now().toString(),name:v.name.trim(),description:v.description?.trim()||"",sequence:e.steps.length+1,standardTime:v.standardTime,setupTime:v.setupTime||0,equipment:v.equipment?.trim()||"",requirements:v.requirements||[],notes:v.notes?.trim()||"",sectorId:v.sectorId,operatorId:v.operatorId||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(pe=>({...pe,steps:[...pe.steps,X]})),x({name:"",description:"",sequence:e.steps.length+2,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),_("")},$=B=>{n(X=>{const xe=X.steps.filter(Se=>Se.id!==B).map((Se,Fe)=>({...Se,sequence:Fe+1}));return{...X,steps:xe}})},Ne=()=>{w.trim()&&!v.requirements?.includes(w.trim())&&(x(B=>({...B,requirements:[...B.requirements||[],w.trim()]})),_(""))},me=B=>{x(X=>({...X,requirements:(X.requirements||[]).filter(pe=>pe!==B)}))},te=B=>{switch(B){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return B}},de=B=>`status-${B}`,ae=B=>{const X=Math.floor(B/60),pe=B%60;return X>0?`${X}h ${pe}min`:`${pe}min`},_e=()=>{S(!1),P(null),L()},K=B=>d.find(X=>X.id===B)?.name||"Setor não encontrado",G=B=>B?f.find(X=>X.id===B)?.name||"Operador não encontrado":"Não atribuído";return l.jsx("div",{className:"operational-routes-page",children:l.jsxs("div",{className:"operational-routes-container",children:[l.jsx("div",{className:"operational-routes-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Cadastro de Roteiros Operacionais"}),l.jsx("p",{children:"Gerencie os roteiros de produção com produtos, etapas, tempo padrão e setup"})]})}),l.jsxs("form",{className:"registration-form",onSubmit:R,children:[l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(Qh,{className:"section-icon"}),"Informações do Produto"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Produto *"}),l.jsxs("select",{className:`form-select ${I.productId?"error":""}`,value:e.productId,onChange:B=>n(X=>({...X,productId:B.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um produto"}),s.map(B=>l.jsxs("option",{value:B.id,children:[B.code," - ",B.name]},B.id))]}),I.productId&&l.jsx("span",{className:"form-error",children:I.productId})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Versão"}),l.jsx("input",{type:"text",className:`form-input ${I.version?"error":""}`,value:e.version,onChange:B=>n(X=>({...X,version:B.target.value})),placeholder:"Ex: 1.0"}),I.version&&l.jsx("span",{className:"form-error",children:I.version})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{className:"form-select",value:e.status,onChange:B=>n(X=>({...X,status:B.target.value})),children:[l.jsx("option",{value:"draft",children:"Rascunho"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(kp,{className:"section-icon"}),"Associações"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Setor Primário *"}),l.jsxs("select",{className:`form-select ${I.primarySectorId?"error":""}`,value:e.primarySectorId,onChange:B=>n(X=>({...X,primarySectorId:B.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um setor"}),d.map(B=>l.jsxs("option",{value:B.id,children:[B.code," - ",B.name]},B.id))]}),I.primarySectorId&&l.jsx("span",{className:"form-error",children:I.primarySectorId})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Operador Atribuído"}),l.jsxs("select",{className:"form-select",value:e.assignedOperatorId,onChange:B=>n(X=>({...X,assignedOperatorId:B.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(B=>l.jsxs("option",{value:B.id,children:[B.code," - ",B.name]},B.id))]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(ru,{className:"section-icon"}),"Etapas do Roteiro"]}),e.steps.length>0&&l.jsxs("div",{className:"steps-list",children:[l.jsx("h4",{children:"Etapas Configuradas:"}),e.steps.map(B=>l.jsxs("div",{className:"step-item",children:[l.jsxs("div",{className:"step-header",children:[l.jsx("span",{className:"step-sequence",children:B.sequence}),l.jsx("span",{className:"step-name",children:B.name}),l.jsxs("span",{className:"step-times",children:[l.jsx(rn,{})," ",ae(B.standardTime)," | ",l.jsx(Sh,{})," ",ae(B.setupTime)]}),l.jsx("button",{type:"button",className:"remove-step-btn",onClick:()=>$(B.id),children:l.jsx(Th,{})})]}),l.jsxs("div",{className:"step-details",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Descrição:"})," ",B.description]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Equipamento:"})," ",B.equipment]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Setor:"})," ",K(B.sectorId)]}),B.operatorId&&l.jsxs("p",{children:[l.jsx("strong",{children:"Operador:"})," ",G(B.operatorId)]}),B.requirements.length>0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Requisitos:"})," ",B.requirements.join(", ")]}),B.notes&&l.jsxs("p",{children:[l.jsx("strong",{children:"Notas:"})," ",B.notes]})]})]},B.id))]}),l.jsxs("div",{className:"new-step-form",children:[l.jsx("h4",{children:"Adicionar Nova Etapa:"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Nome da Etapa *"}),l.jsx("input",{type:"text",className:"form-input",value:v.name,onChange:B=>x(X=>({...X,name:B.target.value})),placeholder:"Nome da etapa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Descrição"}),l.jsx("input",{type:"text",className:"form-input",value:v.description,onChange:B=>x(X=>({...X,description:B.target.value})),placeholder:"Descrição da etapa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tempo Padrão (minutos) *"}),l.jsx("input",{type:"number",className:"form-input",value:v.standardTime,onChange:B=>x(X=>({...X,standardTime:parseInt(B.target.value)||0})),min:"1",placeholder:"Tempo em minutos"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tempo de Setup (minutos)"}),l.jsx("input",{type:"number",className:"form-input",value:v.setupTime,onChange:B=>x(X=>({...X,setupTime:parseInt(B.target.value)||0})),min:"0",placeholder:"Tempo de setup"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Equipamento"}),l.jsx("input",{type:"text",className:"form-input",value:v.equipment,onChange:B=>x(X=>({...X,equipment:B.target.value})),placeholder:"Equipamento necessário"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Sequência"}),l.jsx("input",{type:"number",className:"form-input",value:v.sequence,onChange:B=>x(X=>({...X,sequence:parseInt(B.target.value)||1})),min:"1",placeholder:"Ordem da etapa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Setor da Etapa *"}),l.jsxs("select",{className:"form-select",value:v.sectorId,onChange:B=>x(X=>({...X,sectorId:B.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um setor"}),d.map(B=>l.jsxs("option",{value:B.id,children:[B.code," - ",B.name]},B.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Operador da Etapa"}),l.jsxs("select",{className:"form-select",value:v.operatorId,onChange:B=>x(X=>({...X,operatorId:B.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(B=>l.jsxs("option",{value:B.id,children:[B.code," - ",B.name]},B.id))]})]})]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Requisitos"}),l.jsx("div",{className:"requirements-container",children:(v.requirements||[]).map((B,X)=>l.jsxs("span",{className:"requirement-tag",children:[B,l.jsx("button",{type:"button",onClick:()=>me(B),children:l.jsx(Zr,{})})]},X))}),l.jsxs("div",{className:"requirement-input-group",children:[l.jsx("input",{type:"text",className:"form-input requirement-input",value:w,onChange:B=>_(B.target.value),placeholder:"Digite um requisito",onKeyPress:B=>B.key==="Enter"&&(B.preventDefault(),Ne())}),l.jsx(st,{type:"button",variant:"outline",onClick:Ne,children:l.jsx(Mp,{})})]})]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Notas"}),l.jsx("textarea",{className:"form-textarea",value:v.notes,onChange:B=>x(X=>({...X,notes:B.target.value})),placeholder:"Observações sobre a etapa..."})]}),l.jsxs(st,{type:"button",variant:"outline",onClick:q,children:[l.jsx(Mp,{})," Adicionar Etapa"]})]}),I.steps&&l.jsx("span",{className:"form-error",children:I.steps})]}),l.jsxs("div",{className:"form-actions",children:[T&&l.jsx(st,{type:"button",variant:"secondary",onClick:_e,children:"Cancelar"}),l.jsx(st,{type:"submit",variant:"primary",disabled:k,children:k?"Salvando...":T?"Atualizar Roteiro":"Cadastrar Roteiro"})]})]}),l.jsxs("div",{className:"routes-list-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(KM,{className:"section-icon"}),"Roteiros Operacionais Existentes"]}),k?l.jsx("div",{className:"loading-message",children:"Carregando roteiros..."}):r.length===0?l.jsxs("div",{className:"no-routes-message",children:[l.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),l.jsx("p",{children:"Use o formulário acima para criar o primeiro roteiro."})]}):l.jsx("div",{className:"routes-grid",children:r.map(B=>l.jsxs("div",{className:"route-card",children:[l.jsxs("div",{className:"route-header",children:[l.jsxs("div",{className:"route-product-info",children:[l.jsx("h4",{children:B.productName}),l.jsx("p",{className:"product-code",children:B.productCode}),l.jsxs("p",{className:"route-version",children:["Versão: ",B.version]})]}),l.jsx("div",{className:"route-status",children:l.jsx("span",{className:`status-badge ${de(B.status)}`,children:te(B.status)})})]}),l.jsxs("div",{className:"route-details",children:[l.jsxs("div",{className:"route-associations",children:[l.jsxs("p",{children:[l.jsx(kp,{})," ",l.jsx("strong",{children:"Setor:"})," ",K(B.primarySectorId)]}),l.jsxs("p",{children:[l.jsx(iu,{})," ",l.jsx("strong",{children:"Operador:"})," ",G(B.assignedOperatorId)]})]}),l.jsxs("div",{className:"route-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx(ru,{}),l.jsxs("span",{children:[B.totalSteps," etapas"]})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx(rn,{}),l.jsx("span",{children:ae(B.totalStandardTime)})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx(Sh,{}),l.jsx("span",{children:ae(B.totalSetupTime)})]})]}),l.jsxs("div",{className:"route-steps-preview",children:[l.jsx("h5",{children:"Etapas:"}),B.steps.slice(0,3).map(X=>l.jsxs("div",{className:"step-preview",children:[l.jsx("span",{className:"step-number",children:X.sequence}),l.jsx("span",{className:"step-name",children:X.name}),l.jsx("span",{className:"step-time",children:ae(X.standardTime)}),l.jsx("span",{className:"step-sector",children:K(X.sectorId)})]},X.id)),B.steps.length>3&&l.jsxs("p",{className:"more-steps",children:["+",B.steps.length-3," etapas"]})]})]}),l.jsxs("div",{className:"route-actions",children:[l.jsxs(st,{type:"button",variant:"outline",onClick:()=>F(B),children:[l.jsx(zg,{})," Editar"]}),l.jsxs(st,{type:"button",variant:"secondary",onClick:()=>z(B.id),children:[l.jsx(Th,{})," Excluir"]})]})]},B.id))})]})]})})}function Use(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState(!1),[c,d]=A.useState(""),[h,f]=A.useState("all"),[p,v]=A.useState("productName"),[x,w]=A.useState("asc");A.useEffect(()=>{(async()=>{try{s(!0);const j=await yD();e(j),r(j)}catch(j){console.error("Erro ao carregar roteiros:",j),alert("Erro ao carregar roteiros operacionais")}finally{s(!1)}})()},[]),A.useEffect(()=>{let V=t.filter(j=>{const R=j.productName.toLowerCase().includes(c.toLowerCase())||j.productCode.toLowerCase().includes(c.toLowerCase())||j.version.toLowerCase().includes(c.toLowerCase()),L=h==="all"||j.status===h;return R&&L});V.sort((j,R)=>{let L,F;switch(p){case"productName":L=j.productName.toLowerCase(),F=R.productName.toLowerCase();break;case"productCode":L=j.productCode.toLowerCase(),F=R.productCode.toLowerCase();break;case"version":L=j.version,F=R.version;break;case"status":L=j.status,F=R.status;break;case"totalStandardTime":L=j.totalStandardTime,F=R.totalStandardTime;break;case"stepsCount":L=j.steps.length,F=R.steps.length;break;default:L=j.productName.toLowerCase(),F=R.productName.toLowerCase()}return x==="asc"?L>F?1:-1:L<F?1:-1}),r(V)},[t,c,h,p,x]);const _=async V=>{if(window.confirm("Tem certeza que deseja excluir este roteiro operacional?"))try{s(!0),await vD(V),e(j=>j.filter(R=>R.id!==V)),alert("Roteiro operacional excluído com sucesso!")}catch(j){console.error("Erro ao excluir roteiro:",j),alert(`Erro ao excluir roteiro: ${j instanceof Error?j.message:"Erro desconhecido"}`)}finally{s(!1)}},T=V=>{window.location.href=`/operational-routes?edit=${V.id}`},S=V=>{window.location.href=`/operational-routes?view=${V.id}`},N=V=>{switch(V){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return V}},P=V=>`status-${V}`,I=V=>{const j=Math.floor(V/60),R=V%60;return j>0?`${j}h ${R}min`:`${R}min`},D=V=>{p===V?w(x==="asc"?"desc":"asc"):(v(V),w("asc"))},k=()=>{d(""),f("all"),v("productName"),w("asc")};return l.jsx("div",{className:"operational-routes-list-page",children:l.jsx("div",{className:"operational-routes-list-container",children:l.jsxs("div",{className:"operational-routes-list-content",children:[l.jsxs("div",{className:"operational-routes-list-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Lista de Roteiros Operacionais"}),l.jsx("p",{children:"Visualize e gerencie todos os roteiros de produção cadastrados"})]}),l.jsx("div",{className:"header-actions",children:l.jsxs(st,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:[l.jsx(ru,{})," Novo Roteiro"]})})]}),l.jsxs("div",{className:"filters-section",children:[l.jsx("div",{className:"search-container",children:l.jsxs("div",{className:"search-input-wrapper",children:[l.jsx(wu,{className:"search-icon"}),l.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar roteiros por produto, código ou versão...",value:c,onChange:V=>d(V.target.value)}),c&&l.jsx("button",{className:"clear-search-btn",onClick:()=>d(""),title:"Limpar busca",children:"×"})]})}),l.jsxs("div",{className:"filters-row",children:[l.jsxs("div",{className:"filter-item",children:[l.jsx("label",{className:"filter-label",children:"Status"}),l.jsxs("select",{className:"filter-select",value:h,onChange:V=>f(V.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"}),l.jsx("option",{value:"draft",children:"Rascunho"})]})]}),l.jsxs("div",{className:"filter-item",children:[l.jsx("label",{className:"filter-label",children:"Ordenar por"}),l.jsxs("div",{className:"sort-container",children:[l.jsxs("select",{className:"filter-select",value:p,onChange:V=>v(V.target.value),children:[l.jsx("option",{value:"productName",children:"Nome do Produto"}),l.jsx("option",{value:"productCode",children:"Código"}),l.jsx("option",{value:"version",children:"Versão"}),l.jsx("option",{value:"status",children:"Status"}),l.jsx("option",{value:"totalStandardTime",children:"Tempo"}),l.jsx("option",{value:"stepsCount",children:"Etapas"})]}),l.jsx("button",{className:"sort-btn",onClick:()=>D(p),title:`Ordenar ${x==="asc"?"decrescente":"crescente"}`,children:l.jsx(n7,{className:x==="asc"?"sort-asc":"sort-desc"})})]})]}),l.jsx("div",{className:"filter-item",children:l.jsxs(st,{variant:"outline",onClick:k,children:[l.jsx($M,{})," Limpar"]})})]}),(c||h!=="all")&&l.jsxs("div",{className:"active-filters-bar",children:[l.jsx("span",{className:"active-filters-text",children:"Filtros aplicados:"}),l.jsxs("div",{className:"filter-tags",children:[c&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',c,'"',l.jsx("button",{className:"tag-remove-btn",onClick:()=>d(""),children:"×"})]}),h!=="all"&&l.jsxs("span",{className:"filter-tag",children:["Status: ",N(h),l.jsx("button",{className:"tag-remove-btn",onClick:()=>f("all"),children:"×"})]})]})]})]}),l.jsx("div",{className:"routes-list-section",children:i?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Carregando roteiros..."})]}):n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(ru,{})}),l.jsx("h3",{children:"Nenhum roteiro encontrado"}),c||h!=="all"?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Tente ajustar os filtros de busca ou"}),l.jsx(st,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"criar um novo roteiro"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),l.jsx(st,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"Criar Primeiro Roteiro"})]})]}):l.jsx("div",{className:"routes-table-container",children:l.jsxs("table",{className:"routes-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Produto"}),l.jsx("th",{children:"Versão"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Etapas"}),l.jsx("th",{children:"Tempo Total"}),l.jsx("th",{children:"Setup Total"}),l.jsx("th",{children:"Ações"})]})}),l.jsx("tbody",{children:n.map(V=>l.jsxs("tr",{className:"route-row",children:[l.jsx("td",{className:"product-cell",children:l.jsxs("div",{className:"product-info",children:[l.jsx("h4",{children:V.productName}),l.jsx("span",{className:"product-code",children:V.productCode})]})}),l.jsx("td",{className:"version-cell",children:l.jsx("span",{className:"version-badge",children:V.version})}),l.jsx("td",{className:"status-cell",children:l.jsx("span",{className:`status-badge ${P(V.status)}`,children:N(V.status)})}),l.jsx("td",{className:"steps-cell",children:l.jsxs("div",{className:"steps-info",children:[l.jsx("span",{className:"steps-count",children:V.steps.length}),l.jsx("span",{className:"steps-label",children:"etapas"})]})}),l.jsx("td",{className:"time-cell",children:l.jsxs("div",{className:"time-info",children:[l.jsx(rn,{className:"time-icon"}),l.jsx("span",{children:I(V.totalStandardTime)})]})}),l.jsx("td",{className:"setup-cell",children:l.jsxs("div",{className:"setup-info",children:[l.jsx(Sh,{className:"setup-icon"}),l.jsx("span",{children:I(V.totalSetupTime)})]})}),l.jsx("td",{className:"actions-cell",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{className:"action-btn view-btn",title:"Visualizar",onClick:()=>S(V),children:l.jsx(qg,{})}),l.jsx("button",{className:"action-btn edit-btn",title:"Editar",onClick:()=>T(V),children:l.jsx(zg,{})}),l.jsx("button",{className:"action-btn delete-btn",title:"Excluir",onClick:()=>_(V.id),children:l.jsx(Th,{})})]})})]},V.id))})]})})})]})})})}function Bse({config:t,onConfigChange:e}){const[n,r]=A.useState(!1);return l.jsxs("div",{className:"profile-settings",children:[l.jsx("h2",{children:"Configurações de Perfil"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome do Usuário"}),l.jsx("input",{type:"text",value:t.userName,onChange:i=>e("userName",i.target.value),placeholder:"Digite seu nome"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"E-mail"}),l.jsx("input",{type:"email",value:t.email,onChange:i=>e("email",i.target.value),placeholder:"seu@email.com"})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Idioma"}),l.jsxs("select",{value:t.language,onChange:i=>e("language",i.target.value),children:[l.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),l.jsx("option",{value:"en-US",children:"English (US)"}),l.jsx("option",{value:"es-ES",children:"Español"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Fuso Horário"}),l.jsxs("select",{value:t.timezone,onChange:i=>e("timezone",i.target.value),children:[l.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (GMT-3)"}),l.jsx("option",{value:"America/Manaus",children:"Manaus (GMT-4)"}),l.jsx("option",{value:"America/Belem",children:"Belém (GMT-3)"})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nova Senha"}),l.jsxs("div",{className:"password-input",children:[l.jsx("input",{type:n?"text":"password",placeholder:"Digite sua nova senha"}),l.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?l.jsx(qM,{}):l.jsx(qg,{})})]})]})]})}function zse({config:t,onConfigChange:e}){return l.jsxs("div",{className:"notification-settings",children:[l.jsx("h2",{children:"Configurações de Notificações"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:n=>e("emailNotifications",n.target.checked)}),"Receber notificações por e-mail"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.pushNotifications,onChange:n=>e("pushNotifications",n.target.checked)}),"Notificações push no navegador"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.alertSounds,onChange:n=>e("alertSounds",n.target.checked)}),"Sons de alerta"]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Frequência de Notificações"}),l.jsxs("select",{value:t.notificationFrequency,onChange:n=>e("notificationFrequency",n.target.value),children:[l.jsx("option",{value:"immediate",children:"Imediata"}),l.jsx("option",{value:"hourly",children:"A cada hora"}),l.jsx("option",{value:"daily",children:"Diária"}),l.jsx("option",{value:"weekly",children:"Semanal"})]})]})]})}function qse({config:t,onConfigChange:e}){return l.jsxs("div",{className:"appearance-settings",children:[l.jsx("h2",{children:"Configurações de Aparência"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tema"}),l.jsxs("select",{value:t.theme,onChange:n=>e("theme",n.target.value),children:[l.jsx("option",{value:"light",children:"Claro"}),l.jsx("option",{value:"dark",children:"Escuro"}),l.jsx("option",{value:"auto",children:"Automático"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tamanho da Fonte"}),l.jsxs("select",{value:t.fontSize,onChange:n=>e("fontSize",n.target.value),children:[l.jsx("option",{value:"small",children:"Pequeno"}),l.jsx("option",{value:"medium",children:"Médio"}),l.jsx("option",{value:"large",children:"Grande"})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.compactMode,onChange:n=>e("compactMode",n.target.checked)}),"Modo compacto"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.showAnimations,onChange:n=>e("showAnimations",n.target.checked)}),"Mostrar animações"]})})]})}function $se({config:t,onConfigChange:e}){return l.jsxs("div",{className:"security-settings",children:[l.jsx("h2",{children:"Configurações de Segurança"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.twoFactorAuth,onChange:n=>e("twoFactorAuth",n.target.checked)}),"Autenticação de dois fatores (2FA)"]})}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tempo limite da sessão (minutos)"}),l.jsx("input",{type:"number",value:t.sessionTimeout,onChange:n=>e("sessionTimeout",parseInt(n.target.value)),min:"5",max:"480"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Expiração de senha (dias)"}),l.jsx("input",{type:"number",value:t.passwordExpiry,onChange:n=>e("passwordExpiry",parseInt(n.target.value)),min:"30",max:"365"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tentativas de login permitidas"}),l.jsx("input",{type:"number",value:t.loginAttempts,onChange:n=>e("loginAttempts",parseInt(n.target.value)),min:"1",max:"10"})]})]})}function Fse({config:t,onConfigChange:e}){return l.jsxs("div",{className:"system-settings",children:[l.jsx("h2",{children:"Configurações do Sistema"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.autoSave,onChange:n=>e("autoSave",n.target.checked)}),"Salvamento automático"]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Frequência de backup"}),l.jsxs("select",{value:t.backupFrequency,onChange:n=>e("backupFrequency",n.target.value),children:[l.jsx("option",{value:"hourly",children:"A cada hora"}),l.jsx("option",{value:"daily",children:"Diário"}),l.jsx("option",{value:"weekly",children:"Semanal"}),l.jsx("option",{value:"monthly",children:"Mensal"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Retenção de dados (dias)"}),l.jsx("input",{type:"number",value:t.dataRetention,onChange:n=>e("dataRetention",parseInt(n.target.value)),min:"30",max:"1095"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.debugMode,onChange:n=>e("debugMode",n.target.checked)}),"Modo debug"]})}),l.jsxs("div",{className:"system-actions",children:[l.jsxs("button",{className:"action-btn export",children:[l.jsx(ch,{}),"Exportar Configurações"]}),l.jsxs("button",{className:"action-btn import",children:[l.jsx(o7,{}),"Importar Configurações"]})]})]})}function Hse(){const[t,e]=A.useState("profile"),[n,r]=A.useState({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt-BR",timezone:"America/Sao_Paulo",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1}),[i,s]=A.useState(!1),c=(v,x)=>{r(w=>({...w,[v]:x})),s(!0)},d=()=>{console.log("Salvando configurações:",n),s(!1)},h=()=>{r({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt-BR",timezone:"America/Sao_Paulo",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1}),s(!1)},f=[{id:"profile",label:"Perfil",icon:l.jsx(iu,{})},{id:"notifications",label:"Notificações",icon:l.jsx(Tl,{})},{id:"appearance",label:"Aparência",icon:l.jsx(YM,{})},{id:"security",label:"Segurança",icon:l.jsx(wC,{})},{id:"system",label:"Sistema",icon:l.jsx(so,{})}],p=()=>{switch(t){case"profile":return l.jsx(Bse,{config:{userName:n.userName,email:n.email,language:n.language,timezone:n.timezone},onConfigChange:c});case"notifications":return l.jsx(zse,{config:{emailNotifications:n.emailNotifications,pushNotifications:n.pushNotifications,alertSounds:n.alertSounds,notificationFrequency:n.notificationFrequency},onConfigChange:c});case"appearance":return l.jsx(qse,{config:{theme:n.theme,fontSize:n.fontSize,compactMode:n.compactMode,showAnimations:n.showAnimations},onConfigChange:c});case"security":return l.jsx($se,{config:{twoFactorAuth:n.twoFactorAuth,sessionTimeout:n.sessionTimeout,passwordExpiry:n.passwordExpiry,loginAttempts:n.loginAttempts},onConfigChange:c});case"system":return l.jsx(Fse,{config:{autoSave:n.autoSave,backupFrequency:n.backupFrequency,dataRetention:n.dataRetention,debugMode:n.debugMode},onConfigChange:c});default:return null}};return l.jsx("div",{className:"settings-page",children:l.jsxs("div",{className:"settings-container",children:[l.jsxs("div",{className:"settings-header",children:[l.jsx("h1",{children:"Configurações"}),l.jsx("p",{children:"Gerencie suas preferências e configurações do sistema"})]}),l.jsxs("div",{className:"settings-content",children:[l.jsx("div",{className:"settings-sidebar",children:f.map(v=>l.jsxs("button",{className:`tab-button ${t===v.id?"active":""}`,onClick:()=>e(v.id),children:[v.icon,l.jsx("span",{children:v.label})]},v.id))}),l.jsx("div",{className:"settings-main",children:p()})]}),l.jsxs("div",{className:"settings-actions",children:[l.jsxs("button",{className:"action-btn secondary",onClick:h,disabled:!i,children:[l.jsx(s7,{}),"Restaurar Padrão"]}),l.jsxs("div",{className:"action-buttons",children:[l.jsxs("button",{className:"action-btn cancel",onClick:()=>s(!1),disabled:!i,children:[l.jsx(Zr,{}),"Cancelar"]}),l.jsxs("button",{className:"action-btn save",onClick:d,disabled:!i,children:[l.jsx(wh,{}),"Salvar Alterações"]})]})]})]})})}const xD=async t=>{try{const e=Xn(Xe,"users"),n=xi(e,ur("email","==",t.toLowerCase().trim()));return!(await Jr(n)).empty}catch(e){throw console.error("Erro ao verificar email:",e),new Error("Erro ao verificar disponibilidade do email")}},Kse=async t=>{const e=[];if(!t.email||!t.email.trim()?e.push("E-mail é obrigatório"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||e.push("E-mail inválido"),(!t.name||!t.name.trim())&&e.push("Nome é obrigatório"),(!t.password||t.password.length<6)&&e.push("Senha deve ter pelo menos 6 caracteres"),(!t.userType||!t.userType.trim())&&e.push("Tipo de usuário é obrigatório"),(!t.role||!t.role.trim())&&e.push("Papel/função é obrigatório"),t.email&&t.email.trim())try{await xD(t.email)&&e.push("E-mail já está em uso")}catch{e.push("Erro ao verificar disponibilidade do email")}return{isValid:e.length===0,errors:e}},Gse=async t=>{try{const e=await Kse(t);if(!e.isValid)return{success:!1,error:e.errors.join(", ")};const r=(await Pb(yl,t.email.trim().toLowerCase(),t.password)).user,i=r.uid;await oO(r,{displayName:t.displayName||t.name});const s={id:i,uid:i,email:t.email.trim().toLowerCase(),name:t.name.trim(),displayName:t.displayName?.trim()||t.name.trim(),company:t.company?.trim()||"",phone:t.phone?.trim()||"",photoURL:null,emailVerified:!1,userType:t.userType,role:t.role,createdAt:Fa(),updatedAt:Fa()},c=Lt(Xe,"users",i);await Cu(c,s),await yl.signOut();const d={id:i,email:s.email,name:s.name,displayName:s.displayName,company:s.company,phone:s.phone,photoURL:s.photoURL,emailVerified:s.emailVerified,userType:s.userType,role:s.role,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:i,updatedBy:i};return{success:!0,userId:i,user:d}}catch(e){console.error("Erro ao criar usuário:",e);try{await yl.signOut()}catch(r){console.error("Erro ao fazer logout:",r)}let n="Erro ao criar usuário";return e.code==="auth/email-already-in-use"?n="E-mail já está em uso":e.code==="auth/weak-password"?n="Senha muito fraca":e.code==="auth/invalid-email"?n="E-mail inválido":e.message&&(n=e.message),{success:!1,error:n}}},Wse=async(t,e)=>{try{const n=Lt(Xe,"users",t);if(!(await Va(n)).exists())return{success:!1,error:"Usuário não encontrado"};const i={updatedAt:Fa()};e.name&&(i.name=e.name.trim()),e.displayName&&(i.displayName=e.displayName.trim()),e.company&&(i.company=e.company.trim()),e.phone&&(i.phone=e.phone.trim()),e.userType&&(i.userType=e.userType),e.role&&(i.role=e.role),await Rr(n,i);const c=(await Va(n)).data(),d={id:t,email:c?.email||"",name:c?.name||"",displayName:c?.displayName||"",company:c?.company||"",phone:c?.phone||"",photoURL:c?.photoURL||null,emailVerified:c?.emailVerified||!1,userType:c?.userType||"user",role:c?.role||"user",createdAt:c?.createdAt?.toDate?.()?.toISOString()||c?.createdAt||new Date().toISOString(),updatedAt:c?.updatedAt?.toDate?.()?.toISOString()||c?.updatedAt||new Date().toISOString(),createdBy:c?.createdBy||"",updatedBy:c?.updatedBy||""};return{success:!0,userId:t,user:d}}catch(n){return console.error("Erro ao atualizar usuário:",n),{success:!1,error:n.message||"Erro ao atualizar usuário"}}},Yse=async()=>{try{const t=Xn(Xe,"users");return(await Jr(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName||"",company:r.company||"",phone:r.phone||"",photoURL:r.photoURL||null,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt?.toDate?.()?.toISOString()||r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt?.toDate?.()?.toISOString()||r.updatedAt||new Date().toISOString(),createdBy:r.createdBy||"",updatedBy:r.updatedBy||""}})}catch(t){throw console.error("Erro ao listar usuários:",t),t}},Xse=async t=>{try{const e=Lt(Xe,"users",t);return(await Va(e)).exists()?(await Cu(e,{deleted:!0,deletedAt:Fa()},{merge:!0}),{success:!0,userId:t}):{success:!1,error:"Usuário não encontrado"}}catch(e){return console.error("Erro ao remover usuário:",e),{success:!1,error:e.message||"Erro ao remover usuário"}}};function Qse(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState(""),[c,d]=A.useState("all"),[h,f]=A.useState(!0),[p,v]=A.useState(!1),[x,w]=A.useState(null),[_,T]=A.useState({email:"",name:"",displayName:"",company:"",phone:"",password:"",confirmPassword:"",userType:"operator",role:"operator",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],admissionDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",status:"active",lastTrainingDate:"",nextTrainingDate:"",newSkill:""}),[S,N]=A.useState(!1),[P,I]=A.useState(null),[D,k]=A.useState(!1);A.useEffect(()=>{V()},[]),A.useEffect(()=>{let G=t;c!=="all"&&(G=G.filter(B=>B.userType===c)),i.trim()&&(G=G.filter(B=>B.email.toLowerCase().includes(i.toLowerCase())||(B.name||"").toLowerCase().includes(i.toLowerCase())||(B.company||"").toLowerCase().includes(i.toLowerCase()))),r(G)},[t,i,c]);const V=async()=>{try{f(!0);const G=await Yse();e(G)}catch(G){console.error("Erro ao carregar usuários:",G),I("Erro ao carregar lista de usuários")}finally{f(!1)}},j=G=>{const{name:B,value:X}=G.target;T(pe=>({...pe,[B]:X})),P&&I(null)},R=G=>{const B=G.replace(/\D/g,"");return B.length<=2?B:B.length<=7?`(${B.slice(0,2)}) ${B.slice(2)}`:B.length<=11?`(${B.slice(0,2)}) ${B.slice(2,7)}-${B.slice(7)}`:`(${B.slice(0,2)}) ${B.slice(2,7)}-${B.slice(7,11)}`},L=G=>{const{value:B}=G.target,X=R(B);T(pe=>({...pe,phone:X})),P&&I(null)},F=async()=>{if(!_.email||!_.name)return I("E-mail e nome são obrigatórios"),!1;if(!x&&!_.password)return I("Senha é obrigatória para novos usuários"),!1;if(_.password&&_.password!==_.confirmPassword)return I("As senhas não coincidem"),!1;if(_.password&&_.password.length<6)return I("A senha deve ter pelo menos 6 caracteres"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email))return I("E-mail inválido"),!1;if(!x)try{if(await xD(_.email))return I("E-mail já está em uso"),!1}catch{return I("Erro ao verificar disponibilidade do email"),!1}if(_.userType==="operator"){if(!_.code||!_.code.trim())return I("Código/Matrícula é obrigatório para operadores"),!1;if(!x)try{if(await hF(_.code))return I("Código/Matrícula já está em uso"),!1}catch{return I("Erro ao verificar disponibilidade do código"),!1}if(!_.primarySectorId)return I("Setor primário é obrigatório para operadores"),!1;if(!_.admissionDate)return I("Data de admissão é obrigatória para operadores"),!1;if(!_.weeklyHours||_.weeklyHours<=0)return I("Horas semanais devem ser maiores que 0"),!1}return!0},z=async G=>{if(G.preventDefault(),!!await F()){N(!0),I(null);try{if(x){const X={name:_.name,displayName:_.displayName||_.name,company:_.company,phone:_.phone,userType:_.userType,role:_.role},pe=await Wse(x.id,X);pe.success?(k(!0),Ne(),await V()):I(pe.error||"Erro ao atualizar usuário")}else{const X={email:_.email,name:_.name,displayName:_.displayName||_.name,company:_.company,phone:_.phone,password:_.password,userType:_.userType,role:_.role},pe=await Gse(X);pe.success?(k(!0),Ne(),await V()):I(pe.error||"Erro ao criar usuário")}}catch(X){console.error("Erro ao salvar usuário:",X),I("Erro ao salvar usuário. Tente novamente.")}finally{N(!1)}}},q=async G=>{if(confirm("Tem certeza que deseja remover este usuário?"))try{const B=await Xse(G);B.success?(await V(),k(!0),setTimeout(()=>k(!1),3e3)):I(B.error||"Erro ao remover usuário")}catch(B){console.error("Erro ao remover usuário:",B),I("Erro ao remover usuário")}},$=G=>{w(G),T({email:G.email,name:G.name,displayName:G.displayName||"",company:G.company||"",phone:G.phone||"",password:"",confirmPassword:"",userType:G.userType,role:G.role,code:G.operatorData?.code||"",primarySectorId:G.operatorData?.primarySectorId||"",secondarySectorIds:G.operatorData?.secondarySectorIds||[],skills:G.operatorData?.skills||[],admissionDate:G.operatorData?.admissionDate||"",contractType:G.operatorData?.contractType||"clt",workSchedule:G.operatorData?.workSchedule||"day",weeklyHours:G.operatorData?.weeklyHours||40,supervisorId:G.operatorData?.supervisorId||"",teamId:G.operatorData?.teamId||"",status:G.operatorData?.status||"active",lastTrainingDate:G.operatorData?.lastTrainingDate||"",nextTrainingDate:G.operatorData?.nextTrainingDate||"",newSkill:""}),v(!0)},Ne=()=>{T({email:"",name:"",displayName:"",company:"",phone:"",password:"",confirmPassword:"",userType:"operator",role:"operator",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],admissionDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",status:"active",lastTrainingDate:"",nextTrainingDate:"",newSkill:""}),w(null),I(null),setTimeout(()=>k(!1),3e3)},me=()=>{Ne(),v(!1)},te=()=>{Ne(),v(!0)},de=()=>{_.newSkill?.trim()&&!_.skills?.includes(_.newSkill.trim())&&T(G=>({...G,skills:[...G.skills||[],G.newSkill?.trim()||""],newSkill:""}))},ae=G=>{T(B=>({...B,skills:(B.skills||[]).filter(X=>X!==G)}))},_e=G=>{switch(G){case"admin":return"role-admin";case"operator":return"role-operator";case"user":return"role-user";default:return"role-user"}},K=G=>{switch(G){case"admin":return"Administrador";case"operator":return"Operador";case"user":return"Usuário";default:return"Usuário"}};return l.jsx("div",{className:"user-creation-page",children:l.jsxs("div",{className:"user-creation-container",children:[l.jsx("div",{className:"user-creation-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{children:[l.jsx(Eh,{className:"header-icon"}),"Gerenciar Usuários"]}),l.jsx("p",{children:"Visualize, crie, edite e remova usuários do sistema"})]})}),P&&l.jsxs("div",{className:"error-message",children:[l.jsx(Zr,{}),P]}),D&&l.jsxs("div",{className:"success-message",children:[l.jsx(wh,{}),"Operação realizada com sucesso!"]}),l.jsxs("div",{className:"users-section",children:[l.jsxs("div",{className:"search-container",children:[l.jsxs("div",{className:"search-input-wrapper",children:[l.jsx(wu,{className:"search-icon"}),l.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou empresa...",value:i,onChange:G=>s(G.target.value),className:"search-input"})]}),l.jsx("div",{className:"filter-wrapper",children:l.jsxs("select",{value:c,onChange:G=>d(G.target.value),className:"user-type-filter",children:[l.jsx("option",{value:"all",children:"Todos os tipos"}),l.jsx("option",{value:"admin",children:"Administradores"}),l.jsx("option",{value:"operator",children:"Operadores"}),l.jsx("option",{value:"user",children:"Usuários"})]})}),l.jsx("div",{className:"search-actions",children:l.jsxs(st,{onClick:te,children:[l.jsx(c7,{}),"Criar Usuário"]})})]}),h?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Carregando usuários..."})]}):l.jsxs("div",{className:"users-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Nome"}),l.jsx("div",{children:"E-mail"}),l.jsx("div",{children:"Empresa"}),l.jsx("div",{children:"Telefone"}),l.jsx("div",{children:"Papel"}),l.jsx("div",{children:"Ações"})]}),n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx(Eh,{}),l.jsx("p",{children:"Nenhum usuário encontrado"})]}):n.map(G=>l.jsxs("div",{className:"table-row",children:[l.jsxs("div",{className:"user-info",children:[l.jsx("div",{className:"user-avatar",children:G.name?.charAt(0)?.toUpperCase()||"U"}),l.jsxs("div",{children:[l.jsx("div",{className:"user-name",children:G.name||G.displayName||"—"}),l.jsx("div",{className:"user-type",children:G.userType})]})]}),l.jsxs("div",{className:"email-cell",children:[l.jsx(zM,{}),G.email]}),l.jsxs("div",{className:"company-cell",children:[l.jsx(kM,{}),G.company||"—"]}),l.jsxs("div",{className:"phone-cell",children:[l.jsx(QM,{}),G.phone||"—"]}),l.jsx("div",{className:"role-cell",children:l.jsxs("span",{className:`role-badge ${_e(G.userType)}`,children:[l.jsx(u7,{}),K(G.userType)]})}),l.jsxs("div",{className:"actions-cell",children:[l.jsx("button",{className:"action-btn edit-btn",onClick:()=>$(G),title:"Editar usuário",children:l.jsx(zg,{})}),l.jsx("button",{className:"action-btn delete-btn",onClick:()=>q(G.id),title:"Remover usuário",children:l.jsx(Th,{})})]})]},G.id))]})]}),p&&l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:x?"Editar Usuário":"Criar Novo Usuário"}),l.jsx("button",{className:"close-btn",onClick:me,children:l.jsx(Zr,{})})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("form",{onSubmit:z,className:"user-form",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informações Pessoais"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome Completo *"}),l.jsx(Ye,{type:"text",name:"name",value:_.name,onChange:j,placeholder:"Digite o nome completo",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome de Exibição"}),l.jsx(Ye,{type:"text",name:"displayName",value:_.displayName,onChange:j,placeholder:"Nome para exibição (opcional)",disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"E-mail *"}),l.jsx(Ye,{type:"email",name:"email",value:_.email,onChange:j,placeholder:"Digite o e-mail",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Telefone"}),l.jsx(Ye,{type:"tel",name:"phone",value:_.phone,onChange:L,placeholder:"(11) 99999-9999",disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Empresa"}),l.jsx(Ye,{type:"text",name:"company",value:_.company,onChange:j,placeholder:"Nome da empresa",disabled:S})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Configurações de Acesso"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tipo de Usuário"}),l.jsxs("select",{name:"userType",value:_.userType,onChange:j,disabled:S,children:[l.jsx("option",{value:"user",children:"Usuário Padrão"}),l.jsx("option",{value:"operator",children:"Operador"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Papel/Função"}),l.jsxs("select",{name:"role",value:_.role,onChange:j,disabled:S,children:[l.jsx("option",{value:"operator",children:"Operador"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]}),!x&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Senha *"}),l.jsx(Ye,{type:"password",name:"password",value:_.password,onChange:j,placeholder:"Mínimo 6 caracteres",required:!x,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Confirmar Senha *"}),l.jsx(Ye,{type:"password",name:"confirmPassword",value:_.confirmPassword,onChange:j,placeholder:"Digite a senha novamente",required:!x,disabled:S})]})]})]})]}),_.role==="operator"&&l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Dados do Operador"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Código/Matrícula *"}),l.jsx(Ye,{type:"text",name:"code",value:_.code||"",onChange:j,placeholder:"Ex: OP001",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Data de Admissão *"}),l.jsx(Ye,{type:"date",name:"admissionDate",value:_.admissionDate||"",onChange:j,placeholder:"",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Setor Primário *"}),l.jsxs("select",{name:"primarySectorId",value:_.primarySectorId||"",onChange:j,required:!0,disabled:S,children:[l.jsx("option",{value:"",children:"Selecione um setor"}),l.jsx("option",{value:"corte",children:"Corte"}),l.jsx("option",{value:"montagem",children:"Montagem"}),l.jsx("option",{value:"acabamento",children:"Acabamento"}),l.jsx("option",{value:"embalagem",children:"Embalagem"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status *"}),l.jsxs("select",{name:"status",value:_.status||"active",onChange:j,required:!0,disabled:S,children:[l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"}),l.jsx("option",{value:"suspended",children:"Suspenso"}),l.jsx("option",{value:"on_leave",children:"Afastado"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tipo de Contrato *"}),l.jsxs("select",{name:"contractType",value:_.contractType||"clt",onChange:j,required:!0,disabled:S,children:[l.jsx("option",{value:"clt",children:"CLT"}),l.jsx("option",{value:"pj",children:"PJ"}),l.jsx("option",{value:"temporary",children:"Temporário"}),l.jsx("option",{value:"intern",children:"Estagiário"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Turno de Trabalho *"}),l.jsxs("select",{name:"workSchedule",value:_.workSchedule||"day",onChange:j,required:!0,disabled:S,children:[l.jsx("option",{value:"day",children:"Diurno"}),l.jsx("option",{value:"night",children:"Noturno"}),l.jsx("option",{value:"rotating",children:"Rotativo"}),l.jsx("option",{value:"flexible",children:"Flexível"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Horas Semanais *"}),l.jsx(Ye,{type:"number",name:"weeklyHours",value:String(_.weeklyHours||40),onChange:j,placeholder:"40",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Data do Último Treinamento"}),l.jsx(Ye,{type:"date",name:"lastTrainingDate",value:_.lastTrainingDate||"",onChange:j,placeholder:"",disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Próximo Treinamento"}),l.jsx(Ye,{type:"date",name:"nextTrainingDate",value:_.nextTrainingDate||"",onChange:j,placeholder:"",disabled:S})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Habilidades/Competências"}),l.jsxs("div",{className:"skills-container",children:[l.jsxs("div",{className:"skills-input",children:[l.jsx(Ye,{type:"text",name:"newSkill",placeholder:"Digite uma habilidade",value:_.newSkill||"",onChange:G=>T(B=>({...B,newSkill:G.target.value})),disabled:S}),l.jsxs(st,{type:"button",onClick:de,disabled:S||!_.newSkill?.trim(),children:[l.jsx(Mp,{}),"Adicionar"]})]}),_.skills&&_.skills.length>0&&l.jsx("div",{className:"skills-list",children:_.skills.map((G,B)=>l.jsxs("span",{className:"skill-tag",children:[G,l.jsx("button",{type:"button",onClick:()=>ae(G),className:"remove-skill",children:l.jsx(Zr,{})})]},B))})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs(st,{type:"button",variant:"outline",onClick:me,disabled:S,children:[l.jsx(Zr,{}),"Cancelar"]}),l.jsxs(st,{type:"submit",disabled:S,children:[l.jsx(wh,{}),S?"Salvando...":x?"Salvar":"Criar Usuário"]})]})]})})]})})]})})}const Ga=[{id:"1",code:"PROD001",name:"Produto A",description:"Descrição do Produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01T00:00:00Z",updatedAt:"2023-01-01T00:00:00Z",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrição do Produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-02T00:00:00Z",updatedAt:"2023-01-02T00:00:00Z",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrição do Produto C",category:"Categoria 1",isActive:!1,createdAt:"2023-01-03T00:00:00Z",updatedAt:"2023-01-03T00:00:00Z",createdBy:"admin",updatedBy:"admin"}],Sf=t=>new Promise(e=>setTimeout(e,t)),Zse=async()=>(await Sf(500),[...Ga]),Jse=async t=>{if(await Sf(800),Ga.find(r=>r.code===t.code))return{success:!1,error:"Código do produto já está em uso"};const n={id:Date.now().toString(),code:t.code,name:t.name,description:t.description,category:t.category,isActive:t.isActive??!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};return Ga.push(n),{success:!0,data:n}},eoe=async(t,e)=>{await Sf(800);const n=Ga.findIndex(i=>i.id===t);if(n===-1)return{success:!1,error:"Produto não encontrado"};const r={...Ga[n],...e,updatedAt:new Date().toISOString(),updatedBy:"current-user"};return Ga[n]=r,{success:!0,data:r}},toe=async t=>{await Sf(600);const e=Ga.findIndex(n=>n.id===t);return e===-1?{success:!1,error:"Produto não encontrado"}:(Ga.splice(e,1),{success:!0})},noe=async(t,e)=>(await Sf(200),Ga.some(n=>n.code===t&&n.id!==e));function roe(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState(""),[c,d]=A.useState("all"),[h,f]=A.useState(!0),[p,v]=A.useState(!1),[x,w]=A.useState(null),[_,T]=A.useState({code:"",name:"",description:"",category:"",isActive:!0}),[S,N]=A.useState(!1),[P,I]=A.useState(null),[D,k]=A.useState(!1);A.useEffect(()=>{V()},[]),A.useEffect(()=>{let ae=t;c!=="all"&&(ae=ae.filter(_e=>_e.category===c)),i.trim()&&(ae=ae.filter(_e=>_e.code.toLowerCase().includes(i.toLowerCase())||_e.name.toLowerCase().includes(i.toLowerCase())||_e.description.toLowerCase().includes(i.toLowerCase())||_e.category.toLowerCase().includes(i.toLowerCase()))),r(ae)},[t,i,c]);const V=async()=>{try{f(!0);const ae=await Zse();e(ae)}catch(ae){console.error("Erro ao carregar produtos:",ae),I("Erro ao carregar lista de produtos")}finally{f(!1)}},j=ae=>{const{name:_e,value:K,type:G}=ae.target,B=ae.target.checked;T(X=>({...X,[_e]:G==="checkbox"?B:K})),P&&I(null)},R=async()=>{if(!_.code||!_.name||!_.category)return I("Código, nome e categoria são obrigatórios"),!1;if(!x)try{if(await noe(_.code))return I("Código do produto já está em uso"),!1}catch{return I("Erro ao verificar disponibilidade do código"),!1}return!0},L=async ae=>{if(ae.preventDefault(),!!await R()){N(!0),I(null);try{if(x){const K={name:_.name,description:_.description,category:_.category,isActive:_.isActive},G=await eoe(x.id,K);G.success?(k(!0),q(),await V()):I(G.error||"Erro ao atualizar produto")}else{const K={code:_.code,name:_.name,description:_.description,category:_.category,isActive:_.isActive},G=await Jse(K);G.success?(k(!0),q(),await V()):I(G.error||"Erro ao criar produto")}}catch(K){console.error("Erro ao salvar produto:",K),I("Erro ao salvar produto. Tente novamente.")}finally{N(!1)}}},F=async ae=>{if(confirm("Tem certeza que deseja remover este produto?"))try{const _e=await toe(ae);_e.success?(await V(),k(!0),setTimeout(()=>k(!1),3e3)):I(_e.error||"Erro ao remover produto")}catch(_e){console.error("Erro ao remover produto:",_e),I("Erro ao remover produto")}},z=ae=>{w(ae),T({code:ae.code,name:ae.name,description:ae.description,category:ae.category,isActive:ae.isActive}),v(!0)},q=()=>{T({code:"",name:"",description:"",category:"",isActive:!0}),w(null),I(null),setTimeout(()=>k(!1),3e3)},$=()=>{q(),v(!1)},Ne=()=>{q(),v(!0)},me=ae=>{switch(ae){case!0:return"status-active";case!1:return"status-inactive";default:return"status-unknown"}},te=ae=>{switch(ae){case!0:return"Ativo";case!1:return"Inativo";default:return"Desconhecido"}},de=Array.from(new Set(t.map(ae=>ae.category)));return l.jsxs("div",{className:"product-management-content",children:[l.jsx("div",{className:"content-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{children:[l.jsx(TE,{className:"header-icon"}),"Gerenciar Produtos"]}),l.jsx("p",{children:"Visualize, crie, edite e remova produtos do sistema"})]})}),P&&l.jsxs("div",{className:"error-message",children:[l.jsx(Zr,{}),P]}),D&&l.jsxs("div",{className:"success-message",children:[l.jsx(wh,{}),"Operação realizada com sucesso!"]}),l.jsxs("div",{className:"products-section",children:[l.jsxs("div",{className:"search-container",children:[l.jsxs("div",{className:"search-input-wrapper",children:[l.jsx(wu,{className:"search-icon"}),l.jsx("input",{type:"text",placeholder:"Buscar por código, nome, descrição ou categoria...",value:i,onChange:ae=>s(ae.target.value),className:"search-input"})]}),l.jsx("div",{className:"filter-wrapper",children:l.jsxs("select",{value:c,onChange:ae=>d(ae.target.value),className:"category-filter",children:[l.jsx("option",{value:"all",children:"Todas as categorias"}),de.map(ae=>l.jsx("option",{value:ae,children:ae},ae))]})}),l.jsx("div",{className:"search-actions",children:l.jsxs(st,{onClick:Ne,children:[l.jsx(Qh,{}),"Criar Produto"]})})]}),h?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Carregando produtos..."})]}):l.jsxs("div",{className:"products-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Código"}),l.jsx("div",{children:"Nome"}),l.jsx("div",{children:"Descrição"}),l.jsx("div",{children:"Categoria"}),l.jsx("div",{children:"Status"}),l.jsx("div",{children:"Ações"})]}),n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx(TE,{}),l.jsx("p",{children:"Nenhum produto encontrado"})]}):n.map(ae=>l.jsxs("div",{className:"table-row",children:[l.jsxs("div",{className:"product-info",children:[l.jsx("div",{className:"product-avatar",children:ae.name?.charAt(0)?.toUpperCase()||"P"}),l.jsx("div",{children:l.jsx("div",{className:"product-code",children:ae.code})})]}),l.jsxs("div",{className:"name-cell",children:[l.jsx(i7,{}),ae.name]}),l.jsxs("div",{className:"description-cell",children:[l.jsx(ul,{}),ae.description||"—"]}),l.jsxs("div",{className:"category-cell",children:[l.jsx(FM,{}),ae.category]}),l.jsx("div",{className:"status-cell",children:l.jsx("span",{className:`status-badge ${me(ae.isActive)}`,children:te(ae.isActive)})}),l.jsxs("div",{className:"actions-cell",children:[l.jsx("button",{className:"action-btn edit-btn",onClick:()=>z(ae),title:"Editar produto",children:l.jsx(zg,{})}),l.jsx("button",{className:"action-btn delete-btn",onClick:()=>F(ae.id),title:"Remover produto",children:l.jsx(Th,{})})]})]},ae.id))]})]}),p&&l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:x?"Editar Produto":"Criar Novo Produto"}),l.jsx("button",{className:"close-btn",onClick:$,children:l.jsx(Zr,{})})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("form",{onSubmit:L,className:"product-form",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h3",{children:"Informações do Produto"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Código *"}),l.jsx(Ye,{type:"text",name:"code",value:_.code,onChange:j,placeholder:"Ex: PROD001",required:!0,disabled:S||!!x})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome *"}),l.jsx(Ye,{type:"text",name:"name",value:_.name,onChange:j,placeholder:"Nome do produto",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Categoria *"}),l.jsx(Ye,{type:"text",name:"category",value:_.category,onChange:j,placeholder:"Categoria do produto",required:!0,disabled:S})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"isActive",value:_.isActive?"true":"false",onChange:ae=>T(_e=>({..._e,isActive:ae.target.value==="true"})),disabled:S,children:[l.jsx("option",{value:"true",children:"Ativo"}),l.jsx("option",{value:"false",children:"Inativo"})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Descrição"}),l.jsx("textarea",{name:"description",value:_.description,onChange:j,placeholder:"Descrição detalhada do produto",rows:4,disabled:S})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs(st,{type:"button",variant:"outline",onClick:$,disabled:S,children:[l.jsx(Zr,{}),"Cancelar"]}),l.jsxs(st,{type:"submit",disabled:S,children:[l.jsx(wh,{}),S?"Salvando...":x?"Salvar":"Criar Produto"]})]})]})})]})})]})}function Ip(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const ioe=async()=>{const t=Xn(Xe,"users");return(await Jr(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName,company:r.company,phone:r.phone,photoURL:r.photoURL,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt||new Date().toISOString(),operatorData:r.operatorData}})},aoe=async t=>{if(!t.email)throw new Error("E-mail é obrigatório");const e=Ip({...t,email:t.email.trim().toLowerCase()});if(e.uid){const i=Lt(Xe,"users",e.uid);return await Cu(i,Ip({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),e.uid}const n=Xn(Xe,"users"),r=await mv(n,Ip({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Rr(r,{uid:r.id}),r.id},soe=async(t,e)=>{const n=Lt(Xe,"users",t);await Rr(n,Ip({...e,updatedAt:new Date().toISOString()}))},ooe=async t=>{const e=Lt(Xe,"users",t);await g_(e)};function loe(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),[i,s]=A.useState(null),[c,d]=A.useState(""),[h,f]=A.useState(!1),[p,v]=A.useState(null),[x,w]=A.useState([]),_=(me,te="success")=>{const de=Date.now();w(ae=>[...ae,{id:de,type:te,message:me}]),setTimeout(()=>w(ae=>ae.filter(_e=>_e.id!==de)),3e3)},T=56,S=6,N=A.useRef(null),[P,I]=A.useState(0),[D,k]=A.useState(480),V=A.useMemo(()=>{const me=c.trim().toLowerCase();return me?t.filter(te=>te.email.toLowerCase().includes(me)||(te.name||"").toLowerCase().includes(me)||(te.company||"").toLowerCase().includes(me)):t},[t,c]),j=V.length,R=Math.max(0,Math.floor(P/T)-S),L=Math.min(j,Math.ceil((P+D)/T)+S),F=V.slice(R,L),z=R*T,q=async()=>{try{r(!0);const me=await ioe();e(me)}catch{s("Falha ao carregar usuários")}finally{r(!1)}};A.useEffect(()=>{q()},[]),A.useEffect(()=>{if(!N.current)return;const me=N.current,te=()=>k(me.clientHeight||480);te();const de=()=>I(me.scrollTop);return me.addEventListener("scroll",de),window.addEventListener("resize",te),()=>{me.removeEventListener("scroll",de),window.removeEventListener("resize",te)}},[]);const $=async me=>{try{s(null),p&&p.id?await soe(p.id,me):await aoe({id:"",email:me.email||"",name:me.name||"",company:me.company,phone:me.phone,displayName:me.displayName,photoURL:me.photoURL,emailVerified:!1,userType:"user",role:me.role||"operator",createdBy:"admin",updatedBy:"admin"}),f(!1),v(null),await q(),_("Usuário salvo com sucesso","success")}catch{s("Falha ao salvar usuário"),_("Falha ao salvar usuário","error")}},Ne=async me=>{if(confirm("Remover este usuário?"))try{await ooe(me),await q(),_("Usuário removido","success")}catch{s("Falha ao remover usuário"),_("Falha ao remover usuário","error")}};return l.jsxs("div",{className:"admin-page",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Gerenciar Usuários"}),l.jsx("p",{children:"Visualize, adicione, edite e remova usuários do sistema."})]}),l.jsxs("div",{className:"admin-actions",children:[l.jsx("div",{className:"admin-search",children:l.jsx(Ye,{type:"text",name:"search",placeholder:"Buscar por nome, e-mail ou empresa",value:c,onChange:me=>d(me.target.value)})}),l.jsx(st,{onClick:()=>{v(null),f(!0)},children:"Adicionar Usuário"})]})]}),i&&l.jsx("div",{className:"admin-error",children:i}),l.jsxs("div",{className:"users-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Nome"}),l.jsx("div",{children:"E-mail"}),l.jsx("div",{children:"Empresa"}),l.jsx("div",{children:"Telefone"}),l.jsx("div",{children:"Papel"}),l.jsx("div",{children:"Ações"})]}),n?l.jsx("div",{className:"users-viewport",children:Array.from({length:8}).map((me,te)=>l.jsxs("div",{className:"table-row skeleton-row",children:[l.jsx("div",{className:"skeleton skeleton-text"}),l.jsx("div",{className:"skeleton skeleton-text"}),l.jsx("div",{className:"skeleton skeleton-text short"}),l.jsx("div",{className:"skeleton skeleton-text short"}),l.jsx("div",{className:"skeleton skeleton-badge"}),l.jsx("div",{className:"skeleton skeleton-actions"})]},te))}):l.jsxs("div",{className:"users-viewport",ref:N,children:[l.jsx("div",{style:{height:j*T,position:"relative"},children:l.jsx("div",{style:{transform:`translateY(${z}px)`},children:F.map(me=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{children:me.name||me.displayName||"—"}),l.jsx("div",{children:me.email}),l.jsx("div",{children:me.company||"—"}),l.jsx("div",{children:me.phone||"—"}),l.jsx("div",{children:l.jsx("span",{className:`badge role-${me.role||"user"}`,children:me.role||"user"})}),l.jsxs("div",{className:"row-actions",children:[l.jsx("button",{className:"link",onClick:()=>{v(me),f(!0)},children:"Editar"}),l.jsx("button",{className:"link danger",onClick:()=>Ne(me.id),children:"Remover"})]})]},me.id))})}),V.length===0&&l.jsx("div",{className:"table-empty",children:"Nenhum usuário encontrado."})]})]}),l.jsx("div",{className:"toasts",children:x.map(me=>l.jsx("div",{className:`toast toast-${me.type}`,children:me.message},me.id))}),h&&l.jsx(coe,{initial:p||void 0,onClose:()=>{f(!1),v(null)},onSave:$})]})}function coe({initial:t,onClose:e,onSave:n}){const[r,i]=A.useState({email:t?.email||"",name:t?.name||t?.displayName||"",company:t?.company||"",phone:t?.phone||"",role:t?.role||"operator",displayName:t?.displayName,photoURL:t?.photoURL}),[s,c]=A.useState(!1),d=f=>{const{name:p,value:v}=f.target;i(x=>({...x,[p]:v}))},h=async()=>{c(!0),await n(r),c(!1)};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:t?"Editar Usuário":"Adicionar Usuário"}),l.jsx("button",{className:"close",onClick:e,children:"×"})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-grid",children:[l.jsx(Ye,{type:"email",name:"email",placeholder:"E-mail",value:r.email||"",onChange:f=>d(f)}),l.jsx(Ye,{type:"text",name:"name",placeholder:"Nome",value:r.name||"",onChange:f=>d(f)}),l.jsx(Ye,{type:"text",name:"company",placeholder:"Empresa",value:r.company||"",onChange:f=>d(f)}),l.jsx(Ye,{type:"text",name:"phone",placeholder:"Telefone",value:r.phone||"",onChange:f=>d(f)}),l.jsxs("div",{className:"select-wrapper",children:[l.jsx("label",{children:"Papel"}),l.jsxs("select",{name:"role",value:r.role,onChange:d,children:[l.jsx("option",{value:"user",children:"Usuário"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(st,{variant:"outline",onClick:e,disabled:s,children:"Cancelar"}),l.jsx(st,{onClick:h,disabled:s,children:s?"Salvando...":"Salvar"})]})]})})}function uoe(){const t=as(),e=Ug(),n=()=>{const s=t.pathname;return s==="/app"||s==="/app/"?"orders":s==="/app/schedule"?"schedule":s==="/app/productivity"?"productivity":s==="/app/nonconformities"?"nonconformities":s==="/app/alerts"?"alerts":s==="/app/control"?"control":s==="/app/priority-optimization"?"priority-optimization":s==="/app/operators-list"?"operators-list":s==="/app/bling-integration"?"bling-integration":s==="/app/operational-routes"?"operational-routes":s==="/app/operational-routes-list"?"operational-routes-list":s==="/app/settings"?"settings":s==="/app/user-creation"?"user-creation":s==="/app/product-management"?"product-management":s==="/app/admin-users"?"admin-users":"orders"},r=s=>{const d={orders:"/app",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control","priority-optimization":"/app/priority-optimization","operators-list":"/app/operators-list","bling-integration":"/app/bling-integration","operational-routes":"/app/operational-routes","operational-routes-list":"/app/operational-routes-list",settings:"/app/settings","user-creation":"/app/user-creation","product-management":"/app/product-management","admin-users":"/app/admin-users"}[s]||"/app";e(d)},i=()=>{switch(n()){case"orders":return l.jsx(sj,{});case"schedule":return l.jsx($F,{});case"productivity":return l.jsx(hse,{});case"nonconformities":return l.jsx(xse,{});case"alerts":return l.jsx(Ese,{});case"control":return l.jsx(Rse,{});case"priority-optimization":return l.jsx(Pse,{});case"bling-integration":return l.jsx(Dse,{});case"operational-routes":return l.jsx(Vse,{});case"operational-routes-list":return l.jsx(Use,{});case"settings":return l.jsx(Hse,{});case"user-creation":return l.jsx(Qse,{});case"product-management":return l.jsx(roe,{});case"admin-users":return l.jsx(loe,{});default:return l.jsx(sj,{})}};return l.jsxs("div",{className:"dashboard-layout",children:[l.jsx(_F,{currentPage:n(),onPageChange:r,variant:"default"}),l.jsx("div",{className:"dashboard-main",children:i()})]})}function doe({children:t}){const{user:e,loading:n}=la();return n?null:e?l.jsx(l.Fragment,{children:t}):l.jsx(oC,{to:Rt.login,replace:!0})}function hoe(){return l.jsxs($9,{children:[l.jsx(al,{path:Rt.landing,element:l.jsx(b7,{})}),l.jsx(al,{path:Rt.login,element:l.jsx(vF,{})}),l.jsx(al,{path:Rt.register,element:l.jsx(xF,{})}),l.jsx(al,{path:Rt.forgotPassword,element:l.jsx(bF,{})}),l.jsx(al,{path:"/app/*",element:l.jsx(doe,{children:l.jsx(uoe,{})})}),l.jsx(al,{path:"*",element:l.jsx(oC,{to:Rt.landing,replace:!0})})]})}function foe(){return l.jsx(hoe,{})}const moe=Zk.createRoot(document.getElementById("root"));moe.render(l.jsx(A.StrictMode,{children:l.jsx(fM,{children:l.jsx(pF,{children:l.jsx(foe,{})})})}));
