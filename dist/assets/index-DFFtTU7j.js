(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Wi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M0={exports:{}},Md={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function Vk(){if(eT)return Md;eT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:s}}return Md.Fragment=e,Md.jsx=n,Md.jsxs=n,Md}var tT;function Uk(){return tT||(tT=1,M0.exports=Vk()),M0.exports}var l=Uk(),L0={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function zk(){if(nT)return Ue;nT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function S(K,ie,re){this.props=K,this.context=ie,this.refs=E,this.updater=re||_}S.prototype.isReactComponent={},S.prototype.setState=function(K,ie){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ie,"setState")},S.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function j(){}j.prototype=S.prototype;function O(K,ie,re){this.props=K,this.context=ie,this.refs=E,this.updater=re||_}var R=O.prototype=new j;R.constructor=O,w(R,S.prototype),R.isPureReactComponent=!0;var L=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function C(K,ie,re,de,Se,je){return re=je.ref,{$$typeof:t,type:K,key:ie,ref:re!==void 0?re:null,props:je}}function P(K,ie){return C(K.type,ie,void 0,void 0,void 0,K.props)}function M(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function F(K){var ie={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(re){return ie[re]})}var $=/\/+/g;function H(K,ie){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):ie.toString(36)}function U(){}function pe(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(U,U):(K.status="pending",K.then(function(ie){K.status==="pending"&&(K.status="fulfilled",K.value=ie)},function(ie){K.status==="pending"&&(K.status="rejected",K.reason=ie)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function ve(K,ie,re,de,Se){var je=typeof K;(je==="undefined"||je==="boolean")&&(K=null);var Pe=!1;if(K===null)Pe=!0;else switch(je){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(K.$$typeof){case t:case e:Pe=!0;break;case p:return Pe=K._init,ve(Pe(K._payload),ie,re,de,Se)}}if(Pe)return Se=Se(K),Pe=de===""?"."+H(K,0):de,L(Se)?(re="",Pe!=null&&(re=Pe.replace($,"$&/")+"/"),ve(Se,ie,re,"",function(ye){return ye})):Se!=null&&(M(Se)&&(Se=P(Se,re+(Se.key==null||K&&K.key===Se.key?"":(""+Se.key).replace($,"$&/")+"/")+Pe)),ie.push(Se)),1;Pe=0;var Ht=de===""?".":de+":";if(L(K))for(var ct=0;ct<K.length;ct++)de=K[ct],je=Ht+H(de,ct),Pe+=ve(de,ie,re,je,Se);else if(ct=x(K),typeof ct=="function")for(K=ct.call(K),ct=0;!(de=K.next()).done;)de=de.value,je=Ht+H(de,ct++),Pe+=ve(de,ie,re,je,Se);else if(je==="object"){if(typeof K.then=="function")return ve(pe(K),ie,re,de,Se);throw ie=String(K),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function q(K,ie,re){if(K==null)return K;var de=[],Se=0;return ve(K,de,"","",function(je){return ie.call(re,je,Se++)}),de}function z(K){if(K._status===-1){var ie=K._result;ie=ie(),ie.then(function(re){(K._status===0||K._status===-1)&&(K._status=1,K._result=re)},function(re){(K._status===0||K._status===-1)&&(K._status=2,K._result=re)}),K._status===-1&&(K._status=0,K._result=ie)}if(K._status===1)return K._result.default;throw K._result}var J=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function fe(){}return Ue.Children={map:q,forEach:function(K,ie,re){q(K,function(){ie.apply(this,arguments)},re)},count:function(K){var ie=0;return q(K,function(){ie++}),ie},toArray:function(K){return q(K,function(ie){return ie})||[]},only:function(K){if(!M(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ue.Component=S,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=O,Ue.StrictMode=r,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(K){return D.H.useMemoCache(K)}},Ue.cache=function(K){return function(){return K.apply(null,arguments)}},Ue.cloneElement=function(K,ie,re){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var de=w({},K.props),Se=K.key,je=void 0;if(ie!=null)for(Pe in ie.ref!==void 0&&(je=void 0),ie.key!==void 0&&(Se=""+ie.key),ie)!B.call(ie,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ie.ref===void 0||(de[Pe]=ie[Pe]);var Pe=arguments.length-2;if(Pe===1)de.children=re;else if(1<Pe){for(var Ht=Array(Pe),ct=0;ct<Pe;ct++)Ht[ct]=arguments[ct+2];de.children=Ht}return C(K.type,Se,void 0,void 0,je,de)},Ue.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Ue.createElement=function(K,ie,re){var de,Se={},je=null;if(ie!=null)for(de in ie.key!==void 0&&(je=""+ie.key),ie)B.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ie[de]);var Pe=arguments.length-2;if(Pe===1)Se.children=re;else if(1<Pe){for(var Ht=Array(Pe),ct=0;ct<Pe;ct++)Ht[ct]=arguments[ct+2];Se.children=Ht}if(K&&K.defaultProps)for(de in Pe=K.defaultProps,Pe)Se[de]===void 0&&(Se[de]=Pe[de]);return C(K,je,void 0,void 0,null,Se)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(K){return{$$typeof:d,render:K}},Ue.isValidElement=M,Ue.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:z}},Ue.memo=function(K,ie){return{$$typeof:f,type:K,compare:ie===void 0?null:ie}},Ue.startTransition=function(K){var ie=D.T,re={};D.T=re;try{var de=K(),Se=D.S;Se!==null&&Se(re,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(fe,J)}catch(je){J(je)}finally{D.T=ie}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(K){return D.H.use(K)},Ue.useActionState=function(K,ie,re){return D.H.useActionState(K,ie,re)},Ue.useCallback=function(K,ie){return D.H.useCallback(K,ie)},Ue.useContext=function(K){return D.H.useContext(K)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(K,ie){return D.H.useDeferredValue(K,ie)},Ue.useEffect=function(K,ie,re){var de=D.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(K,ie)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(K,ie,re){return D.H.useImperativeHandle(K,ie,re)},Ue.useInsertionEffect=function(K,ie){return D.H.useInsertionEffect(K,ie)},Ue.useLayoutEffect=function(K,ie){return D.H.useLayoutEffect(K,ie)},Ue.useMemo=function(K,ie){return D.H.useMemo(K,ie)},Ue.useOptimistic=function(K,ie){return D.H.useOptimistic(K,ie)},Ue.useReducer=function(K,ie,re){return D.H.useReducer(K,ie,re)},Ue.useRef=function(K){return D.H.useRef(K)},Ue.useState=function(K){return D.H.useState(K)},Ue.useSyncExternalStore=function(K,ie,re){return D.H.useSyncExternalStore(K,ie,re)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.1.0",Ue}var rT;function hu(){return rT||(rT=1,L0.exports=zk()),L0.exports}var A=hu();const al=Wi(A);var V0={exports:{}},Ld={},U0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function Bk(){return iT||(iT=1,function(t){function e(q,z){var J=q.length;q.push(z);e:for(;0<J;){var fe=J-1>>>1,K=q[fe];if(0<i(K,z))q[fe]=z,q[J]=K,J=fe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var z=q[0],J=q.pop();if(J!==z){q[0]=J;e:for(var fe=0,K=q.length,ie=K>>>1;fe<ie;){var re=2*(fe+1)-1,de=q[re],Se=re+1,je=q[Se];if(0>i(de,J))Se<K&&0>i(je,de)?(q[fe]=je,q[Se]=J,fe=Se):(q[fe]=de,q[re]=J,fe=re);else if(Se<K&&0>i(je,J))q[fe]=je,q[Se]=J,fe=Se;else break e}}return z}function i(q,z){var J=q.sortIndex-z.sortIndex;return J!==0?J:q.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,v=null,x=3,_=!1,w=!1,E=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function L(q){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=q)r(f),z.sortIndex=z.expirationTime,e(h,z);else break;z=n(f)}}function D(q){if(E=!1,L(q),!w)if(n(h)!==null)w=!0,B||(B=!0,H());else{var z=n(f);z!==null&&ve(D,z.startTime-q)}}var B=!1,C=-1,P=5,M=-1;function F(){return S?!0:!(t.unstable_now()-M<P)}function $(){if(S=!1,B){var q=t.unstable_now();M=q;var z=!0;try{e:{w=!1,E&&(E=!1,O(C),C=-1),_=!0;var J=x;try{t:{for(L(q),v=n(h);v!==null&&!(v.expirationTime>q&&F());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,x=v.priorityLevel;var K=fe(v.expirationTime<=q);if(q=t.unstable_now(),typeof K=="function"){v.callback=K,L(q),z=!0;break t}v===n(h)&&r(h),L(q)}else r(h);v=n(h)}if(v!==null)z=!0;else{var ie=n(f);ie!==null&&ve(D,ie.startTime-q),z=!1}}break e}finally{v=null,x=J,_=!1}z=void 0}}finally{z?H():B=!1}}}var H;if(typeof R=="function")H=function(){R($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=$,H=function(){pe.postMessage(null)}}else H=function(){j($,0)};function ve(q,z){C=j(function(){q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var J=x;x=z;try{return q()}finally{x=J}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(q,z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=x;x=q;try{return z()}finally{x=J}},t.unstable_scheduleCallback=function(q,z,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,q={id:p++,callback:z,priorityLevel:q,startTime:J,expirationTime:K,sortIndex:-1},J>fe?(q.sortIndex=J,e(f,q),n(h)===null&&q===n(f)&&(E?(O(C),C=-1):E=!0,ve(D,J-fe))):(q.sortIndex=K,e(h,q),w||_||(w=!0,B||(B=!0,H()))),q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(q){var z=x;return function(){var J=x;x=z;try{return q.apply(this,arguments)}finally{x=J}}}}(z0)),z0}var aT;function qk(){return aT||(aT=1,U0.exports=Bk()),U0.exports}var B0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function $k(){if(sT)return Bn;sT=1;var t=hu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,p)},Bn.flushSync=function(h){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=p,r.d.f()}},Bn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Bn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Bn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Bn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Bn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=d(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Bn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Bn.requestFormReset=function(h){r.d.r(h)},Bn.unstable_batchedUpdates=function(h,f){return h(f)},Bn.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var oT;function B6(){if(oT)return B0.exports;oT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),B0.exports=$k(),B0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function Fk(){if(lT)return Ld;lT=1;var t=qk(),e=hu(),n=B6();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,m=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),a;if(b===m)return d(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=b;else{for(var I=!1,k=y.child;k;){if(k===u){I=!0,u=y,m=b;break}if(k===m){I=!0,m=y,u=b;break}k=k.sibling}if(!I){for(k=b.child;k;){if(k===u){I=!0,u=b,m=y;break}if(k===m){I=!0,m=b,u=y;break}k=k.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case R:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case L:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:pe(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return pe(a(o))}catch{}}return null}var ve=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},fe=[],K=-1;function ie(a){return{current:a}}function re(a){0>K||(a.current=fe[K],fe[K]=null,K--)}function de(a,o){K++,fe[K]=a.current,a.current=o}var Se=ie(null),je=ie(null),Pe=ie(null),Ht=ie(null);function ct(a,o){switch(de(Pe,o),de(je,a),de(Se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?N4(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=N4(o),a=C4(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}re(Se),de(Se,a)}function ye(){re(Se),re(je),re(Pe)}function ke(a){a.memoizedState!==null&&de(Ht,a);var o=Se.current,u=C4(o,a.type);o!==u&&(de(je,a),de(Se,u))}function Ve(a){je.current===a&&(re(Se),re(je)),Ht.current===a&&(re(Ht),Id._currentValue=J)}var he=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,rn=t.unstable_shouldYield,mn=t.unstable_requestPaint,Kt=t.unstable_now,Ul=t.unstable_getCurrentPriorityLevel,Cu=t.unstable_ImmediatePriority,zl=t.unstable_UserBlockingPriority,mo=t.unstable_NormalPriority,Lv=t.unstable_LowPriority,Bl=t.unstable_IdlePriority,Ou=t.log,vf=t.unstable_setDisableYieldValue,Dt=null,at=null;function ur(a){if(typeof Ou=="function"&&vf(a),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Dt,a)}catch{}}var Un=Math.clz32?Math.clz32:po,yf=Math.log,Vv=Math.LN2;function po(a){return a>>>=0,a===0?32:31-(yf(a)/Vv|0)|0}var go=256,vo=4194304;function ti(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ql(a,o,u){var m=a.pendingLanes;if(m===0)return 0;var y=0,b=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~b,m!==0?y=ti(m):(I&=k,I!==0?y=ti(I):u||(u=k&~a,u!==0&&(y=ti(u))))):(k=m&~b,k!==0?y=ti(k):I!==0?y=ti(I):u||(u=m&~a,u!==0&&(y=ti(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function yo(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Iu(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var a=go;return go<<=1,(go&4194048)===0&&(go=256),a}function Pu(){var a=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),a}function Ji(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function ea(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Du(a,o,u,m,y,b){var I=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var k=a.entanglements,G=a.expirationTimes,Z=a.hiddenUpdates;for(u=I&~u;0<u;){var ae=31-Un(u),ce=1<<ae;k[ae]=0,G[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}u&=~ce}m!==0&&xi(a,m,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(I&~o))}function xi(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Un(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|u&4194090}function ku(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var m=31-Un(u),y=1<<m;y&o|a[m]&o&&(a[m]|=o),u&=~y}}function rs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function $l(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function is(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:Y4(a.type))}function xf(a,o){var u=z.p;try{return z.p=a,o()}finally{z.p=u}}var St=Math.random().toString(36).slice(2),an="__reactFiber$"+St,Gt="__reactProps$"+St,Cr="__reactContainer$"+St,Mu="__reactEvents$"+St,Uv="__reactListeners$"+St,as="__reactHandles$"+St,bf="__reactResources$"+St,xo="__reactMarker$"+St;function ss(a){delete a[an],delete a[Gt],delete a[Mu],delete a[Uv],delete a[as]}function ta(a){var o=a[an];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Cr]||u[an]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=P4(a);a!==null;){if(u=a[an])return u;a=P4(a)}return o}a=u,u=a.parentNode}return null}function bi(a){if(a=a[an]||a[Cr]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function _i(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Yn(a){var o=a[bf];return o||(o=a[bf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Vt(a){a[xo]=!0}var Lu=new Set,Fl={};function ni(a,o){na(a,o),na(a+"Capture",o)}function na(a,o){for(Fl[a]=o,a=0;a<o.length;a++)Lu.add(o[a])}var _f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wf={},bo={};function Sf(a){return he.call(bo,a)?!0:he.call(wf,a)?!1:_f.test(a)?bo[a]=!0:(wf[a]=!0,!1)}function os(a,o,u){if(Sf(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function wi(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function An(a,o,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+m)}}var _o,Ef;function ra(a){if(_o===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);_o=o&&o[1]||"",Ef=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+a+Ef}var Hl=!1;function Kl(a,o){if(!a||Hl)return"";Hl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(te){ee=te}a.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),I=b[0],k=b[1];if(I&&k){var G=I.split(`
`),Z=k.split(`
`);for(y=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(m===G.length||y===Z.length)for(m=G.length-1,y=Z.length-1;1<=m&&0<=y&&G[m]!==Z[y];)y--;for(;1<=m&&0<=y;m--,y--)if(G[m]!==Z[y]){if(m!==1||y!==1)do if(m--,y--,0>y||G[m]!==Z[y]){var ae=`
`+G[m].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=m&&0<=y);break}}}finally{Hl=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ra(u):""}function Vu(a){switch(a.tag){case 26:case 27:case 5:return ra(a.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Kl(a.type,!1);case 11:return Kl(a.type.render,!1);case 1:return Kl(a.type,!0);case 31:return ra("Activity");default:return""}}function Gl(a){try{var o="";do o+=Vu(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Uu(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zv(a){var o=Uu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),m=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){m=""+I,b.call(this,I)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Yl(a){a._valueTracker||(a._valueTracker=zv(a))}function zu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return a&&(m=Uu(a)?a.checked?"true":"false":a.value),a=m,a!==u?(o.setValue(a),!0):!1}function wo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bv=/[\n"\\]/g;function Yt(a){return a.replace(Bv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function dr(a,o,u,m,y,b,I,k){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),o!=null?I==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Wn(o)):a.value!==""+Wn(o)&&(a.value=""+Wn(o)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),o!=null?ls(a,I,Wn(o)):u!=null?ls(a,I,Wn(u)):m!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Wn(k):a.removeAttribute("name")}function So(a,o,u,m,y,b,I,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+Wn(u):"",o=o!=null?""+Wn(o):u,k||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I)}function ls(a,o,u){o==="number"&&wo(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ia(a,o,u,m){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&m&&(a[u].defaultSelected=!0)}else{for(u=""+Wn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function ut(a,o,u){if(o!=null&&(o=""+Wn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Wn(u):""}function Eo(a,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ve(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Wn(o),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m)}function Or(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(a,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,u):typeof u!="number"||u===0||To.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Bu(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&u[y]!==m&&Tf(a,y,m)}else for(var b in o)o.hasOwnProperty(b)&&Tf(a,b,o[b])}function qu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$v=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(a){return $v.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var aa=null;function Ir(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var sa=null,oa=null;function $u(a){var o=bi(a);if(o&&(a=o.stateNode)){var u=a[Gt]||null;e:switch(a=o.stateNode,o.type){case"input":if(dr(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==a&&m.form===a.form){var y=m[Gt]||null;if(!y)throw Error(r(90));dr(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===a.form&&zu(m)}break e;case"textarea":ut(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ia(a,!!u.multiple,o,!1)}}}var Si=!1;function Af(a,o,u){if(Si)return a(o,u);Si=!0;try{var m=a(o);return m}finally{if(Si=!1,(sa!==null||oa!==null)&&(xm(),sa&&(o=sa,a=oa,oa=sa=null,$u(o),a)))for(o=0;o<a.length;o++)$u(a[o])}}function Ao(a,o){var u=a.stateNode;if(u===null)return null;var m=u[Gt]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(ri)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Rr=!1}var Ei=null,cs=null,la=null;function Fu(){if(la)return la;var a,o=cs,u=o.length,m,y="value"in Ei?Ei.value:Ei.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var I=u-a;for(m=1;m<=I&&o[u-m]===y[b-m];m++);return la=y.slice(a,1<m?1-m:void 0)}function Ti(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ai(){return!0}function Hu(){return!1}function pn(a){function o(u,m,y,b,I){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(u=a[k],this[k]=u?u(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ai:Hu,this.isPropagationStopped=Hu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),o}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=pn(nt),No=p({},nt,{view:0,detail:0}),jf=pn(No),Ql,Zl,ji,Co=p({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ji&&(ji&&a.type==="mousemove"?(Ql=a.screenX-ji.screenX,Zl=a.screenY-ji.screenY):Zl=Ql=0,ji=a),Ql)},movementY:function(a){return"movementY"in a?a.movementY:Zl}}),Pr=pn(Co),Nf=p({},Co,{dataTransfer:0}),Fv=pn(Nf),Oo=p({},No,{relatedTarget:0}),Jl=pn(Oo),Ku=p({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),ec=pn(Ku),Cf=p({},nt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tc=pn(Cf),Hv=p({},nt,{data:0}),Gu=pn(Hv),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=If[a])?!!o[a]:!1}function Ro(){return Yu}var Rf=p({},No,{key:function(a){if(a.key){var o=Io[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ti(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Of[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(a){return a.type==="keypress"?Ti(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ti(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),nc=pn(Rf),Pf=p({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=pn(Pf),ca=p({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Df=pn(ca),kf=p({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=pn(kf),Lf=p({},Co,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=pn(Lf),Xn=p({},nt,{newState:0,oldState:0}),Vf=pn(Xn),Uf=[9,13,27,32],Ni=ri&&"CompositionEvent"in window,g=null;ri&&"documentMode"in document&&(g=document.documentMode);var T=ri&&"TextEvent"in window&&!g,N=ri&&(!Ni||g&&8<g&&11>=g),V=" ",X=!1;function ne(a,o){switch(a){case"keyup":return Uf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var We=!1;function sn(a,o){switch(a){case"compositionend":return me(o);case"keypress":return o.which!==32?null:(X=!0,V);case"textInput":return a=o.data,a===V&&X?null:a;default:return null}}function Xe(a,o){if(We)return a==="compositionend"||!Ni&&ne(a,o)?(a=Fu(),la=cs=Ei=null,We=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return N&&o.locale!=="ko"?null:o.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!gn[a.type]:o==="textarea"}function ua(a,o,u,m){sa?oa?oa.push(m):oa=[m]:sa=m,o=Tm(o,"onChange"),0<o.length&&(u=new Xl("onChange","change",null,u,m),a.push({event:u,listeners:o}))}var jn=null,Ci=null;function Xu(a){S4(a,0)}function zf(a){var o=_i(a);if(zu(o))return a}function Fw(a,o){if(a==="change")return o}var Hw=!1;if(ri){var Kv;if(ri){var Gv="oninput"in document;if(!Gv){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),Gv=typeof Kw.oninput=="function"}Kv=Gv}else Kv=!1;Hw=Kv&&(!document.documentMode||9<document.documentMode)}function Gw(){jn&&(jn.detachEvent("onpropertychange",Yw),Ci=jn=null)}function Yw(a){if(a.propertyName==="value"&&zf(Ci)){var o=[];ua(o,Ci,a,Ir(a)),Af(Xu,o)}}function mD(a,o,u){a==="focusin"?(Gw(),jn=o,Ci=u,jn.attachEvent("onpropertychange",Yw)):a==="focusout"&&Gw()}function pD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return zf(Ci)}function gD(a,o){if(a==="click")return zf(o)}function vD(a,o){if(a==="input"||a==="change")return zf(o)}function yD(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var hr=typeof Object.is=="function"?Object.is:yD;function Qu(a,o){if(hr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!he.call(o,y)||!hr(a[y],o[y]))return!1}return!0}function Ww(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xw(a,o){var u=Ww(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=o&&m>=o)return{node:u,offset:o-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ww(u)}}function Qw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Qw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Zw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=wo(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=wo(a.document)}return o}function Yv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var xD=ri&&"documentMode"in document&&11>=document.documentMode,ic=null,Wv=null,Zu=null,Xv=!1;function Jw(a,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xv||ic==null||ic!==wo(m)||(m=ic,"selectionStart"in m&&Yv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zu&&Qu(Zu,m)||(Zu=m,m=Tm(Wv,"onSelect"),0<m.length&&(o=new Xl("onSelect","select",null,o,u),a.push({event:o,listeners:m}),o.target=ic)))}function Po(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ac={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},Qv={},eS={};ri&&(eS=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function Do(a){if(Qv[a])return Qv[a];if(!ac[a])return a;var o=ac[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in eS)return Qv[a]=o[u];return a}var tS=Do("animationend"),nS=Do("animationiteration"),rS=Do("animationstart"),bD=Do("transitionrun"),_D=Do("transitionstart"),wD=Do("transitioncancel"),iS=Do("transitionend"),aS=new Map,Zv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zv.push("scrollEnd");function ii(a,o){aS.set(a,o),ni(o,[a])}var sS=new WeakMap;function Dr(a,o){if(typeof a=="object"&&a!==null){var u=sS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Gl(o)},sS.set(a,o),o)}return{value:a,source:o,stack:Gl(o)}}var kr=[],sc=0,Jv=0;function Bf(){for(var a=sc,o=Jv=sc=0;o<a;){var u=kr[o];kr[o++]=null;var m=kr[o];kr[o++]=null;var y=kr[o];kr[o++]=null;var b=kr[o];if(kr[o++]=null,m!==null&&y!==null){var I=m.pending;I===null?y.next=y:(y.next=I.next,I.next=y),m.pending=y}b!==0&&oS(u,y,b)}}function qf(a,o,u,m){kr[sc++]=a,kr[sc++]=o,kr[sc++]=u,kr[sc++]=m,Jv|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function ey(a,o,u,m){return qf(a,o,u,m),$f(a)}function oc(a,o){return qf(a,null,null,o),$f(a)}function oS(a,o,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-Un(u),a=b.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=u|536870912),b):null}function $f(a){if(50<Sd)throw Sd=0,s0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var lc={};function SD(a,o,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(a,o,u,m){return new SD(a,o,u,m)}function ty(a){return a=a.prototype,!(!a||!a.isReactComponent)}function da(a,o){var u=a.alternate;return u===null?(u=fr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function lS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ff(a,o,u,m,y,b){var I=0;if(m=a,typeof a=="function")ty(a)&&(I=1);else if(typeof a=="string")I=Tk(a,u,Se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=fr(31,u,o,y),a.elementType=M,a.lanes=b,a;case w:return ko(u.children,y,b,o);case E:I=8,y|=24;break;case S:return a=fr(12,u,o,y|2),a.elementType=S,a.lanes=b,a;case D:return a=fr(13,u,o,y),a.elementType=D,a.lanes=b,a;case B:return a=fr(19,u,o,y),a.elementType=B,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:case R:I=10;break e;case O:I=9;break e;case L:I=11;break e;case C:I=14;break e;case P:I=16,m=null;break e}I=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=fr(I,u,o,y),o.elementType=a,o.type=m,o.lanes=b,o}function ko(a,o,u,m){return a=fr(7,a,m,o),a.lanes=u,a}function ny(a,o,u){return a=fr(6,a,null,o),a.lanes=u,a}function ry(a,o,u){return o=fr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var cc=[],uc=0,Hf=null,Kf=0,Mr=[],Lr=0,Mo=null,ha=1,fa="";function Lo(a,o){cc[uc++]=Kf,cc[uc++]=Hf,Hf=a,Kf=o}function cS(a,o,u){Mr[Lr++]=ha,Mr[Lr++]=fa,Mr[Lr++]=Mo,Mo=a;var m=ha;a=fa;var y=32-Un(m)-1;m&=~(1<<y),u+=1;var b=32-Un(o)+y;if(30<b){var I=y-y%5;b=(m&(1<<I)-1).toString(32),m>>=I,y-=I,ha=1<<32-Un(o)+y|u<<y|m,fa=b+a}else ha=1<<b|u<<y|m,fa=a}function iy(a){a.return!==null&&(Lo(a,1),cS(a,1,0))}function ay(a){for(;a===Hf;)Hf=cc[--uc],cc[uc]=null,Kf=cc[--uc],cc[uc]=null;for(;a===Mo;)Mo=Mr[--Lr],Mr[Lr]=null,fa=Mr[--Lr],Mr[Lr]=null,ha=Mr[--Lr],Mr[Lr]=null}var Qn=null,kt=null,tt=!1,Vo=null,Oi=!1,sy=Error(r(519));function Uo(a){var o=Error(r(418,""));throw td(Dr(o,a)),sy}function uS(a){var o=a.stateNode,u=a.type,m=a.memoizedProps;switch(o[an]=a,o[Gt]=m,u){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(u=0;u<Td.length;u++)He(Td[u],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),So(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Yl(o);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),Eo(o,m.value,m.defaultValue,m.children),Yl(o)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||j4(o.textContent,u)?(m.popover!=null&&(He("beforetoggle",o),He("toggle",o)),m.onScroll!=null&&He("scroll",o),m.onScrollEnd!=null&&He("scrollend",o),m.onClick!=null&&(o.onclick=Am),o=!0):o=!1,o||Uo(a)}function dS(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Qn=Qn.return}}function Ju(a){if(a!==Qn)return!1;if(!tt)return dS(a),tt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||w0(a.type,a.memoizedProps)),u=!u),u&&kt&&Uo(a),dS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){kt=si(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}kt=null}}else o===27?(o=kt,Ts(a.type)?(a=A0,A0=null,kt=a):kt=o):kt=Qn?si(a.stateNode.nextSibling):null;return!0}function ed(){kt=Qn=null,tt=!1}function hS(){var a=Vo;return a!==null&&(nr===null?nr=a:nr.push.apply(nr,a),Vo=null),a}function td(a){Vo===null?Vo=[a]:Vo.push(a)}var oy=ie(null),zo=null,ma=null;function us(a,o,u){de(oy,o._currentValue),o._currentValue=u}function pa(a){a._currentValue=oy.current,re(oy)}function ly(a,o,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===u)break;a=a.return}}function cy(a,o,u,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var I=y.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=y;for(var G=0;G<o.length;G++)if(k.context===o[G]){b.lanes|=u,k=b.alternate,k!==null&&(k.lanes|=u),ly(b.return,u,a),m||(I=null);break e}b=k.next}}else if(y.tag===18){if(I=y.return,I===null)throw Error(r(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),ly(I,u,a),I=null}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===a){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}}function nd(a,o,u,m){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var I=y.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var k=y.type;hr(y.pendingProps.value,I.value)||(a!==null?a.push(k):a=[k])}}else if(y===Ht.current){if(I=y.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Id):a=[Id])}y=y.return}a!==null&&cy(o,a,u,m),o.flags|=262144}function Gf(a){for(a=a.firstContext;a!==null;){if(!hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Bo(a){zo=a,ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function zn(a){return fS(zo,a)}function Yf(a,o){return zo===null&&Bo(a),fS(a,o)}function fS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ma===null){if(a===null)throw Error(r(308));ma=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ma=ma.next=o;return u}var ED=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},TD=t.unstable_scheduleCallback,AD=t.unstable_NormalPriority,ln={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uy(){return{controller:new ED,data:new Map,refCount:0}}function rd(a){a.refCount--,a.refCount===0&&TD(AD,function(){a.controller.abort()})}var id=null,dy=0,dc=0,hc=null;function jD(a,o){if(id===null){var u=id=[];dy=0,dc=f0(),hc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return dy++,o.then(mS,mS),o}function mS(){if(--dy===0&&id!==null){hc!==null&&(hc.status="fulfilled");var a=id;id=null,dc=0,hc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function ND(a,o){var u=[],m={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),m}var pS=q.S;q.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&jD(a,o),pS!==null&&pS(a,o)};var qo=ie(null);function hy(){var a=qo.current;return a!==null?a:vt.pooledCache}function Wf(a,o){o===null?de(qo,qo.current):de(qo,o.pool)}function gS(){var a=hy();return a===null?null:{parent:ln._currentValue,pool:a}}var ad=Error(r(460)),vS=Error(r(474)),Xf=Error(r(542)),fy={then:function(){}};function yS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Qf(){}function xS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Qf,Qf),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,_S(a),a;default:if(typeof o.status=="string")o.then(Qf,Qf);else{if(a=vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,_S(a),a}throw sd=o,ad}}var sd=null;function bS(){if(sd===null)throw Error(r(459));var a=sd;return sd=null,a}function _S(a){if(a===ad||a===Xf)throw Error(r(483))}var ds=!1;function my(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function py(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function hs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function fs(a,o,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(st&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=$f(a),oS(a,null,u),o}return qf(a,m,o,u),$f(a)}function od(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,ku(a,u)}}function gy(a,o){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=I:b=b.next=I,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var vy=!1;function ld(){if(vy){var a=hc;if(a!==null)throw a}}function cd(a,o,u,m){vy=!1;var y=a.updateQueue;ds=!1;var b=y.firstBaseUpdate,I=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var G=k,Z=G.next;G.next=null,I===null?b=Z:I.next=Z,I=G;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==I&&(k===null?ae.firstBaseUpdate=Z:k.next=Z,ae.lastBaseUpdate=G))}if(b!==null){var ce=y.baseState;I=0,ae=Z=G=null,k=b;do{var ee=k.lane&-536870913,te=ee!==k.lane;if(te?(Qe&ee)===ee:(m&ee)===ee){ee!==0&&ee===dc&&(vy=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var De=a,Ne=k;ee=o;var ft=u;switch(Ne.tag){case 1:if(De=Ne.payload,typeof De=="function"){ce=De.call(ft,ce,ee);break e}ce=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ne.payload,ee=typeof De=="function"?De.call(ft,ce,ee):De,ee==null)break e;ce=p({},ce,ee);break e;case 2:ds=!0}}ee=k.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=y.callbacks,te===null?y.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(Z=ae=te,G=ce):ae=ae.next=te,I|=ee;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;te=k,k=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);ae===null&&(G=ce),y.baseState=G,y.firstBaseUpdate=Z,y.lastBaseUpdate=ae,b===null&&(y.shared.lanes=0),_s|=I,a.lanes=I,a.memoizedState=ce}}function wS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function SS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)wS(u[a],o)}var fc=ie(null),Zf=ie(0);function ES(a,o){a=wa,de(Zf,a),de(fc,o),wa=a|o.baseLanes}function yy(){de(Zf,wa),de(fc,fc.current)}function xy(){wa=Zf.current,re(fc),re(Zf)}var ms=0,ze=null,dt=null,Wt=null,Jf=!1,mc=!1,$o=!1,em=0,ud=0,pc=null,CD=0;function Ut(){throw Error(r(321))}function by(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!hr(a[u],o[u]))return!1;return!0}function _y(a,o,u,m,y,b){return ms=b,ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=a===null||a.memoizedState===null?oE:lE,$o=!1,b=u(m,y),$o=!1,mc&&(b=AS(o,u,m,y)),TS(a),b}function TS(a){q.H=sm;var o=dt!==null&&dt.next!==null;if(ms=0,Wt=dt=ze=null,Jf=!1,ud=0,pc=null,o)throw Error(r(300));a===null||vn||(a=a.dependencies,a!==null&&Gf(a)&&(vn=!0))}function AS(a,o,u,m){ze=a;var y=0;do{if(mc&&(pc=null),ud=0,mc=!1,25<=y)throw Error(r(301));if(y+=1,Wt=dt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=MD,b=o(u,m)}while(mc);return b}function OD(){var a=q.H,o=a.useState()[0];return o=typeof o.then=="function"?dd(o):o,a=a.useState()[0],(dt!==null?dt.memoizedState:null)!==a&&(ze.flags|=1024),o}function wy(){var a=em!==0;return em=0,a}function Sy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Ey(a){if(Jf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Jf=!1}ms=0,Wt=dt=ze=null,mc=!1,ud=em=0,pc=null}function er(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function Xt(){if(dt===null){var a=ze.alternate;a=a!==null?a.memoizedState:null}else a=dt.next;var o=Wt===null?ze.memoizedState:Wt.next;if(o!==null)Wt=o,dt=a;else{if(a===null)throw ze.alternate===null?Error(r(467)):Error(r(310));dt=a,a={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Wt===null?ze.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function Ty(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dd(a){var o=ud;return ud+=1,pc===null&&(pc=[]),a=xS(pc,a,o),o=ze,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?oE:lE),a}function tm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return dd(a);if(a.$$typeof===R)return zn(a)}throw Error(r(438,String(a)))}function Ay(a){var o=null,u=ze.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=ze.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ty(),ze.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),m=0;m<a;m++)u[m]=F;return o.index++,u}function ga(a,o){return typeof o=="function"?o(a):o}function nm(a){var o=Xt();return jy(o,dt,a)}function jy(a,o,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=a.baseQueue,b=m.pending;if(b!==null){if(y!==null){var I=y.next;y.next=b.next,b.next=I}o.baseQueue=y=b,m.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var k=I=null,G=null,Z=o,ae=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Qe&ce)===ce:(ms&ce)===ce){var ee=Z.revertLane;if(ee===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===dc&&(ae=!0);else if((ms&ee)===ee){Z=Z.next,ee===dc&&(ae=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(k=G=ce,I=b):G=G.next=ce,ze.lanes|=ee,_s|=ee;ce=Z.action,$o&&u(b,ce),b=Z.hasEagerState?Z.eagerState:u(b,ce)}else ee={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(k=G=ee,I=b):G=G.next=ee,ze.lanes|=ce,_s|=ce;Z=Z.next}while(Z!==null&&Z!==o);if(G===null?I=b:G.next=k,!hr(b,a.memoizedState)&&(vn=!0,ae&&(u=hc,u!==null)))throw u;a.memoizedState=b,a.baseState=I,a.baseQueue=G,m.lastRenderedState=b}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Ny(a){var o=Xt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var I=y=y.next;do b=a(b,I.action),I=I.next;while(I!==y);hr(b,o.memoizedState)||(vn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function jS(a,o,u){var m=ze,y=Xt(),b=tt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!hr((dt||y).memoizedState,u);I&&(y.memoizedState=u,vn=!0),y=y.queue;var k=OS.bind(null,m,y,a);if(hd(2048,8,k,[a]),y.getSnapshot!==o||I||Wt!==null&&Wt.memoizedState.tag&1){if(m.flags|=2048,gc(9,rm(),CS.bind(null,m,y,u,o),null),vt===null)throw Error(r(349));b||(ms&124)!==0||NS(m,o,u)}return u}function NS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=ze.updateQueue,o===null?(o=Ty(),ze.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function CS(a,o,u,m){o.value=u,o.getSnapshot=m,IS(o)&&RS(a)}function OS(a,o,u){return u(function(){IS(o)&&RS(a)})}function IS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!hr(a,u)}catch{return!0}}function RS(a){var o=oc(a,2);o!==null&&yr(o,a,2)}function Cy(a){var o=er();if(typeof a=="function"){var u=a;if(a=u(),$o){ur(!0);try{u()}finally{ur(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},o}function PS(a,o,u,m){return a.baseState=u,jy(a,dt,typeof m=="function"?m:ga)}function ID(a,o,u,m,y){if(am(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};q.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,DS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function DS(a,o){var u=o.action,m=o.payload,y=a.state;if(o.isTransition){var b=q.T,I={};q.T=I;try{var k=u(y,m),G=q.S;G!==null&&G(I,k),kS(a,o,k)}catch(Z){Oy(a,o,Z)}finally{q.T=b}}else try{b=u(y,m),kS(a,o,b)}catch(Z){Oy(a,o,Z)}}function kS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){MS(a,o,m)},function(m){return Oy(a,o,m)}):MS(a,o,u)}function MS(a,o,u){o.status="fulfilled",o.value=u,LS(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,DS(a,u)))}function Oy(a,o,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,LS(o),o=o.next;while(o!==m)}a.action=null}function LS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function VS(a,o){return o}function US(a,o){if(tt){var u=vt.formState;if(u!==null){e:{var m=ze;if(tt){if(kt){t:{for(var y=kt,b=Oi;y.nodeType!==8;){if(!b){y=null;break t}if(y=si(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){kt=si(y.nextSibling),m=y.data==="F!";break e}}Uo(m)}m=!1}m&&(o=u[0])}}return u=er(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VS,lastRenderedState:o},u.queue=m,u=iE.bind(null,ze,m),m.dispatch=u,m=Cy(!1),b=ky.bind(null,ze,!1,m.queue),m=er(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,u=ID.bind(null,ze,y,b,u),y.dispatch=u,m.memoizedState=a,[o,u,!1]}function zS(a){var o=Xt();return BS(o,dt,a)}function BS(a,o,u){if(o=jy(a,o,VS)[0],a=nm(ga)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=dd(o)}catch(I){throw I===ad?Xf:I}else m=o;o=Xt();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(ze.flags|=2048,gc(9,rm(),RD.bind(null,y,u),null)),[m,b,a]}function RD(a,o){a.action=o}function qS(a){var o=Xt(),u=dt;if(u!==null)return BS(o,u,a);Xt(),o=o.memoizedState,u=Xt();var m=u.queue.dispatch;return u.memoizedState=a,[o,m,!1]}function gc(a,o,u,m){return a={tag:a,create:u,deps:m,inst:o,next:null},o=ze.updateQueue,o===null&&(o=Ty(),ze.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,o.lastEffect=a),a}function rm(){return{destroy:void 0,resource:void 0}}function $S(){return Xt().memoizedState}function im(a,o,u,m){var y=er();m=m===void 0?null:m,ze.flags|=a,y.memoizedState=gc(1|o,rm(),u,m)}function hd(a,o,u,m){var y=Xt();m=m===void 0?null:m;var b=y.memoizedState.inst;dt!==null&&m!==null&&by(m,dt.memoizedState.deps)?y.memoizedState=gc(o,b,u,m):(ze.flags|=a,y.memoizedState=gc(1|o,b,u,m))}function FS(a,o){im(8390656,8,a,o)}function HS(a,o){hd(2048,8,a,o)}function KS(a,o){return hd(4,2,a,o)}function GS(a,o){return hd(4,4,a,o)}function YS(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function WS(a,o,u){u=u!=null?u.concat([a]):null,hd(4,4,YS.bind(null,o,a),u)}function Iy(){}function XS(a,o){var u=Xt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&by(o,m[1])?m[0]:(u.memoizedState=[a,o],a)}function QS(a,o){var u=Xt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&by(o,m[1]))return m[0];if(m=a(),$o){ur(!0);try{a()}finally{ur(!1)}}return u.memoizedState=[m,o],m}function Ry(a,o,u){return u===void 0||(ms&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=e4(),ze.lanes|=a,_s|=a,u)}function ZS(a,o,u,m){return hr(u,o)?u:fc.current!==null?(a=Ry(a,u,m),hr(a,o)||(vn=!0),a):(ms&42)===0?(vn=!0,a.memoizedState=u):(a=e4(),ze.lanes|=a,_s|=a,o)}function JS(a,o,u,m,y){var b=z.p;z.p=b!==0&&8>b?b:8;var I=q.T,k={};q.T=k,ky(a,!1,o,u);try{var G=y(),Z=q.S;if(Z!==null&&Z(k,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ae=ND(G,m);fd(a,o,ae,vr(a))}else fd(a,o,m,vr(a))}catch(ce){fd(a,o,{then:function(){},status:"rejected",reason:ce},vr())}finally{z.p=b,q.T=I}}function PD(){}function Py(a,o,u,m){if(a.tag!==5)throw Error(r(476));var y=eE(a).queue;JS(a,y,o,J,u===null?PD:function(){return tE(a),u(m)})}function eE(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:J},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function tE(a){var o=eE(a).next.queue;fd(a,o,{},vr())}function Dy(){return zn(Id)}function nE(){return Xt().memoizedState}function rE(){return Xt().memoizedState}function DD(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=vr();a=hs(u);var m=fs(o,a,u);m!==null&&(yr(m,o,u),od(m,o,u)),o={cache:uy()},a.payload=o;return}o=o.return}}function kD(a,o,u){var m=vr();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},am(a)?aE(o,u):(u=ey(a,o,u,m),u!==null&&(yr(u,a,m),sE(u,o,m)))}function iE(a,o,u){var m=vr();fd(a,o,u,m)}function fd(a,o,u,m){var y={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(am(a))aE(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var I=o.lastRenderedState,k=b(I,u);if(y.hasEagerState=!0,y.eagerState=k,hr(k,I))return qf(a,o,y,0),vt===null&&Bf(),!1}catch{}finally{}if(u=ey(a,o,y,m),u!==null)return yr(u,a,m),sE(u,o,m),!0}return!1}function ky(a,o,u,m){if(m={lane:2,revertLane:f0(),action:m,hasEagerState:!1,eagerState:null,next:null},am(a)){if(o)throw Error(r(479))}else o=ey(a,u,m,2),o!==null&&yr(o,a,2)}function am(a){var o=a.alternate;return a===ze||o!==null&&o===ze}function aE(a,o){mc=Jf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function sE(a,o,u){if((u&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,u|=m,o.lanes=u,ku(a,u)}}var sm={readContext:zn,use:tm,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},oE={readContext:zn,use:tm,useCallback:function(a,o){return er().memoizedState=[a,o===void 0?null:o],a},useContext:zn,useEffect:FS,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,im(4194308,4,YS.bind(null,o,a),u)},useLayoutEffect:function(a,o){return im(4194308,4,a,o)},useInsertionEffect:function(a,o){im(4,2,a,o)},useMemo:function(a,o){var u=er();o=o===void 0?null:o;var m=a();if($o){ur(!0);try{a()}finally{ur(!1)}}return u.memoizedState=[m,o],m},useReducer:function(a,o,u){var m=er();if(u!==void 0){var y=u(o);if($o){ur(!0);try{u(o)}finally{ur(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=kD.bind(null,ze,a),[m.memoizedState,a]},useRef:function(a){var o=er();return a={current:a},o.memoizedState=a},useState:function(a){a=Cy(a);var o=a.queue,u=iE.bind(null,ze,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Iy,useDeferredValue:function(a,o){var u=er();return Ry(u,a,o)},useTransition:function(){var a=Cy(!1);return a=JS.bind(null,ze,a.queue,!0,!1),er().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var m=ze,y=er();if(tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),vt===null)throw Error(r(349));(Qe&124)!==0||NS(m,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,FS(OS.bind(null,m,b,a),[a]),m.flags|=2048,gc(9,rm(),CS.bind(null,m,b,u,o),null),u},useId:function(){var a=er(),o=vt.identifierPrefix;if(tt){var u=fa,m=ha;u=(m&~(1<<32-Un(m)-1)).toString(32)+u,o="«"+o+"R"+u,u=em++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=CD++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Dy,useFormState:US,useActionState:US,useOptimistic:function(a){var o=er();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ky.bind(null,ze,!0,u),u.dispatch=o,[a,o]},useMemoCache:Ay,useCacheRefresh:function(){return er().memoizedState=DD.bind(null,ze)}},lE={readContext:zn,use:tm,useCallback:XS,useContext:zn,useEffect:HS,useImperativeHandle:WS,useInsertionEffect:KS,useLayoutEffect:GS,useMemo:QS,useReducer:nm,useRef:$S,useState:function(){return nm(ga)},useDebugValue:Iy,useDeferredValue:function(a,o){var u=Xt();return ZS(u,dt.memoizedState,a,o)},useTransition:function(){var a=nm(ga)[0],o=Xt().memoizedState;return[typeof a=="boolean"?a:dd(a),o]},useSyncExternalStore:jS,useId:nE,useHostTransitionStatus:Dy,useFormState:zS,useActionState:zS,useOptimistic:function(a,o){var u=Xt();return PS(u,dt,a,o)},useMemoCache:Ay,useCacheRefresh:rE},MD={readContext:zn,use:tm,useCallback:XS,useContext:zn,useEffect:HS,useImperativeHandle:WS,useInsertionEffect:KS,useLayoutEffect:GS,useMemo:QS,useReducer:Ny,useRef:$S,useState:function(){return Ny(ga)},useDebugValue:Iy,useDeferredValue:function(a,o){var u=Xt();return dt===null?Ry(u,a,o):ZS(u,dt.memoizedState,a,o)},useTransition:function(){var a=Ny(ga)[0],o=Xt().memoizedState;return[typeof a=="boolean"?a:dd(a),o]},useSyncExternalStore:jS,useId:nE,useHostTransitionStatus:Dy,useFormState:qS,useActionState:qS,useOptimistic:function(a,o){var u=Xt();return dt!==null?PS(u,dt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Ay,useCacheRefresh:rE},vc=null,md=0;function om(a){var o=md;return md+=1,vc===null&&(vc=[]),xS(vc,a,o)}function pd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function lm(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function cE(a){var o=a._init;return o(a._payload)}function uE(a){function o(W,Y){if(a){var Q=W.deletions;Q===null?(W.deletions=[Y],W.flags|=16):Q.push(Y)}}function u(W,Y){if(!a)return null;for(;Y!==null;)o(W,Y),Y=Y.sibling;return null}function m(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function y(W,Y){return W=da(W,Y),W.index=0,W.sibling=null,W}function b(W,Y,Q){return W.index=Q,a?(Q=W.alternate,Q!==null?(Q=Q.index,Q<Y?(W.flags|=67108866,Y):Q):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function I(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function k(W,Y,Q,oe){return Y===null||Y.tag!==6?(Y=ny(Q,W.mode,oe),Y.return=W,Y):(Y=y(Y,Q),Y.return=W,Y)}function G(W,Y,Q,oe){var we=Q.type;return we===w?ae(W,Y,Q.props.children,oe,Q.key):Y!==null&&(Y.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&cE(we)===Y.type)?(Y=y(Y,Q.props),pd(Y,Q),Y.return=W,Y):(Y=Ff(Q.type,Q.key,Q.props,null,W.mode,oe),pd(Y,Q),Y.return=W,Y)}function Z(W,Y,Q,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=ry(Q,W.mode,oe),Y.return=W,Y):(Y=y(Y,Q.children||[]),Y.return=W,Y)}function ae(W,Y,Q,oe,we){return Y===null||Y.tag!==7?(Y=ko(Q,W.mode,oe,we),Y.return=W,Y):(Y=y(Y,Q),Y.return=W,Y)}function ce(W,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=ny(""+Y,W.mode,Q),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return Q=Ff(Y.type,Y.key,Y.props,null,W.mode,Q),pd(Q,Y),Q.return=W,Q;case _:return Y=ry(Y,W.mode,Q),Y.return=W,Y;case P:var oe=Y._init;return Y=oe(Y._payload),ce(W,Y,Q)}if(ve(Y)||H(Y))return Y=ko(Y,W.mode,Q,null),Y.return=W,Y;if(typeof Y.then=="function")return ce(W,om(Y),Q);if(Y.$$typeof===R)return ce(W,Yf(W,Y),Q);lm(W,Y)}return null}function ee(W,Y,Q,oe){var we=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return we!==null?null:k(W,Y,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===we?G(W,Y,Q,oe):null;case _:return Q.key===we?Z(W,Y,Q,oe):null;case P:return we=Q._init,Q=we(Q._payload),ee(W,Y,Q,oe)}if(ve(Q)||H(Q))return we!==null?null:ae(W,Y,Q,oe,null);if(typeof Q.then=="function")return ee(W,Y,om(Q),oe);if(Q.$$typeof===R)return ee(W,Y,Yf(W,Q),oe);lm(W,Q)}return null}function te(W,Y,Q,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(Q)||null,k(Y,W,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return W=W.get(oe.key===null?Q:oe.key)||null,G(Y,W,oe,we);case _:return W=W.get(oe.key===null?Q:oe.key)||null,Z(Y,W,oe,we);case P:var $e=oe._init;return oe=$e(oe._payload),te(W,Y,Q,oe,we)}if(ve(oe)||H(oe))return W=W.get(Q)||null,ae(Y,W,oe,we,null);if(typeof oe.then=="function")return te(W,Y,Q,om(oe),we);if(oe.$$typeof===R)return te(W,Y,Q,Yf(Y,oe),we);lm(Y,oe)}return null}function De(W,Y,Q,oe){for(var we=null,$e=null,Ee=Y,Ce=Y=0,xn=null;Ee!==null&&Ce<Q.length;Ce++){Ee.index>Ce?(xn=Ee,Ee=null):xn=Ee.sibling;var Je=ee(W,Ee,Q[Ce],oe);if(Je===null){Ee===null&&(Ee=xn);break}a&&Ee&&Je.alternate===null&&o(W,Ee),Y=b(Je,Y,Ce),$e===null?we=Je:$e.sibling=Je,$e=Je,Ee=xn}if(Ce===Q.length)return u(W,Ee),tt&&Lo(W,Ce),we;if(Ee===null){for(;Ce<Q.length;Ce++)Ee=ce(W,Q[Ce],oe),Ee!==null&&(Y=b(Ee,Y,Ce),$e===null?we=Ee:$e.sibling=Ee,$e=Ee);return tt&&Lo(W,Ce),we}for(Ee=m(Ee);Ce<Q.length;Ce++)xn=te(Ee,W,Ce,Q[Ce],oe),xn!==null&&(a&&xn.alternate!==null&&Ee.delete(xn.key===null?Ce:xn.key),Y=b(xn,Y,Ce),$e===null?we=xn:$e.sibling=xn,$e=xn);return a&&Ee.forEach(function(Os){return o(W,Os)}),tt&&Lo(W,Ce),we}function Ne(W,Y,Q,oe){if(Q==null)throw Error(r(151));for(var we=null,$e=null,Ee=Y,Ce=Y=0,xn=null,Je=Q.next();Ee!==null&&!Je.done;Ce++,Je=Q.next()){Ee.index>Ce?(xn=Ee,Ee=null):xn=Ee.sibling;var Os=ee(W,Ee,Je.value,oe);if(Os===null){Ee===null&&(Ee=xn);break}a&&Ee&&Os.alternate===null&&o(W,Ee),Y=b(Os,Y,Ce),$e===null?we=Os:$e.sibling=Os,$e=Os,Ee=xn}if(Je.done)return u(W,Ee),tt&&Lo(W,Ce),we;if(Ee===null){for(;!Je.done;Ce++,Je=Q.next())Je=ce(W,Je.value,oe),Je!==null&&(Y=b(Je,Y,Ce),$e===null?we=Je:$e.sibling=Je,$e=Je);return tt&&Lo(W,Ce),we}for(Ee=m(Ee);!Je.done;Ce++,Je=Q.next())Je=te(Ee,W,Ce,Je.value,oe),Je!==null&&(a&&Je.alternate!==null&&Ee.delete(Je.key===null?Ce:Je.key),Y=b(Je,Y,Ce),$e===null?we=Je:$e.sibling=Je,$e=Je);return a&&Ee.forEach(function(Lk){return o(W,Lk)}),tt&&Lo(W,Ce),we}function ft(W,Y,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var we=Q.key;Y!==null;){if(Y.key===we){if(we=Q.type,we===w){if(Y.tag===7){u(W,Y.sibling),oe=y(Y,Q.props.children),oe.return=W,W=oe;break e}}else if(Y.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&cE(we)===Y.type){u(W,Y.sibling),oe=y(Y,Q.props),pd(oe,Q),oe.return=W,W=oe;break e}u(W,Y);break}else o(W,Y);Y=Y.sibling}Q.type===w?(oe=ko(Q.props.children,W.mode,oe,Q.key),oe.return=W,W=oe):(oe=Ff(Q.type,Q.key,Q.props,null,W.mode,oe),pd(oe,Q),oe.return=W,W=oe)}return I(W);case _:e:{for(we=Q.key;Y!==null;){if(Y.key===we)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){u(W,Y.sibling),oe=y(Y,Q.children||[]),oe.return=W,W=oe;break e}else{u(W,Y);break}else o(W,Y);Y=Y.sibling}oe=ry(Q,W.mode,oe),oe.return=W,W=oe}return I(W);case P:return we=Q._init,Q=we(Q._payload),ft(W,Y,Q,oe)}if(ve(Q))return De(W,Y,Q,oe);if(H(Q)){if(we=H(Q),typeof we!="function")throw Error(r(150));return Q=we.call(Q),Ne(W,Y,Q,oe)}if(typeof Q.then=="function")return ft(W,Y,om(Q),oe);if(Q.$$typeof===R)return ft(W,Y,Yf(W,Q),oe);lm(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(u(W,Y.sibling),oe=y(Y,Q),oe.return=W,W=oe):(u(W,Y),oe=ny(Q,W.mode,oe),oe.return=W,W=oe),I(W)):u(W,Y)}return function(W,Y,Q,oe){try{md=0;var we=ft(W,Y,Q,oe);return vc=null,we}catch(Ee){if(Ee===ad||Ee===Xf)throw Ee;var $e=fr(29,Ee,null,W.mode);return $e.lanes=oe,$e.return=W,$e}finally{}}}var yc=uE(!0),dE=uE(!1),Vr=ie(null),Ii=null;function ps(a){var o=a.alternate;de(cn,cn.current&1),de(Vr,a),Ii===null&&(o===null||fc.current!==null||o.memoizedState!==null)&&(Ii=a)}function hE(a){if(a.tag===22){if(de(cn,cn.current),de(Vr,a),Ii===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Ii=a)}}else gs()}function gs(){de(cn,cn.current),de(Vr,Vr.current)}function va(a){re(Vr),Ii===a&&(Ii=null),re(cn)}var cn=ie(0);function cm(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||T0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function My(a,o,u,m){o=a.memoizedState,u=u(m,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ly={enqueueSetState:function(a,o,u){a=a._reactInternals;var m=vr(),y=hs(m);y.payload=o,u!=null&&(y.callback=u),o=fs(a,y,m),o!==null&&(yr(o,a,m),od(o,a,m))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var m=vr(),y=hs(m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=fs(a,y,m),o!==null&&(yr(o,a,m),od(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=vr(),m=hs(u);m.tag=2,o!=null&&(m.callback=o),o=fs(a,m,u),o!==null&&(yr(o,a,u),od(o,a,u))}};function fE(a,o,u,m,y,b,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,I):o.prototype&&o.prototype.isPureReactComponent?!Qu(u,m)||!Qu(y,b):!0}function mE(a,o,u,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==a&&Ly.enqueueReplaceState(o,o.state,null)}function Fo(a,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var um=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function pE(a){um(a)}function gE(a){console.error(a)}function vE(a){um(a)}function dm(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function yE(a,o,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Vy(a,o,u){return u=hs(u),u.tag=3,u.payload={element:null},u.callback=function(){dm(a,o)},u}function xE(a){return a=hs(a),a.tag=3,a}function bE(a,o,u,m){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;a.payload=function(){return y(b)},a.callback=function(){yE(o,u,m)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){yE(o,u,m),typeof y!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function LD(a,o,u,m,y){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&nd(o,u,y,!0),u=Vr.current,u!==null){switch(u.tag){case 13:return Ii===null?l0():u.alternate===null&&Mt===0&&(Mt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,m===fy?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),u0(a,m,y)),!1;case 22:return u.flags|=65536,m===fy?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),u0(a,m,y)),!1}throw Error(r(435,u.tag))}return u0(a,m,y),l0(),!1}if(tt)return o=Vr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==sy&&(a=Error(r(422),{cause:m}),td(Dr(a,u)))):(m!==sy&&(o=Error(r(423),{cause:m}),td(Dr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Dr(m,u),y=Vy(a.stateNode,m,y),gy(a,y),Mt!==4&&(Mt=2)),!1;var b=Error(r(520),{cause:m});if(b=Dr(b,u),wd===null?wd=[b]:wd.push(b),Mt!==4&&(Mt=2),o===null)return!0;m=Dr(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Vy(u.stateNode,m,a),gy(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=xE(y),bE(y,a,u,m),gy(u,y),!1}u=u.return}while(u!==null);return!1}var _E=Error(r(461)),vn=!1;function Nn(a,o,u,m){o.child=a===null?dE(o,null,u,m):yc(o,a.child,u,m)}function wE(a,o,u,m,y){u=u.render;var b=o.ref;if("ref"in m){var I={};for(var k in m)k!=="ref"&&(I[k]=m[k])}else I=m;return Bo(o),m=_y(a,o,u,I,b,y),k=wy(),a!==null&&!vn?(Sy(a,o,y),ya(a,o,y)):(tt&&k&&iy(o),o.flags|=1,Nn(a,o,m,y),o.child)}function SE(a,o,u,m,y){if(a===null){var b=u.type;return typeof b=="function"&&!ty(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,EE(a,o,b,m,y)):(a=Ff(u.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Ky(a,y)){var I=b.memoizedProps;if(u=u.compare,u=u!==null?u:Qu,u(I,m)&&a.ref===o.ref)return ya(a,o,y)}return o.flags|=1,a=da(b,m),a.ref=o.ref,a.return=o,o.child=a}function EE(a,o,u,m,y){if(a!==null){var b=a.memoizedProps;if(Qu(b,m)&&a.ref===o.ref)if(vn=!1,o.pendingProps=m=b,Ky(a,y))(a.flags&131072)!==0&&(vn=!0);else return o.lanes=a.lanes,ya(a,o,y)}return Uy(a,o,u,m,y)}function TE(a,o,u){var m=o.pendingProps,y=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=b!==null?b.baseLanes|u:u,a!==null){for(y=o.child=a.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~m}else o.childLanes=0,o.child=null;return AE(a,o,m,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wf(o,b!==null?b.cachePool:null),b!==null?ES(o,b):yy(),hE(o);else return o.lanes=o.childLanes=536870912,AE(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(Wf(o,b.cachePool),ES(o,b),gs(),o.memoizedState=null):(a!==null&&Wf(o,null),yy(),gs());return Nn(a,o,y,u),o.child}function AE(a,o,u,m){var y=hy();return y=y===null?null:{parent:ln._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&Wf(o,null),yy(),hE(o),a!==null&&nd(a,o,m,!0),null}function hm(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Uy(a,o,u,m,y){return Bo(o),u=_y(a,o,u,m,void 0,y),m=wy(),a!==null&&!vn?(Sy(a,o,y),ya(a,o,y)):(tt&&m&&iy(o),o.flags|=1,Nn(a,o,u,y),o.child)}function jE(a,o,u,m,y,b){return Bo(o),o.updateQueue=null,u=AS(o,m,u,y),TS(a),m=wy(),a!==null&&!vn?(Sy(a,o,b),ya(a,o,b)):(tt&&m&&iy(o),o.flags|=1,Nn(a,o,u,b),o.child)}function NE(a,o,u,m,y){if(Bo(o),o.stateNode===null){var b=lc,I=u.contextType;typeof I=="object"&&I!==null&&(b=zn(I)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ly,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},my(o),I=u.contextType,b.context=typeof I=="object"&&I!==null?zn(I):lc,b.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(My(o,u,I,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Ly.enqueueReplaceState(b,b.state,null),cd(o,m,b,y),ld(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var k=o.memoizedProps,G=Fo(u,k);b.props=G;var Z=b.context,ae=u.contextType;I=lc,typeof ae=="object"&&ae!==null&&(I=zn(ae));var ce=u.getDerivedStateFromProps;ae=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||Z!==I)&&mE(o,b,m,I),ds=!1;var ee=o.memoizedState;b.state=ee,cd(o,m,b,y),ld(),Z=o.memoizedState,k||ee!==Z||ds?(typeof ce=="function"&&(My(o,u,ce,m),Z=o.memoizedState),(G=ds||fE(o,u,G,m,ee,Z,I))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),b.props=m,b.state=Z,b.context=I,m=G):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,py(a,o),I=o.memoizedProps,ae=Fo(u,I),b.props=ae,ce=o.pendingProps,ee=b.context,Z=u.contextType,G=lc,typeof Z=="object"&&Z!==null&&(G=zn(Z)),k=u.getDerivedStateFromProps,(Z=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==ce||ee!==G)&&mE(o,b,m,G),ds=!1,ee=o.memoizedState,b.state=ee,cd(o,m,b,y),ld();var te=o.memoizedState;I!==ce||ee!==te||ds||a!==null&&a.dependencies!==null&&Gf(a.dependencies)?(typeof k=="function"&&(My(o,u,k,m),te=o.memoizedState),(ae=ds||fE(o,u,ae,m,ee,te,G)||a!==null&&a.dependencies!==null&&Gf(a.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,te,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,te,G)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=te),b.props=m,b.state=te,b.context=G,m=ae):(typeof b.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,hm(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=yc(o,a.child,null,y),o.child=yc(o,null,u,y)):Nn(a,o,u,y),o.memoizedState=b.state,a=o.child):a=ya(a,o,y),a}function CE(a,o,u,m){return ed(),o.flags|=256,Nn(a,o,u,m),o.child}var zy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function By(a){return{baseLanes:a,cachePool:gS()}}function qy(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Ur),a}function OE(a,o,u){var m=o.pendingProps,y=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=a!==null&&a.memoizedState===null?!1:(cn.current&2)!==0),I&&(y=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,a===null){if(tt){if(y?ps(o):gs(),tt){var k=kt,G;if(G=k){e:{for(G=k,k=Oi;G.nodeType!==8;){if(!k){k=null;break e}if(G=si(G.nextSibling),G===null){k=null;break e}}k=G}k!==null?(o.memoizedState={dehydrated:k,treeContext:Mo!==null?{id:ha,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},G=fr(18,null,null,0),G.stateNode=k,G.return=o,o.child=G,Qn=o,kt=null,G=!0):G=!1}G||Uo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return T0(k)?o.lanes=32:o.lanes=536870912,null;va(o)}return k=m.children,m=m.fallback,y?(gs(),y=o.mode,k=fm({mode:"hidden",children:k},y),m=ko(m,y,u,null),k.return=o,m.return=o,k.sibling=m,o.child=k,y=o.child,y.memoizedState=By(u),y.childLanes=qy(a,I,u),o.memoizedState=zy,m):(ps(o),$y(o,k))}if(G=a.memoizedState,G!==null&&(k=G.dehydrated,k!==null)){if(b)o.flags&256?(ps(o),o.flags&=-257,o=Fy(a,o,u)):o.memoizedState!==null?(gs(),o.child=a.child,o.flags|=128,o=null):(gs(),y=m.fallback,k=o.mode,m=fm({mode:"visible",children:m.children},k),y=ko(y,k,u,null),y.flags|=2,m.return=o,y.return=o,m.sibling=y,o.child=m,yc(o,a.child,null,u),m=o.child,m.memoizedState=By(u),m.childLanes=qy(a,I,u),o.memoizedState=zy,o=y);else if(ps(o),T0(k)){if(I=k.nextSibling&&k.nextSibling.dataset,I)var Z=I.dgst;I=Z,m=Error(r(419)),m.stack="",m.digest=I,td({value:m,source:null,stack:null}),o=Fy(a,o,u)}else if(vn||nd(a,o,u,!1),I=(u&a.childLanes)!==0,vn||I){if(I=vt,I!==null&&(m=u&-u,m=(m&42)!==0?1:rs(m),m=(m&(I.suspendedLanes|u))!==0?0:m,m!==0&&m!==G.retryLane))throw G.retryLane=m,oc(a,m),yr(I,a,m),_E;k.data==="$?"||l0(),o=Fy(a,o,u)}else k.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,kt=si(k.nextSibling),Qn=o,tt=!0,Vo=null,Oi=!1,a!==null&&(Mr[Lr++]=ha,Mr[Lr++]=fa,Mr[Lr++]=Mo,ha=a.id,fa=a.overflow,Mo=o),o=$y(o,m.children),o.flags|=4096);return o}return y?(gs(),y=m.fallback,k=o.mode,G=a.child,Z=G.sibling,m=da(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,Z!==null?y=da(Z,y):(y=ko(y,k,u,null),y.flags|=2),y.return=o,m.return=o,m.sibling=y,o.child=m,m=y,y=o.child,k=a.child.memoizedState,k===null?k=By(u):(G=k.cachePool,G!==null?(Z=ln._currentValue,G=G.parent!==Z?{parent:Z,pool:Z}:G):G=gS(),k={baseLanes:k.baseLanes|u,cachePool:G}),y.memoizedState=k,y.childLanes=qy(a,I,u),o.memoizedState=zy,m):(ps(o),u=a.child,a=u.sibling,u=da(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,a!==null&&(I=o.deletions,I===null?(o.deletions=[a],o.flags|=16):I.push(a)),o.child=u,o.memoizedState=null,u)}function $y(a,o){return o=fm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function fm(a,o){return a=fr(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Fy(a,o,u){return yc(o,a.child,null,u),a=$y(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function IE(a,o,u){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),ly(a.return,o,u)}function Hy(a,o,u,m,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=u,b.tailMode=y)}function RE(a,o,u){var m=o.pendingProps,y=m.revealOrder,b=m.tail;if(Nn(a,o,m.children,u),m=cn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&IE(a,u,o);else if(a.tag===19)IE(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(de(cn,m),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&cm(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Hy(o,!1,y,u,b);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&cm(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Hy(o,!0,u,null,b);break;case"together":Hy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ya(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),_s|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(nd(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=da(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=da(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Ky(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Gf(a)))}function VD(a,o,u){switch(o.tag){case 3:ct(o,o.stateNode.containerInfo),us(o,ln,a.memoizedState.cache),ed();break;case 27:case 5:ke(o);break;case 4:ct(o,o.stateNode.containerInfo);break;case 10:us(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ps(o),o.flags|=128,null):(u&o.child.childLanes)!==0?OE(a,o,u):(ps(o),a=ya(a,o,u),a!==null?a.sibling:null);ps(o);break;case 19:var y=(a.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(nd(a,o,u,!1),m=(u&o.childLanes)!==0),y){if(m)return RE(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),de(cn,cn.current),m)break;return null;case 22:case 23:return o.lanes=0,TE(a,o,u);case 24:us(o,ln,a.memoizedState.cache)}return ya(a,o,u)}function PE(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)vn=!0;else{if(!Ky(a,u)&&(o.flags&128)===0)return vn=!1,VD(a,o,u);vn=(a.flags&131072)!==0}else vn=!1,tt&&(o.flags&1048576)!==0&&cS(o,Kf,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var m=o.elementType,y=m._init;if(m=y(m._payload),o.type=m,typeof m=="function")ty(m)?(a=Fo(m,a),o.tag=1,o=NE(null,o,m,a,u)):(o.tag=0,o=Uy(null,o,m,a,u));else{if(m!=null){if(y=m.$$typeof,y===L){o.tag=11,o=wE(null,o,m,a,u);break e}else if(y===C){o.tag=14,o=SE(null,o,m,a,u);break e}}throw o=pe(m)||m,Error(r(306,o,""))}}return o;case 0:return Uy(a,o,o.type,o.pendingProps,u);case 1:return m=o.type,y=Fo(m,o.pendingProps),NE(a,o,m,y,u);case 3:e:{if(ct(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;y=b.element,py(a,o),cd(o,m,null,u);var I=o.memoizedState;if(m=I.cache,us(o,ln,m),m!==b.cache&&cy(o,[ln],u,!0),ld(),m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=CE(a,o,m,u);break e}else if(m!==y){y=Dr(Error(r(424)),o),td(y),o=CE(a,o,m,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(kt=si(a.firstChild),Qn=o,tt=!0,Vo=null,Oi=!0,u=dE(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ed(),m===y){o=ya(a,o,u);break e}Nn(a,o,m,u)}o=o.child}return o;case 26:return hm(a,o),a===null?(u=L4(o.type,null,o.pendingProps,null))?o.memoizedState=u:tt||(u=o.type,a=o.pendingProps,m=jm(Pe.current).createElement(u),m[an]=o,m[Gt]=a,On(m,u,a),Vt(m),o.stateNode=m):o.memoizedState=L4(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ke(o),a===null&&tt&&(m=o.stateNode=D4(o.type,o.pendingProps,Pe.current),Qn=o,Oi=!0,y=kt,Ts(o.type)?(A0=y,kt=si(m.firstChild)):kt=y),Nn(a,o,o.pendingProps.children,u),hm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&tt&&((y=m=kt)&&(m=hk(m,o.type,o.pendingProps,Oi),m!==null?(o.stateNode=m,Qn=o,kt=si(m.firstChild),Oi=!1,y=!0):y=!1),y||Uo(o)),ke(o),y=o.type,b=o.pendingProps,I=a!==null?a.memoizedProps:null,m=b.children,w0(y,b)?m=null:I!==null&&w0(y,I)&&(o.flags|=32),o.memoizedState!==null&&(y=_y(a,o,OD,null,null,u),Id._currentValue=y),hm(a,o),Nn(a,o,m,u),o.child;case 6:return a===null&&tt&&((a=u=kt)&&(u=fk(u,o.pendingProps,Oi),u!==null?(o.stateNode=u,Qn=o,kt=null,a=!0):a=!1),a||Uo(o)),null;case 13:return OE(a,o,u);case 4:return ct(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=yc(o,null,m,u):Nn(a,o,m,u),o.child;case 11:return wE(a,o,o.type,o.pendingProps,u);case 7:return Nn(a,o,o.pendingProps,u),o.child;case 8:return Nn(a,o,o.pendingProps.children,u),o.child;case 12:return Nn(a,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,us(o,o.type,m.value),Nn(a,o,m.children,u),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Bo(o),y=zn(y),m=m(y),o.flags|=1,Nn(a,o,m,u),o.child;case 14:return SE(a,o,o.type,o.pendingProps,u);case 15:return EE(a,o,o.type,o.pendingProps,u);case 19:return RE(a,o,u);case 31:return m=o.pendingProps,u=o.mode,m={mode:m.mode,children:m.children},a===null?(u=fm(m,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=da(a.child,m),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return TE(a,o,u);case 24:return Bo(o),m=zn(ln),a===null?(y=hy(),y===null&&(y=vt,b=uy(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:m,cache:y},my(o),us(o,ln,y)):((a.lanes&u)!==0&&(py(a,o),cd(o,null,null,u),ld()),y=a.memoizedState,b=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),us(o,ln,m)):(m=b.cache,us(o,ln,m),m!==y.cache&&cy(o,[ln],u,!0))),Nn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function xa(a){a.flags|=4}function DE(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!q4(o)){if(o=Vr.current,o!==null&&((Qe&4194048)===Qe?Ii!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||o!==Ii))throw sd=fy,vS;a.flags|=8192}}function mm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Pu():536870912,a.lanes|=o,wc|=o)}function gd(a,o){if(!tt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Nt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=u,o}function UD(a,o,u){var m=o.pendingProps;switch(ay(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(o),null;case 1:return Nt(o),null;case 3:return u=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),pa(ln),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ju(o)?xa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hS())),Nt(o),null;case 26:return u=o.memoizedState,a===null?(xa(o),u!==null?(Nt(o),DE(o,u)):(Nt(o),o.flags&=-16777217)):u?u!==a.memoizedState?(xa(o),Nt(o),DE(o,u)):(Nt(o),o.flags&=-16777217):(a.memoizedProps!==m&&xa(o),Nt(o),o.flags&=-16777217),null;case 27:Ve(o),u=Pe.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==m&&xa(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Nt(o),null}a=Se.current,Ju(o)?uS(o):(a=D4(y,m,u),o.stateNode=a,xa(o))}return Nt(o),null;case 5:if(Ve(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&xa(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Nt(o),null}if(a=Se.current,Ju(o))uS(o);else{switch(y=jm(Pe.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?y.createElement("select",{is:m.is}):y.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?y.createElement(u,{is:m.is}):y.createElement(u)}}a[an]=o,a[Gt]=m;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(On(a,u,m),u){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&xa(o)}}return Nt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&xa(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Pe.current,Ju(o)){if(a=o.stateNode,u=o.memoizedProps,m=null,y=Qn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[an]=o,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||j4(a.nodeValue,u)),a||Uo(o)}else a=jm(a).createTextNode(m),a[an]=o,o.stateNode=a}return Nt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Ju(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[an]=o}else ed(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Nt(o),y=!1}else y=hS(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(va(o),o):(va(o),null)}if(va(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=m!==null,a=a!==null&&a.memoizedState!==null,u){m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),mm(o,o.updateQueue),Nt(o),null;case 4:return ye(),a===null&&v0(o.stateNode.containerInfo),Nt(o),null;case 10:return pa(o.type),Nt(o),null;case 19:if(re(cn),y=o.memoizedState,y===null)return Nt(o),null;if(m=(o.flags&128)!==0,b=y.rendering,b===null)if(m)gd(y,!1);else{if(Mt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=cm(a),b!==null){for(o.flags|=128,gd(y,!1),a=b.updateQueue,o.updateQueue=a,mm(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)lS(u,a),u=u.sibling;return de(cn,cn.current&1|2),o.child}a=a.sibling}y.tail!==null&&Kt()>vm&&(o.flags|=128,m=!0,gd(y,!1),o.lanes=4194304)}else{if(!m)if(a=cm(b),a!==null){if(o.flags|=128,m=!0,a=a.updateQueue,o.updateQueue=a,mm(o,a),gd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!tt)return Nt(o),null}else 2*Kt()-y.renderingStartTime>vm&&u!==536870912&&(o.flags|=128,m=!0,gd(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(a=y.last,a!==null?a.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Kt(),o.sibling=null,a=cn.current,de(cn,m?a&1|2:a&1),o):(Nt(o),null);case 22:case 23:return va(o),xy(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Nt(o),o.subtreeFlags&6&&(o.flags|=8192)):Nt(o),u=o.updateQueue,u!==null&&mm(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),a!==null&&re(qo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),pa(ln),Nt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function zD(a,o){switch(ay(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return pa(ln),ye(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 13:if(va(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ed()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return re(cn),null;case 4:return ye(),null;case 10:return pa(o.type),null;case 22:case 23:return va(o),xy(),a!==null&&re(qo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return pa(ln),null;case 25:return null;default:return null}}function kE(a,o){switch(ay(o),o.tag){case 3:pa(ln),ye();break;case 26:case 27:case 5:Ve(o);break;case 4:ye();break;case 13:va(o);break;case 19:re(cn);break;case 10:pa(o.type);break;case 22:case 23:va(o),xy(),a!==null&&re(qo);break;case 24:pa(ln)}}function vd(a,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&a)===a){m=void 0;var b=u.create,I=u.inst;m=b(),I.destroy=m}u=u.next}while(u!==y)}}catch(k){pt(o,o.return,k)}}function vs(a,o,u){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&a)===a){var I=m.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,y=o;var G=u,Z=k;try{Z()}catch(ae){pt(y,G,ae)}}}m=m.next}while(m!==b)}}catch(ae){pt(o,o.return,ae)}}function ME(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{SS(o,u)}catch(m){pt(a,a.return,m)}}}function LE(a,o,u){u.props=Fo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){pt(a,o,m)}}function yd(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(y){pt(a,o,y)}}function Ri(a,o){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(y){pt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){pt(a,o,y)}else u.current=null}function VE(a){var o=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(y){pt(a,a.return,y)}}function Gy(a,o,u){try{var m=a.stateNode;ok(m,a.type,u,o),m[Gt]=o}catch(y){pt(a,a.return,y)}}function UE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ts(a.type)||a.tag===4}function Yy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||UE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ts(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wy(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Am));else if(m!==4&&(m===27&&Ts(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Wy(a,o,u),a=a.sibling;a!==null;)Wy(a,o,u),a=a.sibling}function pm(a,o,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(m!==4&&(m===27&&Ts(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(pm(a,o,u),a=a.sibling;a!==null;)pm(a,o,u),a=a.sibling}function zE(a){var o=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);On(o,m,u),o[an]=a,o[Gt]=u}catch(b){pt(a,a.return,b)}}var ba=!1,zt=!1,Xy=!1,BE=typeof WeakSet=="function"?WeakSet:Set,yn=null;function BD(a,o){if(a=a.containerInfo,b0=Pm,a=Zw(a),Yv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var I=0,k=-1,G=-1,Z=0,ae=0,ce=a,ee=null;t:for(;;){for(var te;ce!==u||y!==0&&ce.nodeType!==3||(k=I+y),ce!==b||m!==0&&ce.nodeType!==3||(G=I+m),ce.nodeType===3&&(I+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===a)break t;if(ee===u&&++Z===y&&(k=I),ee===b&&++ae===m&&(G=I),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}u=k===-1||G===-1?null:{start:k,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(_0={focusedElem:a,selectionRange:u},Pm=!1,yn=o;yn!==null;)if(o=yn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,yn=a;else for(;yn!==null;){switch(o=yn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var De=Fo(u.type,y,u.elementType===u.type);a=m.getSnapshotBeforeUpdate(De,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){pt(u,u.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)E0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":E0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,yn=a;break}yn=o.return}}function qE(a,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ys(a,u),m&4&&vd(5,u);break;case 1:if(ys(a,u),m&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(I){pt(u,u.return,I)}else{var y=Fo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(I){pt(u,u.return,I)}}m&64&&ME(u),m&512&&yd(u,u.return);break;case 3:if(ys(a,u),m&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{SS(a,o)}catch(I){pt(u,u.return,I)}}break;case 27:o===null&&m&4&&zE(u);case 26:case 5:ys(a,u),o===null&&m&4&&VE(u),m&512&&yd(u,u.return);break;case 12:ys(a,u);break;case 13:ys(a,u),m&4&&HE(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=XD.bind(null,u),mk(a,u))));break;case 22:if(m=u.memoizedState!==null||ba,!m){o=o!==null&&o.memoizedState!==null||zt,y=ba;var b=zt;ba=m,(zt=o)&&!b?xs(a,u,(u.subtreeFlags&8772)!==0):ys(a,u),ba=y,zt=b}break;case 30:break;default:ys(a,u)}}function $E(a){var o=a.alternate;o!==null&&(a.alternate=null,$E(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ss(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Et=null,tr=!1;function _a(a,o,u){for(u=u.child;u!==null;)FE(a,o,u),u=u.sibling}function FE(a,o,u){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Dt,u)}catch{}switch(u.tag){case 26:zt||Ri(u,o),_a(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zt||Ri(u,o);var m=Et,y=tr;Ts(u.type)&&(Et=u.stateNode,tr=!1),_a(a,o,u),jd(u.stateNode),Et=m,tr=y;break;case 5:zt||Ri(u,o);case 6:if(m=Et,y=tr,Et=null,_a(a,o,u),Et=m,tr=y,Et!==null)if(tr)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(u.stateNode)}catch(b){pt(u,o,b)}else try{Et.removeChild(u.stateNode)}catch(b){pt(u,o,b)}break;case 18:Et!==null&&(tr?(a=Et,R4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),kd(a)):R4(Et,u.stateNode));break;case 4:m=Et,y=tr,Et=u.stateNode.containerInfo,tr=!0,_a(a,o,u),Et=m,tr=y;break;case 0:case 11:case 14:case 15:zt||vs(2,u,o),zt||vs(4,u,o),_a(a,o,u);break;case 1:zt||(Ri(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&LE(u,o,m)),_a(a,o,u);break;case 21:_a(a,o,u);break;case 22:zt=(m=zt)||u.memoizedState!==null,_a(a,o,u),zt=m;break;default:_a(a,o,u)}}function HE(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{kd(a)}catch(u){pt(o,o.return,u)}}function qD(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new BE),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new BE),o;default:throw Error(r(435,a.tag))}}function Qy(a,o){var u=qD(a);o.forEach(function(m){var y=QD.bind(null,a,m);u.has(m)||(u.add(m),m.then(y,y))})}function mr(a,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m],b=a,I=o,k=I;e:for(;k!==null;){switch(k.tag){case 27:if(Ts(k.type)){Et=k.stateNode,tr=!1;break e}break;case 5:Et=k.stateNode,tr=!1;break e;case 3:case 4:Et=k.stateNode.containerInfo,tr=!0;break e}k=k.return}if(Et===null)throw Error(r(160));FE(b,I,y),Et=null,tr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)KE(o,a),o=o.sibling}var ai=null;function KE(a,o){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mr(o,a),pr(a),m&4&&(vs(3,a,a.return),vd(3,a),vs(5,a,a.return));break;case 1:mr(o,a),pr(a),m&512&&(zt||u===null||Ri(u,u.return)),m&64&&ba&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var y=ai;if(mr(o,a),pr(a),m&512&&(zt||u===null||Ri(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[xo]||b[an]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),On(b,m,u),b[an]=a,Vt(b),m=b;break e;case"link":var I=z4("link","href",y).get(m+(u.href||""));if(I){for(var k=0;k<I.length;k++)if(b=I[k],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(k,1);break t}}b=y.createElement(m),On(b,m,u),y.head.appendChild(b);break;case"meta":if(I=z4("meta","content",y).get(m+(u.content||""))){for(k=0;k<I.length;k++)if(b=I[k],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(k,1);break t}}b=y.createElement(m),On(b,m,u),y.head.appendChild(b);break;default:throw Error(r(468,m))}b[an]=a,Vt(b),m=b}a.stateNode=m}else B4(y,a.type,a.stateNode);else a.stateNode=U4(y,m,a.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?B4(y,a.type,a.stateNode):U4(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Gy(a,a.memoizedProps,u.memoizedProps)}break;case 27:mr(o,a),pr(a),m&512&&(zt||u===null||Ri(u,u.return)),u!==null&&m&4&&Gy(a,a.memoizedProps,u.memoizedProps);break;case 5:if(mr(o,a),pr(a),m&512&&(zt||u===null||Ri(u,u.return)),a.flags&32){y=a.stateNode;try{Or(y,"")}catch(te){pt(a,a.return,te)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Gy(a,y,u!==null?u.memoizedProps:y)),m&1024&&(Xy=!0);break;case 6:if(mr(o,a),pr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(te){pt(a,a.return,te)}}break;case 3:if(Om=null,y=ai,ai=Nm(o.containerInfo),mr(o,a),ai=y,pr(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{kd(o.containerInfo)}catch(te){pt(a,a.return,te)}Xy&&(Xy=!1,GE(a));break;case 4:m=ai,ai=Nm(a.stateNode.containerInfo),mr(o,a),pr(a),ai=m;break;case 12:mr(o,a),pr(a);break;case 13:mr(o,a),pr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(r0=Kt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qy(a,m)));break;case 22:y=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,Z=ba,ae=zt;if(ba=Z||y,zt=ae||G,mr(o,a),zt=ae,ba=Z,pr(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||G||ba||zt||Ho(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(b=G.stateNode,y)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{k=G.stateNode;var ce=G.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){pt(G,G.return,te)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(te){pt(G,G.return,te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qy(a,u))));break;case 19:mr(o,a),pr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Qy(a,m)));break;case 30:break;case 21:break;default:mr(o,a),pr(a)}}function pr(a){var o=a.flags;if(o&2){try{for(var u,m=a.return;m!==null;){if(UE(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=Yy(a);pm(a,b,y);break;case 5:var I=u.stateNode;u.flags&32&&(Or(I,""),u.flags&=-33);var k=Yy(a);pm(a,k,I);break;case 3:case 4:var G=u.stateNode.containerInfo,Z=Yy(a);Wy(a,Z,G);break;default:throw Error(r(161))}}catch(ae){pt(a,a.return,ae)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function GE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;GE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ys(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)qE(a,o.alternate,o),o=o.sibling}function Ho(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:vs(4,o,o.return),Ho(o);break;case 1:Ri(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&LE(o,o.return,u),Ho(o);break;case 27:jd(o.stateNode);case 26:case 5:Ri(o,o.return),Ho(o);break;case 22:o.memoizedState===null&&Ho(o);break;case 30:Ho(o);break;default:Ho(o)}a=a.sibling}}function xs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,b=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:xs(y,b,u),vd(4,b);break;case 1:if(xs(y,b,u),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){pt(m,m.return,Z)}if(m=b,y=m.updateQueue,y!==null){var k=m.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)wS(G[y],k)}catch(Z){pt(m,m.return,Z)}}u&&I&64&&ME(b),yd(b,b.return);break;case 27:zE(b);case 26:case 5:xs(y,b,u),u&&m===null&&I&4&&VE(b),yd(b,b.return);break;case 12:xs(y,b,u);break;case 13:xs(y,b,u),u&&I&4&&HE(y,b);break;case 22:b.memoizedState===null&&xs(y,b,u),yd(b,b.return);break;case 30:break;default:xs(y,b,u)}o=o.sibling}}function Zy(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&rd(u))}function Jy(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&rd(a))}function Pi(a,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)YE(a,o,u,m),o=o.sibling}function YE(a,o,u,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(a,o,u,m),y&2048&&vd(9,o);break;case 1:Pi(a,o,u,m);break;case 3:Pi(a,o,u,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&rd(a)));break;case 12:if(y&2048){Pi(a,o,u,m),a=o.stateNode;try{var b=o.memoizedProps,I=b.id,k=b.onPostCommit;typeof k=="function"&&k(I,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){pt(o,o.return,G)}}else Pi(a,o,u,m);break;case 13:Pi(a,o,u,m);break;case 23:break;case 22:b=o.stateNode,I=o.alternate,o.memoizedState!==null?b._visibility&2?Pi(a,o,u,m):xd(a,o):b._visibility&2?Pi(a,o,u,m):(b._visibility|=2,xc(a,o,u,m,(o.subtreeFlags&10256)!==0)),y&2048&&Zy(I,o);break;case 24:Pi(a,o,u,m),y&2048&&Jy(o.alternate,o);break;default:Pi(a,o,u,m)}}function xc(a,o,u,m,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,I=o,k=u,G=m,Z=I.flags;switch(I.tag){case 0:case 11:case 15:xc(b,I,k,G,y),vd(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&2?xc(b,I,k,G,y):xd(b,I):(ae._visibility|=2,xc(b,I,k,G,y)),y&&Z&2048&&Zy(I.alternate,I);break;case 24:xc(b,I,k,G,y),y&&Z&2048&&Jy(I.alternate,I);break;default:xc(b,I,k,G,y)}o=o.sibling}}function xd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,m=o,y=m.flags;switch(m.tag){case 22:xd(u,m),y&2048&&Zy(m.alternate,m);break;case 24:xd(u,m),y&2048&&Jy(m.alternate,m);break;default:xd(u,m)}o=o.sibling}}var bd=8192;function bc(a){if(a.subtreeFlags&bd)for(a=a.child;a!==null;)WE(a),a=a.sibling}function WE(a){switch(a.tag){case 26:bc(a),a.flags&bd&&a.memoizedState!==null&&jk(ai,a.memoizedState,a.memoizedProps);break;case 5:bc(a);break;case 3:case 4:var o=ai;ai=Nm(a.stateNode.containerInfo),bc(a),ai=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=bd,bd=16777216,bc(a),bd=o):bc(a));break;default:bc(a)}}function XE(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function _d(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];yn=m,ZE(m,a)}XE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)QE(a),a=a.sibling}function QE(a){switch(a.tag){case 0:case 11:case 15:_d(a),a.flags&2048&&vs(9,a,a.return);break;case 3:_d(a);break;case 12:_d(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,gm(a)):_d(a);break;default:_d(a)}}function gm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];yn=m,ZE(m,a)}XE(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:vs(8,o,o.return),gm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,gm(o));break;default:gm(o)}a=a.sibling}}function ZE(a,o){for(;yn!==null;){var u=yn;switch(u.tag){case 0:case 11:case 15:vs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:rd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,yn=m;else e:for(u=a;yn!==null;){m=yn;var y=m.sibling,b=m.return;if($E(m),m===u){yn=null;break e}if(y!==null){y.return=b,yn=y;break e}yn=b}}}var $D={getCacheForType:function(a){var o=zn(ln),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},FD=typeof WeakMap=="function"?WeakMap:Map,st=0,vt=null,Fe=null,Qe=0,ot=0,gr=null,bs=!1,_c=!1,e0=!1,wa=0,Mt=0,_s=0,Ko=0,t0=0,Ur=0,wc=0,wd=null,nr=null,n0=!1,r0=0,vm=1/0,ym=null,ws=null,Cn=0,Ss=null,Sc=null,Ec=0,i0=0,a0=null,JE=null,Sd=0,s0=null;function vr(){if((st&2)!==0&&Qe!==0)return Qe&-Qe;if(q.T!==null){var a=dc;return a!==0?a:f0()}return is()}function e4(){Ur===0&&(Ur=(Qe&536870912)===0||tt?Ru():536870912);var a=Vr.current;return a!==null&&(a.flags|=32),Ur}function yr(a,o,u){(a===vt&&(ot===2||ot===9)||a.cancelPendingCommit!==null)&&(Tc(a,0),Es(a,Qe,Ur,!1)),ea(a,u),((st&2)===0||a!==vt)&&(a===vt&&((st&2)===0&&(Ko|=u),Mt===4&&Es(a,Qe,Ur,!1)),Di(a))}function t4(a,o,u){if((st&6)!==0)throw Error(r(327));var m=!u&&(o&124)===0&&(o&a.expiredLanes)===0||yo(a,o),y=m?GD(a,o):c0(a,o,!0),b=m;do{if(y===0){_c&&!m&&Es(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!HD(u)){y=c0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var k=a;y=wd;var G=k.current.memoizedState.isDehydrated;if(G&&(Tc(k,I).flags|=256),I=c0(k,I,!1),I!==2){if(e0&&!G){k.errorRecoveryDisabledLanes|=b,Ko|=b,y=4;break e}b=nr,nr=y,b!==null&&(nr===null?nr=b:nr.push.apply(nr,b))}y=I}if(b=!1,y!==2)continue}}if(y===1){Tc(a,0),Es(a,o,0,!0);break}e:{switch(m=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Es(m,o,Ur,!bs);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=r0+300-Kt(),10<y)){if(Es(m,o,Ur,!bs),ql(m,0,!0)!==0)break e;m.timeoutHandle=O4(n4.bind(null,m,u,nr,ym,n0,o,Ur,Ko,wc,bs,b,2,-0,0),y);break e}n4(m,u,nr,ym,n0,o,Ur,Ko,wc,bs,b,0,-0,0)}}break}while(!0);Di(a)}function n4(a,o,u,m,y,b,I,k,G,Z,ae,ce,ee,te){if(a.timeoutHandle=-1,ce=o.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Od={stylesheets:null,count:0,unsuspend:Ak},WE(o),ce=Nk(),ce!==null)){a.cancelPendingCommit=ce(c4.bind(null,a,o,b,u,m,y,I,k,G,ae,1,ee,te)),Es(a,b,I,!Z);return}c4(a,o,b,u,m,y,I,k,G)}function HD(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var y=u[m],b=y.getSnapshot;y=y.value;try{if(!hr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Es(a,o,u,m){o&=~t0,o&=~Ko,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var b=31-Un(y),I=1<<b;m[b]=-1,y&=~I}u!==0&&xi(a,u,o)}function xm(){return(st&6)===0?(Ed(0),!1):!0}function o0(){if(Fe!==null){if(ot===0)var a=Fe.return;else a=Fe,ma=zo=null,Ey(a),vc=null,md=0,a=Fe;for(;a!==null;)kE(a.alternate,a),a=a.return;Fe=null}}function Tc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,ck(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),o0(),vt=a,Fe=u=da(a.current,null),Qe=o,ot=0,gr=null,bs=!1,_c=yo(a,o),e0=!1,wc=Ur=t0=Ko=_s=Mt=0,nr=wd=null,n0=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-Un(m),b=1<<y;o|=a[y],m&=~b}return wa=o,Bf(),u}function r4(a,o){ze=null,q.H=sm,o===ad||o===Xf?(o=bS(),ot=3):o===vS?(o=bS(),ot=4):ot=o===_E?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gr=o,Fe===null&&(Mt=1,dm(a,Dr(o,a.current)))}function i4(){var a=q.H;return q.H=sm,a===null?sm:a}function a4(){var a=q.A;return q.A=$D,a}function l0(){Mt=4,bs||(Qe&4194048)!==Qe&&Vr.current!==null||(_c=!0),(_s&134217727)===0&&(Ko&134217727)===0||vt===null||Es(vt,Qe,Ur,!1)}function c0(a,o,u){var m=st;st|=2;var y=i4(),b=a4();(vt!==a||Qe!==o)&&(ym=null,Tc(a,o)),o=!1;var I=Mt;e:do try{if(ot!==0&&Fe!==null){var k=Fe,G=gr;switch(ot){case 8:o0(),I=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(o=!0);var Z=ot;if(ot=0,gr=null,Ac(a,k,G,Z),u&&_c){I=0;break e}break;default:Z=ot,ot=0,gr=null,Ac(a,k,G,Z)}}KD(),I=Mt;break}catch(ae){r4(a,ae)}while(!0);return o&&a.shellSuspendCounter++,ma=zo=null,st=m,q.H=y,q.A=b,Fe===null&&(vt=null,Qe=0,Bf()),I}function KD(){for(;Fe!==null;)s4(Fe)}function GD(a,o){var u=st;st|=2;var m=i4(),y=a4();vt!==a||Qe!==o?(ym=null,vm=Kt()+500,Tc(a,o)):_c=yo(a,o);e:do try{if(ot!==0&&Fe!==null){o=Fe;var b=gr;t:switch(ot){case 1:ot=0,gr=null,Ac(a,o,b,1);break;case 2:case 9:if(yS(b)){ot=0,gr=null,o4(o);break}o=function(){ot!==2&&ot!==9||vt!==a||(ot=7),Di(a)},b.then(o,o);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:yS(b)?(ot=0,gr=null,o4(o)):(ot=0,gr=null,Ac(a,o,b,7));break;case 5:var I=null;switch(Fe.tag){case 26:I=Fe.memoizedState;case 5:case 27:var k=Fe;if(!I||q4(I)){ot=0,gr=null;var G=k.sibling;if(G!==null)Fe=G;else{var Z=k.return;Z!==null?(Fe=Z,bm(Z)):Fe=null}break t}}ot=0,gr=null,Ac(a,o,b,5);break;case 6:ot=0,gr=null,Ac(a,o,b,6);break;case 8:o0(),Mt=6;break e;default:throw Error(r(462))}}YD();break}catch(ae){r4(a,ae)}while(!0);return ma=zo=null,q.H=m,q.A=y,st=u,Fe!==null?0:(vt=null,Qe=0,Bf(),Mt)}function YD(){for(;Fe!==null&&!rn();)s4(Fe)}function s4(a){var o=PE(a.alternate,a,wa);a.memoizedProps=a.pendingProps,o===null?bm(a):Fe=o}function o4(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=jE(u,o,o.pendingProps,o.type,void 0,Qe);break;case 11:o=jE(u,o,o.pendingProps,o.type.render,o.ref,Qe);break;case 5:Ey(o);default:kE(u,o),o=Fe=lS(o,wa),o=PE(u,o,wa)}a.memoizedProps=a.pendingProps,o===null?bm(a):Fe=o}function Ac(a,o,u,m){ma=zo=null,Ey(o),vc=null,md=0;var y=o.return;try{if(LD(a,y,o,u,Qe)){Mt=1,dm(a,Dr(u,a.current)),Fe=null;return}}catch(b){if(y!==null)throw Fe=y,b;Mt=1,dm(a,Dr(u,a.current)),Fe=null;return}o.flags&32768?(tt||m===1?a=!0:_c||(Qe&536870912)!==0?a=!1:(bs=a=!0,(m===2||m===9||m===3||m===6)&&(m=Vr.current,m!==null&&m.tag===13&&(m.flags|=16384))),l4(o,a)):bm(o)}function bm(a){var o=a;do{if((o.flags&32768)!==0){l4(o,bs);return}a=o.return;var u=UD(o.alternate,o,wa);if(u!==null){Fe=u;return}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=a}while(o!==null);Mt===0&&(Mt=5)}function l4(a,o){do{var u=zD(a.alternate,a);if(u!==null){u.flags&=32767,Fe=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Fe=a;return}Fe=a=u}while(a!==null);Mt=6,Fe=null}function c4(a,o,u,m,y,b,I,k,G){a.cancelPendingCommit=null;do _m();while(Cn!==0);if((st&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Jv,Du(a,u,b,I,k,G),a===vt&&(Fe=vt=null,Qe=0),Sc=o,Ss=a,Ec=u,i0=b,a0=y,JE=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ZD(mo,function(){return m4(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=q.T,q.T=null,y=z.p,z.p=2,I=st,st|=4;try{BD(a,o,u)}finally{st=I,z.p=y,q.T=m}}Cn=1,u4(),d4(),h4()}}function u4(){if(Cn===1){Cn=0;var a=Ss,o=Sc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var m=z.p;z.p=2;var y=st;st|=4;try{KE(o,a);var b=_0,I=Zw(a.containerInfo),k=b.focusedElem,G=b.selectionRange;if(I!==k&&k&&k.ownerDocument&&Qw(k.ownerDocument.documentElement,k)){if(G!==null&&Yv(k)){var Z=G.start,ae=G.end;if(ae===void 0&&(ae=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ae,k.value.length);else{var ce=k.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),De=k.textContent.length,Ne=Math.min(G.start,De),ft=G.end===void 0?Ne:Math.min(G.end,De);!te.extend&&Ne>ft&&(I=ft,ft=Ne,Ne=I);var W=Xw(k,Ne),Y=Xw(k,ft);if(W&&Y&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var Q=ce.createRange();Q.setStart(W.node,W.offset),te.removeAllRanges(),Ne>ft?(te.addRange(Q),te.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),te.addRange(Q))}}}}for(ce=[],te=k;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var oe=ce[k];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Pm=!!b0,_0=b0=null}finally{st=y,z.p=m,q.T=u}}a.current=o,Cn=2}}function d4(){if(Cn===2){Cn=0;var a=Ss,o=Sc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var m=z.p;z.p=2;var y=st;st|=4;try{qE(a,o.alternate,o)}finally{st=y,z.p=m,q.T=u}}Cn=3}}function h4(){if(Cn===4||Cn===3){Cn=0,mn();var a=Ss,o=Sc,u=Ec,m=JE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cn=5:(Cn=0,Sc=Ss=null,f4(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ws=null),$l(u),o=o.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Dt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=q.T,y=z.p,z.p=2,q.T=null;try{for(var b=a.onRecoverableError,I=0;I<m.length;I++){var k=m[I];b(k.value,{componentStack:k.stack})}}finally{q.T=o,z.p=y}}(Ec&3)!==0&&_m(),Di(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===s0?Sd++:(Sd=0,s0=a):Sd=0,Ed(0)}}function f4(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,rd(o)))}function _m(a){return u4(),d4(),h4(),m4()}function m4(){if(Cn!==5)return!1;var a=Ss,o=i0;i0=0;var u=$l(Ec),m=q.T,y=z.p;try{z.p=32>u?32:u,q.T=null,u=a0,a0=null;var b=Ss,I=Ec;if(Cn=0,Sc=Ss=null,Ec=0,(st&6)!==0)throw Error(r(331));var k=st;if(st|=4,QE(b.current),YE(b,b.current,I,u),st=k,Ed(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Dt,b)}catch{}return!0}finally{z.p=y,q.T=m,f4(a,o)}}function p4(a,o,u){o=Dr(u,o),o=Vy(a.stateNode,o,2),a=fs(a,o,2),a!==null&&(ea(a,2),Di(a))}function pt(a,o,u){if(a.tag===3)p4(a,a,u);else for(;o!==null;){if(o.tag===3){p4(o,a,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ws===null||!ws.has(m))){a=Dr(u,a),u=xE(2),m=fs(o,u,2),m!==null&&(bE(u,m,o,a),ea(m,2),Di(m));break}}o=o.return}}function u0(a,o,u){var m=a.pingCache;if(m===null){m=a.pingCache=new FD;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(e0=!0,y.add(u),a=WD.bind(null,a,o,u),o.then(a,a))}function WD(a,o,u){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,vt===a&&(Qe&u)===u&&(Mt===4||Mt===3&&(Qe&62914560)===Qe&&300>Kt()-r0?(st&2)===0&&Tc(a,0):t0|=u,wc===Qe&&(wc=0)),Di(a)}function g4(a,o){o===0&&(o=Pu()),a=oc(a,o),a!==null&&(ea(a,o),Di(a))}function XD(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),g4(a,u)}function QD(a,o){var u=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),g4(a,u)}function ZD(a,o){return Pt(a,o)}var wm=null,jc=null,d0=!1,Sm=!1,h0=!1,Go=0;function Di(a){a!==jc&&a.next===null&&(jc===null?wm=jc=a:jc=jc.next=a),Sm=!0,d0||(d0=!0,ek())}function Ed(a,o){if(!h0&&Sm){h0=!0;do for(var u=!1,m=wm;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var I=m.suspendedLanes,k=m.pingedLanes;b=(1<<31-Un(42|a)+1)-1,b&=y&~(I&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,b4(m,b))}else b=Qe,b=ql(m,m===vt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||yo(m,b)||(u=!0,b4(m,b));m=m.next}while(u);h0=!1}}function JD(){v4()}function v4(){Sm=d0=!1;var a=0;Go!==0&&(lk()&&(a=Go),Go=0);for(var o=Kt(),u=null,m=wm;m!==null;){var y=m.next,b=y4(m,o);b===0?(m.next=null,u===null?wm=y:u.next=y,y===null&&(jc=u)):(u=m,(a!==0||(b&3)!==0)&&(Sm=!0)),m=y}Ed(a)}function y4(a,o){for(var u=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var I=31-Un(b),k=1<<I,G=y[I];G===-1?((k&u)===0||(k&m)!==0)&&(y[I]=Iu(k,o)):G<=o&&(a.expiredLanes|=k),b&=~k}if(o=vt,u=Qe,u=ql(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===o&&(ot===2||ot===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ye(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||yo(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(m!==null&&Ye(m),$l(u)){case 2:case 8:u=zl;break;case 32:u=mo;break;case 268435456:u=Bl;break;default:u=mo}return m=x4.bind(null,a),u=Pt(u,m),a.callbackPriority=o,a.callbackNode=u,o}return m!==null&&m!==null&&Ye(m),a.callbackPriority=2,a.callbackNode=null,2}function x4(a,o){if(Cn!==0&&Cn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(_m()&&a.callbackNode!==u)return null;var m=Qe;return m=ql(a,a===vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(t4(a,m,o),y4(a,Kt()),a.callbackNode!=null&&a.callbackNode===u?x4.bind(null,a):null)}function b4(a,o){if(_m())return null;t4(a,o,!0)}function ek(){uk(function(){(st&6)!==0?Pt(Cu,JD):v4()})}function f0(){return Go===0&&(Go=Ru()),Go}function _4(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Wl(""+a)}function w4(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function tk(a,o,u,m,y){if(o==="submit"&&u&&u.stateNode===y){var b=_4((y[Gt]||null).action),I=m.submitter;I&&(o=(o=I[Gt]||null)?_4(o.formAction):I.getAttribute("formAction"),o!==null&&(b=o,I=null));var k=new Xl("action","action",null,m,y);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Go!==0){var G=I?w4(y,I):new FormData(y);Py(u,{pending:!0,data:G,method:y.method,action:b},null,G)}}else typeof b=="function"&&(k.preventDefault(),G=I?w4(y,I):new FormData(y),Py(u,{pending:!0,data:G,method:y.method,action:b},b,G))},currentTarget:y}]})}}for(var m0=0;m0<Zv.length;m0++){var p0=Zv[m0],nk=p0.toLowerCase(),rk=p0[0].toUpperCase()+p0.slice(1);ii(nk,"on"+rk)}ii(tS,"onAnimationEnd"),ii(nS,"onAnimationIteration"),ii(rS,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(bD,"onTransitionRun"),ii(_D,"onTransitionStart"),ii(wD,"onTransitionCancel"),ii(iS,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ik=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function S4(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],y=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var I=m.length-1;0<=I;I--){var k=m[I],G=k.instance,Z=k.currentTarget;if(k=k.listener,G!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=Z;try{b(y)}catch(ae){um(ae)}y.currentTarget=null,b=G}else for(I=0;I<m.length;I++){if(k=m[I],G=k.instance,Z=k.currentTarget,k=k.listener,G!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=Z;try{b(y)}catch(ae){um(ae)}y.currentTarget=null,b=G}}}}function He(a,o){var u=o[Mu];u===void 0&&(u=o[Mu]=new Set);var m=a+"__bubble";u.has(m)||(E4(o,a,2,!1),u.add(m))}function g0(a,o,u){var m=0;o&&(m|=4),E4(u,a,m,o)}var Em="_reactListening"+Math.random().toString(36).slice(2);function v0(a){if(!a[Em]){a[Em]=!0,Lu.forEach(function(u){u!=="selectionchange"&&(ik.has(u)||g0(u,!1,a),g0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Em]||(o[Em]=!0,g0("selectionchange",!1,o))}}function E4(a,o,u,m){switch(Y4(o)){case 2:var y=Ik;break;case 8:y=Rk;break;default:y=I0}u=y.bind(null,o,u,a),y=void 0,!Rr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function y0(a,o,u,m,y){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var k=m.stateNode.containerInfo;if(k===y)break;if(I===4)for(I=m.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===y)return;I=I.return}for(;k!==null;){if(I=ta(k),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){m=b=I;continue e}k=k.parentNode}}m=m.return}Af(function(){var Z=b,ae=Ir(u),ce=[];e:{var ee=aS.get(a);if(ee!==void 0){var te=Xl,De=a;switch(a){case"keypress":if(Ti(u)===0)break e;case"keydown":case"keyup":te=nc;break;case"focusin":De="focus",te=Jl;break;case"focusout":De="blur",te=Jl;break;case"beforeblur":case"afterblur":te=Jl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Df;break;case tS:case nS:case rS:te=ec;break;case iS:te=Mf;break;case"scroll":case"scrollend":te=jf;break;case"wheel":te=rc;break;case"copy":case"cut":case"paste":te=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Wu;break;case"toggle":case"beforetoggle":te=Vf}var Ne=(o&4)!==0,ft=!Ne&&(a==="scroll"||a==="scrollend"),W=Ne?ee!==null?ee+"Capture":null:ee;Ne=[];for(var Y=Z,Q;Y!==null;){var oe=Y;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||W===null||(oe=Ao(Y,W),oe!=null&&Ne.push(Ad(Y,oe,Q))),ft)break;Y=Y.return}0<Ne.length&&(ee=new te(ee,De,null,u,ae),ce.push({event:ee,listeners:Ne}))}}if((o&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&u!==aa&&(De=u.relatedTarget||u.fromElement)&&(ta(De)||De[Cr]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(De=u.relatedTarget||u.toElement,te=Z,De=De?ta(De):null,De!==null&&(ft=s(De),Ne=De.tag,De!==ft||Ne!==5&&Ne!==27&&Ne!==6)&&(De=null)):(te=null,De=Z),te!==De)){if(Ne=Pr,oe="onMouseLeave",W="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Wu,oe="onPointerLeave",W="onPointerEnter",Y="pointer"),ft=te==null?ee:_i(te),Q=De==null?ee:_i(De),ee=new Ne(oe,Y+"leave",te,u,ae),ee.target=ft,ee.relatedTarget=Q,oe=null,ta(ae)===Z&&(Ne=new Ne(W,Y+"enter",De,u,ae),Ne.target=Q,Ne.relatedTarget=ft,oe=Ne),ft=oe,te&&De)t:{for(Ne=te,W=De,Y=0,Q=Ne;Q;Q=Nc(Q))Y++;for(Q=0,oe=W;oe;oe=Nc(oe))Q++;for(;0<Y-Q;)Ne=Nc(Ne),Y--;for(;0<Q-Y;)W=Nc(W),Q--;for(;Y--;){if(Ne===W||W!==null&&Ne===W.alternate)break t;Ne=Nc(Ne),W=Nc(W)}Ne=null}else Ne=null;te!==null&&T4(ce,ee,te,Ne,!1),De!==null&&ft!==null&&T4(ce,ft,De,Ne,!0)}}e:{if(ee=Z?_i(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var we=Fw;else if(on(ee))if(Hw)we=vD;else{we=pD;var $e=mD}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&qu(Z.elementType)&&(we=Fw):we=gD;if(we&&(we=we(a,Z))){ua(ce,we,u,ae);break e}$e&&$e(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ls(ee,"number",ee.value)}switch($e=Z?_i(Z):window,a){case"focusin":(on($e)||$e.contentEditable==="true")&&(ic=$e,Wv=Z,Zu=null);break;case"focusout":Zu=Wv=ic=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,Jw(ce,u,ae);break;case"selectionchange":if(xD)break;case"keydown":case"keyup":Jw(ce,u,ae)}var Ee;if(Ni)e:{switch(a){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else We?ne(a,u)&&(Ce="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(N&&u.locale!=="ko"&&(We||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&We&&(Ee=Fu()):(Ei=ae,cs="value"in Ei?Ei.value:Ei.textContent,We=!0)),$e=Tm(Z,Ce),0<$e.length&&(Ce=new Gu(Ce,a,null,u,ae),ce.push({event:Ce,listeners:$e}),Ee?Ce.data=Ee:(Ee=me(u),Ee!==null&&(Ce.data=Ee)))),(Ee=T?sn(a,u):Xe(a,u))&&(Ce=Tm(Z,"onBeforeInput"),0<Ce.length&&($e=new Gu("onBeforeInput","beforeinput",null,u,ae),ce.push({event:$e,listeners:Ce}),$e.data=Ee)),tk(ce,a,Z,u,ae)}S4(ce,o)})}function Ad(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Tm(a,o){for(var u=o+"Capture",m=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Ao(a,u),y!=null&&m.unshift(Ad(a,y,b)),y=Ao(a,o),y!=null&&m.push(Ad(a,y,b))),a.tag===3)return m;a=a.return}return[]}function Nc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function T4(a,o,u,m,y){for(var b=o._reactName,I=[];u!==null&&u!==m;){var k=u,G=k.alternate,Z=k.stateNode;if(k=k.tag,G!==null&&G===m)break;k!==5&&k!==26&&k!==27||Z===null||(G=Z,y?(Z=Ao(u,b),Z!=null&&I.unshift(Ad(u,Z,G))):y||(Z=Ao(u,b),Z!=null&&I.push(Ad(u,Z,G)))),u=u.return}I.length!==0&&a.push({event:o,listeners:I})}var ak=/\r\n?/g,sk=/\u0000|\uFFFD/g;function A4(a){return(typeof a=="string"?a:""+a).replace(ak,`
`).replace(sk,"")}function j4(a,o){return o=A4(o),A4(a)===o}function Am(){}function ht(a,o,u,m,y,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Or(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Or(a,""+m);break;case"className":wi(a,"class",m);break;case"tabIndex":wi(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(a,u,m);break;case"style":Bu(a,m,b);break;case"data":if(o!=="object"){wi(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Wl(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&ht(a,o,"name",y.name,y,null),ht(a,o,"formEncType",y.formEncType,y,null),ht(a,o,"formMethod",y.formMethod,y,null),ht(a,o,"formTarget",y.formTarget,y,null)):(ht(a,o,"encType",y.encType,y,null),ht(a,o,"method",y.method,y,null),ht(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=Wl(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=Am);break;case"onScroll":m!=null&&He("scroll",a);break;case"onScrollEnd":m!=null&&He("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=Wl(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":He("beforetoggle",a),He("toggle",a),os(a,"popover",m);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":os(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=qv.get(u)||u,os(a,u,m))}}function x0(a,o,u,m,y,b){switch(u){case"style":Bu(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?Or(a,m):(typeof m=="number"||typeof m=="bigint")&&Or(a,""+m);break;case"onScroll":m!=null&&He("scroll",a);break;case"onScrollEnd":m!=null&&He("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Am);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[Gt]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,m,y);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):os(a,u,m)}}}function On(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",a),He("load",a);var m=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var I=u[b];if(I!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(a,o,b,I,u,null)}}y&&ht(a,o,"srcSet",u.srcSet,u,null),m&&ht(a,o,"src",u.src,u,null);return;case"input":He("invalid",a);var k=b=I=y=null,G=null,Z=null;for(m in u)if(u.hasOwnProperty(m)){var ae=u[m];if(ae!=null)switch(m){case"name":y=ae;break;case"type":I=ae;break;case"checked":G=ae;break;case"defaultChecked":Z=ae;break;case"value":b=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ht(a,o,m,ae,u,null)}}So(a,b,k,G,Z,I,y,!1),Yl(a);return;case"select":He("invalid",a),m=I=b=null;for(y in u)if(u.hasOwnProperty(y)&&(k=u[y],k!=null))switch(y){case"value":b=k;break;case"defaultValue":I=k;break;case"multiple":m=k;default:ht(a,o,y,k,u,null)}o=b,u=I,a.multiple=!!m,o!=null?ia(a,!!m,o,!1):u!=null&&ia(a,!!m,u,!0);return;case"textarea":He("invalid",a),b=y=m=null;for(I in u)if(u.hasOwnProperty(I)&&(k=u[I],k!=null))switch(I){case"value":m=k;break;case"defaultValue":y=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ht(a,o,I,k,u,null)}Eo(a,m,y,b),Yl(a);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ht(a,o,G,m,u,null)}return;case"dialog":He("beforetoggle",a),He("toggle",a),He("cancel",a),He("close",a);break;case"iframe":case"object":He("load",a);break;case"video":case"audio":for(m=0;m<Td.length;m++)He(Td[m],a);break;case"image":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"embed":case"source":case"link":He("error",a),He("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(m=u[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(a,o,Z,m,u,null)}return;default:if(qu(o)){for(ae in u)u.hasOwnProperty(ae)&&(m=u[ae],m!==void 0&&x0(a,o,ae,m,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(m=u[k],m!=null&&ht(a,o,k,m,u,null))}function ok(a,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,I=null,k=null,G=null,Z=null,ae=null;for(te in u){var ce=u[te];if(u.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":G=ce;default:m.hasOwnProperty(te)||ht(a,o,te,null,m,ce)}}for(var ee in m){var te=m[ee];if(ce=u[ee],m.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":b=te;break;case"name":y=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":I=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:te!==ce&&ht(a,o,ee,te,m,ce)}}dr(a,I,k,G,Z,ae,b,y);return;case"select":te=I=k=ee=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":te=G;default:m.hasOwnProperty(b)||ht(a,o,b,null,m,G)}for(y in m)if(b=m[y],G=u[y],m.hasOwnProperty(y)&&(b!=null||G!=null))switch(y){case"value":ee=b;break;case"defaultValue":k=b;break;case"multiple":I=b;default:b!==G&&ht(a,o,y,b,m,G)}o=k,u=I,m=te,ee!=null?ia(a,!!u,ee,!1):!!m!=!!u&&(o!=null?ia(a,!!u,o,!0):ia(a,!!u,u?[]:"",!1));return;case"textarea":te=ee=null;for(k in u)if(y=u[k],u.hasOwnProperty(k)&&y!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ht(a,o,k,null,m,y)}for(I in m)if(y=m[I],b=u[I],m.hasOwnProperty(I)&&(y!=null||b!=null))switch(I){case"value":ee=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&ht(a,o,I,y,m,b)}ut(a,ee,te);return;case"option":for(var De in u)if(ee=u[De],u.hasOwnProperty(De)&&ee!=null&&!m.hasOwnProperty(De))switch(De){case"selected":a.selected=!1;break;default:ht(a,o,De,null,m,ee)}for(G in m)if(ee=m[G],te=u[G],m.hasOwnProperty(G)&&ee!==te&&(ee!=null||te!=null))switch(G){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ht(a,o,G,ee,m,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)ee=u[Ne],u.hasOwnProperty(Ne)&&ee!=null&&!m.hasOwnProperty(Ne)&&ht(a,o,Ne,null,m,ee);for(Z in m)if(ee=m[Z],te=u[Z],m.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ht(a,o,Z,ee,m,te)}return;default:if(qu(o)){for(var ft in u)ee=u[ft],u.hasOwnProperty(ft)&&ee!==void 0&&!m.hasOwnProperty(ft)&&x0(a,o,ft,void 0,m,ee);for(ae in m)ee=m[ae],te=u[ae],!m.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||x0(a,o,ae,ee,m,te);return}}for(var W in u)ee=u[W],u.hasOwnProperty(W)&&ee!=null&&!m.hasOwnProperty(W)&&ht(a,o,W,null,m,ee);for(ce in m)ee=m[ce],te=u[ce],!m.hasOwnProperty(ce)||ee===te||ee==null&&te==null||ht(a,o,ce,ee,m,te)}var b0=null,_0=null;function jm(a){return a.nodeType===9?a:a.ownerDocument}function N4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C4(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function w0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var S0=null;function lk(){var a=window.event;return a&&a.type==="popstate"?a===S0?!1:(S0=a,!0):(S0=null,!1)}var O4=typeof setTimeout=="function"?setTimeout:void 0,ck=typeof clearTimeout=="function"?clearTimeout:void 0,I4=typeof Promise=="function"?Promise:void 0,uk=typeof queueMicrotask=="function"?queueMicrotask:typeof I4<"u"?function(a){return I4.resolve(null).then(a).catch(dk)}:O4;function dk(a){setTimeout(function(){throw a})}function Ts(a){return a==="head"}function R4(a,o){var u=o,m=0,y=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<m&&8>m){u=m;var I=a.ownerDocument;if(u&1&&jd(I.documentElement),u&2&&jd(I.body),u&4)for(u=I.head,jd(u),I=u.firstChild;I;){var k=I.nextSibling,G=I.nodeName;I[xo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&I.rel.toLowerCase()==="stylesheet"||u.removeChild(I),I=k}}if(y===0){a.removeChild(b),kd(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:m=u.charCodeAt(0)-48;else m=0;u=b}while(u);kd(o)}function E0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":E0(u),ss(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function hk(a,o,u,m){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[xo])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=si(a.nextSibling),a===null)break}return null}function fk(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=si(a.nextSibling),a===null))return null;return a}function T0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function mk(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function si(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var A0=null;function P4(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function D4(a,o,u){switch(o=jm(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function jd(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ss(a)}var zr=new Map,k4=new Set;function Nm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Sa=z.d;z.d={f:pk,r:gk,D:vk,C:yk,L:xk,m:bk,X:wk,S:_k,M:Sk};function pk(){var a=Sa.f(),o=xm();return a||o}function gk(a){var o=bi(a);o!==null&&o.tag===5&&o.type==="form"?tE(o):Sa.r(a)}var Cc=typeof document>"u"?null:document;function M4(a,o,u){var m=Cc;if(m&&typeof o=="string"&&o){var y=Yt(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),k4.has(y)||(k4.add(y),a={rel:a,crossOrigin:u,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),On(o,"link",a),Vt(o),m.head.appendChild(o)))}}function vk(a){Sa.D(a),M4("dns-prefetch",a,null)}function yk(a,o){Sa.C(a,o),M4("preconnect",a,o)}function xk(a,o,u){Sa.L(a,o,u);var m=Cc;if(m&&a&&o){var y='link[rel="preload"][as="'+Yt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Yt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Yt(u.imageSizes)+'"]')):y+='[href="'+Yt(a)+'"]';var b=y;switch(o){case"style":b=Oc(a);break;case"script":b=Ic(a)}zr.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),zr.set(b,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Nd(b))||o==="script"&&m.querySelector(Cd(b))||(o=m.createElement("link"),On(o,"link",a),Vt(o),m.head.appendChild(o)))}}function bk(a,o){Sa.m(a,o);var u=Cc;if(u&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Yt(m)+'"][href="'+Yt(a)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ic(a)}if(!zr.has(b)&&(a=p({rel:"modulepreload",href:a},o),zr.set(b,a),u.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Cd(b)))return}m=u.createElement("link"),On(m,"link",a),Vt(m),u.head.appendChild(m)}}}function _k(a,o,u){Sa.S(a,o,u);var m=Cc;if(m&&a){var y=Yn(m).hoistableStyles,b=Oc(a);o=o||"default";var I=y.get(b);if(!I){var k={loading:0,preload:null};if(I=m.querySelector(Nd(b)))k.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=zr.get(b))&&j0(a,u);var G=I=m.createElement("link");Vt(G),On(G,"link",a),G._p=new Promise(function(Z,ae){G.onload=Z,G.onerror=ae}),G.addEventListener("load",function(){k.loading|=1}),G.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cm(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:k},y.set(b,I)}}}function wk(a,o){Sa.X(a,o);var u=Cc;if(u&&a){var m=Yn(u).hoistableScripts,y=Ic(a),b=m.get(y);b||(b=u.querySelector(Cd(y)),b||(a=p({src:a,async:!0},o),(o=zr.get(y))&&N0(a,o),b=u.createElement("script"),Vt(b),On(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function Sk(a,o){Sa.M(a,o);var u=Cc;if(u&&a){var m=Yn(u).hoistableScripts,y=Ic(a),b=m.get(y);b||(b=u.querySelector(Cd(y)),b||(a=p({src:a,async:!0,type:"module"},o),(o=zr.get(y))&&N0(a,o),b=u.createElement("script"),Vt(b),On(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function L4(a,o,u,m){var y=(y=Pe.current)?Nm(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Oc(u.href),u=Yn(y).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Oc(u.href);var b=Yn(y).hoistableStyles,I=b.get(a);if(I||(y=y.ownerDocument||y,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,I),(b=y.querySelector(Nd(a)))&&!b._p&&(I.instance=b,I.state.loading=5),zr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},zr.set(a,u),b||Ek(y,a,u,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ic(u),u=Yn(y).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Oc(a){return'href="'+Yt(a)+'"'}function Nd(a){return'link[rel="stylesheet"]['+a+"]"}function V4(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Ek(a,o,u,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),On(o,"link",u),Vt(o),a.head.appendChild(o))}function Ic(a){return'[src="'+Yt(a)+'"]'}function Cd(a){return"script[async]"+a}function U4(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Yt(u.href)+'"]');if(m)return o.instance=m,Vt(m),m;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Vt(m),On(m,"style",y),Cm(m,u.precedence,a),o.instance=m;case"stylesheet":y=Oc(u.href);var b=a.querySelector(Nd(y));if(b)return o.state.loading|=4,o.instance=b,Vt(b),b;m=V4(u),(y=zr.get(y))&&j0(m,y),b=(a.ownerDocument||a).createElement("link"),Vt(b);var I=b;return I._p=new Promise(function(k,G){I.onload=k,I.onerror=G}),On(b,"link",m),o.state.loading|=4,Cm(b,u.precedence,a),o.instance=b;case"script":return b=Ic(u.src),(y=a.querySelector(Cd(b)))?(o.instance=y,Vt(y),y):(m=u,(y=zr.get(b))&&(m=p({},u),N0(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Vt(y),On(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Cm(m,u.precedence,a));return o.instance}function Cm(a,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,I=0;I<m.length;I++){var k=m[I];if(k.dataset.precedence===o)b=k;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function j0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function N0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Om=null;function z4(a,o,u){if(Om===null){var m=new Map,y=Om=new Map;y.set(u,m)}else y=Om,m=y.get(u),m||(m=new Map,y.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[xo]||b[an]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(o)||"";I=a+I;var k=m.get(I);k?k.push(b):m.set(I,[b])}}return m}function B4(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Tk(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function q4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Od=null;function Ak(){}function jk(a,o,u){if(Od===null)throw Error(r(475));var m=Od;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Oc(u.href),b=a.querySelector(Nd(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Im.bind(m),a.then(m,m)),o.state.loading|=4,o.instance=b,Vt(b);return}b=a.ownerDocument||a,u=V4(u),(y=zr.get(y))&&j0(u,y),b=b.createElement("link"),Vt(b);var I=b;I._p=new Promise(function(k,G){I.onload=k,I.onerror=G}),On(b,"link",u),o.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=Im.bind(m),a.addEventListener("load",o),a.addEventListener("error",o))}}function Nk(){if(Od===null)throw Error(r(475));var a=Od;return a.stylesheets&&a.count===0&&C0(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&C0(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Im(){if(this.count--,this.count===0){if(this.stylesheets)C0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rm=null;function C0(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rm=new Map,o.forEach(Ck,a),Rm=null,Im.call(a))}function Ck(a,o){if(!(o.state.loading&4)){var u=Rm.get(a);if(u)var m=u.get(null);else{u=new Map,Rm.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var I=y[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),m=I)}m&&u.set(null,m)}y=o.instance,I=y.getAttribute("data-precedence"),b=u.get(I)||m,b===m&&u.set(null,y),u.set(I,y),this.count++,m=Im.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Id={$$typeof:R,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Ok(a,o,u,m,y,b,I,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function $4(a,o,u,m,y,b,I,k,G,Z,ae,ce){return a=new Ok(a,o,u,I,k,G,Z,ce),o=1,b===!0&&(o|=24),b=fr(3,null,null,o),a.current=b,b.stateNode=a,o=uy(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},my(b),a}function F4(a){return a?(a=lc,a):lc}function H4(a,o,u,m,y,b){y=F4(y),m.context===null?m.context=y:m.pendingContext=y,m=hs(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=fs(a,m,o),u!==null&&(yr(u,a,o),od(u,a,o))}function K4(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function O0(a,o){K4(a,o),(a=a.alternate)&&K4(a,o)}function G4(a){if(a.tag===13){var o=oc(a,67108864);o!==null&&yr(o,a,67108864),O0(a,67108864)}}var Pm=!0;function Ik(a,o,u,m){var y=q.T;q.T=null;var b=z.p;try{z.p=2,I0(a,o,u,m)}finally{z.p=b,q.T=y}}function Rk(a,o,u,m){var y=q.T;q.T=null;var b=z.p;try{z.p=8,I0(a,o,u,m)}finally{z.p=b,q.T=y}}function I0(a,o,u,m){if(Pm){var y=R0(m);if(y===null)y0(a,o,m,Dm,u),W4(a,m);else if(Dk(y,a,o,u,m))m.stopPropagation();else if(W4(a,m),o&4&&-1<Pk.indexOf(a)){for(;y!==null;){var b=bi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=ti(b.pendingLanes);if(I!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var G=1<<31-Un(I);k.entanglements[1]|=G,I&=~G}Di(b),(st&6)===0&&(vm=Kt()+500,Ed(0))}}break;case 13:k=oc(b,2),k!==null&&yr(k,b,2),xm(),O0(b,2)}if(b=R0(m),b===null&&y0(a,o,m,Dm,u),b===y)break;y=b}y!==null&&m.stopPropagation()}else y0(a,o,m,null,u)}}function R0(a){return a=Ir(a),P0(a)}var Dm=null;function P0(a){if(Dm=null,a=ta(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Dm=a,null}function Y4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ul()){case Cu:return 2;case zl:return 8;case mo:case Lv:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var D0=!1,As=null,js=null,Ns=null,Rd=new Map,Pd=new Map,Cs=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W4(a,o){switch(a){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Rd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(o.pointerId)}}function Dd(a,o,u,m,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},o!==null&&(o=bi(o),o!==null&&G4(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function Dk(a,o,u,m,y){switch(o){case"focusin":return As=Dd(As,a,o,u,m,y),!0;case"dragenter":return js=Dd(js,a,o,u,m,y),!0;case"mouseover":return Ns=Dd(Ns,a,o,u,m,y),!0;case"pointerover":var b=y.pointerId;return Rd.set(b,Dd(Rd.get(b)||null,a,o,u,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Pd.set(b,Dd(Pd.get(b)||null,a,o,u,m,y)),!0}return!1}function X4(a){var o=ta(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,xf(a.priority,function(){if(u.tag===13){var m=vr();m=rs(m);var y=oc(u,m);y!==null&&yr(y,u,m),O0(u,m)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function km(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=R0(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);aa=m,u.target.dispatchEvent(m),aa=null}else return o=bi(u),o!==null&&G4(o),a.blockedOn=u,!1;o.shift()}return!0}function Q4(a,o,u){km(a)&&u.delete(o)}function kk(){D0=!1,As!==null&&km(As)&&(As=null),js!==null&&km(js)&&(js=null),Ns!==null&&km(Ns)&&(Ns=null),Rd.forEach(Q4),Pd.forEach(Q4)}function Mm(a,o){a.blockedOn===o&&(a.blockedOn=null,D0||(D0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kk)))}var Lm=null;function Z4(a){Lm!==a&&(Lm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lm===a&&(Lm=null);for(var o=0;o<a.length;o+=3){var u=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(P0(m||u)===null)continue;break}var b=bi(u);b!==null&&(a.splice(o,3),o-=3,Py(b,{pending:!0,data:y,method:u.method,action:m},m,y))}}))}function kd(a){function o(G){return Mm(G,a)}As!==null&&Mm(As,a),js!==null&&Mm(js,a),Ns!==null&&Mm(Ns,a),Rd.forEach(o),Pd.forEach(o);for(var u=0;u<Cs.length;u++){var m=Cs[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Cs.length&&(u=Cs[0],u.blockedOn===null);)X4(u),u.blockedOn===null&&Cs.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var y=u[m],b=u[m+1],I=y[Gt]||null;if(typeof b=="function")I||Z4(u);else if(I){var k=null;if(b&&b.hasAttribute("formAction")){if(y=b,I=b[Gt]||null)k=I.formAction;else if(P0(y)!==null)continue}else k=I.action;typeof k=="function"?u[m+1]=k:(u.splice(m,3),m-=3),Z4(u)}}}function k0(a){this._internalRoot=a}Vm.prototype.render=k0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=vr();H4(u,m,a,o,null,null)},Vm.prototype.unmount=k0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;H4(a.current,2,null,a,null,null),xm(),o[Cr]=null}};function Vm(a){this._internalRoot=a}Vm.prototype.unstable_scheduleHydration=function(a){if(a){var o=is();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Cs.length&&o!==0&&o<Cs[u].priority;u++);Cs.splice(u,0,a),u===0&&X4(a)}};var J4=e.version;if(J4!=="19.1.0")throw Error(r(527,J4,"19.1.0"));z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var Mk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Um.isDisabled&&Um.supportsFiber)try{Dt=Um.inject(Mk),at=Um}catch{}}return Ld.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,m="",y=pE,b=gE,I=vE,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=$4(a,1,!1,null,null,u,m,y,b,I,k,null),a[Cr]=o.current,v0(a),new k0(o)},Ld.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var m=!1,y="",b=pE,I=gE,k=vE,G=null,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(G=u.unstable_transitionCallbacks),u.formState!==void 0&&(Z=u.formState)),o=$4(a,1,!0,o,u??null,m,y,b,I,k,G,Z),o.context=F4(null),u=o.current,m=vr(),m=rs(m),y=hs(m),y.callback=null,fs(u,y,m),u=m,o.current.lanes=u,ea(o,u),Di(o),a[Cr]=o.current,v0(a),new Vm(o)},Ld.version="19.1.0",Ld}var cT;function Hk(){if(cT)return V0.exports;cT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V0.exports=Fk(),V0.exports}var Kk=Hk();function qe({children:t,variant:e="primary",size:n="medium",type:r="button",fullWidth:i=!1,onClick:s,disabled:c=!1}){const d=`btn btn-${e} btn-${n} ${i?"btn-full-width":""}`;return l.jsx("button",{type:r,className:d,onClick:s,disabled:c,children:t})}var Vd={},uT;function Gk(){if(uT)return Vd;uT=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=c,Vd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,_){const w=new s,E=x.length;if(E<2)return w;const S=_?.decode||p;let j=0;do{const O=x.indexOf("=",j);if(O===-1)break;const R=x.indexOf(";",j),L=R===-1?E:R;if(O>L){j=x.lastIndexOf(";",O-1)+1;continue}const D=d(x,j,O),B=h(x,O,D),C=x.slice(D,B);if(w[C]===void 0){let P=d(x,O+1,L),M=h(x,L,P);const F=S(x.slice(P,M));w[C]=F}j=L+1}while(j<E);return w}function d(x,_,w){do{const E=x.charCodeAt(_);if(E!==32&&E!==9)return _}while(++_<w);return w}function h(x,_,w){for(;_>w;){const E=x.charCodeAt(--_);if(E!==32&&E!==9)return _+1}return w}function f(x,_,w){const E=w?.encode||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=E(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let j=x+"="+S;if(!w)return j;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);j+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);j+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);j+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);j+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(j+="; HttpOnly"),w.secure&&(j+="; Secure"),w.partitioned&&(j+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return j}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return i.call(x)==="[object Date]"}return Vd}Gk();var dT="popstate";function Yk(t={}){function e(r,i){let{pathname:s,search:c,hash:d}=r.location;return L2("",{pathname:s,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mh(i)}return Xk(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substring(2,10)}function hT(t,e){return{usr:t.state,key:t.key,idx:e}}function L2(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fu(e):e,state:n,key:e&&e.key||r||Wk()}}function mh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Xk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function v(){d="POP";let S=p(),j=S==null?null:S-f;f=S,h&&h({action:d,location:E.location,delta:j})}function x(S,j){d="PUSH";let O=L2(E.location,S,j);f=p()+1;let R=hT(O,f),L=E.createHref(O);try{c.pushState(R,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(L)}s&&h&&h({action:d,location:E.location,delta:1})}function _(S,j){d="REPLACE";let O=L2(E.location,S,j);f=p();let R=hT(O,f),L=E.createHref(O);c.replaceState(R,"",L),s&&h&&h({action:d,location:E.location,delta:0})}function w(S){return Qk(S)}let E={get action(){return d},get location(){return t(i,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(dT,v),h=S,()=>{i.removeEventListener(dT,v),h=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:_,go(S){return c.go(S)}};return E}function Qk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:mh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function q6(t,e,n="/"){return Zk(t,e,n,!1)}function Zk(t,e,n,r){let i=typeof e=="string"?fu(e):e,s=La(i.pathname||"/",n);if(s==null)return null;let c=$6(t);Jk(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=u9(s);d=l9(c[h],f,r)}return d}function $6(t,e=[],n=[],r=""){let i=(s,c,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};h.relativePath.startsWith("/")&&(jt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=Ra([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(jt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$6(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:s9(f,s.index),routesMeta:p})};return t.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))i(s,c);else for(let d of F6(s.path))i(s,c,d)}),e}function F6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=F6(r.join("/")),d=[];return d.push(...c.map(h=>h===""?s:[s,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Jk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e9=/^:[\w-]+$/,t9=3,n9=2,r9=1,i9=10,a9=-2,fT=t=>t==="*";function s9(t,e){let n=t.split("/"),r=n.length;return n.some(fT)&&(r+=a9),e&&(r+=n9),n.filter(i=>!fT(i)).reduce((i,s)=>i+(e9.test(s)?t9:s===""?r9:i9),r)}function o9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l9(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=Ep({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Ep({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Ra([s,v.pathname]),pathnameBase:m9(Ra([s,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(s=Ra([s,v.pathnameBase]))}return c}function Ep(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=c9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},x)=>{if(p==="*"){let w=d[x]||"";c=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=d[x];return v&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:c,pattern:t}}function c9(t,e=!1,n=!0){di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function La(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d9(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fu(t):t;return{pathname:n?n.startsWith("/")?n:h9(n,e):e,search:p9(r),hash:g9(i)}}function h9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function q0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ab(t){let e=f9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sb(t,e,n,r=!1){let i;typeof t=="string"?i=fu(t):(i={...t},jt(!i.pathname||!i.pathname.includes("?"),q0("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),q0("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),q0("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}d=v>=0?e[v]:"/"}let h=d9(i,d),f=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Ra=t=>t.join("/").replace(/\/\/+/g,"/"),m9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var H6=["POST","PUT","PATCH","DELETE"];new Set(H6);var y9=["GET",...H6];new Set(y9);var mu=A.createContext(null);mu.displayName="DataRouter";var Ig=A.createContext(null);Ig.displayName="DataRouterState";var K6=A.createContext({isTransitioning:!1});K6.displayName="ViewTransition";var x9=A.createContext(new Map);x9.displayName="Fetchers";var b9=A.createContext(null);b9.displayName="Await";var gi=A.createContext(null);gi.displayName="Navigation";var Vh=A.createContext(null);Vh.displayName="Location";var Xi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var ob=A.createContext(null);ob.displayName="RouteError";function _9(t,{relative:e}={}){jt(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(gi),{hash:i,pathname:s,search:c}=Uh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Ra([n,s])),r.createHref({pathname:d,search:c,hash:i})}function pu(){return A.useContext(Vh)!=null}function io(){return jt(pu(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Vh).location}var G6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y6(t){A.useContext(gi).static||A.useLayoutEffect(t)}function lb(){let{isDataRoute:t}=A.useContext(Xi);return t?D9():w9()}function w9(){jt(pu(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(mu),{basename:e,navigator:n}=A.useContext(gi),{matches:r}=A.useContext(Xi),{pathname:i}=io(),s=JSON.stringify(ab(r)),c=A.useRef(!1);return Y6(()=>{c.current=!0}),A.useCallback((h,f={})=>{if(di(c.current,G6),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=sb(h,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ra([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}A.createContext(null);function Uh(t,{relative:e}={}){let{matches:n}=A.useContext(Xi),{pathname:r}=io(),i=JSON.stringify(ab(n));return A.useMemo(()=>sb(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function S9(t,e){return W6(t,e)}function W6(t,e,n,r){jt(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(gi),{matches:s}=A.useContext(Xi),c=s[s.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let j=p&&p.path||"";X6(h,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=io(),x;if(e){let j=typeof e=="string"?fu(e):e;jt(f==="/"||j.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=v;let _=x.pathname||"/",w=_;if(f!=="/"){let j=f.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=q6(t,{pathname:w});di(p||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),di(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=N9(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Ra([f,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Ra([f,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,n,r);return e&&S?A.createElement(Vh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function E9(){let t=P9(),e=v9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,c)}var T9=A.createElement(E9,null),A9=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Xi.Provider,{value:this.props.routeContext},A.createElement(ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j9({routeContext:t,match:e,children:n}){let r=A.useContext(mu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Xi.Provider,{value:t},n)}function N9(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n?.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);jt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:v}=n,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let v,x=!1,_=null,w=null;n&&(v=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||T9,c&&(d<0&&p===0?(X6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),S=()=>{let j;return v?j=_:x?j=w:f.route.Component?j=A.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=h,A.createElement(j9,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(A9,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function cb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C9(t){let e=A.useContext(mu);return jt(e,cb(t)),e}function O9(t){let e=A.useContext(Ig);return jt(e,cb(t)),e}function I9(t){let e=A.useContext(Xi);return jt(e,cb(t)),e}function ub(t){let e=I9(t),n=e.matches[e.matches.length-1];return jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R9(){return ub("useRouteId")}function P9(){let t=A.useContext(ob),e=O9("useRouteError"),n=ub("useRouteError");return t!==void 0?t:e.errors?.[n]}function D9(){let{router:t}=C9("useNavigate"),e=ub("useNavigate"),n=A.useRef(!1);return Y6(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{di(n.current,G6),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var mT={};function X6(t,e,n){!e&&!mT[t]&&(mT[t]=!0,di(!1,n))}A.memo(k9);function k9({routes:t,future:e,state:n}){return W6(t,void 0,n,e)}function V2({to:t,replace:e,state:n,relative:r}){jt(pu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(gi);di(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Xi),{pathname:c}=io(),d=lb(),h=sb(t,ab(s),c,r==="path"),f=JSON.stringify(h);return A.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function Ea(t){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){jt(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof n=="string"&&(n=fu(n));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:x="default"}=n,_=A.useMemo(()=>{let w=La(h,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:v,key:x},navigationType:r}},[c,h,f,p,v,x,r]);return di(_!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:A.createElement(gi.Provider,{value:d},A.createElement(Vh.Provider,{children:e,value:_}))}function L9({children:t,location:e}){return S9(U2(t),e)}function U2(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,U2(r.props.children,s));return}jt(r.type===Ea,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=U2(r.props.children,s)),n.push(c)}),n}var cp="get",up="application/x-www-form-urlencoded";function Rg(t){return t!=null&&typeof t.tagName=="string"}function V9(t){return Rg(t)&&t.tagName.toLowerCase()==="button"}function U9(t){return Rg(t)&&t.tagName.toLowerCase()==="form"}function z9(t){return Rg(t)&&t.tagName.toLowerCase()==="input"}function B9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q9(t,e){return t.button===0&&(!e||e==="_self")&&!B9(t)}var zm=null;function $9(){if(zm===null)try{new FormData(document.createElement("form"),0),zm=!1}catch{zm=!0}return zm}var F9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $0(t){return t!=null&&!F9.has(t)?(di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${up}"`),null):t}function H9(t,e){let n,r,i,s,c;if(U9(t)){let d=t.getAttribute("action");r=d?La(d,e):null,n=t.getAttribute("method")||cp,i=$0(t.getAttribute("enctype"))||up,s=new FormData(t)}else if(V9(t)||z9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?La(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||cp,i=$0(t.getAttribute("formenctype"))||$0(d.getAttribute("enctype"))||up,s=new FormData(d,t),!$9()){let{name:f,type:p,value:v}=t;if(p==="image"){let x=f?`${f}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else f&&s.append(f,v)}}else{if(Rg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cp,r=null,i=up,c=t}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:c}}function db(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function K9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Y9(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let c=await K9(s,n);return c.links?c.links():[]}return[]}));return Z9(r.flat(1).filter(G9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pT(t,e,n,r,i,s){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):s==="data"?e.filter((h,f)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function W9(t,e,{includeHydrateFallback:n}={}){return X9(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function X9(t){return[...new Set(t)]}function Q9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Z9(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Q9(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J9=new Set([100,101,204,205]);function eM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&La(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Q6(){let t=A.useContext(mu);return db(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tM(){let t=A.useContext(Ig);return db(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hb=A.createContext(void 0);hb.displayName="FrameworkContext";function Z6(){let t=A.useContext(hb);return db(t,"You must render this element inside a <HydratedRouter> element"),t}function nM(t,e){let n=A.useContext(hb),[r,i]=A.useState(!1),[s,c]=A.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,x=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=j=>{j.forEach(O=>{c(O.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Ud(d,_),onBlur:Ud(h,w),onMouseEnter:Ud(f,_),onMouseLeave:Ud(p,w),onTouchStart:Ud(v,_)}]:[!1,x,{}]}function Ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rM({page:t,...e}){let{router:n}=Q6(),r=A.useMemo(()=>q6(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(aM,{page:t,matches:r,...e}):null}function iM(t){let{manifest:e,routeModules:n}=Z6(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return Y9(t,e,n).then(c=>{s||i(c)}),()=>{s=!0}},[t,e,n]),r}function aM({page:t,matches:e,...n}){let r=io(),{manifest:i,routeModules:s}=Z6(),{basename:c}=Q6(),{loaderData:d,matches:h}=tM(),f=A.useMemo(()=>pT(t,e,h,i,r,"data"),[t,e,h,i,r]),p=A.useMemo(()=>pT(t,e,h,i,r,"assets"),[t,e,h,i,r]),v=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(j=>{let O=i.routes[j.route.id];!O||!O.hasLoader||(!f.some(R=>R.route.id===j.route.id)&&j.route.id in d&&s[j.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:w.add(j.route.id))}),w.size===0)return[];let S=eM(t,c);return E&&w.size>0&&S.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[c,d,r,i,f,e,t,s]),x=A.useMemo(()=>W9(p,i),[p,i]),_=iM(p);return A.createElement(A.Fragment,null,v.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:E})=>A.createElement("link",{key:w,...E})))}function sM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var J6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J6&&(window.__reactRouterVersion="7.6.3")}catch{}function oM({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=Yk({window:n,v5Compat:!0}));let i=r.current,[s,c]=A.useState({action:i.action,location:i.location}),d=A.useCallback(h=>{A.startTransition(()=>c(h))},[c]);return A.useLayoutEffect(()=>i.listen(d),[i,d]),A.createElement(M9,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tC=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:v,...x},_){let{basename:w}=A.useContext(gi),E=typeof f=="string"&&eC.test(f),S,j=!1;if(typeof f=="string"&&E&&(S=f,J6))try{let M=new URL(window.location.href),F=f.startsWith("//")?new URL(M.protocol+f):new URL(f),$=La(F.pathname,w);F.origin===M.origin&&$!=null?f=$+F.search+F.hash:j=!0}catch{di(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=_9(f,{relative:i}),[R,L,D]=nM(r,x),B=dM(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:i,viewTransition:v});function C(M){e&&e(M),M.defaultPrevented||B(M)}let P=A.createElement("a",{...x,...D,href:S||O,onClick:j||s?e:C,ref:sM(_,L),target:h,"data-discover":!E&&n==="render"?"true":void 0});return R&&!E?A.createElement(A.Fragment,null,P,A.createElement(rM,{page:O})):P});tC.displayName="Link";var lM=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:d,children:h,...f},p){let v=Uh(c,{relative:f.relative}),x=io(),_=A.useContext(Ig),{navigator:w,basename:E}=A.useContext(gi),S=_!=null&&gM(v)&&d===!0,j=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,O=x.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),R=R?R.toLowerCase():null,j=j.toLowerCase()),R&&E&&(R=La(R,E)||R);const L=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let D=O===j||!i&&O.startsWith(j)&&O.charAt(L)==="/",B=R!=null&&(R===j||!i&&R.startsWith(j)&&R.charAt(j.length)==="/"),C={isActive:D,isPending:B,isTransitioning:S},P=D?e:void 0,M;typeof r=="function"?M=r(C):M=[r,D?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(C):s;return A.createElement(tC,{...f,"aria-current":P,className:M,ref:p,style:F,to:c,viewTransition:d},typeof h=="function"?h(C):h)});lM.displayName="NavLink";var cM=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:c=cp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:v,...x},_)=>{let w=mM(),E=pM(d,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&eC.test(d),O=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let L=R.nativeEvent.submitter,D=L?.getAttribute("formmethod")||c;w(L||R.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:v})};return A.createElement("form",{ref:_,method:S,action:E,onSubmit:r?h:O,...x,"data-discover":!j&&t==="render"?"true":void 0})});cM.displayName="Form";function uM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nC(t){let e=A.useContext(mu);return jt(e,uM(t)),e}function dM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:c}={}){let d=lb(),h=io(),f=Uh(t,{relative:s});return A.useCallback(p=>{if(q9(p,e)){p.preventDefault();let v=n!==void 0?n:mh(h)===mh(f);d(t,{replace:v,state:r,preventScrollReset:i,relative:s,viewTransition:c})}},[h,d,f,n,r,e,t,i,s,c])}var hM=0,fM=()=>`__${String(++hM)}__`;function mM(){let{router:t}=nC("useSubmit"),{basename:e}=A.useContext(gi),n=R9();return A.useCallback(async(r,i={})=>{let{action:s,method:c,encType:d,formData:h,body:f}=H9(r,e);if(i.navigate===!1){let p=i.fetcherKey||fM();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pM(t,{relative:e}={}){let{basename:n}=A.useContext(gi),r=A.useContext(Xi);jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Uh(t||".",{relative:e})},c=io();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ra([n,s.pathname])),mh(s)}function gM(t,e={}){let n=A.useContext(K6);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nC("useViewTransitionState"),i=Uh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=La(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=La(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ep(i.pathname,c)!=null||Ep(i.pathname,s)!=null}[...J9];var vM=B6();function ao(){const t=lb();return{goTo:(n,r)=>{t(n,r)}}}function fb(t){const e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})}const rt={landing:"/",login:"/login",register:"/register",dashboard:"/dashboard",admin:"/admin",priorityOptimization:"/priority-optimization",settings:"/settings",operationalRoutes:"/operational-routes",operationalRoutesList:"/operational-routes-list",forgotPassword:"/forgot-password",terms:"/terms",privacy:"/privacy"};function yM(){const[t,e]=A.useState(!1),{goTo:n}=ao(),r=i=>{i.startsWith("#")?fb(i):n(i)};return l.jsx("header",{className:"header",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"header-content",children:[l.jsx("span",{className:"logo",style:{cursor:"pointer"},onClick:()=>r(rt.landing),children:l.jsx("span",{className:"logo-text",children:"RR Vision Brazil"})}),l.jsxs("nav",{className:`nav ${t?"nav-open":""}`,children:[l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#features"),children:"Recursos"}),l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#about"),children:"Sobre"}),l.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#contact"),children:"Contato"})]}),l.jsxs("div",{className:"header-actions",children:[l.jsx(qe,{variant:"outline",onClick:()=>r(rt.login),children:"Entrar"}),l.jsx(qe,{variant:"primary",onClick:()=>r(rt.register),children:"Cadastrar"})]}),l.jsxs("button",{className:"menu-toggle",onClick:()=>e(!t),children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})]})})})}function xM(){const{goTo:t}=ao(),e=n=>{n.startsWith("#")?fb(n):t(n)};return l.jsx("section",{className:"hero",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"hero-content",children:[l.jsxs("div",{className:"hero-text",children:[l.jsx("h1",{className:"hero-title",children:"Automatize seu Controle de Produção Industrial"}),l.jsx("p",{className:"hero-description",children:"Integre dados do ERP Bling com processos internos, otimize a alocação de operadores e monitore a eficiência em tempo real com dashboards dinâmicos e alertas automáticos."}),l.jsxs("div",{className:"hero-actions",children:[l.jsx(qe,{variant:"primary",size:"large",onClick:()=>e("/register"),children:"Começar Agora"}),l.jsx(qe,{variant:"outline",size:"large",onClick:()=>e("#features"),children:"Conhecer Recursos"})]})]}),l.jsx("div",{className:"hero-image",children:l.jsxs("div",{className:"dashboard-preview",children:[l.jsx("div",{className:"dashboard-header",children:l.jsxs("div",{className:"dashboard-tabs",children:[l.jsx("div",{className:"tab active",children:"Dashboard"}),l.jsx("div",{className:"tab",children:"Produção"}),l.jsx("div",{className:"tab",children:"Operadores"})]})}),l.jsxs("div",{className:"dashboard-content",children:[l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"87%"}),l.jsx("div",{className:"metric-label",children:"Eficiência"})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"24"}),l.jsx("div",{className:"metric-label",children:"Ordens Ativas"})]}),l.jsxs("div",{className:"metric-card",children:[l.jsx("div",{className:"metric-value",children:"156"}),l.jsx("div",{className:"metric-label",children:"Operadores"})]})]})]})})]})})})}var rC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gT=al.createContext&&al.createContext(rC),bM=["attr","size","title"];function _M(t,e){if(t==null)return{};var n=wM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){SM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SM(t,e,n){return e=EM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EM(t){var e=TM(t,"string");return typeof e=="symbol"?e:e+""}function TM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iC(t){return t&&t.map((e,n)=>al.createElement(e.tag,Ap({key:n},e.attr),iC(e.child)))}function ge(t){return e=>al.createElement(AM,Tp({attr:Ap({},t.attr)},e),iC(t.child))}function AM(t){var e=n=>{var{attr:r,size:i,title:s}=t,c=_M(t,bM),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),al.createElement("svg",Tp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:h,style:Ap(Ap({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&al.createElement("title",null,s),t.children)};return gT!==void 0?al.createElement(gT.Consumer,null,n=>e(n)):e(rC)}function jM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function z2(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function NM(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function Ys(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function zh(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function mb(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function CM(t){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function aC(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Xa(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function sC(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function fl(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Va(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function OM(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function IM(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function F0(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function oC(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Ot(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function RM(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function Ua(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function lC(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function PM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function $c(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function jp(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function El(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function It(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function DM(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Bh(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function cC(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function uC(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function dC(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function hC(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function kM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function B2(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(t)}function Pg(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function Vc(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function MM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function LM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function VM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function UM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function zM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(t)}function q2(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function BM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function fC(t){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(t)}function Qc(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function qM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function $M(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 128c35.3 0 64-28.7 64-64S163.3 0 128 0 64 28.7 64 64s28.7 64 64 64zm384 0c35.3 0 64-28.7 64-64S547.3 0 512 0s-64 28.7-64 64 28.7 64 64 64zm127.3 226.5l-45.6-185.8c-3.3-13.5-15.5-23-29.8-24.2-15 9.7-32.8 15.5-52 15.5-19.2 0-37-5.8-52-15.5-14.3 1.2-26.5 10.7-29.8 24.2l-45.6 185.8C381 369.6 393 384 409.2 384H464v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V384h54.8c16.2 0 28.2-14.4 24.5-29.5zM336 0h-32c-8.8 0-16 7.2-16 16v480c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zM180.1 144.4c-15 9.8-32.9 15.6-52.1 15.6-19.2 0-37.1-5.8-52.1-15.6C51.3 146.5 32 166.9 32 192v136c0 13.3 10.7 24 24 24h8v136c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V352h8c13.3 0 24-10.7 24-24V192c0-25.1-19.3-45.5-43.9-47.6z"},child:[]}]})(t)}function Zc(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function FM(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function qh(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function mC(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function HM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function KM(t){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function GM(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Dg(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function za(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function YM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Tl(t){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ph(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function Np(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function pC(t){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function WM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function XM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function gC(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gh(t){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function QM(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function sl(t){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function ZM(t){return ge({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function JM(t){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function e7(){const t=[{icon:l.jsx(za,{}),title:"Integração ERP Bling",description:"Sincronização automática de dados do ERP para otimizar o planejamento de produção"},{icon:l.jsx(sl,{}),title:"Alocação Inteligente",description:"Distribuição de operadores baseada em habilidades e disponibilidade"},{icon:l.jsx(Xa,{}),title:"Dashboards em Tempo Real",description:"Monitoramento da eficiência e produtividade com métricas atualizadas"},{icon:l.jsx(zh,{}),title:"Execução Assistida",description:"Roteiros detalhados para guiar operadores durante a produção"},{icon:l.jsx(qh,{}),title:"Controle de Qualidade",description:"Registro e acompanhamento de não conformidades"},{icon:l.jsx(Ys,{}),title:"Alertas Automáticos",description:"Notificações inteligentes para otimizar o fluxo produtivo"}];return l.jsx("section",{id:"features",className:"features",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Recursos Principais"}),l.jsx("p",{children:"Tudo que você precisa para otimizar sua produção industrial"})]}),l.jsx("div",{className:"features-grid",children:t.map((e,n)=>l.jsxs("div",{className:"feature-card",children:[l.jsx("div",{className:"feature-icon",children:e.icon}),l.jsx("h3",{className:"feature-title",children:e.title}),l.jsx("p",{className:"feature-description",children:e.description})]},n))})]})})}function t7(){return l.jsx("section",{id:"about",className:"about",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"about-content",children:[l.jsxs("div",{className:"about-text",children:[l.jsx("h2",{children:"Sobre o RR Vision Brazil"}),l.jsx("p",{children:"Nossa plataforma foi desenvolvida especificamente para atender às necessidades da indústria brasileira, oferecendo uma solução completa para automação do controle de produção."}),l.jsx("p",{children:"Com foco na integração de dados e otimização de processos, o RR Vision Brazil permite que gestores e operadores trabalhem de forma mais eficiente, reduzindo custos e aumentando a produtividade."}),l.jsxs("div",{className:"stats",children:[l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"500+"}),l.jsx("div",{className:"stat-label",children:"Empresas Atendidas"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"25%"}),l.jsx("div",{className:"stat-label",children:"Aumento Médio de Eficiência"})]}),l.jsxs("div",{className:"stat",children:[l.jsx("div",{className:"stat-number",children:"24/7"}),l.jsx("div",{className:"stat-label",children:"Suporte Técnico"})]})]})]}),l.jsx("div",{className:"about-image",children:l.jsxs("div",{className:"process-flow",children:[l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"1"}),l.jsx("div",{className:"step-title",children:"Planejamento"})]}),l.jsx("div",{className:"flow-arrow",children:"→"}),l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"2"}),l.jsx("div",{className:"step-title",children:"Execução"})]}),l.jsx("div",{className:"flow-arrow",children:"→"}),l.jsxs("div",{className:"flow-step",children:[l.jsx("div",{className:"step-number",children:"3"}),l.jsx("div",{className:"step-title",children:"Monitoramento"})]})]})})]})})})}function qt({type:t,name:e,placeholder:n,value:r,onChange:i,required:s=!1,disabled:c=!1,icon:d}){return l.jsxs("div",{className:"input-wrapper",children:[d&&l.jsx("div",{className:"input-icon",children:d}),l.jsx("input",{type:t,name:e,placeholder:n,value:r,onChange:i,required:s,disabled:c,className:`input ${d?"input-with-icon":""}`})]})}function n7(){const[t,e]=A.useState({name:"",email:"",company:"",message:""}),n=i=>{e({...t,[i.target.name]:i.target.value})},r=i=>{i.preventDefault(),console.log("Contact form:",t)};return l.jsx("section",{id:"contact",className:"contact",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Entre em Contato"}),l.jsx("p",{children:"Fale conosco para saber mais sobre o RR Vision Brazil"})]}),l.jsxs("div",{className:"contact-content",children:[l.jsxs("div",{className:"contact-info",children:[l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{children:[l.jsx("h4",{children:"E-mail"}),l.jsx("p",{children:"contato@rrvisionbrazil.com"})]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7294C21.7209 20.9846 21.5573 21.2136 21.3521 21.4019C21.1469 21.5902 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0973 21.9454 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3146 6.72533 15.2661 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.09456 3.90347 2.12787 3.62461 2.21649 3.36152C2.30512 3.09843 2.44756 2.85687 2.63483 2.65231C2.8221 2.44775 3.0498 2.28477 3.30349 2.17351C3.55718 2.06225 3.83148 2.00489 4.10999 2.00001H7.10999C7.59522 1.99522 8.06569 2.16708 8.43373 2.48353C8.80177 2.79999 9.04201 3.23945 9.10999 3.72001C9.23662 4.68007 9.47144 5.62273 9.80999 6.53001C9.94454 6.88792 9.97348 7.27675 9.89382 7.65369C9.81416 8.03063 9.62884 8.38332 9.35999 8.67001L8.08999 9.94001C9.51355 12.5795 11.4205 14.4865 14.06 15.91L15.33 14.64C15.6167 14.3712 15.9694 14.1858 16.3463 14.1062C16.7233 14.0265 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsxs("div",{children:[l.jsx("h4",{children:"Telefone"}),l.jsx("p",{children:"(11) 9999-9999"})]})]}),l.jsxs("div",{className:"contact-item",children:[l.jsx("div",{className:"contact-icon",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{children:[l.jsx("h4",{children:"Endereço"}),l.jsx("p",{children:"São Paulo, SP - Brasil"})]})]})]}),l.jsxs("form",{onSubmit:r,className:"contact-form",children:[l.jsxs("div",{className:"form-row",children:[l.jsx(qt,{type:"text",name:"name",placeholder:"Seu nome",value:t.name,onChange:n,required:!0}),l.jsx(qt,{type:"email",name:"email",placeholder:"Seu e-mail",value:t.email,onChange:n,required:!0})]}),l.jsx(qt,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:n,required:!0}),l.jsx("textarea",{name:"message",placeholder:"Sua mensagem",value:t.message,onChange:n,className:"contact-textarea",rows:5,required:!0}),l.jsx(qe,{type:"submit",variant:"primary",fullWidth:!0,children:"Enviar Mensagem"})]})]})]})})}const r7=new Date().getFullYear(),i7=({theme:t="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:r="to right",backgroundColor:i=t==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:s=t})=>{const c=t==="dark",d=e?{backgroundImage:`linear-gradient(${r}, ${n[0]}, ${n[1]})`}:{backgroundColor:i},h=c?"#ffffff":"#333333",f=s==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return l.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},d),{color:h}),children:[l.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:f,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),l.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless © ",r7]})]})};function a7(){const{goTo:t}=ao(),e=n=>{n.startsWith("#")?fb(n):t(n)};return l.jsx("footer",{className:"footer",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"footer-content",children:[l.jsxs("div",{className:"footer-section",children:[l.jsx("h3",{children:"RR Vision Brazil"}),l.jsx("p",{children:"Automatizando o controle de produção industrial com tecnologia e inovação."})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Produto"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#features"),children:"Recursos"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/pricing"),children:"Preços"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/demo"),children:"Demo"})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Empresa"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#about"),children:"Sobre"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/careers"),children:"Carreiras"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#contact"),children:"Contato"})]}),l.jsxs("div",{className:"footer-section",children:[l.jsx("h4",{children:"Suporte"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/help"),children:"Ajuda"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/docs"),children:"Documentação"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/support"),children:"Suporte Técnico"})]})]}),l.jsxs("div",{className:"footer-bottom",children:[l.jsx("p",{children:"© 2024 RR Vision Brazil. Todos os direitos reservados."}),l.jsxs("div",{className:"footer-links",children:[l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/privacy"),children:"Privacidade"}),l.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/terms"),children:"Termos de Uso"})]})]}),l.jsx(i7,{backgroundColor:"transparent",theme:"dark"})]})})}function s7(){return l.jsxs("div",{className:"app",children:[l.jsx(yM,{}),l.jsx(xM,{}),l.jsx(e7,{}),l.jsx(t7,{}),l.jsx(n7,{}),l.jsx(a7,{})]})}function rh(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function o7(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function $2(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(t)}function pb(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(t)}function l7(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"},child:[]}]})(t)}function c7(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(t)}function u7(t){return ge({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}const d7=()=>{};var yT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],c=t[n++],d=t[n++],h=((i&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|c&63)}}return e.join("")},yC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],c=i+1<t.length,d=c?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=s>>2,v=(s&3)<<4|d>>4;let x=(d&15)<<2|f>>6,_=f&63;h||(_=64,c||(x=64)),r.push(n[p],n[v],n[x],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||d==null||f==null||v==null)throw new f7;const x=s<<2|d>>4;if(r.push(x),f!==64){const _=d<<4&240|f>>2;if(r.push(_),v!==64){const w=f<<6&192|v;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m7=function(t){const e=vC(t);return yC.encodeByteArray(e,!0)},Cp=function(t){return m7(t).replace(/\./g,"")},xC=function(t){try{return yC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=()=>p7().__FIREBASE_DEFAULTS__,v7=()=>{if(typeof process>"u"||typeof yT>"u")return;const t=yT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xC(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return d7()||g7()||v7()||y7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bC=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_C=t=>{const e=bC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wC=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},SC=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cp(JSON.stringify(n)),Cp(JSON.stringify(c)),""].join(".")}const ih={};function b7(){const t={prod:[],emulator:[]};for(const e of Object.keys(ih))ih[e]?t.emulator.push(e):t.prod.push(e);return t}function _7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xT=!1;function vb(t,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||ih[t]===e||ih[t]||xT)return;ih[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=b7().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{xT=!0,c()},x}function p(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=_7(r),_=n("text"),w=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),S=document.getElementById(E)||document.createElement("a"),j=n("preprendIcon"),O=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const R=x.element;d(R),p(S,E);const L=f();h(O,j),R.append(O,w,S,L),document.body.appendChild(R)}s?(w.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function S7(){var t;const e=(t=kg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function A7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j7(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N7(){return!S7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C7(){try{return typeof indexedDB=="object"}catch{return!1}}function O7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7="FirebaseError";class Qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I7,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$h.prototype.create)}}class $h{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],c=s?R7(s,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Qi(i,d,r)}}function R7(t,e){return t.replace(P7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P7=/\{\$([^}]+)}/g;function D7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],c=e[i];if(bT(s)&&bT(c)){if(!ml(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k7(t,e){const n=new M7(t,e);return n.subscribe.bind(n)}class M7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H0),i.error===void 0&&(i.error=H0),i.complete===void 0&&(i.complete=H0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z7(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const c=this.instances.get(i);return c&&e(c,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U7(t){return t===Yo?void 0:t}function z7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const q7={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},$7=Ke.INFO,F7={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},H7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=F7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yb{constructor(e){this.name=e,this._logLevel=$7,this._logHandler=H7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const K7=(t,e)=>e.some(n=>t instanceof n);let _T,wT;function G7(){return _T||(_T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y7(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TC=new WeakMap,F2=new WeakMap,AC=new WeakMap,K0=new WeakMap,xb=new WeakMap;function W7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n($s(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&TC.set(n,t)}).catch(()=>{}),xb.set(e,t),e}function X7(t){if(F2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});F2.set(t,e)}let H2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return F2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q7(t){H2=t(H2)}function Z7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(G0(this),e,...n);return AC.set(r,e.sort?e.sort():[e]),$s(r)}:Y7().includes(t)?function(...e){return t.apply(G0(this),e),$s(TC.get(this))}:function(...e){return $s(t.apply(G0(this),e))}}function J7(t){return typeof t=="function"?Z7(t):(t instanceof IDBTransaction&&X7(t),K7(t,G7())?new Proxy(t,H2):t)}function $s(t){if(t instanceof IDBRequest)return W7(t);if(K0.has(t))return K0.get(t);const e=J7(t);return e!==t&&(K0.set(t,e),xb.set(e,t)),e}const G0=t=>xb.get(t);function eL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(t,e),d=$s(c);return r&&c.addEventListener("upgradeneeded",h=>{r($s(c.result),h.oldVersion,h.newVersion,$s(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const tL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],Y0=new Map;function ST(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y0.get(e))return Y0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tL.includes(n)))return;const s=async function(c,...d){const h=this.transaction(c,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),i&&h.done]))[0]};return Y0.set(e,s),s}Q7(t=>({...t,get:(e,n,r)=>ST(e,n)||t.get(e,n,r),has:(e,n)=>!!ST(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iL(t){const e=t.getComponent();return e?.type==="VERSION"}const K2="@firebase/app",ET="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new yb("@firebase/app"),aL="@firebase/app-compat",sL="@firebase/analytics-compat",oL="@firebase/analytics",lL="@firebase/app-check-compat",cL="@firebase/app-check",uL="@firebase/auth",dL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/data-connect",mL="@firebase/database-compat",pL="@firebase/functions",gL="@firebase/functions-compat",vL="@firebase/installations",yL="@firebase/installations-compat",xL="@firebase/messaging",bL="@firebase/messaging-compat",_L="@firebase/performance",wL="@firebase/performance-compat",SL="@firebase/remote-config",EL="@firebase/remote-config-compat",TL="@firebase/storage",AL="@firebase/storage-compat",jL="@firebase/firestore",NL="@firebase/ai",CL="@firebase/firestore-compat",OL="firebase",IL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="[DEFAULT]",RL={[K2]:"fire-core",[aL]:"fire-core-compat",[oL]:"fire-analytics",[sL]:"fire-analytics-compat",[cL]:"fire-app-check",[lL]:"fire-app-check-compat",[uL]:"fire-auth",[dL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-data-connect",[mL]:"fire-rtdb-compat",[pL]:"fire-fn",[gL]:"fire-fn-compat",[vL]:"fire-iid",[yL]:"fire-iid-compat",[xL]:"fire-fcm",[bL]:"fire-fcm-compat",[_L]:"fire-perf",[wL]:"fire-perf-compat",[SL]:"fire-rc",[EL]:"fire-rc-compat",[TL]:"fire-gcs",[AL]:"fire-gcs-compat",[jL]:"fire-fst",[CL]:"fire-fst-compat",[NL]:"fire-vertex","fire-js":"fire-js",[OL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Map,PL=new Map,Y2=new Map;function TT(t,e){try{t.container.addComponent(e)}catch(n){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Y2.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;Y2.set(e,t);for(const n of Op.values())TT(n,t);for(const n of PL.values())TT(n,t);return!0}function Mg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new $h("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=IL;function jC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:G2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fs.create("bad-app-name",{appName:String(i)});if(n||(n=wC()),!n)throw Fs.create("no-options");const s=Op.get(i);if(s){if(ml(n,s.options)&&ml(r,s.config))return s;throw Fs.create("duplicate-app",{appName:i})}const c=new B7(i);for(const h of Y2.values())c.addComponent(h);const d=new kL(n,r,c);return Op.set(i,d),d}function bb(t=G2){const e=Op.get(t);if(!e&&t===G2&&wC())return jC();if(!e)throw Fs.create("no-app",{appName:t});return e}function Li(t,e,n){var r;let i=(r=RL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){const d=[`Unable to register library "${i}" with version "${e}":`];s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ba.warn(d.join(" "));return}pl(new Ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firebase-heartbeat-database",LL=1,vh="firebase-heartbeat-store";let W0=null;function NC(){return W0||(W0=eL(ML,LL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),W0}async function VL(t){try{const n=(await NC()).transaction(vh),r=await n.objectStore(vh).get(CC(t));return await n.done,r}catch(e){if(e instanceof Qi)Ba.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e?.message});Ba.warn(n.message)}}}async function AT(t,e){try{const r=(await NC()).transaction(vh,"readwrite");await r.objectStore(vh).put(e,CC(t)),await r.done}catch(n){if(n instanceof Qi)Ba.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n?.message});Ba.warn(r.message)}}}function CC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1024,zL=30;class BL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $L(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zL){const c=FL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ba.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jT(),{heartbeatsToSend:r,unsentEntries:i}=qL(this._heartbeatsCache.heartbeats),s=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ba.warn(n),""}}}function jT(){return new Date().toISOString().substring(0,10)}function qL(t,e=UL){const n=[];let r=t.slice();for(const i of t){const s=n.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),NT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C7()?O7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NT(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}function FL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){pl(new Ws("platform-logger",e=>new rL(e),"PRIVATE")),pl(new Ws("heartbeat",e=>new BL(e),"PRIVATE")),Li(K2,ET,t),Li(K2,ET,"esm2017"),Li("fire-js","")}HL("");function _b(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KL=OC,IC=new $h("auth","Firebase",OC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new yb("@firebase/auth");function GL(t,...e){Ip.logLevel<=Ke.WARN&&Ip.warn(`Auth (${jl}): ${t}`,...e)}function dp(t,...e){Ip.logLevel<=Ke.ERROR&&Ip.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw wb(t,...e)}function Vi(t,...e){return wb(t,...e)}function RC(t,e,n){const r=Object.assign(Object.assign({},KL()),{[e]:n});return new $h("auth","Firebase",r).create(e,{appName:t.name})}function Pa(t){return RC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IC.create(t,...e)}function Oe(t,e,...n){if(!t)throw wb(e,...n)}function ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dp(e),new Error(e)}function qa(t,e){t||ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YL(){return CT()==="http:"||CT()==="https:"}function CT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YL()||T7()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,qa(n>e,"Short delay should be less than long delay!"),this.isMobile=w7()||A7()}get(){return WL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e){qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JL=new Hh(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qa(t,e,n,r,i={}){return DC(t,i,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=Fh(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},s);return E7()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Al(t.emulatorConfig.host)&&(f.credentials="include"),PC.fetch()(await kC(t,t.config.apiHost,n,d),f)})}async function DC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QL),e);try{const i=new tV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Bm(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bm(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Bm(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Bm(t,"user-disabled",c);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw RC(t,p,f);hi(t,p)}}catch(i){if(i instanceof Qi)throw i;hi(t,"network-request-failed",{message:String(i)})}}async function Kh(t,e,n,r,i={}){const s=await Qa(t,e,n,r,i);return"mfaPendingCredential"in s&&hi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,c=s.config.emulator?Sb(t.config,i):`${t.config.apiScheme}://${i}`;return ZL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function eV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),JL.get())})}}function Bm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vi(t,e,r);return i.customData._tokenResponse=n,i}function OT(t){return t!==void 0&&t.enterprise!==void 0}class nV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rV(t,e){return Qa(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function Rp(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aV(t,e=!1){const n=nn(t),r=await n.getIdToken(e),i=Eb(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:ah(X0(i.auth_time)),issuedAtTime:ah(X0(i.iat)),expirationTime:ah(X0(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function X0(t){return Number(t)*1e3}function Eb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=xC(n);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IT(t){const e=Eb(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qi&&sV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jc(t,Rp(n,{idToken:r}));Oe(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const c=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MC(s.providerUserInfo):[],d=cV(t.providerData,c),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!d?.length,p=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new X2(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function lV(t){const e=nn(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MC(t){return t.map(e=>{var{providerId:n}=e,r=_b(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){const n=await DC(t,{},async()=>{const r=Fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,c=await kC(t,i,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Al(t.emulatorConfig.host)&&(h.credentials="include"),PC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dV(t,e){return Qa(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=IT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,c=new Fc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_b(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aV(this,e)}reload(){return lV(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await Jc(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,c,d,h,f,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(c=n.photoURL)!==null&&c!==void 0?c:void 0,E=(d=n.tenantId)!==null&&d!==void 0?d:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,j=(f=n.createdAt)!==null&&f!==void 0?f:void 0,O=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:R,emailVerified:L,isAnonymous:D,providerData:B,stsTokenManager:C}=n;Oe(R&&C,e,"internal-error");const P=Fc.fromJSON(this.name,C);Oe(typeof R=="string",e,"internal-error"),Is(v,e.name),Is(x,e.name),Oe(typeof L=="boolean",e,"internal-error"),Oe(typeof D=="boolean",e,"internal-error"),Is(_,e.name),Is(w,e.name),Is(E,e.name),Is(S,e.name),Is(j,e.name),Is(O,e.name);const M=new ci({uid:R,auth:e,email:x,emailVerified:L,displayName:v,isAnonymous:D,photoURL:w,phoneNumber:_,tenantId:E,stsTokenManager:P,createdAt:j,lastLoginAt:O});return B&&Array.isArray(B)&&(M.providerData=B.map(F=>Object.assign({},F))),S&&(M._redirectEventId=S),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fc;i.updateFromServerResponse(n);const s=new ci({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MC(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!s?.length,d=new Fc;d.updateFromIdToken(r);const h=new ci({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new X2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function Na(t){qa(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LC.type="NONE";const PT=LC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,n){return`firebase:${t}:${e}:${n}`}class Hc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=hp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rp(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hc(Na(PT),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Na(PT);const c=hp(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const p=await f._get(c);if(p){let v;if(typeof p=="string"){const x=await Rp(e,{idToken:p}).catch(()=>{});if(!x)break;v=await ci._fromGetAccountInfoResponse(e,x,p)}else v=ci._fromJSON(e,p);f!==s&&(d=v),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Hc(s,e,r):(s=h[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(c)}catch{}})),new Hc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(FC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||zC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VC(t=Gn()){return/firefox\//i.test(t)}function UC(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zC(t=Gn()){return/crios\//i.test(t)}function BC(t=Gn()){return/iemobile/i.test(t)}function qC(t=Gn()){return/android/i.test(t)}function $C(t=Gn()){return/blackberry/i.test(t)}function FC(t=Gn()){return/webos/i.test(t)}function Tb(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hV(t=Gn()){var e;return Tb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fV(){return j7()&&document.documentMode===10}function HC(t=Gn()){return Tb(t)||qC(t)||FC(t)||$C(t)||/windows phone/i.test(t)||BC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e=[]){let n;switch(t){case"Browser":n=DT(Gn());break;case"Worker":n=`${DT(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const h=e(s);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e={}){return Qa(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=6;class vV{constructor(e){var n,r,i,s;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:gV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kT(this),this.idTokenSubscription=new kT(this),this.beforeStateQueue=new mV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Na(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rp(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Pa(this));const n=e?nn(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),n=new vV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $h("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Na(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[Na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&GL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Nl(t){return nn(t)}class kT{constructor(e){this.auth=e,this.observer=null,this.addObserver=k7(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(t){Lg=t}function GC(t){return Lg.loadJS(t)}function bV(){return Lg.recaptchaEnterpriseScript}function _V(){return Lg.gapiScript}function wV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SV{constructor(){this.enterprise=new EV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TV="recaptcha-enterprise",YC="NO_RECAPTCHA";class AV{constructor(e){this.type=TV,this.auth=Nl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,d)=>{rV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new nV(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,c(f.siteKey)}}).catch(h=>{d(h)})})}function i(s,c,d){const h=window.grecaptcha;OT(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{c(f)}).catch(()=>{c(YC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SV().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(d=>{if(!n&&OT(window.grecaptcha))i(d,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=bV();h.length!==0&&(h+=d),GC(h).then(()=>{i(d,s,c)}).catch(f=>{c(f)})}}).catch(d=>{c(d)})})}}async function MT(t,e,n,r=!1,i=!1){const s=new AV(t);let c;if(i)c=YC;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Q2(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await MT(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await MT(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e){const n=Mg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ml(s,e??{}))return i;hi(i,"already-initialized")}return n.initialize({options:e})}function NV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Na);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function CV(t,e,n){const r=Nl(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=WC(e),{host:c,port:d}=OV(e),h=d===null?"":`:${d}`,f={url:`${s}//${c}${h}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ml(f,r.config.emulator)&&ml(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Al(c)?(gb(`${s}//${c}${h}`),vb("Auth",!0)):IV()}function WC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OV(t){const e=WC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:LT(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:LT(c)}}}function LT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ja("not implemented")}_getIdTokenResponse(e){return ja("not implemented")}_linkToIdToken(e,n){return ja("not implemented")}_getReauthenticationResolver(e){return ja("not implemented")}}async function RV(t,e){return Qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e){return Kh(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function kV(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ab{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q2(e,n,"signInWithPassword",PV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q2(e,r,"signUpPassword",RV);case"emailLink":return kV(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e){return Kh(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="http://localhost";class gl extends Ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_b(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new gl(r,i);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kc(e,n)}buildRequest(){const e={requestUri:MV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VV(t){const e=Gd(Yd(t)).link,n=e?Gd(Yd(e)).deep_link_id:null,r=Gd(Yd(t)).deep_link_id;return(r?Gd(Yd(r)).link:null)||r||n||e||t}class jb{constructor(e){var n,r,i,s,c,d;const h=Gd(Yd(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(r=h.oobCode)!==null&&r!==void 0?r:null,v=LV((i=h.mode)!==null&&i!==void 0?i:null);Oe(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=VV(e);try{return new jb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.providerId=gu.PROVIDER_ID}static credential(e,n){return yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jb.parseLink(n);return Oe(r,"argument-error"),yh._fromEmailAndCode(e,r.code,r.tenantId)}}gu.PROVIDER_ID="password";gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends XC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Gh{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Gh{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Gh{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return Kh(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ci._fromIdTokenResponse(e,r,i),c=VT(r);return new vl({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=VT(r);return new vl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Qi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function QC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,s,e,r):s})}async function zV(t,e,n=!1){const r=await Jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e,n=!1){const{auth:r}=t;if(Sr(r.app))return Promise.reject(Pa(r));const i="reauthenticate";try{const s=await Jc(t,QC(r,i,e,t),n);Oe(s.idToken,r,"internal-error");const c=Eb(s.idToken);Oe(c,r,"internal-error");const{sub:d}=c;return Oe(t.uid===d,r,"user-mismatch"),vl._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(t,e,n=!1){if(Sr(t.app))return Promise.reject(Pa(t));const r="signIn",i=await QC(t,r,e),s=await vl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qV(t,e){return ZC(Nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t){const e=Nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eO(t,e,n){if(Sr(t.app))return Promise.reject(Pa(t));const r=Nl(t),c=await Q2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&JC(t),h}),d=await vl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function $V(t,e,n){return Sr(t.app)?Promise.reject(Pa(t)):qV(nn(t),gu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return Qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=nn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Jc(r,FV(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function KV(t,e,n,r){return nn(t).onIdTokenChanged(e,n,r)}function GV(t,e,n){return nn(t).beforeAuthStateChanged(e,n)}function YV(t,e,n,r){return nn(t).onAuthStateChanged(e,n,r)}function tO(t){return nn(t).signOut()}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1e3,XV=10;class rO extends nO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);fV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rO.type="LOCAL";const QV=rO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends nO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iO.type="SESSION";const aO=iO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async f=>f(n.origin,s)),h=await ZV(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,c;return new Promise((d,h)=>{const f=Nb("",20);i.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function eU(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function tU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rU(){return sO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebaseLocalStorageDb",iU=1,Mp="firebaseLocalStorage",lO="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([Mp],e?"readwrite":"readonly").objectStore(Mp)}function aU(){const t=indexedDB.deleteDatabase(oO);return new Yh(t).toPromise()}function Z2(){const t=indexedDB.open(oO,iU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mp,{keyPath:lO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mp)?e(r):(r.close(),await aU(),e(await Z2()))})})}async function UT(t,e,n){const r=Ug(t,!0).put({[lO]:e,value:n});return new Yh(r).toPromise()}async function sU(t,e){const n=Ug(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function zT(t,e){const n=Ug(t,!0).delete(e);return new Yh(n).toPromise()}const oU=800,lU=3;class cO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(rU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tU(),!this.activeServiceWorker)return;this.sender=new JV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z2();return await UT(e,kp,"1"),await zT(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ug(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cO.type="LOCAL";const cU=cO;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t,e){return e?Na(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Ab{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dU(t){return ZC(t.auth,new Cb(t),t.bypassAuthState)}function hU(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),BV(n,new Cb(t),t.bypassAuthState)}async function fU(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),zV(n,new Cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dU;case"linkViaPopup":case"linkViaRedirect":return fU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:hi(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new Hh(2e3,1e4);class Uc extends uO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Uc.currentPopupAction&&Uc.currentPopupAction.cancel(),Uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const e=Nb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mU.get())};e()}}Uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="pendingRedirect",fp=new Map;class gU extends uO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fp.get(this.auth._key());if(!e){try{const r=await vU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fp.set(this.auth._key(),e)}return this.bypassAuthState||fp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vU(t,e){const n=bU(e),r=xU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yU(t,e){fp.set(t._key(),e)}function xU(t){return Na(t._redirectPersistence)}function bU(t){return hp(pU,t.config.apiKey,t.name)}async function _U(t,e,n=!1){if(Sr(t.app))return Promise.reject(Pa(t));const r=Nl(t),i=uU(r,e),c=await new gU(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=10*60*1e3;class SU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wU&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function NU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TU(t);for(const n of e)try{if(CU(n))return}catch{}hi(t,"unauthorized-domain")}function CU(t){const e=W2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!jU.test(n))return!1;if(AU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new Hh(3e4,6e4);function qT(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IU(t){return new Promise((e,n)=>{var r,i,s;function c(){qT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(Vi(t,"network-request-failed"))},timeout:OU.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ui().gapi)===null||s===void 0)&&s.load)c();else{const d=wV("iframefcb");return Ui()[d]=()=>{gapi.load?c():n(Vi(t,"network-request-failed"))},GC(`${_V()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw mp=null,e})}let mp=null;function RU(t){return mp=mp||IU(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Hh(5e3,15e3),DU="__/auth/iframe",kU="emulator/auth/iframe",MU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VU(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sb(e,kU):`https://${t.config.authDomain}/${DU}`,r={apiKey:e.apiKey,appName:t.name,v:jl},i=LU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fh(r).slice(1)}`}async function UU(t){const e=await RU(t),n=Ui().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:VU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const c=Vi(t,"network-request-failed"),d=Ui().setTimeout(()=>{s(c)},PU.get());function h(){Ui().clearTimeout(d),i(r)}r.ping(h).then(h,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BU=500,qU=600,$U="_blank",FU="http://localhost";class $T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HU(t,e,n,r=BU,i=qU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},zU),{width:r.toString(),height:i.toString(),top:s,left:c}),f=Gn().toLowerCase();n&&(d=zC(f)?$U:n),VC(f)&&(e=e||FU,h.scrollbars="yes");const p=Object.entries(h).reduce((x,[_,w])=>`${x}${_}=${w},`,"");if(hV(f)&&d!=="_self")return KU(e||"",d),new $T(null);const v=window.open(e||"",d,p);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new $T(v)}function KU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="__/auth/handler",YU="emulator/auth/handler",WU=encodeURIComponent("fac");async function FT(t,e,n,r,i,s){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:i};if(e instanceof XC){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",D7(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))c[p]=v}if(e instanceof Gh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const h=await t._getAppCheckToken(),f=h?`#${WU}=${encodeURIComponent(h)}`:"";return`${XU(t)}?${Fh(d).slice(1)}${f}`}function XU({config:t}){return t.emulator?Sb(t,YU):`https://${t.authDomain}/${GU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="webStorageSupport";class QU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aO,this._completeRedirectFn=_U,this._overrideRedirectResult=yU}async _openPopup(e,n,r,i){var s;qa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const c=await FT(e,n,r,W2(),i);return HU(e,c,Nb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await FT(e,n,r,W2(),i);return eU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UU(e),r=new SU(e);return n.register("authEvent",i=>(Oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q0,{type:Q0},i=>{var s;const c=(s=i?.[0])===null||s===void 0?void 0:s[Q0];c!==void 0&&n(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||UC()||Tb()}}const ZU=QU;var HT="@firebase/auth",KT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tz(t){pl(new Ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KC(t)},f=new yV(r,i,s,h);return NV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new Ws("auth-internal",e=>{const n=Nl(e.getProvider("auth").getImmediate());return(r=>new JU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(HT,KT,ez(t)),Li(HT,KT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=5*60,rz=SC("authIdTokenMaxAge")||nz;let GT=null;const iz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rz)return;const i=n?.token;GT!==i&&(GT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hO(t=bb()){const e=Mg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jV(t,{popupRedirectResolver:ZU,persistence:[cU,QV,aO]}),r=SC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=iz(s.toString());GV(n,c,()=>c(n.currentUser)),KV(n,d=>c(d))}}const i=bC("auth");return i&&CV(n,`http://${i}`),n}function az(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",az().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tz("Browser");var sz="firebase",oz="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(sz,oz,"app");var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,fO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,P){function M(){}M.prototype=P.prototype,C.D=P.prototype,C.prototype=new M,C.prototype.constructor=C,C.C=function(F,$,H){for(var U=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)U[pe-2]=arguments[pe];return P.prototype[$].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,P,M){M||(M=0);var F=Array(16);if(typeof P=="string")for(var $=0;16>$;++$)F[$]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for($=0;16>$;++$)F[$]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;P=C.g[0],M=C.g[1],$=C.g[2];var H=C.g[3],U=P+(H^M&($^H))+F[0]+3614090360&4294967295;P=M+(U<<7&4294967295|U>>>25),U=H+($^P&(M^$))+F[1]+3905402710&4294967295,H=P+(U<<12&4294967295|U>>>20),U=$+(M^H&(P^M))+F[2]+606105819&4294967295,$=H+(U<<17&4294967295|U>>>15),U=M+(P^$&(H^P))+F[3]+3250441966&4294967295,M=$+(U<<22&4294967295|U>>>10),U=P+(H^M&($^H))+F[4]+4118548399&4294967295,P=M+(U<<7&4294967295|U>>>25),U=H+($^P&(M^$))+F[5]+1200080426&4294967295,H=P+(U<<12&4294967295|U>>>20),U=$+(M^H&(P^M))+F[6]+2821735955&4294967295,$=H+(U<<17&4294967295|U>>>15),U=M+(P^$&(H^P))+F[7]+4249261313&4294967295,M=$+(U<<22&4294967295|U>>>10),U=P+(H^M&($^H))+F[8]+1770035416&4294967295,P=M+(U<<7&4294967295|U>>>25),U=H+($^P&(M^$))+F[9]+2336552879&4294967295,H=P+(U<<12&4294967295|U>>>20),U=$+(M^H&(P^M))+F[10]+4294925233&4294967295,$=H+(U<<17&4294967295|U>>>15),U=M+(P^$&(H^P))+F[11]+2304563134&4294967295,M=$+(U<<22&4294967295|U>>>10),U=P+(H^M&($^H))+F[12]+1804603682&4294967295,P=M+(U<<7&4294967295|U>>>25),U=H+($^P&(M^$))+F[13]+4254626195&4294967295,H=P+(U<<12&4294967295|U>>>20),U=$+(M^H&(P^M))+F[14]+2792965006&4294967295,$=H+(U<<17&4294967295|U>>>15),U=M+(P^$&(H^P))+F[15]+1236535329&4294967295,M=$+(U<<22&4294967295|U>>>10),U=P+($^H&(M^$))+F[1]+4129170786&4294967295,P=M+(U<<5&4294967295|U>>>27),U=H+(M^$&(P^M))+F[6]+3225465664&4294967295,H=P+(U<<9&4294967295|U>>>23),U=$+(P^M&(H^P))+F[11]+643717713&4294967295,$=H+(U<<14&4294967295|U>>>18),U=M+(H^P&($^H))+F[0]+3921069994&4294967295,M=$+(U<<20&4294967295|U>>>12),U=P+($^H&(M^$))+F[5]+3593408605&4294967295,P=M+(U<<5&4294967295|U>>>27),U=H+(M^$&(P^M))+F[10]+38016083&4294967295,H=P+(U<<9&4294967295|U>>>23),U=$+(P^M&(H^P))+F[15]+3634488961&4294967295,$=H+(U<<14&4294967295|U>>>18),U=M+(H^P&($^H))+F[4]+3889429448&4294967295,M=$+(U<<20&4294967295|U>>>12),U=P+($^H&(M^$))+F[9]+568446438&4294967295,P=M+(U<<5&4294967295|U>>>27),U=H+(M^$&(P^M))+F[14]+3275163606&4294967295,H=P+(U<<9&4294967295|U>>>23),U=$+(P^M&(H^P))+F[3]+4107603335&4294967295,$=H+(U<<14&4294967295|U>>>18),U=M+(H^P&($^H))+F[8]+1163531501&4294967295,M=$+(U<<20&4294967295|U>>>12),U=P+($^H&(M^$))+F[13]+2850285829&4294967295,P=M+(U<<5&4294967295|U>>>27),U=H+(M^$&(P^M))+F[2]+4243563512&4294967295,H=P+(U<<9&4294967295|U>>>23),U=$+(P^M&(H^P))+F[7]+1735328473&4294967295,$=H+(U<<14&4294967295|U>>>18),U=M+(H^P&($^H))+F[12]+2368359562&4294967295,M=$+(U<<20&4294967295|U>>>12),U=P+(M^$^H)+F[5]+4294588738&4294967295,P=M+(U<<4&4294967295|U>>>28),U=H+(P^M^$)+F[8]+2272392833&4294967295,H=P+(U<<11&4294967295|U>>>21),U=$+(H^P^M)+F[11]+1839030562&4294967295,$=H+(U<<16&4294967295|U>>>16),U=M+($^H^P)+F[14]+4259657740&4294967295,M=$+(U<<23&4294967295|U>>>9),U=P+(M^$^H)+F[1]+2763975236&4294967295,P=M+(U<<4&4294967295|U>>>28),U=H+(P^M^$)+F[4]+1272893353&4294967295,H=P+(U<<11&4294967295|U>>>21),U=$+(H^P^M)+F[7]+4139469664&4294967295,$=H+(U<<16&4294967295|U>>>16),U=M+($^H^P)+F[10]+3200236656&4294967295,M=$+(U<<23&4294967295|U>>>9),U=P+(M^$^H)+F[13]+681279174&4294967295,P=M+(U<<4&4294967295|U>>>28),U=H+(P^M^$)+F[0]+3936430074&4294967295,H=P+(U<<11&4294967295|U>>>21),U=$+(H^P^M)+F[3]+3572445317&4294967295,$=H+(U<<16&4294967295|U>>>16),U=M+($^H^P)+F[6]+76029189&4294967295,M=$+(U<<23&4294967295|U>>>9),U=P+(M^$^H)+F[9]+3654602809&4294967295,P=M+(U<<4&4294967295|U>>>28),U=H+(P^M^$)+F[12]+3873151461&4294967295,H=P+(U<<11&4294967295|U>>>21),U=$+(H^P^M)+F[15]+530742520&4294967295,$=H+(U<<16&4294967295|U>>>16),U=M+($^H^P)+F[2]+3299628645&4294967295,M=$+(U<<23&4294967295|U>>>9),U=P+($^(M|~H))+F[0]+4096336452&4294967295,P=M+(U<<6&4294967295|U>>>26),U=H+(M^(P|~$))+F[7]+1126891415&4294967295,H=P+(U<<10&4294967295|U>>>22),U=$+(P^(H|~M))+F[14]+2878612391&4294967295,$=H+(U<<15&4294967295|U>>>17),U=M+(H^($|~P))+F[5]+4237533241&4294967295,M=$+(U<<21&4294967295|U>>>11),U=P+($^(M|~H))+F[12]+1700485571&4294967295,P=M+(U<<6&4294967295|U>>>26),U=H+(M^(P|~$))+F[3]+2399980690&4294967295,H=P+(U<<10&4294967295|U>>>22),U=$+(P^(H|~M))+F[10]+4293915773&4294967295,$=H+(U<<15&4294967295|U>>>17),U=M+(H^($|~P))+F[1]+2240044497&4294967295,M=$+(U<<21&4294967295|U>>>11),U=P+($^(M|~H))+F[8]+1873313359&4294967295,P=M+(U<<6&4294967295|U>>>26),U=H+(M^(P|~$))+F[15]+4264355552&4294967295,H=P+(U<<10&4294967295|U>>>22),U=$+(P^(H|~M))+F[6]+2734768916&4294967295,$=H+(U<<15&4294967295|U>>>17),U=M+(H^($|~P))+F[13]+1309151649&4294967295,M=$+(U<<21&4294967295|U>>>11),U=P+($^(M|~H))+F[4]+4149444226&4294967295,P=M+(U<<6&4294967295|U>>>26),U=H+(M^(P|~$))+F[11]+3174756917&4294967295,H=P+(U<<10&4294967295|U>>>22),U=$+(P^(H|~M))+F[2]+718787259&4294967295,$=H+(U<<15&4294967295|U>>>17),U=M+(H^($|~P))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+P&4294967295,C.g[1]=C.g[1]+($+(U<<21&4294967295|U>>>11))&4294967295,C.g[2]=C.g[2]+$&4294967295,C.g[3]=C.g[3]+H&4294967295}r.prototype.u=function(C,P){P===void 0&&(P=C.length);for(var M=P-this.blockSize,F=this.B,$=this.h,H=0;H<P;){if($==0)for(;H<=M;)i(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<P;)if(F[$++]=C.charCodeAt(H++),$==this.blockSize){i(this,F),$=0;break}}else for(;H<P;)if(F[$++]=C[H++],$==this.blockSize){i(this,F),$=0;break}}this.h=$,this.o+=P},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var P=1;P<C.length-8;++P)C[P]=0;var M=8*this.o;for(P=C.length-8;P<C.length;++P)C[P]=M&255,M/=256;for(this.u(C),C=Array(16),P=M=0;4>P;++P)for(var F=0;32>F;F+=8)C[M++]=this.g[P]>>>F&255;return C};function s(C,P){var M=d;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=P(C)}function c(C,P){this.h=P;for(var M=[],F=!0,$=C.length-1;0<=$;$--){var H=C[$]|0;F&&H==P||(M[$]=H,F=!1)}this.g=M}var d={};function h(C){return-128<=C&&128>C?s(C,function(P){return new c([P|0],0>P?-1:0)}):new c([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return S(f(-C));for(var P=[],M=1,F=0;C>=M;F++)P[F]=C/M|0,M*=4294967296;return new c(P,0)}function p(C,P){if(C.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C.charAt(0)=="-")return S(p(C.substring(1),P));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(P,8)),F=v,$=0;$<C.length;$+=8){var H=Math.min(8,C.length-$),U=parseInt(C.substring($,$+H),P);8>H?(H=f(Math.pow(P,H)),F=F.j(H).add(f(U))):(F=F.j(M),F=F.add(f(U)))}return F}var v=h(0),x=h(1),_=h(16777216);t=c.prototype,t.m=function(){if(E(this))return-S(this).m();for(var C=0,P=1,M=0;M<this.g.length;M++){var F=this.i(M);C+=(0<=F?F:4294967296+F)*P,P*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(E(this))return"-"+S(this).toString(C);for(var P=f(Math.pow(C,6)),M=this,F="";;){var $=L(M,P).g;M=j(M,$.j(P));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(C);if(M=$,w(M))return H+F;for(;6>H.length;)H="0"+H;F=H+F}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var P=0;P<C.g.length;P++)if(C.g[P]!=0)return!1;return!0}function E(C){return C.h==-1}t.l=function(C){return C=j(this,C),E(C)?-1:w(C)?0:1};function S(C){for(var P=C.g.length,M=[],F=0;F<P;F++)M[F]=~C.g[F];return new c(M,~C.h).add(x)}t.abs=function(){return E(this)?S(this):this},t.add=function(C){for(var P=Math.max(this.g.length,C.g.length),M=[],F=0,$=0;$<=P;$++){var H=F+(this.i($)&65535)+(C.i($)&65535),U=(H>>>16)+(this.i($)>>>16)+(C.i($)>>>16);F=U>>>16,H&=65535,U&=65535,M[$]=U<<16|H}return new c(M,M[M.length-1]&-2147483648?-1:0)};function j(C,P){return C.add(S(P))}t.j=function(C){if(w(this)||w(C))return v;if(E(this))return E(C)?S(this).j(S(C)):S(S(this).j(C));if(E(C))return S(this.j(S(C)));if(0>this.l(_)&&0>C.l(_))return f(this.m()*C.m());for(var P=this.g.length+C.g.length,M=[],F=0;F<2*P;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<C.g.length;$++){var H=this.i(F)>>>16,U=this.i(F)&65535,pe=C.i($)>>>16,ve=C.i($)&65535;M[2*F+2*$]+=U*ve,O(M,2*F+2*$),M[2*F+2*$+1]+=H*ve,O(M,2*F+2*$+1),M[2*F+2*$+1]+=U*pe,O(M,2*F+2*$+1),M[2*F+2*$+2]+=H*pe,O(M,2*F+2*$+2)}for(F=0;F<P;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=P;F<2*P;F++)M[F]=0;return new c(M,0)};function O(C,P){for(;(C[P]&65535)!=C[P];)C[P+1]+=C[P]>>>16,C[P]&=65535,P++}function R(C,P){this.g=C,this.h=P}function L(C,P){if(w(P))throw Error("division by zero");if(w(C))return new R(v,v);if(E(C))return P=L(S(C),P),new R(S(P.g),S(P.h));if(E(P))return P=L(C,S(P)),new R(S(P.g),P.h);if(30<C.g.length){if(E(C)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var M=x,F=P;0>=F.l(C);)M=D(M),F=D(F);var $=B(M,1),H=B(F,1);for(F=B(F,2),M=B(M,2);!w(F);){var U=H.add(F);0>=U.l(C)&&($=$.add(M),H=U),F=B(F,1),M=B(M,1)}return P=j(C,$.j(P)),new R($,P)}for($=v;0<=C.l(P);){for(M=Math.max(1,Math.floor(C.m()/P.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),H=f(M),U=H.j(P);E(U)||0<U.l(C);)M-=F,H=f(M),U=H.j(P);w(H)&&(H=x),$=$.add(H),C=j(C,U)}return new R($,C)}t.A=function(C){return L(this,C).h},t.and=function(C){for(var P=Math.max(this.g.length,C.g.length),M=[],F=0;F<P;F++)M[F]=this.i(F)&C.i(F);return new c(M,this.h&C.h)},t.or=function(C){for(var P=Math.max(this.g.length,C.g.length),M=[],F=0;F<P;F++)M[F]=this.i(F)|C.i(F);return new c(M,this.h|C.h)},t.xor=function(C){for(var P=Math.max(this.g.length,C.g.length),M=[],F=0;F<P;F++)M[F]=this.i(F)^C.i(F);return new c(M,this.h^C.h)};function D(C){for(var P=C.g.length+1,M=[],F=0;F<P;F++)M[F]=C.i(F)<<1|C.i(F-1)>>>31;return new c(M,C.h)}function B(C,P){var M=P>>5;P%=32;for(var F=C.g.length-M,$=[],H=0;H<F;H++)$[H]=0<P?C.i(H+M)>>>P|C.i(H+M+1)<<32-P:C.i(H+M);return new c($,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fO=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=p,Hs=c}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mO,Wd,pO,pp,J2,gO,vO,yO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,N){return g==Array.prototype||g==Object.prototype||(g[T]=N.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var T=0;T<g.length;++T){var N=g[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var N=r;g=g.split(".");for(var V=0;V<g.length-1;V++){var X=g[V];if(!(X in N))break e;N=N[X]}g=g[g.length-1],V=N[g],T=T(V),T!=V&&T!=null&&e(N,g,{configurable:!0,writable:!0,value:T})}}function s(g,T){g instanceof String&&(g+="");var N=0,V=!1,X={next:function(){if(!V&&N<g.length){var ne=N++;return{value:T(ne,g[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(g){return g||function(){return s(this,function(T,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function f(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function p(g,T,N){return g.call.apply(g.bind,arguments)}function v(g,T,N){if(!g)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,V),g.apply(T,X)}}return function(){return g.apply(T,arguments)}}function x(g,T,N){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,x.apply(null,arguments)}function _(g,T){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),g.apply(this,V)}}function w(g,T){function N(){}N.prototype=T.prototype,g.aa=T.prototype,g.prototype=new N,g.prototype.constructor=g,g.Qb=function(V,X,ne){for(var me=Array(arguments.length-2),We=2;We<arguments.length;We++)me[We-2]=arguments[We];return T.prototype[X].apply(V,me)}}function E(g){const T=g.length;if(0<T){const N=Array(T);for(let V=0;V<T;V++)N[V]=g[V];return N}return[]}function S(g,T){for(let N=1;N<arguments.length;N++){const V=arguments[N];if(h(V)){const X=g.length||0,ne=V.length||0;g.length=X+ne;for(let me=0;me<ne;me++)g[X+me]=V[me]}else g.push(V)}}class j{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function O(g){return/^[\s\xa0]*$/.test(g)}function R(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function L(g){return L[" "](g),g}L[" "]=function(){};var D=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function B(g,T,N){for(const V in g)T.call(N,g[V],V,g)}function C(g,T){for(const N in g)T.call(void 0,g[N],N,g)}function P(g){const T={};for(const N in g)T[N]=g[N];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(g,T){let N,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(N in V)g[N]=V[N];for(let ne=0;ne<M.length;ne++)N=M[ne],Object.prototype.hasOwnProperty.call(V,N)&&(g[N]=V[N])}}function $(g){var T=1;g=g.split(":");const N=[];for(;0<T&&g.length;)N.push(g.shift()),T--;return g.length&&N.push(g.join(":")),N}function H(g){d.setTimeout(()=>{throw g},0)}function U(){var g=fe;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class pe{constructor(){this.h=this.g=null}add(T,N){const V=ve.get();V.set(T,N),this.h?this.h.next=V:this.g=V,this.h=V}}var ve=new j(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let z,J=!1,fe=new pe,K=()=>{const g=d.Promise.resolve(void 0);z=()=>{g.then(ie)}};var ie=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(N){H(N)}var T=ve;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}J=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const N=()=>{};d.addEventListener("test",N,T),d.removeEventListener("test",N,T)}catch{}return g}();function je(g,T){if(de.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var N=this.type=g.type,V=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(D){e:{try{L(T.nodeName);var X=!0;break e}catch{}X=!1}X||(T=null)}}else N=="mouseover"?T=g.fromElement:N=="mouseout"&&(T=g.toElement);this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Pe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&je.aa.h.call(this)}}w(je,de);var Pe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ye(g,T,N,V,X){this.listener=g,this.proxy=null,this.src=T,this.type=N,this.capture=!!V,this.ha=X,this.key=++ct,this.da=this.fa=!1}function ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ve(g){this.src=g,this.g={},this.h=0}Ve.prototype.add=function(g,T,N,V,X){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var me=Pt(g,T,V,X);return-1<me?(T=g[me],N||(T.fa=!1)):(T=new ye(T,this.src,ne,!!V,X),T.fa=N,g.push(T)),T};function he(g,T){var N=T.type;if(N in g.g){var V=g.g[N],X=Array.prototype.indexOf.call(V,T,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(V,X,1),ne&&(ke(T),g.g[N].length==0&&(delete g.g[N],g.h--))}}function Pt(g,T,N,V){for(var X=0;X<g.length;++X){var ne=g[X];if(!ne.da&&ne.listener==T&&ne.capture==!!N&&ne.ha==V)return X}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),rn={};function mn(g,T,N,V,X){if(Array.isArray(T)){for(var ne=0;ne<T.length;ne++)mn(g,T[ne],N,V,X);return null}return N=vf(N),g&&g[Ht]?g.K(T,N,f(V)?!!V.capture:!1,X):Kt(g,T,N,!1,V,X)}function Kt(g,T,N,V,X,ne){if(!T)throw Error("Invalid event type");var me=f(X)?!!X.capture:!!X,We=Bl(g);if(We||(g[Ye]=We=new Ve(g)),N=We.add(T,N,V,me,ne),N.proxy)return N;if(V=Ul(),N.proxy=V,V.src=g,V.listener=N,g.addEventListener)Se||(X=me),X===void 0&&(X=!1),g.addEventListener(T.toString(),V,X);else if(g.attachEvent)g.attachEvent(mo(T.toString()),V);else if(g.addListener&&g.removeListener)g.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Ul(){function g(N){return T.call(g.src,g.listener,N)}const T=Lv;return g}function Cu(g,T,N,V,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)Cu(g,T[ne],N,V,X);else V=f(V)?!!V.capture:!!V,N=vf(N),g&&g[Ht]?(g=g.i,T=String(T).toString(),T in g.g&&(ne=g.g[T],N=Pt(ne,N,V,X),-1<N&&(ke(ne[N]),Array.prototype.splice.call(ne,N,1),ne.length==0&&(delete g.g[T],g.h--)))):g&&(g=Bl(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Pt(T,N,V,X)),(N=-1<g?T[g]:null)&&zl(N))}function zl(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[Ht])he(T.i,g);else{var N=g.type,V=g.proxy;T.removeEventListener?T.removeEventListener(N,V,g.capture):T.detachEvent?T.detachEvent(mo(N),V):T.addListener&&T.removeListener&&T.removeListener(V),(N=Bl(T))?(he(N,g),N.h==0&&(N.src=null,T[Ye]=null)):ke(g)}}}function mo(g){return g in rn?rn[g]:rn[g]="on"+g}function Lv(g,T){if(g.da)g=!0;else{T=new je(T,this);var N=g.listener,V=g.ha||g.src;g.fa&&zl(g),g=N.call(V,T)}return g}function Bl(g){return g=g[Ye],g instanceof Ve?g:null}var Ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function vf(g){return typeof g=="function"?g:(g[Ou]||(g[Ou]=function(T){return g.handleEvent(T)}),g[Ou])}function Dt(){re.call(this),this.i=new Ve(this),this.M=this,this.F=null}w(Dt,re),Dt.prototype[Ht]=!0,Dt.prototype.removeEventListener=function(g,T,N,V){Cu(this,g,T,N,V)};function at(g,T){var N,V=g.F;if(V)for(N=[];V;V=V.F)N.push(V);if(g=g.M,V=T.type||T,typeof T=="string")T=new de(T,g);else if(T instanceof de)T.target=T.target||g;else{var X=T;T=new de(V,g),F(T,X)}if(X=!0,N)for(var ne=N.length-1;0<=ne;ne--){var me=T.g=N[ne];X=ur(me,V,!0,T)&&X}if(me=T.g=g,X=ur(me,V,!0,T)&&X,X=ur(me,V,!1,T)&&X,N)for(ne=0;ne<N.length;ne++)me=T.g=N[ne],X=ur(me,V,!1,T)&&X}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var N=g.g[T],V=0;V<N.length;V++)ke(N[V]);delete g.g[T],g.h--}}this.F=null},Dt.prototype.K=function(g,T,N,V){return this.i.add(String(g),T,!1,N,V)},Dt.prototype.L=function(g,T,N,V){return this.i.add(String(g),T,!0,N,V)};function ur(g,T,N,V){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var X=!0,ne=0;ne<T.length;++ne){var me=T[ne];if(me&&!me.da&&me.capture==N){var We=me.listener,sn=me.ha||me.src;me.fa&&he(g.i,me),X=We.call(sn,V)!==!1&&X}}return X&&!V.defaultPrevented}function Un(g,T,N){if(typeof g=="function")N&&(g=x(g,N));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:d.setTimeout(g,T||0)}function yf(g){g.g=Un(()=>{g.g=null,g.i&&(g.i=!1,yf(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Vv extends re{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:yf(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(g){re.call(this),this.h=g,this.g={}}w(po,re);var go=[];function vo(g){B(g.g,function(T,N){this.g.hasOwnProperty(N)&&zl(T)},g),g.g={}}po.prototype.N=function(){po.aa.N.call(this),vo(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=d.JSON.stringify,ql=d.JSON.parse,yo=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function Iu(){}Iu.prototype.h=null;function Ru(g){return g.h||(g.h=g.i())}function Pu(){}var Ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ea(){de.call(this,"d")}w(ea,de);function Du(){de.call(this,"c")}w(Du,de);var xi={},ku=null;function rs(){return ku=ku||new Dt}xi.La="serverreachability";function $l(g){de.call(this,xi.La,g)}w($l,de);function is(g){const T=rs();at(T,new $l(T))}xi.STAT_EVENT="statevent";function xf(g,T){de.call(this,xi.STAT_EVENT,g),this.stat=T}w(xf,de);function St(g){const T=rs();at(T,new xf(T,g))}xi.Ma="timingevent";function an(g,T){de.call(this,xi.Ma,g),this.size=T}w(an,de);function Gt(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},T)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Mu(g,T,N,V,X,ne){g.info(function(){if(g.g)if(ne)for(var me="",We=ne.split("&"),sn=0;sn<We.length;sn++){var Xe=We[sn].split("=");if(1<Xe.length){var gn=Xe[0];Xe=Xe[1];var on=gn.split("_");me=2<=on.length&&on[1]=="type"?me+(gn+"="+Xe+"&"):me+(gn+"=redacted&")}}else me=null;else me=ne;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+T+`
`+N+`
`+me})}function Uv(g,T,N,V,X,ne,me){g.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+T+`
`+N+`
`+ne+" "+me})}function as(g,T,N,V){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+xo(g,N)+(V?" "+V:"")})}function bf(g,T){g.info(function(){return"TIMEOUT: "+T})}Cr.prototype.info=function(){};function xo(g,T){if(!g.g)return T;if(!T)return null;try{var N=JSON.parse(T);if(N){for(g=0;g<N.length;g++)if(Array.isArray(N[g])){var V=N[g];if(!(2>V.length)){var X=V[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var me=1;me<X.length;me++)X[me]=""}}}}return ti(N)}catch{return T}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function _i(){}w(_i,Iu),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},bi=new _i;function Yn(g,T,N,V){this.j=g,this.i=T,this.l=N,this.R=V||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var Lu={},Fl={};function ni(g,T,N){g.L=1,g.v=Eo(dr(T)),g.m=N,g.P=!0,na(g,null)}function na(g,T){g.F=Date.now(),bo(g),g.A=dr(g.v);var N=g.A,V=g.R;Array.isArray(V)||(V=[String(V)]),$u(N.i,"t",V),g.C=0,N=g.j.J,g.h=new Vt,g.g=Mf(g.j,N?T:null,!g.m),0<g.O&&(g.M=new Vv(x(g.Y,g,g.g),g.O)),T=g.U,N=g.g,V=g.ca;var X="readystatechange";Array.isArray(X)||(X&&(go[0]=X.toString()),X=go);for(var ne=0;ne<X.length;ne++){var me=mn(N,X[ne],V||T.handleEvent,!1,T.h||T);if(!me)break;T.g[me.key]=me}T=g.H?P(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),is(),Mu(g.i,g.u,g.A,g.l,g.R,g.m)}Yn.prototype.ca=function(g){g=g.target;const T=this.M;T&&Pr(g)==3?T.j():this.Y(g)},Yn.prototype.Y=function(g){try{if(g==this.g)e:{const on=Pr(this.g);var T=this.g.Ba();const ua=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Nf(this.g)))){this.J||on!=4||T==7||(T==8||0>=ua?is(3):is(2)),os(this);var N=this.g.Z();this.X=N;t:if(_f(this)){var V=Nf(this.g);g="";var X=V.length,ne=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),wi(this);var me="";break t}this.h.i=new d.TextDecoder}for(T=0;T<X;T++)this.h.h=!0,g+=this.h.i.decode(V[T],{stream:!(ne&&T==X-1)});V.length=0,this.h.g+=g,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=N==200,Uv(this.i,this.u,this.A,this.l,this.R,on,N),this.o){if(this.T&&!this.K){t:{if(this.g){var We,sn=this.g;if((We=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(We)){var Xe=We;break t}}Xe=null}if(N=Xe)as(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,N);else{this.o=!1,this.s=3,St(12),An(this),wi(this);break e}}if(this.P){N=!0;let jn;for(;!this.J&&this.C<me.length;)if(jn=wf(this,me),jn==Fl){on==4&&(this.s=4,St(14),N=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Lu){this.s=4,St(15),as(this.i,this.l,me,"[Invalid Chunk]"),N=!1;break}else as(this.i,this.l,jn,null),_o(this,jn);if(_f(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||me.length!=0||this.h.h||(this.s=1,St(16),N=!1),this.o=this.o&&N,!N)as(this.i,this.l,me,"[Invalid Chunked Response]"),An(this),wi(this);else if(0<me.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Ro(gn),gn.M=!0,St(11))}}else as(this.i,this.l,me,null),_o(this,me);on==4&&An(this),this.o&&!this.J&&(on==4?Pf(this.j,this):(this.o=!1,bo(this)))}else Fv(this.g),N==400&&0<me.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),An(this),wi(this)}}}catch{}finally{}};function _f(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function wf(g,T){var N=g.C,V=T.indexOf(`
`,N);return V==-1?Fl:(N=Number(T.substring(N,V)),isNaN(N)?Lu:(V+=1,V+N>T.length?Fl:(T=T.slice(V,V+N),g.C=V+N,T)))}Yn.prototype.cancel=function(){this.J=!0,An(this)};function bo(g){g.S=Date.now()+g.I,Sf(g,g.I)}function Sf(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Gt(x(g.ba,g),T)}function os(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Yn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(bf(this.i,this.A),this.L!=2&&(is(),St(17)),An(this),this.s=2,wi(this)):Sf(this,this.S-g)};function wi(g){g.j.G==0||g.J||Pf(g.j,g)}function An(g){os(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,vo(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function _o(g,T){try{var N=g.j;if(N.G!=0&&(N.g==g||Vu(N.h,g))){if(!g.K&&Vu(N.h,g)&&N.G==3){try{var V=N.Da.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<g.F)nc(N),ec(N);else break e;Yu(N),St(18)}}else N.za=X[1],0<N.za-N.T&&37500>X[2]&&N.F&&N.v==0&&!N.C&&(N.C=Gt(x(N.Za,N),6e3));if(1>=Kl(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ca(N,11)}else if((g.K||N.g==g)&&nc(N),!O(T))for(X=N.Da.g.parse(T),T=0;T<X.length;T++){let Xe=X[T];if(N.T=Xe[0],Xe=Xe[1],N.G==2)if(Xe[0]=="c"){N.K=Xe[1],N.ia=Xe[2];const gn=Xe[3];gn!=null&&(N.la=gn,N.j.info("VER="+N.la));const on=Xe[4];on!=null&&(N.Aa=on,N.j.info("SVER="+N.Aa));const ua=Xe[5];ua!=null&&typeof ua=="number"&&0<ua&&(V=1.5*ua,N.L=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const jn=g.g;if(jn){const Ci=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var ne=V.h;ne.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Gl(ne,ne.h),ne.h=null))}if(V.D){const Xu=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xu&&(V.ya=Xu,ut(V.I,V.D,Xu))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-g.F,N.j.info("Handshake RTT: "+N.R+"ms")),V=N;var me=g;if(V.qa=kf(V,V.J?V.ia:null,V.W),me.K){Wn(V.h,me);var We=me,sn=V.L;sn&&(We.I=sn),We.B&&(os(We),bo(We)),V.g=me}else If(V);0<N.i.length&&tc(N)}else Xe[0]!="stop"&&Xe[0]!="close"||ca(N,7);else N.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ca(N,7):Ku(N):Xe[0]!="noop"&&N.l&&N.l.ta(Xe),N.v=0)}}is(4)}catch{}}var Ef=class{constructor(g,T){this.g=g,this.map=T}};function ra(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Kl(g){return g.h?1:g.g?g.g.size:0}function Vu(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Gl(g,T){g.g?g.g.add(T):g.h=T}function Wn(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}ra.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Uu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const N of g.g.values())T=T.concat(N.D);return T}return E(g.i)}function zv(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var T=[],N=g.length,V=0;V<N;V++)T.push(g[V]);return T}T=[],N=0;for(V in g)T[N++]=g[V];return T}function Yl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var T=[];g=g.length;for(var N=0;N<g;N++)T.push(N);return T}T=[],N=0;for(const V in g)T[N++]=V;return T}}}function zu(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var N=Yl(g),V=zv(g),X=V.length,ne=0;ne<X;ne++)T.call(void 0,V[ne],N&&N[ne],g)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bv(g,T){if(g){g=g.split("&");for(var N=0;N<g.length;N++){var V=g[N].indexOf("="),X=null;if(0<=V){var ne=g[N].substring(0,V);X=g[N].substring(V+1)}else ne=g[N];T(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Yt(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Yt){this.h=g.h,So(this,g.j),this.o=g.o,this.g=g.g,ls(this,g.s),this.l=g.l;var T=g.i,N=new aa;N.i=T.i,T.g&&(N.g=new Map(T.g),N.h=T.h),ia(this,N),this.m=g.m}else g&&(T=String(g).match(wo))?(this.h=!1,So(this,T[1]||"",!0),this.o=Or(T[2]||""),this.g=Or(T[3]||"",!0),ls(this,T[4]),this.l=Or(T[5]||"",!0),ia(this,T[6]||"",!0),this.m=Or(T[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}Yt.prototype.toString=function(){var g=[],T=this.j;T&&g.push(To(T,Bu,!0),":");var N=this.g;return(N||T=="file")&&(g.push("//"),(T=this.o)&&g.push(To(T,Bu,!0),"@"),g.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&g.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&g.push("/"),g.push(To(N,N.charAt(0)=="/"?qv:qu,!0))),(N=this.i.toString())&&g.push("?",N),(N=this.m)&&g.push("#",To(N,Wl)),g.join("")};function dr(g){return new Yt(g)}function So(g,T,N){g.j=N?Or(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function ls(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function ia(g,T,N){T instanceof aa?(g.i=T,Af(g.i,g.h)):(N||(T=To(T,$v)),g.i=new aa(T,g.h))}function ut(g,T,N){g.i.set(T,N)}function Eo(g){return ut(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Or(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function To(g,T,N){return typeof g=="string"?(g=encodeURI(g).replace(T,Tf),N&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Tf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Bu=/[#\/\?@]/g,qu=/[#\?:]/g,qv=/[#\?]/g,$v=/[#\?@]/g,Wl=/#/g;function aa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Ir(g){g.g||(g.g=new Map,g.h=0,g.i&&Bv(g.i,function(T,N){g.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=aa.prototype,t.add=function(g,T){Ir(this),this.i=null,g=Si(this,g);var N=this.g.get(g);return N||this.g.set(g,N=[]),N.push(T),this.h+=1,this};function sa(g,T){Ir(g),T=Si(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function oa(g,T){return Ir(g),T=Si(g,T),g.g.has(T)}t.forEach=function(g,T){Ir(this),this.g.forEach(function(N,V){N.forEach(function(X){g.call(T,X,V,this)},this)},this)},t.na=function(){Ir(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),N=[];for(let V=0;V<T.length;V++){const X=g[V];for(let ne=0;ne<X.length;ne++)N.push(T[V])}return N},t.V=function(g){Ir(this);let T=[];if(typeof g=="string")oa(this,g)&&(T=T.concat(this.g.get(Si(this,g))));else{g=Array.from(this.g.values());for(let N=0;N<g.length;N++)T=T.concat(g[N])}return T},t.set=function(g,T){return Ir(this),this.i=null,g=Si(this,g),oa(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function $u(g,T,N){sa(g,T),0<N.length&&(g.i=null,g.g.set(Si(g,T),E(N)),g.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var N=0;N<T.length;N++){var V=T[N];const ne=encodeURIComponent(String(V)),me=this.V(V);for(V=0;V<me.length;V++){var X=ne;me[V]!==""&&(X+="="+encodeURIComponent(String(me[V]))),g.push(X)}}return this.i=g.join("&")};function Si(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Af(g,T){T&&!g.j&&(Ir(g),g.i=null,g.g.forEach(function(N,V){var X=V.toLowerCase();V!=X&&(sa(this,V),$u(this,X,N))},g)),g.j=T}function Ao(g,T){const N=new Cr;if(d.Image){const V=new Image;V.onload=_(Rr,N,"TestLoadImage: loaded",!0,T,V),V.onerror=_(Rr,N,"TestLoadImage: error",!1,T,V),V.onabort=_(Rr,N,"TestLoadImage: abort",!1,T,V),V.ontimeout=_(Rr,N,"TestLoadImage: timeout",!1,T,V),d.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=g}else T(!1)}function ri(g,T){const N=new Cr,V=new AbortController,X=setTimeout(()=>{V.abort(),Rr(N,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:V.signal}).then(ne=>{clearTimeout(X),ne.ok?Rr(N,"TestPingServer: ok",!0,T):Rr(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),Rr(N,"TestPingServer: error",!1,T)})}function Rr(g,T,N,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(N)}catch{}}function jo(){this.g=new yo}function Ei(g,T,N){const V=N||"";try{zu(g,function(X,ne){let me=X;f(X)&&(me=ti(X)),T.push(V+ne+"="+encodeURIComponent(me))})}catch(X){throw T.push(V+"type="+encodeURIComponent("_badmap")),X}}function cs(g){this.l=g.Ub||null,this.j=g.eb||!1}w(cs,Iu),cs.prototype.g=function(){return new la(this.l,this.j)},cs.prototype.i=function(g){return function(){return g}}({});function la(g,T){Dt.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(la,Dt),t=la.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,Ai(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||d).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Ti(this):Ai(this),this.readyState==3&&Fu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ti(this))},t.Qa=function(g){this.g&&(this.response=g,Ti(this))},t.ga=function(){this.g&&Ti(this)};function Ti(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ai(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,g.push(N[0]+": "+N[1]),N=T.next();return g.join(`\r
`)};function Ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Hu(g){let T="";return B(g,function(N,V){T+=V,T+=":",T+=N,T+=`\r
`}),T}function pn(g,T,N){e:{for(V in N){var V=!1;break e}V=!0}V||(N=Hu(N),typeof g=="string"?N!=null&&encodeURIComponent(String(N)):ut(g,T,N))}function nt(g){Dt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,Dt);var Xl=/^https?$/i,No=["POST","PUT"];t=nt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Ru(this.o):Ru(bi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ne){jf(this,ne);return}if(g=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)N.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())N.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(No,T,void 0))||V||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,me]of N)this.g.setRequestHeader(ne,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Co(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){jf(this,ne)}};function jf(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,Ql(g),ji(g)}function Ql(g){g.A||(g.A=!0,at(g,"complete"),at(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,at(this,"complete"),at(this,"abort"),ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zl(this):this.bb())},t.bb=function(){Zl(this)};function Zl(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Pr(g)!=4||g.Z()!=2)){if(g.u&&Pr(g)==4)Un(g.Ea,0,g);else if(at(g,"readystatechange"),Pr(g)==4){g.h=!1;try{const me=g.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var V;if(V=me===0){var X=String(g.D).match(wo)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),V=!Xl.test(X?X.toLowerCase():"")}N=V}if(N)at(g,"complete"),at(g,"success");else{g.m=6;try{var ne=2<Pr(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",Ql(g)}}finally{ji(g)}}}}function ji(g,T){if(g.g){Co(g);const N=g.g,V=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||at(g,"ready");try{N.onreadystatechange=V}catch{}}}function Co(g){g.I&&(d.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Pr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),ql(T)}};function Nf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Fv(g){const T={};g=(g.g&&2<=Pr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<g.length;V++){if(O(g[V]))continue;var N=$(g[V]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ne=T[X]||[];T[X]=ne,ne.push(N)}C(T,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(g,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[g]||T}function Jl(g){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,g),this.cb=Oo("retryDelaySeedMs",1e4,g),this.Wa=Oo("forwardChannelMaxRetries",2,g),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ra(g&&g.concurrentRequestLimit),this.Da=new jo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jl.prototype,t.la=8,t.G=1,t.connect=function(g,T,N,V){St(0),this.W=g,this.H=T||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.I=kf(this,null,this.W),tc(this)};function Ku(g){if(Cf(g),g.G==3){var T=g.U++,N=dr(g.I);if(ut(N,"SID",g.K),ut(N,"RID",T),ut(N,"TYPE","terminate"),Io(g,N),T=new Yn(g,g.j,T),T.L=2,T.v=Eo(dr(N)),N=!1,d.navigator&&d.navigator.sendBeacon)try{N=d.navigator.sendBeacon(T.v.toString(),"")}catch{}!N&&d.Image&&(new Image().src=T.v,N=!0),N||(T.g=Mf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),bo(T)}Df(g)}function ec(g){g.g&&(Ro(g),g.g.cancel(),g.g=null)}function Cf(g){ec(g),g.u&&(d.clearTimeout(g.u),g.u=null),nc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function tc(g){if(!Hl(g.h)&&!g.s){g.s=!0;var T=g.Ga;z||K(),J||(z(),J=!0),fe.add(T,g),g.B=0}}function Hv(g,T){return Kl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Gt(x(g.Ga,g,T),Wu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const X=new Yn(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=P(ne),F(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,4096<T){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=Of(this,X,T),N=dr(this.I),ut(N,"RID",g),ut(N,"CVER",22),this.D&&ut(N,"X-HTTP-Session-Id",this.D),Io(this,N),ne&&(this.O?T="headers="+encodeURIComponent(String(Hu(ne)))+"&"+T:this.m&&pn(N,this.m,ne)),Gl(this.h,X),this.Ua&&ut(N,"TYPE","init"),this.P?(ut(N,"$req",T),ut(N,"SID","null"),X.T=!0,ni(X,N,null)):ni(X,N,T),this.G=2}}else this.G==3&&(g?Gu(this,g):this.i.length==0||Hl(this.h)||Gu(this))};function Gu(g,T){var N;T?N=T.l:N=g.U++;const V=dr(g.I);ut(V,"SID",g.K),ut(V,"RID",N),ut(V,"AID",g.T),Io(g,V),g.m&&g.o&&pn(V,g.m,g.o),N=new Yn(g,g.j,N,g.B+1),g.m===null&&(N.H=g.o),T&&(g.i=T.D.concat(g.i)),T=Of(g,N,1e3),N.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Gl(g.h,N),ni(N,V,T)}function Io(g,T){g.H&&B(g.H,function(N,V){ut(T,V,N)}),g.l&&zu({},function(N,V){ut(T,V,N)})}function Of(g,T,N){N=Math.min(g.i.length,N);var V=g.l?x(g.l.Na,g.l,g):null;e:{var X=g.i;let ne=-1;for(;;){const me=["count="+N];ne==-1?0<N?(ne=X[0].g,me.push("ofs="+ne)):ne=0:me.push("ofs="+ne);let We=!0;for(let sn=0;sn<N;sn++){let Xe=X[sn].g;const gn=X[sn].map;if(Xe-=ne,0>Xe)ne=Math.max(0,X[sn].g-100),We=!1;else try{Ei(gn,me,"req"+Xe+"_")}catch{V&&V(gn)}}if(We){V=me.join("&");break e}}}return g=g.i.splice(0,N),T.D=g,V}function If(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;z||K(),J||(z(),J=!0),fe.add(T,g),g.v=0}}function Yu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Gt(x(g.Fa,g),Wu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Rf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Gt(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ec(this),Rf(this))};function Ro(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function Rf(g){g.g=new Yn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=dr(g.qa);ut(T,"RID","rpc"),ut(T,"SID",g.K),ut(T,"AID",g.T),ut(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&ut(T,"TO",g.ja),ut(T,"TYPE","xmlhttp"),Io(g,T),g.m&&g.o&&pn(T,g.m,g.o),g.L&&(g.g.I=g.L);var N=g.g;g=g.ia,N.L=1,N.v=Eo(dr(T)),N.m=null,N.P=!0,na(N,g)}t.Za=function(){this.C!=null&&(this.C=null,ec(this),Yu(this),St(19))};function nc(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function Pf(g,T){var N=null;if(g.g==T){nc(g),Ro(g),g.g=null;var V=2}else if(Vu(g.h,T))N=T.D,Wn(g.h,T),V=1;else return;if(g.G!=0){if(T.o)if(V==1){N=T.m?T.m.length:0,T=Date.now()-T.F;var X=g.B;V=rs(),at(V,new an(V,N)),tc(g)}else If(g);else if(X=T.s,X==3||X==0&&0<T.X||!(V==1&&Hv(g,T)||V==2&&Yu(g)))switch(N&&0<N.length&&(T=g.h,T.i=T.i.concat(N)),X){case 1:ca(g,5);break;case 4:ca(g,10);break;case 3:ca(g,6);break;default:ca(g,2)}}}function Wu(g,T){let N=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(N*=2),N*T}function ca(g,T){if(g.j.info("Error code "+T),T==2){var N=x(g.fb,g),V=g.Xa;const X=!V;V=new Yt(V||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||So(V,"https"),Eo(V),X?Ao(V.toString(),N):ri(V.toString(),N)}else St(2);g.G=0,g.l&&g.l.sa(T),Df(g),Cf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Df(g){if(g.G=0,g.ka=[],g.l){const T=Uu(g.h);(T.length!=0||g.i.length!=0)&&(S(g.ka,T),S(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function kf(g,T,N){var V=N instanceof Yt?dr(N):new Yt(N);if(V.g!="")T&&(V.g=T+"."+V.g),ls(V,V.s);else{var X=d.location;V=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;var ne=new Yt(null);V&&So(ne,V),T&&(ne.g=T),X&&ls(ne,X),N&&(ne.l=N),V=ne}return N=g.D,T=g.ya,N&&T&&ut(V,N,T),ut(V,"VER",g.la),Io(g,V),V}function Mf(g,T,N){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new nt(new cs({eb:N})):new nt(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lf(){}t=Lf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rc(){}rc.prototype.g=function(g,T){return new Xn(g,T)};function Xn(g,T){Dt.call(this),this.g=new Jl(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!O(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ni(this)}w(Xn,Dt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Ku(this.g)},Xn.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var N={};N.__data__=g,g=N}else this.u&&(N={},N.__data__=ti(g),g=N);T.i.push(new Ef(T.Ya++,g)),T.G==3&&tc(T)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Ku(this.g),delete this.g,Xn.aa.N.call(this)};function Vf(g){ea.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const N in T){g=N;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}w(Vf,ea);function Uf(){Du.call(this),this.status=1}w(Uf,Du);function Ni(g){this.g=g}w(Ni,Lf),Ni.prototype.ua=function(){at(this.g,"a")},Ni.prototype.ta=function(g){at(this.g,new Vf(g))},Ni.prototype.sa=function(g){at(this.g,new Uf)},Ni.prototype.ra=function(){at(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,yO=function(){return new rc},vO=function(){return rs()},gO=xi,J2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,pp=ss,ta.COMPLETE="complete",pO=ta,Pu.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Wd=Pu,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,mO=nt}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",XT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new yb("@firebase/firestore");function Dc(){return yl.logLevel}function be(t,...e){if(yl.logLevel<=Ke.DEBUG){const n=e.map(Ob);yl.debug(`Firestore (${vu}): ${t}`,...n)}}function $a(t,...e){if(yl.logLevel<=Ke.ERROR){const n=e.map(Ob);yl.error(`Firestore (${vu}): ${t}`,...n)}}function Xs(t,...e){if(yl.logLevel<=Ke.WARN){const n=e.map(Ob);yl.warn(`Firestore (${vu}): ${t}`,...n)}}function Ob(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xO(t,r,n)}function xO(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $a(r),new Error(r)}function it(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xO(e,i,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class cz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uz{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Da,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},d=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Da)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new bO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class dz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function ex(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Be(r,i);{const s=_O(),c=pz(s.encode(ZT(t,n)),s.encode(ZT(e,n)));return c!==0?c:Be(r,i)}}n+=r>65535?2:1}return Be(t.length,e.length)}function ZT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Be(t[n],e[n]);return Be(t.length,e.length)}function eu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__name__";class ki{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ki.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Be(e.length,n.length)}static compareSegments(e,n){const r=ki.isNumericId(e),i=ki.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ki.extractNumericId(e).compare(ki.extractNumericId(n)):ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class xt extends ki{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const gz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends ki{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return gz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new Dn([JT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(xt.fromString(e))}static fromName(e){return new Ae(xt.fromString(e).popFirst(5))}static empty(){return new Ae(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e,n){if(!n)throw new xe(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vz(t,e,n,r){if(e===!0&&r===!0)throw new xe(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eA(t){if(!Ae.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tA(t){if(Ae.isDocumentKey(t))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wh(t,e){if(!SO(t))throw new xe(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xe(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=-62135596800,rA=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rA);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nA)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rA}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wh(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:en("string",_t._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new _t(0,0))}static max(){return new Me(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=-1;function yz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Qs(i,Ae.empty(),e)}function xz(t){return new Qs(t.readTime,t.key,xh)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(Me.min(),Ae.empty(),xh)}static max(){return new Qs(Me.max(),Ae.empty(),xh)}}function bz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==_z)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,r)=>{n(e)})}static reject(e){return new ue((n,r)=>{r(e)})}static waitFor(e){return new ue((n,r)=>{let i=0,s=0,c=!1;e.forEach(d=>{++i,d.next(()=>{++s,c&&s===i&&n()},h=>r(h))}),c=!0,s===i&&n()})}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next(i=>i?ue.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ue((r,i)=>{const s=e.length,c=new Array(s);let d=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(p=>{c[f]=p,++d,d===s&&r(c)},p=>i(p))}})}static doWhile(e,n){return new ue((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Sz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=-1;function qg(t){return t==null}function Lp(t){return t===0&&1/t==-1/0}function Ez(t){return typeof t=="number"&&Number.isInteger(t)&&!Lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="";function Tz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iA(e)),e=Az(t.get(n),e);return iA(e)}function Az(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case EO:n+="";break;default:n+=s}}return n}function iA(t){return t+EO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $m(this.root,e,this.comparator,!1)}getReverseIterator(){return new $m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $m(this.root,e,this.comparator,!0)}}class $m{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=s??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sA(this.data.getIterator())}getIteratorFrom(e){return new sA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class sA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new dn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AO("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const jz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=jz.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="server_timestamp",NO="__type__",CO="__previous_value__",OO="__local_write_time__";function Pb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[NO])===null||n===void 0?void 0:n.stringValue)===jO}function $g(t){const e=t.mapValue.fields[CO];return Pb(e)?$g(e):e}function bh(t){const e=Zs(t.mapValue.fields[OO].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n,r,i,s,c,d,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const Vp="(default)";class _h{constructor(e,n){this.projectId=e,this.database=n||Vp}static empty(){return new _h("","")}get isDefaultDatabase(){return this.database===Vp}isEqual(e){return e instanceof _h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__type__",Cz="__max__",Fm={mapValue:{}},RO="__vector__",Up="value";function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pb(t)?4:Iz(t)?9007199254740991:Oz(t)?10:11:Ie(28295,{value:t})}function Hi(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=Zs(i.timestampValue),d=Zs(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Js(i.bytesValue).isEqual(Js(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Bt(i.geoPointValue.latitude)===Bt(s.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bt(i.integerValue)===Bt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=Bt(i.doubleValue),d=Bt(s.doubleValue);return c===d?Lp(c)===Lp(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return eu(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(i,s){const c=i.mapValue.fields||{},d=s.mapValue.fields||{};if(aA(c)!==aA(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Hi(c[h],d[h])))return!1;return!0}(t,e);default:return Ie(52216,{left:t})}}function wh(t,e){return(t.values||[]).find(n=>Hi(n,e))!==void 0}function tu(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,c){const d=Bt(s.integerValue||s.doubleValue),h=Bt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return oA(t.timestampValue,e.timestampValue);case 4:return oA(bh(t),bh(e));case 5:return ex(t.stringValue,e.stringValue);case 6:return function(s,c){const d=Js(s),h=Js(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,c){const d=s.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const p=Be(d[f],h[f]);if(p!==0)return p}return Be(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,c){const d=Be(Bt(s.latitude),Bt(c.latitude));return d!==0?d:Be(Bt(s.longitude),Bt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lA(t.arrayValue,e.arrayValue);case 10:return function(s,c){var d,h,f,p;const v=s.fields||{},x=c.fields||{},_=(d=v[Up])===null||d===void 0?void 0:d.arrayValue,w=(h=x[Up])===null||h===void 0?void 0:h.arrayValue,E=Be(((f=_?.values)===null||f===void 0?void 0:f.length)||0,((p=w?.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:lA(_,w)}(t.mapValue,e.mapValue);case 11:return function(s,c){if(s===Fm.mapValue&&c===Fm.mapValue)return 0;if(s===Fm.mapValue)return 1;if(c===Fm.mapValue)return-1;const d=s.fields||{},h=Object.keys(d),f=c.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const x=ex(h[v],p[v]);if(x!==0)return x;const _=tu(d[h[v]],f[p[v]]);if(_!==0)return _}return Be(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Ie(23264,{le:n})}}function oA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Zs(t),r=Zs(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function lA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=tu(n[i],r[i]);if(s)return s}return Be(n.length,r.length)}function nu(t){return tx(t)}function tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=tx(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${tx(n.fields[c])}`;return i+"}"}(t.mapValue):Ie(61005,{value:t})}function gp(t){switch(eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$g(t);return e?16+gp(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return oo(r.fields,(s,c)=>{i+=s.length+gp(c)}),i}(t.mapValue);default:throw Ie(13486,{value:t})}}function cA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nx(t){return!!t&&"integerValue"in t}function Db(t){return!!t&&"arrayValue"in t}function uA(t){return!!t&&"nullValue"in t}function dA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function Oz(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[IO])===null||n===void 0?void 0:n.stringValue)===RO}function sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Iz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Cz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=Dn.emptyPath(),r={},i=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=sh(c):i.push(d.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ar(sh(this.value))}}function PO(t){const e=[];return oo(t.fields,(n,r)=>{const i=new Dn([n]);if(vp(r)){const s=PO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,i,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Hn(e,0,Me.min(),Me.min(),Me.min(),ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Hn(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new Hn(e,2,n,Me.min(),Me.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,Me.min(),Me.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.position=e,this.inclusive=n}}function hA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],c=t.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),n.key):r=tu(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{}class Jt extends DO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dz(e,n,r):n==="array-contains"?new Lz(e,r):n==="in"?new Vz(e,r):n==="not-in"?new Uz(e,r):n==="array-contains-any"?new zz(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kz(e,r):new Mz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tu(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends DO{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new mi(e,n)}matches(e){return kO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kO(t){return t.op==="and"}function MO(t){return Pz(t)&&kO(t)}function Pz(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function rx(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+nu(t.value);if(MO(t))return t.filters.map(e=>rx(e)).join(",");{const e=t.filters.map(n=>rx(n)).join(",");return`${t.op}(${e})`}}function LO(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)}(t,e):t instanceof mi?function(r,i){return i instanceof mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,c,d)=>s&&LO(c,i.filters[d]),!0):!1}(t,e):void Ie(19439)}function VO(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${nu(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(VO).join(" ,")+"}"}(t):"Filter"}class Dz extends Jt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class kz extends Jt{constructor(e,n){super(e,"in",n),this.keys=UO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mz extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=UO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class Lz extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Db(n)&&wh(n.arrayValue,this.value)}}class Vz extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}}class Uz extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wh(this.value.arrayValue,n)}}class zz extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Db(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n=null,r=[],i=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.Pe=null}}function mA(t,e=null,n=[],r=[],i=null,s=null,c=null){return new Bz(t,e,n,r,i,s,c)}function kb(t){const e=Le(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.Pe=n}return e.Pe}function Mb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fA(t.startAt,e.startAt)&&fA(t.endAt,e.endAt)}function ix(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n=null,r=[],i=[],s=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qz(t,e,n,r,i,s,c,d){return new Xh(t,e,n,r,i,s,c,d)}function Lb(t){return new Xh(t)}function pA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zO(t){return t.collectionGroup!==null}function oh(t){const e=Le(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new dn(Dn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(d=d.add(f.field))})}),d})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Bp(s,r))}),n.has(Dn.keyField().canonicalString())||e.Te.push(new Bp(Dn.keyField(),r))}return e.Te}function zi(t){const e=Le(t);return e.Ie||(e.Ie=$z(e,oh(t))),e.Ie}function $z(t,e){if(t.limitType==="F")return mA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bp(i.field,s)});const n=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return mA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ax(t,e){const n=t.filters.concat([e]);return new Xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sx(t,e,n){return new Xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fg(t,e){return Mb(zi(t),zi(e))&&t.limitType===e.limitType}function BO(t){return`${kb(zi(t))}|lt:${t.limitType}`}function kc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VO(i)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nu(i)).join(",")),`Target(${r})`}(zi(t))}; limitType=${t.limitType})`}function Hg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of oh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,d,h){const f=hA(c,d,h);return c.inclusive?f<=0:f<0}(r.startAt,oh(r),i)||r.endAt&&!function(c,d,h){const f=hA(c,d,h);return c.inclusive?f>=0:f>0}(r.endAt,oh(r),i))}(t,e)}function Fz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qO(t){return(e,n)=>{let r=!1;for(const i of oh(t)){const s=Hz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Hz(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(s,c,d){const h=c.data.field(s),f=d.data.field(s);return h!==null&&f!==null?tu(h,f):Ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=new Rt(Ae.comparator);function Fa(){return Kz}const $O=new Rt(Ae.comparator);function Xd(...t){let e=$O;for(const n of t)e=e.insert(n.key,n);return e}function FO(t){let e=$O;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zo(){return lh()}function HO(){return lh()}function lh(){return new Cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gz=new Rt(Ae.comparator),Yz=new dn(Ae.comparator);function Ge(...t){let e=Yz;for(const n of t)e=e.add(n);return e}const Wz=new dn(Be);function Xz(){return Wz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function KO(t){return{integerValue:""+t}}function Qz(t,e){return Ez(e)?KO(e):Vb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function Zz(t,e,n){return t instanceof Sh?function(i,s){const c={fields:{[NO]:{stringValue:jO},[OO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pb(s)&&(s=$g(s)),s&&(c.fields[CO]=s),{mapValue:c}}(n,e):t instanceof Eh?YO(t,e):t instanceof Th?WO(t,e):function(i,s){const c=GO(i,s),d=gA(c)+gA(i.Ee);return nx(c)&&nx(i.Ee)?KO(d):Vb(i.serializer,d)}(t,e)}function Jz(t,e,n){return t instanceof Eh?YO(t,e):t instanceof Th?WO(t,e):n}function GO(t,e){return t instanceof qp?function(r){return nx(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Sh extends Kg{}class Eh extends Kg{constructor(e){super(),this.elements=e}}function YO(t,e){const n=XO(e);for(const r of t.elements)n.some(i=>Hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Th extends Kg{constructor(e){super(),this.elements=e}}function WO(t,e){let n=XO(e);for(const r of t.elements)n=n.filter(i=>!Hi(i,r));return{arrayValue:{values:n}}}class qp extends Kg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function gA(t){return Bt(t.integerValue||t.doubleValue)}function XO(t){return Db(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.field=e,this.transform=n}}function tB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Eh&&i instanceof Eh||r instanceof Th&&i instanceof Th?eu(r.elements,i.elements,Hi):r instanceof qp&&i instanceof qp?Hi(r.Ee,i.Ee):r instanceof Sh&&i instanceof Sh}(t.transform,e.transform)}class nB{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function QO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ub(t.key,Yr.none()):new Qh(t.key,t.data,Yr.none());{const n=t.data,r=ar.empty();let i=new dn(Dn.comparator);for(let s of e.fields)if(!i.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),i=i.add(s)}return new lo(t.key,r,new Tr(i.toArray()),Yr.none())}}function rB(t,e,n){t instanceof Qh?function(i,s,c){const d=i.value.clone(),h=yA(i.fieldTransforms,s,c.transformResults);d.setAll(h),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(i,s,c){if(!yp(i.precondition,s))return void s.convertToUnknownDocument(c.version);const d=yA(i.fieldTransforms,s,c.transformResults),h=s.data;h.setAll(ZO(i)),h.setAll(d),s.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ch(t,e,n,r){return t instanceof Qh?function(s,c,d,h){if(!yp(s.precondition,c))return d;const f=s.value.clone(),p=xA(s.fieldTransforms,h,c);return f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(s,c,d,h){if(!yp(s.precondition,c))return d;const f=xA(s.fieldTransforms,h,c),p=c.data;return p.setAll(ZO(s)),p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,c,d){return yp(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function iB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GO(r.transform,i||null);s!=null&&(n===null&&(n=ar.empty()),n.set(r.field,s))}return n||null}function vA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&eu(r,i,(s,c)=>tB(s,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qh extends Gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends Gg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yA(t,e,n){const r=new Map;it(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],c=s.transform,d=e.data.field(s.field);r.set(s.field,Jz(c,d,n[i]))}return r}function xA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,c=n.data.field(i.field);r.set(i.field,Zz(s,c,e))}return r}class Ub extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aB extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HO();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(i.key)?null:d;const h=QO(c,d);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&eu(this.mutations,e.mutations,(n,r)=>vA(n,r))&&eu(this.baseMutations,e.baseMutations,(n,r)=>vA(n,r))}}class zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Gz}();const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,Ze;function cB(t){switch(t){case le.OK:return Ie(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function JO(t){if(t===void 0)return $a("GRPC error has no .code"),le.UNKNOWN;switch(t){case Zt.OK:return le.OK;case Zt.CANCELLED:return le.CANCELLED;case Zt.UNKNOWN:return le.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return le.INTERNAL;case Zt.UNAVAILABLE:return le.UNAVAILABLE;case Zt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Zt.NOT_FOUND:return le.NOT_FOUND;case Zt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Zt.ABORTED:return le.ABORTED;case Zt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Zt.DATA_LOSS:return le.DATA_LOSS;default:return Ie(39323,{code:t})}}(Ze=Zt||(Zt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new Hs([4294967295,4294967295],0);function bA(t){const e=_O().encode(t),n=new fO;return n.update(e),new Uint8Array(n.digest())}function _A(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([i,s],0)]}class Bb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Hs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Hs.fromNumber(r)));return i.compare(uB)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=bA(e),[r,i]=_A(n);for(let s=0;s<this.hashCount;s++){const c=this.pe(r,i,s);if(!this.ye(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Bb(s,i,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const n=bA(e),[r,i]=_A(n);for(let s=0;s<this.hashCount;s++){const c=this.pe(r,i,s);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yg(Me.min(),i,new Rt(Be),Fa(),Ge())}}class Zh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class eI{constructor(e,n){this.targetId=e,this.De=n}}class tI{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wA{constructor(){this.ve=0,this.Ce=SA(),this.Fe=Mn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ge(),n=Ge(),r=Ge();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:s})}}),new Zh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=SA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class dB{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fa(),this.je=Hm(),this.Je=Hm(),this.He=new Rt(Be)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(ix(s))if(r===0){const c=new Ae(s.path);this.Xe(n,c,Hn.newNoDocument(c,Me.min()))}else it(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const d=this._t(e),h=d?this.ut(d,e,c):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let c,d;try{c=Js(r).toUint8Array()}catch(h){if(h instanceof AO)return Xs("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Bb(c,i,s)}catch(h){return Xs(h instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,c)=>{const d=this.st(c);if(d){if(s.current&&ix(d.target)){const h=new Ae(d.target.path);this.Tt(h).has(c)||this.It(c,h)||this.Xe(c,h,Hn.newNoDocument(h,e))}s.Ne&&(n.set(c,s.Le()),s.ke())}});let r=Ge();this.Je.forEach((s,c)=>{let d=!0;c.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(s))}),this.ze.forEach((s,c)=>c.setReadTime(e));const i=new Yg(e,n,this.He,this.ze,r);return this.ze=Fa(),this.je=Hm(),this.Je=Hm(),this.He=new Rt(Be),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new wA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new dn(Be),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new dn(Be),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wA),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Hm(){return new Rt(Ae.comparator)}function SA(){return new Rt(Ae.comparator)}const hB={asc:"ASCENDING",desc:"DESCENDING"},fB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mB={and:"AND",or:"OR"};class pB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ox(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function $p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gB(t,e){return $p(t,e.toTimestamp())}function Bi(t){return it(!!t,49232),Me.fromTimestamp(function(n){const r=Zs(n);return new _t(r.seconds,r.nanos)}(t))}function qb(t,e){return lx(t,e).canonicalString()}function lx(t,e){const n=function(i){return new xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=xt.fromString(t);return it(lI(e),10190,{key:e.toString()}),e}function cx(t,e){return qb(t.databaseId,e.path)}function Z0(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(aI(n))}function iI(t,e){return qb(t.databaseId,e)}function vB(t){const e=rI(t);return e.length===4?xt.emptyPath():aI(e)}function ux(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aI(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EA(t,e,n){return{name:cx(t,e),fields:n.value.mapValue.fields}}function yB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ie(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(it(p===void 0||typeof p=="string",58123),Mn.fromBase64String(p||"")):(it(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Mn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const p=f.code===void 0?le.UNKNOWN:JO(f.code);return new xe(p,f.message||"")}(c);n=new tI(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Z0(t,r.document.name),s=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):Me.min(),d=new ar({mapValue:{fields:r.document.fields}}),h=Hn.newFoundDocument(i,s,c,d),f=r.targetIds||[],p=r.removedTargetIds||[];n=new xp(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Z0(t,r.document),s=r.readTime?Bi(r.readTime):Me.min(),c=Hn.newNoDocument(i,s),d=r.removedTargetIds||[];n=new xp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Z0(t,r.document),s=r.removedTargetIds||[];n=new xp([],s,i,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,c=new lB(i,s),d=r.targetId;n=new eI(d,c)}}return n}function xB(t,e){let n;if(e instanceof Qh)n={update:EA(t,e.key,e.value)};else if(e instanceof Ub)n={delete:cx(t,e.key)};else if(e instanceof lo)n={update:EA(t,e.key,e.data),updateMask:NB(e.fieldMask)};else{if(!(e instanceof aB))return Ie(16599,{Rt:e.type});n={verify:cx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,c){const d=c.transform;if(d instanceof Sh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Eh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Th)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof qp)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Ie(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie(27497)}(t,e.precondition)),n}function bB(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map(n=>function(i,s){let c=i.updateTime?Bi(i.updateTime):Bi(s);return c.isEqual(Me.min())&&(c=Bi(s)),new nB(c,i.transformResults||[])}(n,e))):[]}function _B(t,e){return{documents:[iI(t,e.path)]}}function wB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,i);const s=function(f){if(f.length!==0)return oI(mi.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const c=function(f){if(f.length!==0)return f.map(p=>function(x){return{field:Mc(x.field),direction:TB(x.dir)}}(p))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ox(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:i}}function SB(t){let e=vB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(v){const x=sI(v);return x instanceof mi&&MO(x)?x.getFilters():[x]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(x=>function(w){return new Bp(Lc(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(x))}(n.orderBy));let d=null;n.limit&&(d=function(v){let x;return x=typeof v=="object"?v.value:v,qg(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(v){const x=!!v.before,_=v.values||[];return new zp(_,x)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const x=!v.before,_=v.values||[];return new zp(_,x)}(n.endAt)),qz(e,i,c,s,d,"F",h,f)}function EB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lc(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lc(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lc(n.unaryFilter.field);return Jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lc(n.unaryFilter.field);return Jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Lc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(r=>sI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(t):Ie(30097,{filter:t})}function TB(t){return hB[t]}function AB(t){return fB[t]}function jB(t){return mB[t]}function Mc(t){return{fieldPath:t.canonicalString()}}function Lc(t){return Dn.fromServerFormat(t.fieldPath)}function oI(t){return t instanceof Jt?function(n){if(n.op==="=="){if(dA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NAN"}};if(uA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NAN"}};if(uA(n.value))return{unaryFilter:{field:Mc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mc(n.field),op:AB(n.op),value:n.value}}}(t):t instanceof mi?function(n){const r=n.getFilters().map(i=>oI(i));return r.length===1?r[0]:{compositeFilter:{op:jB(n.op),filters:r}}}(t):Ie(54877,{filter:t})}function NB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,i,s=Me.min(),c=Me.min(),d=Mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.gt=e}}function OB(t){const e=SB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.Dn=new RB}addToCollectionParentIndex(e,n){return this.Dn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(Qs.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class RB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dn(xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(cI,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ru(0)}static ur(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="LruGarbageCollector",PB=1048576;function jA([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class DB{constructor(e){this.Tr=e,this.buffer=new dn(jA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){be(AA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xu(n)?be(AA,"Ignoring IndexedDB error during garbage collection: ",n):await yu(n)}await this.Rr(3e5)})}}class MB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(Bg.ue);const r=new DB(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(TA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,c,d,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(f=Date.now(),Dc()<=Ke.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${s} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v})))}}function LB(t,e){return new MB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.changes=new Cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ch(r.mutation,i,Tr.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let c=Xd();return s.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,i){let s=Fa();const c=lh(),d=function(){return lh()}();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof lo)?s=s.insert(f.key,f):p!==void 0?(c.set(f.key,p.mutation.getFieldMask()),ch(p.mutation,f,p.mutation.getFieldMask(),_t.now())):c.set(f.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,p)=>c.set(f,p)),n.forEach((f,p)=>{var v;return d.set(f,new UB(p,(v=c.get(f))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=lh();let i=new Rt((c,d)=>c-d),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||Tr.empty();p=d.applyToLocalView(f,p),r.set(h,p);const v=(i.get(d.batchId)||Ge()).add(h);i=i.insert(d.batchId,v)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,p=h.value,v=HO();p.forEach(x=>{if(!s.has(x)){const _=QO(n.get(x),r.get(x));_!==null&&v.set(x,_),s=s.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ue.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ue.resolve(Zo());let d=xh,h=s;return c.next(f=>ue.forEach(f,(p,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),s.get(p)?ue.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{h=h.insert(p,x)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Ge())).next(p=>({batchId:d,changes:FO(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let i=Xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let c=Xd();return this.indexManager.getCollectionParents(e,s).next(d=>ue.forEach(d,h=>{const f=function(v,x){return new Xh(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((v,x)=>{c=c.insert(v,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(c=>{s.forEach((h,f)=>{const p=f.getKey();c.get(p)===null&&(c=c.insert(p,Hn.newInvalidDocument(p)))});let d=Xd();return c.forEach((h,f)=>{const p=s.get(h);p!==void 0&&ch(p.mutation,f,Tr.empty(),_t.now()),Hg(n,f)&&(d=d.insert(h,f))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:OB(i.bundledQuery),readTime:Bi(i.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.overlays=new Rt(Ae.comparator),this.kr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zo();return ue.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=Zo(),s=n.length+1,c=new Ae(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((f,p)=>f-p);const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Zo(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const d=Zo(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>d.set(f,p)),!(d.size()>=i)););return ue.resolve(d)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new oB(n,r));let s=this.kr.get(n);s===void 0&&(s=Ge(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.qr=new dn(_n.Qr),this.$r=new dn(_n.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new _n(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ae(new xt([])),r=new _n(n,e),i=new _n(n,e+1),s=[];return this.$r.forEachInRange([r,i],c=>{this.Wr(c),s.push(c.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new xt([])),r=new _n(n,e),i=new _n(n,e+1);let s=Ge();return this.$r.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const n=new _n(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new dn(_n.Qr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sB(s,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Yr=this.Yr.add(new _n(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,n){return ue.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Rb:this.er-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],c=>{const d=this.Zr(c.Hr);s.push(d)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Be);return n.forEach(i=>{const s=new _n(i,0),c=new _n(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,c],d=>{r=r.add(d.Hr)})}),ue.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const c=new _n(new Ae(s),0);let d=new dn(Be);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(d=d.add(h.Hr)),!0)},c),ue.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ue.forEach(n.mutations,i=>{const s=new _n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new _n(n,0),i=this.Yr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.ni=e,this.docs=function(){return new Rt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=Fa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hn.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fa();const c=n.path,d=new Ae(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||bz(xz(p),r)<=0||(i.has(p.key)||Hg(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie(9500)}ri(e,n){return ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KB(this)}getSize(e){return ue.resolve(this.size)}}class KB extends VB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ue.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.persistence=e,this.ii=new Cl(n=>kb(n),Mb),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new $b,this.targetCount=0,this._i=ru.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ue.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ru(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.hr(n),ue.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ue.waitFor(s).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.ai={},this.overlays={},this.ui=new Bg(0),this.ci=!1,this.ci=!0,this.li=new $B,this.referenceDelegate=e(this),this.hi=new GB(this),this.indexManager=new IB,this.remoteDocumentCache=function(i){return new HB(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new CB(n),this.Ti=new BB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new FB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new YB(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return ue.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class YB extends wz{constructor(e){super(),this.currentSequenceNumber=e}}class Fb{constructor(e){this.persistence=e,this.Ai=new $b,this.Ri=null}static Vi(e){return new Fb(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.mi,r=>{const i=Ae.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ue.or([()=>ue.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fp{constructor(e,n){this.persistence=e,this.gi=new Cl(r=>Tz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LB(this,n)}static Vi(e,n){return new Fp(e,n)}Ii(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ue.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?ue.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,c=>this.Sr(e,c,n).next(d=>{d||(r++,s.removeEntry(c,Me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ue.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gp(e.data.value)),n}Sr(e,n,r){return ue.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=Ge(),i=Ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return N7()?8:Sz(Gn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(c=>{s.result=c}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(c=>{s.result=c})}).next(()=>{if(s.result)return;const c=new WB;return this.ws(e,n,c).next(d=>{if(s.result=d,this.Rs)return this.Ss(e,n,c,d.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Dc()<=Ke.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",kc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(Dc()<=Ke.DEBUG&&be("QueryEngine","Query:",kc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Dc()<=Ke.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",kc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ue.resolve())}ps(e,n){if(pA(n))return ue.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sx(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const c=Ge(...s);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(n,d);return this.Ds(n,f,c,h.readTime)?this.ps(e,sx(n,null,"F")):this.vs(e,f,n,h)}))})))}ys(e,n,r,i){return pA(n)||i.isEqual(Me.min())?ue.resolve(null):this.gs.getDocuments(e,r).next(s=>{const c=this.bs(n,s);return this.Ds(n,c,r,i)?ue.resolve(null):(Dc()<=Ke.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kc(n)),this.vs(e,c,n,yz(i,xh)).next(d=>d))})}bs(e,n){let r=new dn(qO(e));return n.forEach((i,s)=>{Hg(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Dc()<=Ke.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",kc(n)),this.gs.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(c=>{s=s.insert(c.key,c)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LocalStore",QB=3e8;class ZB{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Rt(Be),this.Ms=new Cl(s=>kb(s),Mb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function JB(t,e,n,r){return new ZB(t,e,n,r)}async function dI(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],d=[];let h=Ge();for(const f of i){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of s){d.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:c,addedBatchIds:d}))})})}function eq(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,h,f,p){const v=f.batch,x=v.keys();let _=ue.resolve();return x.forEach(w=>{_=_.next(()=>p.getEntry(h,w)).next(E=>{const S=f.docVersions.get(w);it(S!==null,48541),E.version.compareTo(S)<0&&(v.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))})}),_.next(()=>d.mutationQueue.removeMutationBatch(h,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=Ge();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hI(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function tq(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const d=[];e.targetChanges.forEach((p,v)=>{const x=i.get(v);if(!x)return;d.push(n.hi.removeMatchingKeys(s,p.removedDocuments,v).next(()=>n.hi.addMatchingKeys(s,p.addedDocuments,v)));let _=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Mn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(v,_),function(E,S,j){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=QB?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(x,_,p)&&d.push(n.hi.updateTargetData(s,_))});let h=Fa(),f=Ge();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),d.push(nq(s,c,e.documentUpdates).next(p=>{h=p.Ls,f=p.ks})),!r.isEqual(Me.min())){const p=n.hi.getLastRemoteSnapshotVersion(s).next(v=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(p)}return ue.waitFor(d).next(()=>c.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.Fs=i,s))}function nq(t,e,n){let r=Ge(),i=Ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let c=Fa();return n.forEach((d,h)=>{const f=s.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(d)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):be(Kb,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)}),{Ls:c,ks:i}})}function rq(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iq(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,ue.resolve(i)):n.hi.allocateTargetId(r).next(c=>(i=new zs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function dx(t,e,n){const r=Le(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!xu(c))throw c;be(Kb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function NA(t,e,n){const r=Le(t);let i=Me.min(),s=Ge();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,f,p){const v=Le(h),x=v.Ms.get(p);return x!==void 0?ue.resolve(v.Fs.get(x)):v.hi.getTargetData(f,p)}(r,c,zi(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,d.targetId).next(h=>{s=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,n?i:Me.min(),n?s:Ge())).next(d=>(aq(r,Fz(e),d),{documents:d,qs:s})))}function aq(t,e,n){let r=t.xs.get(e)||Me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class CA{constructor(){this.activeTargetIds=Xz()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sq{constructor(){this.Fo=new CA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new CA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="ConnectivityMonitor";class IA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){be(OA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){be(OA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km=null;function hx(){return Km===null?Km=function(){return 268435456+Math.round(2147483648*Math.random())}():Km++,"0x"+Km.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="RestConnection",lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cq{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const c=hx(),d=this.Go(e,n.toUriEncodedString());be(J0,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,i,s);const{host:f}=new URL(d),p=Al(f);return this.jo(e,d,h,r,p).then(v=>(be(J0,`Received RPC '${e}' ${c}: `,v),v),v=>{throw Xs(J0,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v})}Jo(e,n,r,i,s,c){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=lq[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class dq extends cq{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const c=hx();return new Promise((d,h)=>{const f=new mO;f.setWithCredentials(!0),f.listenOnce(pO.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pp.NO_ERROR:const v=f.getResponseJson();be(qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case pp.TIMEOUT:be(qn,`RPC '${e}' ${c} timed out`),h(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const x=f.getStatus();if(be(qn,`RPC '${e}' ${c} failed with status:`,x,"response text:",f.getResponseText()),x>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_?.error;if(w&&w.status&&w.message){const E=function(j){const O=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(O)>=0?O:le.UNKNOWN}(w.status);h(new xe(E,w.message))}else h(new xe(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new xe(le.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:c,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{be(qn,`RPC '${e}' ${c} completed.`)}});const p=JSON.stringify(i);be(qn,`RPC '${e}' ${c} sending request:`,i),f.send(n,"POST",p,r,15)})}P_(e,n,r){const i=hx(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yO(),d=vO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=s.join("");be(qn,`Creating RPC '${e}' stream ${i}: ${p}`,h);const v=c.createWebChannel(p,h);this.T_(v);let x=!1,_=!1;const w=new uq({Ho:S=>{_?be(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(x||(be(qn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),be(qn,`RPC '${e}' stream ${i} sending:`,S),v.send(S))},Yo:()=>v.close()}),E=(S,j,O)=>{S.listen(j,R=>{try{O(R)}catch(L){setTimeout(()=>{throw L},0)}})};return E(v,Wd.EventType.OPEN,()=>{_||(be(qn,`RPC '${e}' stream ${i} transport opened.`),w.s_())}),E(v,Wd.EventType.CLOSE,()=>{_||(_=!0,be(qn,`RPC '${e}' stream ${i} transport closed`),w.__(),this.I_(v))}),E(v,Wd.EventType.ERROR,S=>{_||(_=!0,Xs(qn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),w.__(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),E(v,Wd.EventType.MESSAGE,S=>{var j;if(!_){const O=S.data[0];it(!!O,16349);const R=O,L=R?.error||((j=R[0])===null||j===void 0?void 0:j.error);if(L){be(qn,`RPC '${e}' stream ${i} received error:`,L);const D=L.status;let B=function(M){const F=Zt[M];if(F!==void 0)return JO(F)}(D),C=L.message;B===void 0&&(B=le.INTERNAL,C="Unknown error status: "+D+" with message "+L.message),_=!0,w.__(new xe(B,C)),v.close()}else be(qn,`RPC '${e}' stream ${i} received:`,O),w.a_(O)}}),E(d,gO.STAT_EVENT,S=>{S.stat===J2.PROXY?be(qn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===J2.NOPROXY&&be(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function e1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return new pB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="PersistentStream";class mI{constructor(e,n,r,i,s,c,d,h){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?($a(n.toString()),$a("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return be(RA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(be(RA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hq extends mI{constructor(e,n,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=yB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Bi(c.readTime):Me.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ux(this.serializer),n.addTarget=function(s,c){let d;const h=c.target;if(d=ix(h)?{documents:_B(s,h)}:{query:wB(s,h).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nI(s,c.resumeToken);const f=ox(s,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Me.min())>0){d.readTime=$p(s,c.snapshotVersion.toTimestamp());const f=ox(s,c.expectedCount);f!==null&&(d.expectedCount=f)}return d}(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ux(this.serializer),n.removeTarget=e,this.k_(n)}}class fq extends mI{constructor(e,n,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=bB(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ux(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{}class pq extends mq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Wo(e,lx(n,r),i,s,c)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,lx(n,r),i,c,d,s)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(le.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class gq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($a(n),this._a=!1):be("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="RemoteStore";class vq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Ol(this)&&(be(xl,"Restarting streams for network reachability change."),await async function(h){const f=Le(h);f.Ia.add(4),await Jh(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Xg(f)}(this))})}),this.Aa=new gq(r,i)}}async function Xg(t){if(Ol(t))for(const e of t.da)await e(!0)}async function Jh(t){for(const e of t.da)await e(!1)}function pI(t,e){const n=Le(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Xb(n)?Wb(n):bu(n).x_()&&Yb(n,e))}function Gb(t,e){const n=Le(t),r=bu(n);n.Ta.delete(e),r.x_()&&gI(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ol(n)&&n.Aa.set("Unknown"))}function Yb(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).H_(e)}function gI(t,e){t.Ra.$e(e),bu(t).Y_(e)}function Wb(t){t.Ra=new dB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.Aa.aa()}function Xb(t){return Ol(t)&&!bu(t).M_()&&t.Ta.size>0}function Ol(t){return Le(t).Ia.size===0}function vI(t){t.Ra=void 0}async function yq(t){t.Aa.set("Online")}async function xq(t){t.Ta.forEach((e,n)=>{Yb(t,e)})}async function bq(t,e){vI(t),Xb(t)?(t.Aa.la(e),Wb(t)):t.Aa.set("Unknown")}async function _q(t,e,n){if(t.Aa.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(i,s){const c=s.cause;for(const d of s.targetIds)i.Ta.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ta.delete(d),i.Ra.removeTarget(d))}(t,e)}catch(r){be(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hp(t,r)}else if(e instanceof xp?t.Ra.Ye(e):e instanceof eI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Me.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await function(s,c){const d=s.Ra.Pt(c);return d.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ta.get(f);p&&s.Ta.set(f,p.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,f)=>{const p=s.Ta.get(h);if(!p)return;s.Ta.set(h,p.withResumeToken(Mn.EMPTY_BYTE_STRING,p.snapshotVersion)),gI(s,h);const v=new zs(p.target,h,f,p.sequenceNumber);Yb(s,v)}),s.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){be(xl,"Failed to raise snapshot:",r),await Hp(t,r)}}async function Hp(t,e,n){if(!xu(e))throw e;t.Ia.add(1),await Jh(t),t.Aa.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(xl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Xg(t)})}function yI(t,e){return e().catch(n=>Hp(t,n,e))}async function Qg(t){const e=Le(t),n=to(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Rb;for(;wq(e);)try{const i=await rq(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Sq(e,i)}catch(i){await Hp(e,i)}xI(e)&&bI(e)}function wq(t){return Ol(t)&&t.Pa.length<10}function Sq(t,e){t.Pa.push(e);const n=to(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function xI(t){return Ol(t)&&!to(t).M_()&&t.Pa.length>0}function bI(t){to(t).start()}async function Eq(t){to(t).na()}async function Tq(t){const e=to(t);for(const n of t.Pa)e.X_(n.mutations)}async function Aq(t,e,n){const r=t.Pa.shift(),i=zb.from(r,e,n);await yI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qg(t)}async function jq(t,e){e&&to(t).Z_&&await async function(r,i){if(function(c){return cB(c)&&c!==le.ABORTED}(i.code)){const s=r.Pa.shift();to(r).N_(),await yI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qg(r)}}(t,e),xI(t)&&bI(t)}async function PA(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),be(xl,"RemoteStore received new credentials");const r=Ol(n);n.Ia.add(3),await Jh(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Xg(n)}async function Nq(t,e){const n=Le(t);e?(n.Ia.delete(2),await Xg(n)):e||(n.Ia.add(2),await Jh(n),n.Aa.set("Unknown"))}function bu(t){return t.Va||(t.Va=function(n,r,i){const s=Le(n);return s.ia(),new hq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:yq.bind(null,t),e_:xq.bind(null,t),n_:bq.bind(null,t),J_:_q.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Xb(t)?Wb(t):t.Aa.set("Unknown")):(await t.Va.stop(),vI(t))})),t.Va}function to(t){return t.ma||(t.ma=function(n,r,i){const s=Le(n);return s.ia(),new fq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Eq.bind(null,t),n_:jq.bind(null,t),ea:Tq.bind(null,t),ta:Aq.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Qg(t)):(await t.ma.stop(),t.Pa.length>0&&(be(xl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const c=Date.now()+r,d=new Qb(e,n,c,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zb(t,e){if($a("AsyncQueue",`${e}: ${t}`),xu(t))return new xe(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Xd(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.fa=new Rt(Ae.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class iu{constructor(e,n,r,i,s,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new iu(e,n,Gc.emptySet(n),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Oq{constructor(){this.queries=kA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Le(n),s=i.queries;i.queries=kA(),s.forEach((c,d)=>{for(const h of d.wa)h.onError(r)})})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function kA(){return new Cl(t=>BO(t),Fg)}async function _I(t,e){const n=Le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Cq,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Zb(c,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&Jb(n)}async function wI(t,e){const n=Le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const c=s.wa.indexOf(e);c>=0&&(s.wa.splice(c,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iq(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,c=n.queries.get(s);if(c){for(const d of c.wa)d.Ca(i)&&(r=!0);c.ya=i}}r&&Jb(n)}function Rq(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function Jb(t){t.Da.forEach(e=>{e.next()})}var fx,MA;(MA=fx||(fx={})).Fa="default",MA.Cache="cache";class SI{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.key=e}}class TI{constructor(e){this.key=e}}class Pq{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ge(),this.mutatedKeys=Ge(),this.Xa=qO(e),this.eu=new Gc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new DA,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const x=i.get(p),_=Hg(this.query,v)?v:null,w=!!x&&this.mutatedKeys.has(x.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;x&&_?x.data.isEqual(_.data)?w!==E&&(r.track({type:3,doc:_}),S=!0):this.iu(x,_)||(r.track({type:2,doc:_}),S=!0,(h&&this.Xa(_,h)>0||f&&this.Xa(_,f)<0)&&(d=!0)):!x&&_?(r.track({type:0,doc:_}),S=!0):x&&!_&&(r.track({type:1,doc:x}),S=!0,(h||f)&&(d=!0)),S&&(_?(c=c.add(_),s=E?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{eu:c,ru:r,Ds:d,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((p,v)=>function(_,w){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:S})}};return E(_)-E(w)}(p.type,v.type)||this.Xa(p.doc,v.doc)),this.su(r),i=i!=null&&i;const d=n&&!i?this.ou():[],h=this.Za.size===0&&this.current&&!i?1:0,f=h!==this.Ya;return this.Ya=h,c.length!==0||f?{snapshot:new iu(this.query,e.eu,s,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new DA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new TI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new EI(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ge();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return iu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const e_="SyncEngine";class Dq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kq{constructor(e){this.key=e,this.lu=!1}}class Mq{constructor(e,n,r,i,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Cl(d=>BO(d),Fg),this.Tu=new Map,this.Iu=new Set,this.du=new Rt(Ae.comparator),this.Eu=new Map,this.Au=new $b,this.Ru={},this.Vu=new Map,this.mu=ru.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Lq(t,e,n=!0){const r=II(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await AI(r,e,n,!0),i}async function Vq(t,e){const n=II(t);await AI(n,e,!0,!1)}async function AI(t,e,n,r){const i=await iq(t.localStore,zi(e)),s=i.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await Uq(t,e,s,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&pI(t.remoteStore,i),d}async function Uq(t,e,n,r,i){t.gu=(v,x,_)=>async function(E,S,j,O){let R=S.view.nu(j);R.Ds&&(R=await NA(E.localStore,S.query,!1).then(({documents:C})=>S.view.nu(C,R)));const L=O&&O.targetChanges.get(S.targetId),D=O&&O.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(R,E.isPrimaryClient,L,D);return VA(E,S.targetId,B._u),B.snapshot}(t,v,x,_);const s=await NA(t.localStore,e,!0),c=new Pq(e,s.qs),d=c.nu(s.documents),h=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=c.applyChanges(d,t.isPrimaryClient,h);VA(t,n,f._u);const p=new Dq(e,n,c);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function zq(t,e,n){const r=Le(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(c=>!Fg(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gb(r.remoteStore,i.targetId),mx(r,i.targetId)}).catch(yu)):(mx(r,i.targetId),await dx(r.localStore,i.targetId,!0))}async function Bq(t,e){const n=Le(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gb(n.remoteStore,r.targetId))}async function qq(t,e,n){const r=Wq(t);try{const i=await function(c,d){const h=Le(c),f=_t.now(),p=d.reduce((_,w)=>_.add(w.key),Ge());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=Fa(),E=Ge();return h.Os.getEntries(_,p).next(S=>{w=S,w.forEach((j,O)=>{O.isValidDocument()||(E=E.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,w)).next(S=>{v=S;const j=[];for(const O of d){const R=iB(O,v.get(O.key).overlayedDocument);R!=null&&j.push(new lo(O.key,R,PO(R.value.mapValue),Yr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,j,d)}).next(S=>{x=S;const j=S.applyToLocalDocumentSet(v,E);return h.documentOverlayCache.saveOverlays(_,S.batchId,j)})}).then(()=>({batchId:x.batchId,changes:FO(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,h){let f=c.Ru[c.currentUser.toKey()];f||(f=new Rt(Be)),f=f.insert(d,h),c.Ru[c.currentUser.toKey()]=f}(r,i.batchId,n),await ef(r,i.changes),await Qg(r.remoteStore)}catch(i){const s=Zb(i,"Failed to persist write");n.reject(s)}}async function jI(t,e){const n=Le(t);try{const r=await tq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const c=n.Eu.get(s);c&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.lu=!0:i.modifiedDocuments.size>0?it(c.lu,14607):i.removedDocuments.size>0&&(it(c.lu,42227),c.lu=!1))}),await ef(n,r,e)}catch(r){await yu(r)}}function LA(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(c,d){const h=Le(c);h.onlineState=d;let f=!1;h.queries.forEach((p,v)=>{for(const x of v.wa)x.va(d)&&(f=!0)}),f&&Jb(h)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $q(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let c=new Rt(Ae.comparator);c=c.insert(s,Hn.newNoDocument(s,Me.min()));const d=Ge().add(s),h=new Yg(Me.min(),new Map,new Rt(Be),c,d);await jI(r,h),r.du=r.du.remove(s),r.Eu.delete(e),t_(r)}else await dx(r.localStore,e,!1).then(()=>mx(r,e,n)).catch(yu)}async function Fq(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await eq(n.localStore,e);CI(n,r,null),NI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ef(n,i)}catch(i){await yu(i)}}async function Hq(t,e,n){const r=Le(t);try{const i=await function(c,d){const h=Le(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,d).next(v=>(it(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(r.localStore,e);CI(r,e,n),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ef(r,i)}catch(i){await yu(i)}}function NI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function CI(t,e,n){const r=Le(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function mx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||OI(t,r)})}function OI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gb(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),t_(t))}function VA(t,e,n){for(const r of n)r instanceof EI?(t.Au.addReference(r.key,e),Kq(t,r)):r instanceof TI?(be(e_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||OI(t,r.key)):Ie(19791,{yu:r})}function Kq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(be(e_,"New document in limbo: "+n),t.Iu.add(r),t_(t))}function t_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ae(xt.fromString(e)),r=t.mu.next();t.Eu.set(r,new kq(n)),t.du=t.du.insert(n,r),pI(t.remoteStore,new zs(zi(Lb(n.path)),r,"TargetPurposeLimboResolution",Bg.ue))}}async function ef(t,e,n){const r=Le(t),i=[],s=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((d,h)=>{c.push(r.gu(h,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const v=f?!f.fromCache:(p=n?.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){i.push(f);const v=Hb.Es(h.targetId,f);s.push(v)}}))}),await Promise.all(c),r.hu.J_(i),await async function(h,f){const p=Le(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ue.forEach(f,x=>ue.forEach(x.Is,_=>p.persistence.referenceDelegate.addReference(v,x.targetId,_)).next(()=>ue.forEach(x.ds,_=>p.persistence.referenceDelegate.removeReference(v,x.targetId,_)))))}catch(v){if(!xu(v))throw v;be(Kb,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const _=p.Fs.get(x),w=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(w);p.Fs=p.Fs.insert(x,E)}}}(r.localStore,s))}async function Gq(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){be(e_,"User change. New user:",e.toKey());const r=await dI(n.localStore,e);n.currentUser=e,function(s,c){s.Vu.forEach(d=>{d.forEach(h=>{h.reject(new xe(le.CANCELLED,c))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ef(n,r.Bs)}}function Yq(t,e){const n=Le(t),r=n.Eu.get(e);if(r&&r.lu)return Ge().add(r.key);{let i=Ge();const s=n.Tu.get(e);if(!s)return i;for(const c of s){const d=n.Pu.get(c);i=i.unionWith(d.view.tu)}return i}}function II(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$q.bind(null,e),e.hu.J_=Iq.bind(null,e.eventManager),e.hu.pu=Rq.bind(null,e.eventManager),e}function Wq(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hq.bind(null,e),e}class Kp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return JB(this.persistence,new XB,e.initialUser,this.serializer)}Du(e){return new uI(Fb.Vi,this.serializer)}bu(e){return new sq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kp.provider={build:()=>new Kp};class Xq extends Kp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){it(this.persistence.referenceDelegate instanceof Fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new uI(r=>Fp.Vi(r,n),this.serializer)}}class px{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gq.bind(null,this.syncEngine),await Nq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oq}()}createDatastore(e){const n=Wg(e.databaseInfo.databaseId),r=function(s){return new dq(s)}(e.databaseInfo);return function(s,c,d,h){return new pq(s,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,c,d){return new vq(r,i,s,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>LA(this.syncEngine,n,0),function(){return IA.C()?new IA:new oq}())}createSyncEngine(e,n){return function(i,s,c,d,h,f,p){const v=new Mq(i,s,c,d,h,f);return p&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Le(i);be(xl,"RemoteStore shutting down."),s.Ia.add(5),await Jh(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}px.provider={build:()=>new px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):$a("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class Qq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=Ib.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async c=>{be(no,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(be(no,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function t1(t,e){t.asyncQueue.verifyOperationInProgress(),be(no,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Xs("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{be("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Xs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function UA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zq(t);be(no,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PA(e.remoteStore,i)),t._onlineComponents=e}async function Zq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(no,"Using user provided OfflineComponentProvider");try{await t1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await t1(t,new Kp)}}else be(no,"Using default OfflineComponentProvider"),await t1(t,new Xq(void 0));return t._offlineComponents}async function PI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(no,"Using user provided OnlineComponentProvider"),await UA(t,t._uninitializedComponentsProvider._online)):(be(no,"Using default OnlineComponentProvider"),await UA(t,new px))),t._onlineComponents}function Jq(t){return PI(t).then(e=>e.syncEngine)}async function DI(t){const e=await PI(t),n=e.eventManager;return n.onListen=Lq.bind(null,e.syncEngine),n.onUnlisten=zq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bq.bind(null,e.syncEngine),n}function e$(t,e,n={}){const r=new Da;return t.asyncQueue.enqueueAndForget(async()=>function(s,c,d,h,f){const p=new RI({next:x=>{p.Ou(),c.enqueueAndForget(()=>wI(s,v));const _=x.docs.has(d);!_&&x.fromCache?f.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&h&&h.source==="server"?f.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new SI(Lb(d.path),p,{includeMetadataChanges:!0,ka:!0});return _I(s,v)}(await DI(t),t.asyncQueue,e,n,r)),r.promise}function t$(t,e,n={}){const r=new Da;return t.asyncQueue.enqueueAndForget(async()=>function(s,c,d,h,f){const p=new RI({next:x=>{p.Ou(),c.enqueueAndForget(()=>wI(s,v)),x.fromCache&&h.source==="server"?f.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new SI(d,p,{includeMetadataChanges:!0,ka:!0});return _I(s,v)}(await DI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firestore.googleapis.com",BA=!0;class qA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=BA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:BA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PB)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zA.get(n);r&&(be("ComponentProvider","Removing Datastore"),zA.delete(n),r.terminate())}(this),Promise.resolve()}}function n$(t,e,n,r={}){var i;t=fi(t,Zg);const s=Al(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;s&&(gb(`https://${h}`),vb("Firestore",!0)),c.host!==MI&&c.host!==h&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},c),{host:h,ssl:s,emulatorOptions:r});if(!ml(f,d)&&(t._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Fn.MOCK_USER;else{p=EC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Fn(x)}t._authCredentials=new cz(new bO(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wh(n,$t._jsonSchema))return new $t(e,r||null,new Ae(xt.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:en("string",$t._jsonSchemaVersion),referencePath:en("string")};class Ks extends _u{constructor(e,n,r){super(e,n,Lb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ae(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function Ca(t,e,...n){if(t=nn(t),wO("collection","path",e),t instanceof Zg){const r=xt.fromString(e,...n);return tA(r),new Ks(t,null,r)}{if(!(t instanceof $t||t instanceof Ks))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return tA(r),new Ks(t.firestore,null,r)}}function sr(t,e,...n){if(t=nn(t),arguments.length===1&&(e=Ib.newId()),wO("doc","path",e),t instanceof Zg){const r=xt.fromString(e,...n);return eA(r),new $t(t,null,new Ae(r))}{if(!(t instanceof $t||t instanceof Ks))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return eA(r),new $t(t.firestore,t instanceof Ks?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="AsyncQueue";class FA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fI(this,"async_queue_retry"),this.oc=()=>{const r=e1();r&&be($A,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=e1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=e1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Da;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xu(e))throw e;be($A,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,$a("INTERNAL UNHANDLED ERROR: ",HA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Qb.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Ie(47125,{hc:HA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function HA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Il extends Zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FA(e),this._firestoreClient=void 0,await e}}}function r$(t,e){const n=typeof t=="object"?t:bb(),r=typeof t=="string"?t:Vp,i=Mg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_C("firestore");s&&n$(i,...s)}return i}function n_(t){if(t._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i$(t),t._firestoreClient}function i$(t){var e,n,r;const i=t._freezeSettings(),s=function(d,h,f,p){return new Nz(d,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Qq(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(d){const h=d?._online.build();return{_offline:d?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Mn.fromBase64String(e))}catch(n){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wh(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:en("string",Hr._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(Wh(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:en("string",qi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wh(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $i(e.vectorValues);throw new xe(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:en("string",$i._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^__.*__$/;class s${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qh(e,this.data,n,this.fieldTransforms)}}class LI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:t})}}class r_{constructor(e,n,r,i,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new r_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Gp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(VI(this.Ec)&&a$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class o${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wg(e)}Dc(e,n,r,i=!1){return new r_({Ec:e,methodName:n,bc:r,path:Dn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tv(t){const e=t._freezeSettings(),n=Wg(t._databaseId);return new o$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UI(t,e,n,r,i,s={}){const c=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);a_("Data must be an object, but it was:",c,r);const d=zI(r,c);let h,f;if(s.merge)h=new Tr(c.fieldMask),f=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const x=gx(e,v,n);if(!c.contains(x))throw new xe(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qI(p,x)||p.push(x)}h=new Tr(p),f=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=c.fieldTransforms;return new s$(new ar(d),h,f)}class nv extends ev{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nv}}class i_ extends ev{_toFieldTransform(e){return new eB(e.path,new Sh)}isEqual(e){return e instanceof i_}}function l$(t,e,n,r){const i=t.Dc(1,e,n);a_("Data must be an object, but it was:",i,r);const s=[],c=ar.empty();oo(r,(h,f)=>{const p=s_(e,h,n);f=nn(f);const v=i.gc(p);if(f instanceof nv)s.push(p);else{const x=tf(f,v);x!=null&&(s.push(p),c.set(p,x))}});const d=new Tr(s);return new LI(c,d,i.fieldTransforms)}function c$(t,e,n,r,i,s){const c=t.Dc(1,e,n),d=[gx(e,r,n)],h=[i];if(s.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(gx(e,s[x])),h.push(s[x+1]);const f=[],p=ar.empty();for(let x=d.length-1;x>=0;--x)if(!qI(f,d[x])){const _=d[x];let w=h[x];w=nn(w);const E=c.gc(_);if(w instanceof nv)f.push(_);else{const S=tf(w,E);S!=null&&(f.push(_),p.set(_,S))}}const v=new Tr(f);return new LI(p,v,c.fieldTransforms)}function u$(t,e,n,r=!1){return tf(n,t.Dc(r?4:3,e))}function tf(t,e){if(BI(t=nn(t)))return a_("Unsupported field value:",e,t),zI(t,e);if(t instanceof ev)return function(r,i){if(!VI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let c=0;for(const d of r){let h=tf(d,i.yc(c));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),c++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_t.fromDate(r);return{timestampValue:$p(i.serializer,s)}}if(r instanceof _t){const s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$p(i.serializer,s)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:nI(i.serializer,r._byteString)};if(r instanceof $t){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $i)return function(c,d){return{mapValue:{fields:{[IO]:{stringValue:RO},[Up]:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw d.wc("VectorValues must only contain numeric values.");return Vb(d.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${zg(r)}`)}(t,e)}function zI(t,e){const n={};return TO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=tf(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof qi||t instanceof Hr||t instanceof $t||t instanceof ev||t instanceof $i)}function a_(t,e,n){if(!BI(n)||!SO(n)){const r=zg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function gx(t,e,n){if((e=nn(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return s_(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const d$=new RegExp("[~\\*/\\[\\]]");function s_(t,e,n){if(e.search(d$)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jg(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,r,i){const s=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new xe(le.INVALID_ARGUMENT,d+t+h)}function qI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h$ extends $I{data(){return super.data()}}function o_(t,e){return typeof e=="string"?s_(t,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l_{}class m$ extends l_{}function Zd(t,e,...n){let r=[];e instanceof l_&&r.push(e),r=r.concat(n),function(s){const c=s.filter(h=>h instanceof c_).length,d=s.filter(h=>h instanceof rv).length;if(c>1||c>0&&d>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rv extends m${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=this._parse(e);return FI(e._query,n),new _u(e.firestore,e.converter,ax(e._query,n))}_parse(e){const n=tv(e.firestore);return function(s,c,d,h,f,p,v){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){GA(v,p);const w=[];for(const E of v)w.push(KA(h,s,E));x={arrayValue:{values:w}}}else x=KA(h,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||GA(v,p),x=u$(d,c,v,p==="in"||p==="not-in");return Jt.create(f,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zc(t,e,n){const r=e,i=o_("where",t);return rv._create(i,r,n)}class c_ extends l_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let c=i;const d=s.getFlattenedFilters();for(const h of d)FI(c,h),c=ax(c,h)}(e._query,n),new _u(e.firestore,e.converter,ax(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KA(t,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zO(e)&&n.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!Ae.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cA(t,new Ae(r))}if(n instanceof $t)return cA(t,n._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zg(n)}.`)}function GA(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FI(t,e){const n=function(i,s){for(const c of i)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class p${convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Up].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>Bt(c.doubleValue));return new $i(s)}convertGeoPoint(e){return new qi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$g(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);it(lI(r),9688,{name:e});const i=new _h(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(n)||$a(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends $I{constructor(e,n,r,i,s,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",ol._jsonSchema={type:en("string",ol._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class bp extends ol{data(e={}){return super.data(e)}}class Yc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bp(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>{const h=new bp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Jd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||d.type!==3).map(d=>{const h=new bp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Jd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:g$(d.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ib.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){t=fi(t,$t);const e=fi(t.firestore,Il);return e$(n_(e),t._key).then(n=>v$(e,t,n))}Yc._jsonSchemaVersion="firestore/querySnapshot/1.0",Yc._jsonSchema={type:en("string",Yc._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class KI extends p${constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function Jo(t){t=fi(t,_u);const e=fi(t.firestore,Il),n=n_(e),r=new KI(e);return f$(t._query),t$(n,t._query).then(i=>new Yc(e,r,t,i))}function iv(t,e,n){t=fi(t,$t);const r=fi(t.firestore,Il),i=HI(t.converter,e);return av(r,[UI(tv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yr.none())])}function nf(t,e,n,...r){t=fi(t,$t);const i=fi(t.firestore,Il),s=tv(i);let c;return c=typeof(e=nn(e))=="string"||e instanceof Jg?c$(s,"updateDoc",t._key,e,n,r):l$(s,"updateDoc",t._key,e),av(i,[c.toMutation(t._key,Yr.exists(!0))])}function u_(t){return av(fi(t.firestore,Il),[new Ub(t._key,Yr.none())])}function GI(t,e){const n=fi(t.firestore,Il),r=sr(t),i=HI(t.converter,e);return av(n,[UI(tv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function av(t,e){return function(r,i){const s=new Da;return r.asyncQueue.enqueueAndForget(async()=>qq(await Jq(r),i,s)),s.promise}(n_(t),e)}function v$(t,e,n){const r=n.docs.get(e._key),i=new KI(t);return new ol(t,i,e._key,r,new Jd(n.hasPendingWrites,n.fromCache),e.converter)}function uh(){return new i_("serverTimestamp")}(function(e,n=!0){(function(i){vu=i})(jl),pl(new Ws("firestore",(r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new Il(new uz(r.getProvider("auth-internal")),new fz(c,r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(f.options.projectId,p)}(c,i),c);return s=Object.assign({useFetchStreams:n},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),Li(WT,XT,e),Li(WT,XT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebasestorage.googleapis.com",y$="storageBucket",x$=2*60*1e3,b$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Qi{constructor(e,n,r=0){super(n1(e),`Firebase Storage: ${n} (${n1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return n1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function n1(t){return"storage/"+t}function _$(){const t="An unknown error occurred, please check the error payload for server response.";return new Zi(Ki.UNKNOWN,t)}function w$(){return new Zi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S$(){return new Zi(Ki.CANCELED,"User canceled the upload/download.")}function E$(t){return new Zi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function T$(t){return new Zi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YA(t){return new Zi(Ki.INVALID_ARGUMENT,t)}function WI(){return new Zi(Ki.APP_DELETED,"The Firebase app was deleted.")}function A$(t){return new Zi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw T$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),h={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${p}/b/${i}/o${x}`,"i"),w={bucket:1,path:3},E=n===YI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",j=new RegExp(`^https?://${E}/${i}/${S}`,"i"),R=[{regex:d,indices:h,postModify:s},{regex:_,indices:w,postModify:f},{regex:j,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<R.length;L++){const D=R[L],B=D.regex.exec(e);if(B){const C=B[D.indices.bucket];let P=B[D.indices.path];P||(P=""),r=new ui(C,P),D.postModify(r);break}}if(r==null)throw E$(e);return r}}class j${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e,n){let r=1,i=null,s=null,c=!1,d=0;function h(){return d===2}let f=!1;function p(...S){f||(f=!0,e.apply(null,S))}function v(S){i=setTimeout(()=>{i=null,t(_,h())},S)}function x(){s&&clearTimeout(s)}function _(S,...j){if(f){x();return}if(S){x(),p.call(null,S,...j);return}if(h()||c){x(),p.call(null,S,...j);return}r<64&&(r*=2);let R;d===1?(d=2,R=0):R=(r+Math.random())*1e3,v(R)}let w=!1;function E(S){w||(w=!0,x(),!f&&(i!==null?(S||(d=2),clearTimeout(i),v(0)):S||(d=1)))}return v(0),s=setTimeout(()=>{c=!0,E(!0)},n),E}function C$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){return t!==void 0}function WA(t,e,n,r){if(r<e)throw YA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw YA(`Invalid value for '${t}'. Expected ${n} or less.`)}function I$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yp||(Yp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i,s,c,d,h,f,p,v,x=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Yp.NO_ERROR,h=s.getStatus();if(!d||R$(h,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Yp.ABORT;r(!1,new Gm(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Gm(f,s))})},n=(r,i)=>{const s=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());O$(h)?s(h):s()}catch(h){c(h)}else if(d!==null){const h=_$();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(i.canceled){const h=this.appDelete_?WI():S$();c(h)}else{const h=w$();c(h)}};this.canceled_?n(!1,new Gm(!1,null,!0)):this.backoffId_=N$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function M$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function L$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V$(t,e,n,r,i,s,c=!0,d=!1){const h=I$(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return M$(p,e),D$(p,n),k$(p,s),L$(p,r),new P$(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wp(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z$(this._location.path)}get storage(){return this._service}get parent(){const e=U$(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new Wp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw A$(e)}}function XA(t,e){const n=e?.[y$];return n==null?null:ui.makeFromBucketSpec(n,t)}function B$(t,e,n,r={}){t.host=`${e}:${n}`;const i=Al(e);i&&(gb(`https://${t.host}/b`),vb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:EC(s,t.app.options.projectId))}class q${constructor(e,n,r,i,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=YI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x$,this._maxUploadRetryTime=b$,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=XA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=XA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wp(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new j$(WI());{const c=V$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const QA="@firebase/storage",ZA="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="storage";function $$(t=bb(),e){t=nn(t);const r=Mg(t,XI).getImmediate({identifier:e}),i=_C("storage");return i&&F$(r,...i),r}function F$(t,e,n,r={}){B$(t,e,n,r)}function H$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q$(n,r,i,e,jl)}function K$(){pl(new Ws(XI,H$,"PUBLIC").setMultipleInstances(!0)),Li(QA,ZA,""),Li(QA,ZA,"esm2017")}K$();const G$={apiKey:"AIzaSyD4C8cE_DX6dWL89w_gwR2M3sjAtKK3GHU",authDomain:"rrvision-99414.firebaseapp.com",projectId:"rrvision-99414",storageBucket:"rrvision-99414.firebasestorage.app",messagingSenderId:"808020762931",appId:"1:808020762931:web:c8b68d4bad3352b037de46"},d_=jC(G$),sv=hO(d_),Lt=r$(d_);$$(d_);const bn=[],h_=async t=>{console.log("convertFirebaseUser called with:",{uid:t.uid,email:t.email,displayName:t.displayName});const e=await Y$(t.uid);console.log("User document from Firestore:",e);const n={id:t.uid,email:t.email||"",displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,emailVerified:t.emailVerified,name:e?.name,company:e?.company,phone:e?.phone,createdAt:e?.createdAt,updatedAt:e?.updatedAt,role:e?.role||"user",userType:e?.userType||"operator",accessToken:await t.getIdToken()};return console.log("Converted user object:",n),console.log("Converted user name:",n.name),console.log("Converted user role:",n.role),console.log("Converted user name type:",typeof n.name),console.log("Converted user role type:",typeof n.role),n},Y$=async t=>{try{console.log("getUserDocument called for uid:",t);const e=sr(Lt,"users",t);console.log("User reference created:",e.path);const n=await eh(e);if(console.log("User snapshot exists:",n.exists()),n.exists()){const r=n.data();return console.log("User data retrieved:",r),console.log("User data keys:",Object.keys(r)),console.log("User data values:",Object.values(r)),console.log("User name type:",typeof r.name),console.log("User role type:",typeof r.role),r}return console.log("User document does not exist"),null}catch(e){return console.error("Error getting user document:",e),null}},W$=async(t,e)=>{try{const n=sr(Lt,"users",t);await iv(n,{id:t,email:e.email,name:e.name,company:e.company,phone:e.phone,role:"user",userType:"operator",createdAt:uh(),updatedAt:uh()})}catch(n){throw console.error("Error creating user document:",n),n}},X$=async t=>{try{const{email:e,password:n,...r}=t,s=(await eO(sv,e,n)).user;return await HV(s,{displayName:r.name}),await W$(s.uid,t),await h_(s)}catch(e){throw console.error("Error registering user:",e),e}},Q$=async(t,e)=>{try{const n=await $V(sv,t,e);return await h_(n.user)}catch(n){throw console.error("Error logging in:",n),n}},Z$=async()=>{try{await tO(sv)}catch(t){throw console.error("Error logging out:",t),t}};class rf{static async createOperatorWithUser(e){try{const n=hO(),s=(await eO(n,e.email,e.password)).user.uid;await tO(n);const c={id:s,email:e.email,name:e.name,displayName:e.displayName||e.name,company:e.company||"",phone:e.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",userId:s,operatorData:{code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],trainedActivities:[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||""}},d={email:c.email,name:c.name,displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"user",code:c.code,primarySectorId:c.primarySectorId,secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status,admissionDate:c.admissionDate,lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType,workSchedule:c.workSchedule,weeklyHours:c.weeklyHours,supervisorId:c.supervisorId||"",teamId:c.teamId||"",createdAt:uh(),updatedAt:uh()};console.log("Dados para Firestore:",d);const h=sr(Lt,"users",s);return await iv(h,d),bn.push(c),{user:c,operator:c}}catch(n){throw console.error("Erro ao criar usuário operador:",n),new Error("Falha ao criar usuário operador")}}static async getOperatorByUserId(e){try{const n=sr(Lt,"users",e),r=await eh(n);if(r.exists()){const s=r.data();if(s.userType==="operator"&&s.operatorData)return s}const i=bn.find(s=>s.id===e);return i&&i.userType==="operator"&&i.operatorData?i:null}catch(n){console.error("Erro ao buscar operador por userId:",n);const r=bn.find(i=>i.id===e);return r&&r.userType==="operator"&&r.operatorData?r:null}}static async getUserByOperatorId(e){try{const n=sr(Lt,"users",e),r=await eh(n);return r.exists()?r.data():bn.find(i=>i.id===e)||null}catch(n){return console.error("Erro ao buscar usuário por operatorId:",n),bn.find(r=>r.id===e)||null}}static isOperator(e){return e.userType==="operator"&&e.operatorData!==void 0}static async getAllOperatorsWithUsers(){try{const e=Ca(Lt,"users"),n=Zd(e,zc("userType","==","operator")),r=await Jo(n),i=[];for(const s of r.docs){const c=s.data(),d=s.id,h={id:d,email:c.email||"",name:c.name||"",displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:c.photoURL||null,emailVerified:c.emailVerified||!1,userType:c.userType||"operator",role:c.role||"user",createdAt:c.createdAt?.toDate?.()?.toISOString()||c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt?.toDate?.()?.toISOString()||c.updatedAt||new Date().toISOString(),operatorData:{code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],trainedActivities:c.trainedActivities||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||""}},f={...h,code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",userId:d};i.push({operator:f,user:h})}return bn.length=0,i.forEach(({user:s})=>{bn.push(s)}),console.log("Operadores encontrados:",i.length),i}catch(e){return console.error("Erro ao buscar operadores com usuários:",e),bn.filter(n=>n.userType==="operator"&&n.operatorData).map(n=>({operator:n,user:n}))}}static async updateOperator(e,n){try{const r=sr(Lt,"users",e);await nf(r,{...n,updatedAt:uh()});const i=await eh(r);if(!i.exists())throw new Error("Operador não encontrado");const s=i.data(),c={id:e,email:s.email||"",name:s.name||"",displayName:s.displayName||"",company:s.company||"",phone:s.phone||"",photoURL:s.photoURL||null,emailVerified:s.emailVerified||!1,userType:s.userType||"operator",role:s.role||"user",createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt||new Date().toISOString(),updatedAt:s.updatedAt?.toDate?.()?.toISOString()||s.updatedAt||new Date().toISOString(),code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",userId:e,operatorData:{code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],trainedActivities:s.trainedActivities||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||""}},d=bn.findIndex(h=>h.id===e);return d!==-1&&(bn[d]=c),c}catch(r){throw console.error("Erro ao atualizar operador:",r),r}}static async deleteOperatorAndUser(e){try{const n=sr(Lt,"users",e),r=await eh(n);if(!r.exists())throw new Error("Operador não encontrado");if(r.data().userType!=="operator")throw new Error("Usuário não é um operador");await u_(n),console.log("Operador excluído com sucesso do Firestore");const s=bn.findIndex(c=>c.id===e);s!==-1&&bn.splice(s,1)}catch(n){throw console.error("Erro ao excluir operador e usuário:",n),n}}static async getOperatorByCode(e){try{const n=Ca(Lt,"users"),r=Zd(n,zc("userType","==","operator")),i=await Jo(r);for(const s of i.docs){const c=s.data(),d=s.id;if(c.code===e)return{id:d,email:c.email||"",name:c.name||"",displayName:c.displayName||"",company:c.company||"",phone:c.phone||"",photoURL:c.photoURL||null,emailVerified:c.emailVerified||!1,userType:c.userType||"operator",role:c.role||"user",createdAt:c.createdAt?.toDate?.()?.toISOString()||c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt?.toDate?.()?.toISOString()||c.updatedAt||new Date().toISOString(),code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||"",userId:d,operatorData:{code:c.code||"",primarySectorId:c.primarySectorId||"",secondarySectorIds:c.secondarySectorIds||[],trainedActivities:c.trainedActivities||[],skills:c.skills||[],status:c.status||"active",admissionDate:c.admissionDate||"",lastTrainingDate:c.lastTrainingDate||"",nextTrainingDate:c.nextTrainingDate||"",contractType:c.contractType||"clt",workSchedule:c.workSchedule||"day",weeklyHours:c.weeklyHours||40,supervisorId:c.supervisorId||"",teamId:c.teamId||""}}}return bn.find(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)||null}catch(n){return console.error("Erro ao buscar operador por código:",n),bn.find(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)||null}}static async isCodeAlreadyUsed(e){try{const n=Ca(Lt,"users"),r=Zd(n,zc("userType","==","operator")),i=await Jo(r);for(const s of i.docs)if(s.data().code===e)return!0;return bn.some(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)}catch(n){return console.error("Erro ao verificar código:",n),bn.some(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)}}static async isEmailAlreadyUsed(e){try{const n=Ca(Lt,"users"),r=Zd(n,zc("email","==",e));return(await Jo(r)).empty?bn.some(s=>s.email===e):!0}catch(n){return console.error("Erro ao verificar email:",n),bn.some(r=>r.email===e)}}}const J$=rf.createOperatorWithUser,QI=rf.getAllOperatorsWithUsers,eF=rf.deleteOperatorAndUser,tF=rf.isCodeAlreadyUsed,nF=rf.isEmailAlreadyUsed,rF={user:null,loading:!0,error:null},Bs={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR"},iF=(t,e)=>{switch(e.type){case Bs.SET_LOADING:return{...t,loading:e.payload};case Bs.SET_USER:return{...t,user:e.payload,loading:!1,error:null};case Bs.SET_ERROR:return{...t,error:e.payload,loading:!1};case Bs.CLEAR_ERROR:return{...t,error:null};default:return t}},ZI=A.createContext(void 0),aF=({children:t})=>{const[e,n]=A.useReducer(iF,rF),r=A.useCallback(x=>{n({type:Bs.SET_LOADING,payload:x})},[]),i=A.useCallback(x=>{n({type:Bs.SET_USER,payload:x})},[]),s=A.useCallback(x=>{n({type:Bs.SET_ERROR,payload:x})},[]),c=A.useCallback(()=>{n({type:Bs.CLEAR_ERROR})},[]),d=A.useCallback(async x=>{try{if(x){const _=await h_(x);i(_)}else i(null)}catch(_){console.error("Error converting Firebase user:",_),s("Failed to load user data"),i(null)}},[i,s]);A.useEffect(()=>{const x=YV(sv,d);return()=>x()},[d]);const h=A.useCallback(async(x,_)=>{r(!0),c();try{const w=await Q$(x,_);return i(w),w}catch(w){const E=w instanceof Error?w.message:"Login failed";throw s(E),w}},[r,c,i,s]),f=A.useCallback(async x=>{r(!0),c();try{const _=await X$(x);return i(_),_}catch(_){const w=_ instanceof Error?_.message:"Registration failed";throw s(w),_}},[r,c,i,s]),p=A.useCallback(async()=>{r(!0),c();try{await Z$(),i(null)}catch(x){const _=x instanceof Error?x.message:"Logout failed";throw s(_),x}},[r,c,i,s]),v=A.useMemo(()=>({user:e.user,loading:e.loading,login:h,register:f,logout:p}),[e.user,e.loading,h,f,p]);return A.useCallback(()=>e.user!==null,[e.user]),l.jsx(ZI.Provider,{value:v,children:t})},vi=()=>{const t=A.useContext(ZI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},sF=()=>{const{login:t}=vi(),[e,n]=A.useState(!1),[r,i]=A.useState(null);return{handleLogin:async d=>{n(!0),i(null);try{return await t(d.email,d.password)}catch(h){const f=h instanceof Error?h.message:"Login failed";throw i(f),h}finally{n(!1)}},loading:e,error:r,clearError:()=>i(null)}};function oF(){const[t,e]=A.useState({email:"",password:""}),{goTo:n}=ao(),{handleLogin:r,loading:i,error:s,clearError:c}=sF();vi();const d=()=>{n(rt.landing)},h=p=>{s&&c(),e({...t,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();try{const x=((await r(t)).role||"user")==="admin"?rt.admin:rt.dashboard;n(x)}catch(v){console.error("Login failed:",v)}};return l.jsxs("div",{className:"login-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:d,disabled:i,title:"Voltar à página inicial",children:l.jsx(rh,{})}),l.jsx("div",{className:"login-container",children:l.jsxs("div",{className:"login-card",children:[l.jsxs("div",{className:"login-header",children:[l.jsx("h1",{children:"Entrar no Sistema"}),l.jsx("p",{children:"Acesse sua conta RR Vision Brazil"})]}),l.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),l.jsx(qt,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:h,required:!0,disabled:i,icon:l.jsx(pb,{})}),l.jsx(qt,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:h,required:!0,disabled:i,icon:l.jsx($2,{})}),l.jsxs("div",{className:"form-options",children:[l.jsxs("label",{className:"checkbox-container",children:[l.jsx("input",{type:"checkbox",disabled:i}),"Lembrar de mim"]}),l.jsx("span",{className:"forgot-link",style:{cursor:i?"not-allowed":"pointer",opacity:i?.6:1},onClick:()=>!i&&n(rt.forgotPassword),children:"Esqueceu a senha?"})]}),l.jsx(qe,{type:"submit",variant:"primary",fullWidth:!0,disabled:i,children:i?"Entrando...":"Entrar"})]}),l.jsx("div",{className:"login-footer",children:l.jsxs("p",{children:["Não tem uma conta?"," ",l.jsx("span",{style:{cursor:i?"not-allowed":"pointer",color:"#fbb040",opacity:i?.6:1},onClick:()=>!i&&n(rt.register),children:"Cadastre-se"})]})})]})})]})}const lF=()=>{const{register:t}=vi(),[e,n]=A.useState(!1),[r,i]=A.useState(null),s=(h,f)=>h!==f?(i("As senhas não coincidem"),!1):h.length<6?(i("A senha deve ter pelo menos 6 caracteres"),!1):!0;return{handleRegister:async h=>{n(!0),i(null);try{if(!s(h.password,h.confirmPassword)){n(!1);return}const f={name:h.name,email:h.email,company:h.company,phone:h.phone,password:h.password};await t(f)}catch(f){const p=f instanceof Error?f.message:"Registration failed";throw i(p),f}finally{n(!1)}},loading:e,error:r,clearError:()=>i(null)}};function cF(){const[t,e]=A.useState({name:"",email:"",company:"",phone:"",password:"",confirmPassword:""}),[n,r]=A.useState(!1),{goTo:i}=ao(),{handleRegister:s,loading:c,error:d,clearError:h}=lF(),f=()=>{i(rt.landing)},p=x=>{d&&h(),e({...t,[x.target.name]:x.target.value})},v=async x=>{if(x.preventDefault(),!n){alert("Você deve aceitar os termos de uso e política de privacidade");return}try{await s(t),i(rt.dashboard)}catch(_){console.error("Registration failed:",_)}};return l.jsxs("div",{className:"register-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:f,disabled:c,title:"Voltar à página inicial",children:l.jsx(rh,{})}),l.jsx("div",{className:"register-container",children:l.jsxs("div",{className:"register-card",children:[l.jsxs("div",{className:"register-header",children:[l.jsx("h1",{children:"Criar Conta"}),l.jsx("p",{children:"Cadastre-se no RR Vision Brazil"})]}),l.jsxs("form",{onSubmit:v,className:"register-form",children:[d&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:d}),l.jsxs("div",{className:"form-row",children:[l.jsx(qt,{type:"text",name:"name",placeholder:"Nome completo",value:t.name,onChange:p,required:!0,disabled:c,icon:l.jsx(u7,{})}),l.jsx(qt,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:p,required:!0,disabled:c,icon:l.jsx(pb,{})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx(qt,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:p,required:!0,disabled:c,icon:l.jsx(l7,{})}),l.jsx(qt,{type:"tel",name:"phone",placeholder:"Telefone",value:t.phone,onChange:p,required:!0,disabled:c,icon:l.jsx(c7,{})})]}),l.jsxs("div",{className:"form-row",children:[l.jsx(qt,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:p,required:!0,disabled:c,icon:l.jsx($2,{})}),l.jsx(qt,{type:"password",name:"confirmPassword",placeholder:"Confirmar senha",value:t.confirmPassword,onChange:p,required:!0,disabled:c,icon:l.jsx($2,{})})]}),l.jsx("div",{className:"form-options",children:l.jsxs("label",{className:"checkbox-container",children:[l.jsx("input",{type:"checkbox",required:!0,disabled:c,checked:n,onChange:x=>r(x.target.checked)}),l.jsx("span",{className:"checkmark"}),"Aceito os"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(rt.terms),children:"termos de uso"})," ","e"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(rt.privacy),children:"política de privacidade"})]})}),l.jsx(qe,{type:"submit",variant:"primary",fullWidth:!0,disabled:c||!n,children:c?"Criando conta...":"Criar Conta"})]}),l.jsx("div",{className:"register-footer",children:l.jsxs("p",{children:["Já tem uma conta?"," ",l.jsx("span",{style:{cursor:c?"not-allowed":"pointer",color:"#fbb040",opacity:c?.6:1},onClick:()=>!c&&i(rt.login),children:"Faça login"})]})})]})})]})}function uF(){const[t,e]=A.useState(""),[n,r]=A.useState(!1),[i,s]=A.useState(""),[c,d]=A.useState(!1),{goTo:h}=ao(),f=_=>{i&&s(""),e(_.target.value)},p=async _=>{if(_.preventDefault(),!t.trim()){s("Por favor, insira seu e-mail");return}r(!0),s("");try{await new Promise(w=>setTimeout(w,2e3)),d(!0),r(!1)}catch{s("Erro ao enviar e-mail de recuperação. Tente novamente."),r(!1)}},v=()=>{h(rt.login)},x=()=>{h(rt.landing)};return c?l.jsxs("div",{className:"recovery-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:x,disabled:n,title:"Voltar à página inicial",children:l.jsx(rh,{})}),l.jsx("div",{className:"recovery-container",children:l.jsxs("div",{className:"recovery-card",children:[l.jsxs("div",{className:"recovery-header",children:[l.jsx("div",{className:"success-icon",children:l.jsx(o7,{})}),l.jsx("h1",{children:"E-mail Enviado!"}),l.jsx("p",{children:"Verifique sua caixa de entrada"})]}),l.jsxs("div",{className:"recovery-success-message",children:[l.jsxs("p",{children:["Enviamos um link de recuperação para ",l.jsx("strong",{children:t})]}),l.jsx("p",{children:"Clique no link recebido para redefinir sua senha. O link expira em 1 hora."})]}),l.jsxs("div",{className:"recovery-actions",children:[l.jsx(qe,{variant:"secondary",fullWidth:!0,onClick:v,children:"Voltar ao Login"}),l.jsx(qe,{variant:"outline",fullWidth:!0,onClick:()=>{d(!1),e("")},children:"Enviar Novamente"})]})]})})]}):l.jsxs("div",{className:"recovery-page",children:[l.jsx("button",{className:"back-to-landing-btn",onClick:x,disabled:n,title:"Voltar à página inicial",children:l.jsx(rh,{})}),l.jsx("div",{className:"recovery-container",children:l.jsxs("div",{className:"recovery-card",children:[l.jsxs("div",{className:"recovery-header",children:[l.jsx("h1",{children:"Recuperar Senha"}),l.jsx("p",{children:"Digite seu e-mail para receber o link de recuperação"})]}),l.jsxs("form",{onSubmit:p,className:"recovery-form",children:[i&&l.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:i}),l.jsx(qt,{type:"email",name:"email",placeholder:"Digite seu e-mail",value:t,onChange:f,required:!0,disabled:n,icon:l.jsx(pb,{})}),l.jsx(qe,{type:"submit",variant:"primary",fullWidth:!0,disabled:n||!t.trim(),children:n?"Enviando...":"Enviar Link de Recuperação"})]}),l.jsx("div",{className:"recovery-footer",children:l.jsxs("button",{className:"back-button",onClick:v,disabled:n,style:{cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[l.jsx(rh,{}),"Voltar ao Login"]})})]})})]})}function JI({currentPage:t,onPageChange:e,variant:n="default"}){const[r,i]=A.useState(!1),s=vi(),{user:c,logout:d}=s,{goTo:h}=ao();console.log("Sidebar Auth Data:",s),console.log("Sidebar User Data:",{name:c?.name,email:c?.email,role:c?.role,id:c?.id}),console.log("Full user object in Sidebar:",c),console.log("User type:",typeof c),console.log("User is null?",c===null),console.log("User is undefined?",c===void 0);const f=[{id:"orders",title:"Dashboard",icon:l.jsx(oC,{}),description:"Visão Geral do Sistema",badge:null},{id:"schedule",title:"Agenda",icon:l.jsx(aC,{}),description:"Agenda do Operador",badge:null},{id:"productivity",title:"Produtividade",icon:l.jsx(Xa,{}),description:"Painel de Produtividade",badge:null},{id:"nonconformities",title:"Não Conformidades",icon:l.jsx(It,{}),description:"Controle de Qualidade",badge:"2"},{id:"alerts",title:"Alertas",icon:l.jsx(El,{}),description:"Alertas e Notificações",badge:"5"},{id:"control",title:"Painel de Controle",icon:l.jsx(Ua,{}),description:"Monitoramento do Sistema",badge:null},{id:"priority-optimization",title:"Otimização",icon:l.jsx(za,{}),description:"Otimização de Prioridades",badge:"1"},{id:"operator-registration",title:"Cadastro de Operadores",icon:l.jsx(gC,{}),description:"Gestão de Operadores",badge:null},{id:"operators-list",title:"Lista de Operadores",icon:l.jsx(sl,{}),description:"Visualizar Todos os Operadores",badge:null},{id:"bling-integration",title:"Integração Bling",icon:l.jsx(fC,{}),description:"API e Importação de Ordens",badge:null},{id:"operational-routes",title:"Roteiros Operacionais",icon:l.jsx(Zc,{}),description:"Cadastro de Roteiros de Produção",badge:null},{id:"operational-routes-list",title:"Lista de Roteiros",icon:l.jsx(Zc,{}),description:"Visualizar Todos os Roteiros",badge:null}],p=[{id:"admin-users",title:"Gerenciar Usuários",icon:l.jsx(QM,{}),description:"Administração do Sistema",badge:null}],v=n==="admin"?p:[...f,...c?.role==="admin"?p:[]],x=w=>{if(w==="admin-users"){h(rt.admin);return}e(w)},_=async()=>{try{await d(),h(rt.landing)}catch(w){console.error("Logout failed:",w)}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`sidebar ${r?"sidebar-collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsxs("div",{className:"sidebar-logo",children:[!r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"logo-text",children:"RR Vision"}),l.jsx("span",{className:"logo-subtitle",children:"Brazil"})]}),r&&l.jsx("span",{className:"logo-icon",children:"RR"})]}),l.jsx("button",{className:"sidebar-toggle",onClick:()=>i(!r),title:r?"Expandir sidebar":"Recolher sidebar",children:r?l.jsx(IM,{}):l.jsx(OM,{})})]}),l.jsxs("div",{className:"sidebar-user",children:[l.jsx("div",{className:"user-avatar",children:c?.name?c.name.charAt(0).toUpperCase():c?.email?.charAt(0).toUpperCase()||"U"}),!r&&l.jsxs("div",{className:"user-info",children:[l.jsx("div",{className:"user-name",children:c?.name||c?.displayName||"Usuário"}),l.jsx("div",{className:"user-role",children:c?.role==="admin"?"Administrador":"Operador"})]})]}),l.jsx("nav",{className:"sidebar-nav",children:l.jsxs("div",{className:"nav-section",children:[!r&&l.jsx("div",{className:"nav-section-title",children:"Menu Principal"}),v.map(w=>l.jsxs("button",{className:`nav-item ${t===w.id?"nav-item-active":""}`,onClick:()=>x(w.id),title:r?w.title:"",children:[l.jsx("span",{className:"nav-icon",children:w.icon}),!r&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"nav-content",children:[l.jsx("span",{className:"nav-title",children:w.title}),l.jsx("span",{className:"nav-description",children:w.description})]}),w.badge&&l.jsx("span",{className:"nav-badge",children:w.badge})]})]},w.id))]})}),l.jsxs("div",{className:"sidebar-footer",children:[n!=="admin"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"footer-item",title:"Configurações",onClick:()=>e("settings"),children:[l.jsx("span",{className:"footer-icon",children:l.jsx(Ua,{})}),!r&&l.jsx("span",{children:"Configurações"})]}),l.jsxs("button",{className:"footer-item",title:"Ajuda",children:[l.jsx("span",{className:"footer-icon",children:l.jsx(qM,{})}),!r&&l.jsx("span",{children:"Ajuda"})]})]}),l.jsxs("button",{className:"footer-item logout-btn",onClick:_,title:"Sair",children:[l.jsx("span",{className:"footer-icon",children:l.jsx(HM,{})}),!r&&l.jsx("span",{children:"Sair"})]})]})]}),!r&&l.jsx("div",{className:"sidebar-overlay",onClick:()=>i(!0)})]})}function dF({userName:t,lastSync:e,onImportBling:n,onLogout:r}){return l.jsx("div",{className:"dashboard-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:""}),l.jsxs("p",{children:["Bem-vindo, ",t]})]}),l.jsxs("div",{className:"header-actions",children:[l.jsxs("div",{className:"sync-status",children:[l.jsx("div",{className:"sync-indicator"}),l.jsxs("span",{children:["Última sync: ",e.toLocaleTimeString()]})]}),l.jsx(qe,{variant:"primary",onClick:n,children:"Importar Bling"}),l.jsx(qe,{variant:"secondary",onClick:r,children:"Sair"})]})]})})}function Ym({title:t,icon:e,value:n,change:r,changeType:i}){return l.jsxs("div",{className:"stat-card",children:[l.jsxs("div",{className:"stat-header",children:[l.jsx("span",{className:"stat-title",children:t}),l.jsx("span",{className:"stat-icon",children:e})]}),l.jsx("div",{className:"stat-value",children:n}),l.jsx("div",{className:`stat-change ${i}`,children:r})]})}function hF({stats:t}){return l.jsxs("div",{className:"dashboard-stats",children:[l.jsx(Ym,{title:"Total de Pedidos",icon:l.jsx(oC,{}),value:t.totalOrders,change:"+2 hoje",changeType:"positive"}),l.jsx(Ym,{title:"Produtividade",icon:l.jsx(zh,{}),value:`${t.productivity}%`,change:"+3% esta semana",changeType:"positive"}),l.jsx(Ym,{title:"Pedidos Pendentes",icon:l.jsx(It,{}),value:t.pendingOrders,change:"Atenção necessária",changeType:"negative"}),l.jsx(Ym,{title:"Eficiência",icon:l.jsx(Pg,{}),value:`${t.efficiency}%`,change:"Operação normal",changeType:"positive"})]})}function fF({importData:t,importLogs:e,onImportBling:n}){return l.jsxs("div",{className:"import-section",children:[l.jsxs("div",{className:"import-header",children:[l.jsx("h3",{children:"Importação e Preparação - Bling ERP"}),l.jsx(qe,{variant:"outline",onClick:n,children:"Sincronizar Agora"})]}),l.jsxs("div",{className:"import-stats",children:[l.jsxs("div",{className:"import-stat",children:[l.jsx("div",{className:"import-stat-value",children:t.recordsCount}),l.jsx("div",{className:"import-stat-label",children:"Registros Importados"})]}),l.jsxs("div",{className:"import-stat",children:[l.jsx("div",{className:"import-stat-value",children:t.successCount}),l.jsx("div",{className:"import-stat-label",children:"Sucessos"})]}),l.jsxs("div",{className:"import-stat",children:[l.jsx("div",{className:"import-stat-value",children:t.errorCount}),l.jsx("div",{className:"import-stat-label",children:"Erros"})]}),l.jsxs("div",{className:"import-stat",children:[l.jsx("div",{className:"import-stat-value",children:t.status}),l.jsx("div",{className:"import-stat-label",children:"Status"})]})]}),l.jsx("div",{className:"import-log",children:e.map((r,i)=>l.jsxs("div",{className:"log-entry",children:[l.jsx("span",{className:"log-timestamp",children:r.split(" ")[0]}),l.jsx("span",{className:`log-message ${r.includes("[SUCCESS]")?"log-success":r.includes("[ERROR]")?"log-error":r.includes("[WARNING]")?"log-warning":""}`,children:r.substring(r.indexOf(" ")+1)})]},i))})]})}function mF({orders:t,filterStatus:e,onFilterChange:n}){const r=t.filter(c=>e==="all"?!0:e==="urgent"?c.priority==="urgent":c.status===e),i=(c,d)=>{let h="status-badge";switch(d==="urgent"&&(h+=" urgent"),c){case"pending":return h+" pending";case"in_progress":return h+" production";case"completed":return h+" completed";case"cancelled":return h+" cancelled";default:return h}},s=c=>{switch(c){case"pending":return"Pendente";case"production":return"Em Produção";case"completed":return"Concluído";case"urgent":return"Urgente";default:return c}};return l.jsxs("div",{className:"orders-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{className:"section-title",children:"Ordens de Produção"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"btn-icon",title:"Atualizar",children:l.jsx(za,{})}),l.jsx("button",{className:"btn-icon",title:"Exportar",children:l.jsx(Xa,{})}),l.jsx("button",{className:"btn-icon",title:"Configurações",children:l.jsx(Ua,{})})]})]}),l.jsxs("div",{className:"orders-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status:"}),l.jsxs("select",{className:"filter-select",value:e,onChange:c=>n(c.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"pending",children:"Pendente"}),l.jsx("option",{value:"production",children:"Em Produção"}),l.jsx("option",{value:"completed",children:"Concluído"}),l.jsx("option",{value:"urgent",children:"Urgente"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Período:"}),l.jsxs("select",{className:"filter-select",children:[l.jsx("option",{children:"Hoje"}),l.jsx("option",{children:"Esta Semana"}),l.jsx("option",{children:"Este Mês"})]})]})]}),l.jsxs("table",{className:"orders-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"OP"}),l.jsx("th",{children:"Produto"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Progresso"}),l.jsx("th",{children:"Previsão"}),l.jsx("th",{children:"Alertas"})]})}),l.jsx("tbody",{children:r.map(c=>l.jsxs("tr",{className:"order-row",children:[l.jsx("td",{children:l.jsx("div",{className:"order-id",children:c.id})}),l.jsx("td",{children:l.jsx("div",{className:"order-product",children:c.product})}),l.jsx("td",{children:c.quantity}),l.jsx("td",{children:l.jsx("span",{className:i(c.status,c.priority),children:s(c.status)})}),l.jsxs("td",{children:[l.jsx("div",{className:"progress-container",children:l.jsx("div",{className:"progress-bar",style:{width:"0%"}})}),l.jsx("div",{className:"progress-text",children:"0%"})]}),l.jsx("td",{children:l.jsx("div",{className:"date-cell",children:new Date(c.dueDate).toLocaleDateString("pt-BR")})}),l.jsx("td",{children:c.priority==="urgent"&&l.jsx("span",{className:"alert-icon",children:l.jsx(It,{})})})]},c.id))})]})]})}function pF({alerts:t}){return l.jsxs("div",{className:"alerts-panel",children:[l.jsx("div",{className:"panel-header",children:l.jsx("h4",{className:"panel-title",children:"Alertas e Notificações"})}),l.jsx("div",{className:"panel-content",children:t.map(e=>l.jsxs("div",{className:`alert-item ${e.severity}`,children:[l.jsxs("div",{className:"alert-content",children:[l.jsx("h4",{children:e.title}),l.jsx("p",{children:e.description})]}),l.jsx("span",{className:"alert-timestamp",children:e.createdAt})]},e.id))})]})}function gF({sectors:t}){const e=n=>{switch(n){case"active":return"Ativo";case"inactive":return"Inativo";case"idle":return"Ocioso";case"blocked":return"Bloqueado";default:return n}};return l.jsxs("div",{className:"sectors-panel",children:[l.jsx("div",{className:"panel-header",children:l.jsx("h4",{className:"panel-title",children:"Status dos Setores"})}),l.jsx("div",{className:"panel-content",children:t.map((n,r)=>l.jsxs("div",{className:"sector-item",children:[l.jsxs("div",{className:"sector-info",children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Código: ",n.code," | Descrição: ",n.description]})]}),l.jsxs("div",{className:"sector-status",children:[l.jsx("div",{className:`status-indicator status-${n.isActive?"active":"inactive"}`}),l.jsx("span",{children:e(n.isActive?"active":"inactive")})]})]},r))})]})}function JA(){const{user:t,logout:e,loading:n}=vi(),{goTo:r}=ao(),[i,s]=A.useState([]),[c,d]=A.useState([]),[h,f]=A.useState([]),[p,v]=A.useState("all"),[x,_]=A.useState([]),[w,E]=A.useState(new Date);A.useEffect(()=>{const D=[{id:"OP-2024-001",orderNumber:"OP-2024-001",customer:"Cliente A",product:"Produto A - Modelo X",quantity:100,status:"in_progress",priority:"urgent",createdAt:"2024-01-15",dueDate:"2024-01-20"},{id:"OP-2024-002",orderNumber:"OP-2024-002",customer:"Cliente B",product:"Produto B - Modelo Y",quantity:50,status:"in_progress",priority:"medium",createdAt:"2024-01-16",dueDate:"2024-01-22"},{id:"OP-2024-003",orderNumber:"OP-2024-003",customer:"Cliente C",product:"Produto C - Modelo Z",quantity:200,status:"pending",priority:"low",createdAt:"2024-01-18",dueDate:"2024-01-25"},{id:"OP-2024-004",orderNumber:"OP-2024-004",customer:"Cliente D",product:"Produto D - Modelo W",quantity:75,status:"completed",priority:"low",createdAt:"2024-01-10",dueDate:"2024-01-17",completedAt:"2024-01-16"}],B=[{id:"1",title:"Atraso Crítico",description:"OP-2024-001 está 2 dias atrasada",severity:"critical",priority:"urgent",status:"active",location:{sector:"Produção"},relatedEntity:{id:"OP-2024-001",name:"Pedido OP-2024-001"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T10:30:00Z",attachments:[],recipients:[]},{id:"2",title:"Setor Ocioso",description:"Setor de Acabamento com 40% de ociosidade",severity:"medium",priority:"medium",status:"active",location:{sector:"Acabamento"},relatedEntity:{id:"acabamento",name:"Setor de Acabamento"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T09:15:00Z",attachments:[],recipients:[]},{id:"3",title:"Importação Concluída",description:"15 novos pedidos importados do Bling",severity:"low",priority:"low",status:"active",location:{sector:"Sistema"},relatedEntity:{id:"bling",name:"Integração Bling"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T08:45:00Z",attachments:[],recipients:[]}],C=[{id:"1",name:"Corte",code:"CORT",description:"Setor de Corte",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de Montagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de Acabamento",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"4",name:"Embalagem",code:"EMBA",description:"Setor de Embalagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"}],P=["08:45 [INFO] Iniciando importação do Bling...","08:46 [SUCCESS] 15 pedidos importados com sucesso","08:47 [INFO] Processando roteiros de produção...","08:48 [SUCCESS] Roteiros carregados para 12 produtos","08:49 [WARNING] 3 produtos sem roteiro definido","08:50 [INFO] Calculando tempos de produção...","08:51 [SUCCESS] Importação finalizada"];s(D),d(B),f(C),_(P)},[]);const S=async()=>{try{await e(),r(rt.landing)}catch(D){console.error("Logout failed:",D)}},j=()=>{const D=`${new Date().toLocaleTimeString()} [INFO] Importação manual iniciada...`;_(B=>[...B,D]),E(new Date)},O={totalAlerts:c.length,activeAlerts:c.filter(D=>D.status==="active").length,resolvedAlerts:c.filter(D=>D.status==="resolved").length,totalOrders:i.length,pendingOrders:i.filter(D=>D.status==="pending").length,completedOrders:i.filter(D=>D.status==="completed").length,productivity:84,efficiency:84},R={id:"import-001",fileName:"bling_orders.csv",importDate:"2024-01-20T08:45:00Z",status:"completed",recordsCount:15,successCount:12,errorCount:3};if(n)return l.jsx("div",{className:"dashboard-loading",children:l.jsx("p",{children:"Carregando dashboard..."})});if(!t)return r(rt.login),null;const L=t.name||t.displayName||t.email;return l.jsx("div",{className:"dashboard-page",children:l.jsxs("div",{className:"dashboard-container",children:[l.jsx(dF,{userName:L,lastSync:w,onImportBling:j,onLogout:S}),l.jsx(hF,{stats:O}),l.jsx(fF,{importData:R,importLogs:x,onImportBling:j}),l.jsxs("div",{className:"dashboard-content",children:[l.jsx(mF,{orders:i,filterStatus:p,onFilterChange:v}),l.jsxs("div",{className:"sidebar-section",children:[l.jsx(pF,{alerts:c}),l.jsx(gF,{sectors:h})]})]})]})})}function vF({user:t,viewMode:e,setViewMode:n,currentTime:r}){return l.jsxs("div",{className:"schedule-header",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:"Agenda do Operador"}),l.jsxs("p",{children:["Olá, ",t?.name||t?.displayName||"Operador","! Aqui está sua agenda para hoje."]})]}),l.jsxs("div",{className:"header-controls",children:[l.jsxs("div",{className:"view-toggle",children:[l.jsx("button",{className:`toggle-btn ${e==="day"?"active":""}`,onClick:()=>n("day"),children:"Dia"}),l.jsx("button",{className:`toggle-btn ${e==="week"?"active":""}`,onClick:()=>n("week"),children:"Semana"})]}),l.jsxs("div",{className:"current-time",children:[l.jsx("span",{className:"time-label",children:"Agora:"}),l.jsx("span",{className:"time-value",children:r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})}function yF({stats:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(fl,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",children:[t.tasksCompleted,"/",t.dailyTarget]}),l.jsx("div",{className:"stat-label",children:"Tarefas Concluídas"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(zh,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency,"%"]}),l.jsx("div",{className:"stat-label",children:"Eficiência Média"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:n(t.totalWorkTime)}),l.jsx("div",{className:"stat-label",children:"Tempo Trabalhado"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(pC,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsxs("div",{className:"stat-value",children:["#",t.ranking]}),l.jsx("div",{className:"stat-label",children:"Ranking Equipe"})]})]})]})}function xF({currentTask:t,activeBreak:e,currentTime:n,handlePauseTask:r,handleCompleteTask:i,handleStartBreak:s,handleEndBreak:c,calculateProgress:d,calculateActualTime:h}){return t?l.jsxs("div",{className:"current-task-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h3",{children:"Tarefa Atual"}),l.jsx("div",{className:"task-timer",children:t.actualStartTime&&l.jsxs("span",{children:["Iniciada às ",t.actualStartTime," •"," ",Math.floor(h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))/60),"h"," ",h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))%60,"m"]})})]}),l.jsxs("div",{className:"current-task-content",children:[l.jsxs("div",{className:"task-info",children:[l.jsx("h4",{children:t.activity}),l.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),l.jsx("p",{className:"task-description",children:t.description}),l.jsxs("div",{className:"task-progress",children:[l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar",style:{width:`${d(t)}%`}})}),l.jsxs("span",{className:"progress-text",children:[Math.round(d(t)),"%"]})]})]}),l.jsxs("div",{className:"task-controls",children:[l.jsxs("div",{className:"break-controls",children:[l.jsx("h5",{children:"Pausas"}),l.jsx("div",{className:"break-buttons",children:e?l.jsxs("div",{className:"active-break",children:[l.jsxs("span",{children:["Pausa: ",e.type," desde ",e.startTime]}),l.jsx("button",{className:"end-break-btn",onClick:c,children:"Finalizar Pausa"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"break-btn coffee",onClick:()=>s("coffee"),children:[l.jsx(RM,{})," Café"]}),l.jsxs("button",{className:"break-btn lunch",onClick:()=>s("lunch"),children:[l.jsx(ZM,{})," Almoço"]}),l.jsxs("button",{className:"break-btn bathroom",onClick:()=>s("bathroom"),children:[l.jsx($M,{})," Banheiro"]}),l.jsxs("button",{className:"break-btn other",onClick:()=>s("other"),children:[l.jsx(q2,{})," Outra"]})]})})]}),l.jsxs("div",{className:"task-actions",children:[l.jsxs("button",{className:"action-btn pause",onClick:()=>r(t.id),children:[l.jsx(q2,{})," Pausar"]}),l.jsxs("button",{className:"action-btn nonconformity",children:[l.jsx(It,{})," Não Conformidade"]}),l.jsxs("button",{className:"action-btn complete",onClick:()=>i(t.id),children:[l.jsx(Va,{})," Finalizar"]})]})]})]})]}):null}function bF({task:t,handleStartTask:e,getTaskStatusColor:n,getPriorityColor:r,getEfficiencyColor:i,formatTime:s}){return l.jsxs("div",{className:`task-card ${t.status}`,children:[l.jsxs("div",{className:"task-timeline",children:[l.jsxs("div",{className:"time-slot",children:[l.jsx("span",{className:"start-time",children:t.startTime}),l.jsx("span",{className:"end-time",children:t.endTime})]}),l.jsx("div",{className:"timeline-indicator",style:{backgroundColor:n(t.status)},children:l.jsx("div",{className:"timeline-dot"})})]}),l.jsxs("div",{className:"task-details",children:[l.jsxs("div",{className:"task-header",children:[l.jsx("h4",{className:"task-title",children:t.activity}),l.jsxs("div",{className:"task-badges",children:[l.jsx("span",{className:"priority-badge",style:{backgroundColor:r(t.priority)},children:t.priority.toUpperCase()}),l.jsx("span",{className:"status-badge",children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsxs("p",{className:"task-product",children:[t.productName," • ",t.sector]}),l.jsx("p",{className:"task-description",children:t.description}),l.jsxs("div",{className:"task-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Estimado:"}),l.jsx("span",{className:"metric-value",children:s(t.estimatedTime+t.setupTime)})]}),t.actualTime&&l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Real:"}),l.jsx("span",{className:"metric-value",children:s(t.actualTime)})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-label",children:"Eficiência:"}),l.jsx("span",{className:"metric-value",style:{color:t.actualTime?i(t.estimatedTime/t.actualTime*100):"#4a5568"},children:t.actualTime?`${Math.round(t.estimatedTime/t.actualTime*100)}%`:"N/A"})]})]}),l.jsxs("div",{className:"task-skills",children:[l.jsx("span",{className:"skills-label",children:"Habilidades:"}),t.requiredSkills.map((c,d)=>l.jsx("span",{className:"skill-tag",children:c},d))]}),t.status==="pending"&&l.jsx("div",{className:"task-actions",children:l.jsxs("button",{className:"start-btn",onClick:()=>e(t.id),children:[l.jsx(BM,{})," Iniciar Tarefa"]})}),t.breaks.length>0&&l.jsxs("div",{className:"task-breaks",children:[l.jsx("span",{className:"breaks-label",children:"Pausas:"}),t.breaks.map((c,d)=>l.jsxs("span",{className:"break-tag",children:[c.type," (",c.duration,"min)"]},d))]})]})]})}function _F({tasks:t,currentDate:e,setCurrentDate:n,handleStartTask:r,getTaskStatusColor:i,getPriorityColor:s,getEfficiencyColor:c,formatTime:d}){return l.jsxs("div",{className:"tasks-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{children:"Tarefas do Dia"}),l.jsxs("div",{className:"date-selector",children:[l.jsx("button",{className:"date-nav",onClick:()=>n(new Date(e.getTime()-24*60*60*1e3)),children:"←"}),l.jsx("span",{className:"current-date",children:e.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("button",{className:"date-nav",onClick:()=>n(new Date(e.getTime()+24*60*60*1e3)),children:"→"})]})]}),l.jsx("div",{className:"tasks-list",children:t.map(h=>l.jsx(bF,{task:h,handleStartTask:r,getTaskStatusColor:i,getPriorityColor:s,getEfficiencyColor:c,formatTime:d},h.id))})]})}function wF({tasks:t,onFilterChange:e,onSortChange:n,currentTask:r,onQuickAction:i}){const[s,c]=A.useState("all"),[d,h]=A.useState("time"),[f,p]=A.useState(!0),v={total:t.length,pending:t.filter(S=>S.status==="pending").length,completed:t.filter(S=>S.status==="completed").length,urgent:t.filter(S=>S.priority==="urgent").length,delayed:t.filter(S=>S.status==="delayed").length},x=S=>{c(S);let j=[...t];switch(S){case"priority":j=t.filter(O=>O.priority==="urgent"||O.priority==="high");break;case"sector":{const O=t.reduce((L,D)=>(L[D.sector]=(L[D.sector]||0)+1,L),{}),R=Object.keys(O).reduce((L,D)=>O[L]>O[D]?L:D);j=t.filter(L=>L.sector===R);break}case"status":j=t.filter(O=>O.status==="pending"||O.status==="in_progress");break;case"upcoming":{const O=new Date,R=O.getHours()*60+O.getMinutes();j=t.filter(L=>{const[D,B]=L.startTime.split(":").map(Number);return D*60+B>R&&L.status==="pending"});break}default:j=t}e(j)},_=S=>{h(S);const j=[...t];switch(S){case"time":j.sort((O,R)=>{const L=O.startTime.split(":").map(Number),D=R.startTime.split(":").map(Number);return L[0]*60+L[1]-(D[0]*60+D[1])});break;case"priority":{const O={urgent:4,high:3,medium:2,low:1};j.sort((R,L)=>O[L.priority]-O[R.priority]);break}case"duration":j.sort((O,R)=>R.estimatedTime+R.setupTime-(O.estimatedTime+O.setupTime));break;case"sector":j.sort((O,R)=>O.sector.localeCompare(R.sector));break}n(j)},w=[{id:"start-next",icon:l.jsx(z2,{}),label:"Iniciar Próxima",action:()=>i("start-next"),disabled:!t.find(S=>S.status==="pending")||!!r},{id:"pause-current",icon:l.jsx(Ot,{}),label:"Pausar Atual",action:()=>i("pause-current"),disabled:!r||r.status!=="in_progress"},{id:"complete-current",icon:l.jsx(Va,{}),label:"Finalizar Atual",action:()=>i("complete-current"),disabled:!r},{id:"emergency-break",icon:l.jsx(It,{}),label:"Pausa Emergência",action:()=>i("emergency-break"),disabled:!1}],E=S=>{const j=Math.floor(S/60),O=S%60;return j>0?`${j}h ${O}m`:`${O}m`};return l.jsxs("div",{className:`quick-actions-panel ${f?"expanded":"collapsed"}`,children:[l.jsxs("div",{className:"panel-header",children:[l.jsxs("div",{className:"panel-title",children:[l.jsx("span",{className:"panel-icon",children:l.jsx(zh,{})}),l.jsx("span",{children:"Ações Rápidas"})]}),l.jsx("button",{className:"expand-btn",onClick:()=>p(!f),children:f?l.jsx(VM,{}):l.jsx(Qc,{})})]}),f&&l.jsxs("div",{className:"panel-content",children:[l.jsxs("div",{className:"quick-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value",children:v.total}),l.jsx("span",{className:"stat-label",children:"Total"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value pending",children:v.pending}),l.jsx("span",{className:"stat-label",children:"Pendentes"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value completed",children:v.completed}),l.jsx("span",{className:"stat-label",children:"Concluídas"})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value urgent",children:v.urgent}),l.jsx("span",{className:"stat-label",children:"Urgentes"})]})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("h4",{children:"Filtros"}),l.jsxs("div",{className:"filter-buttons",children:[l.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>x("all"),children:[l.jsx(qh,{})," Todas"]}),l.jsxs("button",{className:`filter-btn ${s==="priority"?"active":""}`,onClick:()=>x("priority"),children:[l.jsx(dC,{})," Prioridade"]}),l.jsxs("button",{className:`filter-btn ${s==="status"?"active":""}`,onClick:()=>x("status"),children:[l.jsx(Ot,{})," Ativas"]}),l.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>x("upcoming"),children:[l.jsx(z2,{})," Próximas"]})]})]}),l.jsxs("div",{className:"sort-section",children:[l.jsx("h4",{children:"Ordenar por"}),l.jsxs("div",{className:"sort-buttons",children:[l.jsxs("button",{className:`sort-btn ${d==="time"?"active":""}`,onClick:()=>_("time"),children:[l.jsx(Ot,{})," Horário"]}),l.jsxs("button",{className:`sort-btn ${d==="priority"?"active":""}`,onClick:()=>_("priority"),children:[l.jsx(GM,{})," Prioridade"]}),l.jsxs("button",{className:`sort-btn ${d==="duration"?"active":""}`,onClick:()=>_("duration"),children:[l.jsx(Ot,{})," Duração"]}),l.jsxs("button",{className:`sort-btn ${d==="sector"?"active":""}`,onClick:()=>_("sector"),children:[l.jsx(Pg,{})," Setor"]})]})]}),l.jsxs("div",{className:"actions-section",children:[l.jsx("h4",{children:"Ações"}),l.jsx("div",{className:"action-buttons",children:w.map(S=>l.jsxs("button",{className:`action-btn ${S.disabled?"disabled":""}`,onClick:S.action,disabled:S.disabled,title:S.label,children:[l.jsx("span",{className:"action-icon",children:S.icon}),l.jsx("span",{className:"action-label",children:S.label})]},S.id))})]}),r&&l.jsxs("div",{className:"current-task-info",children:[l.jsx("h4",{children:"Tarefa Atual"}),l.jsxs("div",{className:"task-summary",children:[l.jsxs("div",{className:"task-header",children:[l.jsx("span",{className:"task-name",children:r.activity}),l.jsx("span",{className:`task-priority priority-${r.priority}`,children:r.priority.toUpperCase()})]}),l.jsxs("div",{className:"task-details",children:[l.jsx("span",{className:"task-sector",children:r.sector}),l.jsx("span",{className:"task-duration",children:E(r.estimatedTime+r.setupTime)})]}),l.jsxs("div",{className:"task-timeline",children:[l.jsx("span",{children:r.startTime}),l.jsx("span",{children:"→"}),l.jsx("span",{children:r.endTime})]})]})]})]})]})}function SF(){const{user:t}=vi(),[e,n]=A.useState(new Date),[r,i]=A.useState("day"),[s,c]=A.useState([]),[d,h]=A.useState([]),[f,p]=A.useState(null),[v,x]=A.useState(null),[_,w]=A.useState({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0}),[E,S]=A.useState(new Date);A.useEffect(()=>{const U=[{id:"task-001",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Corte de Peças",sector:"Corte",description:"Cortar 100 peças conforme especificação técnica. Verificar medidas e qualidade.",estimatedTime:120,setupTime:30,startTime:"08:00",endTime:"10:30",status:"completed",actualStartTime:"08:05",actualEndTime:"10:25",actualTime:140,priority:"high",requiredSkills:["Corte","Medição"],breaks:[],nonConformities:[]},{id:"task-002",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Montagem Principal",sector:"Montagem",description:"Montar componentes principais seguindo roteiro de montagem. Aplicar torque especificado.",estimatedTime:180,setupTime:45,startTime:"10:30",endTime:"14:15",status:"in_progress",actualStartTime:"10:35",priority:"high",requiredSkills:["Montagem","Torque"],breaks:[{id:"break-001",type:"coffee",startTime:"12:00",endTime:"12:15",duration:15}],nonConformities:[]},{id:"task-003",orderId:"OP-2024-002",productName:"Produto B - Modelo Y",activity:"Acabamento Final",sector:"Acabamento",description:"Aplicar acabamento final e realizar inspeção de qualidade completa.",estimatedTime:90,setupTime:15,startTime:"14:15",endTime:"15:45",status:"pending",priority:"medium",requiredSkills:["Acabamento","Inspeção"],breaks:[],nonConformities:[]},{id:"task-004",orderId:"OP-2024-003",productName:"Produto C - Modelo Z",activity:"Preparação de Material",sector:"Preparação",description:"Separar e preparar materiais para próxima etapa de produção.",estimatedTime:60,setupTime:20,startTime:"15:45",endTime:"17:05",status:"pending",priority:"urgent",requiredSkills:["Preparação"],breaks:[],nonConformities:[]},{id:"task-005",orderId:"OP-2024-004",productName:"Produto D - Modelo W",activity:"Inspeção Qualidade",sector:"Qualidade",description:"Inspeção final de qualidade conforme especificação técnica.",estimatedTime:45,setupTime:10,startTime:"07:30",endTime:"08:30",status:"pending",priority:"low",requiredSkills:["Qualidade","Inspeção"],breaks:[],nonConformities:[]}],pe={tasksCompleted:8,averageEfficiency:94.5,totalWorkTime:420,onTimeCompletion:87.5,ranking:3,dailyTarget:10};c(U),h(U),w(pe),p(U.find(ve=>ve.status==="in_progress")||null)},[]),A.useEffect(()=>{const U=setInterval(()=>{S(new Date)},6e4);return()=>clearInterval(U)},[]),A.useEffect(()=>{const U=s.filter(q=>q.status==="completed").length,pe=s.length,ve=s.filter(q=>q.status==="completed"&&q.actualTime&&q.actualTime<=q.estimatedTime+q.setupTime).length;w(q=>({...q,tasksCompleted:U,onTimeCompletion:pe>0?ve/pe*100:0}))},[s]);const j=U=>{f&&R(f.id),c(ve=>ve.map(q=>q.id===U?{...q,status:"in_progress",actualStartTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}:q));const pe=s.find(ve=>ve.id===U);pe&&p({...pe,status:"in_progress"})},O=U=>{const pe=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});c(ve=>ve.map(q=>q.id===U?{...q,status:"completed",actualEndTime:pe,actualTime:q.actualStartTime?C(q.actualStartTime,pe):q.estimatedTime}:q)),p(null)},R=U=>{c(pe=>pe.map(ve=>ve.id===U?{...ve,status:"paused"}:ve)),f?.id===U&&p(null)},L=U=>{const pe={id:`break-${Date.now()}`,type:U,startTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};x(pe)},D=()=>{if(v&&f){const U=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),pe=C(v.startTime,U),ve={...v,endTime:U,duration:pe};c(q=>q.map(z=>z.id===f.id?{...z,breaks:[...z.breaks,ve]}:z))}x(null)},B=U=>{switch(U){case"start-next":{const pe=s.find(ve=>ve.status==="pending");pe&&j(pe.id);break}case"pause-current":f&&R(f.id);break;case"complete-current":f&&O(f.id);break;case"emergency-break":f&&(R(f.id),L("other"));break}},C=(U,pe)=>{const[ve,q]=U.split(":").map(Number),[z,J]=pe.split(":").map(Number);return z*60+J-(ve*60+q)},P=U=>{switch(U){case"pending":return"#e2e8f0";case"in_progress":return"#bee3f8";case"paused":return"#fbb040";case"completed":return"#c6f6d5";case"delayed":return"#fed7d7";default:return"#e2e8f0"}},M=U=>{switch(U){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"urgent":return"#e53e3e";default:return"#4a5568"}},F=U=>U>=95?"#48bb78":U>=85?"#fbb040":"#f56565",$=U=>{const pe=Math.floor(U/60),ve=U%60;return`${pe}h ${ve}m`},H=U=>{if(U.status==="completed")return 100;if(U.status==="pending")return 0;const pe=new Date,[ve,q]=U.startTime.split(":").map(Number),[z,J]=U.endTime.split(":").map(Number),fe=new Date;fe.setHours(ve,q,0,0);const K=new Date;K.setHours(z,J,0,0);const ie=K.getTime()-fe.getTime(),re=pe.getTime()-fe.getTime();return Math.min(Math.max(re/ie*100,0),100)};return l.jsx("div",{className:"schedule-page",children:l.jsxs("div",{className:"schedule-container",children:[l.jsx(vF,{user:t,viewMode:r,setViewMode:i,currentTime:E}),l.jsx(yF,{stats:_,getEfficiencyColor:F,formatTime:$}),l.jsx(wF,{tasks:s,currentTask:f,onFilterChange:h,onSortChange:U=>{c(U),h(U)},onQuickAction:B}),l.jsxs("div",{className:"schedule-content",children:[l.jsx(xF,{currentTask:f,activeBreak:v,currentTime:E,handlePauseTask:R,handleCompleteTask:O,handleStartBreak:L,handleEndBreak:D,calculateProgress:H,calculateActualTime:C}),l.jsx(_F,{tasks:d,currentDate:e,setCurrentDate:n,handleStartTask:j,getTaskStatusColor:P,getPriorityColor:M,getEfficiencyColor:F,formatTime:$})]})]})})}const EF=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState([]),[c,d]=A.useState(null),h=(p,v)=>v===0?0:p/v*100,f=(p,v)=>p===0?0:v/p*100;return A.useEffect(()=>{const p=[{id:"task-001",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Corte de Peças",sector:"Corte",description:"Cortar 100 peças conforme especificação técnica.",estimatedTime:120,setupTime:30,startTime:"08:00",endTime:"10:30",status:"completed",actualStartTime:"08:05",actualEndTime:"10:25",actualTime:140,priority:"high",requiredSkills:["Corte","Medição"],breaks:[],nonConformities:[]},{id:"task-002",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Montagem Principal",sector:"Montagem",description:"Montar componentes principais seguindo roteiro.",estimatedTime:180,setupTime:45,startTime:"10:30",endTime:"14:15",status:"completed",actualStartTime:"10:35",actualEndTime:"14:00",actualTime:165,priority:"high",requiredSkills:["Montagem","Torque"],breaks:[{id:"break-001",type:"coffee",startTime:"12:00",endTime:"12:15",duration:15}],nonConformities:[]},{id:"task-003",orderId:"OP-2024-002",productName:"Produto B - Modelo Y",activity:"Acabamento Final",sector:"Acabamento",description:"Aplicar acabamento final e inspeção de qualidade.",estimatedTime:90,setupTime:15,startTime:"14:15",endTime:"15:45",status:"completed",actualStartTime:"14:20",actualEndTime:"15:35",actualTime:75,priority:"medium",requiredSkills:["Acabamento","Inspeção"],breaks:[],nonConformities:[]},{id:"task-004",orderId:"OP-2024-003",productName:"Produto C - Modelo Z",activity:"Preparação Material",sector:"Preparação",description:"Separar e preparar materiais para produção.",estimatedTime:60,setupTime:20,startTime:"15:45",endTime:"17:05",status:"delayed",actualStartTime:"15:50",actualEndTime:"17:20",actualTime:90,priority:"low",requiredSkills:["Preparação"],breaks:[],nonConformities:[]},{id:"task-005",orderId:"OP-2024-004",productName:"Produto D - Modelo W",activity:"Inspeção Qualidade",sector:"Qualidade",description:"Inspeção final de qualidade conforme especificação.",estimatedTime:45,setupTime:10,startTime:"08:00",endTime:"09:00",status:"completed",actualStartTime:"08:02",actualEndTime:"08:50",actualTime:48,priority:"urgent",requiredSkills:["Qualidade","Inspeção"],breaks:[],nonConformities:[]}],v={"Corte de Peças":105,"Montagem Principal":160,"Acabamento Final":70,"Preparação Material":55,"Inspeção Qualidade":40},x=p.filter(L=>L.status==="completed"||L.status==="delayed").map(L=>{const D=L.estimatedTime+L.setupTime,B=L.actualTime||D,C=v[L.activity]||D*.9,P=h(D,B),M=f(B,C);return{operatorId:"op-001",operatorName:"João Silva",taskId:L.id,taskName:L.activity,orderId:L.orderId,orderName:L.productName,sector:L.sector,shift:"morning",date:"2024-01-20",plannedTime:D,actualTime:B,bestHistoricTime:C,efficiency:P,productivity:M,status:L.status==="completed"?"completed":"delayed"}}),_=x.filter(L=>L.status==="completed"),w=_.reduce((L,D)=>L+D.efficiency,0)/_.length,E=_.reduce((L,D)=>L+D.productivity,0)/_.length,S=_.filter(L=>L.efficiency>=100).length/_.length*100,j=[{operatorId:"op-001",operatorName:"João Silva",totalTasks:x.length,averageEfficiency:w,totalProductivity:E,onTimeCompletion:S,rank:1,trend:w>100?"up":"down"},{operatorId:"op-002",operatorName:"Maria Santos",totalTasks:18,averageEfficiency:104.7,totalProductivity:98.9,onTimeCompletion:88.9,rank:2,trend:"stable"},{operatorId:"op-003",operatorName:"Pedro Costa",totalTasks:15,averageEfficiency:89.3,totalProductivity:85.2,onTimeCompletion:73.3,rank:3,trend:"down"}],O=x.reduce((L,D)=>L+D.actualTime,0),R=[{period:"Hoje",tasksCompleted:x.length,averageEfficiency:w,totalTime:O,productivityScore:E,onTimeRate:S},{period:"Esta Semana",tasksCompleted:x.length*5,averageEfficiency:w*.98,totalTime:O*5,productivityScore:E*.96,onTimeRate:S*.95},{period:"Este Mês",tasksCompleted:x.length*20,averageEfficiency:w*.96,totalTime:O*20,productivityScore:E*.94,onTimeRate:S*.92}];e(x),r(j),s(R),d(j[0])},[]),{productivityData:t,operatorRankings:n,periodStats:i,currentUserStats:c,calculateEfficiency:h,calculateProductivity:f}};function TF(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState({autoRecalculation:!0,recalculateInterval:30,notifyOperators:!0,notifyCoordinators:!0,maxDelayAllowed:120,priorityThreshold:"urgent"}),[c,d]=A.useState(!1),[h,f]=A.useState(null),[p,v]=A.useState(null),x=A.useCallback(async L=>{await new Promise(C=>setTimeout(C,2e3));const D=[],B=["João Silva","Maria Santos","Pedro Costa","Ana Oliveira"];for(let C=0;C<L.affectedOperators;C++){const P={id:`SC-${Date.now()}-${C}`,orderId:L.id,taskId:`task-${C+1}`,operatorId:`op-${C+1}`,operatorName:B[C%B.length],originalStartTime:"08:00",newStartTime:"07:30",originalEndTime:"17:00",newEndTime:"16:30",reason:`Pedido ${L.priority} ${L.id}`,impact:L.priority==="critical"?"high":"medium",notified:!1};D.push(P)}return D},[]),_=A.useCallback(async L=>{d(!0);try{await new Promise(B=>setTimeout(B,3e3));const D=await x(L);e(B=>[{...L,status:"completed",processedAt:new Date().toISOString()},...B]),r(B=>[...D,...B]),i.notifyOperators&&await w(D),i.notifyCoordinators&&await E(L,D),f(new Date),v(new Date(Date.now()+i.recalculateInterval*60*1e3))}catch(D){console.error("Erro ao processar pedido urgente:",D),e(B=>[{...L,status:"failed"},...B])}finally{d(!1)}},[i,x]),w=A.useCallback(async L=>{console.log("Notificando operadores sobre mudanças de agenda:",L),r(D=>D.map(B=>L.some(C=>C.id===B.id)?{...B,notified:!0}:B))},[]),E=A.useCallback(async(L,D)=>{console.log("Notificando coordenadores sobre pedido urgente:",L,D)},[]),S=A.useCallback(async()=>{if(!c){d(!0);try{const L={id:`UO-2024-${String(t.length+1).padStart(3,"0")}`,productName:"Produto C - Modelo Z",quantity:75,priority:"urgent",originalDeadline:"2024-01-24T18:00:00",newDeadline:"2024-01-22T16:00:00",affectedTasks:6,affectedOperators:2,estimatedDelay:30,status:"pending",createdAt:new Date().toISOString()};await _(L)}catch(L){console.error("Erro no recálculo manual:",L)}finally{d(!1)}}},[t.length,_,c]);A.useEffect(()=>{if(!i.autoRecalculation)return;const L=setInterval(()=>{c||S()},i.recalculateInterval*60*1e3);return()=>clearInterval(L)},[i.autoRecalculation,i.recalculateInterval,S,c]);const j={totalUrgentOrders:t.length,processingOrders:t.filter(L=>L.status==="processing").length,completedOrders:t.filter(L=>L.status==="completed").length,failedOrders:t.filter(L=>L.status==="failed").length,totalScheduleChanges:n.length,notifiedChanges:n.filter(L=>L.notified).length,efficiency:t.length>0?t.filter(L=>L.status==="completed").length/t.length*100:0},O=A.useCallback(L=>{s(D=>({...D,...L}))},[]),R=A.useCallback(async L=>{const D=n.find(B=>B.id===L);if(D)try{await w([D])}catch(B){console.error("Erro ao notificar mudança:",B)}},[n,w]);return{urgentOrders:t,scheduleChanges:n,config:i,isProcessing:c,lastRecalculation:h,nextRecalculation:p,stats:j,processUrgentOrder:_,manualRecalculation:S,updateConfig:O,notifyChange:R}}const AF=()=>{const[t,e]=A.useState(!1),n=A.useCallback(async p=>{if(!p.clientId||!p.clientSecret||!p.baseUrl)return{success:!1,error:"Client ID, Client Secret e URL Base são obrigatórios"};try{return e(!0),await new Promise(v=>setTimeout(v,1500)),p.clientId.length<10||p.clientSecret.length<10?{success:!1,error:"Client ID ou Client Secret muito curtos"}:{success:!0}}catch{return{success:!1,error:"Erro inesperado durante o teste de conexão"}}finally{e(!1)}},[]),r=A.useCallback(async p=>{if(!p.clientId||!p.clientSecret)return{success:!1,error:"Client ID e Client Secret são obrigatórios"};try{e(!0),await new Promise(x=>setTimeout(x,2e3));const v=[{id:"bling-001",number:"OP-2024-001",customer:"Cliente A",product:"Produto X",quantity:100,status:"pending",createdAt:new Date(Date.now()-864e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"},{id:"bling-002",number:"OP-2024-002",customer:"Cliente B",product:"Produto Y",quantity:50,status:"processing",createdAt:new Date(Date.now()-1728e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"},{id:"bling-003",number:"OP-2024-003",customer:"Cliente C",product:"Produto Z",quantity:200,status:"completed",createdAt:new Date(Date.now()-2592e5).toISOString(),importedAt:new Date().toISOString(),importedBy:"Sistema"}];return{success:!0,importedCount:v.length,errorCount:0,orders:v}}catch(v){return{success:!1,error:v instanceof Error?v.message:"Erro desconhecido na importação"}}finally{e(!1)}},[]),i=A.useCallback(async()=>{try{return[{id:"log-001",timestamp:new Date(Date.now()-36e5).toISOString(),type:"success",message:"Importação automática realizada",details:"3 ordens importadas com sucesso",ordersCount:3,errorsCount:0},{id:"log-002",timestamp:new Date(Date.now()-72e5).toISOString(),type:"warning",message:"Importação com avisos",details:"2 ordens importadas, 1 com dados incompletos",ordersCount:2,errorsCount:1},{id:"log-003",timestamp:new Date(Date.now()-864e5).toISOString(),type:"error",message:"Falha na importação",details:"Erro de conexão com a API do Bling",ordersCount:0,errorsCount:1}]}catch(p){return console.error("Erro ao carregar histórico:",p),[]}},[]),s=A.useCallback(async()=>{try{const p=localStorage.getItem("bling-config");return p?JSON.parse(p):null}catch(p){return console.error("Erro ao carregar configuração:",p),null}},[]),c=A.useCallback(async p=>{try{localStorage.setItem("bling-config",JSON.stringify(p)),await new Promise(v=>setTimeout(v,500))}catch(v){throw console.error("Erro ao salvar configuração:",v),v}},[]),d=A.useCallback(async p=>p.autoSync?await r(p):{success:!1,error:"Sincronização automática desabilitada"},[r]),h=A.useCallback(async()=>{try{const p=await i(),v=p.reduce((w,E)=>w+(E.ordersCount||0),0),x=p.filter(w=>w.type==="success").length,_=p.length>0?x/p.length*100:0;return{totalOrders:v,lastSync:p.length>0?p[0].timestamp:null,nextSync:null,successRate:_}}catch(p){return console.error("Erro ao obter estatísticas:",p),{totalOrders:0,lastSync:null,nextSync:null,successRate:0}}},[i]),f=A.useCallback(p=>{const v=[];return(!p.clientId||p.clientId.trim().length===0)&&v.push("Client ID é obrigatório"),(!p.clientSecret||p.clientSecret.trim().length===0)&&v.push("Client Secret é obrigatório"),(!p.baseUrl||p.baseUrl.trim().length===0)&&v.push("URL Base é obrigatória"),p.autoSync&&(p.syncInterval<5||p.syncInterval>1440)&&v.push("Intervalo de sincronização deve estar entre 5 e 1440 minutos"),{isValid:v.length===0,errors:v}},[]);return{loading:t,testConnection:n,importOrders:r,getImportHistory:i,getConfiguration:s,updateConfiguration:c,syncOrders:d,getSyncStats:h,validateConfig:f}};function jF({selectedPeriod:t,setSelectedPeriod:e}){return l.jsxs("div",{className:"productivity-header",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:"Painel de Produtividade"}),l.jsx("p",{children:"Análise completa de performance e eficiência operacional"})]}),l.jsx("div",{className:"header-controls",children:l.jsxs("div",{className:"period-selector",children:[l.jsx("button",{className:`period-btn ${t==="today"?"active":""}`,onClick:()=>e("today"),children:"Hoje"}),l.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"}),l.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>e("month"),children:"Mês"})]})})]})}function NF({currentUserStats:t,getEfficiencyColor:e,getTrendIcon:n}){return l.jsxs("div",{className:"user-stats-card",children:[l.jsxs("div",{className:"user-stats-header",children:[l.jsxs("div",{className:"user-info",children:[l.jsx("h3",{children:"Sua Performance"}),l.jsx("p",{children:t.operatorName})]}),l.jsxs("div",{className:"user-rank",children:[l.jsxs("div",{className:"rank-badge",children:["#",t.rank]}),l.jsx("div",{className:"trend-indicator",children:n(t.trend)})]})]}),l.jsxs("div",{className:"user-metrics",children:[l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Eficiência Média"})]}),l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",children:[t.totalProductivity.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Produtividade"})]}),l.jsxs("div",{className:"metric",children:[l.jsxs("span",{className:"metric-value",children:[t.onTimeCompletion.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"No Prazo"})]}),l.jsxs("div",{className:"metric",children:[l.jsx("span",{className:"metric-value",children:t.totalTasks}),l.jsx("span",{className:"metric-label",children:"Tarefas"})]})]})]})}function CF({currentPeriodStats:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"period-overview",children:[l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(fl,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsx("div",{className:"overview-value",children:t.tasksCompleted}),l.jsx("div",{className:"overview-label",children:"Tarefas Concluídas"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(zh,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Eficiência Média"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(CM,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",children:[t.productivityScore.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Score Produtividade"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsx("div",{className:"overview-value",children:n(t.totalTime)}),l.jsx("div",{className:"overview-label",children:"Tempo Total"})]})]}),l.jsxs("div",{className:"overview-card",children:[l.jsx("div",{className:"overview-icon",children:l.jsx(Xa,{})}),l.jsxs("div",{className:"overview-content",children:[l.jsxs("div",{className:"overview-value",children:[t.onTimeRate.toFixed(1),"%"]}),l.jsx("div",{className:"overview-label",children:"Taxa No Prazo"})]})]})]})}function OF({selectedOperator:t,setSelectedOperator:e,selectedSector:n,setSelectedSector:r}){return l.jsxs("div",{className:"filters-section",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Operador:"}),l.jsxs("select",{value:t,onChange:i=>e(i.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"op-001",children:"João Silva"}),l.jsx("option",{value:"op-002",children:"Maria Santos"}),l.jsx("option",{value:"op-003",children:"Pedro Costa"}),l.jsx("option",{value:"op-004",children:"Ana Oliveira"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Setor:"}),l.jsxs("select",{value:n,onChange:i=>r(i.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"Corte",children:"Corte"}),l.jsx("option",{value:"Montagem",children:"Montagem"}),l.jsx("option",{value:"Acabamento",children:"Acabamento"}),l.jsx("option",{value:"Qualidade",children:"Qualidade"})]})]})]})}function IF({filteredData:t,getEfficiencyColor:e,formatTime:n}){return l.jsxs("div",{className:"performance-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h3",{children:"Performance Detalhada"}),l.jsx("div",{className:"section-actions",children:l.jsxs("button",{className:"export-btn",children:[l.jsx(Xa,{})," Exportar"]})})]}),l.jsx("div",{className:"performance-table-container",children:l.jsxs("table",{className:"performance-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Operador"}),l.jsx("th",{children:"Tarefa"}),l.jsx("th",{children:"Pedido"}),l.jsx("th",{children:"Setor"}),l.jsx("th",{children:"Planejado"}),l.jsx("th",{children:"Real"}),l.jsx("th",{children:"Melhor"}),l.jsx("th",{children:"Eficiência"}),l.jsx("th",{children:"Produtividade"}),l.jsx("th",{children:"Status"})]})}),l.jsx("tbody",{children:t.map((r,i)=>l.jsxs("tr",{className:"performance-row",children:[l.jsx("td",{children:l.jsxs("div",{className:"operator-cell",children:[l.jsxs("div",{className:"operator-avatar",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),l.jsx("span",{children:r.operatorName})]})}),l.jsx("td",{children:l.jsxs("div",{className:"task-cell",children:[l.jsx("div",{className:"task-name",children:r.taskName}),l.jsx("div",{className:"task-id",children:r.taskId})]})}),l.jsx("td",{children:l.jsxs("div",{className:"order-cell",children:[l.jsx("div",{className:"order-name",children:r.orderName}),l.jsx("div",{className:"order-id",children:r.orderId})]})}),l.jsx("td",{children:l.jsx("span",{className:"sector-badge",children:r.sector})}),l.jsx("td",{children:n(r.plannedTime)}),l.jsx("td",{children:n(r.actualTime)}),l.jsx("td",{children:n(r.bestHistoricTime)}),l.jsx("td",{children:l.jsxs("div",{className:"efficiency-cell",children:[l.jsxs("span",{className:"efficiency-value",style:{color:e(r.efficiency)},children:[r.efficiency.toFixed(1),"%"]}),l.jsx("div",{className:"efficiency-bar",children:l.jsx("div",{className:"efficiency-fill",style:{width:`${Math.min(r.efficiency,150)}%`,backgroundColor:e(r.efficiency)}})})]})}),l.jsx("td",{children:l.jsxs("span",{className:"productivity-value",style:{color:e(r.productivity)},children:[r.productivity.toFixed(1),"%"]})}),l.jsx("td",{children:l.jsx("span",{className:`status-badge status-${r.status}`,children:r.status==="completed"?"Concluído":r.status==="in_progress"?"Em Andamento":"Atrasado"})})]},i))})]})})]})}function RF({operatorRankings:t,getEfficiencyColor:e,getTrendIcon:n}){return l.jsxs("div",{className:"rankings-section",children:[l.jsx("div",{className:"section-header",children:l.jsx("h3",{children:"Ranking de Operadores"})}),l.jsx("div",{className:"rankings-grid",children:t.map((r,i)=>l.jsxs("div",{className:`ranking-card ${i<3?"podium":""}`,children:[l.jsxs("div",{className:"ranking-header",children:[l.jsxs("div",{className:"rank-position",children:[l.jsxs("span",{className:"rank-number",children:["#",r.rank]}),i===0&&l.jsx("span",{className:"medal",children:l.jsx(pC,{})}),i===1&&l.jsx("span",{className:"medal",children:l.jsx(LM,{})}),i===2&&l.jsx("span",{className:"medal",children:l.jsx(NM,{})})]}),l.jsx("div",{className:"trend",children:n(r.trend)})]}),l.jsxs("div",{className:"operator-info",children:[l.jsxs("div",{className:"operator-avatar large",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),l.jsx("h4",{children:r.operatorName})]}),l.jsxs("div",{className:"ranking-metrics",children:[l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",style:{color:e(r.averageEfficiency)},children:[r.averageEfficiency.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Eficiência"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",children:[r.totalProductivity.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"Produtividade"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsx("span",{className:"metric-value",children:r.totalTasks}),l.jsx("span",{className:"metric-label",children:"Tarefas"})]}),l.jsxs("div",{className:"ranking-metric",children:[l.jsxs("span",{className:"metric-value",children:[r.onTimeCompletion.toFixed(1),"%"]}),l.jsx("span",{className:"metric-label",children:"No Prazo"})]})]})]},r.operatorId))})]})}function eR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eR(t))&&(r&&(r+=" "),r+=e);return r}var r1={},i1={},ej;function PF(){return ej||(ej=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(i1)),i1}var a1={},tj;function tR(){return tj||(tj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(a1)),a1}var s1={},nj;function nR(){return nj||(nj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(s1)),s1}var o1={},rj;function f_(){return rj||(rj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,c="",d="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const f=n[s];d?f==="\\"&&s+1<i?(s++,c+=n[s]):f===d?d="":c+=f:h?f==='"'||f==="'"?d=f:f==="]"?(h=!1,r.push(c),c=""):c+=f:f==="["?(h=!0,c&&(r.push(c),c="")):f==="."?c&&(r.push(c),c=""):c+=f,s++}return c&&r.push(c),r}t.toPath=e}(o1)),o1}var ij;function m_(){return ij||(ij=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PF(),n=tR(),r=nR(),i=f_();function s(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?n.isDeepKey(h)?s(d,i.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?f:p}default:{if(Array.isArray(h))return c(d,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?f:p}}}function c(d,h,f){if(h.length===0)return f;let p=d;for(let v=0;v<h.length;v++){if(p==null||e.isUnsafeProperty(h[v]))return f;p=p[h[v]]}return p===void 0?f:p}t.get=s}(r1)),r1}var l1,aj;function DF(){return aj||(aj=1,l1=m_().get),l1}var kF=DF();const bl=Wi(kF);var c1={exports:{}},mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function MF(){if(sj)return mt;sj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function w(E){if(typeof E=="object"&&E!==null){var S=E.$$typeof;switch(S){case t:switch(E=E.type,E){case n:case i:case r:case h:case f:case x:return E;default:switch(E=E&&E.$$typeof,E){case c:case d:case v:case p:return E;case s:return E;default:return S}}case e:return S}}}return mt.ContextConsumer=s,mt.ContextProvider=c,mt.Element=t,mt.ForwardRef=d,mt.Fragment=n,mt.Lazy=v,mt.Memo=p,mt.Portal=e,mt.Profiler=i,mt.StrictMode=r,mt.Suspense=h,mt.SuspenseList=f,mt.isContextConsumer=function(E){return w(E)===s},mt.isContextProvider=function(E){return w(E)===c},mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},mt.isForwardRef=function(E){return w(E)===d},mt.isFragment=function(E){return w(E)===n},mt.isLazy=function(E){return w(E)===v},mt.isMemo=function(E){return w(E)===p},mt.isPortal=function(E){return w(E)===e},mt.isProfiler=function(E){return w(E)===i},mt.isStrictMode=function(E){return w(E)===r},mt.isSuspense=function(E){return w(E)===h},mt.isSuspenseList=function(E){return w(E)===f},mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===h||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===p||E.$$typeof===c||E.$$typeof===s||E.$$typeof===d||E.$$typeof===_||E.getModuleId!==void 0)},mt.typeOf=w,mt}var oj;function LF(){return oj||(oj=1,c1.exports=MF()),c1.exports}var VF=LF(),Kr=t=>t===0?0:t>0?1:-1,Wr=t=>typeof t=="number"&&t!=+t,el=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Te=t=>(typeof t=="number"||t instanceof Number)&&!Wr(t),Gi=t=>Te(t)||typeof t=="string",UF=0,Ah=t=>{var e=++UF;return"".concat(t||"").concat(e)},ro=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&typeof e!="string")return r;var s;if(el(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return Wr(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},rR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Wm=(t,e)=>Te(t)&&Te(e)?n=>t+n*(e-t):()=>e;function iR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):bl(r,e))===n)}var zF=t=>{if(!t||!t.length)return null;for(var e=t.length,n=0,r=0,i=0,s=0,c=1/0,d=-1/0,h=0,f=0,p=0;p<e;p++)h=t[p].cx||0,f=t[p].cy||0,n+=h,r+=f,i+=h*f,s+=h*h,c=Math.min(c,h),d=Math.max(d,h);var v=e*s!==n*n?(e*i-n*r)/(e*s-n*n):0;return{xmin:c,xmax:d,a:v,b:(r-v*n)/e}},Ct=t=>t===null||typeof t>"u",af=t=>Ct(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),BF=["viewBox","children"],qF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lj=["points","pathLength"],u1={svg:BF,polygon:lj,polyline:lj},p_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$F=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{p_.includes(i)&&(r[i]=s=>n[i](n,s))}),r},FF=(t,e,n)=>r=>(t(e,n,r),null),aR=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];p_.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=FF(s,e,n))}),r},cj=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",uj=null,d1=null,sR=t=>{if(t===uj&&Array.isArray(d1))return d1;var e=[];return A.Children.forEach(t,n=>{Ct(n)||(VF.isFragment(n)?e=e.concat(sR(n.props.children)):e.push(n))}),d1=e,uj=t,e};function g_(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>cj(i)):r=[cj(e)],sR(t).forEach(i=>{var s=bl(i,"type.displayName")||bl(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var HF=(t,e,n,r)=>{var i,s=(i=r&&u1?.[r])!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||qF.includes(e))||n&&p_.includes(e)},Tt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var c;HF((c=r)===null||c===void 0?void 0:c[s],s,e,n)&&(i[s]=r[s])}),i},KF=["children","width","height","viewBox","className","style","title","desc"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(null,arguments)}function GF(t,e){if(t==null)return{};var n,r,i=YF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oR=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:c,style:d,title:h,desc:f}=t,p=GF(t,KF),v=s||{width:r,height:i,x:0,y:0},x=wt("recharts-surface",c);return A.createElement("svg",vx({},Tt(p,!0,"svg"),{className:x,width:r,height:i,style:d,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),A.createElement("title",null,h),A.createElement("desc",null,f),n)}),WF=["children","className"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yx.apply(null,arguments)}function XF(t,e){if(t==null)return{};var n,r,i=QF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ha=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=XF(t,WF),s=wt("recharts-layer",r);return A.createElement("g",yx({className:s},Tt(i,!0),{ref:e}),n)}),ZF=A.createContext(null);function yt(t){return function(){return t}}const lR=Math.cos,Xp=Math.sin,yi=Math.sqrt,Qp=Math.PI,ov=2*Qp,xx=Math.PI,bx=2*xx,Wo=1e-6,JF=bx-Wo;function cR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function eH(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cR;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tH{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cR:eH(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,c){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,h=r-e,f=i-n,p=c-e,v=d-n,x=p*p+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Wo)if(!(Math.abs(v*h-f*p)>Wo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-c,w=i-d,E=h*h+f*f,S=_*_+w*w,j=Math.sqrt(E),O=Math.sqrt(x),R=s*Math.tan((xx-Math.acos((E+x-S)/(2*j*O)))/2),L=R/O,D=R/j;Math.abs(L-1)>Wo&&this._append`L${e+L*p},${n+L*v}`,this._append`A${s},${s},0,0,${+(v*_>p*w)},${this._x1=e+D*h},${this._y1=n+D*f}`}}arc(e,n,r,i,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),h=r*Math.sin(i),f=e+d,p=n+h,v=1^c,x=c?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Wo||Math.abs(this._y1-p)>Wo)&&this._append`L${f},${p}`,r&&(x<0&&(x=x%bx+bx),x>JF?this._append`A${r},${r},0,1,${v},${e-d},${n-h}A${r},${r},0,1,${v},${this._x1=f},${this._y1=p}`:x>Wo&&this._append`A${r},${r},0,${+(x>=xx)},${v},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function v_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tH(e)}function y_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uR(t){this._context=t}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lv(t){return new uR(t)}function dR(t){return t[0]}function hR(t){return t[1]}function fR(t,e){var n=yt(!0),r=null,i=lv,s=null,c=v_(d);t=typeof t=="function"?t:t===void 0?dR:yt(t),e=typeof e=="function"?e:e===void 0?hR:yt(e);function d(h){var f,p=(h=y_(h)).length,v,x=!1,_;for(r==null&&(s=i(_=c())),f=0;f<=p;++f)!(f<p&&n(v=h[f],f,h))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(v,f,h),+e(v,f,h));if(_)return s=null,_+""||null}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:yt(+h),d):t},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:yt(+h),d):e},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:yt(!!h),d):n},d.curve=function(h){return arguments.length?(i=h,r!=null&&(s=i(r)),d):i},d.context=function(h){return arguments.length?(h==null?r=s=null:s=i(r=h),d):r},d}function Xm(t,e,n){var r=null,i=yt(!0),s=null,c=lv,d=null,h=v_(f);t=typeof t=="function"?t:t===void 0?dR:yt(+t),e=typeof e=="function"?e:yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hR:yt(+n);function f(v){var x,_,w,E=(v=y_(v)).length,S,j=!1,O,R=new Array(E),L=new Array(E);for(s==null&&(d=c(O=h())),x=0;x<=E;++x){if(!(x<E&&i(S=v[x],x,v))===j)if(j=!j)_=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=x-1;w>=_;--w)d.point(R[w],L[w]);d.lineEnd(),d.areaEnd()}j&&(R[x]=+t(S,x,v),L[x]=+e(S,x,v),d.point(r?+r(S,x,v):R[x],n?+n(S,x,v):L[x]))}if(O)return d=null,O+""||null}function p(){return fR().defined(i).curve(c).context(s)}return f.x=function(v){return arguments.length?(t=typeof v=="function"?v:yt(+v),r=null,f):t},f.x0=function(v){return arguments.length?(t=typeof v=="function"?v:yt(+v),f):t},f.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:yt(+v),f):r},f.y=function(v){return arguments.length?(e=typeof v=="function"?v:yt(+v),n=null,f):e},f.y0=function(v){return arguments.length?(e=typeof v=="function"?v:yt(+v),f):e},f.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:yt(+v),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(v){return arguments.length?(i=typeof v=="function"?v:yt(!!v),f):i},f.curve=function(v){return arguments.length?(c=v,s!=null&&(d=c(s)),f):c},f.context=function(v){return arguments.length?(v==null?s=d=null:d=c(s=v),f):s},f}class mR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nH(t){return new mR(t,!0)}function rH(t){return new mR(t,!1)}const x_={draw(t,e){const n=yi(e/Qp);t.moveTo(n,0),t.arc(0,0,n,0,ov)}},iH={draw(t,e){const n=yi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},pR=yi(1/3),aH=pR*2,sH={draw(t,e){const n=yi(e/aH),r=n*pR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oH={draw(t,e){const n=yi(e),r=-n/2;t.rect(r,r,n,n)}},lH=.8908130915292852,gR=Xp(Qp/10)/Xp(7*Qp/10),cH=Xp(ov/10)*gR,uH=-lR(ov/10)*gR,dH={draw(t,e){const n=yi(e*lH),r=cH*n,i=uH*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const c=ov*s/5,d=lR(c),h=Xp(c);t.lineTo(h*n,-d*n),t.lineTo(d*r-h*i,h*r+d*i)}t.closePath()}},h1=yi(3),hH={draw(t,e){const n=-yi(e/(h1*3));t.moveTo(0,n*2),t.lineTo(-h1*n,-n),t.lineTo(h1*n,-n),t.closePath()}},Br=-.5,qr=yi(3)/2,_x=1/yi(12),fH=(_x/2+1)*3,mH={draw(t,e){const n=yi(e/fH),r=n/2,i=n*_x,s=r,c=n*_x+n,d=-s,h=c;t.moveTo(r,i),t.lineTo(s,c),t.lineTo(d,h),t.lineTo(Br*r-qr*i,qr*r+Br*i),t.lineTo(Br*s-qr*c,qr*s+Br*c),t.lineTo(Br*d-qr*h,qr*d+Br*h),t.lineTo(Br*r+qr*i,Br*i-qr*r),t.lineTo(Br*s+qr*c,Br*c-qr*s),t.lineTo(Br*d+qr*h,Br*h-qr*d),t.closePath()}};function pH(t,e){let n=null,r=v_(i);t=typeof t=="function"?t:yt(t||x_),e=typeof e=="function"?e:yt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:yt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:yt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Zp(){}function Jp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vR(t){this._context=t}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gH(t){return new vR(t)}function yR(t){this._context=t}yR.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vH(t){return new yR(t)}function xR(t){this._context=t}xR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yH(t){return new xR(t)}function bR(t){this._context=t}bR.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xH(t){return new bR(t)}function dj(t){return t<0?-1:1}function hj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),c=(n-t._y1)/(i||r<0&&-0),d=(s*i+c*r)/(r+i);return(dj(s)+dj(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function fj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,i+d*e,s-d,c-d*n,s,c)}function eg(t){this._context=t}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f1(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f1(this,fj(this,n=hj(this,t,e)),n);break;default:f1(this,this._t0,n=hj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _R(t){this._context=new wR(t)}(_R.prototype=Object.create(eg.prototype)).point=function(t,e){eg.prototype.point.call(this,e,t)};function wR(t){this._context=t}wR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function bH(t){return new eg(t)}function _H(t){return new _R(t)}function SR(t){this._context=t}SR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mj(t),i=mj(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mj(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),c=new Array(n);for(i[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(i[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(c[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function wH(t){return new SR(t)}function cv(t,e){this._context=t,this._t=e}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function SH(t){return new cv(t,.5)}function EH(t){return new cv(t,0)}function TH(t){return new cv(t,1)}function au(t,e){if((c=t.length)>1)for(var n=1,r,i,s=t[e[0]],c,d=s.length;n<c;++n)for(i=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function AH(t,e){return t[e]}function jH(t){const e=[];return e.key=t,e}function NH(){var t=yt([]),e=wx,n=au,r=AH;function i(s){var c=Array.from(t.apply(this,arguments),jH),d,h=c.length,f=-1,p;for(const v of s)for(d=0,++f;d<h;++d)(c[d][f]=[0,+r(v,c[d].key,f,s)]).data=v;for(d=0,p=y_(e(c));d<h;++d)c[p[d]].index=d;return n(c,p),c}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:yt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:yt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?wx:typeof s=="function"?s:yt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??au,i):n},i}function CH(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,c;i<s;++i){for(c=n=0;n<r;++n)c+=t[n][i][1]||0;if(c)for(n=0;n<r;++n)t[n][i][1]/=c}au(t,e)}}function OH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var c=0,d=0;c<i;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}au(t,e)}}function IH(t,e){if(!(!((c=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,c;r<s;++r){for(var d=0,h=0,f=0;d<c;++d){for(var p=t[e[d]],v=p[r][1]||0,x=p[r-1][1]||0,_=(v-x)/2,w=0;w<d;++w){var E=t[e[w]],S=E[r][1]||0,j=E[r-1][1]||0;_+=S-j}h+=v,f+=_*v}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,au(t,e)}}var RH=["type","size","sizeType"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(null,arguments)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){PH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PH(t,e,n){return(e=DH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=kH(t,"string");return typeof e=="symbol"?e:e+""}function kH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MH(t,e){if(t==null)return{};var n,r,i=LH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ER={symbolCircle:x_,symbolCross:iH,symbolDiamond:sH,symbolSquare:oH,symbolStar:dH,symbolTriangle:hH,symbolWye:mH},VH=Math.PI/180,UH=t=>{var e="symbol".concat(af(t));return ER[e]||x_},zH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*VH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},BH=(t,e)=>{ER["symbol".concat(af(t))]=e},b_=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=MH(t,RH),s=gj(gj({},i),{},{type:e,size:n,sizeType:r}),c=()=>{var v=UH(e),x=pH().type(v).size(zH(n,r,e));return x()},{className:d,cx:h,cy:f}=s,p=Tt(s,!0);return h===+h&&f===+f&&n===+n?A.createElement("path",Sx({},p,{className:wt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};b_.registerSymbol=BH;var m1={},p1={},vj;function qH(){return vj||(vj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);i.has(d)||i.set(d,c)}return Array.from(i.values())}t.uniqBy=e}(p1)),p1}var g1={},yj;function TR(){return yj||(yj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(g1)),g1}var v1={},y1={},x1={},xj;function $H(){return xj||(xj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(x1)),x1}var bj;function __(){return bj||(bj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$H();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(y1)),y1}var b1={},_j;function FH(){return _j||(_j=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(b1)),b1}var wj;function HH(){return wj||(wj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=__(),n=FH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(v1)),v1}var _1={},w1={},Sj;function KH(){return Sj||(Sj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m_();function n(r){return function(i){return e.get(i,r)}}t.property=n}(w1)),w1}var S1={},E1={},T1={},A1={},Ej;function AR(){return Ej||(Ej=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(A1)),A1}var j1={},Tj;function jR(){return Tj||(Tj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(j1)),j1}var N1={},Aj;function w_(){return Aj||(Aj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(N1)),N1}var jj;function GH(){return jj||(jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S_(),n=AR(),r=jR(),i=w_();function s(v,x,_){return typeof _!="function"?e.isMatch(v,x):c(v,x,function w(E,S,j,O,R,L){const D=_(E,S,j,O,R,L);return D!==void 0?!!D:c(E,S,w,L)},new Map)}function c(v,x,_,w){if(x===v)return!0;switch(typeof x){case"object":return d(v,x,_,w);case"function":return Object.keys(x).length>0?c(v,{...x},_,w):i.eq(v,x);default:return n.isObject(v)?typeof x=="string"?x==="":!0:i.eq(v,x)}}function d(v,x,_,w){if(x==null)return!0;if(Array.isArray(x))return f(v,x,_,w);if(x instanceof Map)return h(v,x,_,w);if(x instanceof Set)return p(v,x,_,w);const E=Object.keys(x);if(v==null)return E.length===0;if(E.length===0)return!0;if(w&&w.has(x))return w.get(x)===v;w&&w.set(x,v);try{for(let S=0;S<E.length;S++){const j=E[S];if(!r.isPrimitive(v)&&!(j in v)||x[j]===void 0&&v[j]!==void 0||x[j]===null&&v[j]!==null||!_(v[j],x[j],j,v,x,w))return!1}return!0}finally{w&&w.delete(x)}}function h(v,x,_,w){if(x.size===0)return!0;if(!(v instanceof Map))return!1;for(const[E,S]of x.entries()){const j=v.get(E);if(_(j,S,E,v,x,w)===!1)return!1}return!0}function f(v,x,_,w){if(x.length===0)return!0;if(!Array.isArray(v))return!1;const E=new Set;for(let S=0;S<x.length;S++){const j=x[S];let O=!1;for(let R=0;R<v.length;R++){if(E.has(R))continue;const L=v[R];let D=!1;if(_(L,j,S,v,x,w)&&(D=!0),D){E.add(R),O=!0;break}}if(!O)return!1}return!0}function p(v,x,_,w){return x.size===0?!0:v instanceof Set?f([...v],[...x],_,w):!1}t.isMatchWith=s,t.isSetMatch=p}(T1)),T1}var Nj;function S_(){return Nj||(Nj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(E1)),E1}var C1={},O1={},I1={},Cj;function NR(){return Cj||(Cj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(I1)),I1}var R1={},Oj;function E_(){return Oj||(Oj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(R1)),R1}var P1={},Ij;function T_(){return Ij||(Ij=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",v="[object Function]",x="[object ArrayBuffer]",_="[object Object]",w="[object Error]",E="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",L="[object BigUint64Array]",D="[object Int8Array]",B="[object Int16Array]",C="[object Int32Array]",P="[object BigInt64Array]",M="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=P,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=E,t.dateTag=d,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=F,t.functionTag=v,t.int16ArrayTag=B,t.int32ArrayTag=C,t.int8ArrayTag=D,t.mapTag=h,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=O,t.uint32ArrayTag=R,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=j}(P1)),P1}var D1={},Rj;function YH(){return Rj||(Rj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(D1)),D1}var Pj;function CR(){return Pj||(Pj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NR(),n=E_(),r=T_(),i=jR(),s=YH();function c(p,v){return d(p,void 0,p,new Map,v)}function d(p,v,x,_=new Map,w=void 0){const E=w?.(p,v,x,_);if(E!=null)return E;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const S=new Array(p.length);_.set(p,S);for(let j=0;j<p.length;j++)S[j]=d(p[j],j,x,_,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;_.set(p,S);for(const[j,O]of p)S.set(j,d(O,j,x,_,w));return S}if(p instanceof Set){const S=new Set;_.set(p,S);for(const j of p)S.add(d(j,void 0,x,_,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,S);for(let j=0;j<p.length;j++)S[j]=d(p[j],j,x,_,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,S),h(S,p,x,_,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return _.set(p,S),h(S,p,x,_,w),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return _.set(p,S),h(S,p,x,_,w),S}if(p instanceof Error){const S=new p.constructor;return _.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,h(S,p,x,_,w),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return _.set(p,S),h(S,p,x,_,w),S}return p}function h(p,v,x=p,_,w){const E=[...Object.keys(v),...e.getSymbols(v)];for(let S=0;S<E.length;S++){const j=E[S],O=Object.getOwnPropertyDescriptor(p,j);(O==null||O.writable)&&(p[j]=d(v[j],j,x,_,w))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=h}(O1)),O1}var Dj;function WH(){return Dj||(Dj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(C1)),C1}var kj;function XH(){return kj||(kj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S_(),n=WH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r}(S1)),S1}var k1={},M1={},L1={},Mj;function QH(){return Mj||(Mj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CR(),n=T_();function r(i,s){return e.cloneDeepWith(i,(c,d,h,f)=>{const p=s?.(c,d,h,f);if(p!=null)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new i.constructor(i?.valueOf());return e.copyProperties(v,i),v}case n.argumentsTag:{const v={};return e.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r}(L1)),L1}var Lj;function ZH(){return Lj||(Lj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QH();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(M1)),M1}var V1={},U1={},Vj;function OR(){return Vj||(Vj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(U1)),U1}var z1={},Uj;function JH(){return Uj||(Uj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=E_();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(z1)),z1}var zj;function eK(){return zj||(zj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tR(),n=OR(),r=JH(),i=f_();function s(c,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&e.isDeepKey(d)&&c?.[d]==null?h=i.toPath(d):h=[d],h.length===0)return!1;let f=c;for(let p=0;p<h.length;p++){const v=h[p];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}t.has=s}(V1)),V1}var Bj;function tK(){return Bj||(Bj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S_(),n=nR(),r=ZH(),i=m_(),s=eK();function c(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(f){const p=i.get(f,d);return p===void 0?s.has(f,d):h===void 0?p===void 0:e.isMatch(p,h)}}t.matchesProperty=c}(k1)),k1}var qj;function nK(){return qj||(qj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR(),n=KH(),r=XH(),i=tK();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s}(_1)),_1}var $j;function rK(){return $j||($j=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qH(),n=TR(),r=HH(),i=nK();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),i.iteratee(d)):[]}t.uniqBy=s}(m1)),m1}var B1,Fj;function iK(){return Fj||(Fj=1,B1=rK().uniqBy),B1}var aK=iK();const Hj=Wi(aK);function sK(t,e,n){return e===!0?Hj(t,n):typeof e=="function"?Hj(t,e):t}var q1={exports:{}},$1={},F1={exports:{}},H1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj;function oK(){if(Kj)return H1;Kj=1;var t=hu();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(v,x){var _=x(),w=r({inst:{value:_,getSnapshot:x}}),E=w[0].inst,S=w[1];return s(function(){E.value=_,E.getSnapshot=x,h(E)&&S({inst:E})},[v,_,x]),i(function(){return h(E)&&S({inst:E}),v(function(){h(E)&&S({inst:E})})},[v]),c(_),_}function h(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!n(v,_)}catch{return!0}}function f(v,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return H1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,H1}var Gj;function lK(){return Gj||(Gj=1,F1.exports=oK()),F1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function cK(){if(Yj)return $1;Yj=1;var t=hu(),e=lK();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return $1.useSyncExternalStoreWithSelector=function(f,p,v,x,_){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=d(function(){function j(B){if(!O){if(O=!0,R=B,B=x(B),_!==void 0&&E.hasValue){var C=E.value;if(_(C,B))return L=C}return L=B}if(C=L,r(R,B))return C;var P=x(B);return _!==void 0&&_(C,P)?(R=B,C):(R=B,L=P)}var O=!1,R,L,D=v===void 0?null:v;return[function(){return j(p())},D===null?void 0:function(){return j(D())}]},[p,v,x,_]);var S=i(f,w[0],w[1]);return c(function(){E.hasValue=!0,E.value=S},[S]),h(S),S},$1}var Wj;function uK(){return Wj||(Wj=1,q1.exports=cK()),q1.exports}var dK=uK(),A_=A.createContext(null),hK=t=>t,hn=()=>{var t=A.useContext(A_);return t?t.store.dispatch:hK},_p=()=>{},fK=()=>_p,mK=(t,e)=>t===e;function Re(t){var e=A.useContext(A_);return dK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fK,e?e.store.getState:_p,e?e.store.getState:_p,e?t:_p,mK)}function pK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Xj=t=>Array.isArray(t)?t:[t];function yK(t){const e=Array.isArray(t[0])?t[0]:t;return vK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function xK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var bK=class{constructor(t){this.value=t}deref(){return this.value}},_K=typeof WeakRef<"u"?WeakRef:bK,wK=0,Qj=1;function Qm(){return{s:wK,v:void 0,o:null,p:null}}function IR(t,e={}){let n=Qm();const{resultEqualityCheck:r}=e;let i,s=0;function c(){let d=n;const{length:h}=arguments;for(let v=0,x=h;v<x;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let w=d.o;w===null&&(d.o=w=new WeakMap);const E=w.get(_);E===void 0?(d=Qm(),w.set(_,d)):d=E}else{let w=d.p;w===null&&(d.p=w=new Map);const E=w.get(_);E===void 0?(d=Qm(),w.set(_,d)):d=E}}const f=d;let p;if(d.s===Qj)p=d.v;else if(p=t.apply(null,arguments),s++,r){const v=i?.deref?.()??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new _K(p):p}return f.s=Qj,f.v=p,p}return c.clearCache=()=>{n=Qm(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function SK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,c=0,d,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),pK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:v,memoizeOptions:x=[],argsMemoize:_=IR,argsMemoizeOptions:w=[]}=p,E=Xj(x),S=Xj(w),j=yK(i),O=v(function(){return s++,f.apply(null,arguments)},...E),R=_(function(){c++;const D=xK(j,arguments);return d=O.apply(null,D),d},...S);return Object.assign(R,{resultFunc:f,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var se=SK(IR),EK=Object.assign((t,e=se)=>{gK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,h)=>(c[n[h]]=d,c),{}))},{withTypes:()=>EK}),K1={},G1={},Y1={},Zj;function TK(){return Zj||(Zj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const c=e(r),d=e(i);if(c===d&&c===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n}(Y1)),Y1}var W1={},X1={},Jj;function RR(){return Jj||(Jj=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(X1)),X1}var eN;function AK(){return eN||(eN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=i}(W1)),W1}var tN;function jK(){return tN||(tN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TK(),n=AK(),r=f_();function i(s,c,d,h){if(s==null)return[];d=h?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(_=>String(_));const f=(_,w)=>{let E=_;for(let S=0;S<w.length&&E!=null;++S)E=E[w[S]];return E},p=(_,w)=>w==null||_==null?w:typeof _=="object"&&"key"in _?Object.hasOwn(w,_.key)?w[_.key]:f(w,_.path):typeof _=="function"?_(w):Array.isArray(_)?f(w,_):typeof w=="object"?w[_]:w,v=c.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:v.map(w=>p(w,_))})).slice().sort((_,w)=>{for(let E=0;E<v.length;E++){const S=e.compareValues(_.criteria[E],w.criteria[E],d[E]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=i}(G1)),G1}var Q1={},nN;function NK(){return nN||(nN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),c=(d,h)=>{for(let f=0;f<d.length;f++){const p=d[f];Array.isArray(p)&&h<s?c(p,h+1):i.push(p)}};return c(n,0),i}t.flatten=e}(Q1)),Q1}var Z1={},rN;function PR(){return rN||(rN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OR(),n=__(),r=AR(),i=w_();function s(c,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&e.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?i.eq(h[d],c):!1}t.isIterateeCall=s}(Z1)),Z1}var iN;function CK(){return iN||(iN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jK(),n=NK(),r=PR();function i(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=i}(K1)),K1}var J1,aN;function OK(){return aN||(aN=1,J1=CK().sortBy),J1}var IK=OK();const uv=Wi(IK);var DR=t=>t.legend.settings,RK=t=>t.legend.size,PK=t=>t.legend.payload;se([PK,DR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?uv(r,n):r});var Zm=1;function DK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Zm||Math.abs(c.left-e.left)>Zm||Math.abs(c.top-e.top)>Zm||Math.abs(c.width-e.width)>Zm)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function In(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kK=typeof Symbol=="function"&&Symbol.observable||"@@observable",sN=kK,e2=()=>Math.random().toString(36).substring(7).split("").join("."),MK={INIT:`@@redux/INIT${e2()}`,REPLACE:`@@redux/REPLACE${e2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e2()}`},tg=MK;function j_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kR(t,e,n){if(typeof t!="function")throw new Error(In(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(In(1));return n(kR)(t,e)}let r=t,i=e,s=new Map,c=s,d=0,h=!1;function f(){c===s&&(c=new Map,s.forEach((S,j)=>{c.set(j,S)}))}function p(){if(h)throw new Error(In(3));return i}function v(S){if(typeof S!="function")throw new Error(In(4));if(h)throw new Error(In(5));let j=!0;f();const O=d++;return c.set(O,S),function(){if(j){if(h)throw new Error(In(6));j=!1,f(),c.delete(O),s=null}}}function x(S){if(!j_(S))throw new Error(In(7));if(typeof S.type>"u")throw new Error(In(8));if(typeof S.type!="string")throw new Error(In(17));if(h)throw new Error(In(9));try{h=!0,i=r(i,S)}finally{h=!1}return(s=c).forEach(O=>{O()}),S}function _(S){if(typeof S!="function")throw new Error(In(10));r=S,x({type:tg.REPLACE})}function w(){const S=v;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(In(11));function O(){const L=j;L.next&&L.next(p())}return O(),{unsubscribe:S(O)}},[sN](){return this}}}return x({type:tg.INIT}),{dispatch:x,subscribe:v,getState:p,replaceReducer:_,[sN]:w}}function LK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:tg.INIT})>"u")throw new Error(In(12));if(typeof n(void 0,{type:tg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function MR(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let i;try{LK(n)}catch(s){i=s}return function(c={},d){if(i)throw i;let h=!1;const f={};for(let p=0;p<r.length;p++){const v=r[p],x=n[v],_=c[v],w=x(_,d);if(typeof w>"u")throw d&&d.type,new Error(In(14));f[v]=w,h=h||w!==_}return h=h||r.length!==Object.keys(c).length,h?f:c}}function ng(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function VK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(In(15))};const c={getState:i.getState,dispatch:(h,...f)=>s(h,...f)},d=t.map(h=>h(c));return s=ng(...d)(i.dispatch),{...i,dispatch:s}}}function LR(t){return j_(t)&&"type"in t&&typeof t.type=="string"}var VR=Symbol.for("immer-nothing"),oN=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function oi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function _l(t){return!!t&&!!t[jr]}function Ka(t){return t?UR(t)||Array.isArray(t)||!!t[oN]||!!t.constructor?.[oN]||hv(t)||fv(t):!1}var UK=Object.prototype.constructor.toString();function UR(t){if(!t||typeof t!="object")return!1;const e=su(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UK}function rg(t,e){dv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function dv(t){const e=t[jr];return e?e.type_:Array.isArray(t)?1:hv(t)?2:fv(t)?3:0}function Ex(t,e){return dv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zR(t,e,n){const r=dv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function hv(t){return t instanceof Map}function fv(t){return t instanceof Set}function Xo(t){return t.copy_||t.base_}function Tx(t,e){if(hv(t))return new Map(t);if(fv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=UR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[jr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const c=i[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(su(t),r)}else{const r=su(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function N_(t,e=!1){return mv(t)||_l(t)||!Ka(t)||(dv(t)>1&&(t.set=t.add=t.clear=t.delete=BK),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>N_(r,!0))),t}function BK(){oi(2)}function mv(t){return Object.isFrozen(t)}var qK={};function wl(t){const e=qK[t];return e||oi(0,t),e}var jh;function BR(){return jh}function $K(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lN(t,e){e&&(wl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ax(t){jx(t),t.drafts_.forEach(FK),t.drafts_=null}function jx(t){t===jh&&(jh=t.parent_)}function cN(t){return jh=$K(jh,t)}function FK(t){const e=t[jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[jr].modified_&&(Ax(e),oi(4)),Ka(t)&&(t=ig(e,t),e.parent_||ag(e,t)),e.patches_&&wl("Patches").generateReplacementPatches_(n[jr].base_,t,e.patches_,e.inversePatches_)):t=ig(e,n,[]),Ax(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VR?t:void 0}function ig(t,e,n){if(mv(e))return e;const r=e[jr];if(!r)return rg(e,(i,s)=>dN(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ag(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,c=!1;r.type_===3&&(s=new Set(i),i.clear(),c=!0),rg(s,(d,h)=>dN(t,r,i,d,h,n,c)),ag(t,i,!1),n&&t.patches_&&wl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function dN(t,e,n,r,i,s,c){if(_l(i)){const d=s&&e&&e.type_!==3&&!Ex(e.assigned_,r)?s.concat(r):void 0,h=ig(t,i,d);if(zR(n,r,h),_l(h))t.canAutoFreeze_=!1;else return}else c&&n.add(i);if(Ka(i)&&!mv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ig(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ag(t,i)}}function ag(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&N_(e,n)}function HK(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:BR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=C_;n&&(i=[r],s=Nh);const{revoke:c,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=c,d}var C_={get(t,e){if(e===jr)return t;const n=Xo(t);if(!Ex(n,e))return KK(t,n,e);const r=n[e];return t.finalized_||!Ka(r)?r:r===t2(t.base_,e)?(n2(t),t.copy_[e]=Cx(r,t)):r},has(t,e){return e in Xo(t)},ownKeys(t){return Reflect.ownKeys(Xo(t))},set(t,e,n){const r=qR(Xo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=t2(Xo(t),e),s=i?.[jr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(zK(n,i)&&(n!==void 0||Ex(t.base_,e)))return!0;n2(t),Nx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return t2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,n2(t),Nx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){oi(11)},getPrototypeOf(t){return su(t.base_)},setPrototypeOf(){oi(12)}},Nh={};rg(C_,(t,e)=>{Nh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nh.deleteProperty=function(t,e){return Nh.set.call(this,t,e,void 0)};Nh.set=function(t,e,n){return C_.set.call(this,t[0],e,n,t[0])};function t2(t,e){const n=t[jr];return(n?Xo(n):t)[e]}function KK(t,e,n){const r=qR(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function qR(t,e){if(!(e in t))return;let n=su(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=su(n)}}function Nx(t){t.modified_||(t.modified_=!0,t.parent_&&Nx(t.parent_))}function n2(t){t.copy_||(t.copy_=Tx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(h=s,...f){return c.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&oi(6),r!==void 0&&typeof r!="function"&&oi(7);let i;if(Ka(e)){const s=cN(this),c=Cx(e,void 0);let d=!0;try{i=n(c),d=!1}finally{d?Ax(s):jx(s)}return lN(s,r),uN(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VR&&(i=void 0),this.autoFreeze_&&N_(i,!0),r){const s=[],c=[];wl("Patches").generateReplacementPatches_(e,i,s,c),r(s,c)}return i}else oi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,h=>e(h,...d));let r,i;return[this.produce(e,n,(c,d)=>{r=c,i=d}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ka(t)||oi(8),_l(t)&&(t=ka(t));const e=cN(this),n=Cx(t,void 0);return n[jr].isManual_=!0,jx(e),n}finishDraft(t,e){const n=t&&t[jr];(!n||!n.isManual_)&&oi(9);const{scope_:r}=n;return lN(r,e),uN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=wl("Patches").applyPatches_;return _l(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Cx(t,e){const n=hv(t)?wl("MapSet").proxyMap_(t,e):fv(t)?wl("MapSet").proxySet_(t,e):HK(t,e);return(e?e.scope_:BR()).drafts_.push(n),n}function ka(t){return _l(t)||oi(10,t),$R(t)}function $R(t){if(!Ka(t)||mv(t))return t;const e=t[jr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Tx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Tx(t,!0);return rg(n,(r,i)=>{zR(n,r,$R(i))}),e&&(e.finalized_=!1),n}var Nr=new GK,FR=Nr.produce;Nr.produceWithPatches.bind(Nr);Nr.setAutoFreeze.bind(Nr);Nr.setUseStrictShallowCopy.bind(Nr);Nr.applyPatches.bind(Nr);Nr.createDraft.bind(Nr);Nr.finishDraft.bind(Nr);function HR(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var YK=HR(),WK=HR,XK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ng:ng.apply(null,arguments)};function Xr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ar(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>LR(r)&&r.type===t,n}var KR=class th extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,th.prototype)}static get[Symbol.species](){return th}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new th(...e[0].concat(this)):new th(...e.concat(this))}};function hN(t){return Ka(t)?FR(t,()=>{}):t}function Jm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QK(t){return typeof t=="boolean"}var ZK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let c=new KR;return n&&(QK(n)?c.push(YK):c.push(WK(n.extraArgument))),c},JK="RTK_autoBatch",fN=t=>e=>{setTimeout(e,t)},eG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,c=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fN(10):t.type==="callback"?t.queueNotification:fN(t.timeout),f=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),x=r.subscribe(v);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){try{return i=!p?.meta?.[JK],s=!i,s&&(c||(c=!0,h(f))),r.dispatch(p)}finally{i=!0}}})},tG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new KR(t);return r&&i.push(eG(typeof r=="object"?r:void 0)),i};function nG(t){const e=ZK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(j_(n))d=MR(n);else throw new Error(Ar(1));let h;typeof r=="function"?h=r(e):h=e();let f=ng;i&&(f=XK({trace:!1,...typeof i=="object"&&i}));const p=VK(...h),v=tG(p);let x=typeof c=="function"?c(v):v();const _=f(...x);return kR(d,s,_)}function GR(t){const e={},n=[];let r;const i={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(Ar(28));if(d in e)throw new Error(Ar(29));return e[d]=c,i},addMatcher(s,c){return n.push({matcher:s,reducer:c}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function rG(t){return typeof t=="function"}function iG(t,e){let[n,r,i]=GR(e),s;if(rG(t))s=()=>hN(t());else{const d=hN(t);s=()=>d}function c(d=s(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,v)=>{if(v)if(_l(p)){const _=v(p,h);return _===void 0?p:_}else{if(Ka(p))return FR(p,x=>v(x,h));{const x=v(p,h);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var aG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sG=(t=21)=>{let e="",n=t;for(;n--;)e+=aG[Math.random()*64|0];return e},oG=Symbol.for("rtk-slice-createasyncthunk");function lG(t,e){return`${t}/${e}`}function cG({creators:t}={}){const e=t?.asyncThunk?.[oG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ar(11));const c=(typeof r.reducers=="function"?r.reducers(dG()):r.reducers)||{},d=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(R,L){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(Ar(12));if(D in h.sliceCaseReducersByType)throw new Error(Ar(13));return h.sliceCaseReducersByType[D]=L,f},addMatcher(R,L){return h.sliceMatchers.push({matcher:R,reducer:L}),f},exposeAction(R,L){return h.actionCreators[R]=L,f},exposeCaseReducer(R,L){return h.sliceCaseReducersByName[R]=L,f}};d.forEach(R=>{const L=c[R],D={reducerName:R,type:lG(i,R),createNotation:typeof r.reducers=="function"};fG(L)?pG(D,L,f,e):hG(D,L,f)});function p(){const[R={},L=[],D=void 0]=typeof r.extraReducers=="function"?GR(r.extraReducers):[r.extraReducers],B={...R,...h.sliceCaseReducersByType};return iG(r.initialState,C=>{for(let P in B)C.addCase(P,B[P]);for(let P of h.sliceMatchers)C.addMatcher(P.matcher,P.reducer);for(let P of L)C.addMatcher(P.matcher,P.reducer);D&&C.addDefaultCase(D)})}const v=R=>R,x=new Map,_=new WeakMap;let w;function E(R,L){return w||(w=p()),w(R,L)}function S(){return w||(w=p()),w.getInitialState()}function j(R,L=!1){function D(C){let P=C[R];return typeof P>"u"&&L&&(P=Jm(_,D,S)),P}function B(C=v){const P=Jm(x,L,()=>new WeakMap);return Jm(P,C,()=>{const M={};for(const[F,$]of Object.entries(r.selectors??{}))M[F]=uG($,C,()=>Jm(_,C,S),L);return M})}return{reducerPath:R,getSelectors:B,get selectors(){return B(D)},selectSlice:D}}const O={name:i,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:S,...j(s),injectInto(R,{reducerPath:L,...D}={}){const B=L??s;return R.inject({reducerPath:B,reducer:E},D),{...O,...j(B,!0)}}};return O}}function uG(t,e,n,r){function i(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return i.unwrapped=t,i}var Zr=cG();function dG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hG({type:t,reducerName:e,createNotation:n},r,i){let s,c;if("reducer"in r){if(n&&!mG(r))throw new Error(Ar(17));s=r.reducer,c=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Xr(t,c):Xr(t))}function fG(t){return t._reducerDefinitionType==="asyncThunk"}function mG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ar(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:h,settled:f,options:p}=n,v=i(t,s,p);r.exposeAction(e,v),c&&r.addCase(v.fulfilled,c),d&&r.addCase(v.pending,d),h&&r.addCase(v.rejected,h),f&&r.addMatcher(v.settled,f),r.exposeCaseReducer(e,{fulfilled:c||ep,pending:d||ep,rejected:h||ep,settled:f||ep})}function ep(){}var gG="task",YR="listener",WR="completed",O_="cancelled",vG=`task-${O_}`,yG=`task-${WR}`,Ox=`${YR}-${O_}`,xG=`${YR}-${WR}`,pv=class{constructor(t){this.code=t,this.message=`${gG} ${O_} (reason: ${t})`}name="TaskAbortError";message},I_=(t,e)=>{if(typeof t!="function")throw new TypeError(Ar(32))},sg=()=>{},XR=(t,e=sg)=>(t.catch(e),t),QR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ll=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},cl=t=>{if(t.aborted){const{reason:e}=t;throw new pv(e)}};function ZR(t,e){let n=sg;return new Promise((r,i)=>{const s=()=>i(new pv(t.reason));if(t.aborted){s();return}n=QR(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=sg})}var bG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof pv?"cancelled":"rejected",error:n}}finally{e?.()}},og=t=>e=>XR(ZR(t,e).then(n=>(cl(t),n))),JR=t=>{const e=og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Wc}=Object,mN={},gv="listenerMiddleware",_G=(t,e)=>{const n=r=>QR(t,()=>ll(r,t.reason));return(r,i)=>{I_(r);const s=new AbortController;n(s);const c=bG(async()=>{cl(t),cl(s.signal);const d=await r({pause:og(s.signal),delay:JR(s.signal),signal:s.signal});return cl(s.signal),d},()=>ll(s,yG));return i?.autoJoin&&e.push(c.catch(sg)),{result:og(t)(c),cancel(){ll(s,vG)}}}},wG=(t,e)=>{const n=async(r,i)=>{cl(e);let s=()=>{};const d=[new Promise((h,f)=>{let p=t({predicate:r,effect:(v,x)=>{x.unsubscribe(),h([v,x.getState(),x.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&d.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await ZR(e,Promise.race(d));return cl(e),h}finally{s()}};return(r,i)=>XR(n(r,i))},e5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Xr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ar(21));return I_(s),{predicate:i,type:e,effect:s}},t5=Wc(t=>{const{type:e,predicate:n,effect:r}=e5(t);return{id:sG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ar(22))}}},{withTypes:()=>t5}),pN=(t,e)=>{const{type:n,effect:r,predicate:i}=e5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Ix=t=>{t.pending.forEach(e=>{ll(e,Ox)})},SG=t=>()=>{t.forEach(Ix),t.clear()},gN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},n5=Wc(Xr(`${gv}/add`),{withTypes:()=>n5}),EG=Xr(`${gv}/removeAll`),r5=Wc(Xr(`${gv}/remove`),{withTypes:()=>r5}),TG=(...t)=>{console.error(`${gv}/error`,...t)},sf=(t={})=>{const e=new Map,{extra:n,onError:r=TG}=t;I_(r);const i=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&Ix(p)}),s=p=>{const v=pN(e,p)??t5(p);return i(v)};Wc(s,{withTypes:()=>s});const c=p=>{const v=pN(e,p);return v&&(v.unsubscribe(),p.cancelActive&&Ix(v)),!!v};Wc(c,{withTypes:()=>c});const d=async(p,v,x,_)=>{const w=new AbortController,E=wG(s,w.signal),S=[];try{p.pending.add(w),await Promise.resolve(p.effect(v,Wc({},x,{getOriginalState:_,condition:(j,O)=>E(j,O).then(Boolean),take:E,delay:JR(w.signal),pause:og(w.signal),extra:n,signal:w.signal,fork:_G(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((j,O,R)=>{j!==w&&(ll(j,Ox),R.delete(j))})},cancel:()=>{ll(w,Ox),p.pending.delete(w)},throwIfCancelled:()=>{cl(w.signal)}})))}catch(j){j instanceof pv||gN(r,j,{raisedBy:"effect"})}finally{await Promise.all(S),ll(w,xG),p.pending.delete(w)}},h=SG(e);return{middleware:p=>v=>x=>{if(!LR(x))return v(x);if(n5.match(x))return s(x.payload);if(EG.match(x)){h();return}if(r5.match(x))return c(x.payload);let _=p.getState();const w=()=>{if(_===mN)throw new Error(Ar(23));return _};let E;try{if(E=v(x),e.size>0){const S=p.getState(),j=Array.from(e.values());for(const O of j){let R=!1;try{R=O.predicate(x,S,_)}catch(L){R=!1,gN(r,L,{raisedBy:"predicate"})}R&&d(O,x,p,w)}}}finally{_=mN}return E},startListening:s,stopListening:c,clearListeners:h}};function Ar(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i5=Zr({name:"chartLayout",initialState:AG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:jG,setLayout:NG,setChartSize:CG,setScale:OG}=i5.actions,IG=i5.reducer;function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){RG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RG(t,e,n){return(e=PG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=DG(t,"string");return typeof e=="symbol"?e:e+""}function DG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lg=Math.PI/180,kG=t=>t*180/Math.PI,kn=(t,e,n,r)=>({x:t+Math.cos(-lg*r)*n,y:e+Math.sin(-lg*r)*n}),MG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},LG=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},VG=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,c=LG({x:n,y:r},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-i)/c,h=Math.acos(d);return r>s&&(h=2*Math.PI-h),{radius:c,angle:kG(h),angleInRadian:h}},UG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},zG=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(i,s);return t+c*360},BG=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=VG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(i<c||i>d||i===0)return null;var{startAngle:h,endAngle:f}=UG(e),p=s,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?yN(yN({},e),{},{radius:i,angle:zG(p,e)}):null};function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=$G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=FG(t,"string");return typeof e=="symbol"?e:e+""}function FG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jn(t,e,n){return Ct(t)||Ct(e)?n:Gi(e)?bl(t,e,n):typeof e=="function"?e(t):n}var HG=(t,e,n,r,i)=>{var s,c=-1,d=(s=e?.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,v=h>=d-1?n[0].coordinate:n[h+1].coordinate,x=void 0;if(Kr(p-f)!==Kr(v-p)){var _=[];if(Kr(v-p)===Kr(i[1]-i[0])){x=v;var w=p+i[1]-i[0];_[0]=Math.min(w,(w+f)/2),_[1]=Math.max(w,(w+f)/2)}else{x=f;var E=v+i[1]-i[0];_[0]=Math.min(p,(E+p)/2),_[1]=Math.max(p,(E+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>S[0]&&t<=S[1]||t>=_[0]&&t<=_[1]){({index:c}=n[h]);break}}else{var j=Math.min(f,v),O=Math.max(f,v);if(t>(j+p)/2&&t<=(O+p)/2){({index:c}=n[h]);break}}}else if(e){for(var R=0;R<d;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<d-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===d-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:c}=e[R]);break}}return c},KG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Te(t[s]))return Fr(Fr({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Te(t[c]))return Fr(Fr({},t),{},{[c]:t[c]+(i||0)})}return t},Rl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",a5=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var i,s,c=t.map(d=>(d.coordinate===e&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||c.push(e),s||c.push(n),c},s5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:c,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:v,niceTicks:x,axisType:_}=t;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,E=i==="category"&&c.bandwidth?c.bandwidth()/w:0;if(E=_==="angleAxis"&&s&&s.length>=2?Kr(s[0]-s[1])*2*E:E,v||x){var S=(v||x||[]).map((j,O)=>{var R=r?r.indexOf(j):j;return{coordinate:c(R)+E,value:j,offset:E,index:O}});return S.filter(j=>!Wr(j.coordinate))}return h&&f?f.map((j,O)=>({coordinate:c(j)+E,value:j,index:O,offset:E})):c.ticks&&p!=null?c.ticks(p).map((j,O)=>({coordinate:c(j)+E,value:j,offset:E,index:O})):c.domain().map((j,O)=>({coordinate:c(j)+E,value:r?r[j]:j,index:O,offset:E}))},bN=1e-4,GG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-bN,s=Math.max(r[0],r[1])+bN,c=t(e[0]),d=t(e[n-1]);(c<i||c>s||d<i||d>s)&&t.domain([e[0],e[n-1]])}},YG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,c=0;c<e;++c){var d=Wr(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},WG=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var c=Wr(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},XG={sign:YG,expand:CH,none:au,silhouette:OH,wiggle:IH,positive:WG},QG=(t,e,n)=>{var r=XG[n],i=NH().keys(e).value((s,c)=>+Jn(s,c,0)).order(wx).offset(r);return i(t)};function ZG(t){return t==null?void 0:String(t)}function _N(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ct(i[e.dataKey])){var d=iR(n,"value",i[e.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var h=Jn(i,Ct(c)?e.dataKey:c);return Ct(h)?null:e.scale(h)}var JG=t=>{var e=t.flat(2).filter(Te);return[Math.min(...e),Math.max(...e)]},eY=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tY=(t,e,n)=>{if(t!=null)return eY(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:c}=s,d=c.reduce((h,f)=>{var p=JG(f.slice(e,n+1));return[Math.min(h[0],p[0]),Math.max(h[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},wN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nY=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=uv(e,p=>p.coordinate),s=1/0,c=1,d=i.length;c<d;c++){var h=i[c],f=i[c-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return 0};function EN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Fr(Fr({},e),{},{dataKey:n,payload:r,value:i,name:s})}function o5(t,e){if(t)return String(t);if(typeof e=="string")return e}function rY(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?BG({x:t,y:e},r):null}var iY=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:c}=r;return Fr(Fr(Fr({},r),kn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,{angle:h}=r;return Fr(Fr(Fr({},r),kn(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{x:0,y:0}},aY=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Za=t=>t.layout.width,Ja=t=>t.layout.height,sY=t=>t.layout.scale,l5=t=>t.layout.margin,R_=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),P_=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),c5="data-recharts-item-index",u5="data-recharts-item-data-key",vv=60;function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){oY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t,e,n){return(e=lY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lY(t){var e=cY(t,"string");return typeof e=="symbol"?e:e+""}function cY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uY=t=>t.brush.height,Ln=se([Za,Ja,l5,uY,R_,P_,DR,RK],(t,e,n,r,i,s,c,d)=>{var h=s.reduce((w,E)=>{var{orientation:S}=E;if(!E.mirror&&!E.hide){var j=typeof E.width=="number"?E.width:vv;return Rs(Rs({},w),{},{[S]:w[S]+j})}return w},{left:n.left||0,right:n.right||0}),f=i.reduce((w,E)=>{var{orientation:S}=E;return!E.mirror&&!E.hide?Rs(Rs({},w),{},{[S]:bl(w,"".concat(S))+E.height}):w},{top:n.top||0,bottom:n.bottom||0}),p=Rs(Rs({},f),h),v=p.bottom;p.bottom+=r,p=KG(p,c,d);var x=t-p.left-p.right,_=e-p.top-p.bottom;return Rs(Rs({brushBottom:v},p),{},{width:Math.max(x,0),height:Math.max(_,0)})}),dY=se(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),d5=se(Za,Ja,(t,e)=>({x:0,y:0,width:t,height:e})),hY=A.createContext(null),Jr=()=>A.useContext(hY)!=null,yv=t=>t.brush,xv=se([yv,Ln,l5],(t,e,n)=>({height:t.height,x:Te(t.x)?t.x:e.left,y:Te(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Te(t.width)?t.width:e.width})),D_=()=>{var t,e=Jr(),n=Re(dY),r=Re(xv),i=(t=Re(yv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},fY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},h5=()=>{var t;return(t=Re(Ln))!==null&&t!==void 0?t:fY},f5=()=>Re(Za),m5=()=>Re(Ja),Ft=t=>t.layout.layoutType,p5=()=>Re(Ft),mY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},g5=Zr({name:"legend",initialState:mY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ka(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Lse,setLegendSettings:Vse,addLegendPayload:pY,removeLegendPayload:gY}=g5.actions,vY=g5.reducer;function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(null,arguments)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return(e=xY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xY(t){var e=bY(t,"string");return typeof e=="symbol"?e:e+""}function bY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Y(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var wY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:c,itemSorter:d,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:v,accessibilityLayer:x=!1}=t,_=()=>{if(s&&s.length){var D={padding:0,margin:0},B=(d?uv(s,d):s).map((C,P)=>{if(C.type==="none")return null;var M=C.formatter||c||_Y,{value:F,name:$}=C,H=F,U=$;if(M){var pe=M(F,$,C,P,s);if(Array.isArray(pe))[H,U]=pe;else if(pe!=null)H=pe;else return null}var ve=r2({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ve},Gi(U)?A.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Gi(U)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},w=r2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=r2({margin:0},i),S=!Ct(p),j=S?p:"",O=wt("recharts-default-tooltip",h),R=wt("recharts-tooltip-label",f);S&&v&&s!==void 0&&s!==null&&(j=v(p,s));var L=x?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Rx({className:O,style:w},L),A.createElement("p",{className:R,style:E},A.isValidElement(j)?j:"".concat(j)),_())},zd="recharts-tooltip-wrapper",SY={visibility:"hidden"};function EY(t){var{coordinate:e,translateX:n,translateY:r}=t;return wt(zd,{["".concat(zd,"-right")]:Te(n)&&e&&Te(e.x)&&n>=e.x,["".concat(zd,"-left")]:Te(n)&&e&&Te(e.x)&&n<e.x,["".concat(zd,"-bottom")]:Te(r)&&e&&Te(e.y)&&r>=e.y,["".concat(zd,"-top")]:Te(r)&&e&&Te(e.y)&&r<e.y})}function jN(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=t;if(s&&Te(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),v=n[r]+i;if(e[r])return c[r]?p:v;var x=h[r];if(x==null)return 0;if(c[r]){var _=p,w=x;return _<w?Math.max(v,x):Math.max(p,x)}if(f==null)return 0;var E=v+d,S=x+f;return E>S?Math.max(p,x):Math.max(v,x)}function TY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:h}=t,f,p,v;return c.height>0&&c.width>0&&n?(p=jN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),v=jN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=TY({translateX:p,translateY:v,useTranslate3d:d})):f=SY,{cssProperties:f,cssClasses:EY({translateX:p,translateY:v,coordinate:n})}}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){Px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Px(t,e,n){return(e=jY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=NY(t,"string");return typeof e=="symbol"?e:e+""}function NY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CY extends A.PureComponent{constructor(){super(...arguments),Px(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Px(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:c,hasPayload:d,isAnimationActive:h,offset:f,position:p,reverseDirection:v,useTranslate3d:x,viewBox:_,wrapperStyle:w,lastBoundingBox:E,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:R}=AY({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:f,position:p,reverseDirection:v,tooltipBox:{height:E.height,width:E.width},useTranslate3d:x,viewBox:_}),L=j?{}:tp(tp({transition:h&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),D=tp(tp({},L),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},w);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:S},s)}}var OY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),of={isSsr:OY()},v5=()=>Re(t=>t.rootProps.accessibilityLayer);function pi(t){return Number.isFinite(t)}function cg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){IY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IY(t,e,n){return(e=RY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN={curveBasisClosed:vH,curveBasisOpen:yH,curveBasis:gH,curveBumpX:nH,curveBumpY:rH,curveLinearClosed:xH,curveLinear:lv,curveMonotoneX:bH,curveMonotoneY:_H,curveNatural:wH,curveStep:SH,curveStepAfter:TH,curveStepBefore:EH},np=t=>pi(t.x)&&pi(t.y),Bd=t=>t.x,qd=t=>t.y,DY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(af(t));return(n==="curveMonotone"||n==="curveBump")&&e?IN["".concat(n).concat(e==="vertical"?"Y":"X")]:IN[n]||lv},kY=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,c=DY(e,i),d=s?n.filter(np):n,h;if(Array.isArray(r)){var f=s?r.filter(v=>np(v)):r,p=d.map((v,x)=>ON(ON({},v),{},{base:f[x]}));return i==="vertical"?h=Xm().y(qd).x1(Bd).x0(v=>v.base.x):h=Xm().x(Bd).y1(qd).y0(v=>v.base.y),h.defined(np).curve(c),h(p)}return i==="vertical"&&Te(r)?h=Xm().y(qd).x1(Bd).x0(r):Te(r)?h=Xm().x(Bd).y1(qd).y0(r):h=fR().x(Bd).y(qd),h.defined(np).curve(c),h(d)},y5=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?kY(t):r;return A.createElement("path",Dx({},Tt(t,!1),$F(t),{className:wt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},MY=["x","y","top","left","width","height","className"];function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return(e=UY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UY(t){var e=zY(t,"string");return typeof e=="symbol"?e:e+""}function zY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BY(t,e){if(t==null)return{};var n,r,i=qY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $Y=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),FY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:c=0,className:d}=t,h=BY(t,MY),f=LY({x:e,y:n,top:r,left:i,width:s,height:c},h);return!Te(e)||!Te(n)||!Te(s)||!Te(c)||!Te(r)||!Te(i)?null:A.createElement("path",kx({},Tt(f,!0),{className:wt("recharts-cross",d),d:$Y(e,n,s,c,r,i)}))};function HY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){GY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GY(t,e,n){return(e=YY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pl(t,e){var n=KY({},t),r=e,i=Object.keys(e),s=i.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var i2={},a2={},s2={},DN;function XY(){return DN||(DN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(s2)),s2}var kN;function QY(){return kN||(kN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XY(),n=NR(),r=E_(),i=T_(),s=w_();function c(f,p,v){return d(f,p,void 0,void 0,void 0,void 0,v)}function d(f,p,v,x,_,w,E){const S=E(f,p,v,x,_,w);if(S!==void 0)return S;if(typeof f==typeof p)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===p;case"number":return f===p||Object.is(f,p);case"function":return f===p;case"object":return h(f,p,w,E)}return h(f,p,w,E)}function h(f,p,v,x){if(Object.is(f,p))return!0;let _=r.getTag(f),w=r.getTag(p);if(_===i.argumentsTag&&(_=i.objectTag),w===i.argumentsTag&&(w=i.objectTag),_!==w)return!1;switch(_){case i.stringTag:return f.toString()===p.toString();case i.numberTag:{const j=f.valueOf(),O=p.valueOf();return s.eq(j,O)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),p.valueOf());case i.regexpTag:return f.source===p.source&&f.flags===p.flags;case i.functionTag:return f===p}v=v??new Map;const E=v.get(f),S=v.get(p);if(E!=null&&S!=null)return E===p;v.set(f,p),v.set(p,f);try{switch(_){case i.mapTag:{if(f.size!==p.size)return!1;for(const[j,O]of f.entries())if(!p.has(j)||!d(O,p.get(j),j,f,p,v,x))return!1;return!0}case i.setTag:{if(f.size!==p.size)return!1;const j=Array.from(f.values()),O=Array.from(p.values());for(let R=0;R<j.length;R++){const L=j[R],D=O.findIndex(B=>d(L,B,void 0,f,p,v,x));if(D===-1)return!1;O.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(p)||f.length!==p.length)return!1;for(let j=0;j<f.length;j++)if(!d(f[j],p[j],j,f,p,v,x))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==p.byteLength?!1:h(new Uint8Array(f),new Uint8Array(p),v,x);case i.dataViewTag:return f.byteLength!==p.byteLength||f.byteOffset!==p.byteOffset?!1:h(new Uint8Array(f),new Uint8Array(p),v,x);case i.errorTag:return f.name===p.name&&f.message===p.message;case i.objectTag:{if(!(h(f.constructor,p.constructor,v,x)||e.isPlainObject(f)&&e.isPlainObject(p)))return!1;const O=[...Object.keys(f),...n.getSymbols(f)],R=[...Object.keys(p),...n.getSymbols(p)];if(O.length!==R.length)return!1;for(let L=0;L<O.length;L++){const D=O[L],B=f[D];if(!Object.hasOwn(p,D))return!1;const C=p[D];if(!d(B,C,D,f,p,v,x))return!1}return!0}default:return!1}}finally{v.delete(f),v.delete(p)}}t.isEqualWith=c}(a2)),a2}var o2={},MN;function ZY(){return MN||(MN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(o2)),o2}var LN;function JY(){return LN||(LN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QY(),n=ZY();function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r}(i2)),i2}var l2,VN;function eW(){return VN||(VN=1,l2=JY().isEqual),l2}var tW=eW();const nW=Wi(tW);function rW(t){var e={},n=()=>null,r=!1,i=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[h,...f]=d;if(typeof h=="number"){i=t.setTimeout(s.bind(null,f),h);return}s(h),i=t.setTimeout(s.bind(null,f));return}typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,i&&(i(),i=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}var ug=1e-4,x5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],b5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),UN=(t,e)=>n=>{var r=x5(t,e);return b5(r,n)},iW=(t,e)=>n=>{var r=x5(t,e),i=[...r.map((s,c)=>s*c).slice(1),0];return b5(i,n)},zN=function(){for(var e,n,r,i,s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var h=c[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,i]=h[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([e,r,n,i]=c);var f=UN(e,n),p=UN(r,i),v=iW(e,n),x=w=>w>1?1:w<0?0:w,_=w=>{for(var E=w>1?1:w,S=E,j=0;j<8;++j){var O=f(S)-E,R=v(S);if(Math.abs(O-E)<ug||R<ug)return p(S);S=x(S-O/R)}return p(S)};return _.isStepper=!1,_},aW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(c,d,h)=>{var f=-(c-d)*n,p=h*r,v=h+(f-p)*i/1e3,x=h*i/1e3+c;return Math.abs(x-d)<ug&&Math.abs(v)<ug?[d,0]:[x,v]};return s.isStepper=!0,s.dt=i,s},sW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zN(t);case"spring":return aW();default:if(t.split("(")[0]==="cubic-bezier")return zN(t)}return typeof t=="function"?t:null};function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dW=(t,e,n)=>t.map(r=>"".concat(uW(r)," ").concat(e,"ms ").concat(n)).join(","),hW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ch=(t,e)=>Object.keys(e).reduce((n,r)=>qN(qN({},n),{},{[r]:t(r,e[r])}),{});function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){fW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fW(t,e,n){return(e=mW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mW(t){var e=pW(t,"string");return typeof e=="symbol"?e:e+""}function pW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dg=(t,e,n)=>t+(e-t)*n,Mx=t=>{var{from:e,to:n}=t;return e!==n},_5=(t,e,n)=>{var r=Ch((i,s)=>{if(Mx(s)){var[c,d]=t(s.from,s.to,s.velocity);return Pn(Pn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Ch((i,s)=>Mx(s)?Pn(Pn({},s),{},{velocity:dg(s.velocity,r[i].velocity,n),from:dg(s.from,r[i].from,n)}):s,e):_5(t,r,n-1)};function gW(t,e,n,r,i,s){var c,d=r.reduce((x,_)=>Pn(Pn({},x),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),h=()=>Ch((x,_)=>_.from,d),f=()=>!Object.values(d).filter(Mx).length,p=null,v=x=>{c||(c=x);var _=x-c,w=_/n.dt;d=_5(n,d,w),i(Pn(Pn(Pn({},t),e),h())),c=x,f()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{p()})}function vW(t,e,n,r,i,s,c){var d=null,h=i.reduce((v,x)=>Pn(Pn({},v),{},{[x]:[t[x],e[x]]}),{}),f,p=v=>{f||(f=v);var x=(v-f)/r,_=Ch((E,S)=>dg(...S,n(x)),h);if(s(Pn(Pn(Pn({},t),e),_)),x<1)d=c.setTimeout(p);else{var w=Ch((E,S)=>dg(...S,n(1)),h);s(Pn(Pn(Pn({},t),e),w))}};return()=>(d=c.setTimeout(p),()=>{d()})}const yW=(t,e,n,r,i,s)=>{var c=hW(t,e);return n.isStepper===!0?gW(t,e,n,c,i,s):vW(t,e,n,r,c,i,s)};class xW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var bW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function _W(t,e){if(t==null)return{};var n,r,i=wW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){tl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t,e,n){return(e=SW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=EW(t,"string");return typeof e=="symbol"?e:e+""}function EW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TW(){return rW(new xW)}class k_ extends A.PureComponent{constructor(e,n){super(e,n),tl(this,"mounted",!1),tl(this,"manager",null),tl(this,"stopJSAnimation",null),tl(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:c,children:d,duration:h,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(s){if(typeof d=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:c,from:d}=this.props,{style:h}=this.state;if(r){if(!n){var f={style:i?{[i]:c}:c};this.state&&h&&(i&&h[i]!==c||!i&&h!==c)&&this.setState(f);return}if(!(nW(e.to,c)&&e.canBegin&&e.isActive)){var p=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=p||s?d:e.to;if(this.state&&h){var x={style:i?{[i]:v}:v};(i&&h[i]!==v||!i&&h!==v)&&this.setState(x)}this.runAnimation(Ps(Ps({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:h}=e,f=yW(n,r,sW(s),i,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=f()};this.manager.start([h,c,p,i,d])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:c,onAnimationStart:d,onAnimationEnd:h,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(e);return}var p=i?{[i]:s}:s,v=dW(Object.keys(p),r,c);this.manager.start([d,n,Ps(Ps({},p),{},{transition:v}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:c,isActive:d,from:h,to:f,canBegin:p,onAnimationEnd:v,shouldReAnimate:x,onAnimationReStart:_,animationManager:w}=e,E=_W(e,bW),S=A.Children.count(n),j=this.state.style;if(typeof n=="function")return n(j);if(!d||S===0||i<=0)return n;var O=R=>{var{style:L={},className:D}=R.props,B=A.cloneElement(R,Ps(Ps({},E),{},{style:Ps(Ps({},L),j),className:D}));return B};return S===1?O(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,R=>O(R)))}}tl(k_,"displayName","Animate");tl(k_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var AW=A.createContext(null);function Oh(t){var e,n,r=A.useContext(AW);return A.createElement(k_,Lx({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:TW()}))}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(null,arguments)}var HN=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,x=4;v<x;v++)p[v]=i[v]>s?s:i[v];f="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(e)),f+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+c*p[1])),f+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),f+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-c*p[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);f="M ".concat(t,",").concat(e+c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+d*_,",").concat(e,`
            L `).concat(t+n-d*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n,",").concat(e+c*_,`
            L `).concat(t+n,",").concat(e+r-c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t+n-d*_,",").concat(e+r,`
            L `).concat(t+d*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(t,",").concat(e+r-c*_," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},jW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w5=t=>{var e=Pl(t,jW),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:s,y:c,width:d,height:h,radius:f,className:p}=e,{animationEasing:v,animationDuration:x,animationBegin:_,isAnimationActive:w,isUpdateAnimationActive:E}=e;if(s!==+s||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var S=wt("recharts-rectangle",p);return E?A.createElement(Oh,{canBegin:r>0,from:{width:d,height:h,x:s,y:c},to:{width:d,height:h,x:s,y:c},duration:x,animationEasing:v,isActive:E},j=>{var{width:O,height:R,x:L,y:D}=j;return A.createElement(Oh,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:w,easing:v},A.createElement("path",hg({},Tt(e,!0),{className:S,d:HN(L,D,O,R,f),ref:n})))}):A.createElement("path",hg({},Tt(e,!0),{className:S,d:HN(s,c,d,h,f)}))};function S5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,c=kn(e,n,r,i),d=kn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(null,arguments)}var NW=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},rp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:h}=t,f=d*(c?1:-1)+r,p=Math.asin(d/f)/lg,v=h?i:i+s*p,x=kn(e,n,f,v),_=kn(e,n,r,v),w=h?i-s*p:i,E=kn(e,n,f*Math.cos(p*lg),w);return{center:x,circleTangency:_,lineTangency:E,theta:p}},E5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:c}=t,d=NW(s,c),h=s+d,f=kn(e,n,i,s),p=kn(e,n,i,h),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=kn(e,n,r,s),_=kn(e,n,r,h);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},CW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}=t,p=Kr(f-h),{circleTangency:v,lineTangency:x,theta:_}=rp({cx:e,cy:n,radius:i,angle:h,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:E,theta:S}=rp({cx:e,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:d}),j=d?Math.abs(h-f):Math.abs(h-f)-_-S;if(j<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):E5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var O="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:L,theta:D}=rp({cx:e,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:B,lineTangency:C,theta:P}=rp({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),M=d?Math.abs(h-f):Math.abs(h-f)-D-P;if(M<0&&s===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else O+="L".concat(e,",").concat(n,"Z");return O},OW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T5=t=>{var e=Pl(t,OW),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p,className:v}=e;if(s<i||f===p)return null;var x=wt("recharts-sector",v),_=s-i,w=ro(c,_,0,!0),E;return w>0&&Math.abs(f-p)<360?E=CW({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,_/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):E=E5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),A.createElement("path",Vx({},Tt(e,!0),{className:x,d:E}))};function IW(t,e,n){var r,i,s,c;if(t==="horizontal")r=e.x,s=r,i=n.top,c=n.top+n.height;else if(t==="vertical")i=e.y,c=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:d,cy:h,innerRadius:f,outerRadius:p,angle:v}=e,x=kn(d,h,f,v),_=kn(d,h,p,v);r=x.x,i=x.y,s=_.x,c=_.y}else return S5(e);return[{x:r,y:i},{x:s,y:c}]}var c2={},u2={},d2={},KN;function RW(){return KN||(KN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(d2)),d2}var GN;function PW(){return GN||(GN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RW();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(u2)),u2}var YN;function DW(){return YN||(YN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PR(),n=PW();function r(i,s,c){c&&typeof c!="number"&&e.isIterateeCall(i,s,c)&&(s=c=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),c=c===void 0?i<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-i)/(c||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=i,i+=c;return h}t.range=r}(c2)),c2}var h2,WN;function kW(){return WN||(WN=1,h2=DW().range),h2}var MW=kW();const A5=Wi(MW);function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M_(t){let e,n,r;t.length!==2?(e=Gs,n=(d,h)=>Gs(t(d),h),r=(d,h)=>t(d)-h):(e=t===Gs||t===LW?t:VW,n=t,r=t);function i(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<0?f=v+1:p=v}while(f<p)}return f}function s(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const v=f+p>>>1;n(d[v],h)<=0?f=v+1:p=v}while(f<p)}return f}function c(d,h,f=0,p=d.length){const v=i(d,h,f,p-1);return v>f&&r(d[v-1],h)>-r(d[v],h)?v-1:v}return{left:i,center:c,right:s}}function VW(){return 0}function j5(t){return t===null?NaN:+t}function*UW(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zW=M_(Gs),lf=zW.right;M_(j5).center;class XN extends Map{constructor(e,n=$W){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QN(this,e))}has(e){return super.has(QN(this,e))}set(e,n){return super.set(BW(this,e),n)}delete(e){return super.delete(qW(this,e))}}function QN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function BW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qW({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $W(t){return t!==null&&typeof t=="object"?t.valueOf():t}function FW(t=Gs){if(t===Gs)return N5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const HW=Math.sqrt(50),KW=Math.sqrt(10),GW=Math.sqrt(2);function fg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),c=s>=HW?10:s>=KW?5:s>=GW?2:1;let d,h,f;return i<0?(f=Math.pow(10,-i)/c,d=Math.round(t*f),h=Math.round(e*f),d/f<t&&++d,h/f>e&&--h,f=-f):(f=Math.pow(10,i)*c,d=Math.round(t/f),h=Math.round(e/f),d*f<t&&++d,h*f>e&&--h),h<d&&.5<=n&&n<2?fg(t,e,n*2):[d,h,f]}function Ux(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,c]=r?fg(e,t,n):fg(t,e,n);if(!(s>=i))return[];const d=s-i+1,h=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)h[f]=(s-f)/-c;else for(let f=0;f<d;++f)h[f]=(s-f)*c;else if(c<0)for(let f=0;f<d;++f)h[f]=(i+f)/-c;else for(let f=0;f<d;++f)h[f]=(i+f)*c;return h}function zx(t,e,n){return e=+e,t=+t,n=+n,fg(t,e,n)[2]}function Bx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?zx(e,t,n):zx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function C5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N5:FW(i);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,p=Math.log(h),v=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*v*(h-v)/h)*(f-h/2<0?-1:1),_=Math.max(n,Math.floor(e-f*v/h+x)),w=Math.min(r,Math.floor(e+(h-f)*v/h+x));C5(t,e,_,w,i)}const s=t[e];let c=n,d=r;for($d(t,n,e),i(t[r],s)>0&&$d(t,n,r);c<d;){for($d(t,c,d),++c,--d;i(t[c],s)<0;)++c;for(;i(t[d],s)>0;)--d}i(t[n],s)===0?$d(t,n,d):(++d,$d(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function $d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function YW(t,e,n){if(t=Float64Array.from(UW(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JN(t);if(e>=1)return ZN(t);var r,i=(r-1)*e,s=Math.floor(i),c=ZN(C5(t,s).subarray(0,s+1)),d=JN(t.subarray(s+1));return c+(d-c)*(i-s)}}function WW(t,e,n=j5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(i-s)}}function XW(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qx=Symbol("implicit");function L_(){var t=new XN,e=[],n=[],r=qx;function i(s){let c=t.get(s);if(c===void 0){if(r!==qx)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XN;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return L_(e,n).unknown(r)},ei.apply(i,arguments),i}function V_(){var t=L_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,c,d=!1,h=0,f=0,p=.5;delete t.unknown;function v(){var x=e().length,_=i<r,w=_?i:r,E=_?r:i;s=(E-w)/Math.max(1,x-h+f*2),d&&(s=Math.floor(s)),w+=(E-w-s*(x-h))*p,c=s*(1-h),d&&(w=Math.round(w),c=Math.round(c));var S=XW(x).map(function(j){return w+s*j});return n(_?S.reverse():S)}return t.domain=function(x){return arguments.length?(e(x),v()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,d=!0,v()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,v()):d},t.padding=function(x){return arguments.length?(h=Math.min(1,f=+x),v()):h},t.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),v()):h},t.paddingOuter=function(x){return arguments.length?(f=+x,v()):f},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),v()):p},t.copy=function(){return V_(e(),[r,i]).round(d).paddingInner(h).paddingOuter(f).align(p)},ei.apply(v(),arguments)}function O5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O5(e())},t}function QW(){return O5(V_.apply(null,arguments).paddingInner(1))}function U_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function I5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cf(){}var Ih=.7,mg=1/Ih,Xc="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZW=/^#([0-9a-f]{3,8})$/,JW=new RegExp(`^rgb\\(${Xc},${Xc},${Xc}\\)$`),eX=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),tX=new RegExp(`^rgba\\(${Xc},${Xc},${Xc},${Rh}\\)$`),nX=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${Rh}\\)$`),rX=new RegExp(`^hsl\\(${Rh},${Fi},${Fi}\\)$`),iX=new RegExp(`^hsla\\(${Rh},${Fi},${Fi},${Rh}\\)$`),e3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U_(cf,Ph,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:t3,formatHex:t3,formatHex8:aX,formatHsl:sX,formatRgb:n3,toString:n3});function t3(){return this.rgb().formatHex()}function aX(){return this.rgb().formatHex8()}function sX(){return R5(this).formatHsl()}function n3(){return this.rgb().formatRgb()}function Ph(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ZW.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?r3(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ip(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JW.exec(t))?new or(e[1],e[2],e[3],1):(e=eX.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tX.exec(t))?ip(e[1],e[2],e[3],e[4]):(e=nX.exec(t))?ip(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rX.exec(t))?s3(e[1],e[2]/100,e[3]/100,1):(e=iX.exec(t))?s3(e[1],e[2]/100,e[3]/100,e[4]):e3.hasOwnProperty(t)?r3(e3[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function r3(t){return new or(t>>16&255,t>>8&255,t&255,1)}function ip(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function oX(t){return t instanceof cf||(t=Ph(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function $x(t,e,n,r){return arguments.length===1?oX(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}U_(or,$x,I5(cf,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(ul(this.r),ul(this.g),ul(this.b),pg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i3,formatHex:i3,formatHex8:lX,formatRgb:a3,toString:a3}));function i3(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}`}function lX(){return`#${nl(this.r)}${nl(this.g)}${nl(this.b)}${nl((isNaN(this.opacity)?1:this.opacity)*255)}`}function a3(){const t=pg(this.opacity);return`${t===1?"rgb(":"rgba("}${ul(this.r)}, ${ul(this.g)}, ${ul(this.b)}${t===1?")":`, ${t})`}`}function pg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ul(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nl(t){return t=ul(t),(t<16?"0":"")+t.toString(16)}function s3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function R5(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof cf||(t=Ph(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-i,h=(s+i)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=h<.5?s+i:2-s-i,c*=60):d=h>0&&h<1?0:c,new li(c,d,h,t.opacity)}function cX(t,e,n,r){return arguments.length===1?R5(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}U_(li,cX,I5(cf,{brighter(t){return t=t==null?mg:Math.pow(mg,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ih:Math.pow(Ih,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(f2(t>=240?t-240:t+120,i,r),f2(t,i,r),f2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(o3(this.h),ap(this.s),ap(this.l),pg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pg(this.opacity);return`${t===1?"hsl(":"hsla("}${o3(this.h)}, ${ap(this.s)*100}%, ${ap(this.l)*100}%${t===1?")":`, ${t})`}`}}));function o3(t){return t=(t||0)%360,t<0?t+360:t}function ap(t){return Math.max(0,Math.min(1,t||0))}function f2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z_=t=>()=>t;function uX(t,e){return function(n){return t+n*e}}function dX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hX(t){return(t=+t)==1?P5:function(e,n){return n-e?dX(e,n,t):z_(isNaN(e)?n:e)}}function P5(t,e){var n=e-t;return n?uX(t,n):z_(isNaN(t)?e:t)}const l3=function t(e){var n=hX(e);function r(i,s){var c=n((i=$x(i)).r,(s=$x(s)).r),d=n(i.g,s.g),h=n(i.b,s.b),f=P5(i.opacity,s.opacity);return function(p){return i.r=c(p),i.g=d(p),i.b=h(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function fX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function mX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)i[c]=wu(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=i[c](d);return s}}function gX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Fx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m2=new RegExp(Fx.source,"g");function yX(t){return function(){return t}}function xX(t){return function(e){return t(e)+""}}function bX(t,e){var n=Fx.lastIndex=m2.lastIndex=0,r,i,s,c=-1,d=[],h=[];for(t=t+"",e=e+"";(r=Fx.exec(t))&&(i=m2.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(i=i[0])?d[c]?d[c]+=i:d[++c]=i:(d[++c]=null,h.push({i:c,x:gg(r,i)})),n=m2.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?h[0]?xX(h[0].x):yX(e):(e=h.length,function(f){for(var p=0,v;p<e;++p)d[(v=h[p]).i]=v.x(f);return d.join("")})}function wu(t,e){var n=typeof e,r;return e==null||n==="boolean"?z_(e):(n==="number"?gg:n==="string"?(r=Ph(e))?(e=r,l3):bX:e instanceof Ph?l3:e instanceof Date?gX:mX(e)?fX:Array.isArray(e)?pX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vX:gg)(t,e)}function B_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _X(t,e){e===void 0&&(e=t,t=wu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function wX(t){return function(){return t}}function vg(t){return+t}var c3=[0,1];function Zn(t){return t}function Hx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wX(isNaN(e)?NaN:.5)}function SX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EX(t,e,n){var r=t[0],i=t[1],s=e[0],c=e[1];return i<r?(r=Hx(i,r),s=n(c,s)):(r=Hx(r,i),s=n(s,c)),function(d){return s(r(d))}}function TX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)i[c]=Hx(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var h=lf(t,d,1,r)-1;return s[h](i[h](d))}}function uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bv(){var t=c3,e=c3,n=wu,r,i,s,c=Zn,d,h,f;function p(){var x=Math.min(t.length,e.length);return c!==Zn&&(c=SX(t[0],t[x-1])),d=x>2?TX:EX,h=f=null,v}function v(x){return x==null||isNaN(x=+x)?s:(h||(h=d(t.map(r),e,n)))(r(c(x)))}return v.invert=function(x){return c(i((f||(f=d(e,t.map(r),gg)))(x)))},v.domain=function(x){return arguments.length?(t=Array.from(x,vg),p()):t.slice()},v.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},v.rangeRound=function(x){return e=Array.from(x),n=B_,p()},v.clamp=function(x){return arguments.length?(c=x?!0:Zn,p()):c!==Zn},v.interpolate=function(x){return arguments.length?(n=x,p()):n},v.unknown=function(x){return arguments.length?(s=x,v):s},function(x,_){return r=x,i=_,p()}}function q_(){return bv()(Zn,Zn)}function AX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ou(t){return t=yg(Math.abs(t)),t?t[1]:NaN}function jX(t,e){return function(n,r){for(var i=n.length,s=[],c=0,d=t[0],h=0;i>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),s.push(n.substring(i-=d,i+d)),!((h+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function NX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var CX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(t){if(!(e=CX.exec(t)))throw new Error("invalid format: "+t);var e;return new $_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dh.prototype=$_.prototype;function $_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var D5;function IX(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(D5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yg(t,Math.max(0,e+s-1))[0]}function u3(t,e){var n=yg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const d3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>u3(t*100,e),r:u3,s:IX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function h3(t){return t}var f3=Array.prototype.map,m3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function RX(t){var e=t.grouping===void 0||t.thousands===void 0?h3:jX(f3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?h3:NX(f3.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"−":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(v){v=Dh(v);var x=v.fill,_=v.align,w=v.sign,E=v.symbol,S=v.zero,j=v.width,O=v.comma,R=v.precision,L=v.trim,D=v.type;D==="n"?(O=!0,D="g"):d3[D]||(R===void 0&&(R=12),L=!0,D="g"),(S||x==="0"&&_==="=")&&(S=!0,x="0",_="=");var B=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",C=E==="$"?r:/[%p]/.test(D)?c:"",P=d3[D],M=/[defgprs%]/.test(D);R=R===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function F($){var H=B,U=C,pe,ve,q;if(D==="c")U=P($)+U,$="";else{$=+$;var z=$<0||1/$<0;if($=isNaN($)?h:P(Math.abs($),R),L&&($=OX($)),z&&+$==0&&w!=="+"&&(z=!1),H=(z?w==="("?w:d:w==="-"||w==="("?"":w)+H,U=(D==="s"?m3[8+D5/3]:"")+U+(z&&w==="("?")":""),M){for(pe=-1,ve=$.length;++pe<ve;)if(q=$.charCodeAt(pe),48>q||q>57){U=(q===46?i+$.slice(pe+1):$.slice(pe))+U,$=$.slice(0,pe);break}}}O&&!S&&($=e($,1/0));var J=H.length+$.length+U.length,fe=J<j?new Array(j-J+1).join(x):"";switch(O&&S&&($=e(fe+$,fe.length?j-U.length:1/0),fe=""),_){case"<":$=H+$+U+fe;break;case"=":$=H+fe+$+U;break;case"^":$=fe.slice(0,J=fe.length>>1)+H+$+U+fe.slice(J);break;default:$=fe+H+$+U;break}return s($)}return F.toString=function(){return v+""},F}function p(v,x){var _=f((v=Dh(v),v.type="f",v)),w=Math.max(-8,Math.min(8,Math.floor(ou(x)/3)))*3,E=Math.pow(10,-w),S=m3[8+w/3];return function(j){return _(E*j)+S}}return{format:f,formatPrefix:p}}var sp,F_,k5;PX({thousands:",",grouping:[3],currency:["$",""]});function PX(t){return sp=RX(t),F_=sp.format,k5=sp.formatPrefix,sp}function DX(t){return Math.max(0,-ou(Math.abs(t)))}function kX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ou(e)/3)))*3-ou(Math.abs(t)))}function MX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ou(e)-ou(t))+1}function M5(t,e,n,r){var i=Bx(t,e,n),s;switch(r=Dh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=kX(i,c))&&(r.precision=s),k5(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=MX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=DX(i))&&(r.precision=s-(r.type==="%")*2);break}}return F_(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ux(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return M5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,c=r[i],d=r[s],h,f,p=10;for(d<c&&(f=c,c=d,d=f,f=i,i=s,s=f);p-- >0;){if(f=zx(c,d,n),f===h)return r[i]=c,r[s]=d,e(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;h=f}return t},t}function L5(){var t=q_();return t.copy=function(){return uf(t,L5())},ei.apply(t,arguments),co(t)}function V5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return V5(t).unknown(e)},t=arguments.length?Array.from(t,vg):[0,1],co(n)}function U5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],c;return s<i&&(c=n,n=r,r=c,c=i,i=s,s=c),t[n]=e.floor(i),t[r]=e.ceil(s),t}function p3(t){return Math.log(t)}function g3(t){return Math.exp(t)}function LX(t){return-Math.log(-t)}function VX(t){return-Math.exp(-t)}function UX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zX(t){return t===10?UX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function BX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function v3(t){return(e,n)=>-t(-e,n)}function H_(t){const e=t(p3,g3),n=e.domain;let r=10,i,s;function c(){return i=BX(r),s=zX(r),n()[0]<0?(i=v3(i),s=v3(s),t(LX,VX)):t(p3,g3),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const h=n();let f=h[0],p=h[h.length-1];const v=p<f;v&&([f,p]=[p,f]);let x=i(f),_=i(p),w,E;const S=d==null?10:+d;let j=[];if(!(r%1)&&_-x<S){if(x=Math.floor(x),_=Math.ceil(_),f>0){for(;x<=_;++x)for(w=1;w<r;++w)if(E=x<0?w/s(-x):w*s(x),!(E<f)){if(E>p)break;j.push(E)}}else for(;x<=_;++x)for(w=r-1;w>=1;--w)if(E=x>0?w/s(-x):w*s(x),!(E<f)){if(E>p)break;j.push(E)}j.length*2<S&&(j=Ux(f,p,S))}else j=Ux(x,_,Math.min(_-x,S)).map(s);return v?j.reverse():j},e.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Dh(h)).precision==null&&(h.trim=!0),h=F_(h)),d===1/0)return h;const f=Math.max(1,r*d/e.ticks().length);return p=>{let v=p/s(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=f?h(p):""}},e.nice=()=>n(U5(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),e}function z5(){const t=H_(bv()).domain([1,10]);return t.copy=()=>uf(t,z5()).base(t.base()),ei.apply(t,arguments),t}function y3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function x3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K_(t){var e=1,n=t(y3(e),x3(e));return n.constant=function(r){return arguments.length?t(y3(e=+r),x3(e)):e},co(n)}function B5(){var t=K_(bv());return t.copy=function(){return uf(t,B5()).constant(t.constant())},ei.apply(t,arguments)}function b3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $X(t){return t<0?-t*t:t*t}function G_(t){var e=t(Zn,Zn),n=1;function r(){return n===1?t(Zn,Zn):n===.5?t(qX,$X):t(b3(n),b3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},co(e)}function Y_(){var t=G_(bv());return t.copy=function(){return uf(t,Y_()).exponent(t.exponent())},ei.apply(t,arguments),t}function FX(){return Y_.apply(null,arguments).exponent(.5)}function _3(t){return Math.sign(t)*t*t}function HX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function q5(){var t=q_(),e=[0,1],n=!1,r;function i(s){var c=HX(t(s));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(s){return t.invert(_3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,vg)).map(_3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return q5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ei.apply(i,arguments),co(i)}function $5(){var t=[],e=[],n=[],r;function i(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=WW(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[lf(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Gs),i()},s.range=function(c){return arguments.length?(e=Array.from(c),i()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return $5().domain(t).range(e).unknown(r)},ei.apply(s,arguments)}function F5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function c(h){return h!=null&&h<=h?i[lf(r,h,0,n)]:s}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,d()):[t,e]},c.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,d()):i.slice()},c.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},c.unknown=function(h){return arguments.length&&(s=h),c},c.thresholds=function(){return r.slice()},c.copy=function(){return F5().domain([t,e]).range(i).unknown(s)},ei.apply(co(c),arguments)}function H5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[lf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return H5().domain(t).range(e).unknown(n)},ei.apply(i,arguments)}const p2=new Date,g2=new Date;function fn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const c=i(s),d=i.ceil(s);return s-c<d-s?c:d},i.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,d)=>{const h=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return h;let f;do h.push(f=new Date(+s)),e(s,d),t(s);while(f<s&&s<c);return h},i.filter=s=>fn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(i.count=(s,c)=>(p2.setTime(+s),g2.setTime(+c),t(p2),t(g2),Math.floor(n(p2,g2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?c=>r(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const xg=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);xg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):xg);xg.range;const Oa=1e3,Gr=Oa*60,Ia=Gr*60,Ga=Ia*24,W_=Ga*7,w3=Ga*30,v2=Ga*365,rl=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getUTCSeconds());rl.range;const X_=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oa)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getMinutes());X_.range;const Q_=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCMinutes());Q_.range;const Z_=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oa-t.getMinutes()*Gr)},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getHours());Z_.range;const J_=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getUTCHours());J_.range;const df=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/Ga,t=>t.getDate()-1);df.range;const _v=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>t.getUTCDate()-1);_v.range;const K5=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>Math.floor(t/Ga));K5.range;function Dl(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/W_)}const wv=Dl(0),bg=Dl(1),KX=Dl(2),GX=Dl(3),lu=Dl(4),YX=Dl(5),WX=Dl(6);wv.range;bg.range;KX.range;GX.range;lu.range;YX.range;WX.range;function kl(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/W_)}const Sv=kl(0),_g=kl(1),XX=kl(2),QX=kl(3),cu=kl(4),ZX=kl(5),JX=kl(6);Sv.range;_g.range;XX.range;QX.range;cu.range;ZX.range;JX.range;const ew=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ew.range;const tw=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tw.range;const Ya=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ya.range;const Wa=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wa.range;function G5(t,e,n,r,i,s){const c=[[rl,1,Oa],[rl,5,5*Oa],[rl,15,15*Oa],[rl,30,30*Oa],[s,1,Gr],[s,5,5*Gr],[s,15,15*Gr],[s,30,30*Gr],[i,1,Ia],[i,3,3*Ia],[i,6,6*Ia],[i,12,12*Ia],[r,1,Ga],[r,2,2*Ga],[n,1,W_],[e,1,w3],[e,3,3*w3],[t,1,v2]];function d(f,p,v){const x=p<f;x&&([f,p]=[p,f]);const _=v&&typeof v.range=="function"?v:h(f,p,v),w=_?_.range(f,+p+1):[];return x?w.reverse():w}function h(f,p,v){const x=Math.abs(p-f)/v,_=M_(([,,S])=>S).right(c,x);if(_===c.length)return t.every(Bx(f/v2,p/v2,v));if(_===0)return xg.every(Math.max(Bx(f,p,v),1));const[w,E]=c[x/c[_-1][2]<c[_][2]/x?_-1:_];return w.every(E)}return[d,h]}const[eQ,tQ]=G5(Wa,tw,Sv,K5,J_,Q_),[nQ,rQ]=G5(Ya,ew,wv,df,Z_,X_);function y2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function iQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,c=t.shortDays,d=t.months,h=t.shortMonths,f=Hd(i),p=Kd(i),v=Hd(s),x=Kd(s),_=Hd(c),w=Kd(c),E=Hd(d),S=Kd(d),j=Hd(h),O=Kd(h),R={a:z,A:J,b:fe,B:K,c:null,d:N3,e:N3,f:jQ,g:LQ,G:UQ,H:EQ,I:TQ,j:AQ,L:Y5,m:NQ,M:CQ,p:ie,q:re,Q:I3,s:R3,S:OQ,u:IQ,U:RQ,V:PQ,w:DQ,W:kQ,x:null,X:null,y:MQ,Y:VQ,Z:zQ,"%":O3},L={a:de,A:Se,b:je,B:Pe,c:null,d:C3,e:C3,f:FQ,g:eZ,G:nZ,H:BQ,I:qQ,j:$Q,L:X5,m:HQ,M:KQ,p:Ht,q:ct,Q:I3,s:R3,S:GQ,u:YQ,U:WQ,V:XQ,w:QQ,W:ZQ,x:null,X:null,y:JQ,Y:tZ,Z:rZ,"%":O3},D={a:F,A:$,b:H,B:U,c:pe,d:A3,e:A3,f:bQ,g:T3,G:E3,H:j3,I:j3,j:gQ,L:xQ,m:pQ,M:vQ,p:M,q:mQ,Q:wQ,s:SQ,S:yQ,u:cQ,U:uQ,V:dQ,w:lQ,W:hQ,x:ve,X:q,y:T3,Y:E3,Z:fQ,"%":_Q};R.x=B(n,R),R.X=B(r,R),R.c=B(e,R),L.x=B(n,L),L.X=B(r,L),L.c=B(e,L);function B(ye,ke){return function(Ve){var he=[],Pt=-1,Ye=0,rn=ye.length,mn,Kt,Ul;for(Ve instanceof Date||(Ve=new Date(+Ve));++Pt<rn;)ye.charCodeAt(Pt)===37&&(he.push(ye.slice(Ye,Pt)),(Kt=S3[mn=ye.charAt(++Pt)])!=null?mn=ye.charAt(++Pt):Kt=mn==="e"?" ":"0",(Ul=ke[mn])&&(mn=Ul(Ve,Kt)),he.push(mn),Ye=Pt+1);return he.push(ye.slice(Ye,Pt)),he.join("")}}function C(ye,ke){return function(Ve){var he=Fd(1900,void 0,1),Pt=P(he,ye,Ve+="",0),Ye,rn;if(Pt!=Ve.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ye=x2(Fd(he.y,0,1)),rn=Ye.getUTCDay(),Ye=rn>4||rn===0?_g.ceil(Ye):_g(Ye),Ye=_v.offset(Ye,(he.V-1)*7),he.y=Ye.getUTCFullYear(),he.m=Ye.getUTCMonth(),he.d=Ye.getUTCDate()+(he.w+6)%7):(Ye=y2(Fd(he.y,0,1)),rn=Ye.getDay(),Ye=rn>4||rn===0?bg.ceil(Ye):bg(Ye),Ye=df.offset(Ye,(he.V-1)*7),he.y=Ye.getFullYear(),he.m=Ye.getMonth(),he.d=Ye.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),rn="Z"in he?x2(Fd(he.y,0,1)).getUTCDay():y2(Fd(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(rn+5)%7:he.w+he.U*7-(rn+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,x2(he)):y2(he)}}function P(ye,ke,Ve,he){for(var Pt=0,Ye=ke.length,rn=Ve.length,mn,Kt;Pt<Ye;){if(he>=rn)return-1;if(mn=ke.charCodeAt(Pt++),mn===37){if(mn=ke.charAt(Pt++),Kt=D[mn in S3?ke.charAt(Pt++):mn],!Kt||(he=Kt(ye,Ve,he))<0)return-1}else if(mn!=Ve.charCodeAt(he++))return-1}return he}function M(ye,ke,Ve){var he=f.exec(ke.slice(Ve));return he?(ye.p=p.get(he[0].toLowerCase()),Ve+he[0].length):-1}function F(ye,ke,Ve){var he=_.exec(ke.slice(Ve));return he?(ye.w=w.get(he[0].toLowerCase()),Ve+he[0].length):-1}function $(ye,ke,Ve){var he=v.exec(ke.slice(Ve));return he?(ye.w=x.get(he[0].toLowerCase()),Ve+he[0].length):-1}function H(ye,ke,Ve){var he=j.exec(ke.slice(Ve));return he?(ye.m=O.get(he[0].toLowerCase()),Ve+he[0].length):-1}function U(ye,ke,Ve){var he=E.exec(ke.slice(Ve));return he?(ye.m=S.get(he[0].toLowerCase()),Ve+he[0].length):-1}function pe(ye,ke,Ve){return P(ye,e,ke,Ve)}function ve(ye,ke,Ve){return P(ye,n,ke,Ve)}function q(ye,ke,Ve){return P(ye,r,ke,Ve)}function z(ye){return c[ye.getDay()]}function J(ye){return s[ye.getDay()]}function fe(ye){return h[ye.getMonth()]}function K(ye){return d[ye.getMonth()]}function ie(ye){return i[+(ye.getHours()>=12)]}function re(ye){return 1+~~(ye.getMonth()/3)}function de(ye){return c[ye.getUTCDay()]}function Se(ye){return s[ye.getUTCDay()]}function je(ye){return h[ye.getUTCMonth()]}function Pe(ye){return d[ye.getUTCMonth()]}function Ht(ye){return i[+(ye.getUTCHours()>=12)]}function ct(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var ke=B(ye+="",R);return ke.toString=function(){return ye},ke},parse:function(ye){var ke=C(ye+="",!1);return ke.toString=function(){return ye},ke},utcFormat:function(ye){var ke=B(ye+="",L);return ke.toString=function(){return ye},ke},utcParse:function(ye){var ke=C(ye+="",!0);return ke.toString=function(){return ye},ke}}}var S3={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,aQ=/^%/,sQ=/[\\^$*+?|[\]().{}]/g;function et(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function oQ(t){return t.replace(sQ,"\\$&")}function Hd(t){return new RegExp("^(?:"+t.map(oQ).join("|")+")","i")}function Kd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function E3(t,e,n){var r=Sn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function T3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mQ(t,e,n){var r=Sn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function A3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gQ(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function j3(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yQ(t,e,n){var r=Sn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xQ(t,e,n){var r=Sn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bQ(t,e,n){var r=Sn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _Q(t,e,n){var r=aQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wQ(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function SQ(t,e,n){var r=Sn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function N3(t,e){return et(t.getDate(),e,2)}function EQ(t,e){return et(t.getHours(),e,2)}function TQ(t,e){return et(t.getHours()%12||12,e,2)}function AQ(t,e){return et(1+df.count(Ya(t),t),e,3)}function Y5(t,e){return et(t.getMilliseconds(),e,3)}function jQ(t,e){return Y5(t,e)+"000"}function NQ(t,e){return et(t.getMonth()+1,e,2)}function CQ(t,e){return et(t.getMinutes(),e,2)}function OQ(t,e){return et(t.getSeconds(),e,2)}function IQ(t){var e=t.getDay();return e===0?7:e}function RQ(t,e){return et(wv.count(Ya(t)-1,t),e,2)}function W5(t){var e=t.getDay();return e>=4||e===0?lu(t):lu.ceil(t)}function PQ(t,e){return t=W5(t),et(lu.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function DQ(t){return t.getDay()}function kQ(t,e){return et(bg.count(Ya(t)-1,t),e,2)}function MQ(t,e){return et(t.getFullYear()%100,e,2)}function LQ(t,e){return t=W5(t),et(t.getFullYear()%100,e,2)}function VQ(t,e){return et(t.getFullYear()%1e4,e,4)}function UQ(t,e){var n=t.getDay();return t=n>=4||n===0?lu(t):lu.ceil(t),et(t.getFullYear()%1e4,e,4)}function zQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+et(e/60|0,"0",2)+et(e%60,"0",2)}function C3(t,e){return et(t.getUTCDate(),e,2)}function BQ(t,e){return et(t.getUTCHours(),e,2)}function qQ(t,e){return et(t.getUTCHours()%12||12,e,2)}function $Q(t,e){return et(1+_v.count(Wa(t),t),e,3)}function X5(t,e){return et(t.getUTCMilliseconds(),e,3)}function FQ(t,e){return X5(t,e)+"000"}function HQ(t,e){return et(t.getUTCMonth()+1,e,2)}function KQ(t,e){return et(t.getUTCMinutes(),e,2)}function GQ(t,e){return et(t.getUTCSeconds(),e,2)}function YQ(t){var e=t.getUTCDay();return e===0?7:e}function WQ(t,e){return et(Sv.count(Wa(t)-1,t),e,2)}function Q5(t){var e=t.getUTCDay();return e>=4||e===0?cu(t):cu.ceil(t)}function XQ(t,e){return t=Q5(t),et(cu.count(Wa(t),t)+(Wa(t).getUTCDay()===4),e,2)}function QQ(t){return t.getUTCDay()}function ZQ(t,e){return et(_g.count(Wa(t)-1,t),e,2)}function JQ(t,e){return et(t.getUTCFullYear()%100,e,2)}function eZ(t,e){return t=Q5(t),et(t.getUTCFullYear()%100,e,2)}function tZ(t,e){return et(t.getUTCFullYear()%1e4,e,4)}function nZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cu(t):cu.ceil(t),et(t.getUTCFullYear()%1e4,e,4)}function rZ(){return"+0000"}function O3(){return"%"}function I3(t){return+t}function R3(t){return Math.floor(+t/1e3)}var Rc,Z5,J5;iZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iZ(t){return Rc=iQ(t),Z5=Rc.format,Rc.parse,J5=Rc.utcFormat,Rc.utcParse,Rc}function aZ(t){return new Date(t)}function sZ(t){return t instanceof Date?+t:+new Date(+t)}function nw(t,e,n,r,i,s,c,d,h,f){var p=q_(),v=p.invert,x=p.domain,_=f(".%L"),w=f(":%S"),E=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),O=f("%b %d"),R=f("%B"),L=f("%Y");function D(B){return(h(B)<B?_:d(B)<B?w:c(B)<B?E:s(B)<B?S:r(B)<B?i(B)<B?j:O:n(B)<B?R:L)(B)}return p.invert=function(B){return new Date(v(B))},p.domain=function(B){return arguments.length?x(Array.from(B,sZ)):x().map(aZ)},p.ticks=function(B){var C=x();return t(C[0],C[C.length-1],B??10)},p.tickFormat=function(B,C){return C==null?D:f(C)},p.nice=function(B){var C=x();return(!B||typeof B.range!="function")&&(B=e(C[0],C[C.length-1],B??10)),B?x(U5(C,B)):p},p.copy=function(){return uf(p,nw(t,e,n,r,i,s,c,d,h,f))},p}function oZ(){return ei.apply(nw(nQ,rQ,Ya,ew,wv,df,Z_,X_,rl,Z5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lZ(){return ei.apply(nw(eQ,tQ,Wa,tw,Sv,_v,J_,Q_,rl,J5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ev(){var t=0,e=1,n,r,i,s,c=Zn,d=!1,h;function f(v){return v==null||isNaN(v=+v)?h:c(i===0?.5:(v=(s(v)-n)*i,d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e]=v,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(c=v,f):c};function p(v){return function(x){var _,w;return arguments.length?([_,w]=x,c=v(_,w),f):[c(0),c(1)]}}return f.range=p(wu),f.rangeRound=p(B_),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return s=v,n=v(t),r=v(e),i=n===r?0:1/(r-n),f}}function uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eP(){var t=co(Ev()(Zn));return t.copy=function(){return uo(t,eP())},es.apply(t,arguments)}function tP(){var t=H_(Ev()).domain([1,10]);return t.copy=function(){return uo(t,tP()).base(t.base())},es.apply(t,arguments)}function nP(){var t=K_(Ev());return t.copy=function(){return uo(t,nP()).constant(t.constant())},es.apply(t,arguments)}function rw(){var t=G_(Ev());return t.copy=function(){return uo(t,rw()).exponent(t.exponent())},es.apply(t,arguments)}function cZ(){return rw.apply(null,arguments).exponent(.5)}function rP(){var t=[],e=Zn;function n(r){if(r!=null&&!isNaN(r=+r))return e((lf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>YW(t,s/r))},n.copy=function(){return rP(e).domain(t)},es.apply(n,arguments)}function Tv(){var t=0,e=.5,n=1,r=1,i,s,c,d,h,f=Zn,p,v=!1,x;function _(E){return isNaN(E=+E)?x:(E=.5+((E=+p(E))-s)*(r*E<r*s?d:h),f(v?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=p(t=+t),s=p(e=+e),c=p(n=+n),d=i===s?0:.5/(s-i),h=s===c?0:.5/(c-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(v=!!E,_):v},_.interpolator=function(E){return arguments.length?(f=E,_):f};function w(E){return function(S){var j,O,R;return arguments.length?([j,O,R]=S,f=_X(E,[j,O,R]),_):[f(0),f(.5),f(1)]}}return _.range=w(wu),_.rangeRound=w(B_),_.unknown=function(E){return arguments.length?(x=E,_):x},function(E){return p=E,i=E(t),s=E(e),c=E(n),d=i===s?0:.5/(s-i),h=s===c?0:.5/(c-s),r=s<i?-1:1,_}}function iP(){var t=co(Tv()(Zn));return t.copy=function(){return uo(t,iP())},es.apply(t,arguments)}function aP(){var t=H_(Tv()).domain([.1,1,10]);return t.copy=function(){return uo(t,aP()).base(t.base())},es.apply(t,arguments)}function sP(){var t=K_(Tv());return t.copy=function(){return uo(t,sP()).constant(t.constant())},es.apply(t,arguments)}function iw(){var t=G_(Tv());return t.copy=function(){return uo(t,iw()).exponent(t.exponent())},es.apply(t,arguments)}function uZ(){return iw.apply(null,arguments).exponent(.5)}const nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:V_,scaleDiverging:iP,scaleDivergingLog:aP,scaleDivergingPow:iw,scaleDivergingSqrt:uZ,scaleDivergingSymlog:sP,scaleIdentity:V5,scaleImplicit:qx,scaleLinear:L5,scaleLog:z5,scaleOrdinal:L_,scalePoint:QW,scalePow:Y_,scaleQuantile:$5,scaleQuantize:F5,scaleRadial:q5,scaleSequential:eP,scaleSequentialLog:tP,scaleSequentialPow:rw,scaleSequentialQuantile:rP,scaleSequentialSqrt:cZ,scaleSequentialSymlog:nP,scaleSqrt:FX,scaleSymlog:B5,scaleThreshold:H5,scaleTime:oZ,scaleUtc:lZ,tickFormat:M5},Symbol.toStringTag,{value:"Module"}));var Ml=t=>t.chartData,dZ=se([Ml],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),oP=(t,e,n,r)=>r?dZ(t):Ml(t);function uu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(pi(e)&&pi(n))return!0}return!1}function P3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function hZ(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(pi(n))i=n;else if(typeof n=="function")return;if(pi(r))s=r;else if(typeof r=="function")return;var c=[i,s];if(uu(c))return c}}function fZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(uu(r))return P3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,c,d;if(i==="auto")e!=null&&(c=Math.min(...e));else if(Te(i))c=i;else if(typeof i=="function")try{e!=null&&(c=i(e?.[0]))}catch{}else if(typeof i=="string"&&wN.test(i)){var h=wN.exec(i);if(h==null||e==null)c=void 0;else{var f=+h[1];c=e[0]-f}}else c=e?.[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Te(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e?.[1]))}catch{}else if(typeof s=="string"&&SN.test(s)){var p=SN.exec(s);if(p==null||e==null)d=void 0;else{var v=+p[1];d=e[1]+v}}else d=e?.[1];var x=[c,d];if(uu(x))return e==null?x:P3(x,e,n)}}}var Su=1e9,mZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sw,At=!0,Qr="[DecimalError] ",dl=Qr+"Invalid argument: ",aw=Qr+"Exponent out of range: ",Eu=Math.floor,Qo=Math.pow,pZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,wn=1e7,bt=7,lP=9007199254740991,wg=Eu(lP/bt),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return Ma(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return gt(Ma(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return tn(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Er))throw Error(Qr+"NaN");if(n.s<1)throw Error(Qr+(n.s?"NaN":"-Infinity"));return n.eq(Er)?new r(0):(At=!1,e=Ma(kh(n,s),kh(t,s),s),At=!0,gt(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dP(e,t):cP(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Qr+"NaN");return n.s?(At=!1,e=Ma(n,t,0,1).times(t),At=!0,n.minus(e)):gt(new r(n),i)};_e.naturalExponential=_e.exp=function(){return uP(this)};_e.naturalLogarithm=_e.ln=function(){return kh(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cP(e,t):dP(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dl+t);if(e=tn(i)+1,r=i.d.length-1,n=r*bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,i,s,c,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(Qr+"NaN")}for(t=tn(d),At=!1,i=Math.sqrt(+d),i==0||i==1/0?(e=Mi(d.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Eu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(i.toString()),n=h.precision,i=c=n+3;;)if(s=r,r=s.plus(Ma(d,s,c+2)).times(.5),Mi(s.d).slice(0,c)===(e=Mi(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(gt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return At=!0,gt(r,n)};_e.times=_e.mul=function(t){var e,n,r,i,s,c,d,h,f,p=this,v=p.constructor,x=p.d,_=(t=new v(t)).d;if(!p.s||!t.s)return new v(0);for(t.s*=p.s,n=p.e+t.e,h=x.length,f=_.length,h<f&&(s=x,x=_,_=s,c=h,h=f,f=c),s=[],c=h+f,r=c;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=h+r;i>r;)d=s[i]+_[r]*x[i-r-1]+e,s[i--]=d%wn|0,e=d/wn|0;s[i]=(s[i]+e)%wn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,At?gt(t,v.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Yi(t,0,Su),e===void 0?e=r.rounding:Yi(e,0,8),gt(n,t+tn(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sl(r,!0):(Yi(t,0,Su),e===void 0?e=i.rounding:Yi(e,0,8),r=gt(new i(r),t+1,e),n=Sl(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Sl(i):(Yi(t,0,Su),e===void 0?e=s.rounding:Yi(e,0,8),r=gt(new s(i),t+tn(i)+1,e),n=Sl(r.abs(),!1,t+tn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return gt(new e(t),tn(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,i,s,c,d=this,h=d.constructor,f=12,p=+(t=new h(t));if(!t.s)return new h(Er);if(d=new h(d),!d.s){if(t.s<1)throw Error(Qr+"Infinity");return d}if(d.eq(Er))return d;if(r=h.precision,t.eq(Er))return gt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=lP){for(i=new h(Er),e=Math.ceil(r/bt+4),At=!1;n%2&&(i=i.times(d),k3(i.d,e)),n=Eu(n/2),n!==0;)d=d.times(d),k3(d.d,e);return At=!0,t.s<0?new h(Er).div(i):gt(i,r)}}else if(s<0)throw Error(Qr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,At=!1,i=t.times(kh(d,r+f)),At=!0,i=uP(i),i.s=s,i};_e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=tn(i),r=Sl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Yi(t,1,Su),e===void 0?e=s.rounding:Yi(e,0,8),i=gt(new s(i),t,e),n=tn(i),r=Sl(i,t<=n||n<=s.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Yi(t,1,Su),e===void 0?e=r.rounding:Yi(e,0,8)),gt(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tn(t),n=t.constructor;return Sl(t,e<=n.toExpNeg||e>=n.toExpPos)};function cP(t,e){var n,r,i,s,c,d,h,f,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),At?gt(e,v):e;if(h=t.d,f=e.d,c=t.e,i=e.e,h=h.slice(),s=c-i,s){for(s<0?(r=h,s=-s,d=f.length):(r=f,i=c,d=h.length),c=Math.ceil(v/bt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=h.length,s=f.length,d-s<0&&(s=d,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/wn|0,h[s]%=wn;for(n&&(h.unshift(n),++i),d=h.length;h[--d]==0;)h.pop();return e.d=h,e.e=i,At?gt(e,v):e}function Yi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(dl+t)}function Mi(t){var e,n,r,i=t.length-1,s="",c=t[0];if(i>0){for(s+=c,e=1;e<i;e++)r=t[e]+"",n=bt-r.length,n&&(s+=Ds(n)),s+=r;c=t[e],r=c+"",n=bt-r.length,n&&(s+=Ds(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ma=function(){function t(r,i){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+c,r[d]=s%wn|0,c=s/wn|0;return c&&r.unshift(c),r}function e(r,i,s,c){var d,h;if(s!=c)h=s>c?1:-1;else for(d=h=0;d<s;d++)if(r[d]!=i[d]){h=r[d]>i[d]?1:-1;break}return h}function n(r,i,s){for(var c=0;s--;)r[s]-=c,c=r[s]<i[s]?1:0,r[s]=c*wn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,c){var d,h,f,p,v,x,_,w,E,S,j,O,R,L,D,B,C,P,M=r.constructor,F=r.s==i.s?1:-1,$=r.d,H=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Qr+"Division by zero");for(h=r.e-i.e,C=H.length,D=$.length,_=new M(F),w=_.d=[],f=0;H[f]==($[f]||0);)++f;if(H[f]>($[f]||0)&&--h,s==null?O=s=M.precision:c?O=s+(tn(r)-tn(i))+1:O=s,O<0)return new M(0);if(O=O/bt+2|0,f=0,C==1)for(p=0,H=H[0],O++;(f<D||p)&&O--;f++)R=p*wn+($[f]||0),w[f]=R/H|0,p=R%H|0;else{for(p=wn/(H[0]+1)|0,p>1&&(H=t(H,p),$=t($,p),C=H.length,D=$.length),L=C,E=$.slice(0,C),S=E.length;S<C;)E[S++]=0;P=H.slice(),P.unshift(0),B=H[0],H[1]>=wn/2&&++B;do p=0,d=e(H,E,C,S),d<0?(j=E[0],C!=S&&(j=j*wn+(E[1]||0)),p=j/B|0,p>1?(p>=wn&&(p=wn-1),v=t(H,p),x=v.length,S=E.length,d=e(v,E,x,S),d==1&&(p--,n(v,C<x?P:H,x))):(p==0&&(d=p=1),v=H.slice()),x=v.length,x<S&&v.unshift(0),n(E,v,S),d==-1&&(S=E.length,d=e(H,E,C,S),d<1&&(p++,n(E,C<S?P:H,S))),S=E.length):d===0&&(p++,E=[0]),w[f++]=p,d&&E[0]?E[S++]=$[L]||0:(E=[$[L]],S=1);while((L++<D||E[0]!==void 0)&&O--)}return w[0]||w.shift(),_.e=h,gt(_,c?s+tn(_)+1:s)}}();function uP(t,e){var n,r,i,s,c,d,h=0,f=0,p=t.constructor,v=p.precision;if(tn(t)>16)throw Error(aw+tn(t));if(!t.s)return new p(Er);for(At=!1,d=v,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(r=Math.log(Qo(2,f))/Math.LN10*2+5|0,d+=r,n=i=s=new p(Er),p.precision=d;;){if(i=gt(i.times(t),d),n=n.times(++h),c=s.plus(Ma(i,n,d)),Mi(c.d).slice(0,d)===Mi(s.d).slice(0,d)){for(;f--;)s=gt(s.times(s),d);return p.precision=v,e==null?(At=!0,gt(s,v)):s}s=c}}function tn(t){for(var e=t.e*bt,n=t.d[0];n>=10;n/=10)e++;return e}function b2(t,e,n){if(e>t.LN10.sd())throw At=!0,n&&(t.precision=n),Error(Qr+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Ds(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,i,s,c,d,h,f,p,v=1,x=10,_=t,w=_.d,E=_.constructor,S=E.precision;if(_.s<1)throw Error(Qr+(_.s?"NaN":"-Infinity"));if(_.eq(Er))return new E(0);if(e==null?(At=!1,f=S):f=e,_.eq(10))return e==null&&(At=!0),b2(E,f);if(f+=x,E.precision=f,n=Mi(w),r=n.charAt(0),s=tn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Mi(_.d),r=n.charAt(0),v++;s=tn(_),r>1?(_=new E("0."+n),s++):_=new E(r+"."+n.slice(1))}else return h=b2(E,f+2,S).times(s+""),_=kh(new E(r+"."+n.slice(1)),f-x).plus(h),E.precision=S,e==null?(At=!0,gt(_,S)):_;for(d=c=_=Ma(_.minus(Er),_.plus(Er),f),p=gt(_.times(_),f),i=3;;){if(c=gt(c.times(p),f),h=d.plus(Ma(c,new E(i),f)),Mi(h.d).slice(0,f)===Mi(d.d).slice(0,f))return d=d.times(2),s!==0&&(d=d.plus(b2(E,f+2,S).times(s+""))),d=Ma(d,new E(v),f),E.precision=S,e==null?(At=!0,gt(d,S)):d;d=h,i+=2}}function D3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Eu(n/bt),t.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=bt;r<i;)t.d.push(+e.slice(r,r+=bt));e=e.slice(r),r=bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),At&&(t.e>wg||t.e<-wg))throw Error(aw+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,s,c,d,h,f,p,v=t.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=bt,i=e,f=v[p=0];else{if(p=Math.ceil((r+1)/bt),s=v.length,p>=s)return t;for(f=s=v[p],c=1;s>=10;s/=10)c++;r%=bt,i=r-bt+c}if(n!==void 0&&(s=Qo(10,c-i-1),d=f/s%10|0,h=e<0||v[p+1]!==void 0||f%s,h=n<4?(d||h)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?i>0?f/Qo(10,c-i):0:v[p-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return h?(s=tn(t),v.length=1,e=e-s-1,v[0]=Qo(10,(bt-e%bt)%bt),t.e=Eu(-e/bt)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=Qo(10,bt-r),v[p]=i>0?(f/Qo(10,c-i)%Qo(10,i)|0)*s:0),h)for(;;)if(p==0){(v[0]+=s)==wn&&(v[0]=1,++t.e);break}else{if(v[p]+=s,v[p]!=wn)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(At&&(t.e>wg||t.e<-wg))throw Error(aw+tn(t));return t}function dP(t,e){var n,r,i,s,c,d,h,f,p,v,x=t.constructor,_=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),At?gt(e,_):e;if(h=t.d,v=e.d,r=e.e,f=t.e,h=h.slice(),c=f-r,c){for(p=c<0,p?(n=h,c=-c,d=v.length):(n=v,r=f,d=h.length),i=Math.max(Math.ceil(_/bt),d)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=h.length,d=v.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(h[i]!=v[i]){p=h[i]<v[i];break}c=0}for(p&&(n=h,h=v,v=n,e.s=-e.s),d=h.length,i=v.length-d;i>0;--i)h[d++]=0;for(i=v.length;i>c;){if(h[--i]<v[i]){for(s=i;s&&h[--s]===0;)h[s]=wn-1;--h[s],h[i]+=wn}h[i]-=v[i]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,At?gt(e,_):e):new x(0)}function Sl(t,e,n){var r,i=tn(t),s=Mi(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Ds(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ds(-i-1)+s,n&&(r=n-c)>0&&(s+=Ds(r))):i>=c?(s+=Ds(i+1-c),n&&(r=n-i-1)>0&&(s=s+"."+Ds(r))):((r=i+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(s+="."),s+=Ds(r))),t.s<0?"-"+s:s}function k3(t,e){if(t.length>e)return t.length=e,!0}function hP(t){var e,n,r;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(dl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return D3(c,s.toString())}else if(typeof s!="string")throw Error(dl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,pZ.test(s))D3(c,s);else throw Error(dl+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hP,i.config=i.set=gZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function gZ(t){if(!t||typeof t!="object")throw Error(Qr+"Object expected");var e,n,r,i=["precision",1,Su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Eu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(dl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dl+n+": "+r);return this}var sw=hP(mZ);Er=new sw(1);const lt=sw;var vZ=t=>t,fP={},mP=t=>t===fP,M3=t=>function e(){return arguments.length===0||arguments.length===1&&mP(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},pP=(t,e)=>t===1?e:M3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(c=>c!==fP).length;return s>=t?e(...r):pP(t-s,M3(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var f=r.map(p=>mP(p)?d.shift():p);return e(...f,...d)}))}),Av=t=>pP(t.length,t),Kx=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},yZ=Av((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),xZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return vZ;var i=n.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((d,h)=>h(d),s(...arguments))}},Gx=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),gP=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((c,d)=>{var h;return c===((h=e)===null||h===void 0?void 0:h[d])})||(e=i,n=t(...i)),n}};function vP(t){var e;return t===0?e=1:e=Math.floor(new lt(t).abs().log(10).toNumber())+1,e}function yP(t,e,n){for(var r=new lt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Av((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Av((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Av((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var xP=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},bP=(t,e,n)=>{if(t.lte(0))return new lt(0);var r=vP(t.toNumber()),i=new lt(10).pow(r),s=t.div(i),c=r!==1?.05:.1,d=new lt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),h=d.mul(i);return e?new lt(h.toNumber()):new lt(Math.ceil(h.toNumber()))},bZ=(t,e,n)=>{var r=new lt(1),i=new lt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new lt(10).pow(vP(t)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new lt(Math.floor(t)))}else t===0?i=new lt(Math.floor((e-1)/2)):n||(i=new lt(Math.floor(t)));var c=Math.floor((e-1)/2),d=xZ(yZ(h=>i.add(new lt(h-c).mul(r)).toNumber()),Kx);return d(0,e)},_P=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var c=bP(new lt(n).sub(e).div(r-1),i,s),d;e<=0&&n>=0?d=new lt(0):(d=new lt(e).add(n).div(2),d=d.sub(new lt(d).mod(c)));var h=Math.ceil(d.sub(e).div(c).toNumber()),f=Math.ceil(new lt(n).sub(d).div(c).toNumber()),p=h+f+1;return p>r?_P(e,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:c,tickMin:d.sub(new lt(h).mul(c)),tickMax:d.add(new lt(f).mul(c))})};function _Z(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[c,d]=xP([e,n]);if(c===-1/0||d===1/0){var h=d===1/0?[c,...Kx(0,r-1).map(()=>1/0)]:[...Kx(0,r-1).map(()=>-1/0),d];return e>n?Gx(h):h}if(c===d)return bZ(c,r,i);var{step:f,tickMin:p,tickMax:v}=_P(c,d,s,i,0),x=yP(p,v.add(new lt(.1).mul(f)),f);return e>n?Gx(x):x}function wZ(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=xP([n,r]);if(s===-1/0||c===1/0)return[n,r];if(s===c)return[s];var d=Math.max(e,2),h=bP(new lt(c).sub(s).div(d-1),i,0),f=[...yP(new lt(s),new lt(c),h),c];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?Gx(f):f}var SZ=gP(_Z),EZ=gP(wZ),TZ=t=>t.rootProps.barCategoryGap,jv=t=>t.rootProps.stackOffset,ow=t=>t.options.chartName,lw=t=>t.rootProps.syncId,wP=t=>t.rootProps.syncMethod,cw=t=>t.options.eventEmitter,Ta={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_r={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Nv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},AZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ta.angleAxisId,includeHidden:!1,name:void 0,reversed:Ta.reversed,scale:Ta.scale,tick:Ta.tick,tickCount:void 0,ticks:void 0,type:Ta.type,unit:void 0},jZ={allowDataOverflow:_r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,ticks:void 0,type:_r.type,unit:void 0},NZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ta.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ta.scale,tick:Ta.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CZ={allowDataOverflow:_r.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,ticks:void 0,type:"category",unit:void 0},uw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?NZ:AZ,dw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?CZ:jZ,Cv=t=>t.polarOptions,hw=se([Za,Ja,Ln],MG),SP=se([Cv,hw],(t,e)=>{if(t!=null)return ro(t.innerRadius,e,0)}),EP=se([Cv,hw],(t,e)=>{if(t!=null)return ro(t.outerRadius,e,e*.8)}),OZ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},TP=se([Cv],OZ);se([uw,TP],Nv);var AP=se([hw,SP,EP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([dw,AP],Nv);var IZ=se([Ft,Cv,SP,EP,Za,Ja],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:h,endAngle:f}=e;return{cx:ro(c,i,i/2),cy:ro(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),En=(t,e)=>e,Ov=(t,e,n)=>n;function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=PZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yx=[0,"auto"],xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ts=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??xr},br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vv},ho=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??br},qs={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??qs},cr=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ho(t,n);case"zAxis":return fw(t,n);case"angleAxis":return uw(t,n);case"radiusAxis":return dw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kZ=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ho(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hf=(t,e,n)=>{switch(e){case"xAxis":return ts(t,n);case"yAxis":return ho(t,n);case"angleAxis":return uw(t,n);case"radiusAxis":return dw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jP=t=>t.graphicalItems.countOfBars>0;function NP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var CP=t=>t.graphicalItems.cartesianItems,MZ=se([En,Ov],NP),OP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ff=se([CP,cr,MZ],OP),IP=t=>t.filter(e=>e.stackId===void 0),LZ=se([ff],IP),RP=t=>t.map(e=>e.data).filter(Boolean).flat(1),VZ=se([ff],RP),PP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Iv=se([VZ,oP],PP),DP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Jn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Jn(i,r)}))):t.map(r=>({value:r})),Rv=se([Iv,cr,ff],DP);function kP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ll(t){return t.filter(e=>Gi(e)||e instanceof Date).map(Number).filter(e=>Wr(e)===!1)}function UZ(t,e,n){return!n||typeof e!="number"||Wr(e)?[]:n.length?Ll(n.flatMap(r=>{var i=Jn(t,r.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!pi(s)||!pi(c)))return[e-s,e+c]})):[]}var MP=(t,e,n)=>{var r={},i=e.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[c,d]=s,h=d.map(f=>f.dataKey);return[c,{stackedData:QG(t,h,n),graphicalItems:d}]}))},zZ=se([Iv,ff,jv],MP),LP=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=tY(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},BZ=se([zZ,Ml,En],LP),VP=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var c,d,h=(c=s.errorBars)===null||c===void 0?void 0:c.filter(p=>kP(r,p)),f=Jn(i,(d=e.dataKey)!==null&&d!==void 0?d:s.dataKey);return{value:f,errorDomain:UZ(i,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(i=>({value:Jn(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),qZ=se(Iv,cr,LZ,En,VP);function $Z(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var FZ=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ll(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HZ=(t,e,n)=>{var r=t.map($Z).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&rR(r))?A5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},mw=t=>{var e;if(t==null||!("domain"in t))return Yx;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ll(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Yx},pw=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},UP=t=>t.referenceElements.dots,Tu=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),KZ=se([UP,En,Ov],Tu),zP=t=>t.referenceElements.areas,GZ=se([zP,En,Ov],Tu),BP=t=>t.referenceElements.lines,YZ=se([BP,En,Ov],Tu),qP=(t,e)=>{var n=Ll(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},WZ=se(KZ,En,qP),$P=(t,e)=>{var n=Ll(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XZ=se([GZ,En],$P),FP=(t,e)=>{var n=Ll(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},QZ=se(YZ,En,FP),ZZ=se(WZ,QZ,XZ,(t,e,n)=>pw(t,n,e)),JZ=se([cr],mw),HP=(t,e,n,r,i)=>{var s=hZ(e,t.allowDataOverflow);return s??fZ(e,pw(n,i,FZ(r)),t.allowDataOverflow)},eJ=se([cr,JZ,BZ,qZ,ZZ],HP),tJ=[0,1],KP=(t,e,n,r,i,s,c)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:d,type:h}=t,f=Rl(e,s);return f&&d==null?A5(0,n.length):h==="category"?HZ(r,t,f):i==="expand"?tJ:c}},gw=se([cr,Ft,Iv,Rv,jv,En,eJ],KP),GP=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(af(s));return d in nh?d:"point"}}},mf=se([cr,Ft,jP,ow,En],GP);function nJ(t){if(t!=null){if(t in nh)return nh[t]();var e="scale".concat(af(t));if(e in nh)return nh[e]()}}function vw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=nJ(e);if(i!=null){var s=i.domain(n).range(r);return GG(s),s}}}var YP=(t,e,n)=>{var r=mw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&uu(t))return SZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&uu(t))return EZ(t,e.tickCount,e.allowDecimals)}},yw=se([gw,hf,mf],YP),WP=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&uu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(i,s),Math.max(c,d)]}return e},rJ=se([cr,gw,yw,En],WP),iJ=se(Rv,cr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ll(t.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/i}}),XP=se(iJ,Ft,TZ,Ln,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!pi(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var c=ro(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),aJ=(t,e)=>{var n=ts(t,e);return n==null||typeof n.padding!="string"?0:XP(t,"xAxis",e,n.padding)},sJ=(t,e)=>{var n=ho(t,e);return n==null||typeof n.padding!="string"?0:XP(t,"yAxis",e,n.padding)},oJ=se(ts,aJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),lJ=se(ho,sJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),cJ=se([Ln,oJ,xv,yv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),uJ=se([Ln,Ft,lJ,xv,yv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:c}=i;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),pf=(t,e,n,r)=>{var i;switch(e){case"xAxis":return cJ(t,n,r);case"yAxis":return uJ(t,n,r);case"zAxis":return(i=fw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return TP(t);case"radiusAxis":return AP(t,n);default:return}},QP=se([cr,pf],Nv),Au=se([cr,mf,rJ,QP],vw);se(ff,En,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>kP(e,n)));function ZP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Pv=(t,e)=>e,Dv=(t,e,n)=>n,dJ=se(R_,Pv,Dv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ZP)),hJ=se(P_,Pv,Dv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(ZP)),JP=(t,e)=>({width:t.width,height:e.height}),fJ=(t,e)=>{var n=typeof e.width=="number"?e.width:vv;return{width:n,height:t.height}},mJ=se(Ln,ts,JP),pJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},gJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},vJ=se(Ja,Ln,dJ,Pv,Dv,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var h=JP(e,d);c==null&&(c=pJ(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;s[d.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),s}),yJ=se(Za,Ln,hJ,Pv,Dv,(t,e,n,r,i)=>{var s={},c;return n.forEach(d=>{var h=fJ(e,d);c==null&&(c=gJ(e,r,t));var f=r==="left"&&!i||r==="right"&&i;s[d.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),s}),xJ=(t,e)=>{var n=Ln(t),r=ts(t,e);if(r!=null){var i=vJ(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},bJ=(t,e)=>{var n=Ln(t),r=ho(t,e);if(r!=null){var i=yJ(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},_J=se(Ln,ho,(t,e)=>{var n=typeof e.width=="number"?e.width:vv;return{width:n,height:t.height}}),e8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=n,d=Rl(t,r),h=e.map(f=>f.value);if(c&&d&&s==="category"&&i&&rR(h))return h}},xw=se([Ft,Rv,cr,En],e8),t8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,c=Rl(t,r);if(c&&(i==="number"||s!=="auto"))return e.map(d=>d.value)}},bw=se([Ft,Rv,hf,En],t8),V3=se([Ft,kZ,mf,Au,xw,bw,pf,yw,En],(t,e,n,r,i,s,c,d,h)=>{if(e==null)return null;var f=Rl(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:d,range:c,realScaleType:n,scale:r}}),wJ=(t,e,n,r,i,s,c,d,h)=>{if(!(e==null||r==null)){var f=Rl(t,h),{type:p,ticks:v,tickCount:x}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/_:0;w=h==="angleAxis"&&s!=null&&s.length>=2?Kr(s[0]-s[1])*2*w:w;var E=v||i;if(E){var S=E.map((j,O)=>{var R=c?c.indexOf(j):j;return{index:O,coordinate:r(R)+w,value:j,offset:w}});return S.filter(j=>!Wr(j.coordinate))}return f&&d?d.map((j,O)=>({coordinate:r(j)+w,value:j,index:O,offset:w})):r.ticks?r.ticks(x).map(j=>({coordinate:r(j)+w,value:j,offset:w})):r.domain().map((j,O)=>({coordinate:r(j)+w,value:c?c[j]:j,index:O,offset:w}))}},n8=se([Ft,hf,mf,Au,yw,pf,xw,bw,En],wJ),SJ=(t,e,n,r,i,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=Rl(t,c),{tickCount:h}=e,f=0;return f=c==="angleAxis"&&r?.length>=2?Kr(r[0]-r[1])*2*f:f,d&&s?s.map((p,v)=>({coordinate:n(p)+f,value:p,index:v,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,v)=>({coordinate:n(p)+f,value:i?i[p]:p,index:v,offset:f}))}},r8=se([Ft,hf,Au,pf,xw,bw,En],SJ),i8=se(cr,Au,(t,e)=>{if(!(t==null||e==null))return Sg(Sg({},t),{},{scale:e})}),EJ=se([cr,mf,gw,QP],vw),TJ=se((t,e,n)=>fw(t,n),EJ,(t,e)=>{if(!(t==null||e==null))return Sg(Sg({},t),{},{scale:e})}),AJ=se([Ft,R_,P_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a8=t=>t.options.defaultTooltipEventType,s8=t=>t.options.validateTooltipEventTypes;function o8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function _w(t,e){var n=a8(t),r=s8(t);return o8(e,n,r)}function jJ(t){return Re(e=>_w(e,t))}var l8=(t,e)=>{var n,r=Number(e);if(!(Wr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},NJ=t=>t.tooltip.settings,Us={active:!1,index:null,dataKey:void 0,coordinate:void 0},CJ={itemInteraction:{click:Us,hover:Us},axisInteraction:{click:Us,hover:Us},keyboardInteraction:Us,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},c8=Zr({name:"tooltip",initialState:CJ,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ka(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:OJ,removeTooltipEntrySettings:IJ,setTooltipSettingsState:RJ,setActiveMouseOverItemIndex:u8,mouseLeaveItem:PJ,mouseLeaveChart:d8,setActiveClickItemIndex:DJ,setMouseOverAxisIndex:h8,setMouseClickAxisIndex:kJ,setSyncInteraction:Wx,setKeyboardInteraction:Xx}=c8.actions,MJ=c8.reducer;function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return(e=VJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zJ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function BJ(t){return t.index!=null}var f8=(t,e,n,r)=>{if(e==null)return Us;var i=zJ(t,e,n);if(i==null)return Us;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(BJ(i)){if(s)return op(op({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return op(op({},Us),{},{coordinate:i.coordinate})},ww=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!pi(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},m8=(t,e,n,r,i,s,c,d)=>{if(!(s==null||d==null)){var h=c[0],f=h==null?void 0:d(h.positions,s);if(f!=null)return f;var p=i?.[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},p8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===i})},gf=t=>t.options.tooltipPayloadSearcher,ju=t=>t.tooltip;function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){qJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HJ(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function KJ(t,e){return t??e}var g8=(t,e,n,r,i,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,v=[];return t.reduce((x,_)=>{var w,{dataDefinedOnItem:E,settings:S}=_,j=KJ(E,d),O=HJ(j,f,p),R=(w=S?.dataKey)!==null&&w!==void 0?w:r?.dataKey,L=S?.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(O)&&!Array.isArray(O[0])&&c==="axis"?D=iR(O,r.dataKey,i):D=s(O,e,h,L),Array.isArray(D))D.forEach(C=>{var P=B3(B3({},S),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});x.push(EN({tooltipEntrySettings:P,dataKey:C.dataKey,payload:C.payload,value:Jn(C.payload,C.dataKey),name:C.name}))});else{var B;x.push(EN({tooltipEntrySettings:S,dataKey:R,payload:D,value:Jn(D,R),name:(B=Jn(D,L))!==null&&B!==void 0?B:S?.name}))}return x},v)}},Tn=t=>{var e=Ft(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nu=t=>t.tooltip.settings.axisId,Vn=t=>{var e=Tn(t),n=Nu(t);return hf(t,e,n)},Sw=se([Vn,Ft,jP,ow,Tn],GP),GJ=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),YJ=se([Tn,Nu],NP),kv=se([GJ,Vn,YJ],OP),WJ=se([kv],RP),Vl=se([WJ,Ml],PP),Ew=se([Vl,Vn,kv],DP),XJ=se([Vn],mw),QJ=se([Vl,kv,jv],MP),ZJ=se([QJ,Ml,Tn],LP),JJ=se([kv],IP),eee=se([Vl,Vn,JJ,Tn],VP),tee=se([UP,Tn,Nu],Tu),nee=se([tee,Tn],qP),ree=se([zP,Tn,Nu],Tu),iee=se([ree,Tn],$P),aee=se([BP,Tn,Nu],Tu),see=se([aee,Tn],FP),oee=se([nee,see,iee],pw),lee=se([Vn,XJ,ZJ,eee,oee],HP),v8=se([Vn,Ft,Vl,Ew,jv,Tn,lee],KP),cee=se([v8,Vn,Sw],YP),uee=se([Vn,v8,cee,Tn],WP),y8=t=>{var e=Tn(t),n=Nu(t),r=!1;return pf(t,e,n,r)},x8=se([Vn,y8],Nv),b8=se([Vn,Sw,uee,x8],vw),dee=se([Ft,Ew,Vn,Tn],e8),hee=se([Ft,Ew,Vn,Tn],t8),fee=(t,e,n,r,i,s,c,d)=>{if(e){var{type:h}=e,f=Rl(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=d==="angleAxis"&&i!=null&&i?.length>=2?Kr(i[0]-i[1])*2*v:v,f&&c?c.map((x,_)=>({coordinate:r(x)+v,value:x,index:_,offset:v})):r.domain().map((x,_)=>({coordinate:r(x)+v,value:s?s[x]:x,index:_,offset:v}))}}},ns=se([Ft,Vn,Sw,b8,y8,dee,hee,Tn],fee),Tw=se([a8,s8,NJ],(t,e,n)=>o8(n.shared,t,e)),_8=t=>t.tooltip.settings.trigger,Aw=t=>t.tooltip.settings.defaultIndex,Mv=se([ju,Tw,_8,Aw],f8),Mh=se([Mv,Vl],ww),w8=se([ns,Mh],l8),mee=se([Mv],t=>{if(t)return t.dataKey}),S8=se([ju,Tw,_8,Aw],p8),pee=se([Za,Ja,Ft,Ln,ns,Aw,S8,gf],m8),gee=se([Mv,pee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),vee=se([Mv],t=>t.active),yee=se([S8,Mh,Ml,Vn,w8,gf,Tw],g8);se([yee],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){xee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xee(t,e,n){return(e=bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wee=()=>Re(Vn),See=()=>{var t=wee(),e=Re(ns),n=Re(b8);return nY($3($3({},t),{},{scale:n}),e)},Eee=()=>Re(ow),jw=(t,e)=>e,E8=(t,e,n)=>n,Nw=(t,e,n,r)=>r,Tee=se(ns,t=>uv(t,e=>e.coordinate)),Cw=se([ju,jw,E8,Nw],f8),T8=se([Cw,Vl],ww),Aee=(t,e,n)=>{if(e!=null){var r=ju(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},A8=se([ju,jw,E8,Nw],p8),Eg=se([Za,Ja,Ft,Ln,ns,Nw,A8,gf],m8),jee=se([Cw,Eg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),j8=se(ns,T8,l8),Nee=se([A8,T8,Ml,Vn,j8,gf,jw],g8),Cee=se([Cw],t=>({isActive:t.active,activeIndex:t.index})),Oee=(t,e,n,r,i,s,c,d)=>{if(!(!t||!e||!r||!i||!s)){var h=rY(t.chartX,t.chartY,e,n,d);if(h){var f=aY(h,e),p=HG(f,c,s,r,i),v=iY(e,s,p,h);return{activeIndex:String(p),activeCoordinate:v}}}};function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(null,arguments)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=Ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dee(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:h,chartName:f}=t,p=e,v=n,x=r;if(!d||!p||f!=="ScatterChart"&&h!=="axis")return null;var _,w;if(f==="ScatterChart")_=p,w=FY;else if(f==="BarChart")_=HY(c,p,i,s),w=w5;else if(c==="radial"){var{cx:E,cy:S,radius:j,startAngle:O,endAngle:R}=S5(p);_={cx:E,cy:S,startAngle:O,endAngle:R,innerRadius:j,outerRadius:j},w=T5}else _={points:IW(c,p,i)},w=y5;var L=typeof d=="object"&&"className"in d?d.className:void 0,D=lp(lp(lp(lp({stroke:"#ccc",pointerEvents:"none"},i),_),Tt(d,!1)),{},{payload:v,payloadIndex:x,className:wt("recharts-tooltip-cursor",L)});return A.isValidElement(d)?A.cloneElement(d,D):A.createElement(w,D)}function kee(t){var e=See(),n=h5(),r=p5(),i=Eee();return A.createElement(Dee,Qx({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var N8=A.createContext(null),Mee=()=>A.useContext(N8),_2={exports:{}},H3;function Lee(){return H3||(H3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function s(h,f,p,v,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,v||h,x),w=n?n+f:f;return h._events[w]?h._events[w].fn?h._events[w]=[h._events[w],_]:h._events[w].push(_):(h._events[w]=_,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)e.call(p,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=n?n+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,_=v.length,w=new Array(_);x<_;x++)w[x]=v[x].fn;return w},d.prototype.listenerCount=function(f){var p=n?n+f:f,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(f,p,v,x,_,w){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],j=arguments.length,O,R;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,v),!0;case 4:return S.fn.call(S.context,p,v,x),!0;case 5:return S.fn.call(S.context,p,v,x,_),!0;case 6:return S.fn.call(S.context,p,v,x,_,w),!0}for(R=1,O=new Array(j-1);R<j;R++)O[R-1]=arguments[R];S.fn.apply(S.context,O)}else{var L=S.length,D;for(R=0;R<L;R++)switch(S[R].once&&this.removeListener(f,S[R].fn,void 0,!0),j){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,v);break;case 4:S[R].fn.call(S[R].context,p,v,x);break;default:if(!O)for(D=1,O=new Array(j-1);D<j;D++)O[D-1]=arguments[D];S[R].fn.apply(S[R].context,O)}}return!0},d.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},d.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},d.prototype.removeListener=function(f,p,v,x){var _=n?n+f:f;if(!this._events[_])return this;if(!p)return c(this,_),this;var w=this._events[_];if(w.fn)w.fn===p&&(!x||w.once)&&(!v||w.context===v)&&c(this,_);else{for(var E=0,S=[],j=w.length;E<j;E++)(w[E].fn!==p||x&&!w[E].once||v&&w[E].context!==v)&&S.push(w[E]);S.length?this._events[_]=S.length===1?S[0]:S:c(this,_)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d}(_2)),_2.exports}var Vee=Lee();const Uee=Wi(Vee);var Lh=new Uee,Zx="recharts.syncEvent.tooltip",K3="recharts.syncEvent.brush";function zee(t,e){if(e){var n=Number.parseInt(e,10);if(!Wr(n))return t?.[n]}}var Bee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},C8=Zr({name:"options",initialState:Bee,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qee=C8.reducer,{createEventEmitter:$ee}=C8.actions;function Fee(t){return t.tooltip.syncInteraction}var Hee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},O8=Zr({name:"chartData",initialState:Hee,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:G3,setDataStartEndIndexes:Kee,setComputedData:Use}=O8.actions,Gee=O8.reducer,I8=()=>{};function Yee(){var t=Re(lw),e=Re(cw),n=hn(),r=Re(wP),i=Re(ns),s=p5(),c=D_(),d=Re(h=>h.rootProps.className);A.useEffect(()=>{if(t==null)return I8;var h=(f,p,v)=>{if(e!==v&&t===f){if(r==="index"){n(p);return}if(i!=null){var x;if(typeof r=="function"){var _={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},w=r(i,_);x=i[w]}else r==="value"&&(x=i.find(B=>String(B.value)===p.payload.label));var{coordinate:E}=p.payload;if(x==null||p.payload.active===!1||E==null||c==null){n(Wx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:j}=E,O=Math.min(S,c.x+c.width),R=Math.min(j,c.y+c.height),L={x:s==="horizontal"?x.coordinate:O,y:s==="horizontal"?R:x.coordinate},D=Wx({active:p.payload.active,coordinate:L,dataKey:p.payload.dataKey,index:String(x.index),label:p.payload.label});n(D)}}};return Lh.on(Zx,h),()=>{Lh.off(Zx,h)}},[d,n,e,t,r,i,s,c])}function Wee(){var t=Re(lw),e=Re(cw),n=hn();A.useEffect(()=>{if(t==null)return I8;var r=(i,s,c)=>{e!==c&&t===i&&n(Kee(s))};return Lh.on(K3,r),()=>{Lh.off(K3,r)}},[n,e,t])}function Xee(){var t=hn();A.useEffect(()=>{t($ee())},[t]),Yee(),Wee()}function Qee(t,e,n,r,i,s){var c=Re(x=>Aee(x,t,e)),d=Re(cw),h=Re(lw),f=Re(wP),p=Re(Fee),v=p?.active;A.useEffect(()=>{if(!v&&h!=null&&d!=null){var x=Wx({active:s,coordinate:n,dataKey:c,index:i,label:typeof r=="number"?String(r):r});Lh.emit(Zx,h,x,d)}},[v,n,c,i,r,d,h,f,s])}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=Jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t){return t.dataKey}function nte(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(wY,e)}var X3=[],rte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!of.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ite(t){var e=Pl(t,rte),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:c,filterNull:d,isAnimationActive:h,offset:f,payloadUniqBy:p,position:v,reverseDirection:x,useTranslate3d:_,wrapperStyle:w,cursor:E,shared:S,trigger:j,defaultIndex:O,portal:R,axisId:L}=e,D=hn(),B=typeof O=="number"?String(O):O;A.useEffect(()=>{D(RJ({shared:S,trigger:j,axisId:L,active:n,defaultIndex:B}))},[D,S,j,L,n,B]);var C=D_(),P=v5(),M=jJ(S),{activeIndex:F,isActive:$}=Re(je=>Cee(je,M,j,B)),H=Re(je=>Nee(je,M,j,B)),U=Re(je=>j8(je,M,j,B)),pe=Re(je=>jee(je,M,j,B)),ve=H,q=Mee(),z=n??$,[J,fe]=DK([ve,z]),K=M==="axis"?U:void 0;Qee(M,j,pe,K,F,z);var ie=R??q;if(ie==null)return null;var re=ve??X3;z||(re=X3),d&&re.length&&(re=sK(ve.filter(je=>je.value!=null&&(je.hide!==!0||e.includeHidden)),p,tte));var de=re.length>0,Se=A.createElement(CY,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:h,active:z,coordinate:pe,hasPayload:de,offset:f,position:v,reverseDirection:x,useTranslate3d:_,viewBox:C,wrapperStyle:w,lastBoundingBox:J,innerRef:fe,hasPortalFromProps:!!R},nte(c,W3(W3({},e),{},{payload:re,label:K,active:z,coordinate:pe,accessibilityLayer:P})));return A.createElement(A.Fragment,null,vM.createPortal(Se,ie),z&&A.createElement(kee,{cursor:E,tooltipEventType:M,coordinate:pe,payload:ve,index:F}))}var w2={},S2={},Q3;function ate(){return Q3||(Q3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,c=null,d=null,h=0,f=null,p;const{leading:v=!1,trailing:x=!0,maxWait:_}=i,w="maxWait"in i,E=w?Math.max(Number(_)||0,r):0,S=C=>(s!==null&&(p=n.apply(c,s)),s=c=null,h=C,p),j=C=>(h=C,f=setTimeout(D,r),v&&s!==null?S(C):p),O=C=>(f=null,x&&s!==null?S(C):p),R=C=>{if(d===null)return!0;const P=C-d,M=P>=r||P<0,F=w&&C-h>=E;return M||F},L=C=>{const P=d===null?0:C-d,M=r-P,F=E-(C-h);return w?Math.min(M,F):M},D=()=>{const C=Date.now();if(R(C))return O(C);f=setTimeout(D,L(C))},B=function(...C){const P=Date.now(),M=R(P);if(s=C,c=this,d=P,M){if(f===null)return j(P);if(w)return clearTimeout(f),f=setTimeout(D,r),S(P)}return f===null&&(f=setTimeout(D,r)),p};return B.cancel=()=>{f!==null&&clearTimeout(f),h=0,d=s=c=f=null},B.flush=()=>f===null?p:O(Date.now()),B}t.debounce=e}(S2)),S2}var Z3;function ste(){return Z3||(Z3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ate();function n(r,i=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,i,{leading:c,maxWait:i,trailing:d})}t.throttle=n}(w2)),w2}var E2,J3;function ote(){return J3||(J3=1,E2=ste().throttle),E2}var lte=ote();const cte=Wi(lte);var dh=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e,n){return(e=dte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dte(t){var e=hte(t,"string");return typeof e=="symbol"?e:e+""}function hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fte=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:c=0,minHeight:d,maxHeight:h,children:f,debounce:p=0,id:v,className:x,onResize:_,style:w={}}=t,E=A.useRef(null),S=A.useRef();S.current=_,A.useImperativeHandle(e,()=>E.current);var[j,O]=A.useState({containerWidth:r.width,containerHeight:r.height}),R=A.useCallback((D,B)=>{O(C=>{var P=Math.round(D),M=Math.round(B);return C.containerWidth===P&&C.containerHeight===M?C:{containerWidth:P,containerHeight:M}})},[]);A.useEffect(()=>{var D=M=>{var F,{width:$,height:H}=M[0].contentRect;R($,H),(F=S.current)===null||F===void 0||F.call(S,$,H)};p>0&&(D=cte(D,p,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),{width:C,height:P}=E.current.getBoundingClientRect();return R(C,P),B.observe(E.current),()=>{B.disconnect()}},[R,p]);var L=A.useMemo(()=>{var{containerWidth:D,containerHeight:B}=j;if(D<0||B<0)return null;dh(el(i)||el(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),dh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=el(i)?D:i,P=el(s)?B:s;return n&&n>0&&(C?P=C/n:P&&(C=P*n),h&&P>h&&(P=h)),dh(C>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,P,i,s,c,d,n),A.Children.map(f,M=>A.cloneElement(M,{width:C,height:P,style:T2({width:C,height:P},M.props.style)}))},[n,f,s,h,d,c,j,i]);return A.createElement("div",{id:v?"".concat(v):void 0,className:wt("recharts-responsive-container",x),style:T2(T2({},w),{},{width:i,height:s,minWidth:c,minHeight:d,maxHeight:h}),ref:E},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},L))}),Ow=t=>null;Ow.displayName="Cell";function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pc={widthCache:{},cacheCount:0},vte=2e3,yte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n6="recharts_measurement_span";function xte(t){var e=Jx({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var hh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||of.isSsr)return{width:0,height:0};var r=xte(n),i=JSON.stringify({text:e,copyStyle:r});if(Pc.widthCache[i])return Pc.widthCache[i];try{var s=document.getElementById(n6);s||(s=document.createElement("span"),s.setAttribute("id",n6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=Jx(Jx({},yte),r);Object.assign(s.style,c),s.textContent="".concat(e);var d=s.getBoundingClientRect(),h={width:d.width,height:d.height};return Pc.widthCache[i]=h,++Pc.cacheCount>vte&&(Pc.cacheCount=0,Pc.widthCache={}),h}catch{return{width:0,height:0}}},r6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_te=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wte=Object.keys(R8),Bc="NaN";function Ste(t,e){return t*R8[e]}class rr{static parse(e){var n,[,r,i]=(n=_te.exec(e))!==null&&n!==void 0?n:[];return new rr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Wr(e)&&(this.unit=""),n!==""&&!bte.test(n)&&(this.num=NaN,this.unit=""),wte.includes(n)&&(this.num=Ste(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wr(this.num)}}function P8(t){if(t.includes(Bc))return Bc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=r6.exec(e))!==null&&n!==void 0?n:[],c=rr.parse(r??""),d=rr.parse(s??""),h=i==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Bc;e=e.replace(r6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,v,x]=(f=i6.exec(e))!==null&&f!==void 0?f:[],_=rr.parse(p??""),w=rr.parse(x??""),E=v==="+"?_.add(w):_.subtract(w);if(E.isNaN())return Bc;e=e.replace(i6,E.toString())}return e}var a6=/\(([^()]*)\)/;function Ete(t){for(var e=t,n;(n=a6.exec(e))!=null;){var[,r]=n;e=e.replace(a6,P8(r))}return e}function Tte(t){var e=t.replace(/\s+/g,"");return e=Ete(e),e=P8(e),e}function Ate(t){try{return Tte(t)}catch{return Bc}}function A2(t){var e=Ate(t.slice(5,-1));return e===Bc?"":e}var jte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nte=["dx","dy","angle","className","breakAll"];function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(null,arguments)}function s6(t,e){if(t==null)return{};var n,r,i=Cte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var D8=/[ \f\n\r\t\v\u2028\u2029]+/,k8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ct(e)||(n?i=e.toString().split(""):i=e.toString().split(D8));var s=i.map(d=>({word:d,width:hh(d,r).width})),c=n?0:hh(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Ote=(t,e,n,r,i)=>{var{maxLines:s,children:c,style:d,breakAll:h}=t,f=Te(s),p=c,v=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce((H,U)=>{var{word:pe,width:ve}=U,q=H[H.length-1];if(q&&(r==null||i||q.width+ve+n<Number(r)))q.words.push(pe),q.width+=ve+n;else{var z={words:[pe],width:ve};H.push(z)}return H},[])},x=v(e),_=F=>F.reduce(($,H)=>$.width>H.width?$:H);if(!f||i)return x;var w=x.length>s||_(x).width>Number(r);if(!w)return x;for(var E="…",S=F=>{var $=p.slice(0,F),H=k8({breakAll:h,style:d,children:$+E}).wordsWithComputedWidth,U=v(H),pe=U.length>s||_(U).width>Number(r);return[pe,U]},j=0,O=p.length-1,R=0,L;j<=O&&R<=p.length-1;){var D=Math.floor((j+O)/2),B=D-1,[C,P]=S(B),[M]=S(D);if(!C&&!M&&(j=D+1),C&&M&&(O=D-1),!C&&M){L=P;break}R++}return L||x},o6=t=>{var e=Ct(t)?[]:t.toString().split(D8);return[{words:e}]},Ite=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:c}=t;if((e||n)&&!of.isSsr){var d,h,f=k8({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:v}=f;d=p,h=v}else return o6(r);return Ote({breakAll:s,children:r,maxLines:c,style:i},d,h,e,n)}return o6(r)},l6="#808080",Iw=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:h="end",fill:f=l6}=t,p=s6(t,jte),v=A.useMemo(()=>Ite({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:x,dy:_,angle:w,className:E,breakAll:S}=p,j=s6(p,Nte);if(!Gi(n)||!Gi(r))return null;var O=n+(Te(x)?x:0),R=r+(Te(_)?_:0),L;switch(h){case"start":L=A2("calc(".concat(s,")"));break;case"middle":L=A2("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:L=A2("calc(".concat(v.length-1," * -").concat(i,")"));break}var D=[];if(c){var B=v[0].width,{width:C}=p;D.push("scale(".concat(Te(C)?C/B:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(O,", ").concat(R,")")),D.length&&(j.transform=D.join(" ")),A.createElement("text",eb({},Tt(j,!0),{ref:e,x:O,y:R,className:wt("recharts-text",E),textAnchor:d,fill:f.includes("url")?l6:f}),v.map((P,M)=>{var F=P.words.join(S?"":" ");return A.createElement("tspan",{x:O,dy:M===0?L:i,key:"".concat(F,"-").concat(M)},F)}))});Iw.displayName="Text";var Rte=["offset"],Pte=["labelRef"];function c6(t,e){if(t==null)return{};var n,r,i=Dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}var Vte=t=>{var{value:e,formatter:n}=t,r=Ct(t.children)?e:t.children;return typeof n=="function"?n(r):r},Rw=t=>t!=null&&typeof t=="function",Ute=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zte=(t,e,n)=>{var{position:r,viewBox:i,offset:s,className:c}=t,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:v,endAngle:x,clockWise:_}=i,w=(f+p)/2,E=Ute(v,x),S=E>=0?1:-1,j,O;r==="insideStart"?(j=v+S*s,O=_):r==="insideEnd"?(j=x-S*s,O=!_):r==="end"&&(j=x+S*s,O=_),O=E<=0?O:!O;var R=kn(d,h,w,j),L=kn(d,h,w,j+(O?1:-1)*359),D="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(L.x,",").concat(L.y),B=Ct(t.id)?Ah("recharts-radial-line-"):t.id;return A.createElement("text",Aa({},n,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",c)}),A.createElement("defs",null,A.createElement("path",{id:B,d:D})),A.createElement("textPath",{xlinkHref:"#".concat(B)},e))},Bte=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:s,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f}=e,p=(h+f)/2;if(r==="outside"){var{x:v,y:x}=kn(i,s,d+n,p);return{x:v,y:x,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(c+d)/2,{x:w,y:E}=kn(i,s,_,p);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},qte=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:c,width:d,height:h}=e,f=h>=0?1:-1,p=f*r,v=f>0?"end":"start",x=f>0?"start":"end",_=d>=0?1:-1,w=_*r,E=_>0?"end":"start",S=_>0?"start":"end";if(i==="top"){var j={x:s+d/2,y:c-f*r,textAnchor:"middle",verticalAnchor:v};return Qt(Qt({},j),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var O={x:s+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:x};return Qt(Qt({},O),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(i==="left"){var R={x:s-w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"};return Qt(Qt({},R),n?{width:Math.max(R.x-n.x,0),height:h}:{})}if(i==="right"){var L={x:s+d+w,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return Qt(Qt({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:h}:{})}var D=n?{width:d,height:h}:{};return i==="insideLeft"?Qt({x:s+w,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},D):i==="insideRight"?Qt({x:s+d-w,y:c+h/2,textAnchor:E,verticalAnchor:"middle"},D):i==="insideTop"?Qt({x:s+d/2,y:c+p,textAnchor:"middle",verticalAnchor:x},D):i==="insideBottom"?Qt({x:s+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:v},D):i==="insideTopLeft"?Qt({x:s+w,y:c+p,textAnchor:S,verticalAnchor:x},D):i==="insideTopRight"?Qt({x:s+d-w,y:c+p,textAnchor:E,verticalAnchor:x},D):i==="insideBottomLeft"?Qt({x:s+w,y:c+h-p,textAnchor:S,verticalAnchor:v},D):i==="insideBottomRight"?Qt({x:s+d-w,y:c+h-p,textAnchor:E,verticalAnchor:v},D):i&&typeof i=="object"&&(Te(i.x)||el(i.x))&&(Te(i.y)||el(i.y))?Qt({x:s+ro(i.x,d),y:c+ro(i.y,h),textAnchor:"end",verticalAnchor:"end"},D):Qt({x:s+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},$te=t=>"cx"in t&&Te(t.cx);function wr(t){var{offset:e=5}=t,n=c6(t,Rte),r=Qt({offset:e},n),{viewBox:i,position:s,value:c,children:d,content:h,className:f="",textBreakAll:p,labelRef:v}=r,x=D_(),_=i||x;if(!_||Ct(c)&&Ct(d)&&!A.isValidElement(h)&&typeof h!="function")return null;if(A.isValidElement(h)){var{labelRef:w}=r,E=c6(r,Pte);return A.cloneElement(h,E)}var S;if(typeof h=="function"){if(S=A.createElement(h,r),A.isValidElement(S))return S}else S=Vte(r);var j=$te(_),O=Tt(r,!0);if(j&&(s==="insideStart"||s==="insideEnd"||s==="end"))return zte(r,S,O);var R=j?Bte(r):qte(r,_);return A.createElement(Iw,Aa({ref:v,className:wt("recharts-label",f)},O,R,{breakAll:p}),S)}wr.displayName="Label";var M8=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:c,radius:d,innerRadius:h,outerRadius:f,x:p,y:v,top:x,left:_,width:w,height:E,clockWise:S,labelViewBox:j}=t;if(j)return j;if(Te(w)&&Te(E)){if(Te(p)&&Te(v))return{x:p,y:v,width:w,height:E};if(Te(x)&&Te(_))return{x,y:_,width:w,height:E}}if(Te(p)&&Te(v))return{x:p,y:v,width:0,height:0};if(Te(e)&&Te(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:h||0,outerRadius:f||d||c||0,clockWise:S};if(t.viewBox)return t.viewBox},Fte=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(wr,Aa({key:"label-implicit"},r)):Gi(t)?A.createElement(wr,Aa({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===wr?A.cloneElement(t,Qt({key:"label-implicit"},r)):A.createElement(wr,Aa({key:"label-implicit",content:t},r)):Rw(t)?A.createElement(wr,Aa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(wr,Aa({},t,{key:"label-implicit"},r)):null},Hte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,c=M8(e),d=g_(i,wr).map((f,p)=>A.cloneElement(f,{viewBox:n||c,key:"label-".concat(p)}));if(!r)return d;var h=Fte(e.label,n||c,s);return[h,...d]};wr.parseViewBox=M8;wr.renderCallByParent=Hte;var j2={},N2={},d6;function Kte(){return d6||(d6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(N2)),N2}var C2={},h6;function Gte(){return h6||(h6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(C2)),C2}var f6;function Yte(){return f6||(f6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kte(),n=Gte(),r=__();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i}(j2)),j2}var O2,m6;function Wte(){return m6||(m6=1,O2=Yte().last),O2}var Xte=Wte();const Qte=Wi(Xte);var Zte=["valueAccessor"],Jte=["data","dataKey","clockWise","id","textBreakAll"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(null,arguments)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return(e=tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return typeof e=="symbol"?e:e+""}function nne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v6(t,e){if(t==null)return{};var n,r,i=rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ine=t=>Array.isArray(t.value)?Qte(t.value):t.value;function hl(t){var{valueAccessor:e=ine}=t,n=v6(t,Zte),{data:r,dataKey:i,clockWise:s,id:c,textBreakAll:d}=n,h=v6(n,Jte);return!r||!r.length?null:A.createElement(Ha,{className:"recharts-label-list"},r.map((f,p)=>{var v=Ct(i)?e(f,p):Jn(f&&f.payload,i),x=Ct(c)?{}:{id:"".concat(c,"-").concat(p)};return A.createElement(wr,Tg({},Tt(f,!0),h,x,{parentViewBox:f.parentViewBox,value:v,textBreakAll:d,viewBox:wr.parseViewBox(Ct(s)?f:g6(g6({},f),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}hl.displayName="LabelList";function ane(t,e){return t?t===!0?A.createElement(hl,{key:"labelList-implicit",data:e}):A.isValidElement(t)||Rw(t)?A.createElement(hl,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?A.createElement(hl,Tg({data:e},t,{key:"labelList-implicit"})):null:null}function sne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=g_(r,hl).map((c,d)=>A.cloneElement(c,{data:e,key:"labelList-".concat(d)}));if(!n)return i;var s=ane(t.label,e);return[s,...i]}hl.renderCallByParent=sne;var one={radiusAxis:{},angleAxis:{}},L8=Zr({name:"polarAxis",initialState:one,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zse,removeRadiusAxis:Bse,addAngleAxis:qse,removeAngleAxis:$se}=L8.actions,lne=L8.reducer,cne={countOfBars:0,cartesianItems:[],polarItems:[]},V8=Zr({name:"graphicalItems",initialState:cne,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=ka(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=ka(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ka(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Fse,removeBar:Hse,addCartesianGraphicalItem:une,replaceCartesianGraphicalItem:dne,removeCartesianGraphicalItem:hne,addPolarGraphicalItem:Kse,removePolarGraphicalItem:Gse}=V8.actions,fne=V8.reducer;function y6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vne(t){var e=hn(),n=A.useRef(null);return A.useEffect(()=>{var r=x6(x6({},t),{},{stackId:ZG(t.stackId)});n.current===null?e(une(r)):n.current!==r&&e(dne({prev:n.current,next:r})),n.current=r},[e,t]),A.useEffect(()=>()=>{n.current&&(e(hne(n.current)),n.current=null)},[e]),null}var I2={},b6;function yne(){return b6||(b6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(I2)),I2}var R2,_6;function xne(){return _6||(_6=1,R2=yne().isPlainObject),R2}var bne=xne();const _ne=Wi(bne);function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}var w6=(t,e,n,r,i)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+i),c+="L ".concat(t+n-s/2-r,",").concat(e+i),c+="L ".concat(t,",").concat(e," Z"),c},wne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sne=t=>{var e=Pl(t,wne),n=A.useRef(),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&i(S)}catch{}},[]);var{x:s,y:c,upperWidth:d,lowerWidth:h,height:f,className:p}=e,{animationEasing:v,animationDuration:x,animationBegin:_,isUpdateAnimationActive:w}=e;if(s!==+s||c!==+c||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var E=wt("recharts-trapezoid",p);return w?A.createElement(Oh,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:c},to:{upperWidth:d,lowerWidth:h,height:f,x:s,y:c},duration:x,animationEasing:v,isActive:w},S=>{var{upperWidth:j,lowerWidth:O,height:R,x:L,y:D}=S;return A.createElement(Oh,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:v},A.createElement("path",Ag({},Tt(e,!0),{className:E,d:w6(L,D,j,O,R),ref:n})))}):A.createElement("g",null,A.createElement("path",Ag({},Tt(e,!0),{className:E,d:w6(s,c,d,h,f)})))},Ene=["option","shapeType","propTransformer","activeClassName","isActive"];function Tne(t,e){if(t==null)return{};var n,r,i=Ane(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){return jg(jg({},e),t)}function Ine(t,e){return t==="symbols"}function E6(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement(w5,n);case"trapezoid":return A.createElement(Sne,n);case"sector":return A.createElement(T5,n);case"symbols":if(Ine(e))return A.createElement(b_,n);break;default:return null}}function Rne(t){return A.isValidElement(t)?t.props:t}function T6(t){var{option:e,shapeType:n,propTransformer:r=One,activeClassName:i="recharts-active-shape",isActive:s}=t,c=Tne(t,Ene),d;if(A.isValidElement(e))d=A.cloneElement(e,jg(jg({},c),Rne(e)));else if(typeof e=="function")d=e(c);else if(_ne(e)&&typeof e!="boolean"){var h=r(e,c);d=A.createElement(E6,{shapeType:n,elementProps:h})}else{var f=c;d=A.createElement(E6,{shapeType:n,elementProps:f})}return s?A.createElement(Ha,{className:i},d):d}var Pne=(t,e)=>{var n=hn();return(r,i)=>s=>{t?.(r,i,s),n(u8({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Dne=t=>{var e=hn();return(n,r)=>i=>{t?.(n,r,i),e(PJ())}},kne=(t,e)=>{var n=hn();return(r,i)=>s=>{t?.(r,i,s),n(DJ({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Mne(t){var{fn:e,args:n}=t,r=hn(),i=Jr();return A.useEffect(()=>{if(!i){var s=e(n);return r(OJ(s)),()=>{r(IJ(s))}}},[e,n,r,i]),null}var Lne=()=>{};function Vne(t){var{legendPayload:e}=t,n=hn(),r=Jr();return A.useEffect(()=>r?Lne:(n(pY(e)),()=>{n(gY(e))}),[n,r,e]),null}function Une(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Ah(e)),r=A.useRef(t);return r.current!==t&&(n.current=Ah(e),r.current=t),n.current}var zne=se([Ln],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Bne=se([zne,Za,Ja],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),U8=()=>Re(Bne),qne=["children"];function $ne(t,e){if(t==null)return{};var n,r,i=Fne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A6=()=>{},Hne=A.createContext({addErrorBar:A6,removeErrorBar:A6}),Kne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Gne=A.createContext(Kne);function Yne(t){var{children:e}=t,n=$ne(t,qne);return A.createElement(Gne.Provider,{value:n},e)}var Wne=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:c,stackId:d,hide:h,type:f,barSize:p}=t,[v,x]=A.useState([]),_=A.useCallback(S=>{x(j=>[...j,S])},[x]),w=A.useCallback(S=>{x(j=>j.filter(O=>O!==S))},[x]),E=Jr();return A.createElement(Hne.Provider,{value:{addErrorBar:_,removeErrorBar:w}},A.createElement(vne,{type:f,data:c,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:v,stackId:d,hide:h,barSize:p,isPanorama:E}),e)};function z8(t,e){var n,r,i=Re(f=>ts(f,t)),s=Re(f=>ho(f,e)),c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:xr.allowDataOverflow,d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,h=c||d;return{needClip:h,needClipX:c,needClipY:d}}function Xne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=U8(),{needClipX:s,needClipY:c,needClip:d}=z8(e,n);if(!d)return null;var{x:h,y:f,width:p,height:v}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?h:h-p/2,y:c?f:f-v/2,width:s?p:p*2,height:c?v:v*2}))}var Qne=t=>{var{chartData:e}=t,n=hn(),r=Jr();return A.useEffect(()=>r?()=>{}:(n(G3(e)),()=>{n(G3(void 0))}),[e,n,r]),null},j6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B8=Zr({name:"brush",initialState:j6,reducers:{setBrushSettings(t,e){return e.payload==null?j6:e.payload}}}),{setBrushSettings:Yse}=B8.actions,Zne=B8.reducer;function Jne(t,e,n){return(e=ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=tre(t,"string");return typeof e=="symbol"?e:e+""}function tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pw{static create(e){return new Pw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Jne(Pw,"EPS",1e-4);function nre(t){return(t%180+180)%180}var rre=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=nre(i),c=s*Math.PI/180,d=Math.atan(r/n),h=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(h)},ire={dots:[],areas:[],lines:[]},q8=Zr({name:"referenceElements",initialState:ire,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ka(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ka(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ka(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Wse,removeDot:Xse,addArea:Qse,removeArea:Zse,addLine:Jse,removeLine:eoe}=q8.actions,are=q8.reducer,sre=A.createContext(void 0),ore=t=>{var{children:e}=t,[n]=A.useState("".concat(Ah("recharts"),"-clip")),r=U8();if(r==null)return null;var{x:i,y:s,width:c,height:d}=r;return A.createElement(sre.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:d,width:c}))),e)};function P2(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function lre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rre(r,n)}function cre(t,e,n){var r=n==="width",{x:i,y:s,width:c,height:d}=t;return e===1?{start:r?i:s,end:r?i+c:s+d}:{start:r?i+c:s+d,end:r?i:s}}function Ng(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ure(t,e){return $8(t,e+1)}function dre(t,e,n,r,i){for(var s=(r||[]).slice(),{start:c,end:d}=e,h=0,f=1,p=c,v=function(){var w=r?.[h];if(w===void 0)return{v:$8(r,f)};var E=h,S,j=()=>(S===void 0&&(S=n(w,E)),S),O=w.coordinate,R=h===0||Ng(t,O,j,p,d);R||(h=0,p=c,f+=1),R&&(p=O+t*(j()/2+i),h+=f)},x;f<=s.length;)if(x=v(),x)return x.v;return[]}function N6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N6(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pre(t,e,n,r,i){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:h}=e,f=function(x){var _=s[x],w,E=()=>(w===void 0&&(w=n(_,x)),w);if(x===c-1){var S=t*(_.coordinate+t*E()/2-h);s[x]=_=$n($n({},_),{},{tickCoord:S>0?_.coordinate-S*t:_.coordinate})}else s[x]=_=$n($n({},_),{},{tickCoord:_.coordinate});var j=Ng(t,_.tickCoord,E,d,h);j&&(h=_.tickCoord-t*(E()/2+i),s[x]=$n($n({},_),{},{isShow:!0}))},p=c-1;p>=0;p--)f(p);return s}function gre(t,e,n,r,i,s){var c=(r||[]).slice(),d=c.length,{start:h,end:f}=e;if(s){var p=r[d-1],v=n(p,d-1),x=t*(p.coordinate+t*v/2-f);c[d-1]=p=$n($n({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate});var _=Ng(t,p.tickCoord,()=>v,h,f);_&&(f=p.tickCoord-t*(v/2+i),c[d-1]=$n($n({},p),{},{isShow:!0}))}for(var w=s?d-1:d,E=function(O){var R=c[O],L,D=()=>(L===void 0&&(L=n(R,O)),L);if(O===0){var B=t*(R.coordinate-t*D()/2-h);c[O]=R=$n($n({},R),{},{tickCoord:B<0?R.coordinate-B*t:R.coordinate})}else c[O]=R=$n($n({},R),{},{tickCoord:R.coordinate});var C=Ng(t,R.tickCoord,D,h,f);C&&(h=R.tickCoord+t*(D()/2+i),c[O]=$n($n({},R),{},{isShow:!0}))},S=0;S<w;S++)E(S);return c}function Dw(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:c,orientation:d,interval:h,tickFormatter:f,unit:p,angle:v}=t;if(!i||!i.length||!r)return[];if(Te(h)||of.isSsr){var x;return(x=ure(i,Te(h)?h:0))!==null&&x!==void 0?x:[]}var _=[],w=d==="top"||d==="bottom"?"width":"height",E=p&&w==="width"?hh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(R,L)=>{var D=typeof f=="function"?f(R.value,L):R.value;return w==="width"?lre(hh(D,{fontSize:e,letterSpacing:n}),E,v):hh(D,{fontSize:e,letterSpacing:n})[w]},j=i.length>=2?Kr(i[1].coordinate-i[0].coordinate):1,O=cre(s,j,w);return h==="equidistantPreserveStart"?dre(j,O,S,i,c):(h==="preserveStart"||h==="preserveStartEnd"?_=gre(j,O,S,i,c,h==="preserveStartEnd"):_=pre(j,O,S,i,c),_.filter(R=>R.isShow))}var vre=["viewBox"],yre=["viewBox"];function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(null,arguments)}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O6(t,e){if(t==null)return{};var n,r,i=xre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kw(t,e,n){return(e=bre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bre(t){var e=_re(t,"string");return typeof e=="symbol"?e:e+""}function _re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fo extends A.Component{constructor(e){super(e),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=O6(e,vre),s=this.props,{viewBox:c}=s,d=O6(s,yre);return!P2(r,c)||!P2(i,d)||!P2(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:c,tickSize:d,mirror:h,tickMargin:f}=this.props,p,v,x,_,w,E,S=h?-1:1,j=e.tickSize||d,O=Te(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":p=v=e.coordinate,_=r+ +!h*s,x=_-S*j,E=x-S*f,w=O;break;case"left":x=_=e.coordinate,v=n+ +!h*i,p=v-S*j,w=p-S*f,E=O;break;case"right":x=_=e.coordinate,v=n+ +h*i,p=v+S*j,w=p+S*f,E=O;break;default:p=v=e.coordinate,_=r+ +h*s,x=_+S*j,E=x+S*f,w=O;break}return{line:{x1:p,y1:x,x2:v,y2:_},tick:{x:w,y:E}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:c,axisLine:d}=this.props,h=un(un(un({},Tt(this.props,!1)),Tt(d,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!c||s==="bottom"&&c);h=un(un({},h),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(s==="left"&&!c||s==="right"&&c);h=un(un({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return A.createElement("line",qc({},h,{className:wt("recharts-cartesian-axis-line",bl(d,"className"))}))}static renderTickItem(e,n,r){var i,s=wt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,un(un({},n),{},{className:s}));else if(typeof e=="function")i=e(un(un({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=wt(c,e.className)),i=A.createElement(Iw,qc({},n,{className:c}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:c,tickFormatter:d,unit:h}=this.props,f=Dw(un(un({},this.props),{},{ticks:r}),e,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Tt(this.props,!1),_=Tt(c,!1),w=un(un({},x),{},{fill:"none"},Tt(i,!1)),E=f.map((S,j)=>{var{line:O,tick:R}=this.getTickLineCoord(S),L=un(un(un(un({textAnchor:p,verticalAnchor:v},x),{},{stroke:"none",fill:s},_),R),{},{index:j,payload:S,visibleTicksCount:f.length,tickFormatter:d});return A.createElement(Ha,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},aR(this.props,S,j)),i&&A.createElement("line",qc({},w,O,{className:wt("recharts-cartesian-axis-tick-line",bl(i,"className"))})),c&&fo.renderTickItem(c,L,"".concat(typeof d=="function"?d(S.value,j):S.value).concat(h||"")))});return E.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(Ha,{className:wt("recharts-cartesian-axis",i),ref:d=>{if(d){var h=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var f=h[0];if(f){var p=window.getComputedStyle(f).fontSize,v=window.getComputedStyle(f).letterSpacing;(p!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),wr.renderCallByParent(this.props))}}kw(fo,"displayName","CartesianAxis");kw(fo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wre=["x1","y1","x2","y2","key"],Sre=["offset"],Ere=["xAxisId","yAxisId"],Tre=["xAxisId","yAxisId"];function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return(e=jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(null,arguments)}function Cg(t,e){if(t==null)return{};var n,r,i=Cre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ore=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:c,ry:d}=t;return A.createElement("rect",{x:r,y:i,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function F8(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:c,key:d}=e,h=Cg(e,wre),f=Tt(h,!1),{offset:p}=f,v=Cg(f,Sre);n=A.createElement("line",il({},v,{x1:r,y1:i,x2:s,y2:c,fill:"none",key:d}))}return n}function Ire(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Cg(t,Ere),h=i.map((f,p)=>{var v=Kn(Kn({},d),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return F8(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Rre(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=t,d=Cg(t,Tre),h=i.map((f,p)=>{var v=Kn(Kn({},d),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return F8(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function Pre(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:c,horizontalPoints:d,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var f=d.map(v=>Math.round(v+i-i)).sort((v,x)=>v-x);i!==f[0]&&f.unshift(0);var p=f.map((v,x)=>{var _=!f[x+1],w=_?i+c-v:f[x+1]-v;if(w<=0)return null;var E=x%e.length;return A.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:w,width:s,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Dre(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:c,height:d,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(v=>Math.round(v+i-i)).sort((v,x)=>v-x);i!==f[0]&&f.unshift(0);var p=f.map((v,x)=>{var _=!f[x+1],w=_?i+c-v:f[x+1]-v;if(w<=0)return null;var E=x%n.length;return A.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:w,height:d,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var kre=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return a5(Dw(Kn(Kn(Kn({},fo.defaultProps),n),{},{ticks:s5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Mre=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return a5(Dw(Kn(Kn(Kn({},fo.defaultProps),n),{},{ticks:s5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Lre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function H8(t){var e=f5(),n=m5(),r=h5(),i=Kn(Kn({},Pl(t,Lre)),{},{x:Te(t.x)?t.x:r.left,y:Te(t.y)?t.y:r.top,width:Te(t.width)?t.width:r.width,height:Te(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:h,width:f,height:p,syncWithTicks:v,horizontalValues:x,verticalValues:_}=i,w=Jr(),E=Re(M=>V3(M,"xAxis",s,w)),S=Re(M=>V3(M,"yAxis",c,w));if(!Te(f)||f<=0||!Te(p)||p<=0||!Te(d)||d!==+d||!Te(h)||h!==+h)return null;var j=i.verticalCoordinatesGenerator||kre,O=i.horizontalCoordinatesGenerator||Mre,{horizontalPoints:R,verticalPoints:L}=i;if((!R||!R.length)&&typeof O=="function"){var D=x&&x.length,B=O({yAxis:S?Kn(Kn({},S),{},{ticks:D?x:S.ticks}):void 0,width:e,height:n,offset:r},D?!0:v);dh(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(R=B)}if((!L||!L.length)&&typeof j=="function"){var C=_&&_.length,P=j({xAxis:E?Kn(Kn({},E),{},{ticks:C?_:E.ticks}):void 0,width:e,height:n,offset:r},C?!0:v);dh(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(L=P)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Ore,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Pre,il({},i,{horizontalPoints:R})),A.createElement(Dre,il({},i,{verticalPoints:L})),A.createElement(Ire,il({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:S})),A.createElement(Rre,il({},i,{offset:r,verticalPoints:L,xAxis:E,yAxis:S})))}H8.displayName="CartesianGrid";function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bre={xAxis:{},yAxis:{},zAxis:{}},K8=Zr({name:"cartesianAxis",initialState:Bre,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=P6(P6({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:qre,removeXAxis:$re,addYAxis:Fre,removeYAxis:Hre,addZAxis:Kre,removeZAxis:Gre,updateYAxisWidth:Yre}=K8.actions,Wre=K8.reducer;function G8(t,e,n){return(e=Xre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zre(t){var e=hn();return A.useEffect(()=>(e(Kre(t)),()=>{e(Gre(t))}),[t,e]),null}class Mw extends A.Component{render(){return A.createElement(Zre,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:qs.allowDuplicatedCategory,allowDataOverflow:qs.allowDataOverflow,reversed:qs.reversed,includeHidden:qs.includeHidden})}}G8(Mw,"displayName","ZAxis");G8(Mw,"defaultProps",{zAxisId:0,range:qs.range,scale:qs.scale,type:qs.type});var Jre=["option","isActive"];function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(null,arguments)}function eie(t,e){if(t==null)return{};var n,r,i=tie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nie(t){var{option:e,isActive:n}=t,r=eie(t,Jre);return typeof e=="string"?A.createElement(T6,fh({option:A.createElement(b_,fh({type:e},r)),isActive:n,shapeType:"symbols"},r)):A.createElement(T6,fh({option:e,isActive:n,shapeType:"symbols"},r))}var rie=(t,e,n,r,i,s,c)=>i8(t,"xAxis",e,c),iie=(t,e,n,r,i,s,c)=>r8(t,"xAxis",e,c),aie=(t,e,n,r,i,s,c)=>i8(t,"yAxis",n,c),sie=(t,e,n,r,i,s,c)=>r8(t,"yAxis",n,c),oie=(t,e,n,r)=>TJ(t,"zAxis",r,!1),lie=(t,e,n,r,i)=>i,cie=(t,e,n,r,i,s)=>s,uie=(t,e,n,r,i,s,c)=>oP(t,e,n,c),die=se([CP,lie],(t,e)=>{if(t.some(n=>n.type==="scatter"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),hie=se([uie,rie,iie,aie,sie,oie,die,cie],(t,e,n,r,i,s,c,d)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=t;if(c!=null){var v;if(c?.data!=null&&c.data.length>0?v=c.data:v=h?.slice(f,p+1),!(v==null||e==null||r==null||n==null||i==null||n?.length===0||i?.length===0))return Sie({displayedData:v,xAxis:e,yAxis:r,zAxis:s,scatterSettings:c,xAxisTicks:n,yAxisTicks:i,cells:d})}}),fie=["onMouseEnter","onClick","onMouseLeave"],mie=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Y8(t,e){if(t==null)return{};var n,r,i=pie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=vie(t,"string");return typeof e=="symbol"?e:e+""}function vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yie=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:o5(n,e),payload:t}]};function xie(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:s}=n;if(!r)return null;var c=Tt(n,!1),d=Tt(r,!1),h,f;if(i==="joint")h=e.map(S=>({x:S.cx,y:S.cy}));else if(i==="fitting"){var{xmin:p,xmax:v,a:x,b:_}=zF(e),w=S=>x*S+_;h=[{x:p,y:w(p)},{x:v,y:w(v)}]}var E=lr(lr(lr({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:h});return A.isValidElement(r)?f=A.cloneElement(r,E):typeof r=="function"?f=r(E):f=A.createElement(y5,du({},E,{type:s})),A.createElement(Ha,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function W8(t){var{points:e,showLabels:n,allOtherScatterProps:r}=t,{shape:i,activeShape:s,dataKey:c}=r,d=Tt(r,!1),h=Re(Mh),{onMouseEnter:f,onClick:p,onMouseLeave:v}=r,x=Y8(r,fie),_=Pne(f,r.dataKey),w=Dne(v),E=kne(p,r.dataKey);return e==null?null:A.createElement(A.Fragment,null,A.createElement(xie,{points:e,props:r}),e.map((S,j)=>{var O=s&&h===String(j),R=O?s:i,L=lr(lr(lr({key:"symbol-".concat(j)},d),S),{},{[c5]:j,[u5]:String(c)});return A.createElement(Ha,du({className:"recharts-scatter-symbol"},aR(x,S,j),{onMouseEnter:_(S,j),onMouseLeave:w(S,j),onClick:E(S,j),key:"symbol-".concat(S?.cx,"-").concat(S?.cy,"-").concat(S?.size,"-").concat(j)}),A.createElement(nie,du({option:R,isActive:O},L)))}),n&&hl.renderCallByParent(r,e))}function bie(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:d}=n,h=e.current,f=Une(n,"recharts-scatter-"),[p,v]=A.useState(!1),x=A.useCallback(()=>{v(!1)},[]),_=A.useCallback(()=>{v(!0)},[]);return A.createElement(Oh,{begin:s,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:_,key:f},w=>{var{t:E}=w,S=E===1?r:r.map((j,O)=>{var R=h&&h[O];if(R){var L=Wm(R.cx,j.cx),D=Wm(R.cy,j.cy),B=Wm(R.size,j.size);return lr(lr({},j),{},{cx:L(E),cy:D(E),size:B(E)})}var C=Wm(0,j.size);return lr(lr({},j),{},{size:C(E)})});return E>0&&(e.current=S),A.createElement(Ha,null,A.createElement(W8,{points:S,allOtherScatterProps:n,showLabels:!p}))})}function _ie(t){var{points:e,isAnimationActive:n}=t,r=A.useRef(null),i=r.current;return n&&e&&e.length&&(!i||i!==e)?A.createElement(bie,{props:t,previousPointsRef:r}):A.createElement(W8,{points:e,allOtherScatterProps:t,showLabels:!0})}function wie(t){var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:s,name:c,hide:d,tooltipType:h}=t;return{dataDefinedOnItem:n?.map(f=>f.tooltipPayload),positions:n?.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:s,nameKey:void 0,dataKey:e,name:o5(c,e),hide:d,type:h,color:s,unit:""}}}function Sie(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:d,cells:h}=t,f=Ct(n.dataKey)?s.dataKey:n.dataKey,p=Ct(r.dataKey)?s.dataKey:r.dataKey,v=i&&i.dataKey,x=i?i.range:Mw.defaultProps.range,_=x&&x[0],w=n.scale.bandwidth?n.scale.bandwidth():0,E=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((S,j)=>{var O=Jn(S,f),R=Jn(S,p),L=!Ct(v)&&Jn(S,v)||"-",D=[{name:Ct(n.dataKey)?s.name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:S,dataKey:f,type:s.tooltipType},{name:Ct(r.dataKey)?s.name:r.name||r.dataKey,unit:r.unit||"",value:R,payload:S,dataKey:p,type:s.tooltipType}];L!=="-"&&D.push({name:i.name||i.dataKey,unit:i.unit||"",value:L,payload:S,dataKey:v,type:s.tooltipType});var B=_N({axis:n,ticks:c,bandSize:w,entry:S,index:j,dataKey:f}),C=_N({axis:r,ticks:d,bandSize:E,entry:S,index:j,dataKey:p}),P=L!=="-"?i.scale(L):_,M=Math.sqrt(Math.max(P,0)/Math.PI);return lr(lr({},S),{},{cx:B,cy:C,x:B-M,y:C-M,width:2*M,height:2*M,size:P,node:{x:O,y:R,z:L},tooltipPayload:D,tooltipPosition:{x:B,y:C},payload:S},h&&h[j]&&h[j].props)})}var Eie=(t,e,n)=>({x:t.cx,y:t.cy,value:n==="x"?+t.node.x:+t.node.y,errorVal:Jn(t,e)});function Tie(t){var e=A.useRef(Ah("recharts-scatter-")),{hide:n,points:r,className:i,needClip:s,xAxisId:c,yAxisId:d,id:h,children:f}=t;if(n)return null;var p=wt("recharts-scatter",i),v=Ct(h)?e.current:h;return A.createElement(Ha,{className:p,clipPath:s?"url(#clipPath-".concat(v,")"):null},s&&A.createElement("defs",null,A.createElement(Xne,{clipPathId:v,xAxisId:c,yAxisId:d})),A.createElement(Yne,{xAxisId:c,yAxisId:d,data:r,dataPointFormatter:Eie,errorBarOffset:0},f),A.createElement(Ha,{key:"recharts-scatter-symbols"},A.createElement(_ie,t)))}var X8={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Aie(t){var e=Pl(t,X8),{animationBegin:n,animationDuration:r,animationEasing:i,hide:s,isAnimationActive:c,legendType:d,lineJointType:h,lineType:f,shape:p,xAxisId:v,yAxisId:x,zAxisId:_}=e,w=Y8(e,mie),{needClip:E}=z8(v,x),S=A.useMemo(()=>g_(t.children,Ow),[t.children]),j=A.useMemo(()=>({name:t.name,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey}),[t.data,t.dataKey,t.name,t.tooltipType]),O=Jr(),R=Re(L=>hie(L,v,x,_,j,S,O));return E==null?null:A.createElement(A.Fragment,null,A.createElement(Mne,{fn:wie,args:lr(lr({},t),{},{points:R})}),A.createElement(Tie,du({},w,{xAxisId:v,yAxisId:x,zAxisId:_,lineType:f,lineJointType:h,legendType:d,shape:p,hide:s,isAnimationActive:c,animationBegin:n,animationDuration:r,animationEasing:i,points:R,needClip:E})))}class Vw extends A.Component{render(){return A.createElement(Wne,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},A.createElement(Vne,{legendPayload:yie(this.props)}),A.createElement(Aie,this.props))}}Lw(Vw,"displayName","Scatter");Lw(Vw,"defaultProps",X8);var jie=["children"],Nie=["dangerouslySetInnerHTML","ticks"];function Q8(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=Oie(t,"string");return typeof e=="symbol"?e:e+""}function Oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(null,arguments)}function Z8(t,e){if(t==null)return{};var n,r,i=Iie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Rie(t){var e=hn(),n=A.useMemo(()=>{var{children:s}=t,c=Z8(t,jie);return c},[t]),r=Re(s=>ts(s,n.id)),i=n===r;return A.useEffect(()=>(e(qre(n)),()=>{e($re(n))}),[n,e]),i?t.children:null}var Pie=t=>{var{xAxisId:e,className:n}=t,r=Re(d5),i=Jr(),s="xAxis",c=Re(_=>Au(_,s,e,i)),d=Re(_=>n8(_,s,e,i)),h=Re(_=>mJ(_,e)),f=Re(_=>xJ(_,e));if(h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=t,x=Z8(t,Nie);return A.createElement(fo,tb({},x,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:wt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d}))},Die=t=>{var e,n,r,i,s;return A.createElement(Rie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},A.createElement(Pie,t))};class Uw extends A.Component{render(){return A.createElement(Die,this.props)}}Q8(Uw,"displayName","XAxis");Q8(Uw,"defaultProps",{allowDataOverflow:xr.allowDataOverflow,allowDecimals:xr.allowDecimals,allowDuplicatedCategory:xr.allowDuplicatedCategory,height:xr.height,hide:!1,mirror:xr.mirror,orientation:xr.orientation,padding:xr.padding,reversed:xr.reversed,scale:xr.scale,tickCount:xr.tickCount,type:xr.type,xAxisId:0});var kie=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,c=0;if(e){e.forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>c&&(c=v.width)}});var d=n?n.getBoundingClientRect().width:0,h=i+s,f=c+h+d+(n?r:0);return Math.round(f)}return 0},Mie=["dangerouslySetInnerHTML","ticks"];function J8(t,e,n){return(e=Lie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(null,arguments)}function Uie(t,e){if(t==null)return{};var n,r,i=zie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bie(t){var e=hn();return A.useEffect(()=>(e(Fre(t)),()=>{e(Hre(t))}),[t,e]),null}var qie=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,c=A.useRef(null),d=A.useRef(null),h=Re(d5),f=Jr(),p=hn(),v="yAxis",x=Re(R=>Au(R,v,n,f)),_=Re(R=>_J(R,n)),w=Re(R=>bJ(R,n)),E=Re(R=>n8(R,v,n,f));if(A.useLayoutEffect(()=>{var R;if(!(i!=="auto"||!_||Rw(s)||A.isValidElement(s))){var L=c.current,D=L==null||(R=L.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:B,tickMargin:C}=L.props,P=kie({ticks:D,label:d.current,labelGapWithTick:5,tickSize:B,tickMargin:C});Math.round(_.width)!==Math.round(P)&&p(Yre({id:n,width:P}))}},[c,c==null||(e=c.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,_?.width,_,p,s,n,i]),_==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=t,O=Uie(t,Mie);return A.createElement(fo,nb({},O,{ref:c,labelRef:d,scale:x,x:w.x,y:w.y,width:_.width,height:_.height,className:wt("recharts-".concat(v," ").concat(v),r),viewBox:h,ticks:E}))},$ie=t=>{var e,n,r,i,s;return A.createElement(A.Fragment,null,A.createElement(Bie,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),A.createElement(qie,t))},Fie={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,hide:!1,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tickCount:br.tickCount,type:br.type,width:br.width,yAxisId:0};class zw extends A.Component{render(){return A.createElement($ie,this.props)}}J8(zw,"displayName","YAxis");J8(zw,"defaultProps",Fie);var D2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6;function Hie(){if(k6)return k2;k6=1;var t=hu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return k2.useSyncExternalStoreWithSelector=function(h,f,p,v,x){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=c(function(){function S(D){if(!j){if(j=!0,O=D,D=v(D),x!==void 0&&w.hasValue){var B=w.value;if(x(B,D))return R=B}return R=D}if(B=R,n(O,D))return B;var C=v(D);return x!==void 0&&x(B,C)?(O=D,B):(O=D,R=C)}var j=!1,O,R,L=p===void 0?null:p;return[function(){return S(f())},L===null?void 0:function(){return S(L())}]},[f,p,v,x]);var E=r(h,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=E},[E]),d(E),E},k2}var M6;function Kie(){return M6||(M6=1,D2.exports=Hie()),D2.exports}Kie();function Gie(t){t()}function Yie(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Gie(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var L6={notify(){},get:()=>[]};function Wie(t,e){let n,r=L6,i=0,s=!1;function c(E){p();const S=r.subscribe(E);let j=!1;return()=>{j||(j=!0,S(),v())}}function d(){r.notify()}function h(){w.onStateChange&&w.onStateChange()}function f(){return s}function p(){i++,n||(n=t.subscribe(h),r=Yie())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=L6)}function x(){s||(s=!0,p())}function _(){s&&(s=!1,v())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:x,tryUnsubscribe:_,getListeners:()=>r};return w}var Xie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qie=Xie(),Zie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Jie=Zie(),eae=()=>Qie||Jie?A.useLayoutEffect:A.useEffect,tae=eae(),nae=Symbol.for("react-redux-context"),rae=typeof globalThis<"u"?globalThis:{};function iae(){if(!A.createContext)return{};const t=rae[nae]??=new Map;let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var aae=iae();function sae(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const h=Wie(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),c=A.useMemo(()=>i.getState(),[i]);tae(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,c]);const d=n||aae;return A.createElement(d.Provider,{value:s},e)}var oae=sae,lae=(t,e)=>e,Bw=se([lae,Ft,IZ,Tn,x8,ns,Tee,Ln],Oee),qw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},eD=Xr("mouseClick"),tD=sf();tD.startListening({actionCreator:eD,effect:(t,e)=>{var n=t.payload,r=Bw(e.getState(),qw(n));r?.activeIndex!=null&&e.dispatch(kJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var rb=Xr("mouseMove"),nD=sf();nD.startListening({actionCreator:rb,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=_w(r,r.tooltip.settings.shared),s=Bw(r,qw(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(h8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(d8()))}});function cae(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var V6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rD=Zr({name:"rootProps",initialState:V6,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:V6.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),uae=rD.reducer,{updateOptions:dae}=rD.actions,iD=Zr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:toe}=iD.actions,hae=iD.reducer,aD=Xr("keyDown"),sD=Xr("focus"),$w=sf();$w.startListening({actionCreator:aD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Number(ww(i,Vl(n))),d=ns(n);if(s==="Enter"){var h=Eg(n,"axis","hover",String(i.index));e.dispatch(Xx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var f=AJ(n),p=f==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,x=c+v*p;if(!(d==null||x>=d.length||x<0)){var _=Eg(n,"axis","hover",String(x));e.dispatch(Xx({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});$w.startListening({actionCreator:sD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",c=Eg(n,"axis","hover",String(s));e.dispatch(Xx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var $r=Xr("externalEvent"),oD=sf();oD.startListening({actionCreator:$r,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:gee(n),activeDataKey:mee(n),activeIndex:Mh(n),activeLabel:w8(n),activeTooltipIndex:Mh(n),isTooltipActive:vee(n)};t.payload.handler(r,t.payload.reactEvent)}}});var fae=se([ju],t=>t.tooltipItemPayloads),mae=se([fae,gf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var c=e(s,n);return c}}}),lD=Xr("touchMove"),cD=sf();cD.startListening({actionCreator:lD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=_w(r,r.tooltip.settings.shared);if(i==="axis"){var s=Bw(r,qw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(h8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0],h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(c5),p=(c=h.getAttribute(u5))!==null&&c!==void 0?c:void 0,v=mae(e.getState(),f,p);e.dispatch(u8({activeDataKey:p,activeIndex:f,activeCoordinate:v}))}}});var pae=MR({brush:Zne,cartesianAxis:Wre,chartData:Gee,graphicalItems:fne,layout:IG,legend:vY,options:qee,polarAxis:lne,polarOptions:hae,referenceElements:are,rootProps:uae,tooltip:MJ}),gae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nG({reducer:pae,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([tD.middleware,nD.middleware,$w.middleware,oD.middleware,cD.middleware]),devTools:{serialize:{replacer:cae},name:"recharts-".concat(n)}})};function vae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Jr(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=gae(e,r));var c=A_;return A.createElement(oae,{context:c,store:s.current},n)}function yae(t){var{layout:e,width:n,height:r,margin:i}=t,s=hn(),c=Jr();return A.useEffect(()=>{c||(s(NG(e)),s(CG({width:n,height:r})),s(jG(i)))},[s,c,e,n,r,i]),null}function xae(t){var e=hn();return A.useEffect(()=>{e(dae(t))},[e,t]),null}var bae=["children"];function _ae(t,e){if(t==null)return{};var n,r,i=wae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}var Sae={width:"100%",height:"100%"},Eae=A.forwardRef((t,e)=>{var n=f5(),r=m5(),i=v5();if(!cg(n)||!cg(r))return null;var{children:s,otherAttributes:c,title:d,desc:h}=t,f,p;return typeof c.tabIndex=="number"?f=c.tabIndex:f=i?0:void 0,typeof c.role=="string"?p=c.role:p=i?"application":void 0,A.createElement(oR,Og({},c,{title:d,desc:h,role:p,tabIndex:f,width:n,height:r,style:Sae,ref:e}),s)}),Tae=t=>{var{children:e}=t,n=Re(xv);if(!n)return null;var{width:r,height:i,y:s,x:c}=n;return A.createElement(oR,{width:r,height:i,x:c,y:s},e)},U6=A.forwardRef((t,e)=>{var{children:n}=t,r=_ae(t,bae),i=Jr();return i?A.createElement(Tae,null,n):A.createElement(Eae,Og({ref:e},r),n)});function Aae(){var t=hn(),[e,n]=A.useState(null),r=Re(sY);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;pi(s)&&s!==r&&t(OG(s))}},[e,t,r]),n}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iae=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:v,onMouseUp:x,onTouchEnd:_,onTouchMove:w,onTouchStart:E,style:S,width:j}=t,O=hn(),[R,L]=A.useState(null),[D,B]=A.useState(null);Xee();var C=Aae(),P=A.useCallback(re=>{C(re),typeof e=="function"&&e(re),L(re),B(re)},[C,e,L,B]),M=A.useCallback(re=>{O(eD(re)),O($r({handler:s,reactEvent:re}))},[O,s]),F=A.useCallback(re=>{O(rb(re)),O($r({handler:f,reactEvent:re}))},[O,f]),$=A.useCallback(re=>{O(d8()),O($r({handler:p,reactEvent:re}))},[O,p]),H=A.useCallback(re=>{O(rb(re)),O($r({handler:v,reactEvent:re}))},[O,v]),U=A.useCallback(()=>{O(sD())},[O]),pe=A.useCallback(re=>{O(aD(re.key))},[O]),ve=A.useCallback(re=>{O($r({handler:c,reactEvent:re}))},[O,c]),q=A.useCallback(re=>{O($r({handler:d,reactEvent:re}))},[O,d]),z=A.useCallback(re=>{O($r({handler:h,reactEvent:re}))},[O,h]),J=A.useCallback(re=>{O($r({handler:x,reactEvent:re}))},[O,x]),fe=A.useCallback(re=>{O($r({handler:E,reactEvent:re}))},[O,E]),K=A.useCallback(re=>{O(lD(re)),O($r({handler:w,reactEvent:re}))},[O,w]),ie=A.useCallback(re=>{O($r({handler:_,reactEvent:re}))},[O,_]);return A.createElement(N8.Provider,{value:R},A.createElement(ZF.Provider,{value:D},A.createElement("div",{className:wt("recharts-wrapper",r),style:jae({position:"relative",cursor:"default",width:j,height:i},S),onClick:M,onContextMenu:ve,onDoubleClick:q,onFocus:U,onKeyDown:pe,onMouseDown:z,onMouseEnter:F,onMouseLeave:$,onMouseMove:H,onMouseUp:J,onTouchEnd:ie,onTouchMove:K,onTouchStart:fe,ref:P},n)))}),Rae=["children","className","width","height","style","compact","title","desc"];function Pae(t,e){if(t==null)return{};var n,r,i=Dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kae=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:c,compact:d,title:h,desc:f}=t,p=Pae(t,Rae),v=Tt(p,!1);return d?A.createElement(U6,{otherAttributes:v,title:h,desc:f},n):A.createElement(Iae,{className:r,style:c,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(U6,{otherAttributes:v,title:h,desc:f,ref:e},A.createElement(ore,null,n)))}),Mae=["width","height"];function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ib.apply(null,arguments)}function Lae(t,e){if(t==null)return{};var n,r,i=Vae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uae={top:5,right:5,bottom:5,left:5},zae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uae,reverseStackOrder:!1,syncMethod:"index"},Bae=A.forwardRef(function(e,n){var r,i=Pl(e.categoricalChartProps,zae),{width:s,height:c}=i,d=Lae(i,Mae);if(!cg(s)||!cg(c))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,categoricalChartProps:x}=e,_={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return A.createElement(vae,{preloadedState:{options:_},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:h},A.createElement(Qne,{chartData:x.data}),A.createElement(yae,{width:s,height:c,layout:i.layout,margin:i.margin}),A.createElement(xae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(kae,ib({},d,{width:s,height:c,ref:n})))}),qae=["item"],$ae=A.forwardRef((t,e)=>A.createElement(Bae,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:qae,tooltipPayloadSearcher:zee,categoricalChartProps:t,ref:e}));function Fae({productivityData:t}){const e=t.map(i=>({efficiency:i.efficiency,productivity:i.productivity,taskName:i.taskName,sector:i.sector,status:i.status})),n=(i,s)=>{const c=(i+s)/2;return c>=105?"#48bb78":c>=95?"#fbb040":"#f56565"},r=({active:i,payload:s})=>{if(i&&s&&s.length){const c=s[0].payload;return l.jsxs("div",{className:"chart-tooltip",children:[l.jsx("p",{className:"tooltip-title",children:c.taskName}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Setor:"})," ",c.sector]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Eficiência:"})," ",c.efficiency.toFixed(1),"%"]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Produtividade:"})," ",c.productivity.toFixed(1),"%"]}),l.jsxs("p",{className:"tooltip-content",children:[l.jsx("span",{className:"tooltip-label",children:"Status:"})," ",c.status==="completed"?"Concluído":"Atrasado"]})]})}return null};return l.jsxs("div",{className:"charts-section",children:[l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-header",children:l.jsx("h4",{children:"Eficiência vs. Produtividade"})}),l.jsx("div",{className:"chart-container",children:l.jsx(fte,{width:"100%",height:400,children:l.jsxs($ae,{margin:{top:20,right:20,bottom:20,left:20},children:[l.jsx(H8,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(Uw,{type:"number",dataKey:"efficiency",name:"Eficiência",unit:"%",domain:[60,130],tickFormatter:i=>`${i}%`}),l.jsx(zw,{type:"number",dataKey:"productivity",name:"Produtividade",unit:"%",domain:[60,130],tickFormatter:i=>`${i}%`}),l.jsx(ite,{content:l.jsx(r,{})}),l.jsx("line",{x1:"100",y1:"60",x2:"100",y2:"130",stroke:"#cbd5e0",strokeDasharray:"5,5"}),l.jsx("line",{x1:"60",y1:"100",x2:"130",y2:"100",stroke:"#cbd5e0",strokeDasharray:"5,5"}),l.jsx(Vw,{name:"Tarefas",data:e,fill:"#8884d8",children:e.map((i,s)=>l.jsx(Ow,{fill:n(i.efficiency,i.productivity)},`cell-${s}`))})]})})}),l.jsxs("div",{className:"chart-legend",children:[l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#48bb78"}}),l.jsx("span",{children:"Excelente (>105%)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#fbb040"}}),l.jsx("span",{children:"Bom (95-105%)"})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{backgroundColor:"#f56565"}}),l.jsx("span",{children:"Precisa Melhorar (<95%)"})]})]})]}),l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-header",children:l.jsx("h4",{children:"Tendência de Performance"})}),l.jsx("div",{className:"chart-placeholder",children:l.jsxs("div",{className:"chart-info",children:[l.jsx("p",{children:"Evolução da performance ao longo do tempo"}),l.jsxs("div",{className:"trend-indicators",children:[l.jsxs("div",{className:"trend-item",children:[l.jsx("span",{className:"trend-value positive",children:"+5.2%"}),l.jsx("span",{children:"vs. semana anterior"})]}),l.jsxs("div",{className:"trend-item",children:[l.jsx("span",{className:"trend-value positive",children:"+12.8%"}),l.jsx("span",{children:"vs. mês anterior"})]})]})]})})]})]})}function Hae(){const[t,e]=A.useState("today"),[n,r]=A.useState("all"),[i,s]=A.useState("all"),{productivityData:c,operatorRankings:d,periodStats:h,currentUserStats:f}=EF(),p=E=>E>=105?"#48bb78":E>=95?"#fbb040":E>=85?"#f6ad55":"#f56565",v=E=>{switch(E){case"up":return l.jsx(sC,{});case"down":return l.jsx(Xa,{});default:return l.jsx(z2,{})}},x=E=>{const S=Math.floor(E/60),j=E%60;return S>0?`${S}h ${j}m`:`${j}m`},_=c.filter(E=>!(n!=="all"&&E.operatorId!==n||i!=="all"&&E.sector!==i)),w=h.find(E=>{switch(t){case"today":return E.period==="Hoje";case"week":return E.period==="Esta Semana";case"month":return E.period==="Este Mês";default:return E.period==="Hoje"}});return l.jsx("div",{className:"productivity-page",children:l.jsxs("div",{className:"productivity-container",children:[l.jsx(jF,{selectedPeriod:t,setSelectedPeriod:e}),f&&l.jsx(NF,{currentUserStats:f,getEfficiencyColor:p,getTrendIcon:v}),w&&l.jsx(CF,{currentPeriodStats:w,getEfficiencyColor:p,formatTime:x}),l.jsxs("div",{className:"productivity-content",children:[l.jsx(OF,{selectedOperator:n,setSelectedOperator:r,selectedSector:i,setSelectedSector:s}),l.jsx(IF,{filteredData:_,getEfficiencyColor:p,formatTime:x}),l.jsx(RF,{operatorRankings:d,getEfficiencyColor:p,getTrendIcon:v}),l.jsx(Fae,{productivityData:_})]})]})})}function Kae({onNewNCClick:t}){return l.jsxs("div",{className:"nc-header",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:"Não Conformidades"}),l.jsx("p",{children:"Gestão completa de ocorrências e ações corretivas"})]}),l.jsx("div",{className:"header-actions",children:l.jsx("button",{className:"new-nc-btn",onClick:t,children:"➕ Nova Não Conformidade"})})]})}function Gae({stats:t,productionStoppedCount:e}){return l.jsxs("div",{className:"nc-stats",children:[l.jsxs("div",{className:"stat-card urgent",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(El,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.open}),l.jsx("div",{className:"stat-label",children:"Em Aberto"})]})]}),l.jsxs("div",{className:"stat-card critical",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(It,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),l.jsx("div",{className:"stat-label",children:"Críticas/Altas"})]})]}),l.jsxs("div",{className:"stat-card stopped",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(q2,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:e}),l.jsx("div",{className:"stat-label",children:"Produção Parada"})]})]}),l.jsxs("div",{className:"stat-card total",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Xa,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.total}),l.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function Yae({filters:t,setFilters:e}){const n=(r,i)=>{e({...t,[r]:i})};return l.jsxs("div",{className:"nc-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status:"}),l.jsxs("select",{value:t.status?.[0]||"all",onChange:r=>n("status",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"open",children:"Aberto"}),l.jsx("option",{value:"investigating",children:"Em Andamento"}),l.jsx("option",{value:"resolved",children:"Resolvido"}),l.jsx("option",{value:"closed",children:"Fechado"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Severidade:"}),l.jsxs("select",{value:t.severity?.[0]||"all",onChange:r=>n("severity",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"critical",children:"Crítica"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"low",children:"Baixa"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Categoria:"}),l.jsxs("select",{value:t.category?.[0]||"all",onChange:r=>n("category",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todas"}),l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"safety",children:"Segurança"}),l.jsx("option",{value:"process",children:"Processo"}),l.jsx("option",{value:"equipment",children:"Equipamento"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Setor:"}),l.jsxs("select",{value:t.sector?.[0]||"all",onChange:r=>n("sector",r.target.value==="all"?void 0:[r.target.value]),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"Corte",children:"Corte"}),l.jsx("option",{value:"Montagem",children:"Montagem"}),l.jsx("option",{value:"Acabamento",children:"Acabamento"})]})]}),l.jsx("div",{className:"filter-group checkbox",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:!!t.assignedTo,onChange:r=>n("assignedTo",r.target.checked?"current-user":void 0)}),"Apenas minhas NCs"]})}),l.jsx("div",{className:"filter-group checkbox",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:t.severity?.includes("critical")||!1,onChange:r=>n("severity",r.target.checked?["critical"]:void 0)}),"Apenas críticas"]})})]})}function Wae({nc:t,onViewDetails:e,getSeverityColor:n,getStatusColor:r,getCategoryIcon:i}){return l.jsxs("div",{className:"nc-card",children:[l.jsxs("div",{className:"nc-card-header",children:[l.jsxs("div",{className:"nc-info",children:[l.jsxs("div",{className:"nc-id-title",children:[l.jsx("span",{className:"nc-id",children:t.id}),l.jsx("h3",{className:"nc-title",children:t.title})]}),l.jsxs("div",{className:"nc-badges",children:[l.jsxs("span",{className:"category-badge",children:[i(t.category)," ",t.category]}),l.jsx("span",{className:"severity-badge",style:{backgroundColor:n(t.severity)},children:t.severity.toUpperCase()}),l.jsx("span",{className:"status-badge",style:{backgroundColor:r(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("div",{className:"nc-actions",children:l.jsx("button",{className:"action-btn view-btn",onClick:()=>e(t),title:"Ver detalhes",children:l.jsx(Bh,{})})})]}),l.jsxs("div",{className:"nc-card-content",children:[l.jsx("p",{className:"nc-description",children:t.description}),l.jsxs("div",{className:"nc-details",children:[l.jsxs("div",{className:"nc-location",children:[l.jsx("strong",{children:"Localização:"})," ",t.location.sector," -"," ",t.location.station,t.location.equipment&&` (${t.location.equipment})`]}),l.jsxs("div",{className:"nc-reporter",children:[l.jsx(gh,{}),l.jsxs("span",{children:[l.jsx("strong",{children:"Reportado por:"})," ",t.reportedBy.name," (",t.reportedBy.role,")"]})]}),t.assignedTo&&l.jsxs("div",{className:"nc-assigned",children:[l.jsx(gh,{}),l.jsxs("span",{children:[l.jsx("strong",{children:"Atribuído a:"})," ",t.assignedTo.name," (",t.assignedTo.role,")"]})]})]}),l.jsxs("div",{className:"nc-meta",children:[l.jsxs("div",{className:"nc-attachments",children:[l.jsx(zM,{}),l.jsxs("span",{children:[t.attachments.length," anexos"]})]}),l.jsxs("div",{className:"nc-alerts",children:[l.jsx(Dg,{}),l.jsxs("span",{children:[t.attachments.length," anexos"]})]}),l.jsxs("div",{className:"nc-date",children:[l.jsx(Ot,{}),l.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("pt-BR")})]})]})]})]})}function Xae({showModal:t,onClose:e,onSubmit:n,newNC:r,setNewNC:i}){return t?l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"Nova Não Conformidade"}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Tl,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Título:"}),l.jsx("input",{type:"text",value:r.title,onChange:s=>i({...r,title:s.target.value}),placeholder:"Descreva brevemente o problema"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Descrição detalhada:"}),l.jsx("textarea",{value:r.description,onChange:s=>i({...r,description:s.target.value}),placeholder:"Descreva detalhadamente o problema encontrado",rows:4})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Categoria:"}),l.jsxs("select",{value:r.category,onChange:s=>i({...r,category:s.target.value}),children:[l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"safety",children:"Segurança"}),l.jsx("option",{value:"process",children:"Processo"}),l.jsx("option",{value:"equipment",children:"Equipamento"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Severidade:"}),l.jsxs("select",{value:r.severity,onChange:s=>i({...r,severity:s.target.value}),children:[l.jsx("option",{value:"low",children:"Baixa"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"critical",children:"Crítica"})]})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Setor:"}),l.jsx("input",{type:"text",value:r.sector,onChange:s=>i({...r,sector:s.target.value}),placeholder:"Ex: Corte, Montagem, Acabamento"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Estação:"}),l.jsx("input",{type:"text",value:r.station,onChange:s=>i({...r,station:s.target.value}),placeholder:"Ex: Estação 01, Linha 02"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Equipamento (opcional):"}),l.jsx("input",{type:"text",value:r.equipment,onChange:s=>i({...r,equipment:s.target.value}),placeholder:"Ex: Serra CNC-001, Compressor CP-005"})]}),l.jsxs("div",{className:"form-group checkbox-group",children:[l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:r.stopProduction,onChange:s=>i({...r,stopProduction:s.target.checked})}),l.jsx("span",{className:"checkmark"}),"Parar produção imediatamente"]}),l.jsx("p",{className:"checkbox-help",children:"Marque esta opção se o problema requer interrupção imediata da produção"})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{className:"btn-secondary",onClick:e,children:"Cancelar"}),l.jsx("button",{className:"btn-primary",onClick:n,disabled:!r.title||!r.description,children:"Registrar Não Conformidade"})]})]})}):null}function Qae({selectedNC:t,onClose:e,onAssign:n,onAddComment:r,onResolve:i,getSeverityColor:s,getStatusColor:c}){return t?l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content large",onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"nc-modal-title",children:[l.jsxs("h2",{children:[t.id," - ",t.title]}),l.jsxs("div",{className:"nc-modal-badges",children:[l.jsx("span",{className:"severity-badge",style:{backgroundColor:s(t.severity)},children:t.severity.toUpperCase()}),l.jsx("span",{className:"status-badge",style:{backgroundColor:c(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Tl,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"nc-details-grid",children:[l.jsxs("div",{className:"nc-main-info",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Descrição"}),l.jsx("p",{children:t.description})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Localização"}),l.jsxs("div",{className:"location-details",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Setor:"})," ",t.location.sector]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Estação:"})," ",t.location.station]}),t.location.equipment&&l.jsxs("span",{children:[l.jsx("strong",{children:"Equipamento:"})," ",t.location.equipment]})]})]}),t.attachments&&t.attachments.length>0&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Anexos"}),l.jsx("div",{className:"attachments-grid",children:t.attachments.map((d,h)=>l.jsx("div",{className:"attachment-item",children:l.jsx("div",{className:"attachment-info",children:l.jsx("span",{className:"attachment-name",children:d})})},h))})]})]}),l.jsxs("div",{className:"nc-sidebar",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Informações"}),l.jsxs("div",{className:"info-list",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reportado por:"}),l.jsx("span",{className:"info-value",children:t.reportedBy.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Função:"}),l.jsx("span",{className:"info-value",children:t.reportedBy.role})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Data:"}),l.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.assignedTo&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Responsável:"}),l.jsx("span",{className:"info-value",children:t.assignedTo.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Função:"}),l.jsx("span",{className:"info-value",children:t.assignedTo.role})]})]}),t.resolvedAt&&l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]})]})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Comentários"}),l.jsx("div",{className:"comments-list",children:t.comments&&t.comments.length>0?t.comments.map(d=>l.jsxs("div",{className:"comment-item",children:[l.jsxs("div",{className:"comment-header",children:[l.jsx("span",{className:"comment-user",children:d.userName}),l.jsx("span",{className:"comment-time",children:new Date(d.timestamp).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"comment-message",children:d.message})]},d.id)):l.jsx("p",{children:"Nenhum comentário disponível"})})]}),t.status!=="resolved"&&t.status!=="closed"&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Ações Rápidas"}),l.jsxs("div",{className:"quick-actions",children:[t.status==="open"&&l.jsxs("button",{className:"action-btn assign",onClick:()=>n(t.id,"resp-001","Maria Santos","Coordenador"),children:[l.jsx(gh,{})," Atribuir Responsável"]}),l.jsxs("button",{className:"action-btn comment",onClick:()=>{const d=prompt("Adicionar comentário:");d&&r(t.id,d)},children:[l.jsx(lC,{})," Adicionar Comentário"]}),l.jsxs("button",{className:"action-btn resolve",onClick:()=>{const d=prompt("Descreva a resolução:");d&&i(t.id,d)},children:[l.jsx(fl,{})," Resolver"]})]})]})]})]}),l.jsxs("div",{className:"nc-timeline",children:[l.jsx("h4",{children:"Histórico"}),l.jsxs("div",{className:"timeline",children:[l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsx("span",{className:"timeline-user",children:t.reportedBy.name}),l.jsx("span",{className:"timeline-time",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:"Não conformidade criada"})]})]}),t.resolvedAt&&l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsx("span",{className:"timeline-user",children:t.resolvedBy||"Sistema"}),l.jsx("span",{className:"timeline-time",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:"Não conformidade resolvida"})]})]})]})]})]})]})}):null}function Zae(){const{user:t}=vi(),[e,n]=A.useState([]),[r,i]=A.useState(null),[s,c]=A.useState(!1),[d,h]=A.useState({status:[],severity:[],priority:[],category:[],sector:[],assignedTo:void 0,dateRange:void 0}),[f,p]=A.useState({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""});A.useEffect(()=>{n([{id:"NC-2024-001",title:"Peça com dimensão fora do padrão",description:"Durante a inspeção de qualidade, foi identificado que 5 peças estão com dimensões 2mm acima do especificado no desenho técnico. Possível problema no setup da máquina de corte.",category:"quality",severity:"high",priority:"high",status:"investigating",location:{sector:"Corte",station:"Estação 02",equipment:"Serra CNC-001"},reportedBy:{id:"op-001",name:"João Silva",role:"Operador"},assignedTo:{id:"qc-001",name:"Maria Santos",role:"Coordenador Qualidade"},createdAt:"2024-01-20T10:30:00",updatedAt:"2024-01-20T11:15:00",attachments:["peca_defeituosa.jpg","medicao_dimensional.pdf"]},{id:"NC-2024-002",title:"Material com defeito visual",description:"Identificado risco na matéria-prima recebida. Manchas e riscos visíveis que podem comprometer o acabamento final.",category:"material",severity:"medium",priority:"medium",status:"resolved",location:{sector:"Recebimento",station:"Dock 01"},reportedBy:{id:"op-002",name:"Ana Oliveira",role:"Operador"},assignedTo:{id:"wh-001",name:"Roberto Lima",role:"Supervisor Almoxarifado"},createdAt:"2024-01-19T14:20:00",updatedAt:"2024-01-19T16:45:00",resolvedAt:"2024-01-19T16:45:00",attachments:["material_defeituoso.jpg"]},{id:"NC-2024-003",title:"Equipamento com ruído anormal",description:"Compressor apresentando ruído excessivo e vibração. Pode indicar problema mecânico que requer manutenção preventiva.",category:"equipment",severity:"low",priority:"low",status:"open",location:{sector:"Montagem",station:"Linha 03",equipment:"Compressor CP-005"},reportedBy:{id:"op-003",name:"Carlos Mendes",role:"Operador"},createdAt:"2024-01-20T08:15:00",updatedAt:"2024-01-20T08:15:00",attachments:[]}])},[]);const v=()=>{const D={id:`NC-2024-${String(e.length+1).padStart(3,"0")}`,title:f.title,description:f.description,category:f.category,severity:f.severity,priority:"medium",status:"open",location:{sector:f.sector,station:f.station,equipment:f.equipment||void 0},reportedBy:{id:t?.id||"current-user",name:t?.name||t?.displayName||"Usuário Atual",role:"Operador"},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),attachments:[]};n(B=>[D,...B]),c(!1),p({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""})},x=(D,B,C,P)=>{n(M=>M.map(F=>F.id===D?{...F,assignedTo:{id:B,name:C,role:P},status:"investigating",updatedAt:new Date().toISOString()}:F))},_=(D,B)=>{n(C=>C.map(P=>P.id===D?{...P,updatedAt:new Date().toISOString()}:P))},w=(D,B)=>{n(C=>C.map(P=>P.id===D?{...P,status:"resolved",resolvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:P))},E=D=>{switch(D){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"critical":return"#e53e3e";default:return"#4a5568"}},S=D=>{switch(D){case"open":return"#f56565";case"investigating":return"#fbb040";case"resolved":return"#48bb78";case"closed":return"#4a5568";default:return"#4a5568"}},j=D=>{switch(D){case"quality":return"🔍";case"safety":return"⚠️";case"process":return"⚙️";case"equipment":return"🔧";case"material":return"📦";default:return"📋"}},O=e.filter(D=>!(d.status&&d.status.length>0&&!d.status.includes(D.status)||d.severity&&d.severity.length>0&&!d.severity.includes(D.severity)||d.category&&d.category.length>0&&!d.category.includes(D.category)||d.sector&&d.sector.length>0&&!d.sector.includes(D.location.sector))),R={total:e.length,open:e.filter(D=>D.status==="open").length,investigating:e.filter(D=>D.status==="investigating").length,resolved:e.filter(D=>D.status==="resolved").length,closed:e.filter(D=>D.status==="closed").length,bySeverity:{low:e.filter(D=>D.severity==="low").length,medium:e.filter(D=>D.severity==="medium").length,high:e.filter(D=>D.severity==="high").length,critical:e.filter(D=>D.severity==="critical").length},byPriority:{low:e.filter(D=>D.priority==="low").length,medium:e.filter(D=>D.priority==="medium").length,high:e.filter(D=>D.priority==="high").length,urgent:e.filter(D=>D.priority==="urgent").length}};return l.jsx("div",{className:"nc-page",children:l.jsxs("div",{className:"nc-container",children:[l.jsx(Kae,{onNewNCClick:()=>c(!0)}),l.jsx(Gae,{stats:R,productionStoppedCount:0}),l.jsxs("div",{className:"nc-content",children:[l.jsx(Yae,{filters:d,setFilters:h}),l.jsx("div",{className:"nc-list",children:O.map(D=>l.jsx(Wae,{nc:D,onViewDetails:B=>i(B),onAssign:x,getSeverityColor:E,getStatusColor:S,getCategoryIcon:j},D.id))})]}),l.jsx(Xae,{showModal:s,onClose:()=>c(!1),onSubmit:v,newNC:f,setNewNC:p}),l.jsx(Qae,{selectedNC:r,onClose:()=>i(null),onAssign:x,onAddComment:_,onResolve:w,getSeverityColor:E,getStatusColor:S})]})})}function Jae(){return l.jsxs("div",{className:"alerts-header",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("div",{className:"header-icon",children:l.jsx(Ys,{})}),l.jsxs("div",{className:"header-text",children:[l.jsx("h1",{children:"Central de Alertas"}),l.jsx("p",{children:"Monitoramento em tempo real de alertas, não conformidades e eventos críticos"})]})]}),l.jsx("div",{className:"header-status",children:l.jsx("div",{className:"status-indicator active",children:l.jsx(It,{})})})]})}function ese({stats:t}){return l.jsxs("div",{className:"alerts-stats",children:[l.jsxs("div",{className:"stat-card critical",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(El,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.active}),l.jsx("div",{className:"stat-label",children:"Alertas Ativos"})]})]}),l.jsxs("div",{className:"stat-card high",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(It,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),l.jsx("div",{className:"stat-label",children:"Críticos"})]})]}),l.jsxs("div",{className:"stat-card urgent",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(dC,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.byPriority.urgent}),l.jsx("div",{className:"stat-label",children:"Urgentes"})]})]}),l.jsxs("div",{className:"stat-card warning",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Ys,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.active-t.acknowledged}),l.jsx("div",{className:"stat-label",children:"Não Reconhecidos"})]})]}),l.jsxs("div",{className:"stat-card info",children:[l.jsx("div",{className:"stat-icon",children:l.jsx(Xa,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("div",{className:"stat-value",children:t.total}),l.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function tse({filterType:t,setFilterType:e,filterStatus:n,setFilterStatus:r,filterSeverity:i,setFilterSeverity:s,filterPriority:c,setFilterPriority:d,showOnlyMyAlerts:h,setShowOnlyMyAlerts:f}){return l.jsxs("div",{className:"alerts-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Tipo: "}),l.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"production_stop",children:"Parada de Produção"}),l.jsx("option",{value:"non_conformity",children:"Não Conformidade"}),l.jsx("option",{value:"priority_change",children:"Mudança de Prioridade"}),l.jsx("option",{value:"delay",children:"Atraso"}),l.jsx("option",{value:"quality",children:"Qualidade"}),l.jsx("option",{value:"maintenance",children:"Manutenção"}),l.jsx("option",{value:"material",children:"Material"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status: "}),l.jsxs("select",{value:n,onChange:p=>r(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"acknowledged",children:"Reconhecido"}),l.jsx("option",{value:"in_progress",children:"Em Andamento"}),l.jsx("option",{value:"resolved",children:"Resolvido"}),l.jsx("option",{value:"dismissed",children:"Dispensado"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Severidade: "}),l.jsxs("select",{value:i,onChange:p=>s(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"critical",children:"Crítica"}),l.jsx("option",{value:"low",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"high",children:"Baixa"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Prioridade: "}),l.jsxs("select",{value:c,onChange:p=>d(p.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"urgent",children:"Urgente"}),l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"medium",children:"Média"}),l.jsx("option",{value:"low",children:"Baixa"})]})]}),l.jsx("div",{className:"filter-group checkbox-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:p=>f(p.target.checked)}),l.jsx("span",{className:"checkbox-text",children:"Mostrar apenas meus alertas"})]})})]})}function nse({alerts:t,onSelectAlert:e,onAcknowledgeAlert:n,currentUserId:r}){const i=p=>{switch(p){case"critical":return"#f56565";case"high":return"#fbb040";case"medium":return"#4299e1";case"low":return"#48bb78";default:return"#4a5568"}},s=p=>{switch(p){case"urgent":return"#e53e3e";case"high":return"#f56565";case"medium":return"#fbb040";case"low":return"#48bb78";default:return"#4a5568"}},c=p=>{switch(p){case"production_stop":return l.jsx(Dg,{});case"non_conformity":return l.jsx(El,{});case"priority_change":return l.jsx(za,{});case"delay":return l.jsx(Ot,{});case"quality":return l.jsx(qh,{});case"maintenance":return l.jsx(JM,{});case"material":return l.jsx(mb,{});default:return l.jsx(Ys,{})}},d=p=>{switch(p){case"production_stop":return"Parada de Produção";case"non_conformity":return"Não Conformidade";case"priority_change":return"Mudança de Prioridade";case"delay":return"Atraso";case"quality":return"Qualidade";case"maintenance":return"Manutenção";case"material":return"Material";default:return p}},h=p=>p.recipients.some(v=>v.id===r),f=p=>r&&p.recipients.some(v=>v.id===r&&v.acknowledged);return l.jsxs("div",{className:"alerts-list",children:[l.jsx("div",{className:"list-header",children:l.jsxs("h3",{children:["Alertas (",t.length,")"]})}),l.jsx("div",{className:"alerts-grid",children:t.map(p=>l.jsxs("div",{className:`alert-card ${p.severity} ${p.status} ${p.priority==="urgent"?"urgent":""}`,children:[l.jsxs("div",{className:"alert-header",children:[l.jsxs("div",{className:"alert-type",children:[l.jsx("span",{className:"type-icon",children:c(p.severity)}),l.jsx("span",{className:"type-label",children:d(p.severity)})]}),l.jsxs("div",{className:"alert-badges",children:[l.jsx("span",{className:"severity-badge",style:{backgroundColor:i(p.severity)},children:p.severity.toUpperCase()}),l.jsx("span",{className:"priority-badge",style:{backgroundColor:s(p.priority)},children:p.priority.toUpperCase()})]})]}),l.jsxs("div",{className:"alert-content",children:[l.jsx("h4",{className:"alert-title",children:p.title}),l.jsx("p",{className:"alert-message",children:p.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Local:"}),l.jsxs("span",{className:"detail-value",children:[p.location.sector,p.location.station&&` - ${p.location.station}`]})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Origem:"}),l.jsx("span",{className:"detail-value",children:p.source.name})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Criado:"}),l.jsx("span",{className:"detail-value",children:new Date(p.createdAt).toLocaleString("pt-BR")})]})]}),p.tags&&p.tags.length>0&&l.jsx("div",{className:"alert-tags",children:p.tags.map((v,x)=>l.jsx("span",{className:"tag",children:v},x))})]}),l.jsxs("div",{className:"alert-actions",children:[l.jsxs("button",{className:"action-btn view",onClick:()=>e(p),children:[l.jsx(Bh,{})," Detalhes"]}),h(p)&&!f(p)&&p.status==="active"&&l.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(p.id),children:[l.jsx(Va,{})," Reconhecer"]}),p.status==="active"&&l.jsx("div",{className:"status-indicator active",children:l.jsx(It,{})}),p.status==="acknowledged"&&l.jsx("div",{className:"status-indicator acknowledged",children:l.jsx(Ot,{})})]})]},p.id))}),t.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(Ys,{})}),l.jsx("h3",{children:"Nenhum alerta encontrado"}),l.jsx("p",{children:"Não há alertas que correspondam aos filtros selecionados."})]})]})}function rse({alert:t,onClose:e,onAcknowledge:n,onResolve:r,onAddComment:i,currentUserId:s}){if(!t)return null;const c=()=>{const p=prompt("Descreva a resolução do alerta:");p&&r(t.id,p)},d=()=>{const p=prompt("Adicione um comentário:");p&&i(t.id,p)},h=()=>s&&t.recipients.some(p=>p.id===s),f=()=>s&&t.recipients.some(p=>p.id===s&&p.acknowledged);return l.jsx("div",{className:"modal-overlay",onClick:e,children:l.jsxs("div",{className:"modal-content large",onClick:p=>p.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"alert-modal-title",children:[l.jsx("h2",{children:t.title}),l.jsxs("div",{className:"alert-modal-badges",children:[l.jsx("span",{className:`severity-badge ${t.severity}`,children:t.severity.toUpperCase()}),l.jsx("span",{className:`priority-badge ${t.priority}`,children:t.priority.toUpperCase()}),l.jsx("span",{className:`status-badge ${t.status}`,children:t.status.replace("_"," ").toUpperCase()})]})]}),l.jsx("button",{className:"modal-close",onClick:e,children:l.jsx(Tl,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"alert-details-grid",children:[l.jsxs("div",{className:"alert-main-info",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Descrição"}),l.jsx("p",{children:t.description})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Localização e Contexto"}),l.jsxs("div",{className:"location-details",children:[l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Setor:"}),l.jsx("span",{className:"detail-value",children:t.location.sector})]}),t.location.station&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Estação:"}),l.jsx("span",{className:"detail-value",children:t.location.station})]}),t.location.equipment&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Equipamento:"}),l.jsx("span",{className:"detail-value",children:t.location.equipment})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Relacionado a:"}),l.jsxs("span",{className:"detail-value",children:[t.relatedEntity.name," (",t.relatedEntity.id,")"]})]})]})]}),t.attachments.length>0&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Anexos"}),l.jsx("div",{className:"attachments-list",children:t.attachments.map((p,v)=>l.jsx("div",{className:"attachment-item",children:l.jsx("span",{className:"attachment-name",children:p})},v))})]})]}),l.jsxs("div",{className:"alert-sidebar",children:[l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Informações Gerais"}),l.jsxs("div",{className:"info-list",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Origem:"}),l.jsx("span",{className:"info-value",children:t.source.name})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Criado em:"}),l.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.acknowledgedAt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reconhecido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.acknowledgedAt).toLocaleString("pt-BR")})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Reconhecido por:"}),l.jsx("span",{className:"info-value",children:t.acknowledgedBy})]})]}),t.resolvedAt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido em:"}),l.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Resolvido por:"}),l.jsx("span",{className:"info-value",children:t.resolvedBy})]})]})]})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Destinatários"}),l.jsx("div",{className:"recipients-list",children:t.recipients.map(p=>l.jsxs("div",{className:"recipient-item",children:[l.jsxs("div",{className:"recipient-info",children:[l.jsx("span",{className:"recipient-name",children:p.name}),l.jsx("span",{className:"recipient-role",children:p.role})]}),l.jsx("div",{className:"recipient-status",children:p.acknowledged?l.jsxs("span",{className:"status-acknowledged",children:[l.jsx(Va,{})," Reconhecido"]}):l.jsxs("span",{className:"status-pending",children:[l.jsx(Ot,{})," Pendente"]})})]},p.id))})]}),l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Tags"}),l.jsx("div",{className:"tags-list",children:t.tags&&t.tags.length>0?t.tags.map((p,v)=>l.jsx("span",{className:"tag",children:p},v)):l.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Nenhuma tag disponível"})})]}),t.status!=="resolved"&&t.status!=="dismissed"&&l.jsxs("div",{className:"info-section",children:[l.jsx("h4",{children:"Ações"}),l.jsxs("div",{className:"quick-actions",children:[h()&&!f()&&t.status==="active"&&l.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(t.id),children:[l.jsx(Va,{})," Reconhecer"]}),l.jsxs("button",{className:"action-btn comment",onClick:d,children:[l.jsx(lC,{})," Comentar"]}),l.jsxs("button",{className:"action-btn resolve",onClick:c,children:[l.jsx(It,{})," Resolver"]})]})]})]})]}),l.jsxs("div",{className:"alert-timeline",children:[l.jsx("h4",{children:"Histórico de Comentários"}),l.jsx("div",{className:"timeline",children:t.comments&&t.comments.length>0?t.comments.map(p=>l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsxs("div",{className:"timeline-content",children:[l.jsxs("div",{className:"timeline-header",children:[l.jsxs("span",{className:"timeline-user",children:[l.jsx(gh,{})," ",p.userName]}),l.jsx("span",{className:"timeline-time",children:new Date(p.timestamp).toLocaleString("pt-BR")})]}),l.jsx("div",{className:"timeline-description",children:p.message}),p.type!=="comment"&&l.jsx("div",{className:"timeline-type",children:p.type==="status_change"?"Mudança de Status":"Escalação"})]})]},p.id)):l.jsxs("div",{className:"timeline-item",children:[l.jsx("div",{className:"timeline-marker"}),l.jsx("div",{className:"timeline-content",children:l.jsx("div",{className:"timeline-description",style:{color:"#999",fontStyle:"italic"},children:"Nenhum comentário disponível"})})]})})]})]})]})})}function ise(){const{user:t}=vi(),[e,n]=A.useState([]),[r,i]=A.useState([]),[s,c]=A.useState(null),[d,h]=A.useState("all"),[f,p]=A.useState("all"),[v,x]=A.useState("all"),[_,w]=A.useState("all"),[E,S]=A.useState(!1);A.useEffect(()=>{const D=[{id:"alert-001",title:"PRODUÇÃO PARADA - Não Conformidade Crítica",description:"Peças com dimensão fora do padrão detectadas. Produção foi interrompida conforme procedimento. Aguardando análise da qualidade para liberação.",severity:"critical",priority:"urgent",location:{sector:"Corte",station:"Estação 02",equipment:"Serra CNC-001"},relatedEntity:{id:"OP-2024-001",name:"Produto A - Modelo X"},source:{id:"op-001",name:"João Silva"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"qc-001",name:"Maria Santos",role:"quality",department:"Qualidade",acknowledged:!0},{id:"eng-001",name:"Carlos Oliveira",role:"engineering",department:"Engenharia",acknowledged:!1}],status:"active",createdAt:"2024-01-20T10:30:00",acknowledgedAt:"2024-01-20T10:45:00",acknowledgedBy:"Pedro Costa",tags:["produção","qualidade","crítico"],attachments:["foto_peca_defeituosa.jpg","medicao_dimensional.pdf"],comments:[{id:"comment-001",userName:"João Silva",message:"Produção interrompida. 5 peças com problema identificadas.",timestamp:"2024-01-20T10:30:00",type:"comment"},{id:"comment-002",userId:"coord-001",userName:"Pedro Costa",message:"Alerta reconhecido. Acionando equipe de qualidade.",timestamp:"2024-01-20T10:45:00",type:"status_change"},{id:"comment-003",userId:"qc-001",userName:"Maria Santos",message:"Verificando calibração da máquina. Setup será refeito.",timestamp:"2024-01-20T11:15:00",type:"comment"}]},{id:"alert-002",title:"Mudança de Prioridade - Pedido Urgente",description:"Cliente solicitou antecipação do prazo de entrega. Pedido deve ser priorizado na programação de produção.",severity:"medium",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema ERP"},location:{sector:"Planejamento"},relatedEntity:{id:"OP-2024-005",name:"Produto E - Modelo V"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!0},{id:"plan-001",name:"Ana Oliveira",role:"admin",department:"Planejamento",acknowledged:!1}],createdAt:"2024-01-20T14:15:00",acknowledgedAt:"2024-01-20T14:20:00",acknowledgedBy:"Pedro Costa",tags:["prioridade","planejamento"],attachments:[],comments:[{id:"comment-004",userName:"Ana Oliveira",message:"Alteração solicitada pelo cliente. Prazo reduzido em 2 dias.",timestamp:"2024-01-20T14:15:00",type:"comment"}]},{id:"alert-003",title:"Atraso na Produção",description:"A tarefa de montagem do OP-2024-002 está com atraso de 30 minutos em relação ao planejado. Pode impactar o prazo final do pedido.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Monitoramento"},location:{sector:"Montagem",station:"Linha 03"},relatedEntity:{id:"task-002",name:"Montagem Principal"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T15:30:00",tags:["atraso","montagem"],attachments:[],comments:[]},{id:"alert-004",title:"Material em Falta",description:"Componente XYZ-123 está com estoque abaixo do mínimo. Pode impactar a produção dos próximos pedidos se não for reposto.",severity:"high",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema de Estoque"},location:{sector:"Almoxarifado"},relatedEntity:{id:"mat-123",name:"Componente XYZ-123"},recipients:[{id:"wh-001",name:"Roberto Lima",role:"warehouse",department:"Almoxarifado",acknowledged:!0},{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1}],createdAt:"2024-01-20T09:00:00",acknowledgedAt:"2024-01-20T09:15:00",acknowledgedBy:"Roberto Lima",tags:["material","estoque"],attachments:[],comments:[{id:"comment-005",userId:"wh-001",userName:"Roberto Lima",message:"Pedido de compra já foi enviado ao fornecedor. Previsão de entrega: 2 dias.",timestamp:"2024-01-20T09:15:00",type:"comment"}]},{id:"alert-005",title:"Manutenção Preventiva Agendada",description:"Manutenção preventiva do equipamento CNC-002 agendada para amanhã às 08:00. Produção deve ser reprogramada.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Manutenção"},location:{sector:"Corte",equipment:"CNC-002"},relatedEntity:{id:"eq-002",name:"Serra CNC-002"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produção",acknowledged:!1},{id:"maint-001",name:"José Santos",role:"engineering",department:"Manutenção",acknowledged:!0}],createdAt:"2024-01-20T16:00:00",acknowledgedAt:"2024-01-20T16:00:00",acknowledgedBy:"José Santos",tags:["manutenção","preventiva"],attachments:[],comments:[]}];n(D),i(D)},[]),A.useEffect(()=>{let D=[...e];d!=="all"&&(D=D.filter(B=>B.severity===d)),f!=="all"&&(D=D.filter(B=>B.status===f)),v!=="all"&&(D=D.filter(B=>B.severity===v)),_!=="all"&&(D=D.filter(B=>B.priority===_)),E&&t&&(D=D.filter(B=>B.recipients.some(C=>C.id===t.id)||B.source.id===t.id)),D.sort((B,C)=>{const P={urgent:4,high:3,medium:2,low:1},M=P[C.priority]-P[B.priority];return M!==0?M:new Date(C.createdAt).getTime()-new Date(B.createdAt).getTime()}),i(D)},[e,d,f,v,_,E,t]);const j=D=>{n(B=>B.map(C=>C.id===D?{...C,status:"acknowledged",acknowledgedAt:new Date().toISOString(),acknowledgedBy:t?.name||t?.displayName||"Usuário Atual",recipients:C.recipients.map(P=>P.id===t?.id?{...P,acknowledged:!0}:P)}:C))},O=(D,B)=>{n(C=>C.map(P=>P.id===D?{...P,status:"resolved",resolvedAt:new Date().toISOString(),resolvedBy:t?.name||t?.displayName||"Usuário Atual",comments:[...P.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:`Alerta resolvido: ${B}`,timestamp:new Date().toISOString(),type:"status_change"}]}:P))},R=(D,B)=>{n(C=>C.map(P=>P.id===D?{...P,comments:[...P.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usuário Atual",message:B,timestamp:new Date().toISOString(),type:"comment"}]}:P))},L=()=>{const D=e.length,B=e.filter(H=>H.status==="active").length,C=e.filter(H=>H.status==="acknowledged").length,P=e.filter(H=>H.status==="resolved").length,M=e.filter(H=>H.status==="dismissed").length,F={low:e.filter(H=>H.severity==="low").length,medium:e.filter(H=>H.severity==="medium").length,high:e.filter(H=>H.severity==="high").length,critical:e.filter(H=>H.severity==="critical").length},$={low:e.filter(H=>H.priority==="low").length,medium:e.filter(H=>H.priority==="medium").length,high:e.filter(H=>H.priority==="high").length,urgent:e.filter(H=>H.priority==="urgent").length};return{total:D,active:B,acknowledged:C,resolved:P,dismissed:M,bySeverity:F,byPriority:$}};return l.jsx("div",{className:"alerts-page",children:l.jsxs("div",{className:"alerts-container",children:[l.jsx(Jae,{}),l.jsx(ese,{stats:L()}),l.jsx(tse,{filterType:d,setFilterType:h,filterStatus:f,setFilterStatus:p,filterSeverity:v,setFilterSeverity:x,filterPriority:_,setFilterPriority:w,showOnlyMyAlerts:E,setShowOnlyMyAlerts:S}),l.jsx(nse,{alerts:r,onSelectAlert:c,onAcknowledgeAlert:j,currentUserId:t?.id}),l.jsx(rse,{alert:s,onClose:()=>c(null),onAcknowledge:j,onResolve:O,onAddComment:R,currentUserId:t?.id})]})})}function ase({onRefresh:t}){const e=new Date().toLocaleString("pt-BR");return l.jsx("div",{className:"control-panel-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("div",{className:"header-info",children:[l.jsx("div",{className:"header-icon",children:l.jsx(Ua,{})}),l.jsxs("div",{className:"header-text",children:[l.jsx("h1",{children:"Painel de Controle"}),l.jsx("p",{children:"Monitoramento em tempo real da produção"})]})]}),l.jsxs("div",{className:"header-actions",children:[l.jsx("div",{className:"last-update",children:l.jsxs("span",{children:["Ultima atualização: ",e]})}),l.jsx("button",{className:"refresh-btn",onClick:t,title:"Atualizar dados",children:l.jsx(za,{})})]})]})})}function sse({status:t,activeOrders:e,urgentOrders:n,blockedOrders:r}){const s=(()=>{switch(t){case"green":return{message:"Sistema Operando Normalmente",description:"Todos os processos estão funcionando dentro dos parâmetros esperados",color:"#48bb78"};case"yellow":return{message:"Atenção Necessária",description:"Alguns processos requerem monitoramento próximo",color:"#ed8936"};case"red":return{message:"Intervenção Urgente",description:"Problemas críticos detectados que requerem ação imediata",color:"#f56565"}}})();return l.jsxs("div",{className:"status-semaphore",children:[l.jsx("div",{className:"semaphore-header",children:l.jsx("h2",{children:"Status Geral do Sistema"})}),l.jsxs("div",{className:"semaphore-content",children:[l.jsxs("div",{className:"semaphore-lights",children:[l.jsx("div",{className:`light red ${t==="red"?"active":""}`,children:l.jsx(F0,{})}),l.jsx("div",{className:`light yellow ${t==="yellow"?"active":""}`,children:l.jsx(F0,{})}),l.jsx("div",{className:`light green ${t==="green"?"active":""}`,children:l.jsx(F0,{})})]}),l.jsxs("div",{className:"status-info",children:[l.jsx("h3",{style:{color:s.color},children:s.message}),l.jsx("p",{children:s.description})]})]}),l.jsxs("div",{className:"status-metrics",children:[l.jsxs("div",{className:"metric-card active",children:[l.jsx("div",{className:"metric-icon",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:e}),l.jsx("span",{className:"metric-label",children:"Pedidos Ativos"})]})]}),l.jsxs("div",{className:"metric-card urgent",children:[l.jsx("div",{className:"metric-icon",children:l.jsx(It,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:n}),l.jsx("span",{className:"metric-label",children:"Pedidos Urgentes"})]})]}),l.jsxs("div",{className:"metric-card blocked",children:[l.jsx("div",{className:"metric-icon",children:l.jsx(Dg,{})}),l.jsxs("div",{className:"metric-info",children:[l.jsx("span",{className:"metric-value",children:r}),l.jsx("span",{className:"metric-label",children:"Pedidos Bloqueados"})]})]})]})]})}function ose({pendencies:t,onResolve:e}){const n=c=>{switch(c){case"urgent":return l.jsx(It,{});case"high":return l.jsx(Ot,{});case"medium":return l.jsx(Vc,{});case"low":return l.jsx(Vc,{});default:return l.jsx(Vc,{})}},r=c=>{switch(c){case"maintenance":return l.jsx(ph,{});case"quality":return l.jsx(El,{});case"safety":return l.jsx(mC,{});case"process":return l.jsx(Ua,{});case"material":return l.jsx(mb,{});case"equipment":return l.jsx(ph,{});default:return l.jsx(Vc,{})}},i=c=>{const d=new Date,h=new Date(c),f=Math.floor((d.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const p=Math.floor(f/60);return p<24?`${p}h atrás`:`${Math.floor(p/24)}d atrás`},s=c=>c.dueDate?new Date(c.dueDate)<new Date&&c.status!=="completed":!1;return l.jsxs("div",{className:"pendencies-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Principais Pendências"}),l.jsx("span",{className:"pendencies-count",children:t.length})]}),l.jsx("div",{className:"pendencies-list",children:t.length===0?l.jsxs("div",{className:"no-pendencies",children:[l.jsx(Va,{className:"success-icon"}),l.jsx("p",{children:"Nenhuma pendência no momento"})]}):t.map(c=>l.jsxs("div",{className:`pendency-item ${c.priority} ${s(c)?"overdue":""}`,children:[l.jsx("div",{className:"pendency-icon",children:n(c.priority)}),l.jsxs("div",{className:"pendency-content",children:[l.jsxs("div",{className:"pendency-header",children:[l.jsx("h3",{children:c.title}),l.jsx("span",{className:"pendency-time",children:i(c.createdAt)})]}),l.jsx("p",{className:"pendency-description",children:c.description}),l.jsxs("div",{className:"pendency-details",children:[l.jsxs("span",{className:"pendency-category",children:[r(c.category)," ",c.category]}),l.jsxs("span",{className:"pendency-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),c.assignedTo&&l.jsx("span",{className:"pendency-assigned",children:c.assignedTo.name})]}),s(c)&&l.jsxs("div",{className:"overdue-warning",children:[l.jsx(It,{}),l.jsx("span",{children:"Pendência vencida"})]}),l.jsxs("div",{className:"pendency-footer",children:[l.jsxs("span",{className:"pendency-sector",children:["Setor: ",c.location.sector]}),l.jsxs("button",{className:"resolve-btn",onClick:()=>e(c.id),title:"Marcar como resolvido",children:[l.jsx(Va,{}),"Resolver"]})]})]})]},c.id))})]})}function lse({alerts:t,onAcknowledge:e}){const n=c=>{switch(c){case"critical":return l.jsx(Dg,{});case"high":return l.jsx(It,{});case"medium":return l.jsx(El,{});case"low":return l.jsx(Vc,{});default:return l.jsx(Vc,{})}},r=c=>{const d=new Date,h=new Date(c),f=Math.floor((d.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrás`;const p=Math.floor(f/60);return p<24?`${p}h atrás`:`${Math.floor(p/24)}d atrás`},i=t.filter(c=>c.status==="active"),s=t.filter(c=>c.status==="acknowledged");return l.jsxs("div",{className:"alerts-overview",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Alertas em Tempo Real"}),l.jsxs("div",{className:"alerts-badges",children:[l.jsx("span",{className:"badge critical",children:t.filter(c=>c.severity==="critical"&&c.status==="active").length}),l.jsx("span",{className:"badge warning",children:t.filter(c=>c.severity==="high"&&c.status==="active").length}),l.jsx("span",{className:"badge info",children:t.filter(c=>(c.severity==="medium"||c.severity==="low")&&c.status==="active").length})]})]}),l.jsx("div",{className:"alerts-container",children:i.length===0&&s.length===0?l.jsxs("div",{className:"no-alerts",children:[l.jsx(Va,{className:"success-icon"}),l.jsx("p",{children:"Nenhum alerta ativo"})]}):l.jsxs(l.Fragment,{children:[i.length>0&&l.jsxs("div",{className:"alerts-section",children:[l.jsxs("h3",{className:"section-title",children:[" ","Não reconhecidos (",i.length,")"]}),l.jsx("div",{className:"alerts-list",children:i.map(c=>l.jsxs("div",{className:`alert-item ${c.severity} unacknowledged`,children:[l.jsx("div",{className:"alert-icon",children:n(c.severity)}),l.jsxs("div",{className:"alert-content",children:[l.jsxs("div",{className:"alert-header",children:[l.jsx("h4",{children:c.title}),l.jsx("span",{className:"alert-time",children:r(c.createdAt)})]}),l.jsx("p",{className:"alert-message",children:c.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("span",{className:"alert-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),l.jsx("span",{className:"alert-source",children:c.source.name})]}),l.jsxs("button",{className:"acknowledge-btn",onClick:()=>e(c.id),title:"Reconhecer alerta",children:[l.jsx(Va,{}),"Reconhecer"]})]})]},c.id))})]}),s.length>0&&l.jsxs("div",{className:"alerts-section",children:[l.jsxs("h3",{className:"section-title",children:["Reconhecidos (",s.length,")"]}),l.jsx("div",{className:"alerts-list acknowledged",children:s.slice(0,3).map(c=>l.jsxs("div",{className:`alert-item ${c.severity} acknowledged`,children:[l.jsx("div",{className:"alert-icon",children:n(c.severity)}),l.jsxs("div",{className:"alert-content",children:[l.jsxs("div",{className:"alert-header",children:[l.jsx("h4",{children:c.title}),l.jsx("span",{className:"alert-time",children:r(c.createdAt)})]}),l.jsx("p",{className:"alert-message",children:c.description}),l.jsxs("div",{className:"alert-details",children:[l.jsxs("span",{className:"alert-location",children:[c.location.sector,c.location.station&&` - ${c.location.station}`]}),l.jsx("span",{className:"alert-source",children:c.source.name})]})]})]},c.id))})]})]})})]})}function cse({data:t}){const e=t.open+t.investigating+t.resolved,n=e>0?t.bySeverity.critical/e*100:0,r=()=>t.bySeverity.critical>5?"#e53e3e":t.bySeverity.critical>2?"#ed8936":"#48bb78";return l.jsxs("div",{className:"nonconformity-status",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("p",{children:"Status de Não Conformidade"}),l.jsxs("div",{className:"critical-indicator",style:{backgroundColor:r()},children:[l.jsx(El,{}),l.jsxs("span",{children:[t.bySeverity.critical," criticas"]})]})]}),l.jsxs("div",{className:"status-overview",children:[l.jsxs("div",{className:"status-card",children:[l.jsx("span",{className:"card-number",children:e}),l.jsx("span",{className:"count-label",children:"Total de NCs"})]}),n>0&&l.jsxs("div",{className:"critical-percentage",children:[l.jsx("div",{className:"percentage-bar",children:l.jsx("div",{className:"percentage-fill",style:{width:`${Math.min(n,100)}%`}})}),l.jsxs("span",{className:"percentage-text",children:[n.toFixed(1),"% de criticas"]})]})]}),l.jsxs("div",{className:"status-cards",children:[l.jsxs("div",{className:"status-card open",children:[l.jsx("div",{className:"card-icon",children:l.jsx(It,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.open}),l.jsx("span",{className:"card-label",children:"Abertas"})]})]}),l.jsxs("div",{className:"status-card progress",children:[l.jsx("div",{className:"card-icon",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.investigating}),l.jsx("span",{className:"card-label",children:"Em Andamento"})]})]}),l.jsxs("div",{className:"status-card resolved",children:[l.jsx("div",{className:"card-icon",children:l.jsx(fl,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("span",{className:"card-number",children:t.resolved}),l.jsx("span",{className:"card-label",children:"Resolvidas"})]})]})]}),l.jsxs("div",{className:"quick-actions",children:[l.jsx("button",{className:"action-btn primary",children:"Ver todas as NCs"}),l.jsx("button",{className:"action-btn secondary",children:"Relatorio mensal"})]})]})}function use(){const t=[{id:"generate-report",title:"Gerar Relatório",description:"Relatório completo de produção",icon:l.jsx(cC,{}),color:"blue",onClick:()=>console.log("Generating report...")},{id:"export-data",title:"Exportar Dados",description:"Exportar dados para Excel/PDF",icon:l.jsx($c,{}),color:"green",onClick:()=>console.log("Exporting data...")},{id:"system-config",title:"Configurações",description:"Configurar parâmetros do sistema",icon:l.jsx(Ua,{}),color:"gray",onClick:()=>console.log("Opening settings...")},{id:"analytics",title:"Analytics",description:"Visualizar métricas detalhadas",icon:l.jsx(Xa,{}),color:"purple",onClick:()=>console.log("Opening analytics...")},{id:"emergency-stop",title:"Parada de Emergência",description:"Parar todos os processos críticos",icon:l.jsx(It,{}),color:"red",onClick:()=>console.log("Emergency stop activated...")},{id:"team-management",title:"Gestão de Equipe",description:"Gerenciar operadores e turnos",icon:l.jsx(sl,{}),color:"orange",onClick:()=>console.log("Opening team management...")},{id:"schedule",title:"Programação",description:"Visualizar cronograma de produção",icon:l.jsx(aC,{}),color:"teal",onClick:()=>console.log("Opening schedule...")},{id:"sync-data",title:"Sincronizar",description:"Sincronizar dados com ERP",icon:l.jsx(za,{}),color:"indigo",onClick:()=>console.log("Syncing data...")}];return l.jsxs("div",{className:"quick-actions",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Ações Rápidas"}),l.jsx("p",{children:"Ações rápidas para gerenciar a produção"})]}),l.jsx("div",{className:"actions-grid",children:t.map(e=>l.jsxs("button",{className:`action-card ${e.color}`,onClick:e.onClick,title:e.description,children:[l.jsx("div",{className:"action-icon",children:e.icon}),l.jsxs("div",{className:"action-content",children:[l.jsx("h3",{children:e.title}),l.jsx("p",{children:e.description})]})]},e.id))}),l.jsxs("div",{className:"emergency-section",children:[l.jsxs("div",{className:"emergency-header",children:[l.jsx(It,{}),l.jsx("span",{children:"Acoes de emergencia"})]}),l.jsxs("div",{className:"emergency-actions",children:[l.jsx("button",{className:"emergency-btn stop",children:"Parada Geral"}),l.jsx("button",{className:"emergency-btn alert",children:"Alerta Crítico"})]})]})]})}function dse(){const[t,e]=A.useState({alerts:[],pendencies:[],nonConformities:{total:0,open:0,investigating:0,resolved:0,closed:0,bySeverity:{low:0,medium:0,high:0,critical:0},byPriority:{low:0,medium:0,high:0,urgent:0}},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0},generalStatus:"green",activeOrders:0,urgentOrders:0,blockedOrders:0}),[n,r]=A.useState(!0);A.useEffect(()=>{const d=()=>{const f={generalStatus:Math.random()>.7?"red":Math.random()>.4?"yellow":"green",activeOrders:Math.floor(Math.random()*50)+20,urgentOrders:Math.floor(Math.random()*10)+2,blockedOrders:Math.floor(Math.random()*5),pendencies:[{id:"1",type:"urgent",title:"Atraso na Produção",description:"Pedido #1234 com 2 horas de atraso",sector:"Montagem",timestamp:new Date(Date.now()-18e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Montagem",station:"Estação 1"},createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),attachments:[],comments:[]},{id:"2",type:"warning",title:"Manutenção Preventiva",description:"Equipamento X precisa de manutenção em 2 dias",sector:"Usinagem",timestamp:new Date(Date.now()-36e5).toISOString(),status:"inProgress",priority:"high",category:"maintenance",location:{sector:"Usinagem",station:"Estação 2"},createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),attachments:[],comments:[]},{id:"3",type:"info",title:"Novo Pedido Urgente",description:"Cliente VIP solicitou prioridade máxima",sector:"Planejamento",timestamp:new Date(Date.now()-9e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Planejamento"},createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),attachments:[],comments:[]}],alerts:[{id:"alert-001",title:"Alerta de Qualidade",description:"5 peças com dimensões fora do padrão detectadas na linha de produção",severity:"high",priority:"urgent",status:"active",location:{sector:"Produção",station:"Linha 01",equipment:"Máquina CNC-001"},relatedEntity:{id:"order-123",name:"Pedido #123 - Peças Mecânicas"},source:{id:"qc-system",name:"Sistema de Qualidade"},createdAt:new Date(Date.now()-18e5).toISOString(),attachments:["relatorio_qualidade.pdf"],tags:["qualidade","produção"],recipients:[{id:"user-001",name:"João Silva",role:"Coordenador Qualidade",department:"Qualidade",acknowledged:!1},{id:"user-002",name:"Maria Santos",role:"Supervisor Produção",department:"Produção",acknowledged:!0}],comments:[]},{id:"alert-002",title:"Alerta de Equipamento",description:"Compressor apresentando ruído excessivo e vibração anormal",severity:"medium",priority:"high",status:"acknowledged",location:{sector:"Manutenção",station:"Área Técnica",equipment:"Compressor CP-005"},relatedEntity:{id:"equipment-005",name:"Compressor CP-005"},source:{id:"maintenance-system",name:"Sistema de Manutenção"},createdAt:new Date(Date.now()-36e5).toISOString(),acknowledgedAt:new Date(Date.now()-18e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_vibracao.pdf"],tags:["manutenção","equipamento"],recipients:[{id:"user-003",name:"Pedro Costa",role:"Técnico Manutenção",department:"Manutenção",acknowledged:!0}],comments:[]},{id:"alert-003",title:"Alerta de Material",description:"Material com defeito visual identificado no recebimento",severity:"low",priority:"medium",status:"resolved",location:{sector:"Recebimento",station:"Dock 01"},relatedEntity:{id:"material-456",name:"Lote de Materiais #456"},source:{id:"warehouse-system",name:"Sistema de Almoxarifado"},createdAt:new Date(Date.now()-72e5).toISOString(),resolvedAt:new Date(Date.now()-36e5).toISOString(),resolvedBy:"user-004",attachments:["fotos_material.jpg"],tags:["material","recebimento"],recipients:[{id:"user-004",name:"Ana Oliveira",role:"Supervisor Almoxarifado",department:"Almoxarifado",acknowledged:!0}],comments:[]},{id:"alert-004",title:"Alerta de Sistema",description:"Relatório semanal de produtividade disponível para análise",severity:"low",priority:"low",status:"acknowledged",location:{sector:"Administração"},relatedEntity:{id:"task-001",name:"Relatório Semanal"},source:{id:"report-system",name:"Sistema de Relatórios"},createdAt:new Date(Date.now()-72e5).toISOString(),acknowledgedAt:new Date(Date.now()-36e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_semanal.pdf"],tags:["relatório","produtividade"],recipients:[{id:"user-003",name:"Pedro Costa",role:"admin",department:"Administração",acknowledged:!0}],comments:[]}],nonConformities:{total:0,open:Math.floor(Math.random()*8)+2,investigating:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*20)+10,closed:Math.floor(Math.random()*3),bySeverity:{low:Math.floor(Math.random()*5)+1,medium:Math.floor(Math.random()*8)+2,high:Math.floor(Math.random()*3)+1,critical:Math.floor(Math.random()*2)},byPriority:{low:Math.floor(Math.random()*4)+1,medium:Math.floor(Math.random()*6)+2,high:Math.floor(Math.random()*3)+1,urgent:Math.floor(Math.random()*2)}},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0}};f.stats.totalAlerts=f.alerts.length,f.stats.activeAlerts=f.alerts.filter(p=>p.status==="active").length,f.stats.totalPendencies=f.pendencies.length,f.nonConformities.total=f.nonConformities.open+f.nonConformities.investigating+f.nonConformities.resolved+f.nonConformities.closed,f.stats.totalNonConformities=f.nonConformities.total,e(f),r(!1)};d();const h=setInterval(d,3e4);return()=>clearInterval(h)},[]);const i=d=>{e(h=>({...h,alerts:h.alerts.map(f=>f.id===d?{...f,status:"acknowledged"}:f)}))},s=d=>{e(h=>({...h,pendencies:h.pendencies.filter(f=>f.id!==d)}))},c=()=>{r(!0),setTimeout(()=>{r(!1)},1e3)};return n?l.jsx("div",{className:"control-panel-container",children:l.jsxs("div",{className:"loading-spinner",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Carregando painel de controle..."})]})}):l.jsxs("div",{className:"control-panel-container",children:[l.jsx(ase,{onRefresh:c}),l.jsxs("div",{className:"control-panel-grid",children:[l.jsx("div",{className:"semaphore-section",children:l.jsx(sse,{status:t.generalStatus,activeOrders:t.activeOrders,urgentOrders:t.urgentOrders,blockedOrders:t.blockedOrders})}),l.jsx("div",{className:"alerts-section",children:l.jsx(lse,{alerts:t.alerts,onAcknowledge:i})}),l.jsx("div",{className:"pendencies-section",children:l.jsx(ose,{pendencies:t.pendencies,onResolve:s})}),l.jsx("div",{className:"nonconformity-section",children:l.jsx(cse,{data:t.nonConformities})}),l.jsx("div",{className:"actions-section",children:l.jsx(use,{})})]})]})}function uD(){const{urgentOrders:t,scheduleChanges:e,config:n,isProcessing:r,lastRecalculation:i,nextRecalculation:s,stats:c,manualRecalculation:d,updateConfig:h,notifyChange:f}=TF();A.useEffect(()=>{t.length},[t.length]);const p=async()=>{await d()},v=()=>{h({autoRecalculation:!n.autoRecalculation})},x=(w,E)=>{h({[w]:E})},_=w=>{const E=Math.floor(w/60),S=w%60;return E>0?`${E}h ${S}m`:`${S}m`};return l.jsx("div",{className:"priority-optimization-page",children:l.jsx("div",{className:"priority-optimization-container",children:l.jsxs("div",{className:"priority-optimization-content",children:[l.jsxs("div",{className:"optimization-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Otimização de Prioridades"}),l.jsx("p",{children:"Sistema de recálculo automático de agendas para pedidos urgentes"})]}),l.jsx("div",{className:"header-actions",children:l.jsxs("button",{className:`action-btn ${r?"processing":""}`,onClick:p,disabled:r,children:[r?l.jsx(za,{className:"spinning"}):l.jsx(za,{}),r?"Processando...":"Recalcular Agora"]})})]}),l.jsxs("div",{className:"status-cards",children:[l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon urgent",children:l.jsx(It,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Pedidos Urgentes"}),l.jsx("span",{className:"card-value",children:c.totalUrgentOrders})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon processing",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Em Processamento"}),l.jsx("span",{className:"card-value",children:c.processingOrders})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon changes",children:l.jsx(sl,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Mudanças de Agenda"}),l.jsx("span",{className:"card-value",children:c.totalScheduleChanges})]})]}),l.jsxs("div",{className:"status-card",children:[l.jsx("div",{className:"card-icon efficiency",children:l.jsx(sC,{})}),l.jsxs("div",{className:"card-content",children:[l.jsx("h3",{children:"Eficiência Otimização"}),l.jsxs("span",{className:"card-value",children:[Math.round(c.efficiency),"%"]})]})]})]}),l.jsxs("div",{className:"config-panel",children:[l.jsxs("div",{className:"panel-header",children:[l.jsx("h2",{children:"Configurações de Otimização"}),l.jsx(Ua,{})]}),l.jsxs("div",{className:"config-grid",children:[l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.autoRecalculation,onChange:v}),"Recálculo Automático"]})}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Intervalo de Recálculo (minutos)"}),l.jsx("input",{type:"number",value:n.recalculateInterval,onChange:w=>x("recalculateInterval",parseInt(w.target.value)),min:"5",max:"1440"})]}),l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.notifyOperators,onChange:w=>x("notifyOperators",w.target.checked)}),"Notificar Operadores"]})}),l.jsx("div",{className:"config-item",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:n.notifyCoordinators,onChange:w=>x("notifyCoordinators",w.target.checked)}),"Notificar Coordenadores"]})}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Delay Máximo Permitido (minutos)"}),l.jsx("input",{type:"number",value:n.maxDelayAllowed,onChange:w=>x("maxDelayAllowed",parseInt(w.target.value)),min:"0",max:"480"})]}),l.jsxs("div",{className:"config-item",children:[l.jsx("label",{children:"Limiar de Prioridade"}),l.jsxs("select",{value:n.priorityThreshold,onChange:w=>x("priorityThreshold",w.target.value),children:[l.jsx("option",{value:"high",children:"Alta"}),l.jsx("option",{value:"urgent",children:"Urgente"}),l.jsx("option",{value:"critical",children:"Crítico"})]})]})]}),l.jsxs("div",{className:"recalculation-info",children:[l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Última Recálculo:"}),l.jsx("span",{className:"info-value",children:i?i.toLocaleString("pt-BR"):"Nunca"})]}),l.jsxs("div",{className:"info-item",children:[l.jsx("span",{className:"info-label",children:"Próximo Recálculo:"}),l.jsx("span",{className:"info-value",children:s?s.toLocaleString("pt-BR"):"Não agendado"})]})]})]}),l.jsxs("div",{className:"orders-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Pedidos Urgentes Processados"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"filter-btn active",children:"Todos"}),l.jsx("button",{className:"filter-btn",children:"Processando"}),l.jsx("button",{className:"filter-btn",children:"Concluídos"})]})]}),l.jsx("div",{className:"orders-list",children:t.map(w=>l.jsxs("div",{className:"order-card",children:[l.jsxs("div",{className:"order-header",children:[l.jsx("div",{className:"order-id",children:w.id}),l.jsx("div",{className:`priority-badge ${w.priority}`,children:w.priority==="urgent"?"Urgente":"Crítico"}),l.jsxs("div",{className:`status-badge ${w.status}`,children:[w.status==="pending"&&"Pendente",w.status==="processing"&&"Processando",w.status==="completed"&&"Concluído",w.status==="failed"&&"Falhou"]})]}),l.jsxs("div",{className:"order-content",children:[l.jsxs("div",{className:"order-info",children:[l.jsx("h3",{children:w.productName}),l.jsxs("p",{children:["Quantidade: ",w.quantity," unidades"]}),l.jsxs("p",{children:["Prazo Original:"," ",new Date(w.originalDeadline).toLocaleString("pt-BR")]}),l.jsxs("p",{children:["Novo Prazo:"," ",new Date(w.newDeadline).toLocaleString("pt-BR")]})]}),l.jsxs("div",{className:"order-impact",children:[l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Tarefas Afetadas:"}),l.jsx("span",{className:"impact-value",children:w.affectedTasks})]}),l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Operadores Afetados:"}),l.jsx("span",{className:"impact-value",children:w.affectedOperators})]}),l.jsxs("div",{className:"impact-item",children:[l.jsx("span",{className:"impact-label",children:"Delay Estimado:"}),l.jsx("span",{className:"impact-value",children:_(w.estimatedDelay)})]})]})]}),l.jsxs("div",{className:"order-actions",children:[l.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),l.jsxs("button",{className:"action-btn notify",children:[l.jsx(Ys,{}),"Notificar"]})]})]},w.id))})]}),l.jsxs("div",{className:"changes-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Mudanças de Agenda"}),l.jsxs("div",{className:"section-actions",children:[l.jsx("button",{className:"filter-btn active",children:"Todas"}),l.jsx("button",{className:"filter-btn",children:"Não Notificadas"}),l.jsx("button",{className:"filter-btn",children:"Alto Impacto"})]})]}),l.jsx("div",{className:"changes-list",children:e.map(w=>l.jsxs("div",{className:"change-card",children:[l.jsxs("div",{className:"change-header",children:[l.jsx("div",{className:"change-id",children:w.id}),l.jsx("div",{className:`impact-badge ${w.impact}`,children:w.impact==="low"?"Baixo":w.impact==="medium"?"Médio":"Alto"}),l.jsxs("div",{className:`notification-status ${w.notified?"notified":"pending"}`,children:[w.notified?l.jsx(fl,{}):l.jsx(YM,{}),w.notified?"Notificado":"Pendente"]})]}),l.jsxs("div",{className:"change-content",children:[l.jsxs("div",{className:"change-info",children:[l.jsxs("h3",{children:["Operador: ",w.operatorName]}),l.jsxs("p",{children:["Motivo: ",w.reason]}),l.jsxs("p",{children:["Pedido: ",w.orderId]})]}),l.jsx("div",{className:"schedule-comparison",children:l.jsxs("div",{className:"time-comparison",children:[l.jsxs("div",{className:"original-time",children:[l.jsx("span",{className:"time-label",children:"Horário Original"}),l.jsxs("span",{className:"time-value",children:[w.originalStartTime," -"," ",w.originalEndTime]})]}),l.jsx("div",{className:"arrow",children:l.jsx(jM,{})}),l.jsxs("div",{className:"new-time",children:[l.jsx("span",{className:"time-label",children:"Novo Horário"}),l.jsxs("span",{className:"time-value",children:[w.newStartTime," - ",w.newEndTime]})]})]})})]}),l.jsxs("div",{className:"change-actions",children:[l.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),!w.notified&&l.jsxs("button",{className:"action-btn notify",onClick:()=>f(w.id),children:[l.jsx(Ys,{}),"Notificar"]})]})]},w.id))})]})]})})})}function hse(){const[t,e]=A.useState({email:"",name:"",displayName:"",company:"",phone:"",password:"",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],status:"active",admissionDate:"",lastTrainingDate:"",nextTrainingDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",notes:""}),[n,r]=A.useState([]),[i,s]=A.useState([]),[c,d]=A.useState(""),[h,f]=A.useState(!1),[p,v]=A.useState(null),[x,_]=A.useState({});A.useEffect(()=>{const O=[{id:"1",name:"Corte",code:"CORT",description:"Setor de corte e preparação de materiais",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de montagem e assemblagem",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de acabamento e finalização",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"4",name:"Embalagem",code:"EMBAL",description:"Setor de embalagem e expedição",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}],R=[{id:"1",name:"Equipe A",code:"EQ-A",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""},{id:"2",name:"Equipe B",code:"EQ-B",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""},{id:"3",name:"Equipe C",code:"EQ-C",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""}];r(O),s(R),(async()=>{try{await QI()}catch{console.log("Nenhum operador encontrado, iniciando com lista vazia")}})()},[]);const w=async()=>{const O={};return t.name.trim()||(O.name="Nome é obrigatório"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)?h||await nF(t.email)&&(O.email="Este email já está em uso"):O.email="Email inválido":O.email="Email é obrigatório",t.code.trim()?h||await tF(t.code)&&(O.code="Este código já está em uso"):O.code="Código é obrigatório",t.primarySectorId||(O.primarySectorId="Setor primário é obrigatório"),t.admissionDate||(O.admissionDate="Data de admissão é obrigatória"),t.weeklyHours<=0&&(O.weeklyHours="Horas semanais devem ser maiores que 0"),_(O),Object.keys(O).length===0},E=async O=>{if(O.preventDefault(),!!await w()){if(h&&p)f(!1),v(null);else try{const{user:R}=await J$({...t,password:t.password||"senha123"});alert(`Operador criado com sucesso!

Usuário: ${R.email}
Senha: ${t.password||"senha123"}

O operador pode usar essas credenciais para fazer login no sistema!`)}catch(R){console.error("Erro ao criar operador:",R),alert(`Erro ao criar operador: ${R instanceof Error?R.message:"Erro desconhecido"}`);return}e({email:"",name:"",displayName:"",company:"",phone:"",password:"",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],status:"active",admissionDate:"",lastTrainingDate:"",nextTrainingDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",notes:""})}},S=()=>{c.trim()&&!t.skills.includes(c.trim())&&(e(O=>({...O,skills:[...O.skills,c.trim()]})),d(""))},j=O=>{e(R=>({...R,skills:R.skills.filter(L=>L!==O)}))};return l.jsx("div",{className:"operator-registration-page",children:l.jsxs("div",{className:"operator-registration-container",children:[l.jsx("div",{className:"operator-registration-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Cadastro de Operadores"}),l.jsx("p",{children:"Gerencie os operadores da produção e suas habilidades"})]})}),l.jsxs("form",{className:"registration-form",onSubmit:E,children:[l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(gC,{className:"section-icon"}),"Informações do Usuário"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Nome Completo *"}),l.jsx("input",{type:"text",className:`form-input ${x.name?"error":""}`,value:t.name,onChange:O=>e(R=>({...R,name:O.target.value})),placeholder:"Nome completo do operador"}),x.name&&l.jsx("span",{className:"form-error",children:x.name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Email *"}),l.jsx("input",{type:"email",className:`form-input ${x.email?"error":""}`,value:t.email,onChange:O=>e(R=>({...R,email:O.target.value})),placeholder:"email@empresa.com"}),x.email&&l.jsx("span",{className:"form-error",children:x.email})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Senha *"}),l.jsx("input",{type:"password",className:"form-input",value:t.password,onChange:O=>e(R=>({...R,password:O.target.value})),placeholder:"Senha para login",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Nome de Exibição"}),l.jsx("input",{type:"text",className:"form-input",value:t.displayName,onChange:O=>e(R=>({...R,displayName:O.target.value})),placeholder:"Nome para exibição"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Empresa"}),l.jsx("input",{type:"text",className:"form-input",value:t.company,onChange:O=>e(R=>({...R,company:O.target.value})),placeholder:"Nome da empresa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Telefone"}),l.jsx("input",{type:"tel",className:"form-input",value:t.phone,onChange:O=>e(R=>({...R,phone:O.target.value})),placeholder:"(11) 99999-9999"})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(B2,{className:"section-icon"}),"Informações Básicas"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Código/Matrícula *"}),l.jsx("input",{type:"text",className:`form-input ${x.code?"error":""}`,value:t.code,onChange:O=>e(R=>({...R,code:O.target.value})),placeholder:"Ex: OP001"}),x.code&&l.jsx("span",{className:"form-error",children:x.code})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Setor Primário *"}),l.jsxs("select",{className:`form-select ${x.primarySectorId?"error":""}`,value:t.primarySectorId,onChange:O=>e(R=>({...R,primarySectorId:O.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um setor"}),n.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]}),x.primarySectorId&&l.jsx("span",{className:"form-error",children:x.primarySectorId})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Setores Secundários"}),l.jsx("select",{className:"form-select",multiple:!0,value:t.secondarySectorIds,onChange:O=>{const R=Array.from(O.target.selectedOptions,L=>L.value);e(L=>({...L,secondarySectorIds:R}))},children:n.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))}),l.jsx("span",{className:"form-help",children:"Pressione Ctrl para selecionar múltiplos setores"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Data de Admissão *"}),l.jsx("input",{type:"date",className:`form-input ${x.admissionDate?"error":""}`,value:t.admissionDate,onChange:O=>e(R=>({...R,admissionDate:O.target.value}))}),x.admissionDate&&l.jsx("span",{className:"form-error",children:x.admissionDate})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(hC,{className:"section-icon"}),"Habilidades e Treinamentos"]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Habilidades"}),l.jsx("div",{className:"skills-container",children:t.skills.map((O,R)=>l.jsxs("span",{className:"skill-tag",children:[O,l.jsx("button",{type:"button",onClick:()=>j(O),children:l.jsx(Tl,{})})]},R))}),l.jsxs("div",{className:"skill-input-group",children:[l.jsx("input",{type:"text",className:"form-input skill-input",value:c,onChange:O=>d(O.target.value),placeholder:"Digite uma nova habilidade",onKeyPress:O=>O.key==="Enter"&&(O.preventDefault(),S())}),l.jsx(qe,{type:"button",variant:"outline",onClick:S,children:l.jsx(Qc,{})})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(Ot,{className:"section-icon"}),"Condições de Trabalho"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tipo de Contrato"}),l.jsxs("select",{className:"form-select",value:t.contractType,onChange:O=>e(R=>({...R,contractType:O.target.value})),children:[l.jsx("option",{value:"clt",children:"CLT"}),l.jsx("option",{value:"pj",children:"PJ"}),l.jsx("option",{value:"temporary",children:"Temporário"}),l.jsx("option",{value:"intern",children:"Estagiário"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Turno de Trabalho"}),l.jsxs("select",{className:"form-select",value:t.workSchedule,onChange:O=>e(R=>({...R,workSchedule:O.target.value})),children:[l.jsx("option",{value:"day",children:"Diurno"}),l.jsx("option",{value:"night",children:"Noturno"}),l.jsx("option",{value:"rotating",children:"Rotativo"}),l.jsx("option",{value:"flexible",children:"Flexível"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Horas Semanais *"}),l.jsx("input",{type:"number",className:`form-input ${x.weeklyHours?"error":""}`,value:t.weeklyHours,onChange:O=>e(R=>({...R,weeklyHours:parseInt(O.target.value)||0})),min:"1",max:"168"}),x.weeklyHours&&l.jsx("span",{className:"form-error",children:x.weeklyHours})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Equipe"}),l.jsxs("select",{className:"form-select",value:t.teamId,onChange:O=>e(R=>({...R,teamId:O.target.value})),children:[l.jsx("option",{value:"",children:"Sem equipe"}),i.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(Pg,{className:"section-icon"}),"Status e Observações"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{className:"form-select",value:t.status,onChange:O=>e(R=>({...R,status:O.target.value})),children:[l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"}),l.jsx("option",{value:"suspended",children:"Suspenso"}),l.jsx("option",{value:"on_leave",children:"Afastado"})]})]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Observações"}),l.jsx("textarea",{className:"form-textarea",value:t.notes,onChange:O=>e(R=>({...R,notes:O.target.value})),placeholder:"Observações adicionais sobre o operador..."})]})]})]}),l.jsxs("div",{className:"form-actions",children:[h&&l.jsx(qe,{type:"button",variant:"secondary",onClick:()=>{f(!1),v(null),e({email:"",name:"",displayName:"",company:"",phone:"",password:"",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],status:"active",admissionDate:"",lastTrainingDate:"",nextTrainingDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",notes:""})},children:"Cancelar"}),l.jsx(qe,{type:"submit",variant:"primary",children:h?"Atualizar Operador":"Cadastrar Operador"})]})]})]})})}function fse(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState([]),[c,d]=A.useState([]),[h,f]=A.useState({search:"",status:"",sector:"",team:"",contractType:"",workSchedule:""}),[p,v]=A.useState(!1),[x,_]=A.useState(null),[w,E]=A.useState(!1),[S,j]=A.useState(!0),[O,R]=A.useState({total:0,active:0,inactive:0,suspended:0,onLeave:0});A.useEffect(()=>{const z=[{id:"1",name:"Corte",code:"CORT",description:"Setor de corte e preparação de materiais",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de montagem e assemblagem",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de acabamento e finalização",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"4",name:"Embalagem",code:"EMBAL",description:"Setor de embalagem e expedição",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}],J=[{id:"1",name:"Equipe A",code:"EQ-A",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""},{id:"2",name:"Equipe B",code:"EQ-B",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""},{id:"3",name:"Equipe C",code:"EQ-C",isActive:!0,createdAt:"",updatedAt:"",createdBy:"",updatedBy:""}];s(z),d(J),L()},[]);const L=async()=>{try{j(!0),console.log("Carregando operadores...");const z=await QI();console.log("Operadores carregados:",z),console.log("Tipo de dados:",typeof z),console.log("É array?",Array.isArray(z)),Array.isArray(z)?(e(z),r(z),D(z)):(console.error("Dados retornados não são um array:",z),e([]),r([]))}catch(z){console.error("Erro ao carregar operadores:",z),e([]),r([])}finally{j(!1)}},D=z=>{console.log("Atualizando estatísticas com:",z);const J={total:z.length,active:z.filter(fe=>fe.operator.status==="active").length,inactive:z.filter(fe=>fe.operator.status==="inactive").length,suspended:z.filter(fe=>fe.operator.status==="suspended").length,onLeave:z.filter(fe=>fe.operator.status==="on_leave").length};console.log("Estatísticas calculadas:",J),R(J)};A.useEffect(()=>{B()},[h,t]);const B=()=>{console.log("Aplicando filtros:",h),console.log("Operadores disponíveis:",t);let z=[...t];if(h.search){const J=h.search.toLowerCase();z=z.filter(({operator:fe,user:K})=>K.name?.toLowerCase().includes(J)||fe.code.toLowerCase().includes(J)||K.email.toLowerCase().includes(J)||$(fe.primarySectorId).toLowerCase().includes(J))}h.status&&(z=z.filter(({operator:J})=>J.status===h.status)),h.sector&&(z=z.filter(({operator:J})=>J.primarySectorId===h.sector||J.secondarySectorIds.includes(h.sector))),h.team&&(z=z.filter(({operator:J})=>J.teamId===h.team)),h.contractType&&(z=z.filter(({operator:J})=>J.contractType===h.contractType)),h.workSchedule&&(z=z.filter(({operator:J})=>J.workSchedule===h.workSchedule)),console.log("Operadores filtrados:",z),r(z)},C=()=>{f({search:"",status:"",sector:"",team:"",contractType:"",workSchedule:""})},P=async z=>{if(window.confirm("Tem certeza que deseja excluir este operador e seu usuário associado?"))try{console.log("Excluindo operador:",z),await eF(z),console.log("Operador excluído com sucesso, recarregando lista..."),await L(),alert("Operador e usuário excluídos com sucesso!")}catch(J){console.error("Erro ao excluir operador:",J),alert(`Erro ao excluir operador: ${J instanceof Error?J.message:"Erro desconhecido"}`)}},M=z=>{console.log("Mostrando detalhes do operador:",z),_(z),E(!0)},F=()=>{const J=[["Nome","Código","Email","Setor Primário","Status","Equipe","Tipo de Contrato","Turno","Horas Semanais","Data de Admissão"].join(","),...n.map(({operator:re,user:de})=>[de.name||"N/A",re.code,de.email,$(re.primarySectorId),U(re.status),H(re.teamId),ve(re.contractType),q(re.workSchedule),re.weeklyHours,re.admissionDate].join(","))].join(`
`),fe=new Blob([J],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),ie=URL.createObjectURL(fe);K.setAttribute("href",ie),K.setAttribute("download",`operadores_${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)},$=z=>{console.log("Buscando setor:",z,"em setores:",i);const J=i.find(fe=>fe.id===z);return console.log("Setor encontrado:",J),J?.name||"N/A"},H=z=>{if(!z)return"N/A";console.log("Buscando equipe:",z,"em equipes:",c);const J=c.find(fe=>fe.id===z);return console.log("Equipe encontrada:",J),J?.name||"N/A"},U=z=>{switch(z){case"active":return"Ativo";case"inactive":return"Inativo";case"suspended":return"Suspenso";case"on_leave":return"Afastado";default:return z}},pe=z=>`status-${z}`,ve=z=>{switch(z){case"clt":return"CLT";case"pj":return"PJ";case"temporary":return"Temporário";case"intern":return"Estagiário";default:return z}},q=z=>{switch(z){case"day":return"Diurno";case"night":return"Noturno";case"rotating":return"Rotativo";case"flexible":return"Flexível";default:return z}};return S?l.jsx("div",{className:"operators-list-page",children:l.jsx("div",{className:"operators-list-container",children:l.jsxs("div",{className:"loading-spinner",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Carregando operadores..."})]})})}):l.jsxs("div",{className:"operators-list-page",children:[l.jsxs("div",{className:"operators-list-container",children:[l.jsxs("div",{className:"operators-list-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{children:[l.jsx(sl,{className:"header-icon"}),"Lista de Operadores"]}),l.jsx("p",{children:"Visualize e gerencie todos os operadores registrados no sistema"})]}),l.jsxs("div",{className:"header-actions",children:[l.jsxs(qe,{variant:"outline",onClick:()=>v(!p),children:[l.jsx(uC,{}),p?"Ocultar Filtros":"Mostrar Filtros"]}),l.jsxs(qe,{variant:"outline",onClick:F,children:[l.jsx($c,{}),"Exportar CSV"]}),l.jsxs(qe,{variant:"primary",onClick:()=>window.location.href="/operator-registration",children:[l.jsx(Qc,{}),"Novo Operador"]})]})]}),l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon total",children:l.jsx(sl,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("h3",{children:O.total}),l.jsx("p",{children:"Total de Operadores"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon active",children:l.jsx(B2,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("h3",{children:O.active}),l.jsx("p",{children:"Ativos"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon inactive",children:l.jsx(It,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("h3",{children:O.inactive}),l.jsx("p",{children:"Inativos"})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon suspended",children:l.jsx(Ot,{})}),l.jsxs("div",{className:"stat-content",children:[l.jsx("h3",{children:O.suspended+O.onLeave}),l.jsx("p",{children:"Suspensos/Afastados"})]})]})]}),p&&l.jsxs("div",{className:"filters-panel",children:[l.jsxs("div",{className:"filters-grid",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Buscar"}),l.jsxs("div",{className:"search-input",children:[l.jsx(qh,{}),l.jsx("input",{type:"text",placeholder:"Nome, código, email ou setor...",value:h.search,onChange:z=>f(J=>({...J,search:z.target.value}))})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{value:h.status,onChange:z=>f(J=>({...J,status:z.target.value})),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"}),l.jsx("option",{value:"suspended",children:"Suspenso"}),l.jsx("option",{value:"on_leave",children:"Afastado"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Setor"}),l.jsxs("select",{value:h.sector,onChange:z=>f(J=>({...J,sector:z.target.value})),children:[l.jsx("option",{value:"",children:"Todos"}),i.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Equipe"}),l.jsxs("select",{value:h.team,onChange:z=>f(J=>({...J,team:z.target.value})),children:[l.jsx("option",{value:"",children:"Todas"}),c.map(z=>l.jsx("option",{value:z.id,children:z.name},z.id))]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Tipo de Contrato"}),l.jsxs("select",{value:h.contractType,onChange:z=>f(J=>({...J,contractType:z.target.value})),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"clt",children:"CLT"}),l.jsx("option",{value:"pj",children:"PJ"}),l.jsx("option",{value:"temporary",children:"Temporário"}),l.jsx("option",{value:"intern",children:"Estagiário"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Turno"}),l.jsxs("select",{value:h.workSchedule,onChange:z=>f(J=>({...J,workSchedule:z.target.value})),children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"day",children:"Diurno"}),l.jsx("option",{value:"night",children:"Noturno"}),l.jsx("option",{value:"rotating",children:"Rotativo"}),l.jsx("option",{value:"flexible",children:"Flexível"})]})]})]}),l.jsxs("div",{className:"filters-actions",children:[l.jsx(qe,{variant:"secondary",onClick:C,children:"Limpar Filtros"}),l.jsxs("span",{className:"results-count",children:[n.length," de ",t.length," ","operadores"]})]})]}),l.jsx("div",{className:"operators-table-container",children:n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx(sl,{className:"empty-icon"}),l.jsx("h3",{children:"Nenhum operador encontrado"}),l.jsx("p",{children:h.search||h.status||h.sector||h.team||h.contractType||h.workSchedule?"Tente ajustar os filtros aplicados":"Não há operadores cadastrados no sistema"}),!h.search&&!h.status&&!h.sector&&!h.team&&!h.contractType&&!h.workSchedule&&l.jsxs(qe,{variant:"primary",onClick:()=>window.location.href="/operator-registration",children:[l.jsx(Qc,{}),"Cadastrar Primeiro Operador"]})]}):l.jsx("div",{className:"table-responsive",children:l.jsxs("table",{className:"operators-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Operador"}),l.jsx("th",{children:"Código"}),l.jsx("th",{children:"Setor"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Equipe"}),l.jsx("th",{children:"Contrato"}),l.jsx("th",{children:"Turno"}),l.jsx("th",{children:"Ações"})]})}),l.jsx("tbody",{children:n.map(({operator:z,user:J})=>l.jsxs("tr",{className:"operator-row",children:[l.jsxs("td",{className:"operator-info",children:[l.jsx("div",{className:"operator-avatar",children:J.name?.charAt(0)||z.code.charAt(0)}),l.jsxs("div",{className:"operator-details",children:[l.jsx("strong",{children:J.name||`Operador ${z.code}`}),l.jsx("span",{className:"operator-email",children:J.email})]})]}),l.jsx("td",{children:l.jsx("span",{className:"operator-code",children:z.code})}),l.jsx("td",{children:l.jsxs("div",{className:"sector-info",children:[l.jsx("span",{className:"primary-sector",children:$(z.primarySectorId)}),z.secondarySectorIds.length>0&&l.jsxs("span",{className:"secondary-sectors",children:["+",z.secondarySectorIds.length," ","secundário(s)"]})]})}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${pe(z.status)}`,children:U(z.status)})}),l.jsx("td",{children:l.jsx("span",{className:"team-info",children:H(z.teamId)})}),l.jsx("td",{children:l.jsx("span",{className:"contract-type",children:ve(z.contractType)})}),l.jsx("td",{children:l.jsx("span",{className:"work-schedule",children:q(z.workSchedule)})}),l.jsx("td",{children:l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{className:"btn-icon view",onClick:()=>M({operator:z,user:J}),title:"Ver Detalhes",children:l.jsx(Bh,{})}),l.jsx("button",{className:"btn-icon edit",onClick:()=>window.location.href=`/operator-registration?edit=${z.id}`,title:"Editar",children:l.jsx(jp,{})}),l.jsx("button",{className:"btn-icon delete",onClick:()=>P(z.id),title:"Excluir",children:l.jsx(Np,{})})]})})]},z.id))})]})})})]}),w&&x&&l.jsx("div",{className:"modal-overlay",onClick:()=>E(!1),children:l.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"Detalhes do Operador"}),l.jsx("button",{className:"modal-close",onClick:()=>E(!1),children:l.jsx(Tl,{})})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"operator-profile",children:[l.jsx("div",{className:"profile-avatar",children:x.user.name?.charAt(0)||x.operator.code.charAt(0)}),l.jsxs("div",{className:"profile-info",children:[l.jsx("h3",{children:x.user.name||`Operador ${x.operator.code}`}),l.jsx("p",{className:"profile-role",children:"Operador de Produção"})]})]}),l.jsxs("div",{className:"details-grid",children:[l.jsxs("div",{className:"detail-section",children:[l.jsxs("h4",{children:[l.jsx(B2,{}),"Informações Básicas"]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Código:"}),l.jsx("span",{children:x.operator.code})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Email:"}),l.jsx("span",{children:x.user.email})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Telefone:"}),l.jsx("span",{children:x.user.phone||"N/A"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Empresa:"}),l.jsx("span",{children:x.user.company||"N/A"})]})]}),l.jsxs("div",{className:"detail-section",children:[l.jsxs("h4",{children:[l.jsx(Pg,{}),"Informações Profissionais"]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Setor Primário:"}),l.jsx("span",{children:$(x.operator.primarySectorId)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Setores Secundários:"}),l.jsx("span",{children:x.operator.secondarySectorIds.length>0?x.operator.secondarySectorIds.map(z=>$(z)).join(", "):"Nenhum"})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Equipe:"}),l.jsx("span",{children:H(x.operator.teamId)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Status:"}),l.jsx("span",{className:`status-badge ${pe(x.operator.status)}`,children:U(x.operator.status)})]})]}),l.jsxs("div",{className:"detail-section",children:[l.jsxs("h4",{children:[l.jsx(Ot,{}),"Condições de Trabalho"]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Tipo de Contrato:"}),l.jsx("span",{children:ve(x.operator.contractType)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Turno:"}),l.jsx("span",{children:q(x.operator.workSchedule)})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Horas Semanais:"}),l.jsxs("span",{children:[x.operator.weeklyHours,"h"]})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("label",{children:"Data de Admissão:"}),l.jsx("span",{children:x.operator.admissionDate})]})]}),l.jsxs("div",{className:"detail-section",children:[l.jsxs("h4",{children:[l.jsx(hC,{}),"Habilidades"]}),l.jsx("div",{className:"skills-list",children:x.operator.skills.length>0?x.operator.skills.map((z,J)=>l.jsx("span",{className:"skill-tag",children:z},J)):l.jsx("span",{className:"no-skills",children:"Nenhuma habilidade registrada"})})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(qe,{variant:"secondary",onClick:()=>E(!1),children:"Fechar"}),l.jsxs(qe,{variant:"primary",onClick:()=>{E(!1),window.location.href=`/operator-registration?edit=${x.operator.id}`},children:[l.jsx(jp,{}),"Editar Operador"]})]})]})})]})}function mse(){const{testConnection:t,importOrders:e,getImportHistory:n,getConfiguration:r,updateConfiguration:i}=AF(),[s,c]=A.useState({clientId:"bb038bbf8baa2108a9e5c31b409338ef03cc93a0",clientSecret:"5602db5f1ddfccf5894336d514cdfae102111c9cb4cbfc788c8bc4d771f6",baseUrl:"https://www.bling.com.br/Api/v2",autoSync:!1,syncInterval:30}),[d,h]=A.useState([]),[f,p]=A.useState(!1),[v,x]=A.useState(!1),[_,w]=A.useState("config"),[E,S]=A.useState("unknown");A.useEffect(()=>{j()},[]),A.useEffect(()=>{console.log("Configuração atualizada:",s),console.log("Botão desabilitado:",!s.clientId||!s.clientSecret),console.log("Client ID:",s.clientId),console.log("Client Secret:",s.clientSecret)},[s]);const j=async()=>{try{console.log("Carregando dados iniciais..."),console.log("Configuração atual:",s);const C=await r();console.log("Configuração salva:",C),C&&c(M=>({...M,...C,clientId:C.clientId||M.clientId,clientSecret:C.clientSecret||M.clientSecret}));const P=await n();P&&h(P)}catch(C){console.error("Erro ao carregar dados iniciais:",C)}},O=async()=>{console.log("Botão clicado! Função handleTestConnection chamada"),console.log("Estado atual - testing:",f),console.log("Estado atual - config:",s),console.log("Client ID válido:",!!s.clientId),console.log("Client Secret válido:",!!s.clientSecret),p(!0);try{const C=await t(s);console.log("Resultado do teste:",C),C.success?(S("connected"),alert("Conexão com Bling estabelecida com sucesso!")):(S("failed"),alert(`Falha na conexão: ${C.error}`))}catch(C){console.error("Erro no teste de conexão:",C),S("failed"),alert("Erro ao testar conexão")}finally{p(!1)}},R=async()=>{try{await i(s),alert("Configuração salva com sucesso!")}catch{alert("Erro ao salvar configuração")}},L=async()=>{if(!s.clientId||!s.clientSecret){alert("Configure o Client ID e Client Secret antes de importar ordens");return}x(!0);try{const C=await e(s);if(C.success){const P={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"success",message:"Importação realizada com sucesso",details:`${C.importedCount} ordens importadas`,ordersCount:C.importedCount,errorsCount:C.errorCount||0};h(M=>[P,...M]),alert(`Importação concluída! ${C.importedCount} ordens importadas.`)}else{const P={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Falha na importação",details:C.error||"Erro desconhecido"};h(M=>[P,...M]),alert(`Erro na importação: ${C.error}`)}}catch{const P={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Erro na importação",details:"Erro inesperado durante a importação"};h(M=>[P,...M]),alert("Erro inesperado durante a importação")}finally{x(!1)}},D=C=>{switch(C){case"success":return l.jsx(fl,{className:"status-icon success"});case"error":return l.jsx(It,{className:"status-icon error"});case"warning":return l.jsx(It,{className:"status-icon warning"});default:return l.jsx(Ot,{className:"status-icon info"})}},B=C=>{switch(C){case"success":return"success";case"error":return"error";case"warning":return"warning";default:return"info"}};return l.jsx("div",{className:"bling-integration-page",children:l.jsxs("div",{className:"bling-integration-container",children:[l.jsxs("div",{className:"bling-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsxs("h1",{children:[l.jsx(fC,{className:"header-icon"}),"Integração Bling"]}),l.jsx("p",{children:"Configure e gerencie a integração com a API do Bling para importação de ordens de produção"})]}),l.jsx("div",{className:"header-status",children:l.jsxs("div",{className:`connection-status ${E}`,children:[E==="connected"&&l.jsx(fl,{}),E==="failed"&&l.jsx(It,{}),E==="unknown"&&l.jsx(Ot,{}),l.jsxs("span",{children:[E==="connected"&&"Conectado",E==="failed"&&"Falha na Conexão",E==="unknown"&&"Não Testado"]})]})})]}),l.jsxs("div",{className:"bling-tabs",children:[l.jsxs("button",{className:`tab-button ${_==="config"?"active":""}`,onClick:()=>w("config"),children:[l.jsx(Ua,{}),"Configuração"]}),l.jsxs("button",{className:`tab-button ${_==="import"?"active":""}`,onClick:()=>w("import"),children:[l.jsx($c,{}),"Importação"]}),l.jsxs("button",{className:`tab-button ${_==="history"?"active":""}`,onClick:()=>w("history"),children:[l.jsx(kM,{}),"Histórico"]}),l.jsxs("button",{className:`tab-button ${_==="logs"?"active":""}`,onClick:()=>w("logs"),children:[l.jsx(cC,{}),"Logs"]})]}),l.jsxs("div",{className:"tab-content",children:[_==="config"&&l.jsxs("div",{className:"config-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Configuração da API"}),l.jsx("p",{children:"Configure os parâmetros de conexão com a API do Bling"})]}),l.jsxs("div",{className:"config-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Client ID"}),l.jsx(qt,{name:"clientId",type:"text",value:s.clientId,onChange:C=>c(P=>({...P,clientId:C.target.value})),placeholder:"Digite seu Client ID do Bling"}),l.jsx("div",{style:{fontSize:"0.8rem",color:s.clientId?"#48bb78":"#e53e3e",marginTop:"0.25rem"},children:s.clientId?"✅ Client ID configurado":"❌ Client ID necessário"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Client Secret"}),l.jsx(qt,{name:"clientSecret",type:"password",value:s.clientSecret,onChange:C=>c(P=>({...P,clientSecret:C.target.value})),placeholder:"Digite seu Client Secret do Bling"}),l.jsx("div",{style:{fontSize:"0.8rem",color:s.clientSecret?"#48bb78":"#e53e3e",marginTop:"0.25rem"},children:s.clientSecret?"✅ Client Secret configurado":"❌ Client Secret necessário"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"URL Base"}),l.jsx(qt,{name:"baseUrl",type:"text",value:s.baseUrl,onChange:C=>c(P=>({...P,baseUrl:C.target.value})),placeholder:"https://www.bling.com.br/Api/v2"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:s.autoSync,onChange:C=>c(P=>({...P,autoSync:C.target.checked}))}),"Sincronização Automática"]})}),s.autoSync&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Intervalo de Sincronização (minutos)"}),l.jsx(qt,{name:"syncInterval",type:"number",value:s.syncInterval.toString(),onChange:C=>c(P=>({...P,syncInterval:parseInt(C.target.value)||30})),placeholder:"30"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",className:"btn btn-outline",onClick:O,disabled:f||!s.clientId||!s.clientSecret,style:{padding:"0.75rem 1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",background:f||!s.clientId||!s.clientSecret?"#f7fafc":"white",color:f||!s.clientId||!s.clientSecret?"#a0aec0":"#4a5568",cursor:f||!s.clientId||!s.clientSecret?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:f?"Testando...":"Testar Conexão"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#4a5568",marginTop:"0.5rem"},children:f?"⏳ Testando conexão...":!s.clientId||!s.clientSecret?"❌ Configure Client ID e Client Secret":"✅ Pronto para testar"}),l.jsx(qe,{onClick:R,children:"Salvar Configuração"})]})]})]}),_==="import"&&l.jsxs("div",{className:"import-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Importação de Ordens"}),l.jsx("p",{children:"Importe ordens de produção do Bling para o sistema"})]}),l.jsxs("div",{className:"import-actions",children:[l.jsxs("div",{className:"import-info",children:[l.jsxs("div",{className:"info-card",children:[l.jsx(PM,{className:"info-icon"}),l.jsxs("div",{children:[l.jsx("h3",{children:"Última Importação"}),l.jsx("p",{children:s.lastSync?new Date(s.lastSync).toLocaleString("pt-BR"):"Nunca"})]})]}),l.jsxs("div",{className:"info-card",children:[l.jsx(Ot,{className:"info-icon"}),l.jsxs("div",{children:[l.jsx("h3",{children:"Próxima Sincronização"}),l.jsx("p",{children:s.nextSync?new Date(s.nextSync).toLocaleString("pt-BR"):"Não agendada"})]})]})]}),l.jsx("div",{className:"import-controls",children:l.jsxs(qe,{variant:"primary",onClick:L,disabled:v||E!=="connected",children:[v?l.jsx(za,{className:"spinning"}):l.jsx($c,{}),v?"Importando...":"Importar Ordens"]})})]})]}),_==="history"&&l.jsxs("div",{className:"history-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Histórico de Importações"}),l.jsx("p",{children:"Visualize o histórico completo de importações realizadas"})]}),l.jsxs("div",{className:"history-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Data/Hora"}),l.jsx("div",{children:"Tipo"}),l.jsx("div",{children:"Mensagem"}),l.jsx("div",{children:"Detalhes"}),l.jsx("div",{children:"Ordens"}),l.jsx("div",{children:"Erros"})]}),d.map(C=>l.jsxs("div",{className:`table-row ${B(C.type)}`,children:[l.jsx("div",{children:new Date(C.timestamp).toLocaleString("pt-BR")}),l.jsxs("div",{className:"log-type",children:[D(C.type),l.jsx("span",{children:C.type})]}),l.jsx("div",{children:C.message}),l.jsx("div",{children:C.details||"—"}),l.jsx("div",{children:C.ordersCount||"—"}),l.jsx("div",{children:C.errorsCount||"—"})]},C.id))]})]}),_==="logs"&&l.jsxs("div",{className:"logs-section",children:[l.jsxs("div",{className:"section-header",children:[l.jsx("h2",{children:"Logs do Sistema"}),l.jsx("p",{children:"Monitore os logs detalhados de todas as operações"})]}),l.jsxs("div",{className:"logs-filters",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Tipo:"}),l.jsxs("select",{children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"success",children:"Sucesso"}),l.jsx("option",{value:"error",children:"Erro"}),l.jsx("option",{value:"warning",children:"Aviso"})]})]}),l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{children:"Data:"}),l.jsx("input",{type:"date"})]}),l.jsx(qe,{variant:"outline",children:"Filtrar"})]}),l.jsx("div",{className:"logs-list",children:d.map(C=>l.jsxs("div",{className:`log-item ${B(C.type)}`,children:[l.jsxs("div",{className:"log-header",children:[l.jsx("div",{className:"log-timestamp",children:new Date(C.timestamp).toLocaleString("pt-BR")}),l.jsxs("div",{className:"log-type-badge",children:[D(C.type),C.type]})]}),l.jsx("div",{className:"log-message",children:C.message}),C.details&&l.jsxs("div",{className:"log-details",children:[l.jsx("strong",{children:"Detalhes:"})," ",C.details]}),l.jsxs("div",{className:"log-metrics",children:[C.ordersCount!==void 0&&l.jsxs("span",{className:"metric",children:[l.jsx($c,{})," ",C.ordersCount," ordens"]}),C.errorsCount!==void 0&&l.jsxs("span",{className:"metric error",children:[l.jsx(It,{})," ",C.errorsCount," erros"]})]})]},C.id))})]})]})]})})}function wp(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const pse=async(t,e)=>{if(!t.productId)throw new Error("Produto é obrigatório");if(!t.steps||t.steps.length===0)throw new Error("Pelo menos uma etapa é obrigatória");const n=wp({...t,createdBy:e,updatedBy:e});if(n.id){const s=sr(Lt,"operationalRoutes",n.id);return await iv(s,wp({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),n.id}const r=Ca(Lt,"operationalRoutes"),i=await GI(r,wp({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await nf(i,{id:i.id}),i.id},gse=async(t,e,n)=>{const r=sr(Lt,"operationalRoutes",t);await nf(r,wp({...e,updatedBy:n,updatedAt:new Date().toISOString()}))},dD=async t=>{const e=sr(Lt,"operationalRoutes",t);await u_(e)},hD=async()=>{try{const t=Ca(Lt,"operationalRoutes");return(await Jo(t)).docs.map(n=>({...n.data(),id:n.id}))}catch(t){throw console.error("Erro ao listar roteiros:",t),t}},vse=async(t,e)=>{try{const n=Ca(Lt,"operationalRoutes"),r=Zd(n,zc("productId","==",t),zc("version","==",e));return!(await Jo(r)).empty}catch(n){return console.error("Erro ao verificar existência do roteiro:",n),!1}};function yse(){const{user:t}=vi(),[e,n]=A.useState({productId:"",version:"1.0",status:"draft",steps:[]}),[r,i]=A.useState([]),[s,c]=A.useState([]),[d,h]=A.useState({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:""}),[f,p]=A.useState(""),[v,x]=A.useState(!1),[_,w]=A.useState(null),[E,S]=A.useState({}),[j,O]=A.useState(!1);A.useEffect(()=>{(async()=>{try{O(!0),c([{id:"1",code:"PROD001",name:"Produto A",description:"Descrição do produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrição do produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrição do produto C",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}]);const J=await hD();i(J)}catch(z){console.error("Erro ao carregar dados:",z),alert("Erro ao carregar dados dos roteiros operacionais")}finally{O(!1)}})()},[]);const R=async()=>{const q={};e.productId||(q.productId="Produto é obrigatório"),e.version.trim()||(q.version="Versão é obrigatória"),/^\d+\.\d+$/.test(e.version)||(q.version="Formato de versão inválido. Use o formato X.Y (ex: 1.0, 2.1)"),e.steps.length===0&&(q.steps="Pelo menos uma etapa é obrigatória"),e.steps.forEach((fe,K)=>{fe.name.trim()||(q[`step${K}Name`]=`Nome da etapa ${K+1} é obrigatório`),fe.standardTime<=0&&(q[`step${K}StandardTime`]=`Tempo padrão da etapa ${K+1} deve ser maior que 0`),fe.sequence<=0&&(q[`step${K}Sequence`]=`Sequência da etapa ${K+1} deve ser maior que 0`)});const J=e.steps.map(fe=>fe.sequence).sort((fe,K)=>fe-K);for(let fe=0;fe<J.length;fe++)if(J[fe]!==fe+1){q.steps="As etapas devem ter sequência sequencial (1, 2, 3, ...)";break}if(!v&&e.productId&&e.version)try{await vse(e.productId,e.version)&&(q.version="Já existe um roteiro com esta versão para este produto")}catch(fe){console.error("Erro ao verificar existência do roteiro:",fe),q.version="Erro ao verificar versão existente"}return S(q),Object.keys(q).length===0},L=async q=>{if(q.preventDefault(),!t){alert("Usuário não autenticado");return}if(!await R())return;const z=s.find(K=>K.id===e.productId);if(!z){alert("Produto selecionado não encontrado");return}const J=e.steps.reduce((K,ie)=>K+ie.standardTime,0),fe=e.steps.reduce((K,ie)=>K+ie.setupTime,0);try{O(!0);const K={productId:e.productId,productCode:z.code,productName:z.name,productDescription:z.description,productCategory:z.category,version:e.version,status:e.status,steps:e.steps.map((ie,re)=>({...ie,sequence:re+1})),totalStandardTime:J,totalSetupTime:fe,totalSteps:e.steps.length,createdBy:t.id,updatedBy:t.id};if(v&&_)await gse(_,K,t.id),i(ie=>ie.map(re=>re.id===_?{...re,...K,updatedAt:new Date().toISOString(),updatedBy:t.id}:re)),x(!1),w(null),alert("Roteiro operacional atualizado com sucesso!");else{const re={id:await pse(K,t.id),...K,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(de=>[re,...de]),alert("Roteiro operacional criado com sucesso!")}D()}catch(K){console.error("Erro ao salvar roteiro:",K);const ie=K instanceof Error?K.message:"Erro desconhecido";alert(`Erro ao salvar roteiro: ${ie}`)}finally{O(!1)}},D=()=>{n({productId:"",version:"1.0",status:"draft",steps:[]}),h({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:""}),p(""),S({})},B=q=>{x(!0),w(q.id),n({productId:q.productId,version:q.version,status:q.status,steps:q.steps}),window.scrollTo({top:0,behavior:"smooth"})},C=async q=>{if(window.confirm(`Tem certeza que deseja excluir este roteiro operacional?

Esta ação não pode ser desfeita.`))try{O(!0),await dD(q),i(z=>z.filter(J=>J.id!==q)),alert("Roteiro operacional excluído com sucesso!")}catch(z){console.error("Erro ao excluir roteiro:",z);const J=z instanceof Error?z.message:"Erro desconhecido";alert(`Erro ao excluir roteiro: ${J}`)}finally{O(!1)}},P=()=>{if(!d.name||!d.standardTime||d.standardTime<=0){alert("Nome da etapa e tempo padrão são obrigatórios");return}if(e.steps.some(J=>J.name.toLowerCase()===(d.name||"").toLowerCase())){alert("Já existe uma etapa com este nome");return}const z={id:Date.now().toString(),name:d.name.trim(),description:d.description?.trim()||"",sequence:e.steps.length+1,standardTime:d.standardTime,setupTime:d.setupTime||0,equipment:d.equipment?.trim()||"",requirements:d.requirements||[],notes:d.notes?.trim()||""};n(J=>({...J,steps:[...J.steps,z]})),h({name:"",description:"",sequence:e.steps.length+2,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:""}),p("")},M=q=>{n(z=>{const fe=z.steps.filter(K=>K.id!==q).map((K,ie)=>({...K,sequence:ie+1}));return{...z,steps:fe}})},F=()=>{f.trim()&&!d.requirements?.includes(f.trim())&&(h(q=>({...q,requirements:[...q.requirements||[],f.trim()]})),p(""))},$=q=>{h(z=>({...z,requirements:(z.requirements||[]).filter(J=>J!==q)}))},H=q=>{switch(q){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return q}},U=q=>`status-${q}`,pe=q=>{const z=Math.floor(q/60),J=q%60;return z>0?`${z}h ${J}min`:`${J}min`},ve=()=>{x(!1),w(null),D()};return l.jsx("div",{className:"operational-routes-page",children:l.jsxs("div",{className:"operational-routes-container",children:[l.jsx("div",{className:"operational-routes-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Cadastro de Roteiros Operacionais"}),l.jsx("p",{children:"Gerencie os roteiros de produção com produtos, etapas, tempo padrão e setup"})]})}),l.jsxs("form",{className:"registration-form",onSubmit:L,children:[l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(mb,{className:"section-icon"}),"Informações do Produto"]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Produto *"}),l.jsxs("select",{className:`form-select ${E.productId?"error":""}`,value:e.productId,onChange:q=>n(z=>({...z,productId:q.target.value})),children:[l.jsx("option",{value:"",children:"Selecione um produto"}),s.map(q=>l.jsxs("option",{value:q.id,children:[q.code," - ",q.name]},q.id))]}),E.productId&&l.jsx("span",{className:"form-error",children:E.productId})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Versão"}),l.jsx("input",{type:"text",className:`form-input ${E.version?"error":""}`,value:e.version,onChange:q=>n(z=>({...z,version:q.target.value})),placeholder:"Ex: 1.0"}),E.version&&l.jsx("span",{className:"form-error",children:E.version})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Status"}),l.jsxs("select",{className:"form-select",value:e.status,onChange:q=>n(z=>({...z,status:q.target.value})),children:[l.jsx("option",{value:"draft",children:"Rascunho"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(Zc,{className:"section-icon"}),"Etapas do Roteiro"]}),e.steps.length>0&&l.jsxs("div",{className:"steps-list",children:[l.jsx("h4",{children:"Etapas Configuradas:"}),e.steps.map(q=>l.jsxs("div",{className:"step-item",children:[l.jsxs("div",{className:"step-header",children:[l.jsx("span",{className:"step-sequence",children:q.sequence}),l.jsx("span",{className:"step-name",children:q.name}),l.jsxs("span",{className:"step-times",children:[l.jsx(Ot,{})," ",pe(q.standardTime)," | ",l.jsx(ph,{})," ",pe(q.setupTime)]}),l.jsx("button",{type:"button",className:"remove-step-btn",onClick:()=>M(q.id),children:l.jsx(Np,{})})]}),l.jsxs("div",{className:"step-details",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Descrição:"})," ",q.description]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Equipamento:"})," ",q.equipment]}),q.requirements.length>0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Requisitos:"})," ",q.requirements.join(", ")]}),q.notes&&l.jsxs("p",{children:[l.jsx("strong",{children:"Notas:"})," ",q.notes]})]})]},q.id))]}),l.jsxs("div",{className:"new-step-form",children:[l.jsx("h4",{children:"Adicionar Nova Etapa:"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Nome da Etapa *"}),l.jsx("input",{type:"text",className:"form-input",value:d.name,onChange:q=>h(z=>({...z,name:q.target.value})),placeholder:"Nome da etapa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Descrição"}),l.jsx("input",{type:"text",className:"form-input",value:d.description,onChange:q=>h(z=>({...z,description:q.target.value})),placeholder:"Descrição da etapa"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tempo Padrão (minutos) *"}),l.jsx("input",{type:"number",className:"form-input",value:d.standardTime,onChange:q=>h(z=>({...z,standardTime:parseInt(q.target.value)||0})),min:"1",placeholder:"Tempo em minutos"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Tempo de Setup (minutos)"}),l.jsx("input",{type:"number",className:"form-input",value:d.setupTime,onChange:q=>h(z=>({...z,setupTime:parseInt(q.target.value)||0})),min:"0",placeholder:"Tempo de setup"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Equipamento"}),l.jsx("input",{type:"text",className:"form-input",value:d.equipment,onChange:q=>h(z=>({...z,equipment:q.target.value})),placeholder:"Equipamento necessário"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Sequência"}),l.jsx("input",{type:"number",className:"form-input",value:d.sequence,onChange:q=>h(z=>({...z,sequence:parseInt(q.target.value)||1})),min:"1",placeholder:"Ordem da etapa"})]})]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Requisitos"}),l.jsx("div",{className:"requirements-container",children:(d.requirements||[]).map((q,z)=>l.jsxs("span",{className:"requirement-tag",children:[q,l.jsx("button",{type:"button",onClick:()=>$(q),children:l.jsx(Tl,{})})]},z))}),l.jsxs("div",{className:"requirement-input-group",children:[l.jsx("input",{type:"text",className:"form-input requirement-input",value:f,onChange:q=>p(q.target.value),placeholder:"Digite um requisito",onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),F())}),l.jsx(qe,{type:"button",variant:"outline",onClick:F,children:l.jsx(Qc,{})})]})]}),l.jsxs("div",{className:"form-group full-width",children:[l.jsx("label",{className:"form-label",children:"Notas"}),l.jsx("textarea",{className:"form-textarea",value:d.notes,onChange:q=>h(z=>({...z,notes:q.target.value})),placeholder:"Observações sobre a etapa..."})]}),l.jsxs(qe,{type:"button",variant:"outline",onClick:P,children:[l.jsx(Qc,{})," Adicionar Etapa"]})]}),E.steps&&l.jsx("span",{className:"form-error",children:E.steps})]}),l.jsxs("div",{className:"form-actions",children:[v&&l.jsx(qe,{type:"button",variant:"secondary",onClick:ve,children:"Cancelar"}),l.jsx(qe,{type:"submit",variant:"primary",disabled:j,children:j?"Salvando...":v?"Atualizar Roteiro":"Cadastrar Roteiro"})]})]}),l.jsxs("div",{className:"routes-list-section",children:[l.jsxs("h3",{className:"section-title",children:[l.jsx(MM,{className:"section-icon"}),"Roteiros Operacionais Existentes"]}),j?l.jsx("div",{className:"loading-message",children:"Carregando roteiros..."}):r.length===0?l.jsxs("div",{className:"no-routes-message",children:[l.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),l.jsx("p",{children:"Use o formulário acima para criar o primeiro roteiro."})]}):l.jsx("div",{className:"routes-grid",children:r.map(q=>l.jsxs("div",{className:"route-card",children:[l.jsxs("div",{className:"route-header",children:[l.jsxs("div",{className:"route-product-info",children:[l.jsx("h4",{children:q.productName}),l.jsx("p",{className:"product-code",children:q.productCode}),l.jsxs("p",{className:"route-version",children:["Versão: ",q.version]})]}),l.jsx("div",{className:"route-status",children:l.jsx("span",{className:`status-badge ${U(q.status)}`,children:H(q.status)})})]}),l.jsxs("div",{className:"route-details",children:[l.jsxs("div",{className:"route-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx(Zc,{}),l.jsxs("span",{children:[q.totalSteps," etapas"]})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx(Ot,{}),l.jsx("span",{children:pe(q.totalStandardTime)})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx(ph,{}),l.jsx("span",{children:pe(q.totalSetupTime)})]})]}),l.jsxs("div",{className:"route-steps-preview",children:[l.jsx("h5",{children:"Etapas:"}),q.steps.slice(0,3).map(z=>l.jsxs("div",{className:"step-preview",children:[l.jsx("span",{className:"step-number",children:z.sequence}),l.jsx("span",{className:"step-name",children:z.name}),l.jsx("span",{className:"step-time",children:pe(z.standardTime)})]},z.id)),q.steps.length>3&&l.jsxs("p",{className:"more-steps",children:["+",q.steps.length-3," etapas"]})]})]}),l.jsxs("div",{className:"route-actions",children:[l.jsxs(qe,{type:"button",variant:"outline",onClick:()=>B(q),children:[l.jsx(jp,{})," Editar"]}),l.jsxs(qe,{type:"button",variant:"secondary",onClick:()=>C(q.id),children:[l.jsx(Np,{})," Excluir"]})]})]},q.id))})]})]})})}function xse(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[i,s]=A.useState(!1),[c,d]=A.useState(""),[h,f]=A.useState("all"),[p,v]=A.useState("productName"),[x,_]=A.useState("asc");A.useEffect(()=>{(async()=>{try{s(!0);const C=await hD();e(C),r(C)}catch(C){console.error("Erro ao carregar roteiros:",C),alert("Erro ao carregar roteiros operacionais")}finally{s(!1)}})()},[]),A.useEffect(()=>{let B=t.filter(C=>{const P=C.productName.toLowerCase().includes(c.toLowerCase())||C.productCode.toLowerCase().includes(c.toLowerCase())||C.version.toLowerCase().includes(c.toLowerCase()),M=h==="all"||C.status===h;return P&&M});B.sort((C,P)=>{let M,F;switch(p){case"productName":M=C.productName.toLowerCase(),F=P.productName.toLowerCase();break;case"productCode":M=C.productCode.toLowerCase(),F=P.productCode.toLowerCase();break;case"version":M=C.version,F=P.version;break;case"status":M=C.status,F=P.status;break;case"totalStandardTime":M=C.totalStandardTime,F=P.totalStandardTime;break;case"stepsCount":M=C.steps.length,F=P.steps.length;break;default:M=C.productName.toLowerCase(),F=P.productName.toLowerCase()}return x==="asc"?M>F?1:-1:M<F?1:-1}),r(B)},[t,c,h,p,x]);const w=async B=>{if(window.confirm("Tem certeza que deseja excluir este roteiro operacional?"))try{s(!0),await dD(B),e(C=>C.filter(P=>P.id!==B)),alert("Roteiro operacional excluído com sucesso!")}catch(C){console.error("Erro ao excluir roteiro:",C),alert(`Erro ao excluir roteiro: ${C instanceof Error?C.message:"Erro desconhecido"}`)}finally{s(!1)}},E=B=>{window.location.href=`/operational-routes?edit=${B.id}`},S=B=>{window.location.href=`/operational-routes?view=${B.id}`},j=B=>{switch(B){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return B}},O=B=>`status-${B}`,R=B=>{const C=Math.floor(B/60),P=B%60;return C>0?`${C}h ${P}min`:`${P}min`},L=B=>{p===B?_(x==="asc"?"desc":"asc"):(v(B),_("asc"))},D=()=>{d(""),f("all"),v("productName"),_("asc")};return l.jsx("div",{className:"operational-routes-list-page",children:l.jsx("div",{className:"operational-routes-list-container",children:l.jsxs("div",{className:"operational-routes-list-content",children:[l.jsxs("div",{className:"operational-routes-list-header",children:[l.jsxs("div",{className:"header-content",children:[l.jsx("h1",{children:"Lista de Roteiros Operacionais"}),l.jsx("p",{children:"Visualize e gerencie todos os roteiros de produção cadastrados"})]}),l.jsx("div",{className:"header-actions",children:l.jsxs(qe,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:[l.jsx(Zc,{})," Novo Roteiro"]})})]}),l.jsxs("div",{className:"filters-section",children:[l.jsx("div",{className:"search-container",children:l.jsxs("div",{className:"search-input-wrapper",children:[l.jsx(qh,{className:"search-icon"}),l.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar roteiros por produto, código ou versão...",value:c,onChange:B=>d(B.target.value)}),c&&l.jsx("button",{className:"clear-search-btn",onClick:()=>d(""),title:"Limpar busca",children:"×"})]})}),l.jsxs("div",{className:"filters-row",children:[l.jsxs("div",{className:"filter-item",children:[l.jsx("label",{className:"filter-label",children:"Status"}),l.jsxs("select",{className:"filter-select",value:h,onChange:B=>f(B.target.value),children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"active",children:"Ativo"}),l.jsx("option",{value:"inactive",children:"Inativo"}),l.jsx("option",{value:"draft",children:"Rascunho"})]})]}),l.jsxs("div",{className:"filter-item",children:[l.jsx("label",{className:"filter-label",children:"Ordenar por"}),l.jsxs("div",{className:"sort-container",children:[l.jsxs("select",{className:"filter-select",value:p,onChange:B=>v(B.target.value),children:[l.jsx("option",{value:"productName",children:"Nome do Produto"}),l.jsx("option",{value:"productCode",children:"Código"}),l.jsx("option",{value:"version",children:"Versão"}),l.jsx("option",{value:"status",children:"Status"}),l.jsx("option",{value:"totalStandardTime",children:"Tempo"}),l.jsx("option",{value:"stepsCount",children:"Etapas"})]}),l.jsx("button",{className:"sort-btn",onClick:()=>L(p),title:`Ordenar ${x==="asc"?"decrescente":"crescente"}`,children:l.jsx(KM,{className:x==="asc"?"sort-asc":"sort-desc"})})]})]}),l.jsx("div",{className:"filter-item",children:l.jsxs(qe,{variant:"outline",onClick:D,children:[l.jsx(uC,{})," Limpar"]})})]}),(c||h!=="all")&&l.jsxs("div",{className:"active-filters-bar",children:[l.jsx("span",{className:"active-filters-text",children:"Filtros aplicados:"}),l.jsxs("div",{className:"filter-tags",children:[c&&l.jsxs("span",{className:"filter-tag",children:['Busca: "',c,'"',l.jsx("button",{className:"tag-remove-btn",onClick:()=>d(""),children:"×"})]}),h!=="all"&&l.jsxs("span",{className:"filter-tag",children:["Status: ",j(h),l.jsx("button",{className:"tag-remove-btn",onClick:()=>f("all"),children:"×"})]})]})]})]}),l.jsx("div",{className:"routes-list-section",children:i?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"Carregando roteiros..."})]}):n.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:l.jsx(Zc,{})}),l.jsx("h3",{children:"Nenhum roteiro encontrado"}),c||h!=="all"?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Tente ajustar os filtros de busca ou"}),l.jsx(qe,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"criar um novo roteiro"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),l.jsx(qe,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"Criar Primeiro Roteiro"})]})]}):l.jsx("div",{className:"routes-table-container",children:l.jsxs("table",{className:"routes-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Produto"}),l.jsx("th",{children:"Versão"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Etapas"}),l.jsx("th",{children:"Tempo Total"}),l.jsx("th",{children:"Setup Total"}),l.jsx("th",{children:"Ações"})]})}),l.jsx("tbody",{children:n.map(B=>l.jsxs("tr",{className:"route-row",children:[l.jsx("td",{className:"product-cell",children:l.jsxs("div",{className:"product-info",children:[l.jsx("h4",{children:B.productName}),l.jsx("span",{className:"product-code",children:B.productCode})]})}),l.jsx("td",{className:"version-cell",children:l.jsx("span",{className:"version-badge",children:B.version})}),l.jsx("td",{className:"status-cell",children:l.jsx("span",{className:`status-badge ${O(B.status)}`,children:j(B.status)})}),l.jsx("td",{className:"steps-cell",children:l.jsxs("div",{className:"steps-info",children:[l.jsx("span",{className:"steps-count",children:B.steps.length}),l.jsx("span",{className:"steps-label",children:"etapas"})]})}),l.jsx("td",{className:"time-cell",children:l.jsxs("div",{className:"time-info",children:[l.jsx(Ot,{className:"time-icon"}),l.jsx("span",{children:R(B.totalStandardTime)})]})}),l.jsx("td",{className:"setup-cell",children:l.jsxs("div",{className:"setup-info",children:[l.jsx(ph,{className:"setup-icon"}),l.jsx("span",{children:R(B.totalSetupTime)})]})}),l.jsx("td",{className:"actions-cell",children:l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{className:"action-btn view-btn",title:"Visualizar",onClick:()=>S(B),children:l.jsx(Bh,{})}),l.jsx("button",{className:"action-btn edit-btn",title:"Editar",onClick:()=>E(B),children:l.jsx(jp,{})}),l.jsx("button",{className:"action-btn delete-btn",title:"Excluir",onClick:()=>w(B.id),children:l.jsx(Np,{})})]})})]},B.id))})]})})})]})})})}function bse({config:t,onConfigChange:e}){const[n,r]=A.useState(!1);return l.jsxs("div",{className:"profile-settings",children:[l.jsx("h2",{children:"Configurações de Perfil"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nome do Usuário"}),l.jsx("input",{type:"text",value:t.userName,onChange:i=>e("userName",i.target.value),placeholder:"Digite seu nome"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"E-mail"}),l.jsx("input",{type:"email",value:t.email,onChange:i=>e("email",i.target.value),placeholder:"seu@email.com"})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Idioma"}),l.jsxs("select",{value:t.language,onChange:i=>e("language",i.target.value),children:[l.jsx("option",{value:"pt-BR",children:"Português (Brasil)"}),l.jsx("option",{value:"en-US",children:"English (US)"}),l.jsx("option",{value:"es-ES",children:"Español"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Fuso Horário"}),l.jsxs("select",{value:t.timezone,onChange:i=>e("timezone",i.target.value),children:[l.jsx("option",{value:"America/Sao_Paulo",children:"São Paulo (GMT-3)"}),l.jsx("option",{value:"America/Manaus",children:"Manaus (GMT-4)"}),l.jsx("option",{value:"America/Belem",children:"Belém (GMT-3)"})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nova Senha"}),l.jsxs("div",{className:"password-input",children:[l.jsx("input",{type:n?"text":"password",placeholder:"Digite sua nova senha"}),l.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?l.jsx(DM,{}):l.jsx(Bh,{})})]})]})]})}function _se({config:t,onConfigChange:e}){return l.jsxs("div",{className:"notification-settings",children:[l.jsx("h2",{children:"Configurações de Notificações"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:n=>e("emailNotifications",n.target.checked)}),"Receber notificações por e-mail"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.pushNotifications,onChange:n=>e("pushNotifications",n.target.checked)}),"Notificações push no navegador"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.alertSounds,onChange:n=>e("alertSounds",n.target.checked)}),"Sons de alerta"]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Frequência de Notificações"}),l.jsxs("select",{value:t.notificationFrequency,onChange:n=>e("notificationFrequency",n.target.value),children:[l.jsx("option",{value:"immediate",children:"Imediata"}),l.jsx("option",{value:"hourly",children:"A cada hora"}),l.jsx("option",{value:"daily",children:"Diária"}),l.jsx("option",{value:"weekly",children:"Semanal"})]})]})]})}function wse({config:t,onConfigChange:e}){return l.jsxs("div",{className:"appearance-settings",children:[l.jsx("h2",{children:"Configurações de Aparência"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tema"}),l.jsxs("select",{value:t.theme,onChange:n=>e("theme",n.target.value),children:[l.jsx("option",{value:"light",children:"Claro"}),l.jsx("option",{value:"dark",children:"Escuro"}),l.jsx("option",{value:"auto",children:"Automático"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tamanho da Fonte"}),l.jsxs("select",{value:t.fontSize,onChange:n=>e("fontSize",n.target.value),children:[l.jsx("option",{value:"small",children:"Pequeno"}),l.jsx("option",{value:"medium",children:"Médio"}),l.jsx("option",{value:"large",children:"Grande"})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.compactMode,onChange:n=>e("compactMode",n.target.checked)}),"Modo compacto"]})}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.showAnimations,onChange:n=>e("showAnimations",n.target.checked)}),"Mostrar animações"]})})]})}function Sse({config:t,onConfigChange:e}){return l.jsxs("div",{className:"security-settings",children:[l.jsx("h2",{children:"Configurações de Segurança"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.twoFactorAuth,onChange:n=>e("twoFactorAuth",n.target.checked)}),"Autenticação de dois fatores (2FA)"]})}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tempo limite da sessão (minutos)"}),l.jsx("input",{type:"number",value:t.sessionTimeout,onChange:n=>e("sessionTimeout",parseInt(n.target.value)),min:"5",max:"480"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Expiração de senha (dias)"}),l.jsx("input",{type:"number",value:t.passwordExpiry,onChange:n=>e("passwordExpiry",parseInt(n.target.value)),min:"30",max:"365"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Tentativas de login permitidas"}),l.jsx("input",{type:"number",value:t.loginAttempts,onChange:n=>e("loginAttempts",parseInt(n.target.value)),min:"1",max:"10"})]})]})}function Ese({config:t,onConfigChange:e}){return l.jsxs("div",{className:"system-settings",children:[l.jsx("h2",{children:"Configurações do Sistema"}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.autoSave,onChange:n=>e("autoSave",n.target.checked)}),"Salvamento automático"]})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Frequência de backup"}),l.jsxs("select",{value:t.backupFrequency,onChange:n=>e("backupFrequency",n.target.value),children:[l.jsx("option",{value:"hourly",children:"A cada hora"}),l.jsx("option",{value:"daily",children:"Diário"}),l.jsx("option",{value:"weekly",children:"Semanal"}),l.jsx("option",{value:"monthly",children:"Mensal"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Retenção de dados (dias)"}),l.jsx("input",{type:"number",value:t.dataRetention,onChange:n=>e("dataRetention",parseInt(n.target.value)),min:"30",max:"1095"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:t.debugMode,onChange:n=>e("debugMode",n.target.checked)}),"Modo debug"]})}),l.jsxs("div",{className:"system-actions",children:[l.jsxs("button",{className:"action-btn export",children:[l.jsx($c,{}),"Exportar Configurações"]}),l.jsxs("button",{className:"action-btn import",children:[l.jsx(XM,{}),"Importar Configurações"]})]})]})}function fD(){const[t,e]=A.useState("profile"),[n,r]=A.useState({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt-BR",timezone:"America/Sao_Paulo",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1}),[i,s]=A.useState(!1),c=(v,x)=>{r(_=>({..._,[v]:x})),s(!0)},d=()=>{console.log("Salvando configurações:",n),s(!1)},h=()=>{r({userName:"João Silva",email:"joao.silva@empresa.com",language:"pt-BR",timezone:"America/Sao_Paulo",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1}),s(!1)},f=[{id:"profile",label:"Perfil",icon:l.jsx(gh,{})},{id:"notifications",label:"Notificações",icon:l.jsx(Ys,{})},{id:"appearance",label:"Aparência",icon:l.jsx(UM,{})},{id:"security",label:"Segurança",icon:l.jsx(mC,{})},{id:"system",label:"Sistema",icon:l.jsx(Ua,{})}],p=()=>{switch(t){case"profile":return l.jsx(bse,{config:{userName:n.userName,email:n.email,language:n.language,timezone:n.timezone},onConfigChange:c});case"notifications":return l.jsx(_se,{config:{emailNotifications:n.emailNotifications,pushNotifications:n.pushNotifications,alertSounds:n.alertSounds,notificationFrequency:n.notificationFrequency},onConfigChange:c});case"appearance":return l.jsx(wse,{config:{theme:n.theme,fontSize:n.fontSize,compactMode:n.compactMode,showAnimations:n.showAnimations},onConfigChange:c});case"security":return l.jsx(Sse,{config:{twoFactorAuth:n.twoFactorAuth,sessionTimeout:n.sessionTimeout,passwordExpiry:n.passwordExpiry,loginAttempts:n.loginAttempts},onConfigChange:c});case"system":return l.jsx(Ese,{config:{autoSave:n.autoSave,backupFrequency:n.backupFrequency,dataRetention:n.dataRetention,debugMode:n.debugMode},onConfigChange:c});default:return null}};return l.jsx("div",{className:"settings-page",children:l.jsxs("div",{className:"settings-container",children:[l.jsxs("div",{className:"settings-header",children:[l.jsx("h1",{children:"Configurações"}),l.jsx("p",{children:"Gerencie suas preferências e configurações do sistema"})]}),l.jsxs("div",{className:"settings-content",children:[l.jsx("div",{className:"settings-sidebar",children:f.map(v=>l.jsxs("button",{className:`tab-button ${t===v.id?"active":""}`,onClick:()=>e(v.id),children:[v.icon,l.jsx("span",{children:v.label})]},v.id))}),l.jsx("div",{className:"settings-main",children:p()})]}),l.jsxs("div",{className:"settings-actions",children:[l.jsxs("button",{className:"action-btn secondary",onClick:h,disabled:!i,children:[l.jsx(WM,{}),"Restaurar Padrão"]}),l.jsxs("div",{className:"action-buttons",children:[l.jsxs("button",{className:"action-btn cancel",onClick:()=>s(!1),disabled:!i,children:[l.jsx(Tl,{}),"Cancelar"]}),l.jsxs("button",{className:"action-btn save",onClick:d,disabled:!i,children:[l.jsx(FM,{}),"Salvar Alterações"]})]})]})]})})}function Tse(){const[t,e]=A.useState("orders"),n=i=>{e(i)},r=()=>{switch(t){case"orders":return l.jsx(JA,{});case"schedule":return l.jsx(SF,{});case"productivity":return l.jsx(Hae,{});case"nonconformities":return l.jsx(Zae,{});case"alerts":return l.jsx(ise,{});case"control":return l.jsx(dse,{});case"priority-optimization":return l.jsx(uD,{});case"operator-registration":return l.jsx(hse,{});case"operators-list":return l.jsx(fse,{});case"bling-integration":return l.jsx(mse,{});case"operational-routes":return l.jsx(yse,{});case"operational-routes-list":return l.jsx(xse,{});case"settings":return l.jsx(fD,{});default:return l.jsx(JA,{})}};return l.jsxs("div",{className:"dashboard-layout",children:[l.jsx(JI,{currentPage:t,onPageChange:n}),l.jsx("div",{className:"dashboard-main",children:r()})]})}function Sp(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const Ase=async()=>{const t=Ca(Lt,"users");return(await Jo(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName,company:r.company,phone:r.phone,photoURL:r.photoURL,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt||new Date().toISOString(),operatorData:r.operatorData}})},jse=async t=>{if(!t.email)throw new Error("E-mail é obrigatório");const e=Sp({...t,email:t.email.trim().toLowerCase()});if(e.uid){const i=sr(Lt,"users",e.uid);return await iv(i,Sp({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),e.uid}const n=Ca(Lt,"users"),r=await GI(n,Sp({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await nf(r,{uid:r.id}),r.id},Nse=async(t,e)=>{const n=sr(Lt,"users",t);await nf(n,Sp({...e,updatedAt:new Date().toISOString()}))},Cse=async t=>{const e=sr(Lt,"users",t);await u_(e)};function Ose(){const[t,e]=A.useState("admin-users"),[n,r]=A.useState([]),[i,s]=A.useState(!0),[c,d]=A.useState(null),[h,f]=A.useState(""),[p,v]=A.useState(!1),[x,_]=A.useState(null),[w,E]=A.useState([]),S=(z,J="success")=>{const fe=Date.now();E(K=>[...K,{id:fe,type:J,message:z}]),setTimeout(()=>E(K=>K.filter(ie=>ie.id!==fe)),3e3)},j=56,O=6,R=A.useRef(null),[L,D]=A.useState(0),[B,C]=A.useState(480),P=A.useMemo(()=>{const z=h.trim().toLowerCase();return z?n.filter(J=>J.email.toLowerCase().includes(z)||(J.name||"").toLowerCase().includes(z)||(J.company||"").toLowerCase().includes(z)):n},[n,h]),M=P.length,F=Math.max(0,Math.floor(L/j)-O),$=Math.min(M,Math.ceil((L+B)/j)+O),H=P.slice(F,$),U=F*j,pe=async()=>{try{s(!0);const z=await Ase();r(z)}catch{d("Falha ao carregar usuários")}finally{s(!1)}};A.useEffect(()=>{pe()},[]),A.useEffect(()=>{if(!R.current)return;const z=R.current,J=()=>C(z.clientHeight||480);J();const fe=()=>D(z.scrollTop);return z.addEventListener("scroll",fe),window.addEventListener("resize",J),()=>{z.removeEventListener("scroll",fe),window.removeEventListener("resize",J)}},[]);const ve=async z=>{try{d(null),x&&x.id?await Nse(x.id,z):await jse({id:"",email:z.email||"",name:z.name||"",company:z.company,phone:z.phone,displayName:z.displayName,photoURL:z.photoURL,emailVerified:!1,userType:"user",role:z.role||"user"}),v(!1),_(null),await pe(),S("Usuário salvo com sucesso","success")}catch{d("Falha ao salvar usuário"),S("Falha ao salvar usuário","error")}},q=async z=>{if(confirm("Remover este usuário?"))try{await Cse(z),await pe(),S("Usuário removido","success")}catch{d("Falha ao remover usuário"),S("Falha ao remover usuário","error")}};return l.jsxs("div",{className:"dashboard-layout",children:[l.jsx(JI,{currentPage:t,onPageChange:e,variant:"admin"}),l.jsxs("div",{className:"dashboard-main admin-page",children:[l.jsxs("div",{className:"admin-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Gerenciar Usuários"}),l.jsx("p",{children:"Visualize, adicione, edite e remova usuários do sistema."})]}),l.jsxs("div",{className:"admin-actions",children:[l.jsx("div",{className:"admin-search",children:l.jsx(qt,{type:"text",name:"search",placeholder:"Buscar por nome, e-mail ou empresa",value:h,onChange:z=>f(z.target.value)})}),l.jsx(qe,{onClick:()=>{_(null),v(!0)},children:"Adicionar Usuário"})]})]}),c&&l.jsx("div",{className:"admin-error",children:c}),l.jsxs("div",{className:"users-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Nome"}),l.jsx("div",{children:"E-mail"}),l.jsx("div",{children:"Empresa"}),l.jsx("div",{children:"Telefone"}),l.jsx("div",{children:"Papel"}),l.jsx("div",{children:"Ações"})]}),i?l.jsx("div",{className:"users-viewport",children:Array.from({length:8}).map((z,J)=>l.jsxs("div",{className:"table-row skeleton-row",children:[l.jsx("div",{className:"skeleton skeleton-text"}),l.jsx("div",{className:"skeleton skeleton-text"}),l.jsx("div",{className:"skeleton skeleton-text short"}),l.jsx("div",{className:"skeleton skeleton-text short"}),l.jsx("div",{className:"skeleton skeleton-badge"}),l.jsx("div",{className:"skeleton skeleton-actions"})]},J))}):l.jsxs("div",{className:"users-viewport",ref:R,children:[l.jsx("div",{style:{height:M*j,position:"relative"},children:l.jsx("div",{style:{transform:`translateY(${U}px)`},children:H.map(z=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{children:z.name||z.displayName||"—"}),l.jsx("div",{children:z.email}),l.jsx("div",{children:z.company||"—"}),l.jsx("div",{children:z.phone||"—"}),l.jsx("div",{children:l.jsx("span",{className:`badge role-${z.role||"user"}`,children:z.role||"user"})}),l.jsxs("div",{className:"row-actions",children:[l.jsx("button",{className:"link",onClick:()=>{_(z),v(!0)},children:"Editar"}),l.jsx("button",{className:"link danger",onClick:()=>q(z.id),children:"Remover"})]})]},z.id))})}),P.length===0&&l.jsx("div",{className:"table-empty",children:"Nenhum usuário encontrado."})]})]}),l.jsx("div",{className:"toasts",children:w.map(z=>l.jsx("div",{className:`toast toast-${z.type}`,children:z.message},z.id))}),p&&l.jsx(Ise,{initial:x||void 0,onClose:()=>{v(!1),_(null)},onSave:ve})]})]})}function Ise({initial:t,onClose:e,onSave:n}){const[r,i]=A.useState({email:t?.email||"",name:t?.name||t?.displayName||"",company:t?.company||"",phone:t?.phone||"",role:t?.role||"user",displayName:t?.displayName,photoURL:t?.photoURL}),[s,c]=A.useState(!1),d=f=>{const{name:p,value:v}=f.target;i(x=>({...x,[p]:v}))},h=async()=>{c(!0),await n(r),c(!1)};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:t?"Editar Usuário":"Adicionar Usuário"}),l.jsx("button",{className:"close",onClick:e,children:"×"})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-grid",children:[l.jsx(qt,{type:"email",name:"email",placeholder:"E-mail",value:r.email||"",onChange:f=>d(f)}),l.jsx(qt,{type:"text",name:"name",placeholder:"Nome",value:r.name||"",onChange:f=>d(f)}),l.jsx(qt,{type:"text",name:"company",placeholder:"Empresa",value:r.company||"",onChange:f=>d(f)}),l.jsx(qt,{type:"text",name:"phone",placeholder:"Telefone",value:r.phone||"",onChange:f=>d(f)}),l.jsxs("div",{className:"select-wrapper",children:[l.jsx("label",{children:"Papel"}),l.jsxs("select",{name:"role",value:r.role,onChange:d,children:[l.jsx("option",{value:"user",children:"Usuário"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx(qe,{variant:"outline",onClick:e,disabled:s,children:"Cancelar"}),l.jsx(qe,{onClick:h,disabled:s,children:s?"Salvando...":"Salvar"})]})]})})}function M2({children:t}){const{user:e,loading:n}=vi();return n?null:e?l.jsx(l.Fragment,{children:t}):l.jsx(V2,{to:rt.login,replace:!0})}function Rse({children:t}){const{user:e,loading:n}=vi();return n?null:e?e.role!=="admin"?l.jsx(V2,{to:rt.dashboard,replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(V2,{to:rt.login,replace:!0})}function Pse(){return l.jsxs(L9,{children:[l.jsx(Ea,{path:rt.landing,element:l.jsx(s7,{})}),l.jsx(Ea,{path:rt.login,element:l.jsx(oF,{})}),l.jsx(Ea,{path:rt.register,element:l.jsx(cF,{})}),l.jsx(Ea,{path:rt.forgotPassword,element:l.jsx(uF,{})}),l.jsx(Ea,{path:rt.dashboard,element:l.jsx(M2,{children:l.jsx(Tse,{})})}),l.jsx(Ea,{path:rt.admin,element:l.jsx(Rse,{children:l.jsx(Ose,{})})}),l.jsx(Ea,{path:rt.priorityOptimization,element:l.jsx(M2,{children:l.jsx(uD,{})})}),l.jsx(Ea,{path:rt.settings,element:l.jsx(M2,{children:l.jsx(fD,{})})})]})}function Dse(){return l.jsx(Pse,{})}Kk.createRoot(document.getElementById("root")).render(l.jsx(A.StrictMode,{children:l.jsx(oM,{children:l.jsx(aF,{children:l.jsx(Dse,{})})})}));
