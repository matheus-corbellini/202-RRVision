(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F1={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4;function g7(){if(U4)return Sh;U4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Sh.Fragment=e,Sh.jsx=n,Sh.jsxs=n,Sh}var V4;function v7(){return V4||(V4=1,F1.exports=g7()),F1.exports}var i=v7(),H1={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4;function y7(){if(z4)return Ye;z4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(H,ae,F){this.props=H,this.context=ae,this.refs=S,this.updater=F||j}T.prototype.isReactComponent={},T.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=T.prototype;function I(H,ae,F){this.props=H,this.context=ae,this.refs=S,this.updater=F||j}var N=I.prototype=new E;N.constructor=I,w(N,T.prototype),N.isPureReactComponent=!0;var O=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function C(H,ae,F,G,ve,Q){return F=Q.ref,{$$typeof:t,type:H,key:ae,ref:F!==void 0?F:null,props:Q}}function R(H,ae){return C(H.type,ae,void 0,void 0,void 0,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(F){return ae[F]})}var L=/\/+/g;function U(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):ae.toString(36)}function z(){}function xe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(z,z):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ce(H,ae,F,G,ve){var Q=typeof H;(Q==="undefined"||Q==="boolean")&&(H=null);var fe=!1;if(H===null)fe=!0;else switch(Q){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(H.$$typeof){case t:case e:fe=!0;break;case m:return fe=H._init,ce(fe(H._payload),ae,F,G,ve)}}if(fe)return ve=ve(H),fe=G===""?"."+U(H,0):G,O(ve)?(F="",fe!=null&&(F=fe.replace(L,"$&/")+"/"),ce(ve,ae,F,"",function(be){return be})):ve!=null&&(B(ve)&&(ve=R(ve,F+(ve.key==null||H&&H.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+fe)),ae.push(ve)),1;fe=0;var Ae=G===""?".":G+":";if(O(H))for(var Me=0;Me<H.length;Me++)G=H[Me],Q=Ae+U(G,Me),fe+=ce(G,ae,F,Q,ve);else if(Me=y(H),typeof Me=="function")for(H=Me.call(H),Me=0;!(G=H.next()).done;)G=G.value,Q=Ae+U(G,Me++),fe+=ce(G,ae,F,Q,ve);else if(Q==="object"){if(typeof H.then=="function")return ce(xe(H),ae,F,G,ve);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return fe}function X(H,ae,F){if(H==null)return H;var G=[],ve=0;return ce(H,G,"","",function(Q){return ae.call(F,Q,ve++)}),G}function se(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(F){(H._status===0||H._status===-1)&&(H._status=1,H._result=F)},function(F){(H._status===0||H._status===-1)&&(H._status=2,H._result=F)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Se(){}return Ye.Children={map:X,forEach:function(H,ae,F){X(H,function(){ae.apply(this,arguments)},F)},count:function(H){var ae=0;return X(H,function(){ae++}),ae},toArray:function(H){return X(H,function(ae){return ae})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ye.Component=T,Ye.Fragment=n,Ye.Profiler=a,Ye.PureComponent=I,Ye.StrictMode=r,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},Ye.cache=function(H){return function(){return H.apply(null,arguments)}},Ye.cloneElement=function(H,ae,F){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var G=w({},H.props),ve=H.key,Q=void 0;if(ae!=null)for(fe in ae.ref!==void 0&&(Q=void 0),ae.key!==void 0&&(ve=""+ae.key),ae)!M.call(ae,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ae.ref===void 0||(G[fe]=ae[fe]);var fe=arguments.length-2;if(fe===1)G.children=F;else if(1<fe){for(var Ae=Array(fe),Me=0;Me<fe;Me++)Ae[Me]=arguments[Me+2];G.children=Ae}return C(H.type,ve,void 0,void 0,Q,G)},Ye.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Ye.createElement=function(H,ae,F){var G,ve={},Q=null;if(ae!=null)for(G in ae.key!==void 0&&(Q=""+ae.key),ae)M.call(ae,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ve[G]=ae[G]);var fe=arguments.length-2;if(fe===1)ve.children=F;else if(1<fe){for(var Ae=Array(fe),Me=0;Me<fe;Me++)Ae[Me]=arguments[Me+2];ve.children=Ae}if(H&&H.defaultProps)for(G in fe=H.defaultProps,fe)ve[G]===void 0&&(ve[G]=fe[G]);return C(H,Q,void 0,void 0,null,ve)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(H){return{$$typeof:u,render:H}},Ye.isValidElement=B,Ye.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:se}},Ye.memo=function(H,ae){return{$$typeof:f,type:H,compare:ae===void 0?null:ae}},Ye.startTransition=function(H){var ae=D.T,F={};D.T=F;try{var G=H(),ve=D.S;ve!==null&&ve(F,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Se,ge)}catch(Q){ge(Q)}finally{D.T=ae}},Ye.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ye.use=function(H){return D.H.use(H)},Ye.useActionState=function(H,ae,F){return D.H.useActionState(H,ae,F)},Ye.useCallback=function(H,ae){return D.H.useCallback(H,ae)},Ye.useContext=function(H){return D.H.useContext(H)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(H,ae){return D.H.useDeferredValue(H,ae)},Ye.useEffect=function(H,ae,F){var G=D.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(H,ae)},Ye.useId=function(){return D.H.useId()},Ye.useImperativeHandle=function(H,ae,F){return D.H.useImperativeHandle(H,ae,F)},Ye.useInsertionEffect=function(H,ae){return D.H.useInsertionEffect(H,ae)},Ye.useLayoutEffect=function(H,ae){return D.H.useLayoutEffect(H,ae)},Ye.useMemo=function(H,ae){return D.H.useMemo(H,ae)},Ye.useOptimistic=function(H,ae){return D.H.useOptimistic(H,ae)},Ye.useReducer=function(H,ae,F){return D.H.useReducer(H,ae,F)},Ye.useRef=function(H){return D.H.useRef(H)},Ye.useState=function(H){return D.H.useState(H)},Ye.useSyncExternalStore=function(H,ae,F){return D.H.useSyncExternalStore(H,ae,F)},Ye.useTransition=function(){return D.H.useTransition()},Ye.version="19.1.0",Ye}var $4;function Zu(){return $4||($4=1,H1.exports=y7()),H1.exports}var b=Zu();const Co=Ci(b);var K1={exports:{}},Th={},G1={exports:{}},W1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function x7(){return q4||(q4=1,function(t){function e(X,se){var ge=X.length;X.push(se);e:for(;0<ge;){var Se=ge-1>>>1,H=X[Se];if(0<a(H,se))X[Se]=se,X[ge]=H,ge=Se;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],ge=X.pop();if(ge!==se){X[0]=ge;e:for(var Se=0,H=X.length,ae=H>>>1;Se<ae;){var F=2*(Se+1)-1,G=X[F],ve=F+1,Q=X[ve];if(0>a(G,ge))ve<H&&0>a(Q,G)?(X[Se]=Q,X[ve]=ge,Se=ve):(X[Se]=G,X[F]=ge,Se=F);else if(ve<H&&0>a(Q,ge))X[Se]=Q,X[ve]=ge,Se=ve;else break e}}return se}function a(X,se){var ge=X.sortIndex-se.sortIndex;return ge!==0?ge:X.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,g=null,y=3,j=!1,w=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function O(X){for(var se=n(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=X)r(f),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(f)}}function D(X){if(S=!1,O(X),!w)if(n(h)!==null)w=!0,M||(M=!0,U());else{var se=n(f);se!==null&&ce(D,se.startTime-X)}}var M=!1,C=-1,R=5,B=-1;function $(){return T?!0:!(t.unstable_now()-B<R)}function L(){if(T=!1,M){var X=t.unstable_now();B=X;var se=!0;try{e:{w=!1,S&&(S=!1,I(C),C=-1),j=!0;var ge=y;try{t:{for(O(X),g=n(h);g!==null&&!(g.expirationTime>X&&$());){var Se=g.callback;if(typeof Se=="function"){g.callback=null,y=g.priorityLevel;var H=Se(g.expirationTime<=X);if(X=t.unstable_now(),typeof H=="function"){g.callback=H,O(X),se=!0;break t}g===n(h)&&r(h),O(X)}else r(h);g=n(h)}if(g!==null)se=!0;else{var ae=n(f);ae!==null&&ce(D,ae.startTime-X),se=!1}}break e}finally{g=null,y=ge,j=!1}se=void 0}}finally{se?U():M=!1}}}var U;if(typeof N=="function")U=function(){N(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,xe=z.port2;z.port1.onmessage=L,U=function(){xe.postMessage(null)}}else U=function(){E(L,0)};function ce(X,se){C=E(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ge=y;y=se;try{return X()}finally{y=ge}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=y;y=X;try{return se()}finally{y=ge}},t.unstable_scheduleCallback=function(X,se,ge){var Se=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Se+ge:Se):ge=Se,X){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ge+H,X={id:m++,callback:se,priorityLevel:X,startTime:ge,expirationTime:H,sortIndex:-1},ge>Se?(X.sortIndex=ge,e(f,X),n(h)===null&&X===n(f)&&(S?(I(C),C=-1):S=!0,ce(D,ge-Se))):(X.sortIndex=H,e(h,X),w||j||(w=!0,M||(M=!0,U()))),X},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(X){var se=y;return function(){var ge=y;y=se;try{return X.apply(this,arguments)}finally{y=ge}}}}(W1)),W1}var F4;function b7(){return F4||(F4=1,G1.exports=x7()),G1.exports}var Y1={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function j7(){if(H4)return sr;H4=1;var t=Zu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},sr.flushSync=function(h){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=m,r.d.f()}},sr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},sr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},sr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:j}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},sr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},sr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},sr.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},sr.requestFormReset=function(h){r.d.r(h)},sr.unstable_batchedUpdates=function(h,f){return h(f)},sr.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},sr.version="19.1.0",sr}var K4;function HO(){if(K4)return Y1.exports;K4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y1.exports=j7(),Y1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function w7(){if(G4)return Th;G4=1;var t=b7(),e=Zu(),n=HO();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,d=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(d=c.return),o=c.return;while(o)}return c.tag===3?d:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function h(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var d=o,p=c;;){var x=d.return;if(x===null)break;var _=x.alternate;if(_===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===d)return u(x),o;if(_===p)return u(x),c;_=_.sibling}throw Error(r(188))}if(d.return!==p.return)d=x,p=_;else{for(var P=!1,V=x.child;V;){if(V===d){P=!0,d=x,p=_;break}if(V===p){P=!0,p=x,d=_;break}V=V.sibling}if(!P){for(V=_.child;V;){if(V===d){P=!0,d=_,p=x;break}if(V===p){P=!0,p=_,d=x;break}V=V.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function xe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case N:return(o.displayName||"Context")+".Provider";case I:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case C:return c=o.displayName||null,c!==null?c:xe(o.type)||"Memo";case R:c=o._payload,o=o._init;try{return xe(o(c))}catch{}}return null}var ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Se=[],H=-1;function ae(o){return{current:o}}function F(o){0>H||(o.current=Se[H],Se[H]=null,H--)}function G(o,c){H++,Se[H]=o.current,o.current=c}var ve=ae(null),Q=ae(null),fe=ae(null),Ae=ae(null);function Me(o,c){switch(G(fe,c),G(Q,o),G(ve,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?f4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=f4(c),o=m4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(ve),G(ve,o)}function be(){F(ve),F(Q),F(fe)}function Be(o){o.memoizedState!==null&&G(Ae,o);var c=ve.current,d=m4(c,o.type);c!==d&&(G(Q,o),G(ve,d))}function le(o){Q.current===o&&(F(ve),F(Q)),Ae.current===o&&(F(Ae),xh._currentValue=ge)}var Z=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,Re=t.unstable_requestPaint,Qe=t.unstable_now,un=t.unstable_getCurrentPriorityLevel,Pe=t.unstable_ImmediatePriority,Ge=t.unstable_UserBlockingPriority,_e=t.unstable_NormalPriority,ct=t.unstable_LowPriority,At=t.unstable_IdlePriority,wn=t.log,aa=t.unstable_setDisableYieldValue,Zt=null,wt=null;function Rr(o){if(typeof wn=="function"&&aa(o),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Zt,o)}catch{}}var ar=Math.clz32?Math.clz32:sl,om=Math.log,Ky=Math.LN2;function sl(o){return o>>>=0,o===0?32:31-(om(o)/Ky|0)|0}var ol=256,ll=4194304;function ka(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Nc(o,c,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,_=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var V=p&134217727;return V!==0?(p=V&~_,p!==0?x=ka(p):(P&=V,P!==0?x=ka(P):d||(d=V&~o,d!==0&&(x=ka(d))))):(V=p&~_,V!==0?x=ka(V):P!==0?x=ka(P):d||(d=p&~o,d!==0&&(x=ka(d)))),x===0?0:c!==0&&c!==x&&(c&_)===0&&(_=x&-x,d=c&-c,_>=d||_===32&&(d&4194048)!==0)?c:x}function cl(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function xd(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bd(){var o=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),o}function jd(){var o=ll;return ll<<=1,(ll&62914560)===0&&(ll=4194304),o}function Ri(o){for(var c=[],d=0;31>d;d++)c.push(o);return c}function Di(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wd(o,c,d,p,x,_){var P=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var V=o.entanglements,K=o.expirationTimes,te=o.hiddenUpdates;for(d=P&~d;0<d;){var ue=31-ar(d),me=1<<ue;V[ue]=0,K[ue]=-1;var ne=te[ue];if(ne!==null)for(te[ue]=null,ue=0;ue<ne.length;ue++){var re=ne[ue];re!==null&&(re.lane&=-536870913)}d&=~me}p!==0&&Qa(o,p,0),_!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=_&~(P&~c))}function Qa(o,c,d){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-ar(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|d&4194090}function _d(o,c){var d=o.entangledLanes|=c;for(o=o.entanglements;d;){var p=31-ar(d),x=1<<p;x&c|o[p]&c&&(o[p]|=c),d&=~x}}function zs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Cc(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function $s(){var o=se.p;return o!==0?o:(o=window.event,o===void 0?32:P4(o.type))}function lm(o,c){var d=se.p;try{return se.p=o,c()}finally{se.p=d}}var $t=Math.random().toString(36).slice(2),_n="__reactFiber$"+$t,dn="__reactProps$"+$t,ia="__reactContainer$"+$t,Sd="__reactEvents$"+$t,Gy="__reactListeners$"+$t,qs="__reactHandles$"+$t,cm="__reactResources$"+$t,ul="__reactMarker$"+$t;function Fs(o){delete o[_n],delete o[dn],delete o[Sd],delete o[Gy],delete o[qs]}function Mi(o){var c=o[_n];if(c)return c;for(var d=o.parentNode;d;){if(c=d[ia]||d[_n]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(o=y4(o);o!==null;){if(d=o[_n])return d;o=y4(o)}return c}o=d,d=o.parentNode}return null}function Za(o){if(o=o[_n]||o[ia]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Ja(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function vr(o){var c=o[cm];return c||(c=o[cm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function nn(o){o[ul]=!0}var Td=new Set,Oc={};function Pa(o,c){Li(o,c),Li(o+"Capture",c)}function Li(o,c){for(Oc[o]=c,o=0;o<c.length;o++)Td.add(c[o])}var um=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dm={},dl={};function hm(o){return Z.call(dl,o)?!0:Z.call(dm,o)?!1:um.test(o)?dl[o]=!0:(dm[o]=!0,!1)}function Hs(o,c,d){if(hm(c))if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+d)}}function ei(o,c,d){if(d===null)o.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+d)}}function Kn(o,c,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(c,d,""+p)}}var hl,fm;function Bi(o){if(hl===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);hl=c&&c[1]||"",fm=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hl+o+fm}var Ic=!1;function kc(o,c){if(!o||Ic)return"";Ic=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var ne=re}Reflect.construct(o,[],me)}else{try{me.call()}catch(re){ne=re}o.call(me.prototype)}}else{try{throw Error()}catch(re){ne=re}(me=o())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),P=_[0],V=_[1];if(P&&V){var K=P.split(`
`),te=V.split(`
`);for(x=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;if(p===K.length||x===te.length)for(p=K.length-1,x=te.length-1;1<=p&&0<=x&&K[p]!==te[x];)x--;for(;1<=p&&0<=x;p--,x--)if(K[p]!==te[x]){if(p!==1||x!==1)do if(p--,x--,0>x||K[p]!==te[x]){var ue=`
`+K[p].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=p&&0<=x);break}}}finally{Ic=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Bi(d):""}function Ed(o){switch(o.tag){case 26:case 27:case 5:return Bi(o.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return kc(o.type,!1);case 11:return kc(o.type.render,!1);case 1:return kc(o.type,!0);case 31:return Bi("Activity");default:return""}}function Pc(o){try{var c="";do c+=Ed(o),o=o.return;while(o);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function yr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ad(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wy(o){var c=Ad(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),p=""+o[c];if(!o.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,_=d.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return x.call(this)},set:function(P){p=""+P,_.call(this,P)}}),Object.defineProperty(o,c,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Rc(o){o._valueTracker||(o._valueTracker=Wy(o))}function Nd(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var d=c.getValue(),p="";return o&&(p=Ad(o)?o.checked?"true":"false":o.value),o=p,o!==d?(c.setValue(o),!0):!1}function fl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Yy=/[\n"\\]/g;function hn(o){return o.replace(Yy,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Dr(o,c,d,p,x,_,P,V){o.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.type=P:o.removeAttribute("type"),c!=null?P==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+yr(c)):o.value!==""+yr(c)&&(o.value=""+yr(c)):P!=="submit"&&P!=="reset"||o.removeAttribute("value"),c!=null?Ks(o,P,yr(c)):d!=null?Ks(o,P,yr(d)):p!=null&&o.removeAttribute("value"),x==null&&_!=null&&(o.defaultChecked=!!_),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.name=""+yr(V):o.removeAttribute("name")}function ml(o,c,d,p,x,_,P,V){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),c!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||c!=null))return;d=d!=null?""+yr(d):"",c=c!=null?""+yr(c):d,V||c===o.value||(o.value=c),o.defaultValue=c}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=V?o.checked:!!p,o.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.name=P)}function Ks(o,c,d){c==="number"&&fl(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Ui(o,c,d,p){if(o=o.options,c){c={};for(var x=0;x<d.length;x++)c["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=c.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&p&&(o[d].defaultSelected=!0)}else{for(d=""+yr(d),c=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}c!==null||o[x].disabled||(c=o[x])}c!==null&&(c.selected=!0)}}function Nt(o,c,d){if(c!=null&&(c=""+yr(c),c!==o.value&&(o.value=c),d==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=d!=null?""+yr(d):""}function pl(o,c,d,p){if(c==null){if(p!=null){if(d!=null)throw Error(r(92));if(ce(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),c=d}d=yr(c),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p)}function sa(o,c){if(c){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=c;return}}o.textContent=c}var gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(o,c,d){var p=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,d):typeof d!="number"||d===0||gl.has(c)?c==="float"?o.cssFloat=d:o[c]=(""+d).trim():o[c]=d+"px"}function Cd(o,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in c)p=c[x],c.hasOwnProperty(x)&&d[x]!==p&&mm(o,x,p)}else for(var _ in c)c.hasOwnProperty(_)&&mm(o,_,c[_])}function Od(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dc(o){return Qy.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Vi=null;function oa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zi=null,$i=null;function Id(o){var c=Za(o);if(c&&(o=c.stateNode)){var d=o[dn]||null;e:switch(o=c.stateNode,c.type){case"input":if(Dr(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+hn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var p=d[c];if(p!==o&&p.form===o.form){var x=p[dn]||null;if(!x)throw Error(r(90));Dr(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(c=0;c<d.length;c++)p=d[c],p.form===o.form&&Nd(p)}break e;case"textarea":Nt(o,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&Ui(o,!!d.multiple,c,!1)}}}var ti=!1;function pm(o,c,d){if(ti)return o(c,d);ti=!0;try{var p=o(c);return p}finally{if(ti=!1,(zi!==null||$i!==null)&&(lp(),zi&&(c=zi,o=$i,$i=zi=null,Id(c),o)))for(c=0;c<o.length;c++)Id(o[c])}}function vl(o,c){var d=o.stateNode;if(d===null)return null;var p=d[dn]||null;if(p===null)return null;d=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(Ra)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){la=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{la=!1}var ni=null,Gs=null,qi=null;function kd(){if(qi)return qi;var o,c=Gs,d=c.length,p,x="value"in ni?ni.value:ni.textContent,_=x.length;for(o=0;o<d&&c[o]===x[o];o++);var P=d-o;for(p=1;p<=P&&c[d-p]===x[_-p];p++);return qi=x.slice(o,1<p?1-p:void 0)}function ri(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function ai(){return!0}function Pd(){return!1}function Pn(o){function c(d,p,x,_,P){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var V in o)o.hasOwnProperty(V)&&(d=o[V],this[V]=d?d(_):_[V]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ai:Pd,this.isPropagationStopped=Pd,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),c}var bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=Pn(bt),xl=m({},bt,{view:0,detail:0}),gm=Pn(xl),Lc,Bc,ii,bl=m({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ii&&(ii&&o.type==="mousemove"?(Lc=o.screenX-ii.screenX,Bc=o.screenY-ii.screenY):Bc=Lc=0,ii=o),Lc)},movementY:function(o){return"movementY"in o?o.movementY:Bc}}),ca=Pn(bl),vm=m({},bl,{dataTransfer:0}),Zy=Pn(vm),jl=m({},xl,{relatedTarget:0}),Uc=Pn(jl),Rd=m({},bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vc=Pn(Rd),ym=m({},bt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zc=Pn(ym),Jy=m({},bt,{data:0}),Dd=Pn(Jy),wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=bm[o])?!!c[o]:!1}function _l(){return Md}var jm=m({},xl,{key:function(o){if(o.key){var c=wl[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ri(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?xm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(o){return o.type==="keypress"?ri(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ri(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),$c=Pn(jm),wm=m({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=Pn(wm),Fi=m({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),_m=Pn(Fi),Sm=m({},bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=Pn(Sm),Em=m({},bl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qc=Pn(Em),xr=m({},bt,{newState:0,oldState:0}),Am=Pn(xr),Nm=[9,13,27,32],si=Ra&&"CompositionEvent"in window,v=null;Ra&&"documentMode"in document&&(v=document.documentMode);var A=Ra&&"TextEvent"in window&&!v,k=Ra&&(!si||v&&8<v&&11>=v),q=" ",J=!1;function oe(o,c){switch(o){case"keyup":return Nm.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function je(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ut=!1;function Sn(o,c){switch(o){case"compositionend":return je(c);case"keypress":return c.which!==32?null:(J=!0,q);case"textInput":return o=c.data,o===q&&J?null:o;default:return null}}function dt(o,c){if(ut)return o==="compositionend"||!si&&oe(o,c)?(o=kd(),qi=Gs=ni=null,ut=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return k&&c.locale!=="ko"?null:c.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Rn[o.type]:c==="textarea"}function Hi(o,c,d,p){zi?$i?$i.push(p):$i=[p]:zi=p,c=mp(c,"onChange"),0<c.length&&(d=new Mc("onChange","change",null,d,p),o.push({event:d,listeners:c}))}var Gn=null,oi=null;function Bd(o){l4(o,0)}function Cm(o){var c=Ja(o);if(Nd(c))return o}function CS(o,c){if(o==="change")return c}var OS=!1;if(Ra){var e0;if(Ra){var t0="oninput"in document;if(!t0){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),t0=typeof IS.oninput=="function"}e0=t0}else e0=!1;OS=e0&&(!document.documentMode||9<document.documentMode)}function kS(){Gn&&(Gn.detachEvent("onpropertychange",PS),oi=Gn=null)}function PS(o){if(o.propertyName==="value"&&Cm(oi)){var c=[];Hi(c,oi,o,oa(o)),pm(Bd,c)}}function K9(o,c,d){o==="focusin"?(kS(),Gn=c,oi=d,Gn.attachEvent("onpropertychange",PS)):o==="focusout"&&kS()}function G9(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cm(oi)}function W9(o,c){if(o==="click")return Cm(c)}function Y9(o,c){if(o==="input"||o==="change")return Cm(c)}function X9(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Mr=typeof Object.is=="function"?Object.is:X9;function Ud(o,c){if(Mr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var d=Object.keys(o),p=Object.keys(c);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!Z.call(c,x)||!Mr(o[x],c[x]))return!1}return!0}function RS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function DS(o,c){var d=RS(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=c&&p>=c)return{node:d,offset:c-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=RS(d)}}function MS(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?MS(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function LS(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=fl(o.document);c instanceof o.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)o=c.contentWindow;else break;c=fl(o.document)}return c}function n0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Q9=Ra&&"documentMode"in document&&11>=document.documentMode,Fc=null,r0=null,Vd=null,a0=!1;function BS(o,c,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;a0||Fc==null||Fc!==fl(p)||(p=Fc,"selectionStart"in p&&n0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vd&&Ud(Vd,p)||(Vd=p,p=mp(r0,"onSelect"),0<p.length&&(c=new Mc("onSelect","select",null,c,d),o.push({event:c,listeners:p}),c.target=Fc)))}function Sl(o,c){var d={};return d[o.toLowerCase()]=c.toLowerCase(),d["Webkit"+o]="webkit"+c,d["Moz"+o]="moz"+c,d}var Hc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},i0={},US={};Ra&&(US=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function Tl(o){if(i0[o])return i0[o];if(!Hc[o])return o;var c=Hc[o],d;for(d in c)if(c.hasOwnProperty(d)&&d in US)return i0[o]=c[d];return o}var VS=Tl("animationend"),zS=Tl("animationiteration"),$S=Tl("animationstart"),Z9=Tl("transitionrun"),J9=Tl("transitionstart"),eM=Tl("transitioncancel"),qS=Tl("transitionend"),FS=new Map,s0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");s0.push("scrollEnd");function Da(o,c){FS.set(o,c),Pa(c,[o])}var HS=new WeakMap;function ua(o,c){if(typeof o=="object"&&o!==null){var d=HS.get(o);return d!==void 0?d:(c={value:o,source:c,stack:Pc(c)},HS.set(o,c),c)}return{value:o,source:c,stack:Pc(c)}}var da=[],Kc=0,o0=0;function Om(){for(var o=Kc,c=o0=Kc=0;c<o;){var d=da[c];da[c++]=null;var p=da[c];da[c++]=null;var x=da[c];da[c++]=null;var _=da[c];if(da[c++]=null,p!==null&&x!==null){var P=p.pending;P===null?x.next=x:(x.next=P.next,P.next=x),p.pending=x}_!==0&&KS(d,x,_)}}function Im(o,c,d,p){da[Kc++]=o,da[Kc++]=c,da[Kc++]=d,da[Kc++]=p,o0|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function l0(o,c,d,p){return Im(o,c,d,p),km(o)}function Gc(o,c){return Im(o,null,null,c),km(o)}function KS(o,c,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var x=!1,_=o.return;_!==null;)_.childLanes|=d,p=_.alternate,p!==null&&(p.childLanes|=d),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(x=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,x&&c!==null&&(x=31-ar(d),o=_.hiddenUpdates,p=o[x],p===null?o[x]=[c]:p.push(c),c.lane=d|536870912),_):null}function km(o){if(50<dh)throw dh=0,m1=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Wc={};function tM(o,c,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(o,c,d,p){return new tM(o,c,d,p)}function c0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ki(o,c){var d=o.alternate;return d===null?(d=Lr(o.tag,c,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=c,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,c=o.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function GS(o,c){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,c=d.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Pm(o,c,d,p,x,_){var P=0;if(p=o,typeof o=="function")c0(o)&&(P=1);else if(typeof o=="string")P=r7(o,d,ve.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Lr(31,d,c,x),o.elementType=B,o.lanes=_,o;case w:return El(d.children,x,_,c);case S:P=8,x|=24;break;case T:return o=Lr(12,d,c,x|2),o.elementType=T,o.lanes=_,o;case D:return o=Lr(13,d,c,x),o.elementType=D,o.lanes=_,o;case M:return o=Lr(19,d,c,x),o.elementType=M,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case N:P=10;break e;case I:P=9;break e;case O:P=11;break e;case C:P=14;break e;case R:P=16,p=null;break e}P=29,d=Error(r(130,o===null?"null":typeof o,"")),p=null}return c=Lr(P,d,c,x),c.elementType=o,c.type=p,c.lanes=_,c}function El(o,c,d,p){return o=Lr(7,o,p,c),o.lanes=d,o}function u0(o,c,d){return o=Lr(6,o,null,c),o.lanes=d,o}function d0(o,c,d){return c=Lr(4,o.children!==null?o.children:[],o.key,c),c.lanes=d,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Yc=[],Xc=0,Rm=null,Dm=0,ha=[],fa=0,Al=null,Gi=1,Wi="";function Nl(o,c){Yc[Xc++]=Dm,Yc[Xc++]=Rm,Rm=o,Dm=c}function WS(o,c,d){ha[fa++]=Gi,ha[fa++]=Wi,ha[fa++]=Al,Al=o;var p=Gi;o=Wi;var x=32-ar(p)-1;p&=~(1<<x),d+=1;var _=32-ar(c)+x;if(30<_){var P=x-x%5;_=(p&(1<<P)-1).toString(32),p>>=P,x-=P,Gi=1<<32-ar(c)+x|d<<x|p,Wi=_+o}else Gi=1<<_|d<<x|p,Wi=o}function h0(o){o.return!==null&&(Nl(o,1),WS(o,1,0))}function f0(o){for(;o===Rm;)Rm=Yc[--Xc],Yc[Xc]=null,Dm=Yc[--Xc],Yc[Xc]=null;for(;o===Al;)Al=ha[--fa],ha[fa]=null,Wi=ha[--fa],ha[fa]=null,Gi=ha[--fa],ha[fa]=null}var br=null,Jt=null,yt=!1,Cl=null,li=!1,m0=Error(r(519));function Ol(o){var c=Error(r(418,""));throw qd(ua(c,o)),m0}function YS(o){var c=o.stateNode,d=o.type,p=o.memoizedProps;switch(c[_n]=o,c[dn]=p,d){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(d=0;d<fh.length;d++)it(fh[d],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":it("invalid",c),ml(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Rc(c);break;case"select":it("invalid",c);break;case"textarea":it("invalid",c),pl(c,p.value,p.defaultValue,p.children),Rc(c)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||p.suppressHydrationWarning===!0||h4(c.textContent,d)?(p.popover!=null&&(it("beforetoggle",c),it("toggle",c)),p.onScroll!=null&&it("scroll",c),p.onScrollEnd!=null&&it("scrollend",c),p.onClick!=null&&(c.onclick=pp),c=!0):c=!1,c||Ol(o)}function XS(o){for(br=o.return;br;)switch(br.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:br=br.return}}function zd(o){if(o!==br)return!1;if(!yt)return XS(o),yt=!0,!1;var c=o.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||O1(o.type,o.memoizedProps)),d=!d),d&&Jt&&Ol(o),XS(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(c===0){Jt=La(o.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;o=o.nextSibling}Jt=null}}else c===27?(c=Jt,co(o.type)?(o=R1,R1=null,Jt=o):Jt=c):Jt=br?La(o.stateNode.nextSibling):null;return!0}function $d(){Jt=br=null,yt=!1}function QS(){var o=Cl;return o!==null&&(Er===null?Er=o:Er.push.apply(Er,o),Cl=null),o}function qd(o){Cl===null?Cl=[o]:Cl.push(o)}var p0=ae(null),Il=null,Yi=null;function Ws(o,c,d){G(p0,c._currentValue),c._currentValue=d}function Xi(o){o._currentValue=p0.current,F(p0)}function g0(o,c,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===d)break;o=o.return}}function v0(o,c,d,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var _=x.dependencies;if(_!==null){var P=x.child;_=_.firstContext;e:for(;_!==null;){var V=_;_=x;for(var K=0;K<c.length;K++)if(V.context===c[K]){_.lanes|=d,V=_.alternate,V!==null&&(V.lanes|=d),g0(_.return,d,o),p||(P=null);break e}_=V.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(r(341));P.lanes|=d,_=P.alternate,_!==null&&(_.lanes|=d),g0(P,d,o),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===o){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function Fd(o,c,d,p){o=null;for(var x=c,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var V=x.type;Mr(x.pendingProps.value,P.value)||(o!==null?o.push(V):o=[V])}}else if(x===Ae.current){if(P=x.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(xh):o=[xh])}x=x.return}o!==null&&v0(c,o,d,p),c.flags|=262144}function Mm(o){for(o=o.firstContext;o!==null;){if(!Mr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function kl(o){Il=o,Yi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ir(o){return ZS(Il,o)}function Lm(o,c){return Il===null&&kl(o),ZS(o,c)}function ZS(o,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},Yi===null){if(o===null)throw Error(r(308));Yi=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Yi=Yi.next=c;return d}var nM=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(d){return d()})}},rM=t.unstable_scheduleCallback,aM=t.unstable_NormalPriority,En={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y0(){return{controller:new nM,data:new Map,refCount:0}}function Hd(o){o.refCount--,o.refCount===0&&rM(aM,function(){o.controller.abort()})}var Kd=null,x0=0,Qc=0,Zc=null;function iM(o,c){if(Kd===null){var d=Kd=[];x0=0,Qc=j1(),Zc={status:"pending",value:void 0,then:function(p){d.push(p)}}}return x0++,c.then(JS,JS),c}function JS(){if(--x0===0&&Kd!==null){Zc!==null&&(Zc.status="fulfilled");var o=Kd;Kd=null,Qc=0,Zc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function sM(o,c){var d=[],p={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var x=0;x<d.length;x++)(0,d[x])(c)},function(x){for(p.status="rejected",p.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),p}var eT=X.S;X.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&iM(o,c),eT!==null&&eT(o,c)};var Pl=ae(null);function b0(){var o=Pl.current;return o!==null?o:Mt.pooledCache}function Bm(o,c){c===null?G(Pl,Pl.current):G(Pl,c.pool)}function tT(){var o=b0();return o===null?null:{parent:En._currentValue,pool:o}}var Gd=Error(r(460)),nT=Error(r(474)),Um=Error(r(542)),j0={then:function(){}};function rT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Vm(){}function aT(o,c,d){switch(d=o[d],d===void 0?o.push(c):d!==c&&(c.then(Vm,Vm),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sT(o),o;default:if(typeof c.status=="string")c.then(Vm,Vm);else{if(o=Mt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var x=c;x.status="fulfilled",x.value=p}},function(p){if(c.status==="pending"){var x=c;x.status="rejected",x.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,sT(o),o}throw Wd=c,Gd}}var Wd=null;function iT(){if(Wd===null)throw Error(r(459));var o=Wd;return Wd=null,o}function sT(o){if(o===Gd||o===Um)throw Error(r(483))}var Ys=!1;function w0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Xs(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Qs(o,c,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(_t&2)!==0){var x=p.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),p.pending=c,c=km(o),KS(o,null,d),c}return Im(o,p,c,d),km(o)}function Yd(o,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,d|=p,c.lanes=d,_d(o,d)}}function S0(o,c){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?x=_=P:_=_.next=P,d=d.next}while(d!==null);_===null?x=_=c:_=_.next=c}else x=_=c;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=c}var T0=!1;function Xd(){if(T0){var o=Zc;if(o!==null)throw o}}function Qd(o,c,d,p){T0=!1;var x=o.updateQueue;Ys=!1;var _=x.firstBaseUpdate,P=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var K=V,te=K.next;K.next=null,P===null?_=te:P.next=te,P=K;var ue=o.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==P&&(V===null?ue.firstBaseUpdate=te:V.next=te,ue.lastBaseUpdate=K))}if(_!==null){var me=x.baseState;P=0,ue=te=K=null,V=_;do{var ne=V.lane&-536870913,re=ne!==V.lane;if(re?(ht&ne)===ne:(p&ne)===ne){ne!==0&&ne===Qc&&(T0=!0),ue!==null&&(ue=ue.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Fe=o,Ve=V;ne=c;var It=d;switch(Ve.tag){case 1:if(Fe=Ve.payload,typeof Fe=="function"){me=Fe.call(It,me,ne);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ve.payload,ne=typeof Fe=="function"?Fe.call(It,me,ne):Fe,ne==null)break e;me=m({},me,ne);break e;case 2:Ys=!0}}ne=V.callback,ne!==null&&(o.flags|=64,re&&(o.flags|=8192),re=x.callbacks,re===null?x.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(te=ue=re,K=me):ue=ue.next=re,P|=ne;if(V=V.next,V===null){if(V=x.shared.pending,V===null)break;re=V,V=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);ue===null&&(K=me),x.baseState=K,x.firstBaseUpdate=te,x.lastBaseUpdate=ue,_===null&&(x.shared.lanes=0),io|=P,o.lanes=P,o.memoizedState=me}}function oT(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function lT(o,c){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)oT(d[o],c)}var Jc=ae(null),zm=ae(0);function cT(o,c){o=rs,G(zm,o),G(Jc,c),rs=o|c.baseLanes}function E0(){G(zm,rs),G(Jc,Jc.current)}function A0(){rs=zm.current,F(Jc),F(zm)}var Zs=0,Ze=null,Ct=null,fn=null,$m=!1,eu=!1,Rl=!1,qm=0,Zd=0,tu=null,oM=0;function rn(){throw Error(r(321))}function N0(o,c){if(c===null)return!1;for(var d=0;d<c.length&&d<o.length;d++)if(!Mr(o[d],c[d]))return!1;return!0}function C0(o,c,d,p,x,_){return Zs=_,Ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,X.H=o===null||o.memoizedState===null?KT:GT,Rl=!1,_=d(p,x),Rl=!1,eu&&(_=dT(c,d,p,x)),uT(o),_}function uT(o){X.H=Ym;var c=Ct!==null&&Ct.next!==null;if(Zs=0,fn=Ct=Ze=null,$m=!1,Zd=0,tu=null,c)throw Error(r(300));o===null||Dn||(o=o.dependencies,o!==null&&Mm(o)&&(Dn=!0))}function dT(o,c,d,p){Ze=o;var x=0;do{if(eu&&(tu=null),Zd=0,eu=!1,25<=x)throw Error(r(301));if(x+=1,fn=Ct=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=mM,_=c(d,p)}while(eu);return _}function lM(){var o=X.H,c=o.useState()[0];return c=typeof c.then=="function"?Jd(c):c,o=o.useState()[0],(Ct!==null?Ct.memoizedState:null)!==o&&(Ze.flags|=1024),c}function O0(){var o=qm!==0;return qm=0,o}function I0(o,c,d){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~d}function k0(o){if($m){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}$m=!1}Zs=0,fn=Ct=Ze=null,eu=!1,Zd=qm=0,tu=null}function Sr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ze.memoizedState=fn=o:fn=fn.next=o,fn}function mn(){if(Ct===null){var o=Ze.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var c=fn===null?Ze.memoizedState:fn.next;if(c!==null)fn=c,Ct=o;else{if(o===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},fn===null?Ze.memoizedState=fn=o:fn=fn.next=o}return fn}function P0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jd(o){var c=Zd;return Zd+=1,tu===null&&(tu=[]),o=aT(tu,o,c),c=Ze,(fn===null?c.memoizedState:fn.next)===null&&(c=c.alternate,X.H=c===null||c.memoizedState===null?KT:GT),o}function Fm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jd(o);if(o.$$typeof===N)return ir(o)}throw Error(r(438,String(o)))}function R0(o){var c=null,d=Ze.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var p=Ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(x){return x.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=P0(),Ze.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(o),p=0;p<o;p++)d[p]=$;return c.index++,d}function Qi(o,c){return typeof c=="function"?c(o):c}function Hm(o){var c=mn();return D0(c,Ct,o)}function D0(o,c,d){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var x=o.baseQueue,_=p.pending;if(_!==null){if(x!==null){var P=x.next;x.next=_.next,_.next=P}c.baseQueue=x=_,p.pending=null}if(_=o.baseState,x===null)o.memoizedState=_;else{c=x.next;var V=P=null,K=null,te=c,ue=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(ht&me)===me:(Zs&me)===me){var ne=te.revertLane;if(ne===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===Qc&&(ue=!0);else if((Zs&ne)===ne){te=te.next,ne===Qc&&(ue=!0);continue}else me={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(V=K=me,P=_):K=K.next=me,Ze.lanes|=ne,io|=ne;me=te.action,Rl&&d(_,me),_=te.hasEagerState?te.eagerState:d(_,me)}else ne={lane:me,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(V=K=ne,P=_):K=K.next=ne,Ze.lanes|=me,io|=me;te=te.next}while(te!==null&&te!==c);if(K===null?P=_:K.next=V,!Mr(_,o.memoizedState)&&(Dn=!0,ue&&(d=Zc,d!==null)))throw d;o.memoizedState=_,o.baseState=P,o.baseQueue=K,p.lastRenderedState=_}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function M0(o){var c=mn(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=d.dispatch,x=d.pending,_=c.memoizedState;if(x!==null){d.pending=null;var P=x=x.next;do _=o(_,P.action),P=P.next;while(P!==x);Mr(_,c.memoizedState)||(Dn=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),d.lastRenderedState=_}return[_,p]}function hT(o,c,d){var p=Ze,x=mn(),_=yt;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=c();var P=!Mr((Ct||x).memoizedState,d);P&&(x.memoizedState=d,Dn=!0),x=x.queue;var V=pT.bind(null,p,x,o);if(eh(2048,8,V,[o]),x.getSnapshot!==c||P||fn!==null&&fn.memoizedState.tag&1){if(p.flags|=2048,nu(9,Km(),mT.bind(null,p,x,d,c),null),Mt===null)throw Error(r(349));_||(Zs&124)!==0||fT(p,c,d)}return d}function fT(o,c,d){o.flags|=16384,o={getSnapshot:c,value:d},c=Ze.updateQueue,c===null?(c=P0(),Ze.updateQueue=c,c.stores=[o]):(d=c.stores,d===null?c.stores=[o]:d.push(o))}function mT(o,c,d,p){c.value=d,c.getSnapshot=p,gT(c)&&vT(o)}function pT(o,c,d){return d(function(){gT(c)&&vT(o)})}function gT(o){var c=o.getSnapshot;o=o.value;try{var d=c();return!Mr(o,d)}catch{return!0}}function vT(o){var c=Gc(o,2);c!==null&&$r(c,o,2)}function L0(o){var c=Sr();if(typeof o=="function"){var d=o;if(o=d(),Rl){Rr(!0);try{d()}finally{Rr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:o},c}function yT(o,c,d,p){return o.baseState=d,D0(o,Ct,typeof p=="function"?p:Qi)}function cM(o,c,d,p,x){if(Wm(o))throw Error(r(485));if(o=c.action,o!==null){var _={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};X.T!==null?d(!0):_.isTransition=!1,p(_),d=c.pending,d===null?(_.next=c.pending=_,xT(c,_)):(_.next=d.next,c.pending=d.next=_)}}function xT(o,c){var d=c.action,p=c.payload,x=o.state;if(c.isTransition){var _=X.T,P={};X.T=P;try{var V=d(x,p),K=X.S;K!==null&&K(P,V),bT(o,c,V)}catch(te){B0(o,c,te)}finally{X.T=_}}else try{_=d(x,p),bT(o,c,_)}catch(te){B0(o,c,te)}}function bT(o,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){jT(o,c,p)},function(p){return B0(o,c,p)}):jT(o,c,d)}function jT(o,c,d){c.status="fulfilled",c.value=d,wT(c),o.state=d,c=o.pending,c!==null&&(d=c.next,d===c?o.pending=null:(d=d.next,c.next=d,xT(o,d)))}function B0(o,c,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=d,wT(c),c=c.next;while(c!==p)}o.action=null}function wT(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function _T(o,c){return c}function ST(o,c){if(yt){var d=Mt.formState;if(d!==null){e:{var p=Ze;if(yt){if(Jt){t:{for(var x=Jt,_=li;x.nodeType!==8;){if(!_){x=null;break t}if(x=La(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){Jt=La(x.nextSibling),p=x.data==="F!";break e}}Ol(p)}p=!1}p&&(c=d[0])}}return d=Sr(),d.memoizedState=d.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:c},d.queue=p,d=qT.bind(null,Ze,p),p.dispatch=d,p=L0(!1),_=q0.bind(null,Ze,!1,p.queue),p=Sr(),x={state:c,dispatch:null,action:o,pending:null},p.queue=x,d=cM.bind(null,Ze,x,_,d),x.dispatch=d,p.memoizedState=o,[c,d,!1]}function TT(o){var c=mn();return ET(c,Ct,o)}function ET(o,c,d){if(c=D0(o,c,_T)[0],o=Hm(Qi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Jd(c)}catch(P){throw P===Gd?Um:P}else p=c;c=mn();var x=c.queue,_=x.dispatch;return d!==c.memoizedState&&(Ze.flags|=2048,nu(9,Km(),uM.bind(null,x,d),null)),[p,_,o]}function uM(o,c){o.action=c}function AT(o){var c=mn(),d=Ct;if(d!==null)return ET(c,d,o);mn(),c=c.memoizedState,d=mn();var p=d.queue.dispatch;return d.memoizedState=o,[c,p,!1]}function nu(o,c,d,p){return o={tag:o,create:d,deps:p,inst:c,next:null},c=Ze.updateQueue,c===null&&(c=P0(),Ze.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,c.lastEffect=o),o}function Km(){return{destroy:void 0,resource:void 0}}function NT(){return mn().memoizedState}function Gm(o,c,d,p){var x=Sr();p=p===void 0?null:p,Ze.flags|=o,x.memoizedState=nu(1|c,Km(),d,p)}function eh(o,c,d,p){var x=mn();p=p===void 0?null:p;var _=x.memoizedState.inst;Ct!==null&&p!==null&&N0(p,Ct.memoizedState.deps)?x.memoizedState=nu(c,_,d,p):(Ze.flags|=o,x.memoizedState=nu(1|c,_,d,p))}function CT(o,c){Gm(8390656,8,o,c)}function OT(o,c){eh(2048,8,o,c)}function IT(o,c){return eh(4,2,o,c)}function kT(o,c){return eh(4,4,o,c)}function PT(o,c){if(typeof c=="function"){o=o();var d=c(o);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function RT(o,c,d){d=d!=null?d.concat([o]):null,eh(4,4,PT.bind(null,c,o),d)}function U0(){}function DT(o,c){var d=mn();c=c===void 0?null:c;var p=d.memoizedState;return c!==null&&N0(c,p[1])?p[0]:(d.memoizedState=[o,c],o)}function MT(o,c){var d=mn();c=c===void 0?null:c;var p=d.memoizedState;if(c!==null&&N0(c,p[1]))return p[0];if(p=o(),Rl){Rr(!0);try{o()}finally{Rr(!1)}}return d.memoizedState=[p,c],p}function V0(o,c,d){return d===void 0||(Zs&1073741824)!==0?o.memoizedState=c:(o.memoizedState=d,o=UE(),Ze.lanes|=o,io|=o,d)}function LT(o,c,d,p){return Mr(d,c)?d:Jc.current!==null?(o=V0(o,d,p),Mr(o,c)||(Dn=!0),o):(Zs&42)===0?(Dn=!0,o.memoizedState=d):(o=UE(),Ze.lanes|=o,io|=o,c)}function BT(o,c,d,p,x){var _=se.p;se.p=_!==0&&8>_?_:8;var P=X.T,V={};X.T=V,q0(o,!1,c,d);try{var K=x(),te=X.S;if(te!==null&&te(V,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ue=sM(K,p);th(o,c,ue,zr(o))}else th(o,c,p,zr(o))}catch(me){th(o,c,{then:function(){},status:"rejected",reason:me},zr())}finally{se.p=_,X.T=P}}function dM(){}function z0(o,c,d,p){if(o.tag!==5)throw Error(r(476));var x=UT(o).queue;BT(o,x,c,ge,d===null?dM:function(){return VT(o),d(p)})}function UT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ge},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:d},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function VT(o){var c=UT(o).next.queue;th(o,c,{},zr())}function $0(){return ir(xh)}function zT(){return mn().memoizedState}function $T(){return mn().memoizedState}function hM(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var d=zr();o=Xs(d);var p=Qs(c,o,d);p!==null&&($r(p,c,d),Yd(p,c,d)),c={cache:y0()},o.payload=c;return}c=c.return}}function fM(o,c,d){var p=zr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Wm(o)?FT(c,d):(d=l0(o,c,d,p),d!==null&&($r(d,o,p),HT(d,c,p)))}function qT(o,c,d){var p=zr();th(o,c,d,p)}function th(o,c,d,p){var x={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Wm(o))FT(c,x);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var P=c.lastRenderedState,V=_(P,d);if(x.hasEagerState=!0,x.eagerState=V,Mr(V,P))return Im(o,c,x,0),Mt===null&&Om(),!1}catch{}finally{}if(d=l0(o,c,x,p),d!==null)return $r(d,o,p),HT(d,c,p),!0}return!1}function q0(o,c,d,p){if(p={lane:2,revertLane:j1(),action:p,hasEagerState:!1,eagerState:null,next:null},Wm(o)){if(c)throw Error(r(479))}else c=l0(o,d,p,2),c!==null&&$r(c,o,2)}function Wm(o){var c=o.alternate;return o===Ze||c!==null&&c===Ze}function FT(o,c){eu=$m=!0;var d=o.pending;d===null?c.next=c:(c.next=d.next,d.next=c),o.pending=c}function HT(o,c,d){if((d&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,d|=p,c.lanes=d,_d(o,d)}}var Ym={readContext:ir,use:Fm,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},KT={readContext:ir,use:Fm,useCallback:function(o,c){return Sr().memoizedState=[o,c===void 0?null:c],o},useContext:ir,useEffect:CT,useImperativeHandle:function(o,c,d){d=d!=null?d.concat([o]):null,Gm(4194308,4,PT.bind(null,c,o),d)},useLayoutEffect:function(o,c){return Gm(4194308,4,o,c)},useInsertionEffect:function(o,c){Gm(4,2,o,c)},useMemo:function(o,c){var d=Sr();c=c===void 0?null:c;var p=o();if(Rl){Rr(!0);try{o()}finally{Rr(!1)}}return d.memoizedState=[p,c],p},useReducer:function(o,c,d){var p=Sr();if(d!==void 0){var x=d(c);if(Rl){Rr(!0);try{d(c)}finally{Rr(!1)}}}else x=c;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=fM.bind(null,Ze,o),[p.memoizedState,o]},useRef:function(o){var c=Sr();return o={current:o},c.memoizedState=o},useState:function(o){o=L0(o);var c=o.queue,d=qT.bind(null,Ze,c);return c.dispatch=d,[o.memoizedState,d]},useDebugValue:U0,useDeferredValue:function(o,c){var d=Sr();return V0(d,o,c)},useTransition:function(){var o=L0(!1);return o=BT.bind(null,Ze,o.queue,!0,!1),Sr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,d){var p=Ze,x=Sr();if(yt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),Mt===null)throw Error(r(349));(ht&124)!==0||fT(p,c,d)}x.memoizedState=d;var _={value:d,getSnapshot:c};return x.queue=_,CT(pT.bind(null,p,_,o),[o]),p.flags|=2048,nu(9,Km(),mT.bind(null,p,_,d,c),null),d},useId:function(){var o=Sr(),c=Mt.identifierPrefix;if(yt){var d=Wi,p=Gi;d=(p&~(1<<32-ar(p)-1)).toString(32)+d,c=""+c+"R"+d,d=qm++,0<d&&(c+="H"+d.toString(32)),c+=""}else d=oM++,c=""+c+"r"+d.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:$0,useFormState:ST,useActionState:ST,useOptimistic:function(o){var c=Sr();c.memoizedState=c.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=q0.bind(null,Ze,!0,d),d.dispatch=c,[o,c]},useMemoCache:R0,useCacheRefresh:function(){return Sr().memoizedState=hM.bind(null,Ze)}},GT={readContext:ir,use:Fm,useCallback:DT,useContext:ir,useEffect:OT,useImperativeHandle:RT,useInsertionEffect:IT,useLayoutEffect:kT,useMemo:MT,useReducer:Hm,useRef:NT,useState:function(){return Hm(Qi)},useDebugValue:U0,useDeferredValue:function(o,c){var d=mn();return LT(d,Ct.memoizedState,o,c)},useTransition:function(){var o=Hm(Qi)[0],c=mn().memoizedState;return[typeof o=="boolean"?o:Jd(o),c]},useSyncExternalStore:hT,useId:zT,useHostTransitionStatus:$0,useFormState:TT,useActionState:TT,useOptimistic:function(o,c){var d=mn();return yT(d,Ct,o,c)},useMemoCache:R0,useCacheRefresh:$T},mM={readContext:ir,use:Fm,useCallback:DT,useContext:ir,useEffect:OT,useImperativeHandle:RT,useInsertionEffect:IT,useLayoutEffect:kT,useMemo:MT,useReducer:M0,useRef:NT,useState:function(){return M0(Qi)},useDebugValue:U0,useDeferredValue:function(o,c){var d=mn();return Ct===null?V0(d,o,c):LT(d,Ct.memoizedState,o,c)},useTransition:function(){var o=M0(Qi)[0],c=mn().memoizedState;return[typeof o=="boolean"?o:Jd(o),c]},useSyncExternalStore:hT,useId:zT,useHostTransitionStatus:$0,useFormState:AT,useActionState:AT,useOptimistic:function(o,c){var d=mn();return Ct!==null?yT(d,Ct,o,c):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:R0,useCacheRefresh:$T},ru=null,nh=0;function Xm(o){var c=nh;return nh+=1,ru===null&&(ru=[]),aT(ru,o,c)}function rh(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Qm(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function WT(o){var c=o._init;return c(o._payload)}function YT(o){function c(Y,W){if(o){var ee=Y.deletions;ee===null?(Y.deletions=[W],Y.flags|=16):ee.push(W)}}function d(Y,W){if(!o)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function p(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function x(Y,W){return Y=Ki(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,ee){return Y.index=ee,o?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<W?(Y.flags|=67108866,W):ee):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function P(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function V(Y,W,ee,de){return W===null||W.tag!==6?(W=u0(ee,Y.mode,de),W.return=Y,W):(W=x(W,ee),W.return=Y,W)}function K(Y,W,ee,de){var Ie=ee.type;return Ie===w?ue(Y,W,ee.props.children,de,ee.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&WT(Ie)===W.type)?(W=x(W,ee.props),rh(W,ee),W.return=Y,W):(W=Pm(ee.type,ee.key,ee.props,null,Y.mode,de),rh(W,ee),W.return=Y,W)}function te(Y,W,ee,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=d0(ee,Y.mode,de),W.return=Y,W):(W=x(W,ee.children||[]),W.return=Y,W)}function ue(Y,W,ee,de,Ie){return W===null||W.tag!==7?(W=El(ee,Y.mode,de,Ie),W.return=Y,W):(W=x(W,ee),W.return=Y,W)}function me(Y,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=u0(""+W,Y.mode,ee),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return ee=Pm(W.type,W.key,W.props,null,Y.mode,ee),rh(ee,W),ee.return=Y,ee;case j:return W=d0(W,Y.mode,ee),W.return=Y,W;case R:var de=W._init;return W=de(W._payload),me(Y,W,ee)}if(ce(W)||U(W))return W=El(W,Y.mode,ee,null),W.return=Y,W;if(typeof W.then=="function")return me(Y,Xm(W),ee);if(W.$$typeof===N)return me(Y,Lm(Y,W),ee);Qm(Y,W)}return null}function ne(Y,W,ee,de){var Ie=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ie!==null?null:V(Y,W,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ee.key===Ie?K(Y,W,ee,de):null;case j:return ee.key===Ie?te(Y,W,ee,de):null;case R:return Ie=ee._init,ee=Ie(ee._payload),ne(Y,W,ee,de)}if(ce(ee)||U(ee))return Ie!==null?null:ue(Y,W,ee,de,null);if(typeof ee.then=="function")return ne(Y,W,Xm(ee),de);if(ee.$$typeof===N)return ne(Y,W,Lm(Y,ee),de);Qm(Y,ee)}return null}function re(Y,W,ee,de,Ie){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Y=Y.get(ee)||null,V(W,Y,""+de,Ie);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return Y=Y.get(de.key===null?ee:de.key)||null,K(W,Y,de,Ie);case j:return Y=Y.get(de.key===null?ee:de.key)||null,te(W,Y,de,Ie);case R:var tt=de._init;return de=tt(de._payload),re(Y,W,ee,de,Ie)}if(ce(de)||U(de))return Y=Y.get(ee)||null,ue(W,Y,de,Ie,null);if(typeof de.then=="function")return re(Y,W,ee,Xm(de),Ie);if(de.$$typeof===N)return re(Y,W,ee,Lm(W,de),Ie);Qm(W,de)}return null}function Fe(Y,W,ee,de){for(var Ie=null,tt=null,De=W,ze=W=0,Ln=null;De!==null&&ze<ee.length;ze++){De.index>ze?(Ln=De,De=null):Ln=De.sibling;var pt=ne(Y,De,ee[ze],de);if(pt===null){De===null&&(De=Ln);break}o&&De&&pt.alternate===null&&c(Y,De),W=_(pt,W,ze),tt===null?Ie=pt:tt.sibling=pt,tt=pt,De=Ln}if(ze===ee.length)return d(Y,De),yt&&Nl(Y,ze),Ie;if(De===null){for(;ze<ee.length;ze++)De=me(Y,ee[ze],de),De!==null&&(W=_(De,W,ze),tt===null?Ie=De:tt.sibling=De,tt=De);return yt&&Nl(Y,ze),Ie}for(De=p(De);ze<ee.length;ze++)Ln=re(De,Y,ze,ee[ze],de),Ln!==null&&(o&&Ln.alternate!==null&&De.delete(Ln.key===null?ze:Ln.key),W=_(Ln,W,ze),tt===null?Ie=Ln:tt.sibling=Ln,tt=Ln);return o&&De.forEach(function(po){return c(Y,po)}),yt&&Nl(Y,ze),Ie}function Ve(Y,W,ee,de){if(ee==null)throw Error(r(151));for(var Ie=null,tt=null,De=W,ze=W=0,Ln=null,pt=ee.next();De!==null&&!pt.done;ze++,pt=ee.next()){De.index>ze?(Ln=De,De=null):Ln=De.sibling;var po=ne(Y,De,pt.value,de);if(po===null){De===null&&(De=Ln);break}o&&De&&po.alternate===null&&c(Y,De),W=_(po,W,ze),tt===null?Ie=po:tt.sibling=po,tt=po,De=Ln}if(pt.done)return d(Y,De),yt&&Nl(Y,ze),Ie;if(De===null){for(;!pt.done;ze++,pt=ee.next())pt=me(Y,pt.value,de),pt!==null&&(W=_(pt,W,ze),tt===null?Ie=pt:tt.sibling=pt,tt=pt);return yt&&Nl(Y,ze),Ie}for(De=p(De);!pt.done;ze++,pt=ee.next())pt=re(De,Y,ze,pt.value,de),pt!==null&&(o&&pt.alternate!==null&&De.delete(pt.key===null?ze:pt.key),W=_(pt,W,ze),tt===null?Ie=pt:tt.sibling=pt,tt=pt);return o&&De.forEach(function(p7){return c(Y,p7)}),yt&&Nl(Y,ze),Ie}function It(Y,W,ee,de){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:e:{for(var Ie=ee.key;W!==null;){if(W.key===Ie){if(Ie=ee.type,Ie===w){if(W.tag===7){d(Y,W.sibling),de=x(W,ee.props.children),de.return=Y,Y=de;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&WT(Ie)===W.type){d(Y,W.sibling),de=x(W,ee.props),rh(de,ee),de.return=Y,Y=de;break e}d(Y,W);break}else c(Y,W);W=W.sibling}ee.type===w?(de=El(ee.props.children,Y.mode,de,ee.key),de.return=Y,Y=de):(de=Pm(ee.type,ee.key,ee.props,null,Y.mode,de),rh(de,ee),de.return=Y,Y=de)}return P(Y);case j:e:{for(Ie=ee.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(Y,W.sibling),de=x(W,ee.children||[]),de.return=Y,Y=de;break e}else{d(Y,W);break}else c(Y,W);W=W.sibling}de=d0(ee,Y.mode,de),de.return=Y,Y=de}return P(Y);case R:return Ie=ee._init,ee=Ie(ee._payload),It(Y,W,ee,de)}if(ce(ee))return Fe(Y,W,ee,de);if(U(ee)){if(Ie=U(ee),typeof Ie!="function")throw Error(r(150));return ee=Ie.call(ee),Ve(Y,W,ee,de)}if(typeof ee.then=="function")return It(Y,W,Xm(ee),de);if(ee.$$typeof===N)return It(Y,W,Lm(Y,ee),de);Qm(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(Y,W.sibling),de=x(W,ee),de.return=Y,Y=de):(d(Y,W),de=u0(ee,Y.mode,de),de.return=Y,Y=de),P(Y)):d(Y,W)}return function(Y,W,ee,de){try{nh=0;var Ie=It(Y,W,ee,de);return ru=null,Ie}catch(De){if(De===Gd||De===Um)throw De;var tt=Lr(29,De,null,Y.mode);return tt.lanes=de,tt.return=Y,tt}finally{}}}var au=YT(!0),XT=YT(!1),ma=ae(null),ci=null;function Js(o){var c=o.alternate;G(An,An.current&1),G(ma,o),ci===null&&(c===null||Jc.current!==null||c.memoizedState!==null)&&(ci=o)}function QT(o){if(o.tag===22){if(G(An,An.current),G(ma,o),ci===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(ci=o)}}else eo()}function eo(){G(An,An.current),G(ma,ma.current)}function Zi(o){F(ma),ci===o&&(ci=null),F(An)}var An=ae(0);function Zm(o){for(var c=o;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||P1(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function F0(o,c,d,p){c=o.memoizedState,d=d(p,c),d=d==null?c:m({},c,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var H0={enqueueSetState:function(o,c,d){o=o._reactInternals;var p=zr(),x=Xs(p);x.payload=c,d!=null&&(x.callback=d),c=Qs(o,x,p),c!==null&&($r(c,o,p),Yd(c,o,p))},enqueueReplaceState:function(o,c,d){o=o._reactInternals;var p=zr(),x=Xs(p);x.tag=1,x.payload=c,d!=null&&(x.callback=d),c=Qs(o,x,p),c!==null&&($r(c,o,p),Yd(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var d=zr(),p=Xs(d);p.tag=2,c!=null&&(p.callback=c),c=Qs(o,p,d),c!==null&&($r(c,o,d),Yd(c,o,d))}};function ZT(o,c,d,p,x,_,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,_,P):c.prototype&&c.prototype.isPureReactComponent?!Ud(d,p)||!Ud(x,_):!0}function JT(o,c,d,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,p),c.state!==o&&H0.enqueueReplaceState(c,c.state,null)}function Dl(o,c){var d=c;if("ref"in c){d={};for(var p in c)p!=="ref"&&(d[p]=c[p])}if(o=o.defaultProps){d===c&&(d=m({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}var Jm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function eE(o){Jm(o)}function tE(o){console.error(o)}function nE(o){Jm(o)}function ep(o,c){try{var d=o.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function rE(o,c,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function K0(o,c,d){return d=Xs(d),d.tag=3,d.payload={element:null},d.callback=function(){ep(o,c)},d}function aE(o){return o=Xs(o),o.tag=3,o}function iE(o,c,d,p){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var _=p.value;o.payload=function(){return x(_)},o.callback=function(){rE(c,d,p)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){rE(c,d,p),typeof x!="function"&&(so===null?so=new Set([this]):so.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function pM(o,c,d,p,x){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=d.alternate,c!==null&&Fd(c,d,x,!0),d=ma.current,d!==null){switch(d.tag){case 13:return ci===null?g1():d.alternate===null&&en===0&&(en=3),d.flags&=-257,d.flags|=65536,d.lanes=x,p===j0?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([p]):c.add(p),y1(o,p,x)),!1;case 22:return d.flags|=65536,p===j0?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([p]):d.add(p)),y1(o,p,x)),!1}throw Error(r(435,d.tag))}return y1(o,p,x),g1(),!1}if(yt)return c=ma.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=x,p!==m0&&(o=Error(r(422),{cause:p}),qd(ua(o,d)))):(p!==m0&&(c=Error(r(423),{cause:p}),qd(ua(c,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=ua(p,d),x=K0(o.stateNode,p,x),S0(o,x),en!==4&&(en=2)),!1;var _=Error(r(520),{cause:p});if(_=ua(_,d),uh===null?uh=[_]:uh.push(_),en!==4&&(en=2),c===null)return!0;p=ua(p,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=K0(d.stateNode,p,o),S0(d,o),!1;case 1:if(c=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(so===null||!so.has(_))))return d.flags|=65536,x&=-x,d.lanes|=x,x=aE(x),iE(x,o,d,p),S0(d,x),!1}d=d.return}while(d!==null);return!1}var sE=Error(r(461)),Dn=!1;function Wn(o,c,d,p){c.child=o===null?XT(c,null,d,p):au(c,o.child,d,p)}function oE(o,c,d,p,x){d=d.render;var _=c.ref;if("ref"in p){var P={};for(var V in p)V!=="ref"&&(P[V]=p[V])}else P=p;return kl(c),p=C0(o,c,d,P,_,x),V=O0(),o!==null&&!Dn?(I0(o,c,x),Ji(o,c,x)):(yt&&V&&h0(c),c.flags|=1,Wn(o,c,p,x),c.child)}function lE(o,c,d,p,x){if(o===null){var _=d.type;return typeof _=="function"&&!c0(_)&&_.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=_,cE(o,c,_,p,x)):(o=Pm(d.type,null,p,c,c.mode,x),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,!e1(o,x)){var P=_.memoizedProps;if(d=d.compare,d=d!==null?d:Ud,d(P,p)&&o.ref===c.ref)return Ji(o,c,x)}return c.flags|=1,o=Ki(_,p),o.ref=c.ref,o.return=c,c.child=o}function cE(o,c,d,p,x){if(o!==null){var _=o.memoizedProps;if(Ud(_,p)&&o.ref===c.ref)if(Dn=!1,c.pendingProps=p=_,e1(o,x))(o.flags&131072)!==0&&(Dn=!0);else return c.lanes=o.lanes,Ji(o,c,x)}return G0(o,c,d,p,x)}function uE(o,c,d){var p=c.pendingProps,x=p.children,_=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((c.flags&128)!==0){if(p=_!==null?_.baseLanes|d:d,o!==null){for(x=c.child=o.child,_=0;x!==null;)_=_|x.lanes|x.childLanes,x=x.sibling;c.childLanes=_&~p}else c.childLanes=0,c.child=null;return dE(o,c,p,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Bm(c,_!==null?_.cachePool:null),_!==null?cT(c,_):E0(),QT(c);else return c.lanes=c.childLanes=536870912,dE(o,c,_!==null?_.baseLanes|d:d,d)}else _!==null?(Bm(c,_.cachePool),cT(c,_),eo(),c.memoizedState=null):(o!==null&&Bm(c,null),E0(),eo());return Wn(o,c,x,d),c.child}function dE(o,c,d,p){var x=b0();return x=x===null?null:{parent:En._currentValue,pool:x},c.memoizedState={baseLanes:d,cachePool:x},o!==null&&Bm(c,null),E0(),QT(c),o!==null&&Fd(o,c,p,!0),null}function tp(o,c){var d=c.ref;if(d===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(c.flags|=4194816)}}function G0(o,c,d,p,x){return kl(c),d=C0(o,c,d,p,void 0,x),p=O0(),o!==null&&!Dn?(I0(o,c,x),Ji(o,c,x)):(yt&&p&&h0(c),c.flags|=1,Wn(o,c,d,x),c.child)}function hE(o,c,d,p,x,_){return kl(c),c.updateQueue=null,d=dT(c,p,d,x),uT(o),p=O0(),o!==null&&!Dn?(I0(o,c,_),Ji(o,c,_)):(yt&&p&&h0(c),c.flags|=1,Wn(o,c,d,_),c.child)}function fE(o,c,d,p,x){if(kl(c),c.stateNode===null){var _=Wc,P=d.contextType;typeof P=="object"&&P!==null&&(_=ir(P)),_=new d(p,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=H0,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=p,_.state=c.memoizedState,_.refs={},w0(c),P=d.contextType,_.context=typeof P=="object"&&P!==null?ir(P):Wc,_.state=c.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(F0(c,d,P,p),_.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&H0.enqueueReplaceState(_,_.state,null),Qd(c,p,_,x),Xd(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){_=c.stateNode;var V=c.memoizedProps,K=Dl(d,V);_.props=K;var te=_.context,ue=d.contextType;P=Wc,typeof ue=="object"&&ue!==null&&(P=ir(ue));var me=d.getDerivedStateFromProps;ue=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function",V=c.pendingProps!==V,ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V||te!==P)&&JT(c,_,p,P),Ys=!1;var ne=c.memoizedState;_.state=ne,Qd(c,p,_,x),Xd(),te=c.memoizedState,V||ne!==te||Ys?(typeof me=="function"&&(F0(c,d,me,p),te=c.memoizedState),(K=Ys||ZT(c,d,K,p,ne,te,P))?(ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=te),_.props=p,_.state=te,_.context=P,p=K):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{_=c.stateNode,_0(o,c),P=c.memoizedProps,ue=Dl(d,P),_.props=ue,me=c.pendingProps,ne=_.context,te=d.contextType,K=Wc,typeof te=="object"&&te!==null&&(K=ir(te)),V=d.getDerivedStateFromProps,(te=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==me||ne!==K)&&JT(c,_,p,K),Ys=!1,ne=c.memoizedState,_.state=ne,Qd(c,p,_,x),Xd();var re=c.memoizedState;P!==me||ne!==re||Ys||o!==null&&o.dependencies!==null&&Mm(o.dependencies)?(typeof V=="function"&&(F0(c,d,V,p),re=c.memoizedState),(ue=Ys||ZT(c,d,ue,p,ne,re,K)||o!==null&&o.dependencies!==null&&Mm(o.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,re,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,re,K)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===o.memoizedProps&&ne===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&ne===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=re),_.props=p,_.state=re,_.context=K,p=ue):(typeof _.componentDidUpdate!="function"||P===o.memoizedProps&&ne===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&ne===o.memoizedState||(c.flags|=1024),p=!1)}return _=p,tp(o,c),p=(c.flags&128)!==0,_||p?(_=c.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,o!==null&&p?(c.child=au(c,o.child,null,x),c.child=au(c,null,d,x)):Wn(o,c,d,x),c.memoizedState=_.state,o=c.child):o=Ji(o,c,x),o}function mE(o,c,d,p){return $d(),c.flags|=256,Wn(o,c,d,p),c.child}var W0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y0(o){return{baseLanes:o,cachePool:tT()}}function X0(o,c,d){return o=o!==null?o.childLanes&~d:0,c&&(o|=pa),o}function pE(o,c,d){var p=c.pendingProps,x=!1,_=(c.flags&128)!==0,P;if((P=_)||(P=o!==null&&o.memoizedState===null?!1:(An.current&2)!==0),P&&(x=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(yt){if(x?Js(c):eo(),yt){var V=Jt,K;if(K=V){e:{for(K=V,V=li;K.nodeType!==8;){if(!V){V=null;break e}if(K=La(K.nextSibling),K===null){V=null;break e}}V=K}V!==null?(c.memoizedState={dehydrated:V,treeContext:Al!==null?{id:Gi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},K=Lr(18,null,null,0),K.stateNode=V,K.return=c,c.child=K,br=c,Jt=null,K=!0):K=!1}K||Ol(c)}if(V=c.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return P1(V)?c.lanes=32:c.lanes=536870912,null;Zi(c)}return V=p.children,p=p.fallback,x?(eo(),x=c.mode,V=np({mode:"hidden",children:V},x),p=El(p,x,d,null),V.return=c,p.return=c,V.sibling=p,c.child=V,x=c.child,x.memoizedState=Y0(d),x.childLanes=X0(o,P,d),c.memoizedState=W0,p):(Js(c),Q0(c,V))}if(K=o.memoizedState,K!==null&&(V=K.dehydrated,V!==null)){if(_)c.flags&256?(Js(c),c.flags&=-257,c=Z0(o,c,d)):c.memoizedState!==null?(eo(),c.child=o.child,c.flags|=128,c=null):(eo(),x=p.fallback,V=c.mode,p=np({mode:"visible",children:p.children},V),x=El(x,V,d,null),x.flags|=2,p.return=c,x.return=c,p.sibling=x,c.child=p,au(c,o.child,null,d),p=c.child,p.memoizedState=Y0(d),p.childLanes=X0(o,P,d),c.memoizedState=W0,c=x);else if(Js(c),P1(V)){if(P=V.nextSibling&&V.nextSibling.dataset,P)var te=P.dgst;P=te,p=Error(r(419)),p.stack="",p.digest=P,qd({value:p,source:null,stack:null}),c=Z0(o,c,d)}else if(Dn||Fd(o,c,d,!1),P=(d&o.childLanes)!==0,Dn||P){if(P=Mt,P!==null&&(p=d&-d,p=(p&42)!==0?1:zs(p),p=(p&(P.suspendedLanes|d))!==0?0:p,p!==0&&p!==K.retryLane))throw K.retryLane=p,Gc(o,p),$r(P,o,p),sE;V.data==="$?"||g1(),c=Z0(o,c,d)}else V.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=K.treeContext,Jt=La(V.nextSibling),br=c,yt=!0,Cl=null,li=!1,o!==null&&(ha[fa++]=Gi,ha[fa++]=Wi,ha[fa++]=Al,Gi=o.id,Wi=o.overflow,Al=c),c=Q0(c,p.children),c.flags|=4096);return c}return x?(eo(),x=p.fallback,V=c.mode,K=o.child,te=K.sibling,p=Ki(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,te!==null?x=Ki(te,x):(x=El(x,V,d,null),x.flags|=2),x.return=c,p.return=c,p.sibling=x,c.child=p,p=x,x=c.child,V=o.child.memoizedState,V===null?V=Y0(d):(K=V.cachePool,K!==null?(te=En._currentValue,K=K.parent!==te?{parent:te,pool:te}:K):K=tT(),V={baseLanes:V.baseLanes|d,cachePool:K}),x.memoizedState=V,x.childLanes=X0(o,P,d),c.memoizedState=W0,p):(Js(c),d=o.child,o=d.sibling,d=Ki(d,{mode:"visible",children:p.children}),d.return=c,d.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=d,c.memoizedState=null,d)}function Q0(o,c){return c=np({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function np(o,c){return o=Lr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Z0(o,c,d){return au(c,o.child,null,d),o=Q0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function gE(o,c,d){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),g0(o.return,c,d)}function J0(o,c,d,p,x){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=x)}function vE(o,c,d){var p=c.pendingProps,x=p.revealOrder,_=p.tail;if(Wn(o,c,p.children,d),p=An.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gE(o,d,c);else if(o.tag===19)gE(o,d,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(G(An,p),x){case"forwards":for(d=c.child,x=null;d!==null;)o=d.alternate,o!==null&&Zm(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=c.child,c.child=null):(x=d.sibling,d.sibling=null),J0(c,!1,x,d,_);break;case"backwards":for(d=null,x=c.child,c.child=null;x!==null;){if(o=x.alternate,o!==null&&Zm(o)===null){c.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}J0(c,!0,d,null,_);break;case"together":J0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Ji(o,c,d){if(o!==null&&(c.dependencies=o.dependencies),io|=c.lanes,(d&c.childLanes)===0)if(o!==null){if(Fd(o,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,d=Ki(o,o.pendingProps),c.child=d,d.return=c;o.sibling!==null;)o=o.sibling,d=d.sibling=Ki(o,o.pendingProps),d.return=c;d.sibling=null}return c.child}function e1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mm(o)))}function gM(o,c,d){switch(c.tag){case 3:Me(c,c.stateNode.containerInfo),Ws(c,En,o.memoizedState.cache),$d();break;case 27:case 5:Be(c);break;case 4:Me(c,c.stateNode.containerInfo);break;case 10:Ws(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Js(c),c.flags|=128,null):(d&c.child.childLanes)!==0?pE(o,c,d):(Js(c),o=Ji(o,c,d),o!==null?o.sibling:null);Js(c);break;case 19:var x=(o.flags&128)!==0;if(p=(d&c.childLanes)!==0,p||(Fd(o,c,d,!1),p=(d&c.childLanes)!==0),x){if(p)return vE(o,c,d);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),G(An,An.current),p)break;return null;case 22:case 23:return c.lanes=0,uE(o,c,d);case 24:Ws(c,En,o.memoizedState.cache)}return Ji(o,c,d)}function yE(o,c,d){if(o!==null)if(o.memoizedProps!==c.pendingProps)Dn=!0;else{if(!e1(o,d)&&(c.flags&128)===0)return Dn=!1,gM(o,c,d);Dn=(o.flags&131072)!==0}else Dn=!1,yt&&(c.flags&1048576)!==0&&WS(c,Dm,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var p=c.elementType,x=p._init;if(p=x(p._payload),c.type=p,typeof p=="function")c0(p)?(o=Dl(p,o),c.tag=1,c=fE(null,c,p,o,d)):(c.tag=0,c=G0(null,c,p,o,d));else{if(p!=null){if(x=p.$$typeof,x===O){c.tag=11,c=oE(null,c,p,o,d);break e}else if(x===C){c.tag=14,c=lE(null,c,p,o,d);break e}}throw c=xe(p)||p,Error(r(306,c,""))}}return c;case 0:return G0(o,c,c.type,c.pendingProps,d);case 1:return p=c.type,x=Dl(p,c.pendingProps),fE(o,c,p,x,d);case 3:e:{if(Me(c,c.stateNode.containerInfo),o===null)throw Error(r(387));p=c.pendingProps;var _=c.memoizedState;x=_.element,_0(o,c),Qd(c,p,null,d);var P=c.memoizedState;if(p=P.cache,Ws(c,En,p),p!==_.cache&&v0(c,[En],d,!0),Xd(),p=P.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=mE(o,c,p,d);break e}else if(p!==x){x=ua(Error(r(424)),c),qd(x),c=mE(o,c,p,d);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Jt=La(o.firstChild),br=c,yt=!0,Cl=null,li=!0,d=XT(c,null,p,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if($d(),p===x){c=Ji(o,c,d);break e}Wn(o,c,p,d)}c=c.child}return c;case 26:return tp(o,c),o===null?(d=w4(c.type,null,c.pendingProps,null))?c.memoizedState=d:yt||(d=c.type,o=c.pendingProps,p=gp(fe.current).createElement(d),p[_n]=c,p[dn]=o,Xn(p,d,o),nn(p),c.stateNode=p):c.memoizedState=w4(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Be(c),o===null&&yt&&(p=c.stateNode=x4(c.type,c.pendingProps,fe.current),br=c,li=!0,x=Jt,co(c.type)?(R1=x,Jt=La(p.firstChild)):Jt=x),Wn(o,c,c.pendingProps.children,d),tp(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&yt&&((x=p=Jt)&&(p=FM(p,c.type,c.pendingProps,li),p!==null?(c.stateNode=p,br=c,Jt=La(p.firstChild),li=!1,x=!0):x=!1),x||Ol(c)),Be(c),x=c.type,_=c.pendingProps,P=o!==null?o.memoizedProps:null,p=_.children,O1(x,_)?p=null:P!==null&&O1(x,P)&&(c.flags|=32),c.memoizedState!==null&&(x=C0(o,c,lM,null,null,d),xh._currentValue=x),tp(o,c),Wn(o,c,p,d),c.child;case 6:return o===null&&yt&&((o=d=Jt)&&(d=HM(d,c.pendingProps,li),d!==null?(c.stateNode=d,br=c,Jt=null,o=!0):o=!1),o||Ol(c)),null;case 13:return pE(o,c,d);case 4:return Me(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=au(c,null,p,d):Wn(o,c,p,d),c.child;case 11:return oE(o,c,c.type,c.pendingProps,d);case 7:return Wn(o,c,c.pendingProps,d),c.child;case 8:return Wn(o,c,c.pendingProps.children,d),c.child;case 12:return Wn(o,c,c.pendingProps.children,d),c.child;case 10:return p=c.pendingProps,Ws(c,c.type,p.value),Wn(o,c,p.children,d),c.child;case 9:return x=c.type._context,p=c.pendingProps.children,kl(c),x=ir(x),p=p(x),c.flags|=1,Wn(o,c,p,d),c.child;case 14:return lE(o,c,c.type,c.pendingProps,d);case 15:return cE(o,c,c.type,c.pendingProps,d);case 19:return vE(o,c,d);case 31:return p=c.pendingProps,d=c.mode,p={mode:p.mode,children:p.children},o===null?(d=np(p,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=Ki(o.child,p),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return uE(o,c,d);case 24:return kl(c),p=ir(En),o===null?(x=b0(),x===null&&(x=Mt,_=y0(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=d),x=_),c.memoizedState={parent:p,cache:x},w0(c),Ws(c,En,x)):((o.lanes&d)!==0&&(_0(o,c),Qd(c,null,null,d),Xd()),x=o.memoizedState,_=c.memoizedState,x.parent!==p?(x={parent:p,cache:p},c.memoizedState=x,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=x),Ws(c,En,p)):(p=_.cache,Ws(c,En,p),p!==x.cache&&v0(c,[En],d,!0))),Wn(o,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function es(o){o.flags|=4}function xE(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!A4(c)){if(c=ma.current,c!==null&&((ht&4194048)===ht?ci!==null:(ht&62914560)!==ht&&(ht&536870912)===0||c!==ci))throw Wd=j0,nT;o.flags|=8192}}function rp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?jd():536870912,o.lanes|=c,lu|=c)}function ah(o,c){if(!yt)switch(o.tailMode){case"hidden":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Kt(o){var c=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(c)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=d,c}function vM(o,c,d){var p=c.pendingProps;switch(f0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(c),null;case 1:return Kt(c),null;case 3:return d=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Xi(En),be(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(zd(c)?es(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,QS())),Kt(c),null;case 26:return d=c.memoizedState,o===null?(es(c),d!==null?(Kt(c),xE(c,d)):(Kt(c),c.flags&=-16777217)):d?d!==o.memoizedState?(es(c),Kt(c),xE(c,d)):(Kt(c),c.flags&=-16777217):(o.memoizedProps!==p&&es(c),Kt(c),c.flags&=-16777217),null;case 27:le(c),d=fe.current;var x=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==p&&es(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return Kt(c),null}o=ve.current,zd(c)?YS(c):(o=x4(x,p,d),c.stateNode=o,es(c))}return Kt(c),null;case 5:if(le(c),d=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&es(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return Kt(c),null}if(o=ve.current,zd(c))YS(c);else{switch(x=gp(fe.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?x.createElement(d,{is:p.is}):x.createElement(d)}}o[_n]=c,o[dn]=p;e:for(x=c.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break e;for(;x.sibling===null;){if(x.return===null||x.return===c)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}c.stateNode=o;e:switch(Xn(o,d,p),d){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&es(c)}}return Kt(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&es(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(o=fe.current,zd(c)){if(o=c.stateNode,d=c.memoizedProps,p=null,x=br,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[_n]=c,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||h4(o.nodeValue,d)),o||Ol(c)}else o=gp(o).createTextNode(p),o[_n]=c,c.stateNode=o}return Kt(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=zd(c),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=c.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[_n]=c}else $d(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kt(c),x=!1}else x=QS(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return c.flags&256?(Zi(c),c):(Zi(c),null)}if(Zi(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=p!==null,o=o!==null&&o.memoizedState!==null,d){p=c.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool);var _=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==x&&(p.flags|=2048)}return d!==o&&d&&(c.child.flags|=8192),rp(c,c.updateQueue),Kt(c),null;case 4:return be(),o===null&&T1(c.stateNode.containerInfo),Kt(c),null;case 10:return Xi(c.type),Kt(c),null;case 19:if(F(An),x=c.memoizedState,x===null)return Kt(c),null;if(p=(c.flags&128)!==0,_=x.rendering,_===null)if(p)ah(x,!1);else{if(en!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(_=Zm(o),_!==null){for(c.flags|=128,ah(x,!1),o=_.updateQueue,c.updateQueue=o,rp(c,o),c.subtreeFlags=0,o=d,d=c.child;d!==null;)GS(d,o),d=d.sibling;return G(An,An.current&1|2),c.child}o=o.sibling}x.tail!==null&&Qe()>sp&&(c.flags|=128,p=!0,ah(x,!1),c.lanes=4194304)}else{if(!p)if(o=Zm(_),o!==null){if(c.flags|=128,p=!0,o=o.updateQueue,c.updateQueue=o,rp(c,o),ah(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!yt)return Kt(c),null}else 2*Qe()-x.renderingStartTime>sp&&d!==536870912&&(c.flags|=128,p=!0,ah(x,!1),c.lanes=4194304);x.isBackwards?(_.sibling=c.child,c.child=_):(o=x.last,o!==null?o.sibling=_:c.child=_,x.last=_)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Qe(),c.sibling=null,o=An.current,G(An,p?o&1|2:o&1),c):(Kt(c),null);case 22:case 23:return Zi(c),A0(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(d&536870912)!==0&&(c.flags&128)===0&&(Kt(c),c.subtreeFlags&6&&(c.flags|=8192)):Kt(c),d=c.updateQueue,d!==null&&rp(c,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048),o!==null&&F(Pl),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),Xi(En),Kt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function yM(o,c){switch(f0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Xi(En),be(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return le(c),null;case 13:if(Zi(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));$d()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return F(An),null;case 4:return be(),null;case 10:return Xi(c.type),null;case 22:case 23:return Zi(c),A0(),o!==null&&F(Pl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Xi(En),null;case 25:return null;default:return null}}function bE(o,c){switch(f0(c),c.tag){case 3:Xi(En),be();break;case 26:case 27:case 5:le(c);break;case 4:be();break;case 13:Zi(c);break;case 19:F(An);break;case 10:Xi(c.type);break;case 22:case 23:Zi(c),A0(),o!==null&&F(Pl);break;case 24:Xi(En)}}function ih(o,c){try{var d=c.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&o)===o){p=void 0;var _=d.create,P=d.inst;p=_(),P.destroy=p}d=d.next}while(d!==x)}}catch(V){Rt(c,c.return,V)}}function to(o,c,d){try{var p=c.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var _=x.next;p=_;do{if((p.tag&o)===o){var P=p.inst,V=P.destroy;if(V!==void 0){P.destroy=void 0,x=c;var K=d,te=V;try{te()}catch(ue){Rt(x,K,ue)}}}p=p.next}while(p!==_)}}catch(ue){Rt(c,c.return,ue)}}function jE(o){var c=o.updateQueue;if(c!==null){var d=o.stateNode;try{lT(c,d)}catch(p){Rt(o,o.return,p)}}}function wE(o,c,d){d.props=Dl(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){Rt(o,c,p)}}function sh(o,c){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(x){Rt(o,c,x)}}function ui(o,c){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(x){Rt(o,c,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Rt(o,c,x)}else d.current=null}function _E(o){var c=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(x){Rt(o,o.return,x)}}function t1(o,c,d){try{var p=o.stateNode;UM(p,o.type,d,c),p[dn]=c}catch(x){Rt(o,o.return,x)}}function SE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&co(o.type)||o.tag===4}function n1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||SE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&co(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function r1(o,c,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(o),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=pp));else if(p!==4&&(p===27&&co(o.type)&&(d=o.stateNode,c=null),o=o.child,o!==null))for(r1(o,c,d),o=o.sibling;o!==null;)r1(o,c,d),o=o.sibling}function ap(o,c,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?d.insertBefore(o,c):d.appendChild(o);else if(p!==4&&(p===27&&co(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(ap(o,c,d),o=o.sibling;o!==null;)ap(o,c,d),o=o.sibling}function TE(o){var c=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);Xn(c,p,d),c[_n]=o,c[dn]=d}catch(_){Rt(o,o.return,_)}}var ts=!1,an=!1,a1=!1,EE=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function xM(o,c){if(o=o.containerInfo,N1=wp,o=LS(o),n0(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var P=0,V=-1,K=-1,te=0,ue=0,me=o,ne=null;t:for(;;){for(var re;me!==d||x!==0&&me.nodeType!==3||(V=P+x),me!==_||p!==0&&me.nodeType!==3||(K=P+p),me.nodeType===3&&(P+=me.nodeValue.length),(re=me.firstChild)!==null;)ne=me,me=re;for(;;){if(me===o)break t;if(ne===d&&++te===x&&(V=P),ne===_&&++ue===p&&(K=P),(re=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=re}d=V===-1||K===-1?null:{start:V,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(C1={focusedElem:o,selectionRange:d},wp=!1,Mn=c;Mn!==null;)if(c=Mn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Mn=o;else for(;Mn!==null;){switch(c=Mn,_=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,d=c,x=_.memoizedProps,_=_.memoizedState,p=d.stateNode;try{var Fe=Dl(d.type,x,d.elementType===d.type);o=p.getSnapshotBeforeUpdate(Fe,_),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ve){Rt(d,d.return,Ve)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,d=o.nodeType,d===9)k1(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":k1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Mn=o;break}Mn=c.return}}function AE(o,c,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:no(o,d),p&4&&ih(5,d);break;case 1:if(no(o,d),p&4)if(o=d.stateNode,c===null)try{o.componentDidMount()}catch(P){Rt(d,d.return,P)}else{var x=Dl(d.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(x,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){Rt(d,d.return,P)}}p&64&&jE(d),p&512&&sh(d,d.return);break;case 3:if(no(o,d),p&64&&(o=d.updateQueue,o!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{lT(o,c)}catch(P){Rt(d,d.return,P)}}break;case 27:c===null&&p&4&&TE(d);case 26:case 5:no(o,d),c===null&&p&4&&_E(d),p&512&&sh(d,d.return);break;case 12:no(o,d);break;case 13:no(o,d),p&4&&OE(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=NM.bind(null,d),KM(o,d))));break;case 22:if(p=d.memoizedState!==null||ts,!p){c=c!==null&&c.memoizedState!==null||an,x=ts;var _=an;ts=p,(an=c)&&!_?ro(o,d,(d.subtreeFlags&8772)!==0):no(o,d),ts=x,an=_}break;case 30:break;default:no(o,d)}}function NE(o){var c=o.alternate;c!==null&&(o.alternate=null,NE(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Fs(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qt=null,Tr=!1;function ns(o,c,d){for(d=d.child;d!==null;)CE(o,c,d),d=d.sibling}function CE(o,c,d){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Zt,d)}catch{}switch(d.tag){case 26:an||ui(d,c),ns(o,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:an||ui(d,c);var p=qt,x=Tr;co(d.type)&&(qt=d.stateNode,Tr=!1),ns(o,c,d),ph(d.stateNode),qt=p,Tr=x;break;case 5:an||ui(d,c);case 6:if(p=qt,x=Tr,qt=null,ns(o,c,d),qt=p,Tr=x,qt!==null)if(Tr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(d.stateNode)}catch(_){Rt(d,c,_)}else try{qt.removeChild(d.stateNode)}catch(_){Rt(d,c,_)}break;case 18:qt!==null&&(Tr?(o=qt,v4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),_h(o)):v4(qt,d.stateNode));break;case 4:p=qt,x=Tr,qt=d.stateNode.containerInfo,Tr=!0,ns(o,c,d),qt=p,Tr=x;break;case 0:case 11:case 14:case 15:an||to(2,d,c),an||to(4,d,c),ns(o,c,d);break;case 1:an||(ui(d,c),p=d.stateNode,typeof p.componentWillUnmount=="function"&&wE(d,c,p)),ns(o,c,d);break;case 21:ns(o,c,d);break;case 22:an=(p=an)||d.memoizedState!==null,ns(o,c,d),an=p;break;default:ns(o,c,d)}}function OE(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_h(o)}catch(d){Rt(c,c.return,d)}}function bM(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new EE),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new EE),c;default:throw Error(r(435,o.tag))}}function i1(o,c){var d=bM(o);c.forEach(function(p){var x=CM.bind(null,o,p);d.has(p)||(d.add(p),p.then(x,x))})}function Br(o,c){var d=c.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p],_=o,P=c,V=P;e:for(;V!==null;){switch(V.tag){case 27:if(co(V.type)){qt=V.stateNode,Tr=!1;break e}break;case 5:qt=V.stateNode,Tr=!1;break e;case 3:case 4:qt=V.stateNode.containerInfo,Tr=!0;break e}V=V.return}if(qt===null)throw Error(r(160));CE(_,P,x),qt=null,Tr=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)IE(c,o),c=c.sibling}var Ma=null;function IE(o,c){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Br(c,o),Ur(o),p&4&&(to(3,o,o.return),ih(3,o),to(5,o,o.return));break;case 1:Br(c,o),Ur(o),p&512&&(an||d===null||ui(d,d.return)),p&64&&ts&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var x=Ma;if(Br(c,o),Ur(o),p&512&&(an||d===null||ui(d,d.return)),p&4){var _=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":_=x.getElementsByTagName("title")[0],(!_||_[ul]||_[_n]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(p),x.head.insertBefore(_,x.querySelector("head > title"))),Xn(_,p,d),_[_n]=o,nn(_),p=_;break e;case"link":var P=T4("link","href",x).get(p+(d.href||""));if(P){for(var V=0;V<P.length;V++)if(_=P[V],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(V,1);break t}}_=x.createElement(p),Xn(_,p,d),x.head.appendChild(_);break;case"meta":if(P=T4("meta","content",x).get(p+(d.content||""))){for(V=0;V<P.length;V++)if(_=P[V],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(V,1);break t}}_=x.createElement(p),Xn(_,p,d),x.head.appendChild(_);break;default:throw Error(r(468,p))}_[_n]=o,nn(_),p=_}o.stateNode=p}else E4(x,o.type,o.stateNode);else o.stateNode=S4(x,p,o.memoizedProps);else _!==p?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,p===null?E4(x,o.type,o.stateNode):S4(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&t1(o,o.memoizedProps,d.memoizedProps)}break;case 27:Br(c,o),Ur(o),p&512&&(an||d===null||ui(d,d.return)),d!==null&&p&4&&t1(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Br(c,o),Ur(o),p&512&&(an||d===null||ui(d,d.return)),o.flags&32){x=o.stateNode;try{sa(x,"")}catch(re){Rt(o,o.return,re)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,t1(o,x,d!==null?d.memoizedProps:x)),p&1024&&(a1=!0);break;case 6:if(Br(c,o),Ur(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(re){Rt(o,o.return,re)}}break;case 3:if(xp=null,x=Ma,Ma=vp(c.containerInfo),Br(c,o),Ma=x,Ur(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{_h(c.containerInfo)}catch(re){Rt(o,o.return,re)}a1&&(a1=!1,kE(o));break;case 4:p=Ma,Ma=vp(o.stateNode.containerInfo),Br(c,o),Ur(o),Ma=p;break;case 12:Br(c,o),Ur(o);break;case 13:Br(c,o),Ur(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(d1=Qe()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,i1(o,p)));break;case 22:x=o.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,te=ts,ue=an;if(ts=te||x,an=ue||K,Br(c,o),an=ue,ts=te,Ur(o),p&8192)e:for(c=o.stateNode,c._visibility=x?c._visibility&-2:c._visibility|1,x&&(d===null||K||ts||an||Ml(o)),d=null,c=o;;){if(c.tag===5||c.tag===26){if(d===null){K=d=c;try{if(_=K.stateNode,x)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{V=K.stateNode;var me=K.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;V.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Rt(K,K.return,re)}}}else if(c.tag===6){if(d===null){K=c;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(re){Rt(K,K.return,re)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,i1(o,d))));break;case 19:Br(c,o),Ur(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,i1(o,p)));break;case 30:break;case 21:break;default:Br(c,o),Ur(o)}}function Ur(o){var c=o.flags;if(c&2){try{for(var d,p=o.return;p!==null;){if(SE(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,_=n1(o);ap(o,_,x);break;case 5:var P=d.stateNode;d.flags&32&&(sa(P,""),d.flags&=-33);var V=n1(o);ap(o,V,P);break;case 3:case 4:var K=d.stateNode.containerInfo,te=n1(o);r1(o,te,K);break;default:throw Error(r(161))}}catch(ue){Rt(o,o.return,ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function kE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;kE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function no(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)AE(o,c.alternate,c),c=c.sibling}function Ml(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:to(4,c,c.return),Ml(c);break;case 1:ui(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&wE(c,c.return,d),Ml(c);break;case 27:ph(c.stateNode);case 26:case 5:ui(c,c.return),Ml(c);break;case 22:c.memoizedState===null&&Ml(c);break;case 30:Ml(c);break;default:Ml(c)}o=o.sibling}}function ro(o,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,x=o,_=c,P=_.flags;switch(_.tag){case 0:case 11:case 15:ro(x,_,d),ih(4,_);break;case 1:if(ro(x,_,d),p=_,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(te){Rt(p,p.return,te)}if(p=_,x=p.updateQueue,x!==null){var V=p.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)oT(K[x],V)}catch(te){Rt(p,p.return,te)}}d&&P&64&&jE(_),sh(_,_.return);break;case 27:TE(_);case 26:case 5:ro(x,_,d),d&&p===null&&P&4&&_E(_),sh(_,_.return);break;case 12:ro(x,_,d);break;case 13:ro(x,_,d),d&&P&4&&OE(x,_);break;case 22:_.memoizedState===null&&ro(x,_,d),sh(_,_.return);break;case 30:break;default:ro(x,_,d)}c=c.sibling}}function s1(o,c){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&Hd(d))}function o1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Hd(o))}function di(o,c,d,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)PE(o,c,d,p),c=c.sibling}function PE(o,c,d,p){var x=c.flags;switch(c.tag){case 0:case 11:case 15:di(o,c,d,p),x&2048&&ih(9,c);break;case 1:di(o,c,d,p);break;case 3:di(o,c,d,p),x&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Hd(o)));break;case 12:if(x&2048){di(o,c,d,p),o=c.stateNode;try{var _=c.memoizedProps,P=_.id,V=_.onPostCommit;typeof V=="function"&&V(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Rt(c,c.return,K)}}else di(o,c,d,p);break;case 13:di(o,c,d,p);break;case 23:break;case 22:_=c.stateNode,P=c.alternate,c.memoizedState!==null?_._visibility&2?di(o,c,d,p):oh(o,c):_._visibility&2?di(o,c,d,p):(_._visibility|=2,iu(o,c,d,p,(c.subtreeFlags&10256)!==0)),x&2048&&s1(P,c);break;case 24:di(o,c,d,p),x&2048&&o1(c.alternate,c);break;default:di(o,c,d,p)}}function iu(o,c,d,p,x){for(x=x&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var _=o,P=c,V=d,K=p,te=P.flags;switch(P.tag){case 0:case 11:case 15:iu(_,P,V,K,x),ih(8,P);break;case 23:break;case 22:var ue=P.stateNode;P.memoizedState!==null?ue._visibility&2?iu(_,P,V,K,x):oh(_,P):(ue._visibility|=2,iu(_,P,V,K,x)),x&&te&2048&&s1(P.alternate,P);break;case 24:iu(_,P,V,K,x),x&&te&2048&&o1(P.alternate,P);break;default:iu(_,P,V,K,x)}c=c.sibling}}function oh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=o,p=c,x=p.flags;switch(p.tag){case 22:oh(d,p),x&2048&&s1(p.alternate,p);break;case 24:oh(d,p),x&2048&&o1(p.alternate,p);break;default:oh(d,p)}c=c.sibling}}var lh=8192;function su(o){if(o.subtreeFlags&lh)for(o=o.child;o!==null;)RE(o),o=o.sibling}function RE(o){switch(o.tag){case 26:su(o),o.flags&lh&&o.memoizedState!==null&&i7(Ma,o.memoizedState,o.memoizedProps);break;case 5:su(o);break;case 3:case 4:var c=Ma;Ma=vp(o.stateNode.containerInfo),su(o),Ma=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=lh,lh=16777216,su(o),lh=c):su(o));break;default:su(o)}}function DE(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ch(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Mn=p,LE(p,o)}DE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ME(o),o=o.sibling}function ME(o){switch(o.tag){case 0:case 11:case 15:ch(o),o.flags&2048&&to(9,o,o.return);break;case 3:ch(o);break;case 12:ch(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,ip(o)):ch(o);break;default:ch(o)}}function ip(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];Mn=p,LE(p,o)}DE(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:to(8,c,c.return),ip(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,ip(c));break;default:ip(c)}o=o.sibling}}function LE(o,c){for(;Mn!==null;){var d=Mn;switch(d.tag){case 0:case 11:case 15:to(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Hd(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Mn=p;else e:for(d=o;Mn!==null;){p=Mn;var x=p.sibling,_=p.return;if(NE(p),p===d){Mn=null;break e}if(x!==null){x.return=_,Mn=x;break e}Mn=_}}}var jM={getCacheForType:function(o){var c=ir(En),d=c.data.get(o);return d===void 0&&(d=o(),c.data.set(o,d)),d}},wM=typeof WeakMap=="function"?WeakMap:Map,_t=0,Mt=null,at=null,ht=0,St=0,Vr=null,ao=!1,ou=!1,l1=!1,rs=0,en=0,io=0,Ll=0,c1=0,pa=0,lu=0,uh=null,Er=null,u1=!1,d1=0,sp=1/0,op=null,so=null,Yn=0,oo=null,cu=null,uu=0,h1=0,f1=null,BE=null,dh=0,m1=null;function zr(){if((_t&2)!==0&&ht!==0)return ht&-ht;if(X.T!==null){var o=Qc;return o!==0?o:j1()}return $s()}function UE(){pa===0&&(pa=(ht&536870912)===0||yt?bd():536870912);var o=ma.current;return o!==null&&(o.flags|=32),pa}function $r(o,c,d){(o===Mt&&(St===2||St===9)||o.cancelPendingCommit!==null)&&(du(o,0),lo(o,ht,pa,!1)),Di(o,d),((_t&2)===0||o!==Mt)&&(o===Mt&&((_t&2)===0&&(Ll|=d),en===4&&lo(o,ht,pa,!1)),hi(o))}function VE(o,c,d){if((_t&6)!==0)throw Error(r(327));var p=!d&&(c&124)===0&&(c&o.expiredLanes)===0||cl(o,c),x=p?TM(o,c):v1(o,c,!0),_=p;do{if(x===0){ou&&!p&&lo(o,c,0,!1);break}else{if(d=o.current.alternate,_&&!_M(d)){x=v1(o,c,!1),_=!1;continue}if(x===2){if(_=c,o.errorRecoveryDisabledLanes&_)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var V=o;x=uh;var K=V.current.memoizedState.isDehydrated;if(K&&(du(V,P).flags|=256),P=v1(V,P,!1),P!==2){if(l1&&!K){V.errorRecoveryDisabledLanes|=_,Ll|=_,x=4;break e}_=Er,Er=x,_!==null&&(Er===null?Er=_:Er.push.apply(Er,_))}x=P}if(_=!1,x!==2)continue}}if(x===1){du(o,0),lo(o,c,0,!0);break}e:{switch(p=o,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:lo(p,c,pa,!ao);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(x=d1+300-Qe(),10<x)){if(lo(p,c,pa,!ao),Nc(p,0,!0)!==0)break e;p.timeoutHandle=p4(zE.bind(null,p,d,Er,op,u1,c,pa,Ll,lu,ao,_,2,-0,0),x);break e}zE(p,d,Er,op,u1,c,pa,Ll,lu,ao,_,0,-0,0)}}break}while(!0);hi(o)}function zE(o,c,d,p,x,_,P,V,K,te,ue,me,ne,re){if(o.timeoutHandle=-1,me=c.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(yh={stylesheets:null,count:0,unsuspend:a7},RE(c),me=s7(),me!==null)){o.cancelPendingCommit=me(WE.bind(null,o,c,_,d,p,x,P,V,K,ue,1,ne,re)),lo(o,_,P,!te);return}WE(o,c,_,d,p,x,P,V,K)}function _M(o){for(var c=o;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var x=d[p],_=x.getSnapshot;x=x.value;try{if(!Mr(_(),x))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function lo(o,c,d,p){c&=~c1,c&=~Ll,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var x=c;0<x;){var _=31-ar(x),P=1<<_;p[_]=-1,x&=~P}d!==0&&Qa(o,d,c)}function lp(){return(_t&6)===0?(hh(0),!1):!0}function p1(){if(at!==null){if(St===0)var o=at.return;else o=at,Yi=Il=null,k0(o),ru=null,nh=0,o=at;for(;o!==null;)bE(o.alternate,o),o=o.return;at=null}}function du(o,c){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,zM(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),p1(),Mt=o,at=d=Ki(o.current,null),ht=c,St=0,Vr=null,ao=!1,ou=cl(o,c),l1=!1,lu=pa=c1=Ll=io=en=0,Er=uh=null,u1=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var x=31-ar(p),_=1<<x;c|=o[x],p&=~_}return rs=c,Om(),d}function $E(o,c){Ze=null,X.H=Ym,c===Gd||c===Um?(c=iT(),St=3):c===nT?(c=iT(),St=4):St=c===sE?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Vr=c,at===null&&(en=1,ep(o,ua(c,o.current)))}function qE(){var o=X.H;return X.H=Ym,o===null?Ym:o}function FE(){var o=X.A;return X.A=jM,o}function g1(){en=4,ao||(ht&4194048)!==ht&&ma.current!==null||(ou=!0),(io&134217727)===0&&(Ll&134217727)===0||Mt===null||lo(Mt,ht,pa,!1)}function v1(o,c,d){var p=_t;_t|=2;var x=qE(),_=FE();(Mt!==o||ht!==c)&&(op=null,du(o,c)),c=!1;var P=en;e:do try{if(St!==0&&at!==null){var V=at,K=Vr;switch(St){case 8:p1(),P=6;break e;case 3:case 2:case 9:case 6:ma.current===null&&(c=!0);var te=St;if(St=0,Vr=null,hu(o,V,K,te),d&&ou){P=0;break e}break;default:te=St,St=0,Vr=null,hu(o,V,K,te)}}SM(),P=en;break}catch(ue){$E(o,ue)}while(!0);return c&&o.shellSuspendCounter++,Yi=Il=null,_t=p,X.H=x,X.A=_,at===null&&(Mt=null,ht=0,Om()),P}function SM(){for(;at!==null;)HE(at)}function TM(o,c){var d=_t;_t|=2;var p=qE(),x=FE();Mt!==o||ht!==c?(op=null,sp=Qe()+500,du(o,c)):ou=cl(o,c);e:do try{if(St!==0&&at!==null){c=at;var _=Vr;t:switch(St){case 1:St=0,Vr=null,hu(o,c,_,1);break;case 2:case 9:if(rT(_)){St=0,Vr=null,KE(c);break}c=function(){St!==2&&St!==9||Mt!==o||(St=7),hi(o)},_.then(c,c);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:rT(_)?(St=0,Vr=null,KE(c)):(St=0,Vr=null,hu(o,c,_,7));break;case 5:var P=null;switch(at.tag){case 26:P=at.memoizedState;case 5:case 27:var V=at;if(!P||A4(P)){St=0,Vr=null;var K=V.sibling;if(K!==null)at=K;else{var te=V.return;te!==null?(at=te,cp(te)):at=null}break t}}St=0,Vr=null,hu(o,c,_,5);break;case 6:St=0,Vr=null,hu(o,c,_,6);break;case 8:p1(),en=6;break e;default:throw Error(r(462))}}EM();break}catch(ue){$E(o,ue)}while(!0);return Yi=Il=null,X.H=p,X.A=x,_t=d,at!==null?0:(Mt=null,ht=0,Om(),en)}function EM(){for(;at!==null&&!Ue();)HE(at)}function HE(o){var c=yE(o.alternate,o,rs);o.memoizedProps=o.pendingProps,c===null?cp(o):at=c}function KE(o){var c=o,d=c.alternate;switch(c.tag){case 15:case 0:c=hE(d,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=hE(d,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:k0(c);default:bE(d,c),c=at=GS(c,rs),c=yE(d,c,rs)}o.memoizedProps=o.pendingProps,c===null?cp(o):at=c}function hu(o,c,d,p){Yi=Il=null,k0(c),ru=null,nh=0;var x=c.return;try{if(pM(o,x,c,d,ht)){en=1,ep(o,ua(d,o.current)),at=null;return}}catch(_){if(x!==null)throw at=x,_;en=1,ep(o,ua(d,o.current)),at=null;return}c.flags&32768?(yt||p===1?o=!0:ou||(ht&536870912)!==0?o=!1:(ao=o=!0,(p===2||p===9||p===3||p===6)&&(p=ma.current,p!==null&&p.tag===13&&(p.flags|=16384))),GE(c,o)):cp(c)}function cp(o){var c=o;do{if((c.flags&32768)!==0){GE(c,ao);return}o=c.return;var d=vM(c.alternate,c,rs);if(d!==null){at=d;return}if(c=c.sibling,c!==null){at=c;return}at=c=o}while(c!==null);en===0&&(en=5)}function GE(o,c){do{var d=yM(o.alternate,o);if(d!==null){d.flags&=32767,at=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(o=o.sibling,o!==null)){at=o;return}at=o=d}while(o!==null);en=6,at=null}function WE(o,c,d,p,x,_,P,V,K){o.cancelPendingCommit=null;do up();while(Yn!==0);if((_t&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(_=c.lanes|c.childLanes,_|=o0,wd(o,d,_,P,V,K),o===Mt&&(at=Mt=null,ht=0),cu=c,oo=o,uu=d,h1=_,f1=x,BE=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,OM(_e,function(){return JE(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=X.T,X.T=null,x=se.p,se.p=2,P=_t,_t|=4;try{xM(o,c,d)}finally{_t=P,se.p=x,X.T=p}}Yn=1,YE(),XE(),QE()}}function YE(){if(Yn===1){Yn=0;var o=oo,c=cu,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var p=se.p;se.p=2;var x=_t;_t|=4;try{IE(c,o);var _=C1,P=LS(o.containerInfo),V=_.focusedElem,K=_.selectionRange;if(P!==V&&V&&V.ownerDocument&&MS(V.ownerDocument.documentElement,V)){if(K!==null&&n0(V)){var te=K.start,ue=K.end;if(ue===void 0&&(ue=te),"selectionStart"in V)V.selectionStart=te,V.selectionEnd=Math.min(ue,V.value.length);else{var me=V.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Fe=V.textContent.length,Ve=Math.min(K.start,Fe),It=K.end===void 0?Ve:Math.min(K.end,Fe);!re.extend&&Ve>It&&(P=It,It=Ve,Ve=P);var Y=DS(V,Ve),W=DS(V,It);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var ee=me.createRange();ee.setStart(Y.node,Y.offset),re.removeAllRanges(),Ve>It?(re.addRange(ee),re.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),re.addRange(ee))}}}}for(me=[],re=V;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<me.length;V++){var de=me[V];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}wp=!!N1,C1=N1=null}finally{_t=x,se.p=p,X.T=d}}o.current=c,Yn=2}}function XE(){if(Yn===2){Yn=0;var o=oo,c=cu,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var p=se.p;se.p=2;var x=_t;_t|=4;try{AE(o,c.alternate,c)}finally{_t=x,se.p=p,X.T=d}}Yn=3}}function QE(){if(Yn===4||Yn===3){Yn=0,Re();var o=oo,c=cu,d=uu,p=BE;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Yn=5:(Yn=0,cu=oo=null,ZE(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(so=null),Cc(d),c=c.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Zt,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=X.T,x=se.p,se.p=2,X.T=null;try{for(var _=o.onRecoverableError,P=0;P<p.length;P++){var V=p[P];_(V.value,{componentStack:V.stack})}}finally{X.T=c,se.p=x}}(uu&3)!==0&&up(),hi(o),x=o.pendingLanes,(d&4194090)!==0&&(x&42)!==0?o===m1?dh++:(dh=0,m1=o):dh=0,hh(0)}}function ZE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Hd(c)))}function up(o){return YE(),XE(),QE(),JE()}function JE(){if(Yn!==5)return!1;var o=oo,c=h1;h1=0;var d=Cc(uu),p=X.T,x=se.p;try{se.p=32>d?32:d,X.T=null,d=f1,f1=null;var _=oo,P=uu;if(Yn=0,cu=oo=null,uu=0,(_t&6)!==0)throw Error(r(331));var V=_t;if(_t|=4,ME(_.current),PE(_,_.current,P,d),_t=V,hh(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Zt,_)}catch{}return!0}finally{se.p=x,X.T=p,ZE(o,c)}}function e4(o,c,d){c=ua(d,c),c=K0(o.stateNode,c,2),o=Qs(o,c,2),o!==null&&(Di(o,2),hi(o))}function Rt(o,c,d){if(o.tag===3)e4(o,o,d);else for(;c!==null;){if(c.tag===3){e4(c,o,d);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(so===null||!so.has(p))){o=ua(d,o),d=aE(2),p=Qs(c,d,2),p!==null&&(iE(d,p,c,o),Di(p,2),hi(p));break}}c=c.return}}function y1(o,c,d){var p=o.pingCache;if(p===null){p=o.pingCache=new wM;var x=new Set;p.set(c,x)}else x=p.get(c),x===void 0&&(x=new Set,p.set(c,x));x.has(d)||(l1=!0,x.add(d),o=AM.bind(null,o,c,d),c.then(o,o))}function AM(o,c,d){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Mt===o&&(ht&d)===d&&(en===4||en===3&&(ht&62914560)===ht&&300>Qe()-d1?(_t&2)===0&&du(o,0):c1|=d,lu===ht&&(lu=0)),hi(o)}function t4(o,c){c===0&&(c=jd()),o=Gc(o,c),o!==null&&(Di(o,c),hi(o))}function NM(o){var c=o.memoizedState,d=0;c!==null&&(d=c.retryLane),t4(o,d)}function CM(o,c){var d=0;switch(o.tag){case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),t4(o,d)}function OM(o,c){return Te(o,c)}var dp=null,fu=null,x1=!1,hp=!1,b1=!1,Bl=0;function hi(o){o!==fu&&o.next===null&&(fu===null?dp=fu=o:fu=fu.next=o),hp=!0,x1||(x1=!0,kM())}function hh(o,c){if(!b1&&hp){b1=!0;do for(var d=!1,p=dp;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var _=0;else{var P=p.suspendedLanes,V=p.pingedLanes;_=(1<<31-ar(42|o)+1)-1,_&=x&~(P&~V),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,i4(p,_))}else _=ht,_=Nc(p,p===Mt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||cl(p,_)||(d=!0,i4(p,_));p=p.next}while(d);b1=!1}}function IM(){n4()}function n4(){hp=x1=!1;var o=0;Bl!==0&&(VM()&&(o=Bl),Bl=0);for(var c=Qe(),d=null,p=dp;p!==null;){var x=p.next,_=r4(p,c);_===0?(p.next=null,d===null?dp=x:d.next=x,x===null&&(fu=d)):(d=p,(o!==0||(_&3)!==0)&&(hp=!0)),p=x}hh(o)}function r4(o,c){for(var d=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var P=31-ar(_),V=1<<P,K=x[P];K===-1?((V&d)===0||(V&p)!==0)&&(x[P]=xd(V,c)):K<=c&&(o.expiredLanes|=V),_&=~V}if(c=Mt,d=ht,d=Nc(o,o===c?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===c&&(St===2||St===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&we(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||cl(o,d)){if(c=d&-d,c===o.callbackPriority)return c;switch(p!==null&&we(p),Cc(d)){case 2:case 8:d=Ge;break;case 32:d=_e;break;case 268435456:d=At;break;default:d=_e}return p=a4.bind(null,o),d=Te(d,p),o.callbackPriority=c,o.callbackNode=d,c}return p!==null&&p!==null&&we(p),o.callbackPriority=2,o.callbackNode=null,2}function a4(o,c){if(Yn!==0&&Yn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(up()&&o.callbackNode!==d)return null;var p=ht;return p=Nc(o,o===Mt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(VE(o,p,c),r4(o,Qe()),o.callbackNode!=null&&o.callbackNode===d?a4.bind(null,o):null)}function i4(o,c){if(up())return null;VE(o,c,!0)}function kM(){$M(function(){(_t&6)!==0?Te(Pe,IM):n4()})}function j1(){return Bl===0&&(Bl=bd()),Bl}function s4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Dc(""+o)}function o4(o,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,o.id&&d.setAttribute("form",o.id),c.parentNode.insertBefore(d,c),o=new FormData(o),d.parentNode.removeChild(d),o}function PM(o,c,d,p,x){if(c==="submit"&&d&&d.stateNode===x){var _=s4((x[dn]||null).action),P=p.submitter;P&&(c=(c=P[dn]||null)?s4(c.formAction):P.getAttribute("formAction"),c!==null&&(_=c,P=null));var V=new Mc("action","action",null,p,x);o.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Bl!==0){var K=P?o4(x,P):new FormData(x);z0(d,{pending:!0,data:K,method:x.method,action:_},null,K)}}else typeof _=="function"&&(V.preventDefault(),K=P?o4(x,P):new FormData(x),z0(d,{pending:!0,data:K,method:x.method,action:_},_,K))},currentTarget:x}]})}}for(var w1=0;w1<s0.length;w1++){var _1=s0[w1],RM=_1.toLowerCase(),DM=_1[0].toUpperCase()+_1.slice(1);Da(RM,"on"+DM)}Da(VS,"onAnimationEnd"),Da(zS,"onAnimationIteration"),Da($S,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Z9,"onTransitionRun"),Da(J9,"onTransitionStart"),Da(eM,"onTransitionCancel"),Da(qS,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fh));function l4(o,c){c=(c&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],x=p.event;p=p.listeners;e:{var _=void 0;if(c)for(var P=p.length-1;0<=P;P--){var V=p[P],K=V.instance,te=V.currentTarget;if(V=V.listener,K!==_&&x.isPropagationStopped())break e;_=V,x.currentTarget=te;try{_(x)}catch(ue){Jm(ue)}x.currentTarget=null,_=K}else for(P=0;P<p.length;P++){if(V=p[P],K=V.instance,te=V.currentTarget,V=V.listener,K!==_&&x.isPropagationStopped())break e;_=V,x.currentTarget=te;try{_(x)}catch(ue){Jm(ue)}x.currentTarget=null,_=K}}}}function it(o,c){var d=c[Sd];d===void 0&&(d=c[Sd]=new Set);var p=o+"__bubble";d.has(p)||(c4(c,o,2,!1),d.add(p))}function S1(o,c,d){var p=0;c&&(p|=4),c4(d,o,p,c)}var fp="_reactListening"+Math.random().toString(36).slice(2);function T1(o){if(!o[fp]){o[fp]=!0,Td.forEach(function(d){d!=="selectionchange"&&(MM.has(d)||S1(d,!1,o),S1(d,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[fp]||(c[fp]=!0,S1("selectionchange",!1,c))}}function c4(o,c,d,p){switch(P4(c)){case 2:var x=c7;break;case 8:x=u7;break;default:x=U1}d=x.bind(null,c,d,o),x=void 0,!la||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(c,d,{capture:!0,passive:x}):o.addEventListener(c,d,!0):x!==void 0?o.addEventListener(c,d,{passive:x}):o.addEventListener(c,d,!1)}function E1(o,c,d,p,x){var _=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var V=p.stateNode.containerInfo;if(V===x)break;if(P===4)for(P=p.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;V!==null;){if(P=Mi(V),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){p=_=P;continue e}V=V.parentNode}}p=p.return}pm(function(){var te=_,ue=oa(d),me=[];e:{var ne=FS.get(o);if(ne!==void 0){var re=Mc,Fe=o;switch(o){case"keypress":if(ri(d)===0)break e;case"keydown":case"keyup":re=$c;break;case"focusin":Fe="focus",re=Uc;break;case"focusout":Fe="blur",re=Uc;break;case"beforeblur":case"afterblur":re=Uc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=_m;break;case VS:case zS:case $S:re=Vc;break;case qS:re=Tm;break;case"scroll":case"scrollend":re=gm;break;case"wheel":re=qc;break;case"copy":case"cut":case"paste":re=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ld;break;case"toggle":case"beforetoggle":re=Am}var Ve=(c&4)!==0,It=!Ve&&(o==="scroll"||o==="scrollend"),Y=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var W=te,ee;W!==null;){var de=W;if(ee=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ee===null||Y===null||(de=vl(W,Y),de!=null&&Ve.push(mh(W,de,ee))),It)break;W=W.return}0<Ve.length&&(ne=new re(ne,Fe,null,d,ue),me.push({event:ne,listeners:Ve}))}}if((c&7)===0){e:{if(ne=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",ne&&d!==Vi&&(Fe=d.relatedTarget||d.fromElement)&&(Mi(Fe)||Fe[ia]))break e;if((re||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Fe=d.relatedTarget||d.toElement,re=te,Fe=Fe?Mi(Fe):null,Fe!==null&&(It=s(Fe),Ve=Fe.tag,Fe!==It||Ve!==5&&Ve!==27&&Ve!==6)&&(Fe=null)):(re=null,Fe=te),re!==Fe)){if(Ve=ca,de="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ve=Ld,de="onPointerLeave",Y="onPointerEnter",W="pointer"),It=re==null?ne:Ja(re),ee=Fe==null?ne:Ja(Fe),ne=new Ve(de,W+"leave",re,d,ue),ne.target=It,ne.relatedTarget=ee,de=null,Mi(ue)===te&&(Ve=new Ve(Y,W+"enter",Fe,d,ue),Ve.target=ee,Ve.relatedTarget=It,de=Ve),It=de,re&&Fe)t:{for(Ve=re,Y=Fe,W=0,ee=Ve;ee;ee=mu(ee))W++;for(ee=0,de=Y;de;de=mu(de))ee++;for(;0<W-ee;)Ve=mu(Ve),W--;for(;0<ee-W;)Y=mu(Y),ee--;for(;W--;){if(Ve===Y||Y!==null&&Ve===Y.alternate)break t;Ve=mu(Ve),Y=mu(Y)}Ve=null}else Ve=null;re!==null&&u4(me,ne,re,Ve,!1),Fe!==null&&It!==null&&u4(me,It,Fe,Ve,!0)}}e:{if(ne=te?Ja(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ie=CS;else if(Tn(ne))if(OS)Ie=Y9;else{Ie=G9;var tt=K9}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Od(te.elementType)&&(Ie=CS):Ie=W9;if(Ie&&(Ie=Ie(o,te))){Hi(me,Ie,d,ue);break e}tt&&tt(o,ne,te),o==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Ks(ne,"number",ne.value)}switch(tt=te?Ja(te):window,o){case"focusin":(Tn(tt)||tt.contentEditable==="true")&&(Fc=tt,r0=te,Vd=null);break;case"focusout":Vd=r0=Fc=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,BS(me,d,ue);break;case"selectionchange":if(Q9)break;case"keydown":case"keyup":BS(me,d,ue)}var De;if(si)e:{switch(o){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ut?oe(o,d)&&(ze="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(ze="onCompositionStart");ze&&(k&&d.locale!=="ko"&&(ut||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ut&&(De=kd()):(ni=ue,Gs="value"in ni?ni.value:ni.textContent,ut=!0)),tt=mp(te,ze),0<tt.length&&(ze=new Dd(ze,o,null,d,ue),me.push({event:ze,listeners:tt}),De?ze.data=De:(De=je(d),De!==null&&(ze.data=De)))),(De=A?Sn(o,d):dt(o,d))&&(ze=mp(te,"onBeforeInput"),0<ze.length&&(tt=new Dd("onBeforeInput","beforeinput",null,d,ue),me.push({event:tt,listeners:ze}),tt.data=De)),PM(me,o,te,d,ue)}l4(me,c)})}function mh(o,c,d){return{instance:o,listener:c,currentTarget:d}}function mp(o,c){for(var d=c+"Capture",p=[];o!==null;){var x=o,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=vl(o,d),x!=null&&p.unshift(mh(o,x,_)),x=vl(o,c),x!=null&&p.push(mh(o,x,_))),o.tag===3)return p;o=o.return}return[]}function mu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function u4(o,c,d,p,x){for(var _=c._reactName,P=[];d!==null&&d!==p;){var V=d,K=V.alternate,te=V.stateNode;if(V=V.tag,K!==null&&K===p)break;V!==5&&V!==26&&V!==27||te===null||(K=te,x?(te=vl(d,_),te!=null&&P.unshift(mh(d,te,K))):x||(te=vl(d,_),te!=null&&P.push(mh(d,te,K)))),d=d.return}P.length!==0&&o.push({event:c,listeners:P})}var LM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function d4(o){return(typeof o=="string"?o:""+o).replace(LM,`
`).replace(BM,"")}function h4(o,c){return c=d4(c),d4(o)===c}function pp(){}function Ot(o,c,d,p,x,_){switch(d){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||sa(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&sa(o,""+p);break;case"className":ei(o,"class",p);break;case"tabIndex":ei(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(o,d,p);break;case"style":Cd(o,p,_);break;case"data":if(c!=="object"){ei(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Dc(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(c!=="input"&&Ot(o,c,"name",x.name,x,null),Ot(o,c,"formEncType",x.formEncType,x,null),Ot(o,c,"formMethod",x.formMethod,x,null),Ot(o,c,"formTarget",x.formTarget,x,null)):(Ot(o,c,"encType",x.encType,x,null),Ot(o,c,"method",x.method,x,null),Ot(o,c,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=Dc(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=pp);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=Dc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":it("beforetoggle",o),it("toggle",o),Hs(o,"popover",p);break;case"xlinkActuate":Kn(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Kn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Kn(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Kn(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Kn(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Kn(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Kn(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Hs(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Xy.get(d)||d,Hs(o,d,p))}}function A1(o,c,d,p,x,_){switch(d){case"style":Cd(o,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof p=="string"?sa(o,p):(typeof p=="number"||typeof p=="bigint")&&sa(o,""+p);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"onClick":p!=null&&(o.onclick=pp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),c=d.slice(2,x?d.length-7:void 0),_=o[dn]||null,_=_!=null?_[d]:null,typeof _=="function"&&o.removeEventListener(c,_,x),typeof p=="function")){typeof _!="function"&&_!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(c,p,x);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):Hs(o,d,p)}}}function Xn(o,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",o),it("load",o);var p=!1,x=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var P=d[_];if(P!=null)switch(_){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ot(o,c,_,P,d,null)}}x&&Ot(o,c,"srcSet",d.srcSet,d,null),p&&Ot(o,c,"src",d.src,d,null);return;case"input":it("invalid",o);var V=_=P=x=null,K=null,te=null;for(p in d)if(d.hasOwnProperty(p)){var ue=d[p];if(ue!=null)switch(p){case"name":x=ue;break;case"type":P=ue;break;case"checked":K=ue;break;case"defaultChecked":te=ue;break;case"value":_=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,c));break;default:Ot(o,c,p,ue,d,null)}}ml(o,_,V,K,te,P,x,!1),Rc(o);return;case"select":it("invalid",o),p=P=_=null;for(x in d)if(d.hasOwnProperty(x)&&(V=d[x],V!=null))switch(x){case"value":_=V;break;case"defaultValue":P=V;break;case"multiple":p=V;default:Ot(o,c,x,V,d,null)}c=_,d=P,o.multiple=!!p,c!=null?Ui(o,!!p,c,!1):d!=null&&Ui(o,!!p,d,!0);return;case"textarea":it("invalid",o),_=x=p=null;for(P in d)if(d.hasOwnProperty(P)&&(V=d[P],V!=null))switch(P){case"value":p=V;break;case"defaultValue":x=V;break;case"children":_=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Ot(o,c,P,V,d,null)}pl(o,p,x,_),Rc(o);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(p=d[K],p!=null))switch(K){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ot(o,c,K,p,d,null)}return;case"dialog":it("beforetoggle",o),it("toggle",o),it("cancel",o),it("close",o);break;case"iframe":case"object":it("load",o);break;case"video":case"audio":for(p=0;p<fh.length;p++)it(fh[p],o);break;case"image":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"embed":case"source":case"link":it("error",o),it("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(p=d[te],p!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Ot(o,c,te,p,d,null)}return;default:if(Od(c)){for(ue in d)d.hasOwnProperty(ue)&&(p=d[ue],p!==void 0&&A1(o,c,ue,p,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(p=d[V],p!=null&&Ot(o,c,V,p,d,null))}function UM(o,c,d,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,P=null,V=null,K=null,te=null,ue=null;for(re in d){var me=d[re];if(d.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":K=me;default:p.hasOwnProperty(re)||Ot(o,c,re,null,p,me)}}for(var ne in p){var re=p[ne];if(me=d[ne],p.hasOwnProperty(ne)&&(re!=null||me!=null))switch(ne){case"type":_=re;break;case"name":x=re;break;case"checked":te=re;break;case"defaultChecked":ue=re;break;case"value":P=re;break;case"defaultValue":V=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,c));break;default:re!==me&&Ot(o,c,ne,re,p,me)}}Dr(o,P,V,K,te,ue,_,x);return;case"select":re=P=V=ne=null;for(_ in d)if(K=d[_],d.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":re=K;default:p.hasOwnProperty(_)||Ot(o,c,_,null,p,K)}for(x in p)if(_=p[x],K=d[x],p.hasOwnProperty(x)&&(_!=null||K!=null))switch(x){case"value":ne=_;break;case"defaultValue":V=_;break;case"multiple":P=_;default:_!==K&&Ot(o,c,x,_,p,K)}c=V,d=P,p=re,ne!=null?Ui(o,!!d,ne,!1):!!p!=!!d&&(c!=null?Ui(o,!!d,c,!0):Ui(o,!!d,d?[]:"",!1));return;case"textarea":re=ne=null;for(V in d)if(x=d[V],d.hasOwnProperty(V)&&x!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Ot(o,c,V,null,p,x)}for(P in p)if(x=p[P],_=d[P],p.hasOwnProperty(P)&&(x!=null||_!=null))switch(P){case"value":ne=x;break;case"defaultValue":re=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&Ot(o,c,P,x,p,_)}Nt(o,ne,re);return;case"option":for(var Fe in d)if(ne=d[Fe],d.hasOwnProperty(Fe)&&ne!=null&&!p.hasOwnProperty(Fe))switch(Fe){case"selected":o.selected=!1;break;default:Ot(o,c,Fe,null,p,ne)}for(K in p)if(ne=p[K],re=d[K],p.hasOwnProperty(K)&&ne!==re&&(ne!=null||re!=null))switch(K){case"selected":o.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Ot(o,c,K,ne,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)ne=d[Ve],d.hasOwnProperty(Ve)&&ne!=null&&!p.hasOwnProperty(Ve)&&Ot(o,c,Ve,null,p,ne);for(te in p)if(ne=p[te],re=d[te],p.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,c));break;default:Ot(o,c,te,ne,p,re)}return;default:if(Od(c)){for(var It in d)ne=d[It],d.hasOwnProperty(It)&&ne!==void 0&&!p.hasOwnProperty(It)&&A1(o,c,It,void 0,p,ne);for(ue in p)ne=p[ue],re=d[ue],!p.hasOwnProperty(ue)||ne===re||ne===void 0&&re===void 0||A1(o,c,ue,ne,p,re);return}}for(var Y in d)ne=d[Y],d.hasOwnProperty(Y)&&ne!=null&&!p.hasOwnProperty(Y)&&Ot(o,c,Y,null,p,ne);for(me in p)ne=p[me],re=d[me],!p.hasOwnProperty(me)||ne===re||ne==null&&re==null||Ot(o,c,me,ne,p,re)}var N1=null,C1=null;function gp(o){return o.nodeType===9?o:o.ownerDocument}function f4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function O1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var I1=null;function VM(){var o=window.event;return o&&o.type==="popstate"?o===I1?!1:(I1=o,!0):(I1=null,!1)}var p4=typeof setTimeout=="function"?setTimeout:void 0,zM=typeof clearTimeout=="function"?clearTimeout:void 0,g4=typeof Promise=="function"?Promise:void 0,$M=typeof queueMicrotask=="function"?queueMicrotask:typeof g4<"u"?function(o){return g4.resolve(null).then(o).catch(qM)}:p4;function qM(o){setTimeout(function(){throw o})}function co(o){return o==="head"}function v4(o,c){var d=c,p=0,x=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(0<p&&8>p){d=p;var P=o.ownerDocument;if(d&1&&ph(P.documentElement),d&2&&ph(P.body),d&4)for(d=P.head,ph(d),P=d.firstChild;P;){var V=P.nextSibling,K=P.nodeName;P[ul]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=V}}if(x===0){o.removeChild(_),_h(c);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:p=d.charCodeAt(0)-48;else p=0;d=_}while(d);_h(c)}function k1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":k1(d),Fs(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function FM(o,c,d,p){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[ul])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=La(o.nextSibling),o===null)break}return null}function HM(o,c,d){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=La(o.nextSibling),o===null))return null;return o}function P1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function KM(o,c){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")c();else{var p=function(){c(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function La(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var R1=null;function y4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return o;c--}else d==="/$"&&c++}o=o.previousSibling}return null}function x4(o,c,d){switch(c=gp(d),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ph(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Fs(o)}var ga=new Map,b4=new Set;function vp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var as=se.d;se.d={f:GM,r:WM,D:YM,C:XM,L:QM,m:ZM,X:e7,S:JM,M:t7};function GM(){var o=as.f(),c=lp();return o||c}function WM(o){var c=Za(o);c!==null&&c.tag===5&&c.type==="form"?VT(c):as.r(o)}var pu=typeof document>"u"?null:document;function j4(o,c,d){var p=pu;if(p&&typeof c=="string"&&c){var x=hn(c);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),b4.has(x)||(b4.add(x),o={rel:o,crossOrigin:d,href:c},p.querySelector(x)===null&&(c=p.createElement("link"),Xn(c,"link",o),nn(c),p.head.appendChild(c)))}}function YM(o){as.D(o),j4("dns-prefetch",o,null)}function XM(o,c){as.C(o,c),j4("preconnect",o,c)}function QM(o,c,d){as.L(o,c,d);var p=pu;if(p&&o&&c){var x='link[rel="preload"][as="'+hn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+hn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+hn(d.imageSizes)+'"]')):x+='[href="'+hn(o)+'"]';var _=x;switch(c){case"style":_=gu(o);break;case"script":_=vu(o)}ga.has(_)||(o=m({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:o,as:c},d),ga.set(_,o),p.querySelector(x)!==null||c==="style"&&p.querySelector(gh(_))||c==="script"&&p.querySelector(vh(_))||(c=p.createElement("link"),Xn(c,"link",o),nn(c),p.head.appendChild(c)))}}function ZM(o,c){as.m(o,c);var d=pu;if(d&&o){var p=c&&typeof c.as=="string"?c.as:"script",x='link[rel="modulepreload"][as="'+hn(p)+'"][href="'+hn(o)+'"]',_=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=vu(o)}if(!ga.has(_)&&(o=m({rel:"modulepreload",href:o},c),ga.set(_,o),d.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(vh(_)))return}p=d.createElement("link"),Xn(p,"link",o),nn(p),d.head.appendChild(p)}}}function JM(o,c,d){as.S(o,c,d);var p=pu;if(p&&o){var x=vr(p).hoistableStyles,_=gu(o);c=c||"default";var P=x.get(_);if(!P){var V={loading:0,preload:null};if(P=p.querySelector(gh(_)))V.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},d),(d=ga.get(_))&&D1(o,d);var K=P=p.createElement("link");nn(K),Xn(K,"link",o),K._p=new Promise(function(te,ue){K.onload=te,K.onerror=ue}),K.addEventListener("load",function(){V.loading|=1}),K.addEventListener("error",function(){V.loading|=2}),V.loading|=4,yp(P,c,p)}P={type:"stylesheet",instance:P,count:1,state:V},x.set(_,P)}}}function e7(o,c){as.X(o,c);var d=pu;if(d&&o){var p=vr(d).hoistableScripts,x=vu(o),_=p.get(x);_||(_=d.querySelector(vh(x)),_||(o=m({src:o,async:!0},c),(c=ga.get(x))&&M1(o,c),_=d.createElement("script"),nn(_),Xn(_,"link",o),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function t7(o,c){as.M(o,c);var d=pu;if(d&&o){var p=vr(d).hoistableScripts,x=vu(o),_=p.get(x);_||(_=d.querySelector(vh(x)),_||(o=m({src:o,async:!0,type:"module"},c),(c=ga.get(x))&&M1(o,c),_=d.createElement("script"),nn(_),Xn(_,"link",o),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(x,_))}}function w4(o,c,d,p){var x=(x=fe.current)?vp(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=gu(d.href),d=vr(x).hoistableStyles,p=d.get(c),p||(p={type:"style",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=gu(d.href);var _=vr(x).hoistableStyles,P=_.get(o);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,P),(_=x.querySelector(gh(o)))&&!_._p&&(P.instance=_,P.state.loading=5),ga.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ga.set(o,d),_||n7(x,o,d,P.state))),c&&p===null)throw Error(r(528,""));return P}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=vu(d),d=vr(x).hoistableScripts,p=d.get(c),p||(p={type:"script",instance:null,count:0,state:null},d.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function gu(o){return'href="'+hn(o)+'"'}function gh(o){return'link[rel="stylesheet"]['+o+"]"}function _4(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function n7(o,c,d,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Xn(c,"link",d),nn(c),o.head.appendChild(c))}function vu(o){return'[src="'+hn(o)+'"]'}function vh(o){return"script[async]"+o}function S4(o,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+hn(d.href)+'"]');if(p)return c.instance=p,nn(p),p;var x=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),nn(p),Xn(p,"style",x),yp(p,d.precedence,o),c.instance=p;case"stylesheet":x=gu(d.href);var _=o.querySelector(gh(x));if(_)return c.state.loading|=4,c.instance=_,nn(_),_;p=_4(d),(x=ga.get(x))&&D1(p,x),_=(o.ownerDocument||o).createElement("link"),nn(_);var P=_;return P._p=new Promise(function(V,K){P.onload=V,P.onerror=K}),Xn(_,"link",p),c.state.loading|=4,yp(_,d.precedence,o),c.instance=_;case"script":return _=vu(d.src),(x=o.querySelector(vh(_)))?(c.instance=x,nn(x),x):(p=d,(x=ga.get(_))&&(p=m({},d),M1(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),nn(x),Xn(x,"link",p),o.head.appendChild(x),c.instance=x);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,yp(p,d.precedence,o));return c.instance}function yp(o,c,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,_=x,P=0;P<p.length;P++){var V=p[P];if(V.dataset.precedence===c)_=V;else if(_!==x)break}_?_.parentNode.insertBefore(o,_.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(o,c.firstChild))}function D1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function M1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var xp=null;function T4(o,c,d){if(xp===null){var p=new Map,x=xp=new Map;x.set(d,p)}else x=xp,p=x.get(d),p||(p=new Map,x.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var _=d[x];if(!(_[ul]||_[_n]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(c)||"";P=o+P;var V=p.get(P);V?V.push(_):p.set(P,[_])}}return p}function E4(o,c,d){o=o.ownerDocument||o,o.head.insertBefore(d,c==="title"?o.querySelector("head > title"):null)}function r7(o,c,d){if(d===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function A4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var yh=null;function a7(){}function i7(o,c,d){if(yh===null)throw Error(r(475));var p=yh;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=gu(d.href),_=o.querySelector(gh(x));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=bp.bind(p),o.then(p,p)),c.state.loading|=4,c.instance=_,nn(_);return}_=o.ownerDocument||o,d=_4(d),(x=ga.get(x))&&D1(d,x),_=_.createElement("link"),nn(_);var P=_;P._p=new Promise(function(V,K){P.onload=V,P.onerror=K}),Xn(_,"link",d),c.instance=_}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(p.count++,c=bp.bind(p),o.addEventListener("load",c),o.addEventListener("error",c))}}function s7(){if(yh===null)throw Error(r(475));var o=yh;return o.stylesheets&&o.count===0&&L1(o,o.stylesheets),0<o.count?function(c){var d=setTimeout(function(){if(o.stylesheets&&L1(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(d)}}:null}function bp(){if(this.count--,this.count===0){if(this.stylesheets)L1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var jp=null;function L1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,jp=new Map,c.forEach(o7,o),jp=null,bp.call(o))}function o7(o,c){if(!(c.state.loading&4)){var d=jp.get(o);if(d)var p=d.get(null);else{d=new Map,jp.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var P=x[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),p=P)}p&&d.set(null,p)}x=c.instance,P=x.getAttribute("data-precedence"),_=d.get(P)||p,_===p&&d.set(null,x),d.set(P,x),this.count++,p=bp.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),_?_.parentNode.insertBefore(x,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),c.state.loading|=4}}var xh={$$typeof:N,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function l7(o,c,d,p,x,_,P,V){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function N4(o,c,d,p,x,_,P,V,K,te,ue,me){return o=new l7(o,c,d,P,V,K,te,me),c=1,_===!0&&(c|=24),_=Lr(3,null,null,c),o.current=_,_.stateNode=o,c=y0(),c.refCount++,o.pooledCache=c,c.refCount++,_.memoizedState={element:p,isDehydrated:d,cache:c},w0(_),o}function C4(o){return o?(o=Wc,o):Wc}function O4(o,c,d,p,x,_){x=C4(x),p.context===null?p.context=x:p.pendingContext=x,p=Xs(c),p.payload={element:d},_=_===void 0?null:_,_!==null&&(p.callback=_),d=Qs(o,p,c),d!==null&&($r(d,o,c),Yd(d,o,c))}function I4(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<c?d:c}}function B1(o,c){I4(o,c),(o=o.alternate)&&I4(o,c)}function k4(o){if(o.tag===13){var c=Gc(o,67108864);c!==null&&$r(c,o,67108864),B1(o,67108864)}}var wp=!0;function c7(o,c,d,p){var x=X.T;X.T=null;var _=se.p;try{se.p=2,U1(o,c,d,p)}finally{se.p=_,X.T=x}}function u7(o,c,d,p){var x=X.T;X.T=null;var _=se.p;try{se.p=8,U1(o,c,d,p)}finally{se.p=_,X.T=x}}function U1(o,c,d,p){if(wp){var x=V1(p);if(x===null)E1(o,c,p,_p,d),R4(o,p);else if(h7(x,o,c,d,p))p.stopPropagation();else if(R4(o,p),c&4&&-1<d7.indexOf(o)){for(;x!==null;){var _=Za(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=ka(_.pendingLanes);if(P!==0){var V=_;for(V.pendingLanes|=2,V.entangledLanes|=2;P;){var K=1<<31-ar(P);V.entanglements[1]|=K,P&=~K}hi(_),(_t&6)===0&&(sp=Qe()+500,hh(0))}}break;case 13:V=Gc(_,2),V!==null&&$r(V,_,2),lp(),B1(_,2)}if(_=V1(p),_===null&&E1(o,c,p,_p,d),_===x)break;x=_}x!==null&&p.stopPropagation()}else E1(o,c,p,null,d)}}function V1(o){return o=oa(o),z1(o)}var _p=null;function z1(o){if(_p=null,o=Mi(o),o!==null){var c=s(o);if(c===null)o=null;else{var d=c.tag;if(d===13){if(o=l(c),o!==null)return o;o=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return _p=o,null}function P4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case Pe:return 2;case Ge:return 8;case _e:case ct:return 32;case At:return 268435456;default:return 32}default:return 32}}var $1=!1,uo=null,ho=null,fo=null,bh=new Map,jh=new Map,mo=[],d7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R4(o,c){switch(o){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":bh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":jh.delete(c.pointerId)}}function wh(o,c,d,p,x,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:d,eventSystemFlags:p,nativeEvent:_,targetContainers:[x]},c!==null&&(c=Za(c),c!==null&&k4(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),o)}function h7(o,c,d,p,x){switch(c){case"focusin":return uo=wh(uo,o,c,d,p,x),!0;case"dragenter":return ho=wh(ho,o,c,d,p,x),!0;case"mouseover":return fo=wh(fo,o,c,d,p,x),!0;case"pointerover":var _=x.pointerId;return bh.set(_,wh(bh.get(_)||null,o,c,d,p,x)),!0;case"gotpointercapture":return _=x.pointerId,jh.set(_,wh(jh.get(_)||null,o,c,d,p,x)),!0}return!1}function D4(o){var c=Mi(o.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=l(d),c!==null){o.blockedOn=c,lm(o.priority,function(){if(d.tag===13){var p=zr();p=zs(p);var x=Gc(d,p);x!==null&&$r(x,d,p),B1(d,p)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sp(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var d=V1(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);Vi=p,d.target.dispatchEvent(p),Vi=null}else return c=Za(d),c!==null&&k4(c),o.blockedOn=d,!1;c.shift()}return!0}function M4(o,c,d){Sp(o)&&d.delete(c)}function f7(){$1=!1,uo!==null&&Sp(uo)&&(uo=null),ho!==null&&Sp(ho)&&(ho=null),fo!==null&&Sp(fo)&&(fo=null),bh.forEach(M4),jh.forEach(M4)}function Tp(o,c){o.blockedOn===c&&(o.blockedOn=null,$1||($1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f7)))}var Ep=null;function L4(o){Ep!==o&&(Ep=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ep===o&&(Ep=null);for(var c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],x=o[c+2];if(typeof p!="function"){if(z1(p||d)===null)continue;break}var _=Za(d);_!==null&&(o.splice(c,3),c-=3,z0(_,{pending:!0,data:x,method:d.method,action:p},p,x))}}))}function _h(o){function c(K){return Tp(K,o)}uo!==null&&Tp(uo,o),ho!==null&&Tp(ho,o),fo!==null&&Tp(fo,o),bh.forEach(c),jh.forEach(c);for(var d=0;d<mo.length;d++){var p=mo[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<mo.length&&(d=mo[0],d.blockedOn===null);)D4(d),d.blockedOn===null&&mo.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var x=d[p],_=d[p+1],P=x[dn]||null;if(typeof _=="function")P||L4(d);else if(P){var V=null;if(_&&_.hasAttribute("formAction")){if(x=_,P=_[dn]||null)V=P.formAction;else if(z1(x)!==null)continue}else V=P.action;typeof V=="function"?d[p+1]=V:(d.splice(p,3),p-=3),L4(d)}}}function q1(o){this._internalRoot=o}Ap.prototype.render=q1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,p=zr();O4(d,p,o,c,null,null)},Ap.prototype.unmount=q1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;O4(o.current,2,null,o,null,null),lp(),c[ia]=null}};function Ap(o){this._internalRoot=o}Ap.prototype.unstable_scheduleHydration=function(o){if(o){var c=$s();o={blockedOn:null,target:o,priority:c};for(var d=0;d<mo.length&&c!==0&&c<mo[d].priority;d++);mo.splice(d,0,o),d===0&&D4(o)}};var B4=e.version;if(B4!=="19.1.0")throw Error(r(527,B4,"19.1.0"));se.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=h(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var m7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{Zt=Np.inject(m7),wt=Np}catch{}}return Th.createRoot=function(o,c){if(!a(o))throw Error(r(299));var d=!1,p="",x=eE,_=tE,P=nE,V=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(V=c.unstable_transitionCallbacks)),c=N4(o,1,!1,null,null,d,p,x,_,P,V,null),o[ia]=c.current,T1(o),new q1(c)},Th.hydrateRoot=function(o,c,d){if(!a(o))throw Error(r(299));var p=!1,x="",_=eE,P=tE,V=nE,K=null,te=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(te=d.formState)),c=N4(o,1,!0,c,d??null,p,x,_,P,V,K,te),c.context=C4(null),d=c.current,p=zr(),p=zs(p),x=Xs(p),x.callback=null,Qs(d,x,p),d=p,c.current.lanes=d,Di(c,d),hi(c),o[ia]=c.current,T1(o),new Ap(c)},Th.version="19.1.0",Th}var W4;function _7(){if(W4)return K1.exports;W4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K1.exports=w7(),K1.exports}var S7=_7();function et({children:t,variant:e="primary",size:n="medium",type:r="button",fullWidth:a=!1,onClick:s,disabled:l=!1,className:u}){const h=`btn btn-${e} btn-${n} ${a?"btn-full-width":""} ${u||""}`;return i.jsx("button",{type:r,className:h,onClick:s,disabled:l,children:t})}var Eh={},Y4;function T7(){if(Y4)return Eh;Y4=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.parse=l,Eh.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,j){const w=new s,S=y.length;if(S<2)return w;const T=j?.decode||m;let E=0;do{const I=y.indexOf("=",E);if(I===-1)break;const N=y.indexOf(";",E),O=N===-1?S:N;if(I>O){E=y.lastIndexOf(";",I-1)+1;continue}const D=u(y,E,I),M=h(y,I,D),C=y.slice(D,M);if(w[C]===void 0){let R=u(y,I+1,O),B=h(y,O,R);const $=T(y.slice(R,B));w[C]=$}E=O+1}while(E<S);return w}function u(y,j,w){do{const S=y.charCodeAt(j);if(S!==32&&S!==9)return j}while(++j<w);return w}function h(y,j,w){for(;j>w;){const S=y.charCodeAt(--j);if(S!==32&&S!==9)return j+1}return w}function f(y,j,w){const S=w?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=S(j);if(!e.test(T))throw new TypeError(`argument val is invalid: ${j}`);let E=y+"="+T;if(!w)return E;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);E+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);E+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);E+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);E+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(E+="; HttpOnly"),w.secure&&(E+="; Secure"),w.partitioned&&(E+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return E}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return a.call(y)==="[object Date]"}return Eh}T7();var X4="popstate";function E7(t={}){function e(r,a){let{pathname:s,search:l,hash:u}=r.location;return Gb("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:rf(a)}return N7(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ea(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A7(){return Math.random().toString(36).substring(2,10)}function Q4(t,e){return{usr:t.state,key:t.key,idx:e}}function Gb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ju(e):e,state:n,key:e&&e.key||r||A7()}}function rf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function N7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let T=m(),E=T==null?null:T-f;f=T,h&&h({action:u,location:S.location,delta:E})}function y(T,E){u="PUSH";let I=Gb(S.location,T,E);f=m()+1;let N=Q4(I,f),O=S.createHref(I);try{l.pushState(N,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(O)}s&&h&&h({action:u,location:S.location,delta:1})}function j(T,E){u="REPLACE";let I=Gb(S.location,T,E);f=m();let N=Q4(I,f),O=S.createHref(I);l.replaceState(N,"",O),s&&h&&h({action:u,location:S.location,delta:0})}function w(T){return C7(T)}let S={get action(){return u},get location(){return t(a,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(X4,g),h=T,()=>{a.removeEventListener(X4,g),h=null}},createHref(T){return e(a,T)},createURL:w,encodeLocation(T){let E=w(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:j,go(T){return l.go(T)}};return S}function C7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:rf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function KO(t,e,n="/"){return O7(t,e,n,!1)}function O7(t,e,n,r){let a=typeof e=="string"?Ju(e):e,s=js(a.pathname||"/",n);if(s==null)return null;let l=GO(t);I7(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=$7(s);u=V7(l[h],f,r)}return u}function GO(t,e=[],n=[],r=""){let a=(s,l,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(Ht(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=fs([r,h.relativePath]),m=n.concat(h);s.children&&s.children.length>0&&(Ht(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),GO(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:B7(f,s.index),routesMeta:m})};return t.forEach((s,l)=>{if(s.path===""||!s.path?.includes("?"))a(s,l);else for(let u of WO(s.path))a(s,l,u)}),e}function WO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=WO(r.join("/")),u=[];return u.push(...l.map(h=>h===""?s:[s,h].join("/"))),a&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function I7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var k7=/^:[\w-]+$/,P7=3,R7=2,D7=1,M7=10,L7=-2,Z4=t=>t==="*";function B7(t,e){let n=t.split("/"),r=n.length;return n.some(Z4)&&(r+=L7),e&&(r+=R7),n.filter(a=>!Z4(a)).reduce((a,s)=>a+(k7.test(s)?P7:s===""?D7:M7),r)}function U7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function V7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),y=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=gg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:fs([s,g.pathname]),pathnameBase:K7(fs([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=fs([s,g.pathnameBase]))}return l}function gg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let w=u[y]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[y];return g&&!j?f[m]=void 0:f[m]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:t}}function z7(t,e=!1,n=!0){Ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function $7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ju(t):t;return{pathname:n?n.startsWith("/")?n:F7(n,e):e,search:G7(r),hash:W7(a)}}function F7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function X1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wj(t){let e=H7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _j(t,e,n,r=!1){let a;typeof t=="string"?a=Ju(t):(a={...t},Ht(!a.pathname||!a.pathname.includes("?"),X1("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),X1("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),X1("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?e[g]:"/"}let h=q7(a,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var fs=t=>t.join("/").replace(/\/\/+/g,"/"),K7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var YO=["POST","PUT","PATCH","DELETE"];new Set(YO);var X7=["GET",...YO];new Set(X7);var ed=b.createContext(null);ed.displayName="DataRouter";var Av=b.createContext(null);Av.displayName="DataRouterState";var XO=b.createContext({isTransitioning:!1});XO.displayName="ViewTransition";var Q7=b.createContext(new Map);Q7.displayName="Fetchers";var Z7=b.createContext(null);Z7.displayName="Await";var Ga=b.createContext(null);Ga.displayName="Navigation";var If=b.createContext(null);If.displayName="Location";var Wa=b.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var Sj=b.createContext(null);Sj.displayName="RouteError";function J7(t,{relative:e}={}){Ht(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ga),{hash:a,pathname:s,search:l}=kf(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:fs([n,s])),r.createHref({pathname:u,search:l,hash:a})}function td(){return b.useContext(If)!=null}function Oi(){return Ht(td(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(If).location}var QO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZO(t){b.useContext(Ga).static||b.useLayoutEffect(t)}function Ko(){let{isDataRoute:t}=b.useContext(Wa);return t?fL():eL()}function eL(){Ht(td(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ed),{basename:e,navigator:n}=b.useContext(Ga),{matches:r}=b.useContext(Wa),{pathname:a}=Oi(),s=JSON.stringify(wj(r)),l=b.useRef(!1);return ZO(()=>{l.current=!0}),b.useCallback((h,f={})=>{if(Ea(l.current,QO),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=_j(h,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:fs([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,a,t])}b.createContext(null);function tL(){let{matches:t}=b.useContext(Wa),e=t[t.length-1];return e?e.params:{}}function kf(t,{relative:e}={}){let{matches:n}=b.useContext(Wa),{pathname:r}=Oi(),a=JSON.stringify(wj(n));return b.useMemo(()=>_j(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function nL(t,e){return JO(t,e)}function JO(t,e,n,r){Ht(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(Ga),{matches:s}=b.useContext(Wa),l=s[s.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let E=m&&m.path||"";eI(h,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Oi(),y;if(e){let E=typeof e=="string"?Ju(e):e;Ht(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=g;let j=y.pathname||"/",w=j;if(f!=="/"){let E=f.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=KO(t,{pathname:w});Ea(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ea(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=oL(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:fs([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:fs([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&T?b.createElement(If.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function rL(){let t=hL(),e=Y7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,l)}var aL=b.createElement(rL,null),iL=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Wa.Provider,{value:this.props.routeContext},b.createElement(Sj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sL({routeContext:t,match:e,children:n}){let r=b.useContext(ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Wa.Provider,{value:t},n)}function oL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let h=a.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);Ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,y=!1,j=null,w=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,j=f.route.errorElement||aL,l&&(u<0&&m===0?(eI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===m&&(y=!0,w=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),T=()=>{let E;return g?E=j:y?E=w:f.route.Component?E=b.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,b.createElement(sL,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(iL,{location:n.location,revalidation:n.revalidation,component:j,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function Tj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lL(t){let e=b.useContext(ed);return Ht(e,Tj(t)),e}function cL(t){let e=b.useContext(Av);return Ht(e,Tj(t)),e}function uL(t){let e=b.useContext(Wa);return Ht(e,Tj(t)),e}function Ej(t){let e=uL(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dL(){return Ej("useRouteId")}function hL(){let t=b.useContext(Sj),e=cL("useRouteError"),n=Ej("useRouteError");return t!==void 0?t:e.errors?.[n]}function fL(){let{router:t}=lL("useNavigate"),e=Ej("useNavigate"),n=b.useRef(!1);return ZO(()=>{n.current=!0}),b.useCallback(async(a,s={})=>{Ea(n.current,QO),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var J4={};function eI(t,e,n){!e&&!J4[t]&&(J4[t]=!0,Ea(!1,n))}b.memo(mL);function mL({routes:t,future:e,state:n}){return JO(t,void 0,n,e)}function tI({to:t,replace:e,state:n,relative:r}){Ht(td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(Ga);Ea(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Wa),{pathname:l}=Oi(),u=Ko(),h=_j(t,wj(s),l,r==="path"),f=JSON.stringify(h);return b.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function We(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){Ht(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);typeof n=="string"&&(n=Ju(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,j=b.useMemo(()=>{let w=js(h,l);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:y},navigationType:r}},[l,h,f,m,g,y,r]);return Ea(j!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:b.createElement(Ga.Provider,{value:u},b.createElement(If.Provider,{children:e,value:j}))}function nI({children:t,location:e}){return nL(Wb(t),e)}function Wb(t,e=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let s=[...e,a];if(r.type===b.Fragment){n.push.apply(n,Wb(r.props.children,s));return}Ht(r.type===We,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Wb(r.props.children,s)),n.push(l)}),n}var Jp="get",eg="application/x-www-form-urlencoded";function Nv(t){return t!=null&&typeof t.tagName=="string"}function gL(t){return Nv(t)&&t.tagName.toLowerCase()==="button"}function vL(t){return Nv(t)&&t.tagName.toLowerCase()==="form"}function yL(t){return Nv(t)&&t.tagName.toLowerCase()==="input"}function xL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bL(t,e){return t.button===0&&(!e||e==="_self")&&!xL(t)}function Yb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function jL(t,e){let n=Yb(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(s=>{n.append(a,s)})}),n}var Cp=null;function wL(){if(Cp===null)try{new FormData(document.createElement("form"),0),Cp=!1}catch{Cp=!0}return Cp}var _L=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Q1(t){return t!=null&&!_L.has(t)?(Ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eg}"`),null):t}function SL(t,e){let n,r,a,s,l;if(vL(t)){let u=t.getAttribute("action");r=u?js(u,e):null,n=t.getAttribute("method")||Jp,a=Q1(t.getAttribute("enctype"))||eg,s=new FormData(t)}else if(gL(t)||yL(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?js(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Jp,a=Q1(t.getAttribute("formenctype"))||Q1(u.getAttribute("enctype"))||eg,s=new FormData(u,t),!wL()){let{name:f,type:m,value:g}=t;if(m==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,g)}}else{if(Nv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jp,r=null,a=eg,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}function Aj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function TL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AL(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await TL(s,n);return l.links?l.links():[]}return[]}));return IL(r.flat(1).filter(EL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eA(t,e,n,r,a,s){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):s==="data"?e.filter((h,f)=>{let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function NL(t,e,{includeHydrateFallback:n}={}){return CL(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function CL(t){return[...new Set(t)]}function OL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function IL(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(OL(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kL=new Set([100,101,204,205]);function PL(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&js(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rI(){let t=b.useContext(ed);return Aj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RL(){let t=b.useContext(Av);return Aj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nj=b.createContext(void 0);Nj.displayName="FrameworkContext";function aI(){let t=b.useContext(Nj);return Aj(t,"You must render this element inside a <HydratedRouter> element"),t}function DL(t,e){let n=b.useContext(Nj),[r,a]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,y=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=E=>{E.forEach(I=>{l(I.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),b.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let j=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,y,{}]:[s,y,{onFocus:Ah(u,j),onBlur:Ah(h,w),onMouseEnter:Ah(f,j),onMouseLeave:Ah(m,w),onTouchStart:Ah(g,j)}]:[!1,y,{}]}function Ah(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ML({page:t,...e}){let{router:n}=rI(),r=b.useMemo(()=>KO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(BL,{page:t,matches:r,...e}):null}function LL(t){let{manifest:e,routeModules:n}=aI(),[r,a]=b.useState([]);return b.useEffect(()=>{let s=!1;return AL(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function BL({page:t,matches:e,...n}){let r=Oi(),{manifest:a,routeModules:s}=aI(),{basename:l}=rI(),{loaderData:u,matches:h}=RL(),f=b.useMemo(()=>eA(t,e,h,a,r,"data"),[t,e,h,a,r]),m=b.useMemo(()=>eA(t,e,h,a,r,"assets"),[t,e,h,a,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(E=>{let I=a.routes[E.route.id];!I||!I.hasLoader||(!f.some(N=>N.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||I.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let T=PL(t,l);return S&&w.size>0&&T.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[l,u,r,a,f,e,t,s]),y=b.useMemo(()=>NL(m,a),[m,a]),j=LL(m);return b.createElement(b.Fragment,null,g.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),j.map(({key:w,link:S})=>b.createElement("link",{key:w,...S})))}function UL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iI&&(window.__reactRouterVersion="7.6.3")}catch{}function VL({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=E7({window:n,v5Compat:!0}));let a=r.current,[s,l]=b.useState({action:a.action,location:a.location}),u=b.useCallback(h=>{b.startTransition(()=>l(h))},[l]);return b.useLayoutEffect(()=>a.listen(u),[a,u]),b.createElement(pL,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var sI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oI=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g,...y},j){let{basename:w}=b.useContext(Ga),S=typeof f=="string"&&sI.test(f),T,E=!1;if(typeof f=="string"&&S&&(T=f,iI))try{let B=new URL(window.location.href),$=f.startsWith("//")?new URL(B.protocol+f):new URL(f),L=js($.pathname,w);$.origin===B.origin&&L!=null?f=L+$.search+$.hash:E=!0}catch{Ea(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=J7(f,{relative:a}),[N,O,D]=DL(r,y),M=FL(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:g});function C(B){e&&e(B),B.defaultPrevented||M(B)}let R=b.createElement("a",{...y,...D,href:T||I,onClick:E||s?e:C,ref:UL(j,O),target:h,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?b.createElement(b.Fragment,null,R,b.createElement(ML,{page:I})):R});oI.displayName="Link";var zL=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:u,children:h,...f},m){let g=kf(l,{relative:f.relative}),y=Oi(),j=b.useContext(Av),{navigator:w,basename:S}=b.useContext(Ga),T=j!=null&&XL(g)&&u===!0,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,I=y.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&S&&(N=js(N,S)||N);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=I===E||!a&&I.startsWith(E)&&I.charAt(O)==="/",M=N!=null&&(N===E||!a&&N.startsWith(E)&&N.charAt(E.length)==="/"),C={isActive:D,isPending:M,isTransitioning:T},R=D?e:void 0,B;typeof r=="function"?B=r(C):B=[r,D?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(C):s;return b.createElement(oI,{...f,"aria-current":R,className:B,ref:m,style:$,to:l,viewTransition:u},typeof h=="function"?h(C):h)});zL.displayName="NavLink";var $L=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=Jp,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...y},j)=>{let w=WL(),S=YL(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&sI.test(u),I=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let O=N.nativeEvent.submitter,D=O?.getAttribute("formmethod")||l;w(O||N.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return b.createElement("form",{ref:j,method:T,action:S,onSubmit:r?h:I,...y,"data-discover":!E&&t==="render"?"true":void 0})});$L.displayName="Form";function qL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(t){let e=b.useContext(ed);return Ht(e,qL(t)),e}function FL(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l}={}){let u=Ko(),h=Oi(),f=kf(t,{relative:s});return b.useCallback(m=>{if(bL(m,e)){m.preventDefault();let g=n!==void 0?n:rf(h)===rf(f);u(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:l})}},[h,u,f,n,r,e,t,a,s,l])}function HL(t){Ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=b.useRef(Yb(t)),n=b.useRef(!1),r=Oi(),a=b.useMemo(()=>jL(r.search,n.current?null:e.current),[r.search]),s=Ko(),l=b.useCallback((u,h)=>{const f=Yb(typeof u=="function"?u(a):u);n.current=!0,s("?"+f,h)},[s,a]);return[a,l]}var KL=0,GL=()=>`__${String(++KL)}__`;function WL(){let{router:t}=lI("useSubmit"),{basename:e}=b.useContext(Ga),n=dL();return b.useCallback(async(r,a={})=>{let{action:s,method:l,encType:u,formData:h,body:f}=SL(r,e);if(a.navigate===!1){let m=a.fetcherKey||GL();await t.fetch(m,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function YL(t,{relative:e}={}){let{basename:n}=b.useContext(Ga),r=b.useContext(Wa);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...kf(t||".",{relative:e})},l=Oi();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:fs([n,s.pathname])),rf(s)}function XL(t,e={}){let n=b.useContext(XO);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lI("useViewTransitionState"),a=kf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=js(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=js(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gg(a.pathname,l)!=null||gg(a.pathname,s)!=null}[...kL];var QL=HO();function Go(){const t=Ko();return{goTo:(n,r)=>{t(n,r)}}}function Cj(t){const e=t.replace("#",""),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth"})}const st={landing:"/",login:"/login",register:"/register",forgotPassword:"/forgot-password",terms:"/terms",privacy:"/privacy",app:"/app",dashboard:"/app",admin:"/app/admin-users",priorityOptimization:"/app/priority-optimization",settings:"/app/settings",operationalRoutes:"/app/operational-routes",operationalRoutesList:"/app/operational-routes-list",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control",operatorsList:"/app/operators-list",blingIntegration:"/app/bling-integration",userCreation:"/app/user-creation",productManagement:"/app/product-management",reports:"/app/reports",analytics:"/app/analytics",teamManagement:"/app/team-management",scheduling:"/app/scheduling",dataSync:"/app/data-sync",products:"/app/products",productAccessory:"/app/products/accessory",productAviationPlug:"/app/products/aviation-plug",productHvc:"/app/products/hvc",productConnector:"/app/products/connector",productFuseRelayBox:"/app/products/fuse-relay-box",productTerminal:"/app/products/terminal",productRubberParts:"/app/products/rubber-parts",productBackshell:"/app/products/backshell",productManifolds:"/app/products/manifolds",productWireHarness:"/app/products/wire-harness",productPcbConnector:"/app/products/pcb-connector"};function ZL(){const[t,e]=b.useState(!1),{goTo:n}=Go(),r=a=>{a.startsWith("#")?Cj(a):n(a)};return i.jsx("header",{className:"header",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"header-content",children:[i.jsx("span",{className:"logo",style:{cursor:"pointer"},onClick:()=>r(st.landing),children:i.jsx("span",{className:"logo-text",children:"RR Vision Brazil"})}),i.jsxs("nav",{className:`nav ${t?"nav-open":""}`,children:[i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#features"),children:"Recursos"}),i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#about"),children:"Sobre"}),i.jsx("span",{className:"nav-link",style:{cursor:"pointer"},onClick:()=>r("#contact"),children:"Contato"})]}),i.jsxs("div",{className:"header-actions",children:[i.jsx(et,{variant:"outline",onClick:()=>r(st.login),children:"Entrar"}),i.jsx(et,{variant:"primary",onClick:()=>r(st.register),children:"Cadastrar"})]}),i.jsxs("button",{className:"menu-toggle",onClick:()=>e(!t),children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})]})})})}function JL(){const{goTo:t}=Go(),e=n=>{n.startsWith("#")?Cj(n):t(n)};return i.jsx("section",{className:"hero",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"hero-content",children:[i.jsxs("div",{className:"hero-text",children:[i.jsx("h1",{className:"hero-title",children:"Automatize seu Controle de Produo Industrial"}),i.jsx("p",{className:"hero-description",children:"Integre dados do ERP Bling com processos internos, otimize a alocao de operadores e monitore a eficincia em tempo real com dashboards dinmicos e alertas automticos."}),i.jsxs("div",{className:"hero-actions",children:[i.jsx(et,{variant:"primary",size:"large",onClick:()=>e("/register"),children:"Comear Agora"}),i.jsx(et,{variant:"outline",size:"large",onClick:()=>e("#features"),children:"Conhecer Recursos"})]})]}),i.jsx("div",{className:"hero-image",children:i.jsxs("div",{className:"dashboard-preview",children:[i.jsx("div",{className:"dashboard-header",children:i.jsxs("div",{className:"dashboard-tabs",children:[i.jsx("div",{className:"tab active",children:"Dashboard"}),i.jsx("div",{className:"tab",children:"Produo"}),i.jsx("div",{className:"tab",children:"Operadores"})]})}),i.jsxs("div",{className:"dashboard-content",children:[i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"87%"}),i.jsx("div",{className:"metric-label",children:"Eficincia"})]}),i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"24"}),i.jsx("div",{className:"metric-label",children:"Ordens Ativas"})]}),i.jsxs("div",{className:"metric-card",children:[i.jsx("div",{className:"metric-value",children:"156"}),i.jsx("div",{className:"metric-label",children:"Operadores"})]})]})]})})]})})})}var cI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tA=Co.createContext&&Co.createContext(cI),eB=["attr","size","title"];function tB(t,e){if(t==null)return{};var n=nB(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){rB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rB(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=iB(t,"string");return typeof e=="symbol"?e:e+""}function iB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uI(t){return t&&t.map((e,n)=>Co.createElement(e.tag,yg({key:n},e.attr),uI(e.child)))}function ye(t){return e=>Co.createElement(sB,vg({attr:yg({},t.attr)},e),uI(t.child))}function sB(t){var e=n=>{var{attr:r,size:a,title:s}=t,l=tB(t,eB),u=a||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Co.createElement("svg",vg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:yg(yg({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Co.createElement("title",null,s),t.children)};return tA!==void 0?Co.createElement(tA.Consumer,null,n=>e(n)):e(cI)}function Xb(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function oB(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function xg(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function rA(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function lB(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function nc(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function mc(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function Do(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function cB(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function Ahe(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function uB(t){return ye({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function Pf(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function mr(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Hh(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function aA(t){return ye({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function qn(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function jr(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function dI(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Qb(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Z1(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function hI(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Wt(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function dB(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(t)}function Ii(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function fI(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function hB(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function Zb(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(t)}function ms(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Rf(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Nhe(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function nd(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Xe(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function mI(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Cv(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function Wo(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Su(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function fB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function pI(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function mB(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(t)}function pB(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(t)}function gB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function bg(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(t)}function os(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Du(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function gI(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function vB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(t)}function yB(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function xB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function bB(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(t)}function jg(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Che(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function vI(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function iA(t){return ye({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(t)}function af(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function jB(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 128c35.3 0 64-28.7 64-64S163.3 0 128 0 64 28.7 64 64s28.7 64 64 64zm384 0c35.3 0 64-28.7 64-64S547.3 0 512 0s-64 28.7-64 64 28.7 64 64 64zm127.3 226.5l-45.6-185.8c-3.3-13.5-15.5-23-29.8-24.2-15 9.7-32.8 15.5-52 15.5-19.2 0-37-5.8-52-15.5-14.3 1.2-26.5 10.7-29.8 24.2l-45.6 185.8C381 369.6 393 384 409.2 384H464v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V384h54.8c16.2 0 28.2-14.4 24.5-29.5zM336 0h-32c-8.8 0-16 7.2-16 16v480c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16zM180.1 144.4c-15 9.8-32.9 15.6-52.1 15.6-19.2 0-37.1-5.8-52.1-15.6C51.3 146.5 32 166.9 32 192v136c0 13.3 10.7 24 24 24h8v136c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V352h8c13.3 0 24-10.7 24-24V192c0-25.1-19.3-45.5-43.9-47.6z"},child:[]}]})(t)}function Mu(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function ws(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function _s(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function yI(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function wB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Ohe(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function Ihe(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function _B(t){return ye({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function Oj(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function SB(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function Ov(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function zn(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(t)}function TB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function EB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(t)}function Cn(t){return ye({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function sf(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function Ss(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function xI(t){return ye({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function bI(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function AB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function NB(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(t)}function CB(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function khe(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"},child:[]}]})(t)}function rc(t){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function OB(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function To(t){return ye({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function IB(t){return ye({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function kB(t){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function PB(){const t=[{icon:i.jsx(zn,{}),title:"Integrao ERP Bling",description:"Sincronizao automtica de dados do ERP para otimizar o planejamento de produo"},{icon:i.jsx(To,{}),title:"Alocao Inteligente",description:"Distribuio de operadores baseada em habilidades e disponibilidade"},{icon:i.jsx(mr,{}),title:"Dashboards em Tempo Real",description:"Monitoramento da eficincia e produtividade com mtricas atualizadas"},{icon:i.jsx(mc,{}),title:"Execuo Assistida",description:"Roteiros detalhados para guiar operadores durante a produo"},{icon:i.jsx(_s,{}),title:"Controle de Qualidade",description:"Registro e acompanhamento de no conformidades"},{icon:i.jsx(nc,{}),title:"Alertas Automticos",description:"Notificaes inteligentes para otimizar o fluxo produtivo"}];return i.jsx("section",{id:"features",className:"features",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Recursos Principais"}),i.jsx("p",{children:"Tudo que voc precisa para otimizar sua produo industrial"})]}),i.jsx("div",{className:"features-grid",children:t.map((e,n)=>i.jsxs("div",{className:"feature-card",children:[i.jsx("div",{className:"feature-icon",children:e.icon}),i.jsx("h3",{className:"feature-title",children:e.title}),i.jsx("p",{className:"feature-description",children:e.description})]},n))})]})})}function RB(){return i.jsx("section",{id:"about",className:"about",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"about-content",children:[i.jsxs("div",{className:"about-text",children:[i.jsx("h2",{children:"Sobre o RR Vision Brazil"}),i.jsx("p",{children:"Nossa plataforma foi desenvolvida especificamente para atender s necessidades da indstria brasileira, oferecendo uma soluo completa para automao do controle de produo."}),i.jsx("p",{children:"Com foco na integrao de dados e otimizao de processos, o RR Vision Brazil permite que gestores e operadores trabalhem de forma mais eficiente, reduzindo custos e aumentando a produtividade."}),i.jsxs("div",{className:"stats",children:[i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"500+"}),i.jsx("div",{className:"stat-label",children:"Empresas Atendidas"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"25%"}),i.jsx("div",{className:"stat-label",children:"Aumento Mdio de Eficincia"})]}),i.jsxs("div",{className:"stat",children:[i.jsx("div",{className:"stat-number",children:"24/7"}),i.jsx("div",{className:"stat-label",children:"Suporte Tcnico"})]})]})]}),i.jsx("div",{className:"about-image",children:i.jsxs("div",{className:"process-flow",children:[i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsx("div",{className:"step-title",children:"Planejamento"})]}),i.jsx("div",{className:"flow-arrow",children:""}),i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsx("div",{className:"step-title",children:"Execuo"})]}),i.jsx("div",{className:"flow-arrow",children:""}),i.jsxs("div",{className:"flow-step",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsx("div",{className:"step-title",children:"Monitoramento"})]})]})})]})})})}function Pt({type:t,name:e,placeholder:n,value:r,onChange:a,required:s=!1,disabled:l=!1,icon:u}){return i.jsxs("div",{className:"input-wrapper",children:[u&&i.jsx("div",{className:"input-icon",children:u}),i.jsx("input",{type:t,name:e,placeholder:n,value:r,onChange:a,required:s,disabled:l,className:`input ${u?"input-with-icon":""}`})]})}function DB(){const[t,e]=b.useState({name:"",email:"",company:"",message:""}),n=a=>{e({...t,[a.target.name]:a.target.value})},r=a=>{a.preventDefault(),console.log("Contact form:",t)};return i.jsx("section",{id:"contact",className:"contact",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Entre em Contato"}),i.jsx("p",{children:"Fale conosco para saber mais sobre o RR Vision Brazil"})]}),i.jsxs("div",{className:"contact-content",children:[i.jsxs("div",{className:"contact-info",children:[i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsxs("div",{children:[i.jsx("h4",{children:"E-mail"}),i.jsx("p",{children:"contato@rrvisionbrazil.com"})]})]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7294C21.7209 20.9846 21.5573 21.2136 21.3521 21.4019C21.1469 21.5902 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0973 21.9454 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3146 6.72533 15.2661 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.09456 3.90347 2.12787 3.62461 2.21649 3.36152C2.30512 3.09843 2.44756 2.85687 2.63483 2.65231C2.8221 2.44775 3.0498 2.28477 3.30349 2.17351C3.55718 2.06225 3.83148 2.00489 4.10999 2.00001H7.10999C7.59522 1.99522 8.06569 2.16708 8.43373 2.48353C8.80177 2.79999 9.04201 3.23945 9.10999 3.72001C9.23662 4.68007 9.47144 5.62273 9.80999 6.53001C9.94454 6.88792 9.97348 7.27675 9.89382 7.65369C9.81416 8.03063 9.62884 8.38332 9.35999 8.67001L8.08999 9.94001C9.51355 12.5795 11.4205 14.4865 14.06 15.91L15.33 14.64C15.6167 14.3712 15.9694 14.1858 16.3463 14.1062C16.7233 14.0265 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),i.jsxs("div",{children:[i.jsx("h4",{children:"Telefone"}),i.jsx("p",{children:"(11) 9999-9999"})]})]}),i.jsxs("div",{className:"contact-item",children:[i.jsx("div",{className:"contact-icon",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.3639 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),i.jsxs("div",{children:[i.jsx("h4",{children:"Endereo"}),i.jsx("p",{children:"So Paulo, SP - Brasil"})]})]})]}),i.jsxs("form",{onSubmit:r,className:"contact-form",children:[i.jsxs("div",{className:"form-row",children:[i.jsx(Pt,{type:"text",name:"name",placeholder:"Seu nome",value:t.name,onChange:n,required:!0}),i.jsx(Pt,{type:"email",name:"email",placeholder:"Seu e-mail",value:t.email,onChange:n,required:!0})]}),i.jsx(Pt,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:n,required:!0}),i.jsx("textarea",{name:"message",placeholder:"Sua mensagem",value:t.message,onChange:n,className:"contact-textarea",rows:5,required:!0}),i.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,children:"Enviar Mensagem"})]})]})]})})}const MB=new Date().getFullYear(),LB=({theme:t="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:r="to right",backgroundColor:a=t==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:s=t})=>{const l=t==="dark",u=e?{backgroundImage:`linear-gradient(${r}, ${n[0]}, ${n[1]})`}:{backgroundColor:a},h=l?"#ffffff":"#333333",f=s==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return i.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},u),{color:h}),children:[i.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:i.jsx("img",{src:f,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),i.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless  ",MB]})]})};function BB(){const{goTo:t}=Go(),e=n=>{n.startsWith("#")?Cj(n):t(n)};return i.jsx("footer",{className:"footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"footer-content",children:[i.jsxs("div",{className:"footer-section",children:[i.jsx("h3",{children:"RR Vision Brazil"}),i.jsx("p",{children:"Automatizando o controle de produo industrial com tecnologia e inovao."})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Produto"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#features"),children:"Recursos"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/pricing"),children:"Preos"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/demo"),children:"Demo"})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Empresa"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#about"),children:"Sobre"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/careers"),children:"Carreiras"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("#contact"),children:"Contato"})]}),i.jsxs("div",{className:"footer-section",children:[i.jsx("h4",{children:"Suporte"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/help"),children:"Ajuda"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/docs"),children:"Documentao"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/support"),children:"Suporte Tcnico"})]})]}),i.jsxs("div",{className:"footer-bottom",children:[i.jsx("p",{children:" 2024 RR Vision Brazil. Todos os direitos reservados."}),i.jsxs("div",{className:"footer-links",children:[i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/privacy"),children:"Privacidade"}),i.jsx("span",{style:{cursor:"pointer"},onClick:()=>e("/terms"),children:"Termos de Uso"})]})]}),i.jsx(LB,{backgroundColor:"transparent",theme:"dark"})]})})}function UB(){return i.jsxs("div",{className:"app",children:[i.jsx(ZL,{}),i.jsx(JL,{}),i.jsx(PB,{}),i.jsx(RB,{}),i.jsx(DB,{}),i.jsx(BB,{})]})}function Kh(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function VB(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(t)}function Jb(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"},child:[]}]})(t)}function Ij(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(t)}function zB(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"},child:[]}]})(t)}function $B(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(t)}function qB(t){return ye({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"},child:[]}]})(t)}const FB=()=>{};var sA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},HB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],u=t[n++],h=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},wI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,u=l?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|f>>6,j=f&63;h||(j=64,l||(y=64)),r.push(n[m],n[g],n[y],n[j])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||u==null||f==null||g==null)throw new KB;const y=s<<2|u>>4;if(r.push(y),f!==64){const j=u<<4&240|f>>2;if(r.push(j),g!==64){const w=f<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GB=function(t){const e=jI(t);return wI.encodeByteArray(e,!0)},wg=function(t){return GB(t).replace(/\./g,"")},_I=function(t){try{return wI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=()=>WB().__FIREBASE_DEFAULTS__,XB=()=>{if(typeof process>"u"||typeof sA>"u")return;const t=sA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_I(t[1]);return e&&JSON.parse(e)},Iv=()=>{try{return FB()||YB()||XB()||QB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SI=t=>{var e,n;return(n=(e=Iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TI=t=>{const e=SI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EI=()=>{var t;return(t=Iv())===null||t===void 0?void 0:t.config},AI=t=>{var e;return(e=Iv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wg(JSON.stringify(n)),wg(JSON.stringify(l)),""].join(".")}const Gh={};function JB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gh))Gh[e]?t.emulator.push(e):t.prod.push(e);return t}function eU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oA=!1;function Pj(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Gh[t]===e||Gh[t]||oA)return;Gh[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=JB().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,j){y.setAttribute("width","24"),y.setAttribute("id",j),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{oA=!0,l()},y}function m(y,j){y.setAttribute("id",j),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=eU(r),j=n("text"),w=document.getElementById(j)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),E=n("preprendIcon"),I=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;u(N),m(T,S);const O=f();h(I,E),N.append(I,w,T,O),document.body.appendChild(N)}s?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function nU(){var t;const e=(t=Iv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sU(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oU(){return!nU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lU(){try{return typeof indexedDB=="object"}catch{return!1}}function cU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="FirebaseError";class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uU,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?dU(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new ki(a,u,r)}}function dU(t,e){return t.replace(hU,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const hU=/\{\$([^}]+)}/g;function fU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(lA(s)&&lA(l)){if(!ac(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function lA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mU(t,e){const n=new pU(t,e);return n.subscribe.bind(n)}class pU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gU(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=J1),a.error===void 0&&(a.error=J1),a.complete===void 0&&(a.complete=J1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function J1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class Mo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xU(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yU(t){return t===Ul?void 0:t}function xU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const jU={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},wU=ot.INFO,_U={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},SU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=_U[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rj{constructor(e){this.name=e,this._logLevel=wU,this._logHandler=SU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const TU=(t,e)=>e.some(n=>t instanceof n);let cA,uA;function EU(){return cA||(cA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AU(){return uA||(uA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CI=new WeakMap,e2=new WeakMap,OI=new WeakMap,ex=new WeakMap,Dj=new WeakMap;function NU(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Oo(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&CI.set(n,t)}).catch(()=>{}),Dj.set(e,t),e}function CU(t){if(e2.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});e2.set(t,e)}let t2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OU(t){t2=t(t2)}function IU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tx(this),e,...n);return OI.set(r,e.sort?e.sort():[e]),Oo(r)}:AU().includes(t)?function(...e){return t.apply(tx(this),e),Oo(CI.get(this))}:function(...e){return Oo(t.apply(tx(this),e))}}function kU(t){return typeof t=="function"?IU(t):(t instanceof IDBTransaction&&CU(t),TU(t,EU())?new Proxy(t,t2):t)}function Oo(t){if(t instanceof IDBRequest)return NU(t);if(ex.has(t))return ex.get(t);const e=kU(t);return e!==t&&(ex.set(t,e),Dj.set(e,t)),e}const tx=t=>Dj.get(t);function PU(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),u=Oo(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Oo(l.result),h.oldVersion,h.newVersion,Oo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const RU=["get","getKey","getAll","getAllKeys","count"],DU=["put","add","delete","clear"],nx=new Map;function dA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nx.get(e))return nx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=DU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||RU.includes(n)))return;const s=async function(l,...u){const h=this.transaction(l,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),a&&h.done]))[0]};return nx.set(e,s),s}OU(t=>({...t,get:(e,n,r)=>dA(e,n)||t.get(e,n,r),has:(e,n)=>!!dA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LU(t){const e=t.getComponent();return e?.type==="VERSION"}const n2="@firebase/app",hA="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Rj("@firebase/app"),BU="@firebase/app-compat",UU="@firebase/analytics-compat",VU="@firebase/analytics",zU="@firebase/app-check-compat",$U="@firebase/app-check",qU="@firebase/auth",FU="@firebase/auth-compat",HU="@firebase/database",KU="@firebase/data-connect",GU="@firebase/database-compat",WU="@firebase/functions",YU="@firebase/functions-compat",XU="@firebase/installations",QU="@firebase/installations-compat",ZU="@firebase/messaging",JU="@firebase/messaging-compat",eV="@firebase/performance",tV="@firebase/performance-compat",nV="@firebase/remote-config",rV="@firebase/remote-config-compat",aV="@firebase/storage",iV="@firebase/storage-compat",sV="@firebase/firestore",oV="@firebase/ai",lV="@firebase/firestore-compat",cV="firebase",uV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="[DEFAULT]",dV={[n2]:"fire-core",[BU]:"fire-core-compat",[VU]:"fire-analytics",[UU]:"fire-analytics-compat",[$U]:"fire-app-check",[zU]:"fire-app-check-compat",[qU]:"fire-auth",[FU]:"fire-auth-compat",[HU]:"fire-rtdb",[KU]:"fire-data-connect",[GU]:"fire-rtdb-compat",[WU]:"fire-fn",[YU]:"fire-fn-compat",[XU]:"fire-iid",[QU]:"fire-iid-compat",[ZU]:"fire-fcm",[JU]:"fire-fcm-compat",[eV]:"fire-perf",[tV]:"fire-perf-compat",[nV]:"fire-rc",[rV]:"fire-rc-compat",[aV]:"fire-gcs",[iV]:"fire-gcs-compat",[sV]:"fire-fst",[lV]:"fire-fst-compat",[oV]:"fire-vertex","fire-js":"fire-js",[cV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new Map,hV=new Map,a2=new Map;function fA(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ic(t){const e=t.name;if(a2.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;a2.set(e,t);for(const n of _g.values())fA(n,t);for(const n of hV.values())fA(n,t);return!0}function kv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Df("app","Firebase",fV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=uV;function II(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:r2,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw Io.create("bad-app-name",{appName:String(a)});if(n||(n=EI()),!n)throw Io.create("no-options");const s=_g.get(a);if(s){if(ac(n,s.options)&&ac(r,s.config))return s;throw Io.create("duplicate-app",{appName:a})}const l=new bU(a);for(const h of a2.values())l.addComponent(h);const u=new mV(n,r,l);return _g.set(a,u),u}function Mj(t=r2){const e=_g.get(t);if(!e&&t===r2&&EI())return II();if(!e)throw Io.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let a=(r=dV[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${a}" with version "${e}":`];s&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(u.join(" "));return}ic(new Mo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="firebase-heartbeat-database",gV=1,of="firebase-heartbeat-store";let rx=null;function kI(){return rx||(rx=PU(pV,gV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(of)}catch(n){console.warn(n)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),rx}async function vV(t){try{const n=(await kI()).transaction(of),r=await n.objectStore(of).get(PI(t));return await n.done,r}catch(e){if(e instanceof ki)Ts.warn(e.message);else{const n=Io.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(n.message)}}}async function mA(t,e){try{const r=(await kI()).transaction(of,"readwrite");await r.objectStore(of).put(e,PI(t)),await r.done}catch(n){if(n instanceof ki)Ts.warn(n.message);else{const r=Io.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function PI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1024,xV=30;class bV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>xV){const l=_V(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pA(),{heartbeatsToSend:r,unsentEntries:a}=jV(this._heartbeatsCache.heartbeats),s=wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ts.warn(n),""}}}function pA(){return new Date().toISOString().substring(0,10)}function jV(t,e=yV){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),gA(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lU()?cU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gA(t){return wg(JSON.stringify({version:2,heartbeats:t})).length}function _V(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){ic(new Mo("platform-logger",e=>new MU(e),"PRIVATE")),ic(new Mo("heartbeat",e=>new bV(e),"PRIVATE")),gi(n2,hA,t),gi(n2,hA,"esm2017"),gi("fire-js","")}SV("");function Lj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function RI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TV=RI,DI=new Df("auth","Firebase",RI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Rj("@firebase/auth");function EV(t,...e){Sg.logLevel<=ot.WARN&&Sg.warn(`Auth (${gc}): ${t}`,...e)}function tg(t,...e){Sg.logLevel<=ot.ERROR&&Sg.error(`Auth (${gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,...e){throw Bj(t,...e)}function vi(t,...e){return Bj(t,...e)}function MI(t,e,n){const r=Object.assign(Object.assign({},TV()),{[e]:n});return new Df("auth","Firebase",r).create(e,{appName:t.name})}function ps(t){return MI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DI.create(t,...e)}function $e(t,e,...n){if(!t)throw Bj(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tg(e),new Error(e)}function Es(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AV(){return vA()==="http:"||vA()==="https:"}function vA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||aU()||"connection"in navigator)?navigator.onLine:!0}function CV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=tU()||iU()}get(){return NV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kV=new Lf(3e4,6e4);function Yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ds(t,e,n,r,a={}){return BI(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Mf(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:h},s);return rU()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(f.credentials="include"),LI.fetch()(await UI(t,t.config.apiHost,n,u),f)})}async function BI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OV),e);try{const a=new RV(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Op(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Op(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Op(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Op(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw MI(t,m,f);Fa(t,m)}}catch(a){if(a instanceof ki)throw a;Fa(t,"network-request-failed",{message:String(a)})}}async function Bf(t,e,n,r,a={}){const s=await Ds(t,e,n,r,a);return"mfaPendingCredential"in s&&Fa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UI(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?Uj(t.config,a):`${t.config.apiScheme}://${a}`;return IV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function PV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),kV.get())})}}function Op(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=vi(t,e,r);return a.customData._tokenResponse=n,a}function yA(t){return t!==void 0&&t.enterprise!==void 0}class DV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MV(t,e){return Ds(t,"GET","/v2/recaptchaConfig",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function Tg(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BV(t,e=!1){const n=jn(t),r=await n.getIdToken(e),a=Vj(r);$e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:Wh(ax(a.auth_time)),issuedAtTime:Wh(ax(a.iat)),expirationTime:Wh(ax(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ax(t){return Number(t)*1e3}function Vj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tg("JWT malformed, contained fewer than 3 sections"),null;try{const a=_I(n);return a?JSON.parse(a):(tg("Failed to decode base64 JWT payload"),null)}catch(a){return tg("Caught error parsing JWT payload as JSON",a?.toString()),null}}function xA(t){const e=Vj(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ki&&UV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wh(this.lastLoginAt),this.creationTime=Wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Lu(t,Tg(n,{idToken:r}));$e(a?.users.length,n,"internal-error");const s=a.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VI(s.providerUserInfo):[],u=$V(t.providerData,l),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!u?.length,m=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new s2(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function zV(t){const e=jn(t);await Eg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $V(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function VI(t){return t.map(e=>{var{providerId:n}=e,r=Lj(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){const n=await BI(t,{},async()=>{const r=Mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await UI(t,a,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(h.credentials="include"),LI.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FV(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=xA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await qV(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new Nu;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&($e(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&($e(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,s=Lj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BV(this,e)}reload(){return zV(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Lu(this,LV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,s,l,u,h,f,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(a=n.email)!==null&&a!==void 0?a:void 0,j=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,T=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=n.createdAt)!==null&&f!==void 0?f:void 0,I=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:N,emailVerified:O,isAnonymous:D,providerData:M,stsTokenManager:C}=n;$e(N&&C,e,"internal-error");const R=Nu.fromJSON(this.name,C);$e(typeof N=="string",e,"internal-error"),go(g,e.name),go(y,e.name),$e(typeof O=="boolean",e,"internal-error"),$e(typeof D=="boolean",e,"internal-error"),go(j,e.name),go(w,e.name),go(S,e.name),go(T,e.name),go(E,e.name),go(I,e.name);const B=new za({uid:N,auth:e,email:y,emailVerified:O,displayName:g,isAnonymous:D,photoURL:w,phoneNumber:j,tenantId:S,stsTokenManager:R,createdAt:E,lastLoginAt:I});return M&&Array.isArray(M)&&(B.providerData=M.map($=>Object.assign({},$))),T&&(B._redirectEventId=T),B}static async _fromIdTokenResponse(e,n,r=!1){const a=new Nu;a.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Eg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];$e(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?VI(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new Nu;u.updateFromIdToken(r);const h=new za({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new s2(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function cs(t){Es(t instanceof Function,"Expected a class definition");let e=bA.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zI.type="NONE";const jA=zI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e,n){return`firebase:${t}:${e}:${n}`}class Cu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=ng(this.userKey,a.apiKey,s),this.fullPersistenceKey=ng("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tg(this.auth,{idToken:e}).catch(()=>{});return n?za._fromGetAccountInfoResponse(this.auth,n,e):null}return za._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cu(cs(jA),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=a[0]||cs(jA);const l=ng(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const y=await Tg(e,{idToken:m}).catch(()=>{});if(!y)break;g=await za._fromGetAccountInfoResponse(e,y,m)}else g=za._fromJSON(e,m);f!==s&&(u=g),s=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Cu(s,e,r):(s=h[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Cu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GI(e))return"Blackberry";if(WI(e))return"Webos";if(qI(e))return"Safari";if((e.includes("chrome/")||FI(e))&&!e.includes("edge/"))return"Chrome";if(KI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $I(t=pr()){return/firefox\//i.test(t)}function qI(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FI(t=pr()){return/crios\//i.test(t)}function HI(t=pr()){return/iemobile/i.test(t)}function KI(t=pr()){return/android/i.test(t)}function GI(t=pr()){return/blackberry/i.test(t)}function WI(t=pr()){return/webos/i.test(t)}function zj(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HV(t=pr()){var e;return zj(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KV(){return sU()&&document.documentMode===10}function YI(t=pr()){return zj(t)||KI(t)||WI(t)||GI(t)||/windows phone/i.test(t)||HI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e=[]){let n;switch(t){case"Browser":n=wA(pr());break;case"Worker":n=`${wA(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const h=e(s);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",Yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=6;class XV{constructor(e){var n,r,a,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:YV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,s,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _A(this),this.idTokenSubscription=new _A(this),this.beforeStateQueue=new GV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tg(this,{idToken:e}),r=await za._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=a?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(a=h.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(ps(this));const n=e?jn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WV(this),n=new XV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Df("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&EV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function vc(t){return jn(t)}class _A{constructor(e){this.auth=e,this.observer=null,this.addObserver=mU(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZV(t){Pv=t}function QI(t){return Pv.loadJS(t)}function JV(){return Pv.recaptchaEnterpriseScript}function ez(){return Pv.gapiScript}function tz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nz{constructor(){this.enterprise=new rz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const az="recaptcha-enterprise",ZI="NO_RECAPTCHA";class iz{constructor(e){this.type=az,this.auth=vc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{MV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new DV(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function a(s,l,u){const h=window.grecaptcha;yA(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(ZI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nz().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!n&&yA(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=JV();h.length!==0&&(h+=u),QI(h).then(()=>{a(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function SA(t,e,n,r=!1,a=!1){const s=new iz(t);let l;if(a)l=ZI;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function o2(t,e,n,r,a){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await SA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await SA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e){const n=kv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(ac(s,e??{}))return a;Fa(a,"already-initialized")}return n.initialize({options:e})}function oz(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lz(t,e,n){const r=vc(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=JI(e),{host:l,port:u}=cz(e),h=u===null?"":`:${u}`,f={url:`${s}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(ac(f,r.config.emulator)&&ac(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,pc(l)?(kj(`${s}//${l}${h}`),Pj("Auth",!0)):uz()}function JI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cz(t){const e=JI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:TA(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:TA(l)}}}function TA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function dz(t,e){return Ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){return Bf(t,"POST","/v1/accounts:signInWithPassword",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return Bf(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}async function mz(t,e){return Bf(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends $j{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new lf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o2(e,n,"signInWithPassword",hz);case"emailLink":return fz(e,{email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o2(e,r,"signUpPassword",dz);case"emailLink":return mz(e,{idToken:n,email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e){return Bf(t,"POST","/v1/accounts:signInWithIdp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz="http://localhost";class sc extends $j{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,s=Lj(n,["providerId","signInMethod"]);if(!r||!a)return null;const l=new sc(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ou(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ou(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ou(e,n)}buildRequest(){const e={requestUri:pz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vz(t){const e=Lh(Bh(t)).link,n=e?Lh(Bh(e)).deep_link_id:null,r=Lh(Bh(t)).deep_link_id;return(r?Lh(Bh(r)).link:null)||r||n||e||t}class qj{constructor(e){var n,r,a,s,l,u;const h=Lh(Bh(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,g=gz((a=h.mode)!==null&&a!==void 0?a:null);$e(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=vz(e);try{return new qj(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.providerId=rd.PROVIDER_ID}static credential(e,n){return lf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qj.parseLink(n);return $e(r,"argument-error"),lf._fromEmailAndCode(e,r.code,r.tenantId)}}rd.PROVIDER_ID="password";rd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends ek{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Uf{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sc._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jo.credential(n,r)}catch{return null}}}jo.GOOGLE_SIGN_IN_METHOD="google.com";jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Uf{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Uf{constructor(){super("twitter.com")}static credential(e,n){return sc._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e){return Bf(t,"POST","/v1/accounts:signUp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await za._fromIdTokenResponse(e,r,a),l=EA(r);return new oc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=EA(r);return new oc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function EA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends ki{constructor(e,n,r,a){var s;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ag(e,n,r,a)}}function tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ag._fromErrorAndOperation(t,s,e,r):s})}async function xz(t,e,n=!1){const r=await Lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(ps(r));const a="reauthenticate";try{const s=await Lu(t,tk(r,a,e,t),n);$e(s.idToken,r,"internal-error");const l=Vj(s.idToken);$e(l,r,"internal-error");const{sub:u}=l;return $e(t.uid===u,r,"user-mismatch"),oc._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&Fa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e,n=!1){if(Wr(t.app))return Promise.reject(ps(t));const r="signIn",a=await tk(t,r,e),s=await oc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function jz(t,e){return nk(vc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t){const e=vc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fj(t,e,n){if(Wr(t.app))return Promise.reject(ps(t));const r=vc(t),l=await o2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yz).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&rk(t),h}),u=await oc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function wz(t,e,n){return Wr(t.app)?Promise.reject(ps(t)):jz(jn(t),rd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){return Ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=jn(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Lu(r,_z(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Sz(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function Tz(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}function Ez(t,e,n,r){return jn(t).onAuthStateChanged(e,n,r)}function ik(t){return jn(t).signOut()}const Ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ng,"1"),this.storage.removeItem(Ng),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=1e3,Nz=10;class ok extends sk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);KV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Nz):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ok.type="LOCAL";const Cz=ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends sk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lk.type="SESSION";const ck=lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async f=>f(n.origin,s)),h=await Oz(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,h)=>{const f=Hj("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function kz(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function Pz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rz(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Dz(){return uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="firebaseLocalStorageDb",Mz=1,Cg="firebaseLocalStorage",hk="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dv(t,e){return t.transaction([Cg],e?"readwrite":"readonly").objectStore(Cg)}function Lz(){const t=indexedDB.deleteDatabase(dk);return new Vf(t).toPromise()}function l2(){const t=indexedDB.open(dk,Mz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cg,{keyPath:hk})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cg)?e(r):(r.close(),await Lz(),e(await l2()))})})}async function AA(t,e,n){const r=Dv(t,!0).put({[hk]:e,value:n});return new Vf(r).toPromise()}async function Bz(t,e){const n=Dv(t,!1).get(e),r=await new Vf(n).toPromise();return r===void 0?null:r.value}function NA(t,e){const n=Dv(t,!0).delete(e);return new Vf(n).toPromise()}const Uz=800,Vz=3;class fk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Vz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(Dz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Pz(),!this.activeServiceWorker)return;this.sender=new Iz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l2();return await AA(e,Ng,"1"),await NA(e,Ng),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Dv(a,!1).getAll();return new Vf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fk.type="LOCAL";const zz=fk;new Lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e){return e?cs(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj extends $j{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ou(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ou(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ou(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qz(t){return nk(t.auth,new Kj(t),t.bypassAuthState)}function Fz(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),bz(n,new Kj(t),t.bypassAuthState)}async function Hz(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),xz(n,new Kj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qz;case"linkViaPopup":case"linkViaRedirect":return Hz;case"reauthViaPopup":case"reauthViaRedirect":return Fz;default:Fa(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=new Lf(2e3,1e4);class Tu extends mk{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=Hj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kz.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="pendingRedirect",rg=new Map;class Wz extends mk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rg.get(this.auth._key());if(!e){try{const r=await Yz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rg.set(this.auth._key(),e)}return this.bypassAuthState||rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yz(t,e){const n=Zz(e),r=Qz(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Xz(t,e){rg.set(t._key(),e)}function Qz(t){return cs(t._redirectPersistence)}function Zz(t){return ng(Gz,t.config.apiKey,t.name)}async function Jz(t,e,n=!1){if(Wr(t.app))return Promise.reject(ps(t));const r=vc(t),a=$z(r,e),l=await new Wz(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=10*60*1e3;class t${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pk(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e$&&this.cachedEventUids.clear(),this.cachedEventUids.has(CA(e))}saveEventToCache(e){this.cachedEventUids.add(CA(e)),this.lastProcessedEventTime=Date.now()}}function CA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i$=/^https?/;async function s$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r$(t);for(const n of e)try{if(o$(n))return}catch{}Fa(t,"unauthorized-domain")}function o$(t){const e=i2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!i$.test(n))return!1;if(a$.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new Lf(3e4,6e4);function OA(){const t=yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c$(t){return new Promise((e,n)=>{var r,a,s;function l(){OA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OA(),n(vi(t,"network-request-failed"))},timeout:l$.get()})}if(!((a=(r=yi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=yi().gapi)===null||s===void 0)&&s.load)l();else{const u=tz("iframefcb");return yi()[u]=()=>{gapi.load?l():n(vi(t,"network-request-failed"))},QI(`${ez()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw ag=null,e})}let ag=null;function u$(t){return ag=ag||c$(t),ag}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=new Lf(5e3,15e3),h$="__/auth/iframe",f$="emulator/auth/iframe",m$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g$(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uj(e,f$):`https://${t.config.authDomain}/${h$}`,r={apiKey:e.apiKey,appName:t.name,v:gc},a=p$.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mf(r).slice(1)}`}async function v$(t){const e=await u$(t),n=yi().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:g$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m$,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=vi(t,"network-request-failed"),u=yi().setTimeout(()=>{s(l)},d$.get());function h(){yi().clearTimeout(u),a(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x$=500,b$=600,j$="_blank",w$="http://localhost";class IA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _$(t,e,n,r=x$,a=b$){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},y$),{width:r.toString(),height:a.toString(),top:s,left:l}),f=pr().toLowerCase();n&&(u=FI(f)?j$:n),$I(f)&&(e=e||w$,h.scrollbars="yes");const m=Object.entries(h).reduce((y,[j,w])=>`${y}${j}=${w},`,"");if(HV(f)&&u!=="_self")return S$(e||"",u),new IA(null);const g=window.open(e||"",u,m);$e(g,t,"popup-blocked");try{g.focus()}catch{}return new IA(g)}function S$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="__/auth/handler",E$="emulator/auth/handler",A$=encodeURIComponent("fac");async function kA(t,e,n,r,a,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gc,eventId:a};if(e instanceof ek){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",fU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Uf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${A$}=${encodeURIComponent(h)}`:"";return`${N$(t)}?${Mf(u).slice(1)}${f}`}function N$({config:t}){return t.emulator?Uj(t,E$):`https://${t.authDomain}/${T$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="webStorageSupport";class C${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ck,this._completeRedirectFn=Jz,this._overrideRedirectResult=Xz}async _openPopup(e,n,r,a){var s;Es((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await kA(e,n,r,i2(),a);return _$(e,l,Hj())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await kA(e,n,r,i2(),a);return kz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Es(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v$(e),r=new t$(e);return n.register("authEvent",a=>($e(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ix,{type:ix},a=>{var s;const l=(s=a?.[0])===null||s===void 0?void 0:s[ix];l!==void 0&&n(!!l),Fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YI()||qI()||zj()}}const O$=C$;var PA="@firebase/auth",RA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P$(t){ic(new Mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XI(t)},f=new QV(r,a,s,h);return oz(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ic(new Mo("auth-internal",e=>{const n=vc(e.getProvider("auth").getImmediate());return(r=>new I$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(PA,RA,k$(t)),gi(PA,RA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=5*60,D$=AI("authIdTokenMaxAge")||R$;let DA=null;const M$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D$)return;const a=n?.token;DA!==a&&(DA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gk(t=Mj()){const e=kv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sz(t,{popupRedirectResolver:O$,persistence:[zz,Cz,ck]}),r=AI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=M$(s.toString());Tz(n,l,()=>l(n.currentUser)),Sz(n,u=>l(u))}}const a=SI("auth");return a&&lz(n,`http://${a}`),n}function L$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=vi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",L$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P$("Browser");var B$="firebase",U$="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(B$,U$,"app");var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ko,vk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function B(){}B.prototype=R.prototype,C.D=R.prototype,C.prototype=new B,C.prototype.constructor=C,C.C=function($,L,U){for(var z=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)z[xe-2]=arguments[xe];return R.prototype[L].apply($,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,B){B||(B=0);var $=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)$[L]=R.charCodeAt(B++)|R.charCodeAt(B++)<<8|R.charCodeAt(B++)<<16|R.charCodeAt(B++)<<24;else for(L=0;16>L;++L)$[L]=R[B++]|R[B++]<<8|R[B++]<<16|R[B++]<<24;R=C.g[0],B=C.g[1],L=C.g[2];var U=C.g[3],z=R+(U^B&(L^U))+$[0]+3614090360&4294967295;R=B+(z<<7&4294967295|z>>>25),z=U+(L^R&(B^L))+$[1]+3905402710&4294967295,U=R+(z<<12&4294967295|z>>>20),z=L+(B^U&(R^B))+$[2]+606105819&4294967295,L=U+(z<<17&4294967295|z>>>15),z=B+(R^L&(U^R))+$[3]+3250441966&4294967295,B=L+(z<<22&4294967295|z>>>10),z=R+(U^B&(L^U))+$[4]+4118548399&4294967295,R=B+(z<<7&4294967295|z>>>25),z=U+(L^R&(B^L))+$[5]+1200080426&4294967295,U=R+(z<<12&4294967295|z>>>20),z=L+(B^U&(R^B))+$[6]+2821735955&4294967295,L=U+(z<<17&4294967295|z>>>15),z=B+(R^L&(U^R))+$[7]+4249261313&4294967295,B=L+(z<<22&4294967295|z>>>10),z=R+(U^B&(L^U))+$[8]+1770035416&4294967295,R=B+(z<<7&4294967295|z>>>25),z=U+(L^R&(B^L))+$[9]+2336552879&4294967295,U=R+(z<<12&4294967295|z>>>20),z=L+(B^U&(R^B))+$[10]+4294925233&4294967295,L=U+(z<<17&4294967295|z>>>15),z=B+(R^L&(U^R))+$[11]+2304563134&4294967295,B=L+(z<<22&4294967295|z>>>10),z=R+(U^B&(L^U))+$[12]+1804603682&4294967295,R=B+(z<<7&4294967295|z>>>25),z=U+(L^R&(B^L))+$[13]+4254626195&4294967295,U=R+(z<<12&4294967295|z>>>20),z=L+(B^U&(R^B))+$[14]+2792965006&4294967295,L=U+(z<<17&4294967295|z>>>15),z=B+(R^L&(U^R))+$[15]+1236535329&4294967295,B=L+(z<<22&4294967295|z>>>10),z=R+(L^U&(B^L))+$[1]+4129170786&4294967295,R=B+(z<<5&4294967295|z>>>27),z=U+(B^L&(R^B))+$[6]+3225465664&4294967295,U=R+(z<<9&4294967295|z>>>23),z=L+(R^B&(U^R))+$[11]+643717713&4294967295,L=U+(z<<14&4294967295|z>>>18),z=B+(U^R&(L^U))+$[0]+3921069994&4294967295,B=L+(z<<20&4294967295|z>>>12),z=R+(L^U&(B^L))+$[5]+3593408605&4294967295,R=B+(z<<5&4294967295|z>>>27),z=U+(B^L&(R^B))+$[10]+38016083&4294967295,U=R+(z<<9&4294967295|z>>>23),z=L+(R^B&(U^R))+$[15]+3634488961&4294967295,L=U+(z<<14&4294967295|z>>>18),z=B+(U^R&(L^U))+$[4]+3889429448&4294967295,B=L+(z<<20&4294967295|z>>>12),z=R+(L^U&(B^L))+$[9]+568446438&4294967295,R=B+(z<<5&4294967295|z>>>27),z=U+(B^L&(R^B))+$[14]+3275163606&4294967295,U=R+(z<<9&4294967295|z>>>23),z=L+(R^B&(U^R))+$[3]+4107603335&4294967295,L=U+(z<<14&4294967295|z>>>18),z=B+(U^R&(L^U))+$[8]+1163531501&4294967295,B=L+(z<<20&4294967295|z>>>12),z=R+(L^U&(B^L))+$[13]+2850285829&4294967295,R=B+(z<<5&4294967295|z>>>27),z=U+(B^L&(R^B))+$[2]+4243563512&4294967295,U=R+(z<<9&4294967295|z>>>23),z=L+(R^B&(U^R))+$[7]+1735328473&4294967295,L=U+(z<<14&4294967295|z>>>18),z=B+(U^R&(L^U))+$[12]+2368359562&4294967295,B=L+(z<<20&4294967295|z>>>12),z=R+(B^L^U)+$[5]+4294588738&4294967295,R=B+(z<<4&4294967295|z>>>28),z=U+(R^B^L)+$[8]+2272392833&4294967295,U=R+(z<<11&4294967295|z>>>21),z=L+(U^R^B)+$[11]+1839030562&4294967295,L=U+(z<<16&4294967295|z>>>16),z=B+(L^U^R)+$[14]+4259657740&4294967295,B=L+(z<<23&4294967295|z>>>9),z=R+(B^L^U)+$[1]+2763975236&4294967295,R=B+(z<<4&4294967295|z>>>28),z=U+(R^B^L)+$[4]+1272893353&4294967295,U=R+(z<<11&4294967295|z>>>21),z=L+(U^R^B)+$[7]+4139469664&4294967295,L=U+(z<<16&4294967295|z>>>16),z=B+(L^U^R)+$[10]+3200236656&4294967295,B=L+(z<<23&4294967295|z>>>9),z=R+(B^L^U)+$[13]+681279174&4294967295,R=B+(z<<4&4294967295|z>>>28),z=U+(R^B^L)+$[0]+3936430074&4294967295,U=R+(z<<11&4294967295|z>>>21),z=L+(U^R^B)+$[3]+3572445317&4294967295,L=U+(z<<16&4294967295|z>>>16),z=B+(L^U^R)+$[6]+76029189&4294967295,B=L+(z<<23&4294967295|z>>>9),z=R+(B^L^U)+$[9]+3654602809&4294967295,R=B+(z<<4&4294967295|z>>>28),z=U+(R^B^L)+$[12]+3873151461&4294967295,U=R+(z<<11&4294967295|z>>>21),z=L+(U^R^B)+$[15]+530742520&4294967295,L=U+(z<<16&4294967295|z>>>16),z=B+(L^U^R)+$[2]+3299628645&4294967295,B=L+(z<<23&4294967295|z>>>9),z=R+(L^(B|~U))+$[0]+4096336452&4294967295,R=B+(z<<6&4294967295|z>>>26),z=U+(B^(R|~L))+$[7]+1126891415&4294967295,U=R+(z<<10&4294967295|z>>>22),z=L+(R^(U|~B))+$[14]+2878612391&4294967295,L=U+(z<<15&4294967295|z>>>17),z=B+(U^(L|~R))+$[5]+4237533241&4294967295,B=L+(z<<21&4294967295|z>>>11),z=R+(L^(B|~U))+$[12]+1700485571&4294967295,R=B+(z<<6&4294967295|z>>>26),z=U+(B^(R|~L))+$[3]+2399980690&4294967295,U=R+(z<<10&4294967295|z>>>22),z=L+(R^(U|~B))+$[10]+4293915773&4294967295,L=U+(z<<15&4294967295|z>>>17),z=B+(U^(L|~R))+$[1]+2240044497&4294967295,B=L+(z<<21&4294967295|z>>>11),z=R+(L^(B|~U))+$[8]+1873313359&4294967295,R=B+(z<<6&4294967295|z>>>26),z=U+(B^(R|~L))+$[15]+4264355552&4294967295,U=R+(z<<10&4294967295|z>>>22),z=L+(R^(U|~B))+$[6]+2734768916&4294967295,L=U+(z<<15&4294967295|z>>>17),z=B+(U^(L|~R))+$[13]+1309151649&4294967295,B=L+(z<<21&4294967295|z>>>11),z=R+(L^(B|~U))+$[4]+4149444226&4294967295,R=B+(z<<6&4294967295|z>>>26),z=U+(B^(R|~L))+$[11]+3174756917&4294967295,U=R+(z<<10&4294967295|z>>>22),z=L+(R^(U|~B))+$[2]+718787259&4294967295,L=U+(z<<15&4294967295|z>>>17),z=B+(U^(L|~R))+$[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(L+(z<<21&4294967295|z>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var B=R-this.blockSize,$=this.B,L=this.h,U=0;U<R;){if(L==0)for(;U<=B;)a(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<R;)if($[L++]=C.charCodeAt(U++),L==this.blockSize){a(this,$),L=0;break}}else for(;U<R;)if($[L++]=C[U++],L==this.blockSize){a(this,$),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var B=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=B&255,B/=256;for(this.u(C),C=Array(16),R=B=0;4>R;++R)for(var $=0;32>$;$+=8)C[B++]=this.g[R]>>>$&255;return C};function s(C,R){var B=u;return Object.prototype.hasOwnProperty.call(B,C)?B[C]:B[C]=R(C)}function l(C,R){this.h=R;for(var B=[],$=!0,L=C.length-1;0<=L;L--){var U=C[L]|0;$&&U==R||(B[L]=U,$=!1)}this.g=B}var u={};function h(C){return-128<=C&&128>C?s(C,function(R){return new l([R|0],0>R?-1:0)}):new l([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return T(f(-C));for(var R=[],B=1,$=0;C>=B;$++)R[$]=C/B|0,B*=4294967296;return new l(R,0)}function m(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return T(m(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=f(Math.pow(R,8)),$=g,L=0;L<C.length;L+=8){var U=Math.min(8,C.length-L),z=parseInt(C.substring(L,L+U),R);8>U?(U=f(Math.pow(R,U)),$=$.j(U).add(f(z))):($=$.j(B),$=$.add(f(z)))}return $}var g=h(0),y=h(1),j=h(16777216);t=l.prototype,t.m=function(){if(S(this))return-T(this).m();for(var C=0,R=1,B=0;B<this.g.length;B++){var $=this.i(B);C+=(0<=$?$:4294967296+$)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(S(this))return"-"+T(this).toString(C);for(var R=f(Math.pow(C,6)),B=this,$="";;){var L=O(B,R).g;B=E(B,L.j(R));var U=((0<B.g.length?B.g[0]:B.h)>>>0).toString(C);if(B=L,w(B))return U+$;for(;6>U.length;)U="0"+U;$=U+$}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=E(this,C),S(C)?-1:w(C)?0:1};function T(C){for(var R=C.g.length,B=[],$=0;$<R;$++)B[$]=~C.g[$];return new l(B,~C.h).add(y)}t.abs=function(){return S(this)?T(this):this},t.add=function(C){for(var R=Math.max(this.g.length,C.g.length),B=[],$=0,L=0;L<=R;L++){var U=$+(this.i(L)&65535)+(C.i(L)&65535),z=(U>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);$=z>>>16,U&=65535,z&=65535,B[L]=z<<16|U}return new l(B,B[B.length-1]&-2147483648?-1:0)};function E(C,R){return C.add(T(R))}t.j=function(C){if(w(this)||w(C))return g;if(S(this))return S(C)?T(this).j(T(C)):T(T(this).j(C));if(S(C))return T(this.j(T(C)));if(0>this.l(j)&&0>C.l(j))return f(this.m()*C.m());for(var R=this.g.length+C.g.length,B=[],$=0;$<2*R;$++)B[$]=0;for($=0;$<this.g.length;$++)for(var L=0;L<C.g.length;L++){var U=this.i($)>>>16,z=this.i($)&65535,xe=C.i(L)>>>16,ce=C.i(L)&65535;B[2*$+2*L]+=z*ce,I(B,2*$+2*L),B[2*$+2*L+1]+=U*ce,I(B,2*$+2*L+1),B[2*$+2*L+1]+=z*xe,I(B,2*$+2*L+1),B[2*$+2*L+2]+=U*xe,I(B,2*$+2*L+2)}for($=0;$<R;$++)B[$]=B[2*$+1]<<16|B[2*$];for($=R;$<2*R;$++)B[$]=0;return new l(B,0)};function I(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function N(C,R){this.g=C,this.h=R}function O(C,R){if(w(R))throw Error("division by zero");if(w(C))return new N(g,g);if(S(C))return R=O(T(C),R),new N(T(R.g),T(R.h));if(S(R))return R=O(C,T(R)),new N(T(R.g),R.h);if(30<C.g.length){if(S(C)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var B=y,$=R;0>=$.l(C);)B=D(B),$=D($);var L=M(B,1),U=M($,1);for($=M($,2),B=M(B,2);!w($);){var z=U.add($);0>=z.l(C)&&(L=L.add(B),U=z),$=M($,1),B=M(B,1)}return R=E(C,L.j(R)),new N(L,R)}for(L=g;0<=C.l(R);){for(B=Math.max(1,Math.floor(C.m()/R.m())),$=Math.ceil(Math.log(B)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),U=f(B),z=U.j(R);S(z)||0<z.l(C);)B-=$,U=f(B),z=U.j(R);w(U)&&(U=y),L=L.add(U),C=E(C,z)}return new N(L,C)}t.A=function(C){return O(this,C).h},t.and=function(C){for(var R=Math.max(this.g.length,C.g.length),B=[],$=0;$<R;$++)B[$]=this.i($)&C.i($);return new l(B,this.h&C.h)},t.or=function(C){for(var R=Math.max(this.g.length,C.g.length),B=[],$=0;$<R;$++)B[$]=this.i($)|C.i($);return new l(B,this.h|C.h)},t.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),B=[],$=0;$<R;$++)B[$]=this.i($)^C.i($);return new l(B,this.h^C.h)};function D(C){for(var R=C.g.length+1,B=[],$=0;$<R;$++)B[$]=C.i($)<<1|C.i($-1)>>>31;return new l(B,C.h)}function M(C,R){var B=R>>5;R%=32;for(var $=C.g.length-B,L=[],U=0;U<$;U++)L[U]=0<R?C.i(U+B)>>>R|C.i(U+B+1)<<32-R:C.i(U+B);return new l(L,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,ko=l}).apply(typeof MA<"u"?MA:typeof self<"u"?self:typeof window<"u"?window:{});var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yk,Uh,xk,ig,c2,bk,jk,wk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,A,k){return v==Array.prototype||v==Object.prototype||(v[A]=k.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ip=="object"&&Ip];for(var A=0;A<v.length;++A){var k=v[A];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function a(v,A){if(A)e:{var k=r;v=v.split(".");for(var q=0;q<v.length-1;q++){var J=v[q];if(!(J in k))break e;k=k[J]}v=v[v.length-1],q=k[v],A=A(q),A!=q&&A!=null&&e(k,v,{configurable:!0,writable:!0,value:A})}}function s(v,A){v instanceof String&&(v+="");var k=0,q=!1,J={next:function(){if(!q&&k<v.length){var oe=k++;return{value:A(oe,v[oe]),done:!1}}return q=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(v){return v||function(){return s(this,function(A,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(v){var A=typeof v;return A=A!="object"?A:v?Array.isArray(v)?"array":A:"null",A=="array"||A=="object"&&typeof v.length=="number"}function f(v){var A=typeof v;return A=="object"&&v!=null||A=="function"}function m(v,A,k){return v.call.apply(v.bind,arguments)}function g(v,A,k){if(!v)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,q),v.apply(A,J)}}return function(){return v.apply(A,arguments)}}function y(v,A,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function j(v,A){var k=Array.prototype.slice.call(arguments,1);return function(){var q=k.slice();return q.push.apply(q,arguments),v.apply(this,q)}}function w(v,A){function k(){}k.prototype=A.prototype,v.aa=A.prototype,v.prototype=new k,v.prototype.constructor=v,v.Qb=function(q,J,oe){for(var je=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)je[ut-2]=arguments[ut];return A.prototype[J].apply(q,je)}}function S(v){const A=v.length;if(0<A){const k=Array(A);for(let q=0;q<A;q++)k[q]=v[q];return k}return[]}function T(v,A){for(let k=1;k<arguments.length;k++){const q=arguments[k];if(h(q)){const J=v.length||0,oe=q.length||0;v.length=J+oe;for(let je=0;je<oe;je++)v[J+je]=q[je]}else v.push(q)}}class E{constructor(A,k){this.i=A,this.j=k,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function I(v){return/^[\s\xa0]*$/.test(v)}function N(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function O(v){return O[" "](v),v}O[" "]=function(){};var D=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function M(v,A,k){for(const q in v)A.call(k,v[q],q,v)}function C(v,A){for(const k in v)A.call(void 0,v[k],k,v)}function R(v){const A={};for(const k in v)A[k]=v[k];return A}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(v,A){let k,q;for(let J=1;J<arguments.length;J++){q=arguments[J];for(k in q)v[k]=q[k];for(let oe=0;oe<B.length;oe++)k=B[oe],Object.prototype.hasOwnProperty.call(q,k)&&(v[k]=q[k])}}function L(v){var A=1;v=v.split(":");const k=[];for(;0<A&&v.length;)k.push(v.shift()),A--;return v.length&&k.push(v.join(":")),k}function U(v){u.setTimeout(()=>{throw v},0)}function z(){var v=Se;let A=null;return v.g&&(A=v.g,v.g=v.g.next,v.g||(v.h=null),A.next=null),A}class xe{constructor(){this.h=this.g=null}add(A,k){const q=ce.get();q.set(A,k),this.h?this.h.next=q:this.g=q,this.h=q}}var ce=new E(()=>new X,v=>v.reset());class X{constructor(){this.next=this.g=this.h=null}set(A,k){this.h=A,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ge=!1,Se=new xe,H=()=>{const v=u.Promise.resolve(void 0);se=()=>{v.then(ae)}};var ae=()=>{for(var v;v=z();){try{v.h.call(v.g)}catch(k){U(k)}var A=ce;A.j(v),100>A.h&&(A.h++,v.next=A.g,A.g=v)}ge=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(v,A){this.type=v,this.g=this.target=A,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,A=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const k=()=>{};u.addEventListener("test",k,A),u.removeEventListener("test",k,A)}catch{}return v}();function Q(v,A){if(G.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var k=this.type=v.type,q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=A,A=v.relatedTarget){if(D){e:{try{O(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else k=="mouseover"?A=v.fromElement:k=="mouseout"&&(A=v.toElement);this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:fe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Q.aa.h.call(this)}}w(Q,G);var fe={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Me=0;function be(v,A,k,q,J){this.listener=v,this.proxy=null,this.src=A,this.type=k,this.capture=!!q,this.ha=J,this.key=++Me,this.da=this.fa=!1}function Be(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function le(v){this.src=v,this.g={},this.h=0}le.prototype.add=function(v,A,k,q,J){var oe=v.toString();v=this.g[oe],v||(v=this.g[oe]=[],this.h++);var je=Te(v,A,q,J);return-1<je?(A=v[je],k||(A.fa=!1)):(A=new be(A,this.src,oe,!!q,J),A.fa=k,v.push(A)),A};function Z(v,A){var k=A.type;if(k in v.g){var q=v.g[k],J=Array.prototype.indexOf.call(q,A,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(q,J,1),oe&&(Be(A),v.g[k].length==0&&(delete v.g[k],v.h--))}}function Te(v,A,k,q){for(var J=0;J<v.length;++J){var oe=v[J];if(!oe.da&&oe.listener==A&&oe.capture==!!k&&oe.ha==q)return J}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ue={};function Re(v,A,k,q,J){if(Array.isArray(A)){for(var oe=0;oe<A.length;oe++)Re(v,A[oe],k,q,J);return null}return k=aa(k),v&&v[Ae]?v.K(A,k,f(q)?!!q.capture:!1,J):Qe(v,A,k,!1,q,J)}function Qe(v,A,k,q,J,oe){if(!A)throw Error("Invalid event type");var je=f(J)?!!J.capture:!!J,ut=At(v);if(ut||(v[we]=ut=new le(v)),k=ut.add(A,k,q,je,oe),k.proxy)return k;if(q=un(),k.proxy=q,q.src=v,q.listener=k,v.addEventListener)ve||(J=je),J===void 0&&(J=!1),v.addEventListener(A.toString(),q,J);else if(v.attachEvent)v.attachEvent(_e(A.toString()),q);else if(v.addListener&&v.removeListener)v.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function un(){function v(k){return A.call(v.src,v.listener,k)}const A=ct;return v}function Pe(v,A,k,q,J){if(Array.isArray(A))for(var oe=0;oe<A.length;oe++)Pe(v,A[oe],k,q,J);else q=f(q)?!!q.capture:!!q,k=aa(k),v&&v[Ae]?(v=v.i,A=String(A).toString(),A in v.g&&(oe=v.g[A],k=Te(oe,k,q,J),-1<k&&(Be(oe[k]),Array.prototype.splice.call(oe,k,1),oe.length==0&&(delete v.g[A],v.h--)))):v&&(v=At(v))&&(A=v.g[A.toString()],v=-1,A&&(v=Te(A,k,q,J)),(k=-1<v?A[v]:null)&&Ge(k))}function Ge(v){if(typeof v!="number"&&v&&!v.da){var A=v.src;if(A&&A[Ae])Z(A.i,v);else{var k=v.type,q=v.proxy;A.removeEventListener?A.removeEventListener(k,q,v.capture):A.detachEvent?A.detachEvent(_e(k),q):A.addListener&&A.removeListener&&A.removeListener(q),(k=At(A))?(Z(k,v),k.h==0&&(k.src=null,A[we]=null)):Be(v)}}}function _e(v){return v in Ue?Ue[v]:Ue[v]="on"+v}function ct(v,A){if(v.da)v=!0;else{A=new Q(A,this);var k=v.listener,q=v.ha||v.src;v.fa&&Ge(v),v=k.call(q,A)}return v}function At(v){return v=v[we],v instanceof le?v:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function aa(v){return typeof v=="function"?v:(v[wn]||(v[wn]=function(A){return v.handleEvent(A)}),v[wn])}function Zt(){F.call(this),this.i=new le(this),this.M=this,this.F=null}w(Zt,F),Zt.prototype[Ae]=!0,Zt.prototype.removeEventListener=function(v,A,k,q){Pe(this,v,A,k,q)};function wt(v,A){var k,q=v.F;if(q)for(k=[];q;q=q.F)k.push(q);if(v=v.M,q=A.type||A,typeof A=="string")A=new G(A,v);else if(A instanceof G)A.target=A.target||v;else{var J=A;A=new G(q,v),$(A,J)}if(J=!0,k)for(var oe=k.length-1;0<=oe;oe--){var je=A.g=k[oe];J=Rr(je,q,!0,A)&&J}if(je=A.g=v,J=Rr(je,q,!0,A)&&J,J=Rr(je,q,!1,A)&&J,k)for(oe=0;oe<k.length;oe++)je=A.g=k[oe],J=Rr(je,q,!1,A)&&J}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var v=this.i,A;for(A in v.g){for(var k=v.g[A],q=0;q<k.length;q++)Be(k[q]);delete v.g[A],v.h--}}this.F=null},Zt.prototype.K=function(v,A,k,q){return this.i.add(String(v),A,!1,k,q)},Zt.prototype.L=function(v,A,k,q){return this.i.add(String(v),A,!0,k,q)};function Rr(v,A,k,q){if(A=v.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,oe=0;oe<A.length;++oe){var je=A[oe];if(je&&!je.da&&je.capture==k){var ut=je.listener,Sn=je.ha||je.src;je.fa&&Z(v.i,je),J=ut.call(Sn,q)!==!1&&J}}return J&&!q.defaultPrevented}function ar(v,A,k){if(typeof v=="function")k&&(v=y(v,k));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(v,A||0)}function om(v){v.g=ar(()=>{v.g=null,v.i&&(v.i=!1,om(v))},v.l);const A=v.h;v.h=null,v.m.apply(null,A)}class Ky extends F{constructor(A,k){super(),this.m=A,this.l=k,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:om(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(v){F.call(this),this.h=v,this.g={}}w(sl,F);var ol=[];function ll(v){M(v.g,function(A,k){this.g.hasOwnProperty(k)&&Ge(A)},v),v.g={}}sl.prototype.N=function(){sl.aa.N.call(this),ll(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=u.JSON.stringify,Nc=u.JSON.parse,cl=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function xd(){}xd.prototype.h=null;function bd(v){return v.h||(v.h=v.i())}function jd(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){G.call(this,"d")}w(Di,G);function wd(){G.call(this,"c")}w(wd,G);var Qa={},_d=null;function zs(){return _d=_d||new Zt}Qa.La="serverreachability";function Cc(v){G.call(this,Qa.La,v)}w(Cc,G);function $s(v){const A=zs();wt(A,new Cc(A))}Qa.STAT_EVENT="statevent";function lm(v,A){G.call(this,Qa.STAT_EVENT,v),this.stat=A}w(lm,G);function $t(v){const A=zs();wt(A,new lm(A,v))}Qa.Ma="timingevent";function _n(v,A){G.call(this,Qa.Ma,v),this.size=A}w(_n,G);function dn(v,A){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},A)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Sd(v,A,k,q,J,oe){v.info(function(){if(v.g)if(oe)for(var je="",ut=oe.split("&"),Sn=0;Sn<ut.length;Sn++){var dt=ut[Sn].split("=");if(1<dt.length){var Rn=dt[0];dt=dt[1];var Tn=Rn.split("_");je=2<=Tn.length&&Tn[1]=="type"?je+(Rn+"="+dt+"&"):je+(Rn+"=redacted&")}}else je=null;else je=oe;return"XMLHTTP REQ ("+q+") [attempt "+J+"]: "+A+`
`+k+`
`+je})}function Gy(v,A,k,q,J,oe,je){v.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+J+"]: "+A+`
`+k+`
`+oe+" "+je})}function qs(v,A,k,q){v.info(function(){return"XMLHTTP TEXT ("+A+"): "+ul(v,k)+(q?" "+q:"")})}function cm(v,A){v.info(function(){return"TIMEOUT: "+A})}ia.prototype.info=function(){};function ul(v,A){if(!v.g)return A;if(!A)return null;try{var k=JSON.parse(A);if(k){for(v=0;v<k.length;v++)if(Array.isArray(k[v])){var q=k[v];if(!(2>q.length)){var J=q[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var je=1;je<J.length;je++)J[je]=""}}}}return ka(k)}catch{return A}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Za;function Ja(){}w(Ja,xd),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},Za=new Ja;function vr(v,A,k,q){this.j=v,this.i=A,this.l=k,this.R=q||1,this.U=new sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var Td={},Oc={};function Pa(v,A,k){v.L=1,v.v=pl(Dr(A)),v.m=k,v.P=!0,Li(v,null)}function Li(v,A){v.F=Date.now(),dl(v),v.A=Dr(v.v);var k=v.A,q=v.R;Array.isArray(q)||(q=[String(q)]),Id(k.i,"t",q),v.C=0,k=v.j.J,v.h=new nn,v.g=Tm(v.j,k?A:null,!v.m),0<v.O&&(v.M=new Ky(y(v.Y,v,v.g),v.O)),A=v.U,k=v.g,q=v.ca;var J="readystatechange";Array.isArray(J)||(J&&(ol[0]=J.toString()),J=ol);for(var oe=0;oe<J.length;oe++){var je=Re(k,J[oe],q||A.handleEvent,!1,A.h||A);if(!je)break;A.g[je.key]=je}A=v.H?R(v.H):{},v.m?(v.u||(v.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,A)):(v.u="GET",v.g.ea(v.A,v.u,null,A)),$s(),Sd(v.i,v.u,v.A,v.l,v.R,v.m)}vr.prototype.ca=function(v){v=v.target;const A=this.M;A&&ca(v)==3?A.j():this.Y(v)},vr.prototype.Y=function(v){try{if(v==this.g)e:{const Tn=ca(this.g);var A=this.g.Ba();const Hi=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||vm(this.g)))){this.J||Tn!=4||A==7||(A==8||0>=Hi?$s(3):$s(2)),Hs(this);var k=this.g.Z();this.X=k;t:if(um(this)){var q=vm(this.g);v="";var J=q.length,oe=ca(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),ei(this);var je="";break t}this.h.i=new u.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,v+=this.h.i.decode(q[A],{stream:!(oe&&A==J-1)});q.length=0,this.h.g+=v,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=k==200,Gy(this.i,this.u,this.A,this.l,this.R,Tn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Sn=this.g;if((ut=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ut)){var dt=ut;break t}}dt=null}if(k=dt)qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hl(this,k);else{this.o=!1,this.s=3,$t(12),Kn(this),ei(this);break e}}if(this.P){k=!0;let Gn;for(;!this.J&&this.C<je.length;)if(Gn=dm(this,je),Gn==Oc){Tn==4&&(this.s=4,$t(14),k=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Td){this.s=4,$t(15),qs(this.i,this.l,je,"[Invalid Chunk]"),k=!1;break}else qs(this.i,this.l,Gn,null),hl(this,Gn);if(um(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||je.length!=0||this.h.h||(this.s=1,$t(16),k=!1),this.o=this.o&&k,!k)qs(this.i,this.l,je,"[Invalid Chunked Response]"),Kn(this),ei(this);else if(0<je.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),_l(Rn),Rn.M=!0,$t(11))}}else qs(this.i,this.l,je,null),hl(this,je);Tn==4&&Kn(this),this.o&&!this.J&&(Tn==4?wm(this.j,this):(this.o=!1,dl(this)))}else Zy(this.g),k==400&&0<je.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Kn(this),ei(this)}}}catch{}finally{}};function um(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function dm(v,A){var k=v.C,q=A.indexOf(`
`,k);return q==-1?Oc:(k=Number(A.substring(k,q)),isNaN(k)?Td:(q+=1,q+k>A.length?Oc:(A=A.slice(q,q+k),v.C=q+k,A)))}vr.prototype.cancel=function(){this.J=!0,Kn(this)};function dl(v){v.S=Date.now()+v.I,hm(v,v.I)}function hm(v,A){if(v.B!=null)throw Error("WatchDog timer not null");v.B=dn(y(v.ba,v),A)}function Hs(v){v.B&&(u.clearTimeout(v.B),v.B=null)}vr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(cm(this.i,this.A),this.L!=2&&($s(),$t(17)),Kn(this),this.s=2,ei(this)):hm(this,this.S-v)};function ei(v){v.j.G==0||v.J||wm(v.j,v)}function Kn(v){Hs(v);var A=v.M;A&&typeof A.ma=="function"&&A.ma(),v.M=null,ll(v.U),v.g&&(A=v.g,v.g=null,A.abort(),A.ma())}function hl(v,A){try{var k=v.j;if(k.G!=0&&(k.g==v||Ed(k.h,v))){if(!v.K&&Ed(k.h,v)&&k.G==3){try{var q=k.Da.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var J=q;if(J[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<v.F)$c(k),Vc(k);else break e;Md(k),$t(18)}}else k.za=J[1],0<k.za-k.T&&37500>J[2]&&k.F&&k.v==0&&!k.C&&(k.C=dn(y(k.Za,k),6e3));if(1>=kc(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Fi(k,11)}else if((v.K||k.g==v)&&$c(k),!I(A))for(J=k.Da.g.parse(A),A=0;A<J.length;A++){let dt=J[A];if(k.T=dt[0],dt=dt[1],k.G==2)if(dt[0]=="c"){k.K=dt[1],k.ia=dt[2];const Rn=dt[3];Rn!=null&&(k.la=Rn,k.j.info("VER="+k.la));const Tn=dt[4];Tn!=null&&(k.Aa=Tn,k.j.info("SVER="+k.Aa));const Hi=dt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(q=1.5*Hi,k.L=q,k.j.info("backChannelRequestTimeoutMs_="+q)),q=k;const Gn=v.g;if(Gn){const oi=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var oe=q.h;oe.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Pc(oe,oe.h),oe.h=null))}if(q.D){const Bd=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bd&&(q.ya=Bd,Nt(q.I,q.D,Bd))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-v.F,k.j.info("Handshake RTT: "+k.R+"ms")),q=k;var je=v;if(q.qa=Sm(q,q.J?q.ia:null,q.W),je.K){yr(q.h,je);var ut=je,Sn=q.L;Sn&&(ut.I=Sn),ut.B&&(Hs(ut),dl(ut)),q.g=je}else bm(q);0<k.i.length&&zc(k)}else dt[0]!="stop"&&dt[0]!="close"||Fi(k,7);else k.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Fi(k,7):Rd(k):dt[0]!="noop"&&k.l&&k.l.ta(dt),k.v=0)}}$s(4)}catch{}}var fm=class{constructor(v,A){this.g=v,this.map=A}};function Bi(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ic(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function kc(v){return v.h?1:v.g?v.g.size:0}function Ed(v,A){return v.h?v.h==A:v.g?v.g.has(A):!1}function Pc(v,A){v.g?v.g.add(A):v.h=A}function yr(v,A){v.h&&v.h==A?v.h=null:v.g&&v.g.has(A)&&v.g.delete(A)}Bi.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ad(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let A=v.i;for(const k of v.g.values())A=A.concat(k.D);return A}return S(v.i)}function Wy(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(h(v)){for(var A=[],k=v.length,q=0;q<k;q++)A.push(v[q]);return A}A=[],k=0;for(q in v)A[k++]=v[q];return A}function Rc(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(h(v)||typeof v=="string"){var A=[];v=v.length;for(var k=0;k<v;k++)A.push(k);return A}A=[],k=0;for(const q in v)A[k++]=q;return A}}}function Nd(v,A){if(v.forEach&&typeof v.forEach=="function")v.forEach(A,void 0);else if(h(v)||typeof v=="string")Array.prototype.forEach.call(v,A,void 0);else for(var k=Rc(v),q=Wy(v),J=q.length,oe=0;oe<J;oe++)A.call(void 0,q[oe],k&&k[oe],v)}var fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yy(v,A){if(v){v=v.split("&");for(var k=0;k<v.length;k++){var q=v[k].indexOf("="),J=null;if(0<=q){var oe=v[k].substring(0,q);J=v[k].substring(q+1)}else oe=v[k];A(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function hn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof hn){this.h=v.h,ml(this,v.j),this.o=v.o,this.g=v.g,Ks(this,v.s),this.l=v.l;var A=v.i,k=new Vi;k.i=A.i,A.g&&(k.g=new Map(A.g),k.h=A.h),Ui(this,k),this.m=v.m}else v&&(A=String(v).match(fl))?(this.h=!1,ml(this,A[1]||"",!0),this.o=sa(A[2]||""),this.g=sa(A[3]||"",!0),Ks(this,A[4]),this.l=sa(A[5]||"",!0),Ui(this,A[6]||"",!0),this.m=sa(A[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}hn.prototype.toString=function(){var v=[],A=this.j;A&&v.push(gl(A,Cd,!0),":");var k=this.g;return(k||A=="file")&&(v.push("//"),(A=this.o)&&v.push(gl(A,Cd,!0),"@"),v.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&v.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&v.push("/"),v.push(gl(k,k.charAt(0)=="/"?Xy:Od,!0))),(k=this.i.toString())&&v.push("?",k),(k=this.m)&&v.push("#",gl(k,Dc)),v.join("")};function Dr(v){return new hn(v)}function ml(v,A,k){v.j=k?sa(A,!0):A,v.j&&(v.j=v.j.replace(/:$/,""))}function Ks(v,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);v.s=A}else v.s=null}function Ui(v,A,k){A instanceof Vi?(v.i=A,pm(v.i,v.h)):(k||(A=gl(A,Qy)),v.i=new Vi(A,v.h))}function Nt(v,A,k){v.i.set(A,k)}function pl(v){return Nt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function sa(v,A){return v?A?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function gl(v,A,k){return typeof v=="string"?(v=encodeURI(v).replace(A,mm),k&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function mm(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Cd=/[#\/\?@]/g,Od=/[#\?:]/g,Xy=/[#\?]/g,Qy=/[#\?@]/g,Dc=/#/g;function Vi(v,A){this.h=this.g=null,this.i=v||null,this.j=!!A}function oa(v){v.g||(v.g=new Map,v.h=0,v.i&&Yy(v.i,function(A,k){v.add(decodeURIComponent(A.replace(/\+/g," ")),k)}))}t=Vi.prototype,t.add=function(v,A){oa(this),this.i=null,v=ti(this,v);var k=this.g.get(v);return k||this.g.set(v,k=[]),k.push(A),this.h+=1,this};function zi(v,A){oa(v),A=ti(v,A),v.g.has(A)&&(v.i=null,v.h-=v.g.get(A).length,v.g.delete(A))}function $i(v,A){return oa(v),A=ti(v,A),v.g.has(A)}t.forEach=function(v,A){oa(this),this.g.forEach(function(k,q){k.forEach(function(J){v.call(A,J,q,this)},this)},this)},t.na=function(){oa(this);const v=Array.from(this.g.values()),A=Array.from(this.g.keys()),k=[];for(let q=0;q<A.length;q++){const J=v[q];for(let oe=0;oe<J.length;oe++)k.push(A[q])}return k},t.V=function(v){oa(this);let A=[];if(typeof v=="string")$i(this,v)&&(A=A.concat(this.g.get(ti(this,v))));else{v=Array.from(this.g.values());for(let k=0;k<v.length;k++)A=A.concat(v[k])}return A},t.set=function(v,A){return oa(this),this.i=null,v=ti(this,v),$i(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[A]),this.h+=1,this},t.get=function(v,A){return v?(v=this.V(v),0<v.length?String(v[0]):A):A};function Id(v,A,k){zi(v,A),0<k.length&&(v.i=null,v.g.set(ti(v,A),S(k)),v.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],A=Array.from(this.g.keys());for(var k=0;k<A.length;k++){var q=A[k];const oe=encodeURIComponent(String(q)),je=this.V(q);for(q=0;q<je.length;q++){var J=oe;je[q]!==""&&(J+="="+encodeURIComponent(String(je[q]))),v.push(J)}}return this.i=v.join("&")};function ti(v,A){return A=String(A),v.j&&(A=A.toLowerCase()),A}function pm(v,A){A&&!v.j&&(oa(v),v.i=null,v.g.forEach(function(k,q){var J=q.toLowerCase();q!=J&&(zi(this,q),Id(this,J,k))},v)),v.j=A}function vl(v,A){const k=new ia;if(u.Image){const q=new Image;q.onload=j(la,k,"TestLoadImage: loaded",!0,A,q),q.onerror=j(la,k,"TestLoadImage: error",!1,A,q),q.onabort=j(la,k,"TestLoadImage: abort",!1,A,q),q.ontimeout=j(la,k,"TestLoadImage: timeout",!1,A,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=v}else A(!1)}function Ra(v,A){const k=new ia,q=new AbortController,J=setTimeout(()=>{q.abort(),la(k,"TestPingServer: timeout",!1,A)},1e4);fetch(v,{signal:q.signal}).then(oe=>{clearTimeout(J),oe.ok?la(k,"TestPingServer: ok",!0,A):la(k,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),la(k,"TestPingServer: error",!1,A)})}function la(v,A,k,q,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),q(k)}catch{}}function yl(){this.g=new cl}function ni(v,A,k){const q=k||"";try{Nd(v,function(J,oe){let je=J;f(J)&&(je=ka(J)),A.push(q+oe+"="+encodeURIComponent(je))})}catch(J){throw A.push(q+"type="+encodeURIComponent("_badmap")),J}}function Gs(v){this.l=v.Ub||null,this.j=v.eb||!1}w(Gs,xd),Gs.prototype.g=function(){return new qi(this.l,this.j)},Gs.prototype.i=function(v){return function(){return v}}({});function qi(v,A){Zt.call(this),this.D=v,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(qi,Zt),t=qi.prototype,t.open=function(v,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=A,this.readyState=1,ai(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(A.body=v),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kd(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function kd(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var A=v.value?v.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!v.done}))&&(this.response=this.responseText+=A)}v.done?ri(this):ai(this),this.readyState==3&&kd(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,ri(this))},t.Qa=function(v){this.g&&(this.response=v,ri(this))},t.ga=function(){this.g&&ri(this)};function ri(v){v.readyState=4,v.l=null,v.j=null,v.v=null,ai(v)}t.setRequestHeader=function(v,A){this.u.append(v,A)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],A=this.h.entries();for(var k=A.next();!k.done;)k=k.value,v.push(k[0]+": "+k[1]),k=A.next();return v.join(`\r
`)};function ai(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Pd(v){let A="";return M(v,function(k,q){A+=q,A+=":",A+=k,A+=`\r
`}),A}function Pn(v,A,k){e:{for(q in k){var q=!1;break e}q=!0}q||(k=Pd(k),typeof v=="string"?k!=null&&encodeURIComponent(String(k)):Nt(v,A,k))}function bt(v){Zt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(bt,Zt);var Mc=/^https?$/i,xl=["POST","PUT"];t=bt.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,A,k,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);A=A?A.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Za.g(),this.v=this.o?bd(this.o):bd(Za),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(v),!0),this.B=!1}catch(oe){gm(this,oe);return}if(v=k||"",k=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var J in q)k.set(J,q[J]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const oe of q.keys())k.set(oe,q.get(oe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(k.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(xl,A,void 0))||q||J||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,je]of k)this.g.setRequestHeader(oe,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bl(this),this.u=!0,this.g.send(v),this.u=!1}catch(oe){gm(this,oe)}};function gm(v,A){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=A,v.m=5,Lc(v),ii(v)}function Lc(v){v.A||(v.A=!0,wt(v,"complete"),wt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,wt(this,"complete"),wt(this,"abort"),ii(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bc(this):this.bb())},t.bb=function(){Bc(this)};function Bc(v){if(v.h&&typeof l<"u"&&(!v.v[1]||ca(v)!=4||v.Z()!=2)){if(v.u&&ca(v)==4)ar(v.Ea,0,v);else if(wt(v,"readystatechange"),ca(v)==4){v.h=!1;try{const je=v.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var k;if(!(k=A)){var q;if(q=je===0){var J=String(v.D).match(fl)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),q=!Mc.test(J?J.toLowerCase():"")}k=q}if(k)wt(v,"complete"),wt(v,"success");else{v.m=6;try{var oe=2<ca(v)?v.g.statusText:""}catch{oe=""}v.l=oe+" ["+v.Z()+"]",Lc(v)}}finally{ii(v)}}}}function ii(v,A){if(v.g){bl(v);const k=v.g,q=v.v[0]?()=>{}:null;v.g=null,v.v=null,A||wt(v,"ready");try{k.onreadystatechange=q}catch{}}}function bl(v){v.I&&(u.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function ca(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<ca(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var A=this.g.responseText;return v&&A.indexOf(v)==0&&(A=A.substring(v.length)),Nc(A)}};function vm(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(v){const A={};v=(v.g&&2<=ca(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<v.length;q++){if(I(v[q]))continue;var k=L(v[q]);const J=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const oe=A[J]||[];A[J]=oe,oe.push(k)}C(A,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(v,A,k){return k&&k.internalChannelParams&&k.internalChannelParams[v]||A}function Uc(v){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,v),this.cb=jl("retryDelaySeedMs",1e4,v),this.Wa=jl("forwardChannelMaxRetries",2,v),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(v&&v.concurrentRequestLimit),this.Da=new yl,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uc.prototype,t.la=8,t.G=1,t.connect=function(v,A,k,q){$t(0),this.W=v,this.H=A||{},k&&q!==void 0&&(this.H.OSID=k,this.H.OAID=q),this.F=this.X,this.I=Sm(this,null,this.W),zc(this)};function Rd(v){if(ym(v),v.G==3){var A=v.U++,k=Dr(v.I);if(Nt(k,"SID",v.K),Nt(k,"RID",A),Nt(k,"TYPE","terminate"),wl(v,k),A=new vr(v,v.j,A),A.L=2,A.v=pl(Dr(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=A.v,k=!0),k||(A.g=Tm(A.j,null),A.g.ea(A.v)),A.F=Date.now(),dl(A)}_m(v)}function Vc(v){v.g&&(_l(v),v.g.cancel(),v.g=null)}function ym(v){Vc(v),v.u&&(u.clearTimeout(v.u),v.u=null),$c(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function zc(v){if(!Ic(v.h)&&!v.s){v.s=!0;var A=v.Ga;se||H(),ge||(se(),ge=!0),Se.add(A,v),v.B=0}}function Jy(v,A){return kc(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=A.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=dn(y(v.Ga,v,A),Ld(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const J=new vr(this,this.j,v);let oe=this.o;if(this.S&&(oe?(oe=R(oe),$(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var A=0,k=0;k<this.i.length;k++){t:{var q=this.i[k];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,4096<A){A=k;break e}if(A===4096||k===this.i.length-1){A=k+1;break e}}A=1e3}else A=1e3;A=xm(this,J,A),k=Dr(this.I),Nt(k,"RID",v),Nt(k,"CVER",22),this.D&&Nt(k,"X-HTTP-Session-Id",this.D),wl(this,k),oe&&(this.O?A="headers="+encodeURIComponent(String(Pd(oe)))+"&"+A:this.m&&Pn(k,this.m,oe)),Pc(this.h,J),this.Ua&&Nt(k,"TYPE","init"),this.P?(Nt(k,"$req",A),Nt(k,"SID","null"),J.T=!0,Pa(J,k,null)):Pa(J,k,A),this.G=2}}else this.G==3&&(v?Dd(this,v):this.i.length==0||Ic(this.h)||Dd(this))};function Dd(v,A){var k;A?k=A.l:k=v.U++;const q=Dr(v.I);Nt(q,"SID",v.K),Nt(q,"RID",k),Nt(q,"AID",v.T),wl(v,q),v.m&&v.o&&Pn(q,v.m,v.o),k=new vr(v,v.j,k,v.B+1),v.m===null&&(k.H=v.o),A&&(v.i=A.D.concat(v.i)),A=xm(v,k,1e3),k.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Pc(v.h,k),Pa(k,q,A)}function wl(v,A){v.H&&M(v.H,function(k,q){Nt(A,q,k)}),v.l&&Nd({},function(k,q){Nt(A,q,k)})}function xm(v,A,k){k=Math.min(v.i.length,k);var q=v.l?y(v.l.Na,v.l,v):null;e:{var J=v.i;let oe=-1;for(;;){const je=["count="+k];oe==-1?0<k?(oe=J[0].g,je.push("ofs="+oe)):oe=0:je.push("ofs="+oe);let ut=!0;for(let Sn=0;Sn<k;Sn++){let dt=J[Sn].g;const Rn=J[Sn].map;if(dt-=oe,0>dt)oe=Math.max(0,J[Sn].g-100),ut=!1;else try{ni(Rn,je,"req"+dt+"_")}catch{q&&q(Rn)}}if(ut){q=je.join("&");break e}}}return v=v.i.splice(0,k),A.D=v,q}function bm(v){if(!v.g&&!v.u){v.Y=1;var A=v.Fa;se||H(),ge||(se(),ge=!0),Se.add(A,v),v.v=0}}function Md(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=dn(y(v.Fa,v),Ld(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,jm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=dn(y(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Vc(this),jm(this))};function _l(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function jm(v){v.g=new vr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var A=Dr(v.qa);Nt(A,"RID","rpc"),Nt(A,"SID",v.K),Nt(A,"AID",v.T),Nt(A,"CI",v.F?"0":"1"),!v.F&&v.ja&&Nt(A,"TO",v.ja),Nt(A,"TYPE","xmlhttp"),wl(v,A),v.m&&v.o&&Pn(A,v.m,v.o),v.L&&(v.g.I=v.L);var k=v.g;v=v.ia,k.L=1,k.v=pl(Dr(A)),k.m=null,k.P=!0,Li(k,v)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),Md(this),$t(19))};function $c(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function wm(v,A){var k=null;if(v.g==A){$c(v),_l(v),v.g=null;var q=2}else if(Ed(v.h,A))k=A.D,yr(v.h,A),q=1;else return;if(v.G!=0){if(A.o)if(q==1){k=A.m?A.m.length:0,A=Date.now()-A.F;var J=v.B;q=zs(),wt(q,new _n(q,k)),zc(v)}else bm(v);else if(J=A.s,J==3||J==0&&0<A.X||!(q==1&&Jy(v,A)||q==2&&Md(v)))switch(k&&0<k.length&&(A=v.h,A.i=A.i.concat(k)),J){case 1:Fi(v,5);break;case 4:Fi(v,10);break;case 3:Fi(v,6);break;default:Fi(v,2)}}}function Ld(v,A){let k=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(k*=2),k*A}function Fi(v,A){if(v.j.info("Error code "+A),A==2){var k=y(v.fb,v),q=v.Xa;const J=!q;q=new hn(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ml(q,"https"),pl(q),J?vl(q.toString(),k):Ra(q.toString(),k)}else $t(2);v.G=0,v.l&&v.l.sa(A),_m(v),ym(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function _m(v){if(v.G=0,v.ka=[],v.l){const A=Ad(v.h);(A.length!=0||v.i.length!=0)&&(T(v.ka,A),T(v.ka,v.i),v.h.i.length=0,S(v.i),v.i.length=0),v.l.ra()}}function Sm(v,A,k){var q=k instanceof hn?Dr(k):new hn(k);if(q.g!="")A&&(q.g=A+"."+q.g),Ks(q,q.s);else{var J=u.location;q=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var oe=new hn(null);q&&ml(oe,q),A&&(oe.g=A),J&&Ks(oe,J),k&&(oe.l=k),q=oe}return k=v.D,A=v.ya,k&&A&&Nt(q,k,A),Nt(q,"VER",v.la),wl(v,q),q}function Tm(v,A,k){if(A&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=v.Ca&&!v.pa?new bt(new Gs({eb:k})):new bt(v.pa),A.Ha(v.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Em(){}t=Em.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qc(){}qc.prototype.g=function(v,A){return new xr(v,A)};function xr(v,A){Zt.call(this),this.g=new Uc(A),this.l=v,this.h=A&&A.messageUrlParams||null,v=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(v?v["X-WebChannel-Content-Type"]=A.messageContentType:v={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(v?v["X-WebChannel-Client-Profile"]=A.va:v={"X-WebChannel-Client-Profile":A.va}),this.g.S=v,(v=A&&A.Sb)&&!I(v)&&(this.g.m=v),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!I(A)&&(this.g.D=A,v=this.h,v!==null&&A in v&&(v=this.h,A in v&&delete v[A])),this.j=new si(this)}w(xr,Zt),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){Rd(this.g)},xr.prototype.o=function(v){var A=this.g;if(typeof v=="string"){var k={};k.__data__=v,v=k}else this.u&&(k={},k.__data__=ka(v),v=k);A.i.push(new fm(A.Ya++,v)),A.G==3&&zc(A)},xr.prototype.N=function(){this.g.l=null,delete this.j,Rd(this.g),delete this.g,xr.aa.N.call(this)};function Am(v){Di.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var A=v.__sm__;if(A){e:{for(const k in A){v=k;break e}v=void 0}(this.i=v)&&(v=this.i,A=A!==null&&v in A?A[v]:void 0),this.data=A}else this.data=v}w(Am,Di);function Nm(){wd.call(this),this.status=1}w(Nm,wd);function si(v){this.g=v}w(si,Em),si.prototype.ua=function(){wt(this.g,"a")},si.prototype.ta=function(v){wt(this.g,new Am(v))},si.prototype.sa=function(v){wt(this.g,new Nm)},si.prototype.ra=function(){wt(this.g,"b")},qc.prototype.createWebChannel=qc.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,wk=function(){return new qc},jk=function(){return zs()},bk=Qa,c2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,ig=Fs,Mi.COMPLETE="complete",xk=Mi,jd.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Uh=jd,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,yk=bt}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});const LA="@firebase/firestore",BA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Rj("@firebase/firestore");function bu(){return lc.logLevel}function Ne(t,...e){if(lc.logLevel<=ot.DEBUG){const n=e.map(Gj);lc.debug(`Firestore (${ad}): ${t}`,...n)}}function As(t,...e){if(lc.logLevel<=ot.ERROR){const n=e.map(Gj);lc.error(`Firestore (${ad}): ${t}`,...n)}}function Lo(t,...e){if(lc.logLevel<=ot.WARN){const n=e.map(Gj);lc.warn(`Firestore (${ad}): ${t}`,...n)}}function Gj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_k(t,r,n)}function _k(t,e,n){let r=`FIRESTORE (${ad}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw As(r),new Error(r)}function jt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||_k(e,a,r)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cr.UNAUTHENTICATED))}shutdown(){}}class z${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $${constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},u=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new Sk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new cr(e)}}class q${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){jt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const a=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=K$(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function u2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Je(r,a);{const s=Tk(),l=G$(s.encode(VA(t,n)),s.encode(VA(e,n)));return l!==0?l:Je(r,a)}}n+=r>65535?2:1}return Je(t.length,e.length)}function VA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function G$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function Bu(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="__name__";class mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=mi.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return Je(e.length,n.length)}static compareSegments(e,n){const r=mi.isNumericId(e),a=mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?mi.extractNumericId(e).compare(mi.extractNumericId(n)):u2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ko.fromString(e.substring(4,e.length-2))}}class Bt extends mi{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const W$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends mi{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return W$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zA}static keyField(){return new tr([zA])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Ee(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ee(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new Ee(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Bt.fromString(e))}static fromName(e){return new Le(Bt.fromString(e).popFirst(5))}static empty(){return new Le(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e,n){if(!n)throw new Ee(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y$(t,e,n,r){if(e===!0&&r===!0)throw new Ee(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $A(t){if(!Le.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qA(t){if(Le.isDocumentKey(t))throw new Ee(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ak(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new Ee(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e){const n={typeString:t};return e&&(n.value=e),n}function zf(t,e){if(!Ak(t))throw new Ee(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ee(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=-62135596800,HA=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HA);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FA)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HA}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zf(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:yn("string",zt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new zt(0,0))}static max(){return new He(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=-1;function X$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=He.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Bo(a,Le.empty(),e)}function Q$(t){return new Bo(t.readTime,t.key,cf)}class Bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bo(He.min(),Le.empty(),cf)}static max(){return new Bo(He.max(),Le.empty(),cf)}}function Z$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==J$)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,r)=>{n(e)})}static reject(e){return new pe((n,r)=>{r(e)})}static waitFor(e){return new pe((n,r)=>{let a=0,s=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++s,l&&s===a&&n()},h=>r(h))}),l=!0,s===a&&n()})}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next(a=>a?pe.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,s)=>{r.push(n.call(this,a,s))}),this.waitFor(r)}static mapArray(e,n){return new pe((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++u,u===s&&r(l)},m=>a(m))}})}static doWhile(e,n){return new pe((r,a)=>{const s=()=>{e()===!0?n().next(()=>{s()},a):r()};s()})}}function tq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Lv.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=-1;function Bv(t){return t==null}function Og(t){return t===0&&1/t==-1/0}function nq(t){return typeof t=="number"&&Number.isInteger(t)&&!Og(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="";function rq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KA(e)),e=aq(t.get(n),e);return KA(e)}function aq(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case Nk:n+="";break;default:n+=s}}return n}function KA(t){return t+Nk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kp(this.root,e,this.comparator,!0)}}class kp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=a??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Zn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Zn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WA(this.data.getIterator())}getIteratorFrom(e){return new WA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class WA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new On(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ok("Invalid base64 string: "+s):s}}(e);return new nr(n)}static fromUint8Array(e){const n=function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(jt(!!t,39018),typeof t=="string"){let e=0;const n=iq.exec(t);if(jt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="server_timestamp",kk="__type__",Pk="__previous_value__",Rk="__local_write_time__";function Xj(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kk])===null||n===void 0?void 0:n.stringValue)===Ik}function Uv(t){const e=t.mapValue.fields[Pk];return Xj(e)?Uv(e):e}function uf(t){const e=Uo(t.mapValue.fields[Rk].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,a,s,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Ig="(default)";class df{constructor(e,n){this.projectId=e,this.database=n||Ig}static empty(){return new df("","")}get isDefaultDatabase(){return this.database===Ig}isEqual(e){return e instanceof df&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="__type__",oq="__max__",Pp={mapValue:{}},Mk="__vector__",kg="value";function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xj(t)?4:cq(t)?9007199254740991:lq(t)?10:11:qe(28295,{value:t})}function Si(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uf(t).isEqual(uf(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=Uo(a.timestampValue),u=Uo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return Vo(a.bytesValue).isEqual(Vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return sn(a.geoPointValue.latitude)===sn(s.geoPointValue.latitude)&&sn(a.geoPointValue.longitude)===sn(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return sn(a.integerValue)===sn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=sn(a.doubleValue),u=sn(s.doubleValue);return l===u?Og(l)===Og(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Bu(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(GA(l)!==GA(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Si(l[h],u[h])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function hf(t,e){return(t.values||[]).find(n=>Si(n,e))!==void 0}function Uu(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,l){const u=sn(s.integerValue||s.doubleValue),h=sn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return YA(t.timestampValue,e.timestampValue);case 4:return YA(uf(t),uf(e));case 5:return u2(t.stringValue,e.stringValue);case 6:return function(s,l){const u=Vo(s),h=Vo(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Je(u[f],h[f]);if(m!==0)return m}return Je(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Je(sn(s.latitude),sn(l.latitude));return u!==0?u:Je(sn(s.longitude),sn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XA(t.arrayValue,e.arrayValue);case 10:return function(s,l){var u,h,f,m;const g=s.fields||{},y=l.fields||{},j=(u=g[kg])===null||u===void 0?void 0:u.arrayValue,w=(h=y[kg])===null||h===void 0?void 0:h.arrayValue,S=Je(((f=j?.values)===null||f===void 0?void 0:f.length)||0,((m=w?.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:XA(j,w)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Pp.mapValue&&l===Pp.mapValue)return 0;if(s===Pp.mapValue)return 1;if(l===Pp.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const y=u2(h[g],m[g]);if(y!==0)return y;const j=Uu(u[h[g]],f[m[g]]);if(j!==0)return j}return Je(h.length,m.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{le:n})}}function YA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Uo(t),r=Uo(e),a=Je(n.seconds,r.seconds);return a!==0?a:Je(n.nanos,r.nanos)}function XA(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Uu(n[a],r[a]);if(s)return s}return Je(n.length,r.length)}function Vu(t){return d2(t)}function d2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=d2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${d2(n.fields[l])}`;return a+"}"}(t.mapValue):qe(61005,{value:t})}function sg(t){switch(zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uv(t);return e?16+sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,s)=>a+sg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Xo(r.fields,(s,l)=>{a+=s.length+sg(l)}),a}(t.mapValue);default:throw qe(13486,{value:t})}}function QA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h2(t){return!!t&&"integerValue"in t}function Qj(t){return!!t&&"arrayValue"in t}function ZA(t){return!!t&&"nullValue"in t}function JA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function lq(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dk])===null||n===void 0?void 0:n.stringValue)===Mk}function Yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yh(n)}setAll(e){let n=tr.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=u.popLast()}l?r[u.lastSegment()]=Yh(l):a.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];og(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(a,s)=>e[a]=s);for(const a of r)delete e[a]}clone(){return new Cr(Yh(this.value))}}function Lk(t){const e=[];return Xo(t.fields,(n,r)=>{const a=new tr([n]);if(og(r)){const s=Lk(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,a,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ur(e,0,He.min(),He.min(),He.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,a){return new ur(e,1,n,He.min(),r,a,0)}static newNoDocument(e,n){return new ur(e,2,n,He.min(),He.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,He.min(),He.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.position=e,this.inclusive=n}}function eN(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),n.key):r=Uu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n="asc"){this.field=e,this.dir=n}}function uq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{}class vn extends Bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hq(e,n,r):n==="array-contains"?new pq(e,r):n==="in"?new gq(e,r):n==="not-in"?new vq(e,r):n==="array-contains-any"?new yq(e,r):new vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fq(e,r):new mq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uu(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(Uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ka extends Bk{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ka(e,n)}matches(e){return Uk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uk(t){return t.op==="and"}function Vk(t){return dq(t)&&Uk(t)}function dq(t){for(const e of t.filters)if(e instanceof Ka)return!1;return!0}function f2(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+Vu(t.value);if(Vk(t))return t.filters.map(e=>f2(e)).join(",");{const e=t.filters.map(n=>f2(n)).join(",");return`${t.op}(${e})`}}function zk(t,e){return t instanceof vn?function(r,a){return a instanceof vn&&r.op===a.op&&r.field.isEqual(a.field)&&Si(r.value,a.value)}(t,e):t instanceof Ka?function(r,a){return a instanceof Ka&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((s,l,u)=>s&&zk(l,a.filters[u]),!0):!1}(t,e):void qe(19439)}function $k(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${Vu(n.value)}`}(t):t instanceof Ka?function(n){return n.op.toString()+" {"+n.getFilters().map($k).join(" ,")+"}"}(t):"Filter"}class hq extends vn{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class fq extends vn{constructor(e,n){super(e,"in",n),this.keys=qk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mq extends vn{constructor(e,n){super(e,"not-in",n),this.keys=qk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class pq extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qj(n)&&hf(n.arrayValue,this.value)}}class gq extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hf(this.value.arrayValue,n)}}class vq extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hf(this.value.arrayValue,n)}}class yq extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qj(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Pe=null}}function nN(t,e=null,n=[],r=[],a=null,s=null,l=null){return new xq(t,e,n,r,a,s,l)}function Zj(t){const e=Ke(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>f2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vu(r)).join(",")),e.Pe=n}return e.Pe}function Jj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tN(t.startAt,e.startAt)&&tN(t.endAt,e.endAt)}function m2(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n=null,r=[],a=[],s=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function bq(t,e,n,r,a,s,l,u){return new od(t,e,n,r,a,s,l,u)}function ew(t){return new od(t)}function rN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fk(t){return t.collectionGroup!==null}function Xh(t){const e=Ke(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new On(tr.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new ff(s,r))}),n.has(tr.keyField().canonicalString())||e.Te.push(new ff(tr.keyField(),r))}return e.Te}function xi(t){const e=Ke(t);return e.Ie||(e.Ie=jq(e,Xh(t))),e.Ie}function jq(t,e){if(t.limitType==="F")return nN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new ff(a.field,s)});const n=t.endAt?new Pg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pg(t.startAt.position,t.startAt.inclusive):null;return nN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p2(t,e){const n=t.filters.concat([e]);return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function g2(t,e,n){return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vv(t,e){return Jj(xi(t),xi(e))&&t.limitType===e.limitType}function Hk(t){return`${Zj(xi(t))}|lt:${t.limitType}`}function ju(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>$k(a)).join(", ")}]`),Bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Vu(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Vu(a)).join(",")),`Target(${r})`}(xi(t))}; limitType=${t.limitType})`}function zv(t,e){return e.isFoundDocument()&&function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,a){for(const s of Xh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(l,u,h){const f=eN(l,u,h);return l.inclusive?f<=0:f<0}(r.startAt,Xh(r),a)||r.endAt&&!function(l,u,h){const f=eN(l,u,h);return l.inclusive?f>=0:f>0}(r.endAt,Xh(r),a))}(t,e)}function wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kk(t){return(e,n)=>{let r=!1;for(const a of Xh(t)){const s=_q(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function _q(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(s,l,u){const h=l.data.field(s),f=u.data.field(s);return h!==null&&f!==null?Uu(h,f):qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[a,s]of r)e(a,s)})}isEmpty(){return Ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=new Yt(Le.comparator);function Ns(){return Sq}const Gk=new Yt(Le.comparator);function Vh(...t){let e=Gk;for(const n of t)e=e.insert(n.key,n);return e}function Wk(t){let e=Gk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fl(){return Qh()}function Yk(){return Qh()}function Qh(){return new yc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tq=new Yt(Le.comparator),Eq=new On(Le.comparator);function lt(...t){let e=Eq;for(const n of t)e=e.add(n);return e}const Aq=new On(Je);function Nq(){return Aq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Og(e)?"-0":e}}function Xk(t){return{integerValue:""+t}}function Cq(t,e){return nq(e)?Xk(e):tw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this._=void 0}}function Oq(t,e,n){return t instanceof mf?function(a,s){const l={fields:{[kk]:{stringValue:Ik},[Rk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&Xj(s)&&(s=Uv(s)),s&&(l.fields[Pk]=s),{mapValue:l}}(n,e):t instanceof pf?Zk(t,e):t instanceof gf?Jk(t,e):function(a,s){const l=Qk(a,s),u=aN(l)+aN(a.Ee);return h2(l)&&h2(a.Ee)?Xk(u):tw(a.serializer,u)}(t,e)}function Iq(t,e,n){return t instanceof pf?Zk(t,e):t instanceof gf?Jk(t,e):n}function Qk(t,e){return t instanceof Rg?function(r){return h2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mf extends $v{}class pf extends $v{constructor(e){super(),this.elements=e}}function Zk(t,e){const n=eP(e);for(const r of t.elements)n.some(a=>Si(a,r))||n.push(r);return{arrayValue:{values:n}}}class gf extends $v{constructor(e){super(),this.elements=e}}function Jk(t,e){let n=eP(e);for(const r of t.elements)n=n.filter(a=>!Si(a,r));return{arrayValue:{values:n}}}class Rg extends $v{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function aN(t){return sn(t.integerValue||t.doubleValue)}function eP(t){return Qj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n){this.field=e,this.transform=n}}function Pq(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof pf&&a instanceof pf||r instanceof gf&&a instanceof gf?Bu(r.elements,a.elements,Si):r instanceof Rg&&a instanceof Rg?Si(r.Ee,a.Ee):r instanceof mf&&a instanceof mf}(t.transform,e.transform)}class Rq{constructor(e,n){this.version=e,this.transformResults=n}}class Ta{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ta}static exists(e){return new Ta(void 0,e)}static updateTime(e){return new Ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qv{}function tP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nw(t.key,Ta.none()):new $f(t.key,t.data,Ta.none());{const n=t.data,r=Cr.empty();let a=new On(tr.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new Qo(t.key,r,new Xr(a.toArray()),Ta.none())}}function Dq(t,e,n){t instanceof $f?function(a,s,l){const u=a.value.clone(),h=sN(a.fieldTransforms,s,l.transformResults);u.setAll(h),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Qo?function(a,s,l){if(!lg(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=sN(a.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(nP(a)),h.setAll(u),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Zh(t,e,n,r){return t instanceof $f?function(s,l,u,h){if(!lg(s.precondition,l))return u;const f=s.value.clone(),m=oN(s.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qo?function(s,l,u,h){if(!lg(s.precondition,l))return u;const f=oN(s.fieldTransforms,h,l),m=l.data;return m.setAll(nP(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,l,u){return lg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function Mq(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=Qk(r.transform,a||null);s!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,s))}return n||null}function iN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bu(r,a,(s,l)=>Pq(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $f extends qv{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qo extends qv{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sN(t,e,n){const r=new Map;jt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,Iq(l,u,n[a]))}return r}function oN(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,Oq(s,l,e))}return r}class nw extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lq extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Dq(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yk();return this.mutations.forEach(a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(a.key)?null:u;const h=tP(l,u);h!==null&&r.set(a.key,h),l.isValidDocument()||l.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Bu(this.mutations,e.mutations,(n,r)=>iN(n,r))&&Bu(this.baseMutations,e.baseMutations,(n,r)=>iN(n,r))}}class rw{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){jt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=function(){return Tq}();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new rw(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,ft;function zq(t){switch(t){case he.OK:return qe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function rP(t){if(t===void 0)return As("GRPC error has no .code"),he.UNKNOWN;switch(t){case gn.OK:return he.OK;case gn.CANCELLED:return he.CANCELLED;case gn.UNKNOWN:return he.UNKNOWN;case gn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case gn.INTERNAL:return he.INTERNAL;case gn.UNAVAILABLE:return he.UNAVAILABLE;case gn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case gn.NOT_FOUND:return he.NOT_FOUND;case gn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case gn.ABORTED:return he.ABORTED;case gn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case gn.DATA_LOSS:return he.DATA_LOSS;default:return qe(39323,{code:t})}}(ft=gn||(gn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=new ko([4294967295,4294967295],0);function lN(t){const e=Tk().encode(t),n=new vk;return n.update(e),new Uint8Array(n.digest())}function cN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ko([n,r],0),new ko([a,s],0)]}class aw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zh(`Invalid padding: ${n}`);if(r<0)throw new zh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ko.fromNumber(this.fe)}pe(e,n,r){let a=e.add(n.multiply(ko.fromNumber(r)));return a.compare($q)===1&&(a=new ko([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=lN(e),[r,a]=cN(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,a,s);if(!this.ye(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new aw(s,a,n);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.fe===0)return;const n=lN(e),[r,a]=cN(n);for(let s=0;s<this.hashCount;s++){const l=this.pe(r,a,s);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fv(He.min(),a,new Yt(Je),Ns(),lt())}}class qf{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qf(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=a}}class aP{constructor(e,n){this.targetId=e,this.De=n}}class iP{constructor(e,n,r=nr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class uN{constructor(){this.ve=0,this.Ce=dN(),this.Fe=nr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=lt(),n=lt(),r=lt();return this.Ce.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:qe(38017,{changeType:s})}}),new qf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=dN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qq{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ns(),this.je=Rp(),this.Je=Rp(),this.He=new Yt(Je)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,r=e.De.count,a=this.st(n);if(a){const s=a.target;if(m2(s))if(r===0){const l=new Le(s.path);this.Xe(n,l,ur.newNoDocument(l,He.min()))}else jt(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const u=this._t(e),h=u?this.ut(u,e,l):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,u;try{l=Vo(r).toUint8Array()}catch(h){if(h instanceof Ok)return Lo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new aw(l,a,s)}catch(h){return Lo(h instanceof zh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach(s=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,s,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((s,l)=>{const u=this.st(l);if(u){if(s.current&&m2(u.target)){const h=new Le(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,ur.newNoDocument(h,e))}s.Ne&&(n.set(l,s.Le()),s.ke())}});let r=lt();this.Je.forEach((s,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ze.forEach((s,l)=>l.setReadTime(e));const a=new Fv(e,n,this.He,this.ze,r);return this.ze=Ns(),this.je=Rp(),this.Je=Rp(),this.He=new Yt(Je),a}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new uN,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new On(Je),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new On(Je),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uN),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Rp(){return new Yt(Le.comparator)}function dN(){return new Yt(Le.comparator)}const Fq={asc:"ASCENDING",desc:"DESCENDING"},Hq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kq={and:"AND",or:"OR"};class Gq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v2(t,e){return t.useProto3Json||Bv(e)?e:{value:e}}function Dg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wq(t,e){return Dg(t,e.toTimestamp())}function bi(t){return jt(!!t,49232),He.fromTimestamp(function(n){const r=Uo(n);return new zt(r.seconds,r.nanos)}(t))}function iw(t,e){return y2(t,e).canonicalString()}function y2(t,e){const n=function(a){return new Bt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oP(t){const e=Bt.fromString(t);return jt(hP(e),10190,{key:e.toString()}),e}function x2(t,e){return iw(t.databaseId,e.path)}function sx(t,e){const n=oP(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(cP(n))}function lP(t,e){return iw(t.databaseId,e)}function Yq(t){const e=oP(t);return e.length===4?Bt.emptyPath():cP(e)}function b2(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cP(t){return jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hN(t,e,n){return{name:x2(t,e),fields:n.value.mapValue.fields}}function Xq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(jt(m===void 0||typeof m=="string",58123),nr.fromBase64String(m||"")):(jt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),nr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?he.UNKNOWN:rP(f.code);return new Ee(m,f.message||"")}(l);n=new iP(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=sx(t,r.document.name),s=bi(r.document.updateTime),l=r.document.createTime?bi(r.document.createTime):He.min(),u=new Cr({mapValue:{fields:r.document.fields}}),h=ur.newFoundDocument(a,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new cg(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=sx(t,r.document),s=r.readTime?bi(r.readTime):He.min(),l=ur.newNoDocument(a,s),u=r.removedTargetIds||[];n=new cg([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=sx(t,r.document),s=r.removedTargetIds||[];n=new cg([],s,a,null)}else{if(!("filter"in e))return qe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new Vq(a,s),u=r.targetId;n=new aP(u,l)}}return n}function Qq(t,e){let n;if(e instanceof $f)n={update:hN(t,e.key,e.value)};else if(e instanceof nw)n={delete:x2(t,e.key)};else if(e instanceof Qo)n={update:hN(t,e.key,e.data),updateMask:sF(e.fieldMask)};else{if(!(e instanceof Lq))return qe(16599,{Rt:e.type});n={verify:x2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rg)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw qe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:Wq(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qe(27497)}(t,e.precondition)),n}function Zq(t,e){return t&&t.length>0?(jt(e!==void 0,14353),t.map(n=>function(a,s){let l=a.updateTime?bi(a.updateTime):bi(s);return l.isEqual(He.min())&&(l=bi(s)),new Rq(l,a.transformResults||[])}(n,e))):[]}function Jq(t,e){return{documents:[lP(t,e.path)]}}function eF(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lP(t,a);const s=function(f){if(f.length!==0)return dP(Ka.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(f){if(f.length!==0)return f.map(m=>function(y){return{field:wu(y.field),direction:rF(y.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=v2(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:a}}function tF(t){let e=Yq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){jt(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const y=uP(g);return y instanceof Ka&&Vk(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(w){return new ff(_u(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Bv(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,j=g.values||[];return new Pg(j,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,j=g.values||[];return new Pg(j,y)}(n.endAt)),bq(e,a,l,s,u,"F",h,f)}function nF(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_u(n.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=_u(n.unaryFilter.field);return vn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_u(n.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_u(n.unaryFilter.field);return vn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return vn.create(_u(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ka.create(n.compositeFilter.filters.map(r=>uP(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(n.compositeFilter.op))}(t):qe(30097,{filter:t})}function rF(t){return Fq[t]}function aF(t){return Hq[t]}function iF(t){return Kq[t]}function wu(t){return{fieldPath:t.canonicalString()}}function _u(t){return tr.fromServerFormat(t.fieldPath)}function dP(t){return t instanceof vn?function(n){if(n.op==="=="){if(JA(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(ZA(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JA(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(ZA(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:aF(n.op),value:n.value}}}(t):t instanceof Ka?function(n){const r=n.getFilters().map(a=>dP(a));return r.length===1?r[0]:{compositeFilter:{op:iF(n.op),filters:r}}}(t):qe(54877,{filter:t})}function sF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r,a,s=He.min(),l=He.min(),u=nr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.gt=e}}function lF(t){const e=tF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.Dn=new uF}addToCollectionParentIndex(e,n){return this.Dn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Bo.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class uF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new On(Bt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new On(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fP=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(fP,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new zu(0)}static ur(){return new zu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="LruGarbageCollector",dF=1048576;function pN([t,e],[n,r]){const a=Je(t,n);return a===0?Je(e,r):a}class hF{constructor(e){this.Tr=e,this.buffer=new On(pN),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ne(mN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sd(n)?Ne(mN,"Ignoring IndexedDB error during garbage collection: ",n):await id(n)}await this.Rr(3e5)})}}class mF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Lv.ue);const r=new hF(n);return this.Vr.forEachTarget(e,a=>r.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>r.Er(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(fN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,a,s,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),bu()<=ot.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g})))}}function pF(t,e){return new mF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.changes=new yc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Zh(r.mutation,a,Xr.empty(),zt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const a=Fl();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(s=>{let l=Vh();return s.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Fl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const a=[];return r.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,a){let s=Ns();const l=Qh(),u=function(){return Qh()}();return n.forEach((h,f)=>{const m=r.get(f.key);a.has(f.key)&&(m===void 0||m.mutation instanceof Qo)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Zh(m.mutation,f,m.mutation.getFieldMask(),zt.now())):l.set(f.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var g;return u.set(f,new vF(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Qh();let a=new Yt((l,u)=>l-u),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Xr.empty();m=u.applyToLocalView(f,m),r.set(h,m);const g=(a.get(u.batchId)||lt()).add(h);a=a.insert(u.batchId,g)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,g=Yk();m.forEach(y=>{if(!s.has(y)){const j=tP(n.get(y),r.get(y));j!==null&&g.set(y,j),s=s.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return pe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(l){return Le.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):pe.resolve(Fl());let u=cf,h=s;return l.next(f=>pe.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?pe.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{h=h.insert(m,y)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,lt())).next(m=>({batchId:u,changes:Wk(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let a=Vh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Vh();return this.indexManager.getCollectionParents(e,s).next(u=>pe.forEach(u,h=>{const f=function(g,y){return new od(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next(m=>{m.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a))).next(l=>{s.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,ur.newInvalidDocument(m)))});let u=Vh();return l.forEach((h,f)=>{const m=s.get(h);m!==void 0&&Zh(m.mutation,f,Xr.empty(),zt.now()),zv(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:bi(a.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:lF(a.bundledQuery),readTime:bi(a.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.overlays=new Yt(Le.comparator),this.kr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fl();return pe.forEach(n,a=>this.getOverlay(e,a).next(s=>{s!==null&&r.set(a,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,s)=>{this.wt(e,n,s)}),pe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const a=Fl(),s=n.length+1,l=new Le(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new Yt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Fl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Fl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=a)););return pe.resolve(u)}wt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Uq(n,r));let s=this.kr.get(n);s===void 0&&(s=lt(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.qr=new On(Un.Qr),this.$r=new On(Un.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Un(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Un(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Le(new Bt([])),r=new Un(n,e),a=new Un(n,e+1),s=[];return this.$r.forEachInRange([r,a],l=>{this.Wr(l),s.push(l.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Le(new Bt([])),r=new Un(n,e),a=new Un(n,e+1);let s=lt();return this.$r.forEachInRange([r,a],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Un(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Un{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Le.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new On(Un.Qr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Bq(s,n,r,a);this.mutationQueue.push(l);for(const u of a)this.Yr=this.Yr.add(new Un(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),s=a<0?0:a;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Yj:this.er-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Un(n,0),a=new Un(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,a],l=>{const u=this.Zr(l.Hr);s.push(u)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new On(Je);return n.forEach(a=>{const s=new Un(a,0),l=new Un(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,l],u=>{r=r.add(u.Hr)})}),pe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Le.isDocumentKey(s)||(s=s.child(""));const l=new Un(new Le(s),0);let u=new On(Je);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(h.Hr)),!0)},l),pe.resolve(this.ei(u))}ei(e){const n=[];return e.forEach(r=>{const a=this.Zr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){jt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return pe.forEach(n.mutations,a=>{const s=new Un(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Un(n,0),a=this.Yr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.ni=e,this.docs=function(){return new Yt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach(a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():ur.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Ns();const l=n.path,u=new Le(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||Z$(Q$(m),r)<=0||(a.has(m.key)||zv(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return pe.resolve(s)}getAllFromCollectionGroup(e,n,r,a){qe(9500)}ri(e,n){return pe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SF(this)}getSize(e){return pe.resolve(this.size)}}class SF extends gF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)}),pe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.persistence=e,this.ii=new yc(n=>Zj(n),Jj),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.si=0,this.oi=new sw,this.targetCount=0,this._i=zu.ar()}forEachTarget(e,n){return this.ii.forEach((r,a)=>n(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),pe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.hr(n),pe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ii.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),pe.waitFor(s).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(l=>{s.push(a.markPotentiallyOrphaned(e,l))}),pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.ai={},this.overlays={},this.ui=new Lv(0),this.ci=!1,this.ci=!0,this.li=new jF,this.referenceDelegate=e(this),this.hi=new TF(this),this.indexManager=new cF,this.remoteDocumentCache=function(a){return new _F(a)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new oF(n),this.Ti=new xF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new wF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const a=new EF(this.ui.next());return this.referenceDelegate.Ii(),r(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ei(e,n){return pe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class EF extends eq{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Ai=new sw,this.Ri=null}static Vi(e){return new ow(e)}get mi(){if(this.Ri)return this.Ri;throw qe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.mi,r=>{const a=Le.fromPath(r);return this.fi(e,a).next(s=>{s||n.removeEntry(a,He.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return pe.or([()=>pe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mg{constructor(e,n){this.persistence=e,this.gi=new yc(r=>rq(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=pF(this,n)}static Vi(e,n){return new Mg(e,n)}Ii(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return pe.forEach(this.gi,(r,a)=>this.Sr(e,r,a).next(s=>s?pe.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ri(e,l=>this.Sr(e,l,n).next(u=>{u||(r++,s.removeEntry(l,He.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),pe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sg(e.data.value)),n}Sr(e,n,r){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=a}static Es(e,n){let r=lt(),a=lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new lw(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return oU()?8:tq(pr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ps(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ys(e,n,a,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new AF;return this.ws(e,n,l).next(u=>{if(s.result=u,this.Rs)return this.Ss(e,n,l,u.size)})}).next(()=>s.result)}Ss(e,n,r,a){return r.documentReadCount<this.Vs?(bu()<=ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(bu()<=ot.DEBUG&&Ne("QueryEngine","Query:",ju(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(bu()<=ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):pe.resolve())}ps(e,n){if(rN(n))return pe.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=g2(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=lt(...s);return this.gs.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.bs(n,u);return this.Ds(n,f,l,h.readTime)?this.ps(e,g2(n,null,"F")):this.vs(e,f,n,h)}))})))}ys(e,n,r,a){return rN(n)||a.isEqual(He.min())?pe.resolve(null):this.gs.getDocuments(e,r).next(s=>{const l=this.bs(n,s);return this.Ds(n,l,r,a)?pe.resolve(null):(bu()<=ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ju(n)),this.vs(e,l,n,X$(a,cf)).next(u=>u))})}bs(e,n){let r=new On(Kk(e));return n.forEach((a,s)=>{zv(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}ws(e,n,r){return bu()<=ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",ju(n)),this.gs.getDocumentsMatchingQuery(e,n,Bo.min(),r)}vs(e,n,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="LocalStore",CF=3e8;class OF{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new Yt(Je),this.Ms=new yc(s=>Zj(s),Jj),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function IF(t,e,n,r){return new OF(t,e,n,r)}async function pP(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(s=>(a=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let h=lt();for(const f of a){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:u}))})})}function kF(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const g=f.batch,y=g.keys();let j=pe.resolve();return y.forEach(w=>{j=j.next(()=>m.getEntry(h,w)).next(S=>{const T=f.docVersions.get(w);jt(T!==null,48541),S.version.compareTo(T)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),m.addEntry(S)))})}),j.next(()=>u.mutationQueue.removeMutationBatch(h,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=lt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function gP(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function PF(t,e){const n=Ke(t),r=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const u=[];e.targetChanges.forEach((m,g)=>{const y=a.get(g);if(!y)return;u.push(n.hi.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.hi.addMatchingKeys(s,m.addedDocuments,g)));let j=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?j=j.withResumeToken(nr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(m.resumeToken,r)),a=a.insert(g,j),function(S,T,E){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=CF?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(y,j,m)&&u.push(n.hi.updateTargetData(s,j))});let h=Ns(),f=lt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(RF(s,l,e.documentUpdates).next(m=>{h=m.Ls,f=m.ks})),!r.isEqual(He.min())){const m=n.hi.getLastRemoteSnapshotVersion(s).next(g=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return pe.waitFor(u).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.Fs=a,s))}function RF(t,e,n){let r=lt(),a=lt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let l=Ns();return n.forEach((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Ne(cw,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ls:l,ks:a}})}function DF(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Yj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MF(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.hi.getTargetData(r,e).next(s=>s?(a=s,pe.resolve(a)):n.hi.allocateTargetId(r).next(l=>(a=new Eo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function j2(t,e,n){const r=Ke(t),a=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!sd(l))throw l;Ne(cw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function gN(t,e,n){const r=Ke(t);let a=He.min(),s=lt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const g=Ke(h),y=g.Ms.get(m);return y!==void 0?pe.resolve(g.Fs.get(y)):g.hi.getTargetData(f,m)}(r,l,xi(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{s=h})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?a:He.min(),n?s:lt())).next(u=>(LF(r,wq(e),u),{documents:u,qs:s})))}function LF(t,e,n){let r=t.xs.get(e)||He.min();n.forEach((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class vN{constructor(){this.activeTargetIds=Nq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BF{constructor(){this.Fo=new vN,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="ConnectivityMonitor";class xN{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ne(yN,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ne(yN,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function w2(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="RestConnection",VF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===Ig?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,s){const l=w2(),u=this.Go(e,n.toUriEncodedString());Ne(ox,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,a,s);const{host:f}=new URL(u),m=pc(f);return this.jo(e,u,h,r,m).then(g=>(Ne(ox,`Received RPC '${e}' ${l}: `,g),g),g=>{throw Lo(ox,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g})}Jo(e,n,r,a,s,l){return this.Wo(e,n,r,a,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ad}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>e[s]=a),r&&r.headers.forEach((a,s)=>e[s]=a)}Go(e,n){const r=VF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class qF extends zF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,a,s){const l=w2();return new Promise((u,h)=>{const f=new yk;f.setWithCredentials(!0),f.listenOnce(xk.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ig.NO_ERROR:const g=f.getResponseJson();Ne(or,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case ig.TIMEOUT:Ne(or,`RPC '${e}' ${l} timed out`),h(new Ee(he.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const y=f.getStatus();if(Ne(or,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let j=f.getResponseJson();Array.isArray(j)&&(j=j[0]);const w=j?.error;if(w&&w.status&&w.message){const S=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(I)>=0?I:he.UNKNOWN}(w.status);h(new Ee(S,w.message))}else h(new Ee(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ee(he.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Ne(or,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Ne(or,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",m,r,15)})}P_(e,n,r){const a=w2(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=wk(),u=jk(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");Ne(or,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=l.createWebChannel(m,h);this.T_(g);let y=!1,j=!1;const w=new $F({Ho:T=>{j?Ne(or,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(y||(Ne(or,`Opening RPC '${e}' stream ${a} transport.`),g.open(),y=!0),Ne(or,`RPC '${e}' stream ${a} sending:`,T),g.send(T))},Yo:()=>g.close()}),S=(T,E,I)=>{T.listen(E,N=>{try{I(N)}catch(O){setTimeout(()=>{throw O},0)}})};return S(g,Uh.EventType.OPEN,()=>{j||(Ne(or,`RPC '${e}' stream ${a} transport opened.`),w.s_())}),S(g,Uh.EventType.CLOSE,()=>{j||(j=!0,Ne(or,`RPC '${e}' stream ${a} transport closed`),w.__(),this.I_(g))}),S(g,Uh.EventType.ERROR,T=>{j||(j=!0,Lo(or,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),w.__(new Ee(he.UNAVAILABLE,"The operation could not be completed")))}),S(g,Uh.EventType.MESSAGE,T=>{var E;if(!j){const I=T.data[0];jt(!!I,16349);const N=I,O=N?.error||((E=N[0])===null||E===void 0?void 0:E.error);if(O){Ne(or,`RPC '${e}' stream ${a} received error:`,O);const D=O.status;let M=function(B){const $=gn[B];if($!==void 0)return rP($)}(D),C=O.message;M===void 0&&(M=he.INTERNAL,C="Unknown error status: "+D+" with message "+O.message),j=!0,w.__(new Ee(M,C)),g.close()}else Ne(or,`RPC '${e}' stream ${a} received:`,I),w.a_(I)}}),S(u,bk.STAT_EVENT,T=>{T.stat===c2.PROXY?Ne(or,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===c2.NOPROXY&&Ne(or,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function lx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){return new Gq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=a,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&Ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="PersistentStream";class yP{constructor(e,n,r,a,s,l,u,h){this.Fi=e,this.w_=r,this.S_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new vP(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.b_===n&&this.W_(r,a)},r=>{e(()=>{const a=new Ee(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{r(()=>this.G_(a))}),this.stream.onMessage(a=>{r(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ne(bN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Ne(bN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FF extends yP{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Xq(this.serializer,e),r=function(s){if(!("targetChange"in s))return He.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?bi(l.readTime):He.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=b2(this.serializer),n.addTarget=function(s,l){let u;const h=l.target;if(u=m2(h)?{documents:Jq(s,h)}:{query:eF(s,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=sP(s,l.resumeToken);const f=v2(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(He.min())>0){u.readTime=Dg(s,l.snapshotVersion.toTimestamp());const f=v2(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=nF(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=b2(this.serializer),n.removeTarget=e,this.k_(n)}}class HF extends yP{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Zq(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=b2(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qq(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{}class GF extends KF{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,y2(n,r),a,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(he.UNKNOWN,s.toString())})}Jo(e,n,r,a,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(e,y2(n,r),a,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(he.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class WF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(As(n),this._a=!1):Ne("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="RemoteStore";class YF{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{xc(this)&&(Ne(cc,"Restarting streams for network reachability change."),await async function(h){const f=Ke(h);f.Ia.add(4),await Ff(f),f.Aa.set("Unknown"),f.Ia.delete(4),await Kv(f)}(this))})}),this.Aa=new WF(r,a)}}async function Kv(t){if(xc(t))for(const e of t.da)await e(!0)}async function Ff(t){for(const e of t.da)await e(!1)}function xP(t,e){const n=Ke(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),fw(n)?hw(n):ld(n).x_()&&dw(n,e))}function uw(t,e){const n=Ke(t),r=ld(n);n.Ta.delete(e),r.x_()&&bP(n,e),n.Ta.size===0&&(r.x_()?r.B_():xc(n)&&n.Aa.set("Unknown"))}function dw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ld(t).H_(e)}function bP(t,e){t.Ra.$e(e),ld(t).Y_(e)}function hw(t){t.Ra=new qq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ld(t).start(),t.Aa.aa()}function fw(t){return xc(t)&&!ld(t).M_()&&t.Ta.size>0}function xc(t){return Ke(t).Ia.size===0}function jP(t){t.Ra=void 0}async function XF(t){t.Aa.set("Online")}async function QF(t){t.Ta.forEach((e,n)=>{dw(t,e)})}async function ZF(t,e){jP(t),fw(t)?(t.Aa.la(e),hw(t)):t.Aa.set("Unknown")}async function JF(t,e,n){if(t.Aa.set("Online"),e instanceof iP&&e.state===2&&e.cause)try{await async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ta.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ta.delete(u),a.Ra.removeTarget(u))}(t,e)}catch(r){Ne(cc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lg(t,r)}else if(e instanceof cg?t.Ra.Ye(e):e instanceof aP?t.Ra.it(e):t.Ra.et(e),!n.isEqual(He.min()))try{const r=await gP(t.localStore);n.compareTo(r)>=0&&await function(s,l){const u=s.Ra.Pt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ta.get(f);m&&s.Ta.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=s.Ta.get(h);if(!m)return;s.Ta.set(h,m.withResumeToken(nr.EMPTY_BYTE_STRING,m.snapshotVersion)),bP(s,h);const g=new Eo(m.target,h,f,m.sequenceNumber);dw(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Ne(cc,"Failed to raise snapshot:",r),await Lg(t,r)}}async function Lg(t,e,n){if(!sd(e))throw e;t.Ia.add(1),await Ff(t),t.Aa.set("Offline"),n||(n=()=>gP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(cc,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Kv(t)})}function wP(t,e){return e().catch(n=>Lg(t,n,e))}async function Gv(t){const e=Ke(t),n=$o(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yj;for(;eH(e);)try{const a=await DF(e.localStore,r);if(a===null){e.Pa.length===0&&n.B_();break}r=a.batchId,tH(e,a)}catch(a){await Lg(e,a)}_P(e)&&SP(e)}function eH(t){return xc(t)&&t.Pa.length<10}function tH(t,e){t.Pa.push(e);const n=$o(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function _P(t){return xc(t)&&!$o(t).M_()&&t.Pa.length>0}function SP(t){$o(t).start()}async function nH(t){$o(t).na()}async function rH(t){const e=$o(t);for(const n of t.Pa)e.X_(n.mutations)}async function aH(t,e,n){const r=t.Pa.shift(),a=rw.from(r,e,n);await wP(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Gv(t)}async function iH(t,e){e&&$o(t).Z_&&await async function(r,a){if(function(l){return zq(l)&&l!==he.ABORTED}(a.code)){const s=r.Pa.shift();$o(r).N_(),await wP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a)),await Gv(r)}}(t,e),_P(t)&&SP(t)}async function jN(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),Ne(cc,"RemoteStore received new credentials");const r=xc(n);n.Ia.add(3),await Ff(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Kv(n)}async function sH(t,e){const n=Ke(t);e?(n.Ia.delete(2),await Kv(n)):e||(n.Ia.add(2),await Ff(n),n.Aa.set("Unknown"))}function ld(t){return t.Va||(t.Va=function(n,r,a){const s=Ke(n);return s.ia(),new FF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Zo:XF.bind(null,t),e_:QF.bind(null,t),n_:ZF.bind(null,t),J_:JF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),fw(t)?hw(t):t.Aa.set("Unknown")):(await t.Va.stop(),jP(t))})),t.Va}function $o(t){return t.ma||(t.ma=function(n,r,a){const s=Ke(n);return s.ia(),new HF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:nH.bind(null,t),n_:iH.bind(null,t),ea:rH.bind(null,t),ta:aH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Gv(t)):(await t.ma.stop(),t.Pa.length>0&&(Ne(cc,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,u=new mw(e,n,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pw(t,e){if(As("AsyncQueue",`${e}: ${t}`),sd(t))return new Ee(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=Vh(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.fa=new Yt(Le.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):qe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class $u{constructor(e,n,r,a,s,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new $u(e,n,Iu.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class lH{constructor(){this.queries=_N(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=Ke(n),s=a.queries;a.queries=_N(),s.forEach((l,u)=>{for(const h of u.wa)h.onError(r)})})(this,new Ee(he.ABORTED,"Firestore shutting down"))}}function _N(){return new yc(t=>Hk(t),Vv)}async function TP(t,e){const n=Ke(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.Sa()&&e.ba()&&(r=2):(s=new oH,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(a,!0);break;case 1:s.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const u=pw(l,`Initialization of query '${ju(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&gw(n)}async function EP(t,e){const n=Ke(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.wa.indexOf(e);l>=0&&(s.wa.splice(l,1),s.wa.length===0?a=e.ba()?0:1:!s.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cH(t,e){const n=Ke(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const u of l.wa)u.Ca(a)&&(r=!0);l.ya=a}}r&&gw(n)}function uH(t,e,n){const r=Ke(t),a=r.queries.get(e);if(a)for(const s of a.wa)s.onError(n);r.queries.delete(e)}function gw(t){t.Da.forEach(e=>{e.next()})}var _2,SN;(SN=_2||(_2={})).Fa="default",SN.Cache="cache";class AP{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.key=e}}class CP{constructor(e){this.key=e}}class dH{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=lt(),this.mutatedKeys=lt(),this.Xa=Kk(e),this.eu=new Iu(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new wN,a=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((m,g)=>{const y=a.get(m),j=zv(this.query,g)?g:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let T=!1;y&&j?y.data.isEqual(j.data)?w!==S&&(r.track({type:3,doc:j}),T=!0):this.iu(y,j)||(r.track({type:2,doc:j}),T=!0,(h&&this.Xa(j,h)>0||f&&this.Xa(j,f)<0)&&(u=!0)):!y&&j?(r.track({type:0,doc:j}),T=!0):y&&!j&&(r.track({type:1,doc:y}),T=!0,(h||f)&&(u=!0)),T&&(j?(l=l.add(j),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:u,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,g)=>function(j,w){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{At:T})}};return S(j)-S(w)}(m.type,g.type)||this.Xa(m.doc,g.doc)),this.su(r),a=a!=null&&a;const u=n&&!a?this.ou():[],h=this.Za.size===0&&this.current&&!a?1:0,f=h!==this.Ya;return this.Ya=h,l.length!==0||f?{snapshot:new $u(this.query,e.eu,s,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wN,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=lt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new CP(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new NP(r))}),n}uu(e){this.Ha=e.qs,this.Za=lt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return $u.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vw="SyncEngine";class hH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fH{constructor(e){this.key=e,this.lu=!1}}class mH{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new yc(u=>Hk(u),Vv),this.Tu=new Map,this.Iu=new Set,this.du=new Yt(Le.comparator),this.Eu=new Map,this.Au=new sw,this.Ru={},this.Vu=new Map,this.mu=zu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function pH(t,e,n=!0){const r=DP(t);let a;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.cu()):a=await OP(r,e,n,!0),a}async function gH(t,e){const n=DP(t);await OP(n,e,!0,!1)}async function OP(t,e,n,r){const a=await MF(t.localStore,xi(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await vH(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&xP(t.remoteStore,a),u}async function vH(t,e,n,r,a){t.gu=(g,y,j)=>async function(S,T,E,I){let N=T.view.nu(E);N.Ds&&(N=await gN(S.localStore,T.query,!1).then(({documents:C})=>T.view.nu(C,N)));const O=I&&I.targetChanges.get(T.targetId),D=I&&I.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(N,S.isPrimaryClient,O,D);return EN(S,T.targetId,M._u),M.snapshot}(t,g,y,j);const s=await gN(t.localStore,e,!0),l=new dH(e,s.qs),u=l.nu(s.documents),h=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=l.applyChanges(u,t.isPrimaryClient,h);EN(t,n,f._u);const m=new hH(e,n,l);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function yH(t,e,n){const r=Ke(t),a=r.Pu.get(e),s=r.Tu.get(a.targetId);if(s.length>1)return r.Tu.set(a.targetId,s.filter(l=>!Vv(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await j2(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&uw(r.remoteStore,a.targetId),S2(r,a.targetId)}).catch(id)):(S2(r,a.targetId),await j2(r.localStore,a.targetId,!0))}async function xH(t,e){const n=Ke(t),r=n.Pu.get(e),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uw(n.remoteStore,r.targetId))}async function bH(t,e,n){const r=AH(t);try{const a=await function(l,u){const h=Ke(l),f=zt.now(),m=u.reduce((j,w)=>j.add(w.key),lt());let g,y;return h.persistence.runTransaction("Locally write mutations","readwrite",j=>{let w=Ns(),S=lt();return h.Os.getEntries(j,m).next(T=>{w=T,w.forEach((E,I)=>{I.isValidDocument()||(S=S.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(j,w)).next(T=>{g=T;const E=[];for(const I of u){const N=Mq(I,g.get(I.key).overlayedDocument);N!=null&&E.push(new Qo(I.key,N,Lk(N.value.mapValue),Ta.exists(!0)))}return h.mutationQueue.addMutationBatch(j,f,E,u)}).next(T=>{y=T;const E=T.applyToLocalDocumentSet(g,S);return h.documentOverlayCache.saveOverlays(j,T.batchId,E)})}).then(()=>({batchId:y.batchId,changes:Wk(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,h){let f=l.Ru[l.currentUser.toKey()];f||(f=new Yt(Je)),f=f.insert(u,h),l.Ru[l.currentUser.toKey()]=f}(r,a.batchId,n),await Hf(r,a.changes),await Gv(r.remoteStore)}catch(a){const s=pw(a,"Failed to persist write");n.reject(s)}}async function IP(t,e){const n=Ke(t);try{const r=await PF(n.localStore,e);e.targetChanges.forEach((a,s)=>{const l=n.Eu.get(s);l&&(jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.lu=!0:a.modifiedDocuments.size>0?jt(l.lu,14607):a.removedDocuments.size>0&&(jt(l.lu,42227),l.lu=!1))}),await Hf(n,r,e)}catch(r){await id(r)}}function TN(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const h=Ke(l);h.onlineState=u;let f=!1;h.queries.forEach((m,g)=>{for(const y of g.wa)y.va(u)&&(f=!0)}),f&&gw(h)}(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jH(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),s=a&&a.key;if(s){let l=new Yt(Le.comparator);l=l.insert(s,ur.newNoDocument(s,He.min()));const u=lt().add(s),h=new Fv(He.min(),new Map,new Yt(Je),l,u);await IP(r,h),r.du=r.du.remove(s),r.Eu.delete(e),yw(r)}else await j2(r.localStore,e,!1).then(()=>S2(r,e,n)).catch(id)}async function wH(t,e){const n=Ke(t),r=e.batch.batchId;try{const a=await kF(n.localStore,e);PP(n,r,null),kP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hf(n,a)}catch(a){await id(a)}}async function _H(t,e,n){const r=Ke(t);try{const a=await function(l,u){const h=Ke(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(g=>(jt(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);PP(r,e,n),kP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hf(r,a)}catch(a){await id(a)}}function kP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function PP(t,e,n){const r=Ke(t);let a=r.Ru[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function S2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||RP(t,r)})}function RP(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(uw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),yw(t))}function EN(t,e,n){for(const r of n)r instanceof NP?(t.Au.addReference(r.key,e),SH(t,r)):r instanceof CP?(Ne(vw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||RP(t,r.key)):qe(19791,{yu:r})}function SH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Ne(vw,"New document in limbo: "+n),t.Iu.add(r),yw(t))}function yw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Le(Bt.fromString(e)),r=t.mu.next();t.Eu.set(r,new fH(n)),t.du=t.du.insert(n,r),xP(t.remoteStore,new Eo(xi(ew(n.path)),r,"TargetPurposeLimboResolution",Lv.ue))}}async function Hf(t,e,n){const r=Ke(t),a=[],s=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((u,h)=>{l.push(r.gu(h,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=lw.Es(h.targetId,f);s.push(g)}}))}),await Promise.all(l),r.hu.J_(a),await async function(h,f){const m=Ke(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>pe.forEach(f,y=>pe.forEach(y.Is,j=>m.persistence.referenceDelegate.addReference(g,y.targetId,j)).next(()=>pe.forEach(y.ds,j=>m.persistence.referenceDelegate.removeReference(g,y.targetId,j)))))}catch(g){if(!sd(g))throw g;Ne(cw,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const j=m.Fs.get(y),w=j.snapshotVersion,S=j.withLastLimboFreeSnapshotVersion(w);m.Fs=m.Fs.insert(y,S)}}}(r.localStore,s))}async function TH(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){Ne(vw,"User change. New user:",e.toKey());const r=await pP(n.localStore,e);n.currentUser=e,function(s,l){s.Vu.forEach(u=>{u.forEach(h=>{h.reject(new Ee(he.CANCELLED,l))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hf(n,r.Bs)}}function EH(t,e){const n=Ke(t),r=n.Eu.get(e);if(r&&r.lu)return lt().add(r.key);{let a=lt();const s=n.Tu.get(e);if(!s)return a;for(const l of s){const u=n.Pu.get(l);a=a.unionWith(u.view.tu)}return a}}function DP(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jH.bind(null,e),e.hu.J_=cH.bind(null,e.eventManager),e.hu.pu=uH.bind(null,e.eventManager),e}function AH(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_H.bind(null,e),e}class Bg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return IF(this.persistence,new NF,e.initialUser,this.serializer)}Du(e){return new mP(ow.Vi,this.serializer)}bu(e){return new BF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bg.provider={build:()=>new Bg};class NH extends Bg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){jt(this.persistence.referenceDelegate instanceof Mg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new mP(r=>Mg.Vi(r,n),this.serializer)}}class T2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TH.bind(null,this.syncEngine),await sH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lH}()}createDatastore(e){const n=Hv(e.databaseInfo.databaseId),r=function(s){return new qF(s)}(e.databaseInfo);return function(s,l,u,h){return new GF(s,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,s,l,u){return new YF(r,a,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>TN(this.syncEngine,n,0),function(){return xN.C()?new xN:new UF}())}createSyncEngine(e,n){return function(a,s,l,u,h,f,m){const g=new mH(a,s,l,u,h,f);return m&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const s=Ke(a);Ne(cc,"RemoteStore shutting down."),s.Ia.add(5),await Ff(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}T2.provider={build:()=>new T2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="FirestoreClient";class CH{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=cr.UNAUTHENTICATED,this.clientId=Wj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{Ne(qo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ne(qo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cx(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(qo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await pP(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>{Lo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Ne("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Lo("Terminating Firestore due to IndexedDb database deletion failed",a)})}),t._offlineComponents=e}async function AN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OH(t);Ne(qo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>jN(e.remoteStore,a)),t._onlineComponents=e}async function OH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(qo,"Using user provided OfflineComponentProvider");try{await cx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await cx(t,new Bg)}}else Ne(qo,"Using default OfflineComponentProvider"),await cx(t,new NH(void 0));return t._offlineComponents}async function LP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(qo,"Using user provided OnlineComponentProvider"),await AN(t,t._uninitializedComponentsProvider._online)):(Ne(qo,"Using default OnlineComponentProvider"),await AN(t,new T2))),t._onlineComponents}function IH(t){return LP(t).then(e=>e.syncEngine)}async function BP(t){const e=await LP(t),n=e.eventManager;return n.onListen=pH.bind(null,e.syncEngine),n.onUnlisten=yH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xH.bind(null,e.syncEngine),n}function kH(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,u,h,f){const m=new MP({next:y=>{m.Ou(),l.enqueueAndForget(()=>EP(s,g));const j=y.docs.has(u);!j&&y.fromCache?f.reject(new Ee(he.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&y.fromCache&&h&&h.source==="server"?f.reject(new Ee(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new AP(ew(u.path),m,{includeMetadataChanges:!0,ka:!0});return TP(s,g)}(await BP(t),t.asyncQueue,e,n,r)),r.promise}function PH(t,e,n={}){const r=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,u,h,f){const m=new MP({next:y=>{m.Ou(),l.enqueueAndForget(()=>EP(s,g)),y.fromCache&&h.source==="server"?f.reject(new Ee(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new AP(u,m,{includeMetadataChanges:!0,ka:!0});return TP(s,g)}(await BP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="firestore.googleapis.com",CN=!0;class ON{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VP,this.ssl=CN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dF)throw new Ee(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ON({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ON(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V$;switch(r.type){case"firstParty":return new F$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=NN.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),NN.delete(n),r.terminate())}(this),Promise.resolve()}}function RH(t,e,n,r={}){var a;t=Ha(t,Wv);const s=pc(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;s&&(kj(`https://${h}`),Pj("Firestore",!0)),l.host!==VP&&l.host!==h&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:s,emulatorOptions:r});if(!ac(f,u)&&(t._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=cr.MOCK_USER;else{m=NI(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ee(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(y)}t._authCredentials=new z$(new Sk(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zf(n,on._jsonSchema))return new on(e,r||null,new Le(Bt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:yn("string",on._jsonSchemaVersion),referencePath:yn("string")};class Po extends bc{constructor(e,n,r){super(e,n,ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Le(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=jn(t),Ek("collection","path",e),t instanceof Wv){const r=Bt.fromString(e,...n);return qA(r),new Po(t,null,r)}{if(!(t instanceof on||t instanceof Po))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return qA(r),new Po(t.firestore,null,r)}}function Gt(t,e,...n){if(t=jn(t),arguments.length===1&&(e=Wj.newId()),Ek("doc","path",e),t instanceof Wv){const r=Bt.fromString(e,...n);return $A(r),new on(t,null,new Le(r))}{if(!(t instanceof on||t instanceof Po))throw new Ee(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return $A(r),new on(t.firestore,t instanceof Po?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="AsyncQueue";class kN{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vP(this,"async_queue_retry"),this.oc=()=>{const r=lx();r&&Ne(IN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=lx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=lx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new gs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sd(e))throw e;Ne(IN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,As("INTERNAL UNHANDLED ERROR: ",PN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=mw.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(a),a}ac(){this.tc&&qe(47125,{hc:PN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function PN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class jc extends Wv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new kN,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kN(e),this._firestoreClient=void 0,await e}}}function DH(t,e){const n=typeof t=="object"?t:Mj(),r=typeof t=="string"?t:Ig,a=kv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=TI("firestore");s&&RH(a,...s)}return a}function xw(t){if(t._terminated)throw new Ee(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MH(t),t._firestoreClient}function MH(t){var e,n,r;const a=t._freezeSettings(),s=function(u,h,f,m){return new sq(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,UP(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new CH(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(nr.fromBase64String(e))}catch(n){throw new Ee(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wa(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zf(e,wa._jsonSchema))return wa.fromBase64String(e.bytes)}}wa._jsonSchemaVersion="firestore/bytes/1.0",wa._jsonSchema={type:yn("string",wa._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(zf(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:yn("string",ji._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zf(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wi(e.vectorValues);throw new Ee(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:yn("string",wi._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=/^__.*__$/;class BH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new $f(e,this.data,n,this.fieldTransforms)}}class zP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $P(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ec:t})}}class bw{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ug(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if($P(this.Ec)&&LH.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class UH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hv(e)}Dc(e,n,r,a=!1){return new bw({Ec:e,methodName:n,bc:r,path:tr.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(t){const e=t._freezeSettings(),n=Hv(t._databaseId);return new UH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qP(t,e,n,r,a,s={}){const l=t.Dc(s.merge||s.mergeFields?2:0,e,n,a);ww("Data must be an object, but it was:",l,r);const u=FP(r,l);let h,f;if(s.merge)h=new Xr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const y=E2(e,g,n);if(!l.contains(y))throw new Ee(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);KP(m,y)||m.push(y)}h=new Xr(m),f=l.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=l.fieldTransforms;return new BH(new Cr(u),h,f)}class Zv extends Xv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zv}}class jw extends Xv{_toFieldTransform(e){return new kq(e.path,new mf)}isEqual(e){return e instanceof jw}}function VH(t,e,n,r){const a=t.Dc(1,e,n);ww("Data must be an object, but it was:",a,r);const s=[],l=Cr.empty();Xo(r,(h,f)=>{const m=_w(e,h,n);f=jn(f);const g=a.gc(m);if(f instanceof Zv)s.push(m);else{const y=Kf(f,g);y!=null&&(s.push(m),l.set(m,y))}});const u=new Xr(s);return new zP(l,u,a.fieldTransforms)}function zH(t,e,n,r,a,s){const l=t.Dc(1,e,n),u=[E2(e,r,n)],h=[a];if(s.length%2!=0)throw new Ee(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(E2(e,s[y])),h.push(s[y+1]);const f=[],m=Cr.empty();for(let y=u.length-1;y>=0;--y)if(!KP(f,u[y])){const j=u[y];let w=h[y];w=jn(w);const S=l.gc(j);if(w instanceof Zv)f.push(j);else{const T=Kf(w,S);T!=null&&(f.push(j),m.set(j,T))}}const g=new Xr(f);return new zP(m,g,l.fieldTransforms)}function $H(t,e,n,r=!1){return Kf(n,t.Dc(r?4:3,e))}function Kf(t,e){if(HP(t=jn(t)))return ww("Unsupported field value:",e,t),FP(t,e);if(t instanceof Xv)return function(r,a){if(!$P(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,a){const s=[];let l=0;for(const u of r){let h=Kf(u,a.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,a){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cq(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:Dg(a.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dg(a.serializer,s)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:sP(a.serializer,r._byteString)};if(r instanceof on){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iw(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof wi)return function(l,u){return{mapValue:{fields:{[Dk]:{stringValue:Mk},[kg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return tw(u.serializer,f)})}}}}}}(r,a);throw a.wc(`Unsupported field value: ${Mv(r)}`)}(t,e)}function FP(t,e){const n={};return Ck(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,a)=>{const s=Kf(a,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof ji||t instanceof wa||t instanceof on||t instanceof Xv||t instanceof wi)}function ww(t,e,n){if(!HP(n)||!Ak(n)){const r=Mv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function E2(t,e,n){if((e=jn(e))instanceof Yv)return e._internalPath;if(typeof e=="string")return _w(t,e);throw Ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const qH=new RegExp("[~\\*/\\[\\]]");function _w(t,e,n){if(e.search(qH)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yv(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ug(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${a}`),h+=")"),new Ee(he.INVALID_ARGUMENT,u+t+h)}function KP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FH extends GP{data(){return super.data()}}function Jv(t,e){return typeof e=="string"?_w(t,e):e instanceof Yv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{}class WP extends Sw{}function $a(t,e,...n){let r=[];e instanceof Sw&&r.push(e),r=r.concat(n),function(s){const l=s.filter(h=>h instanceof Tw).length,u=s.filter(h=>h instanceof ey).length;if(l>1||l>0&&u>0)throw new Ee(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class ey extends WP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ey(e,n,r)}_apply(e){const n=this._parse(e);return YP(e._query,n),new bc(e.firestore,e.converter,p2(e._query,n))}_parse(e){const n=Qv(e.firestore);return function(s,l,u,h,f,m,g){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){DN(g,m);const w=[];for(const S of g)w.push(RN(h,s,S));y={arrayValue:{values:w}}}else y=RN(h,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||DN(g,m),y=$H(u,l,g,m==="in"||m==="not-in");return vn.create(f,m,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ir(t,e,n){const r=e,a=Jv("where",t);return ey._create(a,r,n)}class Tw extends Sw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ka.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,s){let l=a;const u=s.getFlattenedFilters();for(const h of u)YP(l,h),l=p2(l,h)}(e._query,n),new bc(e.firestore,e.converter,p2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ew extends WP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ew(e,n)}_apply(e){const n=function(a,s,l){if(a.startAt!==null)throw new Ee(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ff(s,l)}(e._query,this._field,this._direction);return new bc(e.firestore,e.converter,function(a,s){const l=a.explicitOrderBy.concat([s]);return new od(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function A2(t,e="asc"){const n=e,r=Jv("orderBy",t);return Ew._create(r,n)}function RN(t,e,n){if(typeof(n=jn(n))=="string"){if(n==="")throw new Ee(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fk(e)&&n.indexOf("/")!==-1)throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!Le.isDocumentKey(r))throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QA(t,new Le(r))}if(n instanceof on)return QA(t,n._key);throw new Ee(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(n)}.`)}function DN(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YP(t,e){const n=function(a,s){for(const l of a)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KH{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(a,s)=>{r[a]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,a;const s=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[kg].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>sn(l.doubleValue));return new wi(s)}convertGeoPoint(e){return new ji(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);jt(hP(r),9688,{name:e});const a=new df(r.get(1),r.get(3)),s=new Le(r.popFirst(5));return a.isEqual(n)||As(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $h{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends GP{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:yn("string",Xl._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class ug extends Xl{data(e={}){return super.data(e)}}class ku{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new $h(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new $h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const h=new ug(a._firestore,a._userDataWriter,u.doc.key,u.doc,new $h(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const h=new ug(a._firestore,a._userDataWriter,u.doc.key,u.doc,new $h(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:GH(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t){t=Ha(t,on);const e=Ha(t.firestore,jc);return kH(xw(e),t._key).then(n=>WH(e,t,n))}ku._jsonSchemaVersion="firestore/querySnapshot/1.0",ku._jsonSchema={type:yn("string",ku._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class QP extends KH{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function _a(t){t=Ha(t,bc);const e=Ha(t.firestore,jc),n=xw(e),r=new QP(e);return HH(t._query),PH(n,t._query).then(a=>new ku(e,r,t,a))}function cd(t,e,n){t=Ha(t,on);const r=Ha(t.firestore,jc),a=XP(t.converter,e,n);return ny(r,[qP(Qv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ta.none())])}function Zr(t,e,n,...r){t=Ha(t,on);const a=Ha(t.firestore,jc),s=Qv(a);let l;return l=typeof(e=jn(e))=="string"||e instanceof Yv?zH(s,"updateDoc",t._key,e,n,r):VH(s,"updateDoc",t._key,e),ny(a,[l.toMutation(t._key,Ta.exists(!0))])}function Aw(t){return ny(Ha(t.firestore,jc),[new nw(t._key,Ta.none())])}function ty(t,e){const n=Ha(t.firestore,jc),r=Gt(t),a=XP(t.converter,e);return ny(n,[qP(Qv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Ta.exists(!1))]).then(()=>r)}function ny(t,e){return function(r,a){const s=new gs;return r.asyncQueue.enqueueAndForget(async()=>bH(await IH(r),a,s)),s.promise}(xw(t),e)}function WH(t,e,n){const r=n.docs.get(e._key),a=new QP(t);return new Xl(t,a,e._key,r,new $h(n.hasPendingWrites,n.fromCache),e.converter)}function vs(){return new jw("serverTimestamp")}(function(e,n=!0){(function(a){ad=a})(gc),ic(new Mo("firestore",(r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new jc(new $$(r.getProvider("auth-internal")),new H$(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ee(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(f.options.projectId,m)}(l,a),l);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),gi(LA,BA,e),gi(LA,BA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebasestorage.googleapis.com",YH="storageBucket",XH=2*60*1e3,QH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ki{constructor(e,n,r=0){super(ux(e),`Firebase Storage: ${n} (${ux(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ux(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ti;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ti||(Ti={}));function ux(t){return"storage/"+t}function ZH(){const t="An unknown error occurred, please check the error payload for server response.";return new Pi(Ti.UNKNOWN,t)}function JH(){return new Pi(Ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eK(){return new Pi(Ti.CANCELED,"User canceled the upload/download.")}function tK(t){return new Pi(Ti.INVALID_URL,"Invalid URL '"+t+"'.")}function nK(t){return new Pi(Ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MN(t){return new Pi(Ti.INVALID_ARGUMENT,t)}function JP(){return new Pi(Ti.APP_DELETED,"The Firebase app was deleted.")}function rK(t){return new Pi(Ti.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qa.makeFromUrl(e,n)}catch{return new qa(e,"")}if(r.path==="")return r;throw nK(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",j=new RegExp(`^https?://${g}/${m}/b/${a}/o${y}`,"i"),w={bucket:1,path:3},S=n===ZP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${S}/${a}/${T}`,"i"),N=[{regex:u,indices:h,postModify:s},{regex:j,indices:w,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<N.length;O++){const D=N[O],M=D.regex.exec(e);if(M){const C=M[D.indices.bucket];let R=M[D.indices.path];R||(R=""),r=new qa(C,R),D.postModify(r);break}}if(r==null)throw tK(e);return r}}class aK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t,e,n){let r=1,a=null,s=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...T){f||(f=!0,e.apply(null,T))}function g(T){a=setTimeout(()=>{a=null,t(j,h())},T)}function y(){s&&clearTimeout(s)}function j(T,...E){if(f){y();return}if(T){y(),m.call(null,T,...E);return}if(h()||l){y(),m.call(null,T,...E);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let w=!1;function S(T){w||(w=!0,y(),!f&&(a!==null?(T||(u=2),clearTimeout(a),g(0)):T||(u=1)))}return g(0),s=setTimeout(()=>{l=!0,S(!0)},n),S}function sK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){return t!==void 0}function LN(t,e,n,r){if(r<e)throw MN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw MN(`Invalid value for '${t}'. Expected ${n} or less.`)}function lK(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Vg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vg||(Vg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,r,a,s,l,u,h,f,m,g,y=!0,j=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Mp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Vg.NO_ERROR,h=s.getStatus();if(!u||cK(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===Vg.ABORT;r(!1,new Mp(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Mp(f,s))})},n=(r,a)=>{const s=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());oK(h)?s(h):s()}catch(h){l(h)}else if(u!==null){const h=ZH();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(a.canceled){const h=this.appDelete_?JP():eK();l(h)}else{const h=JH();l(h)}};this.canceled_?n(!1,new Mp(!1,null,!0)):this.backoffId_=iK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pK(t,e,n,r,a,s,l=!0,u=!1){const h=lK(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return fK(m,e),dK(m,n),hK(m,s),mK(m,r),new uK(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vK(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this._service=e,n instanceof qa?this._location=n:this._location=qa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zg(e,n)}get root(){const e=new qa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vK(this._location.path)}get storage(){return this._service}get parent(){const e=gK(this._location.path);if(e===null)return null;const n=new qa(this._location.bucket,e);return new zg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rK(e)}}function BN(t,e){const n=e?.[YH];return n==null?null:qa.makeFromBucketSpec(n,t)}function yK(t,e,n,r={}){t.host=`${e}:${n}`;const a=pc(e);a&&(kj(`https://${t.host}/b`),Pj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:NI(s,t.app.options.projectId))}class xK{constructor(e,n,r,a,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=ZP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XH,this._maxUploadRetryTime=QH,this._requests=new Set,a!=null?this._bucket=qa.makeFromBucketSpec(a,this._host):this._bucket=BN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qa.makeFromBucketSpec(this._url,e):this._bucket=BN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zg(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new aK(JP());{const l=pK(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const UN="@firebase/storage",VN="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="storage";function bK(t=Mj(),e){t=jn(t);const r=kv(t,eR).getImmediate({identifier:e}),a=TI("storage");return a&&jK(r,...a),r}function jK(t,e,n,r={}){yK(t,e,n,r)}function wK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new xK(n,r,a,e,gc)}function _K(){ic(new Mo(eR,wK,"PUBLIC").setMultipleInstances(!0)),gi(UN,VN,""),gi(UN,VN,"esm2017")}_K();const SK={apiKey:"AIzaSyD4C8cE_DX6dWL89w_gwR2M3sjAtKK3GHU",authDomain:"rrvision-99414.firebaseapp.com",projectId:"rrvision-99414",storageBucket:"rrvision-99414.firebasestorage.app",messagingSenderId:"808020762931",appId:"808020762931:web:c8b68d4bad3352b037de46"},Nw=II(SK),Ql=gk(Nw),nt=DH(Nw);bK(Nw);const Bn=[],Cw=async t=>{console.log("convertFirebaseUser called with:",{uid:t.uid,email:t.email,displayName:t.displayName});const e=await TK(t.uid);console.log("User document from Firestore:",e);const n={id:t.uid,email:t.email||"",displayName:t.displayName||void 0,photoURL:t.photoURL||void 0,emailVerified:t.emailVerified,name:e?.name,company:e?.company,phone:e?.phone,createdAt:e?.createdAt,updatedAt:e?.updatedAt,role:e?.role||"operator",userType:e?.userType||"operator",accessToken:await t.getIdToken()};return e?.userType==="operator"&&e?.operatorData&&(n.operatorData={code:e.operatorData.code||"",primarySectorId:e.operatorData.primarySectorId||"",primarySectorName:e.operatorData.primarySectorName,secondarySectorIds:e.operatorData.secondarySectorIds||[],secondarySectorNames:e.operatorData.secondarySectorNames,trainedActivities:e.operatorData.trainedActivities||[],trainedActivitiesDetails:e.operatorData.trainedActivitiesDetails,status:e.operatorData.status||"active",admissionDate:e.operatorData.admissionDate||"",lastTrainingDate:e.operatorData.lastTrainingDate,nextTrainingDate:e.operatorData.nextTrainingDate,contractType:e.operatorData.contractType||"clt",workSchedule:e.operatorData.workSchedule||"day",weeklyHours:e.operatorData.weeklyHours||40,supervisorId:e.operatorData.supervisorId,supervisorName:e.operatorData.supervisorName,teamId:e.operatorData.teamId,teamName:e.operatorData.teamName,skills:e.operatorData.skills||[],certifications:e.operatorData.certifications||[],accessLevel:e.operatorData.accessLevel||"basic",permissions:e.operatorData.permissions||[]}),console.log("Converted user object:",n),console.log("Converted user name:",n.name),console.log("Converted user role:",n.role),console.log("Is operator:",e?.userType==="operator"),console.log("Operator data:",n.operatorData),n},TK=async t=>{try{console.log("getUserDocument called for uid:",t);const e=Gt(nt,"users",t);console.log("User reference created:",e.path);const n=await us(e);if(console.log("User snapshot exists:",n.exists()),n.exists()){const r=n.data();return console.log("User data retrieved:",r),console.log("User data keys:",Object.keys(r)),console.log("User data values:",Object.values(r)),console.log("User name type:",typeof r.name),console.log("User role type:",typeof r.role),r}return console.log("User document does not exist"),null}catch(e){return console.error("Error getting user document:",e),null}},EK=async(t,e)=>{try{const n=Gt(nt,"users",t);await cd(n,{id:t,email:e.email,name:e.name,company:e.company,phone:e.phone,role:"operator",userType:"operator",createdAt:vs(),updatedAt:vs()})}catch(n){throw console.error("Error creating user document:",n),n}},AK=async t=>{try{const{email:e,password:n,...r}=t,s=(await Fj(Ql,e,n)).user;return await ak(s,{displayName:r.name}),await EK(s.uid,t),await Cw(s)}catch(e){throw console.error("Error registering user:",e),e}},NK=async(t,e)=>{try{const n=await wz(Ql,t,e);return await Cw(n.user)}catch(n){throw console.error("Error logging in:",n),n}},CK=async()=>{try{await ik(Ql)}catch(t){throw console.error("Error logging out:",t),t}};class tR{static async createOperatorWithUser(e){try{const n=gk(),s=(await Fj(n,e.email,e.password)).user.uid;await ik(n);const l={id:s,email:e.email,name:e.name,displayName:e.displayName||e.name,company:e.company||"",phone:e.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system",code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",userId:s,operatorData:{code:e.code,primarySectorId:e.primarySectorId,secondarySectorIds:e.secondarySectorIds||[],trainedActivities:[],skills:e.skills||[],status:e.status,admissionDate:e.admissionDate,lastTrainingDate:e.lastTrainingDate||"",nextTrainingDate:e.nextTrainingDate||"",contractType:e.contractType,workSchedule:e.workSchedule,weeklyHours:e.weeklyHours,supervisorId:e.supervisorId||"",teamId:e.teamId||"",accessLevel:"basic",permissions:[],certifications:[]}},u={email:l.email,name:l.name,displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:null,emailVerified:!1,userType:"operator",role:"operator",code:l.code,primarySectorId:l.primarySectorId,secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status,admissionDate:l.admissionDate,lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType,workSchedule:l.workSchedule,weeklyHours:l.weeklyHours,supervisorId:l.supervisorId||"",teamId:l.teamId||"",createdAt:vs(),updatedAt:vs()};console.log("Dados para Firestore:",u);const h=Gt(nt,"users",s);return await cd(h,u),Bn.push(l),{user:l,operator:l}}catch(n){throw console.error("Erro ao criar usurio operador:",n),new Error("Falha ao criar usurio operador")}}static async getOperatorByUserId(e){try{const n=Gt(nt,"users",e),r=await us(n);if(r.exists()){const s=r.data();if(s.userType==="operator"&&s.operatorData)return s}const a=Bn.find(s=>s.id===e);return a&&a.userType==="operator"&&a.operatorData?a:null}catch(n){console.error("Erro ao buscar operador por userId:",n);const r=Bn.find(a=>a.id===e);return r&&r.userType==="operator"&&r.operatorData?r:null}}static async getUserByOperatorId(e){try{const n=Gt(nt,"users",e),r=await us(n);return r.exists()?r.data():Bn.find(a=>a.id===e)||null}catch(n){return console.error("Erro ao buscar usurio por operatorId:",n),Bn.find(r=>r.id===e)||null}}static isOperator(e){return e.userType==="operator"&&e.operatorData!==void 0}static async getAllOperatorsWithUsers(){try{const e=fr(nt,"users"),n=$a(e,Ir("userType","==","operator")),r=await _a(n),a=[];for(const s of r.docs){const l=s.data(),u=s.id,h={id:u,email:l.email||"",name:l.name||"",displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:l.photoURL||null,emailVerified:l.emailVerified||!1,userType:l.userType||"operator",role:l.role||"user",createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt||new Date().toISOString(),updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt||new Date().toISOString(),createdBy:l.createdBy||"system",updatedBy:l.updatedBy||"system",operatorData:{code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],trainedActivities:l.trainedActivities||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",accessLevel:l.accessLevel||"basic",permissions:l.permissions||[],certifications:l.certifications||[]}},f={...h,code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",userId:u};a.push({operator:f,user:h})}return Bn.length=0,a.forEach(({user:s})=>{Bn.push(s)}),console.log("Operadores encontrados:",a.length),a}catch(e){return console.error("Erro ao buscar operadores com usurios:",e),Bn.filter(n=>n.userType==="operator"&&n.operatorData).map(n=>({operator:n,user:n}))}}static async updateOperator(e,n){try{const r=Gt(nt,"users",e);await Zr(r,{...n,updatedAt:vs()});const a=await us(r);if(!a.exists())throw new Error("Operador no encontrado");const s=a.data(),l={id:e,email:s.email||"",name:s.name||"",displayName:s.displayName||"",company:s.company||"",phone:s.phone||"",photoURL:s.photoURL||null,emailVerified:s.emailVerified||!1,userType:s.userType||"operator",role:s.role||"user",createdAt:s.createdAt?.toDate?.()?.toISOString()||s.createdAt||new Date().toISOString(),updatedAt:s.updatedAt?.toDate?.()?.toISOString()||s.updatedAt||new Date().toISOString(),createdBy:s.createdBy||"system",updatedBy:s.updatedBy||"system",code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",userId:e,operatorData:{code:s.code||"",primarySectorId:s.primarySectorId||"",secondarySectorIds:s.secondarySectorIds||[],trainedActivities:s.trainedActivities||[],skills:s.skills||[],status:s.status||"active",admissionDate:s.admissionDate||"",lastTrainingDate:s.lastTrainingDate||"",nextTrainingDate:s.nextTrainingDate||"",contractType:s.contractType||"clt",workSchedule:s.workSchedule||"day",weeklyHours:s.weeklyHours||40,supervisorId:s.supervisorId||"",teamId:s.teamId||"",accessLevel:s.accessLevel||"basic",permissions:s.permissions||[],certifications:s.certifications||[]}},u=Bn.findIndex(h=>h.id===e);return u!==-1&&(Bn[u]=l),l}catch(r){throw console.error("Erro ao atualizar operador:",r),r}}static async deleteOperatorAndUser(e){try{const n=Gt(nt,"users",e),r=await us(n);if(!r.exists())throw new Error("Operador no encontrado");if(r.data().userType!=="operator")throw new Error("Usurio no  um operador");await Aw(n),console.log("Operador excludo com sucesso do Firestore");const s=Bn.findIndex(l=>l.id===e);s!==-1&&Bn.splice(s,1)}catch(n){throw console.error("Erro ao excluir operador e usurio:",n),n}}static async getOperatorByCode(e){try{const n=fr(nt,"users"),r=$a(n,Ir("userType","==","operator")),a=await _a(r);for(const s of a.docs){const l=s.data(),u=s.id;if(l.code===e)return{id:u,email:l.email||"",name:l.name||"",displayName:l.displayName||"",company:l.company||"",phone:l.phone||"",photoURL:l.photoURL||null,emailVerified:l.emailVerified||!1,userType:l.userType||"operator",role:l.role||"user",createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt||new Date().toISOString(),updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt||new Date().toISOString(),createdBy:l.createdBy||"system",updatedBy:l.updatedBy||"system",code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",userId:u,operatorData:{code:l.code||"",primarySectorId:l.primarySectorId||"",secondarySectorIds:l.secondarySectorIds||[],trainedActivities:l.trainedActivities||[],skills:l.skills||[],status:l.status||"active",admissionDate:l.admissionDate||"",lastTrainingDate:l.lastTrainingDate||"",nextTrainingDate:l.nextTrainingDate||"",contractType:l.contractType||"clt",workSchedule:l.workSchedule||"day",weeklyHours:l.weeklyHours||40,supervisorId:l.supervisorId||"",teamId:l.teamId||"",accessLevel:l.accessLevel||"basic",permissions:l.permissions||[],certifications:l.certifications||[]}}}return Bn.find(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)||null}catch(n){return console.error("Erro ao buscar operador por cdigo:",n),Bn.find(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)||null}}static async isCodeAlreadyUsed(e){try{const n=fr(nt,"users"),r=$a(n,Ir("userType","==","operator")),a=await _a(r);for(const s of a.docs)if(s.data().code===e)return!0;return Bn.some(s=>s.userType==="operator"&&s.operatorData&&s.operatorData.code===e)}catch(n){return console.error("Erro ao verificar cdigo:",n),Bn.some(r=>r.userType==="operator"&&r.operatorData&&r.operatorData.code===e)}}static async isEmailAlreadyUsed(e){try{const n=fr(nt,"users"),r=$a(n,Ir("email","==",e));return(await _a(r)).empty?Bn.some(s=>s.email===e):!0}catch(n){return console.error("Erro ao verificar email:",n),Bn.some(r=>r.email===e)}}}const OK=tR.getAllOperatorsWithUsers,IK=tR.isCodeAlreadyUsed,kK={user:null,loading:!0,error:null},Ao={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR"},PK=(t,e)=>{switch(e.type){case Ao.SET_LOADING:return{...t,loading:e.payload};case Ao.SET_USER:return{...t,user:e.payload,loading:!1,error:null};case Ao.SET_ERROR:return{...t,error:e.payload,loading:!1};case Ao.CLEAR_ERROR:return{...t,error:null};default:return t}},nR=b.createContext(void 0),RK=({children:t})=>{const[e,n]=b.useReducer(PK,kK),r=b.useCallback(y=>{n({type:Ao.SET_LOADING,payload:y})},[]),a=b.useCallback(y=>{n({type:Ao.SET_USER,payload:y})},[]),s=b.useCallback(y=>{n({type:Ao.SET_ERROR,payload:y})},[]),l=b.useCallback(()=>{n({type:Ao.CLEAR_ERROR})},[]),u=b.useCallback(async y=>{try{if(y){const j=await Cw(y);a(j)}else a(null)}catch(j){console.error("Error converting Firebase user:",j),s("Failed to load user data"),a(null)}},[a,s]);b.useEffect(()=>{const y=Ez(Ql,u);return()=>y()},[u]);const h=b.useCallback(async(y,j)=>{r(!0),l();try{const w=await NK(y,j);return a(w),w}catch(w){const S=w instanceof Error?w.message:"Login failed";throw s(S),w}},[r,l,a,s]),f=b.useCallback(async y=>{r(!0),l();try{const j=await AK(y);return a(j),j}catch(j){const w=j instanceof Error?j.message:"Registration failed";throw s(w),j}},[r,l,a,s]),m=b.useCallback(async()=>{r(!0),l();try{await CK(),a(null)}catch(y){const j=y instanceof Error?y.message:"Logout failed";throw s(j),y}},[r,l,a,s]),g=b.useMemo(()=>({user:e.user,loading:e.loading,login:h,register:f,logout:m}),[e.user,e.loading,h,f,m]);return b.useCallback(()=>e.user!==null,[e.user]),i.jsx(nR.Provider,{value:g,children:t})},Ya=()=>{const t=b.useContext(nR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},DK=()=>{const{login:t}=Ya(),[e,n]=b.useState(!1),[r,a]=b.useState(null);return{handleLogin:async u=>{n(!0),a(null);try{return await t(u.email,u.password)}catch(h){const f=h instanceof Error?h.message:"Login failed";throw a(f),h}finally{n(!1)}},loading:e,error:r,clearError:()=>a(null)}};function MK(){const[t,e]=b.useState({email:"",password:""}),{goTo:n}=Go(),{handleLogin:r,loading:a,error:s,clearError:l}=DK();Ya();const u=()=>{n(st.landing)},h=m=>{s&&l(),e({...t,[m.target.name]:m.target.value})},f=async m=>{m.preventDefault();try{await r(t);let g;g=st.app,n(g)}catch{}};return i.jsxs("div",{className:"login-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:u,disabled:a,title:"Voltar  pgina inicial",children:i.jsx(Kh,{})}),i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-card",children:[i.jsxs("div",{className:"login-header",children:[i.jsx("h1",{children:"Entrar no Sistema"}),i.jsx("p",{children:"Acesse sua conta RR Vision Brazil"})]}),i.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:s}),i.jsx(Pt,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:h,required:!0,disabled:a,icon:i.jsx(Ij,{})}),i.jsx(Pt,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:h,required:!0,disabled:a,icon:i.jsx(Jb,{})}),i.jsxs("div",{className:"form-options",children:[i.jsxs("label",{className:"checkbox-container",children:[i.jsx("input",{type:"checkbox",disabled:a}),"Lembrar de mim"]}),i.jsx("span",{className:"forgot-link",style:{cursor:a?"not-allowed":"pointer",opacity:a?.6:1},onClick:()=>!a&&n(st.forgotPassword),children:"Esqueceu a senha?"})]}),i.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,disabled:a,children:a?"Entrando...":"Entrar"})]}),i.jsx("div",{className:"login-footer",children:i.jsxs("p",{children:["No tem uma conta?"," ",i.jsx("span",{style:{cursor:a?"not-allowed":"pointer",color:"#fbb040",opacity:a?.6:1},onClick:()=>!a&&n(st.register),children:"Cadastre-se"})]})})]})})]})}const LK=()=>{const{register:t}=Ya(),[e,n]=b.useState(!1),[r,a]=b.useState(null),s=(h,f)=>h!==f?(a("As senhas no coincidem"),!1):h.length<6?(a("A senha deve ter pelo menos 6 caracteres"),!1):!0;return{handleRegister:async h=>{n(!0),a(null);try{if(!s(h.password,h.confirmPassword)){n(!1);return}const f={name:h.name,email:h.email,company:h.company,phone:h.phone,password:h.password};await t(f)}catch(f){const m=f instanceof Error?f.message:"Registration failed";throw a(m),f}finally{n(!1)}},loading:e,error:r,clearError:()=>a(null)}};function BK(){const[t,e]=b.useState({name:"",email:"",company:"",phone:"",password:"",confirmPassword:""}),[n,r]=b.useState(!1),{goTo:a}=Go(),{handleRegister:s,loading:l,error:u,clearError:h}=LK(),f=()=>{a(st.landing)},m=y=>{u&&h(),e({...t,[y.target.name]:y.target.value})},g=async y=>{if(y.preventDefault(),!n){alert("Voc deve aceitar os termos de uso e poltica de privacidade");return}try{await s(t),a(st.app)}catch(j){console.error("Registration failed:",j)}};return i.jsxs("div",{className:"register-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:f,disabled:l,title:"Voltar  pgina inicial",children:i.jsx(Kh,{})}),i.jsx("div",{className:"register-container",children:i.jsxs("div",{className:"register-card",children:[i.jsxs("div",{className:"register-header",children:[i.jsx("h1",{children:"Criar Conta"}),i.jsx("p",{children:"Cadastre-se no RR Vision Brazil"})]}),i.jsxs("form",{onSubmit:g,className:"register-form",children:[u&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:u}),i.jsxs("div",{className:"form-row",children:[i.jsx(Pt,{type:"text",name:"name",placeholder:"Nome completo",value:t.name,onChange:m,required:!0,disabled:l,icon:i.jsx(qB,{})}),i.jsx(Pt,{type:"email",name:"email",placeholder:"E-mail",value:t.email,onChange:m,required:!0,disabled:l,icon:i.jsx(Ij,{})})]}),i.jsxs("div",{className:"form-row",children:[i.jsx(Pt,{type:"text",name:"company",placeholder:"Empresa",value:t.company,onChange:m,required:!0,disabled:l,icon:i.jsx(zB,{})}),i.jsx(Pt,{type:"tel",name:"phone",placeholder:"Telefone",value:t.phone,onChange:m,required:!0,disabled:l,icon:i.jsx($B,{})})]}),i.jsxs("div",{className:"form-row",children:[i.jsx(Pt,{type:"password",name:"password",placeholder:"Senha",value:t.password,onChange:m,required:!0,disabled:l,icon:i.jsx(Jb,{})}),i.jsx(Pt,{type:"password",name:"confirmPassword",placeholder:"Confirmar senha",value:t.confirmPassword,onChange:m,required:!0,disabled:l,icon:i.jsx(Jb,{})})]}),i.jsx("div",{className:"form-options",children:i.jsxs("label",{className:"checkbox-container",children:[i.jsx("input",{type:"checkbox",required:!0,disabled:l,checked:n,onChange:y=>r(y.target.checked)}),i.jsx("span",{className:"checkmark"}),"Aceito os"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(st.terms),children:"termos de uso"})," ","e"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(st.privacy),children:"poltica de privacidade"})]})}),i.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,disabled:l||!n,children:l?"Criando conta...":"Criar Conta"})]}),i.jsx("div",{className:"register-footer",children:i.jsxs("p",{children:["J tem uma conta?"," ",i.jsx("span",{style:{cursor:l?"not-allowed":"pointer",color:"#fbb040",opacity:l?.6:1},onClick:()=>!l&&a(st.login),children:"Faa login"})]})})]})})]})}function UK(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),[a,s]=b.useState(""),[l,u]=b.useState(!1),{goTo:h}=Go(),f=j=>{a&&s(""),e(j.target.value)},m=async j=>{if(j.preventDefault(),!t.trim()){s("Por favor, insira seu e-mail");return}r(!0),s("");try{await new Promise(w=>setTimeout(w,2e3)),u(!0),r(!1)}catch{s("Erro ao enviar e-mail de recuperao. Tente novamente."),r(!1)}},g=()=>{h(st.login)},y=()=>{h(st.landing)};return l?i.jsxs("div",{className:"recovery-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:y,disabled:n,title:"Voltar  pgina inicial",children:i.jsx(Kh,{})}),i.jsx("div",{className:"recovery-container",children:i.jsxs("div",{className:"recovery-card",children:[i.jsxs("div",{className:"recovery-header",children:[i.jsx("div",{className:"success-icon",children:i.jsx(VB,{})}),i.jsx("h1",{children:"E-mail Enviado!"}),i.jsx("p",{children:"Verifique sua caixa de entrada"})]}),i.jsxs("div",{className:"recovery-success-message",children:[i.jsxs("p",{children:["Enviamos um link de recuperao para ",i.jsx("strong",{children:t})]}),i.jsx("p",{children:"Clique no link recebido para redefinir sua senha. O link expira em 1 hora."})]}),i.jsxs("div",{className:"recovery-actions",children:[i.jsx(et,{variant:"secondary",fullWidth:!0,onClick:g,children:"Voltar ao Login"}),i.jsx(et,{variant:"outline",fullWidth:!0,onClick:()=>{u(!1),e("")},children:"Enviar Novamente"})]})]})})]}):i.jsxs("div",{className:"recovery-page",children:[i.jsx("button",{className:"back-to-landing-btn",onClick:y,disabled:n,title:"Voltar  pgina inicial",children:i.jsx(Kh,{})}),i.jsx("div",{className:"recovery-container",children:i.jsxs("div",{className:"recovery-card",children:[i.jsxs("div",{className:"recovery-header",children:[i.jsx("h1",{children:"Recuperar Senha"}),i.jsx("p",{children:"Digite seu e-mail para receber o link de recuperao"})]}),i.jsxs("form",{onSubmit:m,className:"recovery-form",children:[a&&i.jsx("div",{className:"error-message",style:{color:"#e53e3e",backgroundColor:"#fed7d7",padding:"0.75rem",borderRadius:"0.375rem",marginBottom:"1rem",fontSize:"0.875rem"},children:a}),i.jsx(Pt,{type:"email",name:"email",placeholder:"Digite seu e-mail",value:t,onChange:f,required:!0,disabled:n,icon:i.jsx(Ij,{})}),i.jsx(et,{type:"submit",variant:"primary",fullWidth:!0,disabled:n||!t.trim(),children:n?"Enviando...":"Enviar Link de Recuperao"})]}),i.jsx("div",{className:"recovery-footer",children:i.jsxs("button",{className:"back-button",onClick:g,disabled:n,style:{cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[i.jsx(Kh,{}),"Voltar ao Login"]})})]})})]})}class Or{static TOKEN_ENDPOINT="/api/bling/oauth/token";static REFRESH_ENDPOINT="/api/bling/oauth/refresh";static async exchangeCodeForTokens(e){const{clientId:n,clientSecret:r,authorizationCode:a,redirectUri:s}=e;try{console.log(" Iniciando troca de cdigo por token via proxy:",{endpoint:this.TOKEN_ENDPOINT,clientId:n,codeLength:a.length});const l=await fetch(this.TOKEN_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({clientId:n,clientSecret:r,authorizationCode:a,redirectUri:s})});if(!l.ok){let h=`Erro na requisio de token: ${l.status}`;try{const f=await l.json();f.error_description?h=f.error_description:f.error&&(h=`Erro ${f.error}`)}catch{const f=await l.text();h=`Erro ${l.status}: ${f}`}throw new Error(h)}const u=await l.json();if(console.log(" Token obtido com sucesso:",{token_type:u.token_type,expires_in:u.expires_in,has_refresh_token:!!u.refresh_token,scope:u.scope}),!u.access_token)throw new Error("Token de acesso no encontrado na resposta");return u}catch(l){throw console.error("Erro ao trocar cdigo por token:",l),l}}static saveTokens(e){try{localStorage.setItem("bling_access_token",e.access_token),localStorage.setItem("bling_token_type",e.token_type),localStorage.setItem("bling_token_expires_in",e.expires_in.toString()),e.refresh_token&&localStorage.setItem("bling_refresh_token",e.refresh_token),e.scope&&localStorage.setItem("bling_token_scope",e.scope);const n=new Date(Date.now()+e.expires_in*1e3);localStorage.setItem("bling_token_expires_at",n.toISOString()),window.dispatchEvent(new CustomEvent("blingTokenChanged"))}catch(n){throw console.error("Erro ao salvar tokens:",n),n}}static clearTokens(){localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_type"),localStorage.removeItem("bling_token_expires_in"),localStorage.removeItem("bling_token_expires_at"),localStorage.removeItem("bling_token_scope"),window.dispatchEvent(new CustomEvent("blingTokenChanged"))}static hasValidToken(){const e=localStorage.getItem("bling_access_token"),n=localStorage.getItem("bling_token_expires_at");return!e||!n?!1:new Date(n)>new Date}static getAccessToken(){return localStorage.getItem("bling_access_token")}static async refreshAccessToken(e){const{clientId:n,clientSecret:r,refreshToken:a}=e;try{console.log(" Iniciando refresh do token via proxy:",{endpoint:this.REFRESH_ENDPOINT,clientId:n,refreshTokenLength:a.length});const s=await fetch(this.REFRESH_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({clientId:n,clientSecret:r,refreshToken:a})});if(!s.ok){let u=`Erro na requisio de refresh token: ${s.status}`;try{const h=await s.json();h.error_description?u=h.error_description:h.error&&(u=`Erro ${h.error}`)}catch{const h=await s.text();u=`Erro ${s.status}: ${h}`}throw new Error(u)}const l=await s.json();if(console.log(" Token renovado com sucesso:",{token_type:l.token_type,expires_in:l.expires_in,has_refresh_token:!!l.refresh_token,scope:l.scope}),!l.access_token)throw new Error("Token de acesso no encontrado na resposta do refresh");return l}catch(s){throw console.error("Erro ao renovar token:",s),s}}static getRefreshToken(){return localStorage.getItem("bling_refresh_token")}static hasRefreshToken(){return!!localStorage.getItem("bling_refresh_token")}static getTokenInfo(){const e=localStorage.getItem("bling_access_token"),n=localStorage.getItem("bling_token_type"),r=localStorage.getItem("bling_token_expires_at"),a=localStorage.getItem("bling_token_scope"),s=this.hasValidToken(),l=this.hasRefreshToken();return{access_token:e,token_type:n,expires_at:r,scope:a,is_valid:s,has_refresh_token:l}}}const Nh={clientId:"",redirectUri:"",state:""},dx="bling_oauth_config",ry=()=>{const[t,e]=b.useState(Nh),[n,r]=b.useState(!1);b.useEffect(()=>{const h=localStorage.getItem(dx);if(h)try{const f=JSON.parse(h);e({clientId:f.clientId||Nh.clientId,redirectUri:f.redirectUri||Nh.redirectUri,state:f.state||Nh.state})}catch(f){console.error("Erro ao carregar configurao OAuth:",f)}},[]);const a=b.useCallback(h=>{try{localStorage.setItem(dx,JSON.stringify(h)),e(h),r(!1)}catch(f){console.error("Erro ao salvar configurao OAuth:",f)}},[]),s=b.useCallback(()=>{localStorage.removeItem(dx),e(Nh),r(!1)},[]),l=b.useCallback((h,f)=>{e(m=>({...m,[h]:f}))},[]),u=b.useCallback(h=>{const f=[];return h.clientId.trim()||f.push("Client ID  obrigatrio"),h.redirectUri.trim()?h.redirectUri.startsWith("http")||f.push("Redirect URI deve ser uma URL vlida"):f.push("Redirect URI  obrigatrio"),h.state.trim()||f.push("State  obrigatrio"),f},[]);return{config:t,isEditing:n,setIsEditing:r,saveConfig:a,resetConfig:s,updateField:l,validateConfig:u}},hx="bling_client_secret",Ow=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(!1);b.useEffect(()=>{const u=localStorage.getItem(hx);u&&e(u),r(!0)},[]);const a=b.useCallback(u=>{try{u.trim()&&(localStorage.setItem(hx,u.trim()),e(u.trim()))}catch(h){console.error("Erro ao salvar Client Secret:",h)}},[]),s=b.useCallback(()=>{try{localStorage.removeItem(hx),e("")}catch(u){console.error("Erro ao limpar Client Secret:",u)}},[]),l=b.useCallback(u=>{e(u)},[]);return{clientSecret:t,isLoaded:n,saveClientSecret:a,clearClientSecret:s,updateClientSecret:l}};function VK(){const[t]=HL(),[e,n]=b.useState(30),[r,a]=b.useState(!1),[s,l]=b.useState(!0),[u,h]=b.useState(!1),f=b.useRef(null),[m,g]=b.useState(!1),[y,j]=b.useState(!1),[w,S]=b.useState("idle"),[T,E]=b.useState(""),[I,N]=b.useState(null),{config:O}=ry(),{clientSecret:D,isLoaded:M,saveClientSecret:C,clearClientSecret:R,updateClientSecret:B}=Ow();console.log("BlingCallback - clientSecret:",D),console.log("BlingCallback - isClientSecretLoaded:",M),b.useEffect(()=>{const ae=t.get("code"),F=t.get("state"),G=t.get("error"),ve=setTimeout(()=>{G?window.opener&&!window.opener.closed&&(window.opener.postMessage({type:"BLING_OAUTH_ERROR",error:G},window.location.origin),h(!0)):ae?window.opener&&!window.opener.closed&&(window.opener.postMessage({type:"BLING_OAUTH_SUCCESS",code:ae,state:F},window.location.origin),h(!0)):window.opener&&!window.opener.closed&&(window.opener.postMessage({type:"BLING_OAUTH_ERROR",error:"Cdigo de autorizao no encontrado"},window.location.origin),h(!0))},1e3);return()=>{clearTimeout(ve)}},[t]),b.useEffect(()=>(s&&!r&&e>0?f.current=setInterval(()=>{n(ae=>ae<=1?(window.opener&&!window.opener.closed&&window.close(),0):ae-1)},1e3):f.current&&(clearInterval(f.current),f.current=null),()=>{f.current&&clearInterval(f.current)}),[s,r,e]);const $=t.get("code"),L=t.get("error"),U=t.get("state"),z=()=>{a(!r)},xe=()=>{l(!s)},ce=()=>{window.opener&&!window.opener.closed&&window.close()},X=()=>{D.trim()?(C(D),console.log("Client Secret salvo com sucesso!")):console.log("Nenhum Client Secret para salvar")},se=()=>{R(),console.log("Client Secret limpo com sucesso!")},ge=async()=>{const ae=t.get("code");if(!ae){E("Nenhum cdigo de autorizao disponvel"),S("error");return}if(!D.trim()){E("Client Secret  obrigatrio"),S("error");return}j(!0),S("loading"),E("");try{const F={clientId:O.clientId,clientSecret:D.trim(),authorizationCode:ae,redirectUri:O.redirectUri};console.log("Trocando cdigo por token...");const G=await Or.exchangeCodeForTokens(F);console.log("Token obtido com sucesso:",{token_type:G.token_type,expires_in:G.expires_in,has_refresh_token:!!G.refresh_token}),Or.saveTokens(G),N(Or.getTokenInfo()),S("success"),E(""),window.opener&&!window.opener.closed&&window.opener.postMessage({type:"BLING_TOKEN_SUCCESS",token:G.access_token,tokenInfo:Or.getTokenInfo()},window.location.origin)}catch(F){console.error("Erro ao trocar cdigo por token:",F),S("error"),E(F instanceof Error?F.message:"Erro desconhecido")}finally{j(!1)}},Se=()=>$?i.jsx(qn,{className:"status-icon success"}):L?i.jsx(Xe,{className:"status-icon error"}):i.jsx(os,{className:"status-icon info"}),H=()=>$?s?`Autorizao concluda com sucesso! Esta janela ser fechada automaticamente em ${e} segundos.`:"Autorizao concluda com sucesso! O fechamento automtico est desabilitado.":L?`Erro na autorizao: ${L}`:"Processando autorizao...";return i.jsx("div",{className:"bling-callback",children:i.jsxs("div",{className:"callback-content",children:[i.jsxs("div",{className:"callback-header",children:[i.jsx("div",{className:"callback-icon",children:Se()}),i.jsx("h2",{children:$?"Autorizao Concluda!":L?"Erro na Autorizao":"Processando..."}),i.jsx("p",{className:"status-message",children:H()})]}),u&&i.jsxs("div",{className:"message-status",children:[i.jsx(qn,{className:"message-icon"}),i.jsx("span",{children:"Mensagem enviada para a aplicao principal"})]}),i.jsxs("div",{className:"callback-details",children:[$&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Cdigo de Autorizao:"}),i.jsx("code",{children:$})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"State:"}),i.jsx("code",{children:U||"N/A"})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("strong",{children:"Timestamp:"}),i.jsx("span",{children:new Date().toLocaleString("pt-BR")})]})]}),L&&i.jsxs("div",{className:"detail-item error",children:[i.jsx("strong",{children:"Erro:"}),i.jsx("span",{children:L})]})]}),$&&i.jsxs("div",{className:"token-exchange-section",children:[i.jsx("h5",{children:" Trocar Cdigo por Token de Acesso"}),i.jsxs("div",{className:"expiration-warning",children:[i.jsx(Xe,{className:"warning-icon"}),i.jsx("strong",{children:" Importante:"})," O cdigo de autorizao expira em ",i.jsx("strong",{children:"1 minuto"}),"!"]}),i.jsx("p",{children:"Configure o Client Secret para obter o token de acesso automaticamente:"}),i.jsxs("div",{className:"oauth-info",children:[i.jsx("strong",{children:" Conforme documentao do Bling:"})," A requisio POST para `/oauth/token` requer o header ",i.jsx("code",{children:"Authorization: Basic [base64_das_credenciais_do_client_app]"}),", onde as credenciais so ",i.jsx("code",{children:"ClientID:ClientSecret"})," codificadas em Base64."]}),i.jsxs("div",{className:"client-secret-config",children:[i.jsxs("label",{htmlFor:"client-secret-callback",children:[i.jsx(Du,{}),"Client Secret:",M&&D&&i.jsxs("span",{className:"saved-indicator",children:[i.jsx(qn,{}),"Salvo"]})]}),i.jsxs("div",{className:"secret-input-group",children:[i.jsx("input",{id:"client-secret-callback",type:m?"text":"password",value:D,onChange:ae=>B(ae.target.value),placeholder:"Digite o Client Secret do Bling",className:"secret-input"}),i.jsx("button",{type:"button",className:"btn btn-toggle-secret",onClick:()=>g(!m),title:m?"Ocultar secret":"Mostrar secret",children:m?i.jsx(Cv,{}):i.jsx(Wo,{})}),i.jsxs("button",{type:"button",className:"btn btn-save",onClick:X,title:"Salvar Client Secret",children:[i.jsx(ws,{}),"Salvar"]}),i.jsxs("button",{type:"button",className:"btn btn-clear",onClick:se,title:"Limpar Client Secret salvo",children:[i.jsx(Ss,{}),"Limpar"]})]})]}),!I?.access_token&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"token-exchange-actions",children:i.jsx("button",{className:"btn btn-exchange",onClick:ge,disabled:y||!D.trim(),children:y?i.jsxs(i.Fragment,{children:[i.jsx(Oj,{className:"spinning"}),"Trocando Token..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Du,{}),"Trocar por Token"]})})}),w!=="idle"&&i.jsxs("div",{className:`token-exchange-status ${w}`,children:[w==="success"&&i.jsx("span",{children:" Token obtido com sucesso!"}),w==="error"&&i.jsxs("span",{children:[" Erro: ",T]}),w==="loading"&&i.jsx("span",{children:" Trocando cdigo por token..."})]})]})]}),I?.access_token&&i.jsxs("div",{className:"token-success-section",children:[i.jsx("h5",{children:" Token de Acesso Obtido!"}),i.jsxs("div",{className:"token-details",children:[i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Tipo:"}),i.jsx("span",{children:I.token_type||"N/A"})]}),i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Vlido:"}),i.jsx("span",{className:I.is_valid?"valid":"invalid",children:I.is_valid?" Sim":" No"})]}),i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Expira em:"}),i.jsx("span",{children:I.expires_at?new Date(I.expires_at).toLocaleString("pt-BR"):"N/A"})]})]}),i.jsxs("div",{className:"token-display",children:[i.jsx("strong",{children:"Access Token:"}),i.jsx("div",{className:"token-value",children:i.jsx("code",{children:I.access_token})})]})]}),$&&i.jsxs("div",{className:"countdown-controls",children:[i.jsxs("div",{className:"countdown-display",children:[i.jsx("div",{className:`countdown-circle ${r?"paused":""}`,children:i.jsx("span",{className:"countdown-number",children:e})}),i.jsx("p",{className:"countdown-text",children:r?"Contador pausado":s?`Fechando em ${e} segundo${e!==1?"s":""}`:"Fechamento automtico desabilitado"})]}),i.jsxs("div",{className:"control-buttons",children:[i.jsxs("button",{className:`btn btn-control ${r?"btn-resume":"btn-pause"}`,onClick:z,title:r?"Retomar contador":"Pausar contador",children:[r?i.jsx(vI,{}):i.jsx(jg,{}),r?"Retomar":"Pausar"]}),i.jsx("button",{className:`btn btn-control ${s?"btn-disable":"btn-enable"}`,onClick:xe,title:s?"Desabilitar fechamento automtico":"Habilitar fechamento automtico",children:s?"Desabilitar Auto":"Habilitar Auto"})]})]}),i.jsx("div",{className:"callback-actions",children:i.jsxs("button",{className:"btn btn-close",onClick:ce,title:"Fechar janela imediatamente",children:[i.jsx(Cn,{}),"Fechar Janela"]})}),i.jsxs("div",{className:"callback-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx(os,{className:"info-icon"}),i.jsxs("div",{className:"info-content",children:[i.jsx("p",{children:i.jsx("strong",{children:"O que aconteceu?"})}),i.jsx("p",{children:$?"Voc autorizou com sucesso o acesso da aplicao  sua conta do Bling. O cdigo de autorizao foi enviado para a aplicao principal.":"Ocorreu um erro durante o processo de autorizao. Verifique os detalhes acima."})]})]}),i.jsxs("div",{className:"help-section",children:[i.jsx("p",{children:i.jsx("strong",{children:" Dicas:"})}),i.jsxs("ul",{children:[i.jsx("li",{children:"Use os controles acima para pausar ou desabilitar o fechamento automtico"}),i.jsx("li",{children:"Voc pode fechar esta janela manualmente a qualquer momento"}),i.jsx("li",{children:'Se a janela no fechar automaticamente, clique em "Fechar Janela"'})]})]})]})]})})}function zK({currentPage:t,onPageChange:e,variant:n="default"}){const[r,a]=b.useState(!1),[s,l]=b.useState(null),[u,h]=b.useState({top:0,left:0}),f=Ya(),{user:m,logout:g}=f,{goTo:y}=Go();console.log("Sidebar Auth Data:",f),console.log("Sidebar User Data:",{name:m?.name,email:m?.email,role:m?.role,id:m?.id}),console.log("Full user object in Sidebar:",m),console.log("User type:",typeof m),console.log("User is null?",m===null),console.log("User is undefined?",m===void 0);const j=[{id:"orders",title:"Dashboard",icon:i.jsx(hI,{}),description:"Viso Geral do Sistema",badge:null,access:["admin"]},{id:"user-creation",title:"Usurio",icon:i.jsx(NB,{}),description:"Gerenciar Usurios",badge:null,access:["admin"]},{id:"product-management",title:"Gerenciar Produtos",icon:i.jsx(Do,{}),description:"Cadastro e Gesto de Produtos",badge:null,access:["admin"]},{id:"schedule",title:"Agenda",icon:i.jsx(Pf,{}),description:"Agenda do Operador",badge:null,access:["admin","operator"]},{id:"productivity",title:"Produtividade",icon:i.jsx(mr,{}),description:"Painel de Produtividade",badge:null,access:["admin"]},{id:"nonconformities",title:"No Conformidades",icon:i.jsx(Xe,{}),description:"Controle de Qualidade",badge:"2",access:["admin"]},{id:"bling-test",title:"Teste Bling",icon:i.jsx(mB,{}),description:"Testar Integrao Bling",badge:null,access:["user","admin"]},{id:"products",title:"Produtos",icon:i.jsx(Do,{}),description:"Gesto de Produtos",badge:null,access:["user","admin"],subItems:[{id:"accessory",title:"Accessory"},{id:"aviation-plug",title:"Aviation plug"},{id:"hvc",title:"HVC"},{id:"connector",title:"Connector"},{id:"fuse-relay-box",title:"Fuse and relay box"},{id:"terminal",title:"Terminal"},{id:"rubber-parts",title:"Rubber Parts"},{id:"backshell",title:"Backshell"},{id:"manifolds",title:"Manifolds"},{id:"wire-harness",title:"Wire harness"},{id:"pcb-connector",title:"PCB connector"}]},{id:"operational-routes",title:"Roteiros Operacionais",icon:i.jsx(Mu,{}),description:"Cadastro de Roteiros de Produo",badge:null,access:["admin"]},{id:"operational-routes-list",title:"Lista de Roteiros",icon:i.jsx(Mu,{}),description:"Visualizar Todos os Roteiros",badge:null,access:["admin"]}],w=[{id:"admin-users",title:"Gerenciar Usurios",icon:i.jsx(OB,{}),description:"Administrao do Sistema",badge:null,access:["admin"]}],T=(()=>{if(n==="admin")return w;if(m?.userType==="operator"||m?.role==="operator")return j.filter(M=>M.id==="schedule");const O=m?.role||"user";return[...j,...O==="admin"?w:[]].filter(M=>M.access.includes(O)||M.access.includes("admin")||O==="admin")})(),E=O=>{if(O==="admin-users"){y(st.admin);return}e(O)},I=O=>{const M={accessory:st.productAccessory,"aviation-plug":st.productAviationPlug,hvc:st.productHvc,connector:st.productConnector,"fuse-relay-box":st.productFuseRelayBox,terminal:st.productTerminal,"rubber-parts":st.productRubberParts,backshell:st.productBackshell,manifolds:st.productManifolds,"wire-harness":st.productWireHarness,"pcb-connector":st.productPcbConnector}[O];y(M||st.products),l(null)},N=async()=>{try{await g(),y(st.landing)}catch(O){console.error("Logout failed:",O)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`sidebar ${r?"sidebar-collapsed":""}`,children:[i.jsxs("div",{className:"sidebar-header",children:[i.jsx("div",{className:"sidebar-logo",children:!r&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"logo-text",children:"RR Vision"}),i.jsx("span",{className:"logo-subtitle",children:"Brazil"})]})}),i.jsx("button",{className:"sidebar-toggle",onClick:()=>a(!r),title:r?"Expandir sidebar":"Recolher sidebar",children:r?i.jsx(Qb,{}):i.jsx(dI,{})})]}),i.jsx("nav",{className:"sidebar-nav",children:i.jsx("div",{className:"nav-section",children:T.map(O=>i.jsxs("div",{className:"nav-item-wrapper",onMouseEnter:D=>{if(l(O.id),O.subItems){const M=D.currentTarget.getBoundingClientRect();h({top:M.top-120,left:M.right+8})}},onMouseLeave:()=>l(null),children:[i.jsxs("button",{className:`nav-item ${t===O.id?"nav-item-active":""}`,onClick:()=>E(O.id),title:r?O.title:"",children:[i.jsx("span",{className:"nav-icon",children:O.icon}),!r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"nav-content",children:[i.jsx("span",{className:"nav-title",children:O.title}),i.jsx("span",{className:"nav-description",children:O.description})]}),O.badge&&i.jsx("span",{className:"nav-badge",children:O.badge}),O.subItems&&i.jsx("span",{className:"nav-chevron",children:i.jsx(Qb,{})})]})]}),O.subItems&&s===O.id&&!r&&i.jsxs("div",{className:"nav-dropdown",style:{top:`${u.top}px`,left:`${u.left}px`},children:[i.jsx("div",{className:"dropdown-header",children:i.jsx("span",{className:"dropdown-title",children:"Products"})}),i.jsx("div",{className:"dropdown-content",children:O.subItems.map(D=>i.jsx("button",{className:"dropdown-item",onClick:()=>I(D.id),children:D.title},D.id))})]})]},O.id))})}),i.jsxs("div",{className:"sidebar-footer",children:[n!=="admin"&&i.jsx(i.Fragment,{children:i.jsxs("button",{className:"footer-item",title:"Configuraes",onClick:()=>e("settings"),children:[i.jsx("span",{className:"footer-icon",children:i.jsx(Ii,{})}),!r&&i.jsx("span",{children:"Configuraes"})]})}),i.jsxs("button",{className:"footer-item logout-btn",onClick:N,title:"Sair",children:[i.jsx("span",{className:"footer-icon",children:i.jsx(wB,{})}),!r&&i.jsx("span",{children:"Sair"})]})]})]}),!r&&i.jsx("div",{className:"sidebar-overlay",onClick:()=>a(!0)})]})}const Hr={BACKEND_URL:"http://localhost:3000",BLING:{CLIENT_ID:"bb038bbf8baa2108a9e5c31b409338ef03cc93a0",CLIENT_SECRET:"5602db5f1ddfccf5894336d514cdfae102111c9cb4cbfc788c8bc4d771f6",REDIRECT_URI:"http://localhost:5173/bling/callback",BASE_URL:"https://www.bling.com.br/Api/v2"}};class $K{config;accessToken=null;refreshToken=null;tokenExpiry=0;processingCodes=new Set;constructor(){this.config={clientId:Hr.BLING.CLIENT_ID,clientSecret:Hr.BLING.CLIENT_SECRET,baseUrl:Hr.BLING.BASE_URL,accessToken:"",redirectUri:Hr.BLING.REDIRECT_URI},this.config.accessToken&&(this.accessToken=this.config.accessToken,this.tokenExpiry=Date.now()+365*24*60*60*1e3)}getAuthorizationUrl(){if(!this.config.clientId)throw new Error("Client ID no configurado. Configure VITE_BLING_CLIENT_ID no arquivo .env");if(!this.config.redirectUri)throw new Error("Redirect URI no configurado. Configure VITE_BLING_REDIRECT_URI no arquivo .env");const n=`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"pedidos:read produtos:read contatos:read",state:this.generateState()}).toString()}`;return console.log("URL de autorizao gerada:",n),console.log("Parmetros da URL:",{client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"pedidos:read produtos:read contatos:read",state:"gerado_automaticamente"}),n}async exchangeCodeForToken(e){try{if(this.processingCodes.has(e))throw new Error("Cdigo j est sendo processado");if(this.processingCodes.add(e),!this.config.clientId)throw this.processingCodes.delete(e),new Error("Client ID no configurado");if(!this.config.clientSecret)throw this.processingCodes.delete(e),new Error("Client Secret no configurado");if(!this.config.redirectUri)throw this.processingCodes.delete(e),new Error("Redirect URI no configurado");console.log("Trocando cdigo por token:",{code:e.substring(0,10)+"...",clientId:this.config.clientId,clientSecret:this.config.clientSecret?"CONFIGURADO":"NO CONFIGURADO",redirectUri:this.config.redirectUri});const n="/api/bling/oauth/token",r=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:this.config.redirectUri}),a=btoa(`${this.config.clientId}:${this.config.clientSecret}`),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:r});if(console.log("Resposta da API:",s.status,s.statusText),!s.ok){const u=await s.text();throw console.error("Erro detalhado:",u),new Error(`Erro ao trocar cdigo por token: ${s.status} - ${u}`)}const l=await s.json();return console.log("Token recebido com sucesso"),this.setTokens(l.access_token,l.refresh_token,l.expires_in),this.processingCodes.delete(e),l}catch(n){throw console.error("Erro ao trocar cdigo por token:",n),this.processingCodes.delete(e),n}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("Refresh token no disponvel");try{const e="/api/bling/oauth/token",n=new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken}),r=btoa(`${this.config.clientId}:${this.config.clientSecret}`),a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${r}`},body:n});if(!a.ok)throw new Error(`Erro ao renovar token: ${a.status}`);const s=await a.json();return this.setTokens(s.access_token,s.refresh_token,s.expires_in),s}catch(e){throw console.error("Erro ao renovar token:",e),e}}setTokens(e,n,r){this.accessToken=e,n&&(this.refreshToken=n),this.tokenExpiry=Date.now()+(r?r*1e3:365*24*60*60*1e3),localStorage.setItem("bling_access_token",e),n&&localStorage.setItem("bling_refresh_token",n),localStorage.setItem("bling_token_expiry",this.tokenExpiry.toString()),window.dispatchEvent(new CustomEvent("blingTokenChanged"))}loadSavedTokens(){const e=localStorage.getItem("bling_access_token"),n=localStorage.getItem("bling_refresh_token"),r=localStorage.getItem("bling_token_expiry");e&&r&&(this.accessToken=e,this.refreshToken=n,this.tokenExpiry=parseInt(r))}hasValidToken(){const e=this.accessToken||localStorage.getItem("bling_access_token");return!!(e&&!e.startsWith("demo-token-"))}isDemoMode(){const e=this.accessToken||localStorage.getItem("bling_access_token");return!e||e.startsWith("demo-token-")}setAccessToken(e){this.setTokens(e)}generateState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}isTokenValid(){return this.accessToken!==null&&Date.now()<this.tokenExpiry}async getValidToken(){if(this.accessToken||this.loadSavedTokens(),!this.accessToken)throw new Error("Token de acesso no configurado. Faa a autenticao OAuth primeiro.");if(this.tokenExpiry-Date.now()<5*60*1e3&&this.refreshToken)try{await this.refreshAccessToken()}catch(e){console.warn("No foi possvel renovar o token:",e)}if(!this.isTokenValid())throw new Error("Token de acesso expirado e no foi possvel renovar. Refaa a autenticao.");return this.accessToken}async makeApiCall(e,n={}){if(this.isDemoMode())return this.simulateApiResponse(e);const r=await this.getValidToken(),a=e.includes("?")?"&":"?",s=`${this.config.baseUrl}${e}${a}apikey=${r}`,l={"Content-Type":"application/json",Accept:"application/json",...n.headers};return console.log("Making API call to:",s),console.log("Headers:",l),fetch(s,{...n,headers:l})}simulateApiResponse(e){return new Promise(n=>{setTimeout(()=>{const r=this.getMockDataForEndpoint(e);n(new Response(JSON.stringify(r),{status:200,headers:{"Content-Type":"application/json"}}))},500)})}getMockDataForEndpoint(e){return e.includes("/vendas")||e.includes("/pedidos")?{data:this.getDemoOrders(1,10).data,total:4,page:1}:e.includes("/produtos")?{data:[{id:"1",codigo:"PROD001",descricao:"Produto A - Modelo Premium",preco:150,estoque:100},{id:"2",codigo:"PROD002",descricao:"Produto B - Modelo Standard",preco:200,estoque:50}],total:2,page:1}:e.includes("/contatos")?{data:[{id:"1",nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},{id:"2",nome:"Comrcio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"}],total:2,page:1}:{data:[],total:0,page:1,message:"Endpoint simulado em modo demonstrao"}}async getOrders(e=1,n=50,r){if(this.isDemoMode())return this.getDemoOrders(e,n);try{const a=new URLSearchParams({page:e.toString(),limit:n.toString()});r?.dataInicial&&a.append("dataInicial",r.dataInicial),r?.dataFinal&&a.append("dataFinal",r.dataFinal),r?.situacao&&a.append("situacao",r.situacao),r?.cliente&&a.append("cliente",r.cliente);const s=Hr.BACKEND_URL,l=this.accessToken||localStorage.getItem("bling_access_token"),u=await fetch(`${s}/api/orders?${a.toString()}${l?`&token=${l}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`}}});if(!u.ok){const f=await u.json().catch(()=>({}));throw new Error(`Erro ao buscar vendas: ${u.status} - ${f.message||u.statusText}`)}const h=await u.json();return{data:h.data||[],total:h.data?.length||0,page:e}}catch(a){throw console.error("Erro ao buscar vendas:",a),a}}getDemoOrders(e=1,n=50){const r=[{id:"1",numero:"V001",data:"2024-01-15",dataSaida:"2024-01-20",cliente:{nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},itens:[{codigo:"PROD001",descricao:"Produto A - Modelo Premium",quantidade:100,valor:150}],observacoes:"Pedido urgente - cliente VIP",situacao:"em_producao",total:15e3},{id:"2",numero:"V002",data:"2024-01-16",dataSaida:"2024-01-22",cliente:{nome:"Comrcio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"},itens:[{codigo:"PROD002",descricao:"Produto B - Modelo Standard",quantidade:50,valor:200}],observacoes:"",situacao:"em_aberto",total:1e4},{id:"3",numero:"V003",data:"2024-01-18",dataSaida:"2024-01-25",cliente:{nome:"Indstria DEF Ltda",email:"compras@industriadef.com",telefone:"(11) 77777-7777"},itens:[{codigo:"PROD003",descricao:"Produto C - Modelo Industrial",quantidade:200,valor:75}],observacoes:"Entrega programada",situacao:"aguardando_producao",total:15e3},{id:"4",numero:"V004",data:"2024-01-10",dataSaida:"2024-01-17",cliente:{nome:"Distribuidora GHI Ltda",email:"pedidos@distribuidoraghi.com",telefone:"(11) 66666-6666"},itens:[{codigo:"PROD004",descricao:"Produto D - Modelo Especial",quantidade:75,valor:300}],observacoes:"",situacao:"concluido",total:22500}],a=(e-1)*n,s=a+n;return{data:r.slice(a,s),total:r.length,page:e}}async getProductionOrders(e=1,n=100,r){if(this.isDemoMode())return this.getDemoOrders(e,n);try{const a=new URLSearchParams({pagina:e.toString(),limite:n.toString()});r&&r.length>0&&r.forEach(f=>{a.append("idsSituacoes[]",f.toString())});const s=Hr.BACKEND_URL,l=this.accessToken||localStorage.getItem("bling_access_token"),u=await fetch(`${s}/api/production-orders?${a.toString()}${l?`&token=${l}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...l&&{Authorization:`Bearer ${l}`}}});if(!u.ok){const f=await u.json().catch(()=>({}));throw new Error(`Erro ao buscar ordens de produo: ${u.status} - ${f.message||u.statusText}`)}const h=await u.json();return{data:h.data||[],total:h.data?.length||0}}catch(a){throw console.error("Erro ao buscar ordens de produo:",a),a}}async getProductionOrderSituations(){if(this.isDemoMode())return{data:[{id:1,nome:"NO INICIADO",cor:"#6c757d"},{id:2,nome:"EM PRODUO",cor:"#007bff"},{id:3,nome:"FINALIZADO",cor:"#28a745"}],total:3};try{const e=Hr.BACKEND_URL,n=this.accessToken||localStorage.getItem("bling_access_token"),r=await fetch(`${e}/api/production-orders/situations${n?`?token=${n}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(`Erro ao buscar situaes: ${r.status} - ${s.message||r.statusText}`)}const a=await r.json();return{data:a.data||[],total:a.data?.length||0}}catch(e){throw console.error("Erro ao buscar situaes:",e),e}}async getOrderById(e){try{const n=await this.makeApiCall(`/vendas/${e}`);if(!n.ok)throw new Error(`Erro ao buscar venda: ${n.status}`);return(await n.json()).data}catch(n){throw console.error("Erro ao buscar venda:",n),n}}async getProducts(e=1,n=50){try{if(this.isDemoMode())return{data:[{id:1,nome:"Produto Demo 1",codigo:"DEMO001",preco:29.9,situacao:"A",tipo:"P"},{id:2,nome:"Produto Demo 2",codigo:"DEMO002",preco:49.9,situacao:"A",tipo:"P"}],total:2};const r=Hr.BACKEND_URL,a=this.accessToken||localStorage.getItem("bling_access_token"),s=await fetch(`${r}/api/products?page=${e}&limit=${n}${a?`&token=${a}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(!s.ok){const u=await s.json().catch(()=>({}));throw new Error(`Erro ao buscar produtos: ${s.status} - ${u.message||s.statusText}`)}const l=await s.json();return{data:l.data||[],total:l.data?.length||0}}catch(r){throw console.error("Erro ao buscar produtos:",r),r}}async getCustomers(e=1,n=50){try{if(this.isDemoMode())return{data:[{id:1,nome:"Cliente Demo 1",email:"cliente1@demo.com",telefone:"(11) 99999-9999",tipo:"F"},{id:2,nome:"Cliente Demo 2",email:"cliente2@demo.com",telefone:"(11) 88888-8888",tipo:"J"}],total:2};const r=Hr.BACKEND_URL,a=this.accessToken||localStorage.getItem("bling_access_token"),s=await fetch(`${r}/api/contacts?page=${e}&limit=${n}${a?`&token=${a}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(!s.ok){const u=await s.json().catch(()=>({}));throw new Error(`Erro ao buscar clientes: ${s.status} - ${u.message||s.statusText}`)}const l=await s.json();return{data:l.data||[],total:l.data?.length||0}}catch(r){throw console.error("Erro ao buscar clientes:",r),r}}async testConnection(){if(this.isDemoMode())return{success:!0};try{const e=Hr.BACKEND_URL,n=await fetch(`${e}/health`,{method:"GET",headers:{"Content-Type":"application/json"}});if(n.ok){const r=this.accessToken||localStorage.getItem("bling_access_token"),a=await fetch(`${e}/api/products?page=1&limit=1${r?`&token=${r}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}}});if(a.ok)return{success:!0};{const s=await a.json().catch(()=>({}));return{success:!1,error:`Erro na API Bling: ${a.status} - ${s.message||a.statusText}`}}}else return{success:!1,error:`Erro no backend: ${n.status} - ${n.statusText}`}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Erro desconhecido"}}}async testEndpoints(){if(this.isDemoMode())return[{endpoint:"/api/products",status:200,success:!0},{endpoint:"/api/contacts",status:200,success:!0},{endpoint:"/api/orders",status:200,success:!0}];const e=["/api/products","/api/contacts","/api/orders","/health"],n=[],r="http://localhost:3000";for(const a of e)try{const s=this.accessToken||localStorage.getItem("bling_access_token"),l=await fetch(`${r}${a}${s?`?token=${s}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}});n.push({endpoint:a,status:l.status,success:l.ok})}catch{n.push({endpoint:a,status:0,success:!1})}return n}async testApiStructure(){if(this.isDemoMode())return[{endpoint:"/api/products",status:200,success:!0,data:{message:"Modo demonstrao ativo"}},{endpoint:"/api/contacts",status:200,success:!0,data:{message:"Modo demonstrao ativo"}},{endpoint:"/api/orders",status:200,success:!0,data:{message:"Modo demonstrao ativo"}}];const e=["/api/products","/api/contacts","/api/orders","/health"],n=[],r="http://localhost:3000";for(const a of e)try{const s=this.accessToken||localStorage.getItem("bling_access_token"),l=await fetch(`${r}${a}${s?`?token=${s}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}});let u=null;if(l.ok)try{u=await l.json()}catch{}n.push({endpoint:a,status:l.status,success:l.ok,data:u})}catch(s){n.push({endpoint:a,status:0,success:!1,data:{error:s instanceof Error?s.message:"Erro desconhecido"}})}return n}async testApiBaseUrls(){if(this.isDemoMode())return[{baseUrl:"Backend Proxy (http://localhost:3000)",status:200,success:!0,data:{message:"Modo demonstrao ativo - usando proxy local"}}];const e=[],n="http://localhost:3000";try{const r=await fetch(`${n}/health`);let a=null;if(r.ok)try{a=await r.json()}catch{a={message:"Resposta no  JSON vlido"}}e.push({baseUrl:"Backend Health Check",status:r.status,success:r.ok,data:a});const s=this.accessToken||localStorage.getItem("bling_access_token"),l=await fetch(`${n}/api/products?page=1&limit=1${s?`&token=${s}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`}}});let u=null;if(l.ok)try{u=await l.json()}catch{u={message:"Resposta no  JSON vlido"}}e.push({baseUrl:"Backend Proxy - Produtos",status:l.status,success:l.ok,data:u})}catch(r){e.push({baseUrl:"Backend Proxy",status:0,success:!1,data:{error:r instanceof Error?r.message:"Erro desconhecido"}})}return e}async syncData(){const e=[];let n=0,r=0,a=0;try{this.loadSavedTokens();try{n=(await this.getProductionOrders(1,100)).total}catch(u){e.push(`Erro ao sincronizar pedidos: ${u instanceof Error?u.message:"Erro desconhecido"}`)}try{r=(await this.getProducts(1,100)).data?.length||0}catch(u){e.push(`Erro ao sincronizar produtos: ${u instanceof Error?u.message:"Erro desconhecido"}`)}try{a=(await this.getCustomers(1,100)).data?.length||0}catch(u){e.push(`Erro ao sincronizar clientes: ${u instanceof Error?u.message:"Erro desconhecido"}`)}const s=e.length===0||n>0||r>0||a>0,l=s?`Sincronizao concluda: ${n} pedidos, ${r} produtos, ${a} clientes`:"Falha na sincronizao de todos os dados";return{orders:n,products:r,customers:a,success:s,message:l,errors:e,lastSync:new Date().toISOString()}}catch(s){return console.error("Erro geral na sincronizao:",s),{orders:0,products:0,customers:0,success:!1,message:`Erro geral na sincronizao: ${s instanceof Error?s.message:"Erro desconhecido"}`,errors:[s instanceof Error?s.message:"Erro desconhecido"],lastSync:new Date().toISOString()}}}initialize(){this.loadSavedTokens()}getConfigurationStatus(){const e=[],n=!!this.config.clientId,r=!!this.config.clientSecret,a=!!this.config.redirectUri;n||e.push("Client ID no configurado"),r||e.push("Client Secret no configurado"),a||e.push("Redirect URI no configurado");let s=null;try{n&&a&&(s=this.getAuthorizationUrl())}catch(l){e.push(`Erro ao gerar URL de autorizao: ${l instanceof Error?l.message:"Erro desconhecido"}`)}return{clientId:n,clientSecret:r,redirectUri:a,baseUrl:this.config.baseUrl,authUrl:s,errors:e}}testAuthorizationSetup(){const e=this.getAuthorizationUrl(),n=["1. Acesse: https://www.bling.com.br/central.extensoes.php","2. V para 'Minhas instalaes'  'Gesto de estoques'","3. Clique nos 3 pontos da 'API Borderless'","4. Configure a URL de callback: http://localhost:5173/bling/callback","5. Habilite as permisses: Pedidos, Produtos, Contatos","6. Salve as configuraes"],r=[" Client ID configurado"," Client Secret configurado"," Redirect URI configurado"," Aplicao registrada no Bling"," URL de callback configurada no Bling"," Permisses OAuth habilitadas no Bling"],a={config:{clientId:this.config.clientId?`${this.config.clientId.substring(0,10)}...`:"NO CONFIGURADO",clientSecret:this.config.clientSecret?"CONFIGURADO":"NO CONFIGURADO",redirectUri:this.config.redirectUri,baseUrl:this.config.baseUrl},authUrl:e,expectedCallback:"http://localhost:5173/bling/callback"};return{authUrl:e,instructions:n,checklist:r,debugInfo:a}}async validateBlingApp(){const e=[],n=[];this.config.clientId||e.push("Client ID no configurado no .env"),this.config.clientSecret||e.push("Client Secret no configurado no .env"),this.config.redirectUri||e.push("Redirect URI no configurado no .env");try{const r=this.getAuthorizationUrl(),a=new URL(r);a.searchParams.get("client_id")||e.push("Client ID no est sendo includo na URL de autorizao"),a.searchParams.get("redirect_uri")||e.push("Redirect URI no est sendo includo na URL de autorizao"),a.searchParams.get("response_type")||e.push("Response type no est sendo includo na URL de autorizao")}catch(r){e.push(`Erro ao gerar URL de autorizao: ${r instanceof Error?r.message:"Erro desconhecido"}`)}return e.length===0?(n.push("Configurao local parece estar correta"),n.push("Verifique se a aplicao est registrada no painel do Bling"),n.push("Teste a URL de autorizao manualmente no navegador")):(n.push("Corrija os erros de configurao primeiro"),n.push("Verifique o arquivo .env")),{isValid:e.length===0,errors:e,suggestions:n}}async testAppRegistration(){const e=this.getAuthorizationUrl();try{return(await fetch(e,{method:"HEAD"})).ok?{isRegistered:!0,message:" Aplicao parece estar registrada corretamente",testUrl:e,instructions:["1. Cole a URL de teste no navegador","2. Faa login no Bling se necessrio","3. Autorize a aplicao","4. Verifique se  redirecionado para o callback"]}:{isRegistered:!1,message:" Aplicao no encontrada ou no registrada",testUrl:e,instructions:["1. Verifique se a aplicao est ativa no painel do Bling","2. Confirme se o Client ID est correto","3. Verifique se as permisses esto habilitadas","4. Entre em contato com o suporte do Bling se necessrio"]}}catch(n){return{isRegistered:!1,message:` Erro ao testar aplicao: ${n instanceof Error?n.message:"Erro desconhecido"}`,testUrl:e,instructions:["1. Verifique sua conexo com a internet","2. Teste a URL manualmente no navegador","3. Verifique se o Bling est funcionando"]}}}getManualTestUrl(){return`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({response_type:"code",client_id:this.config.clientId,redirect_uri:this.config.redirectUri||"http://localhost:5173/bling/callback",scope:"pedidos:read produtos:read contatos:read",state:`fresh_${Date.now()}`}).toString()}`}async testAppFunctionality(){const e=this.getManualTestUrl(),n=!!this.config.clientId,r=!!this.config.clientSecret,a=!!this.config.redirectUri,s={clientId:n?`${this.config.clientId.substring(0,10)}...`:"NO CONFIGURADO",clientSecret:r?"CONFIGURADO":"NO CONFIGURADO",redirectUri:this.config.redirectUri||"NO CONFIGURADO",baseUrl:this.config.baseUrl};return!n||!r||!a?{status:"error",message:" Configurao incompleta",manualTestUrl:e,configStatus:s,nextSteps:["1. Verifique se todas as variveis esto no .env","2. Reinicie o servidor aps alterar o .env","3. Confirme se o Client ID e Secret esto corretos"]}:{status:"ready",message:" Configurao parece estar correta",manualTestUrl:e,configStatus:s,nextSteps:["1. Cole a URL de teste no navegador","2. Faa login no Bling se necessrio","3. Autorize a aplicao IMEDIATAMENTE","4. Verifique se  redirecionado com cdigo","5.  IMPORTANTE: Use o cdigo imediatamente aps receber"]}}getFreshAuthorizationUrl(){return`https://www.bling.com.br/b/Api/v3/oauth/authorize?${new URLSearchParams({response_type:"code",client_id:this.config.clientId,redirect_uri:this.config.redirectUri||"http://localhost:5173/bling/callback",scope:"pedidos:read produtos:read contatos:read",state:`fresh_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}).toString()}`}}const Ut=new $K;typeof window<"u"&&(window.blingService=Ut);class ql{static mapBlingOrderToOrder(e){const n={em_aberto:"pending",em_producao:"in_progress",aguardando_producao:"pending",concluido:"completed",cancelado:"cancelled"},r=this.determinePriority(e),a=e.dataSaida||this.addDays(e.data,7);return{id:e.id,orderNumber:e.numero,customer:e.cliente.nome,product:this.getMainProductDescription(e.itens),quantity:this.getTotalQuantity(e.itens),status:n[e.situacao]||"pending",priority:r,createdAt:e.data,dueDate:a,completedAt:e.situacao==="concluido"?e.dataSaida:void 0}}static determinePriority(e){return e.total>1e4?"urgent":e.situacao==="em_producao"?"high":e.itens.length>5?"medium":e.observacoes?.toLowerCase().includes("urgente")||e.observacoes?.toLowerCase().includes("prioridade")?"urgent":"low"}static getMainProductDescription(e){if(e.length===0)return"Sem produtos";const n=e[0];return`${n.descricao} (${n.codigo})`}static getTotalQuantity(e){return e.reduce((n,r)=>n+r.quantidade,0)}static addDays(e,n){const r=new Date(e);return r.setDate(r.getDate()+n),r.toISOString().split("T")[0]}static mapBlingOrdersToOrders(e){return e.map(n=>this.mapBlingOrderToOrder(n))}static calculateOrderStats(e){return{totalOrders:e.length,pendingOrders:e.filter(n=>n.status==="pending").length,inProgressOrders:e.filter(n=>n.status==="in_progress").length,completedOrders:e.filter(n=>n.status==="completed").length,cancelledOrders:e.filter(n=>n.status==="cancelled").length,urgentOrders:e.filter(n=>n.priority==="urgent").length,highPriorityOrders:e.filter(n=>n.priority==="high").length,mediumPriorityOrders:e.filter(n=>n.priority==="medium").length,lowPriorityOrders:e.filter(n=>n.priority==="low").length}}static filterOrdersByStatus(e,n){return n==="all"?e:e.filter(r=>r.status===n)}static filterOrdersByPriority(e,n){return e.filter(r=>r.priority===n)}static sortOrdersByPriority(e){const n={urgent:4,high:3,medium:2,low:1};return[...e].sort((r,a)=>{const s=n[a.priority]-n[r.priority];return s!==0?s:new Date(r.dueDate).getTime()-new Date(a.dueDate).getTime()})}}const rR=(t={})=>{const{accessToken:e,autoRefresh:n=!1,refreshInterval:r=3e4,pageSize:a=50}=t,[s,l]=b.useState([]),[u,h]=b.useState(!1),[f,m]=b.useState(null),[g,y]=b.useState(null),[j]=b.useState(1),w=b.useCallback(async()=>{const O=e||localStorage.getItem("bling_access_token");if(!O){m("Access token no configurado. Configure a integrao com Bling primeiro."),l([]);return}h(!0),m(null);try{if(Ut.setAccessToken(O),!Ut.hasValidToken())throw new Error("Token invlido ou expirado. Configure um novo token.");const D=await Ut.getOrders(j,a),M=ql.mapBlingOrdersToOrders(D.data);l(M),y(new Date)}catch(D){const M=D instanceof Error?D.message:"Erro ao carregar pedidos do Bling";m(M),l([]),console.error("Erro ao carregar pedidos:",D)}finally{h(!1)}},[e,j,a]),S=b.useCallback(async()=>{await w()},[w]),T=b.useCallback(O=>ql.filterOrdersByStatus(s,O),[s]),E=b.useCallback(O=>ql.filterOrdersByPriority(s,O),[s]),I=b.useCallback(()=>ql.sortOrdersByPriority(s),[s]),N=ql.calculateOrderStats(s);return b.useEffect(()=>{e&&w()},[w]),b.useEffect(()=>{if(!n||!e)return;const O=setInterval(()=>{w()},r);return()=>clearInterval(O)},[n,e,r,w]),{orders:s,loading:u,error:f,stats:N,lastSync:g,refresh:S,filterByStatus:T,filterByPriority:E,sortByPriority:I}},Lp="bling_access_token",qK="bling_refresh_token",FK="bling_token_expiry",aR=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(null),a=b.useCallback(()=>{const f=localStorage.getItem(Lp);r(f),e(!!f)},[]);b.useEffect(()=>{a();const f=()=>a();return window.addEventListener("storage",f),window.addEventListener("blingTokenChanged",f),()=>{window.removeEventListener("storage",f),window.removeEventListener("blingTokenChanged",f)}},[a]);const s=b.useCallback(()=>{const f=`demo-token-${Date.now()}`;localStorage.setItem(Lp,f),r(f),e(!0),window.dispatchEvent(new CustomEvent("blingTokenChanged"))},[]),l=b.useCallback(f=>{if(f&&f.trim()){const m=f.trim();localStorage.setItem(Lp,m),r(m),e(!0),window.dispatchEvent(new CustomEvent("blingTokenChanged"))}},[]),u=b.useCallback(()=>{localStorage.removeItem(Lp),localStorage.removeItem(qK),localStorage.removeItem(FK),r(null),e(!1),window.dispatchEvent(new CustomEvent("blingTokenChanged"))},[]),h=b.useCallback(async()=>{if(n)try{await navigator.clipboard.writeText(n),console.log("Token copiado para a rea de transferncia!")}catch(f){console.error("Erro ao copiar token:",f);const m=document.createElement("textarea");m.value=n,document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m)}},[n]);return{hasToken:t,token:n,setDemoToken:s,setRealToken:l,clearToken:u,copyToken:h}};function HK({userName:t}){return i.jsx("div",{className:"dashboard-header",children:i.jsx("div",{className:"header-content",children:i.jsxs("div",{className:"header-info",children:[i.jsx("h1",{children:"Dashboard"}),i.jsxs("p",{children:["Bem-vindo, ",t]})]})})})}function Bp({title:t,icon:e,value:n,change:r,changeType:a}){return i.jsx("div",{className:"stat-card",children:i.jsxs("div",{className:"stat-grid",children:[i.jsx("div",{className:"stat-title",children:t}),i.jsx("div",{className:"stat-icon",children:e}),i.jsx("div",{className:"stat-value",children:n}),i.jsx("div",{className:`stat-change ${a}`,children:r})]})})}function KK({stats:t}){return i.jsxs("div",{className:"dashboard-stats",children:[i.jsx(Bp,{title:"Total de Pedidos",icon:i.jsx(hI,{}),value:t.totalOrders,change:"+2 hoje",changeType:"positive"}),i.jsx(Bp,{title:"Produtividade",icon:i.jsx(mc,{}),value:`${t.productivity}%`,change:"+3% esta semana",changeType:"positive"}),i.jsx(Bp,{title:"Pedidos Pendentes",icon:i.jsx(Xe,{}),value:t.pendingOrders,change:"Ateno necessria",changeType:"negative"}),i.jsx(Bp,{title:"Eficincia",icon:i.jsx(bg,{}),value:`${t.efficiency}%`,change:"Operao normal",changeType:"positive"})]})}function GK({orders:t,filterStatus:e,onFilterChange:n}){const r=t.filter(l=>e==="all"?!0:e==="urgent"?l.priority==="urgent":l.status===e),a=(l,u)=>{let h="status-badge";switch(u==="urgent"&&(h+=" urgent"),l){case"pending":return h+" pending";case"in_progress":return h+" production";case"completed":return h+" completed";case"cancelled":return h+" cancelled";default:return h}},s=l=>{switch(l){case"pending":return"Pendente";case"production":return"Em Produo";case"completed":return"Concludo";case"urgent":return"Urgente";default:return l}};return i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{className:"section-title",children:"Ordens de Produo"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"btn-icon",title:"Atualizar",children:i.jsx(zn,{})}),i.jsx("button",{className:"btn-icon",title:"Exportar",children:i.jsx(mr,{})}),i.jsx("button",{className:"btn-icon",title:"Configuraes",children:i.jsx(Ii,{})})]})]}),i.jsxs("div",{className:"orders-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status:"}),i.jsxs("select",{className:"filter-select",value:e,onChange:l=>n(l.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"pending",children:"Pendente"}),i.jsx("option",{value:"production",children:"Em Produo"}),i.jsx("option",{value:"completed",children:"Concludo"}),i.jsx("option",{value:"urgent",children:"Urgente"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Perodo:"}),i.jsxs("select",{className:"filter-select",children:[i.jsx("option",{children:"Hoje"}),i.jsx("option",{children:"Esta Semana"}),i.jsx("option",{children:"Este Ms"})]})]})]}),i.jsxs("table",{className:"orders-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"OP"}),i.jsx("th",{children:"Produto"}),i.jsx("th",{children:"Qtd"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Progresso"}),i.jsx("th",{children:"Previso"}),i.jsx("th",{children:"Alertas"})]})}),i.jsx("tbody",{children:r.map(l=>i.jsxs("tr",{className:"order-row",children:[i.jsx("td",{children:i.jsx("div",{className:"order-id",children:l.id})}),i.jsx("td",{children:i.jsx("div",{className:"order-product",children:l.product})}),i.jsx("td",{children:l.quantity}),i.jsx("td",{children:i.jsx("span",{className:a(l.status,l.priority),children:s(l.status)})}),i.jsxs("td",{children:[i.jsx("div",{className:"progress-container",children:i.jsx("div",{className:"progress-bar",style:{width:"0%"}})}),i.jsx("div",{className:"progress-text",children:"0%"})]}),i.jsx("td",{children:i.jsx("div",{className:"date-cell",children:new Date(l.dueDate).toLocaleDateString("pt-BR")})}),i.jsx("td",{children:l.priority==="urgent"&&i.jsx("span",{className:"alert-icon",children:i.jsx(Xe,{})})})]},l.id))})]})]})}function WK({alerts:t}){return i.jsxs("div",{className:"alerts-panel",children:[i.jsx("div",{className:"panel-header",children:i.jsx("h4",{className:"panel-title",children:"Alertas e Notificaes"})}),i.jsx("div",{className:"panel-content",children:t.map(e=>i.jsxs("div",{className:`alert-item ${e.severity}`,children:[i.jsxs("div",{className:"alert-content",children:[i.jsx("h4",{children:e.title}),i.jsx("p",{children:e.description})]}),i.jsx("span",{className:"alert-timestamp",children:e.createdAt})]},e.id))})]})}function YK({sectors:t}){const e=n=>{switch(n){case"active":return"Ativo";case"inactive":return"Inativo";case"idle":return"Ocioso";case"blocked":return"Bloqueado";default:return n}};return i.jsxs("div",{className:"sectors-panel",children:[i.jsx("div",{className:"panel-header",children:i.jsx("h4",{className:"panel-title",children:"Status dos Setores"})}),i.jsx("div",{className:"panel-content",children:t.map((n,r)=>i.jsxs("div",{className:"sector-item",children:[i.jsxs("div",{className:"sector-info",children:[i.jsx("h4",{children:n.name}),i.jsxs("p",{children:["Cdigo: ",n.code," | Descrio: ",n.description]})]}),i.jsxs("div",{className:"sector-status",children:[i.jsx("div",{className:`status-indicator status-${n.isActive?"active":"inactive"}`}),i.jsx("span",{children:e(n.isActive?"active":"inactive")})]})]},r))})]})}function iR({onTokenSet:t}){const[e,n]=b.useState(""),[r,a]=b.useState(!1),[s,l]=b.useState(null),u=async()=>{if(!e.trim()){l({success:!1,message:"Digite um token vlido"});return}a(!0),l(null);try{Ut.setAccessToken(e);const f=await Ut.getOrders(1,1);l({success:!0,message:`Token configurado com sucesso! Encontrados ${f.total} pedidos.`}),t?.()}catch(f){const m=f instanceof Error?f.message:"Erro desconhecido";l({success:!1,message:`Erro ao configurar token: ${m}`})}finally{a(!1)}},h=()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),n(""),l(null),t?.()};return i.jsxs("div",{className:"bling-test-token",children:[i.jsxs("div",{className:"test-header",children:[i.jsx(Du,{className:"key-icon"}),i.jsx("h3",{children:"Configurar Token do Bling"}),i.jsx("p",{children:"Configure um Access Token vlido do Bling para testar a integrao."})]}),i.jsxs("div",{className:"test-form",children:[i.jsxs("div",{className:"input-group",children:[i.jsx("label",{htmlFor:"token-input",children:"Access Token:"}),i.jsx("input",{id:"token-input",type:"text",value:e,onChange:f=>n(f.target.value),placeholder:"Cole seu Access Token do Bling aqui...",disabled:r})]}),i.jsxs("div",{className:"button-group",children:[i.jsx("button",{className:"btn btn-primary",onClick:u,disabled:r||!e.trim(),children:r?"Testando...":"Configurar Token"}),i.jsx("button",{className:"btn btn-outline",onClick:h,disabled:r,children:"Limpar Token"})]})]}),s&&i.jsxs("div",{className:`test-result ${s.success?"success":"error"}`,children:[i.jsx("div",{className:"result-icon",children:s.success?i.jsx(jr,{}):i.jsx(Xe,{})}),i.jsx("div",{className:"result-message",children:s.message})]}),i.jsxs("div",{className:"test-info",children:[i.jsx("h4",{children:"Como obter um Access Token:"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Acesse sua conta do Bling"}),i.jsx("li",{children:"V em Configuraes  API"}),i.jsx("li",{children:"Gere um novo Access Token"}),i.jsx("li",{children:"Cole o token no campo acima"})]}),i.jsxs("div",{className:"warning",children:[i.jsx("strong",{children:" Importante:"})," Este  um token de teste. Em produo, use OAuth 2.0 para maior segurana."]})]})]})}function XK({onConfigure:t}){const[e,n]=b.useState(!1);return i.jsxs("div",{className:"bling-setup-instructions",children:[i.jsxs("div",{className:"setup-header",children:[i.jsx(Xe,{className:"warning-icon"}),i.jsx("h2",{children:"Configure a Integrao com Bling"}),i.jsx("p",{children:"Para visualizar dados reais de pedidos, voc precisa configurar a integrao com o Bling."})]}),i.jsxs("div",{className:"setup-steps",children:[i.jsx("h3",{children:"Como configurar:"}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Obter Access Token"}),i.jsx("p",{children:"Acesse sua conta do Bling e gere um Access Token para a API."})]})]}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Configurar no Sistema"}),i.jsx("p",{children:"Use o boto abaixo para acessar a pgina de configurao."})]})]}),i.jsxs("div",{className:"step",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsxs("div",{className:"step-content",children:[i.jsx("h4",{children:"Testar Conexo"}),i.jsx("p",{children:"Teste a conexo para garantir que est funcionando corretamente."})]})]})]}),i.jsxs("div",{className:"setup-benefits",children:[i.jsx("h3",{children:"Benefcios da integrao:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx(jr,{})," Dados reais de pedidos em tempo real"]}),i.jsxs("li",{children:[i.jsx(jr,{})," Estatsticas atualizadas automaticamente"]}),i.jsxs("li",{children:[i.jsx(jr,{})," Sincronizao automtica a cada minuto"]}),i.jsxs("li",{children:[i.jsx(jr,{})," Status de pedidos atualizado"]}),i.jsxs("li",{children:[i.jsx(jr,{})," Prioridades calculadas automaticamente"]})]})]}),i.jsxs("div",{className:"setup-actions",children:[i.jsxs("button",{className:"btn btn-primary btn-large",onClick:t,children:[i.jsx(xg,{}),"Configurar Integrao Agora"]}),i.jsxs("button",{className:"btn btn-outline btn-large",onClick:()=>n(!e),children:[i.jsx(Du,{}),e?"Ocultar":"Testar Token Rapidamente"]})]}),e&&i.jsx("div",{className:"token-test-section",children:i.jsx(iR,{onTokenSet:()=>{n(!1),window.location.reload()}})}),i.jsx("div",{className:"setup-note",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Nota:"})," Sem a integrao configurada, o sistema mostrar dados mockados para demonstrao. Configure a integrao para ver dados reais do seu Bling."]})})]})}function sR({hasToken:t,lastSync:e,error:n,onConfigure:r}){return t?n?i.jsxs("div",{className:"bling-integration-status error",children:[i.jsx("div",{className:"status-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"status-content",children:[i.jsx("h3",{children:"Erro na integrao com Bling"}),i.jsx("p",{children:n}),i.jsxs("p",{className:"last-sync",children:["ltima sincronizao: ",e?e.toLocaleString():"Nunca"]})]})]}):i.jsxs("div",{className:"bling-integration-status success",children:[i.jsx("div",{className:"status-icon",children:i.jsx(qn,{})}),i.jsxs("div",{className:"status-content",children:[i.jsx("h3",{children:"Integrao com Bling ativa"}),i.jsx("p",{children:"Dados sendo sincronizados automaticamente"}),i.jsxs("p",{className:"last-sync",children:["ltima sincronizao: ",e?e.toLocaleString():"Nunca"]})]})]}):i.jsx(XK,{onConfigure:r||(()=>{})})}function oR({onDataChange:t}){const[e,n]=b.useState(!0),[r,a]=b.useState(!1),s=[{id:"1",numero:"V001",data:"2024-01-15",dataSaida:"2024-01-20",cliente:{nome:"Empresa ABC Ltda",email:"contato@empresaabc.com",telefone:"(11) 99999-9999"},itens:[{codigo:"PROD001",descricao:"Produto A - Modelo Premium",quantidade:100,valor:150}],observacoes:"Pedido urgente - cliente VIP",situacao:"em_producao",total:15e3},{id:"2",numero:"V002",data:"2024-01-16",dataSaida:"2024-01-22",cliente:{nome:"Comrcio XYZ S.A.",email:"vendas@comercioxyz.com",telefone:"(11) 88888-8888"},itens:[{codigo:"PROD002",descricao:"Produto B - Modelo Standard",quantidade:50,valor:200},{codigo:"PROD003",descricao:"Produto C - Modelo Bsico",quantidade:25,valor:100}],observacoes:"",situacao:"em_aberto",total:12500},{id:"3",numero:"V003",data:"2024-01-18",dataSaida:"2024-01-25",cliente:{nome:"Indstria DEF Ltda",email:"compras@industriadef.com",telefone:"(11) 77777-7777"},itens:[{codigo:"PROD004",descricao:"Produto D - Modelo Industrial",quantidade:200,valor:75}],observacoes:"Entrega programada",situacao:"aguardando_producao",total:15e3},{id:"4",numero:"V004",data:"2024-01-10",dataSaida:"2024-01-17",cliente:{nome:"Distribuidora GHI Ltda",email:"pedidos@distribuidoraghi.com",telefone:"(11) 66666-6666"},itens:[{codigo:"PROD005",descricao:"Produto E - Modelo Especial",quantidade:75,valor:300}],observacoes:"",situacao:"concluido",total:22500}],l=ql.mapBlingOrdersToOrders(s),u=ql.calculateOrderStats(l),h=()=>{n(!e),t&&t(e?[]:l)},f=()=>{a(!1),n(!1),window.location.reload()};return i.jsxs("div",{className:"bling-demo-data",children:[i.jsxs("div",{className:"demo-header",children:[i.jsxs("div",{className:"demo-info",children:[i.jsx(os,{className:"info-icon"}),i.jsxs("div",{className:"info-content",children:[i.jsx("h3",{children:"Dados de Demonstrao"}),i.jsx("p",{children:"Exibindo dados simulados do Bling. Configure um token real para ver seus dados."})]})]}),i.jsxs("div",{className:"demo-controls",children:[i.jsxs("button",{className:`btn btn-outline ${e?"active":""}`,onClick:h,children:[e?i.jsx(Cv,{}):i.jsx(Wo,{}),e?"Ocultar Demo":"Mostrar Demo"]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>a(!r),children:"Configurar Token Real"})]})]}),e&&i.jsxs("div",{className:"demo-content",children:[i.jsxs("div",{className:"demo-stats",children:[i.jsx("h4",{children:"Estatsticas dos Dados de Demonstrao:"}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.totalOrders}),i.jsx("span",{className:"stat-label",children:"Total de Pedidos"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.pendingOrders}),i.jsx("span",{className:"stat-label",children:"Pendentes"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.inProgressOrders}),i.jsx("span",{className:"stat-label",children:"Em Produo"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.completedOrders}),i.jsx("span",{className:"stat-label",children:"Concludos"})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("span",{className:"stat-number",children:u.urgentOrders}),i.jsx("span",{className:"stat-label",children:"Urgentes"})]})]})]}),i.jsxs("div",{className:"demo-orders",children:[i.jsx("h4",{children:"Pedidos de Demonstrao:"}),i.jsx("div",{className:"orders-list",children:l.map(m=>i.jsxs("div",{className:"order-item",children:[i.jsxs("div",{className:"order-header",children:[i.jsx("span",{className:"order-number",children:m.orderNumber}),i.jsxs("span",{className:`status-badge status-${m.status}`,children:[m.status==="pending"&&"Pendente",m.status==="in_progress"&&"Em Produo",m.status==="completed"&&"Concludo",m.status==="cancelled"&&"Cancelado"]}),i.jsxs("span",{className:`priority-badge priority-${m.priority}`,children:[m.priority==="urgent"&&"Urgente",m.priority==="high"&&"Alta",m.priority==="medium"&&"Mdia",m.priority==="low"&&"Baixa"]})]}),i.jsxs("div",{className:"order-details",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Cliente:"})," ",m.customer]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Produto:"})," ",m.product]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Quantidade:"})," ",m.quantity]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Vencimento:"})," ",new Date(m.dueDate).toLocaleDateString("pt-BR")]})]})]},m.id))})]})]}),r&&i.jsx("div",{className:"token-config-section",children:i.jsx(iR,{onTokenSet:f})})]})}function QK(){const{user:t,logout:e,loading:n}=Ya(),{goTo:r}=Go(),{hasToken:a,token:s}=aR(),{orders:l,loading:u,error:h,stats:f,lastSync:m,refresh:g}=rR({accessToken:s||void 0,autoRefresh:!0,refreshInterval:6e4}),[y,j]=b.useState([]),[w,S]=b.useState([]),[T,E]=b.useState("all"),[,I]=b.useState([]),[N,O]=b.useState(new Date),[D,M]=b.useState([]);b.useEffect(()=>{const z=[{id:"1",title:"Atraso Crtico",description:"OP-2024-001 est 2 dias atrasada",severity:"critical",priority:"urgent",status:"active",location:{sector:"Produo"},relatedEntity:{id:"OP-2024-001",name:"Pedido OP-2024-001"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T10:30:00Z",updatedAt:"2024-01-20T10:30:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"2",title:"Setor Ocioso",description:"Setor de Acabamento com 40% de ociosidade",severity:"medium",priority:"medium",status:"active",location:{sector:"Acabamento"},relatedEntity:{id:"acabamento",name:"Setor de Acabamento"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T09:15:00Z",updatedAt:"2024-01-20T09:15:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]},{id:"3",title:"Importao Concluda",description:"15 novos pedidos importados do Bling",severity:"low",priority:"low",status:"active",location:{sector:"Sistema"},relatedEntity:{id:"bling",name:"Integrao Bling"},source:{id:"system",name:"Sistema"},createdAt:"2024-01-20T08:45:00Z",updatedAt:"2024-01-20T08:45:00Z",createdBy:"system",updatedBy:"system",attachments:[],recipients:[]}],xe=[{id:"1",name:"Corte",code:"CORT",description:"Setor de Corte",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"2",name:"Montagem",code:"MONT",description:"Setor de Montagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"3",name:"Acabamento",code:"ACAB",description:"Setor de Acabamento",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"},{id:"4",name:"Embalagem",code:"EMBA",description:"Setor de Embalagem",isActive:!0,createdAt:"2024-01-01",updatedAt:"2024-01-01",createdBy:"system",updatedBy:"system"}],ce=["08:45 [INFO] Iniciando importao do Bling...","08:46 [SUCCESS] 15 pedidos importados com sucesso","08:47 [INFO] Processando roteiros de produo...","08:48 [SUCCESS] Roteiros carregados para 12 produtos","08:49 [WARNING] 3 produtos sem roteiro definido","08:50 [INFO] Calculando tempos de produo...","08:51 [SUCCESS] Importao finalizada"];j(z),S(xe),I(ce)},[]);const C=async()=>{try{await e(),r(st.landing)}catch(z){console.error("Logout failed:",z)}},R=async()=>{try{await g();const z=`${new Date().toLocaleTimeString()} [SUCCESS] Dados do Bling atualizados com sucesso`;I(xe=>[...xe,z]),O(m||new Date)}catch(z){const xe=`${new Date().toLocaleTimeString()} [ERROR] Erro ao atualizar dados do Bling`;I(ce=>[...ce,xe]),console.error("Erro ao atualizar dados do Bling:",z)}},B=a?l:D,$=a?f:{totalOrders:D.length,pendingOrders:D.filter(z=>z.status==="pending").length,completedOrders:D.filter(z=>z.status==="completed").length,inProgressOrders:D.filter(z=>z.status==="in_progress").length,cancelledOrders:D.filter(z=>z.status==="cancelled").length,urgentOrders:D.filter(z=>z.priority==="urgent").length,highPriorityOrders:D.filter(z=>z.priority==="high").length,mediumPriorityOrders:D.filter(z=>z.priority==="medium").length,lowPriorityOrders:D.filter(z=>z.priority==="low").length},L={totalAlerts:y.length,activeAlerts:y.filter(z=>z.status==="active").length,resolvedAlerts:y.filter(z=>z.status==="resolved").length,totalOrders:$.totalOrders,pendingOrders:$.pendingOrders,completedOrders:$.completedOrders,productivity:84,efficiency:84};if(n||u)return i.jsxs("div",{className:"dashboard-loading",children:[i.jsx("p",{children:"Carregando dashboard..."}),u&&i.jsx("p",{children:"Carregando dados do Bling..."})]});if(!t)return r(st.login),null;const U=t.name||t.displayName||t.email;return i.jsx("div",{className:"dashboard-page",children:i.jsxs("div",{className:"dashboard-container",children:[i.jsx(HK,{userName:U,lastSync:m||N,onImportBling:R,onLogout:C}),i.jsx(KK,{stats:L}),i.jsxs("div",{className:"dashboard-content",children:[a?i.jsx(sR,{hasToken:a,lastSync:m,error:h,onConfigure:()=>r("/bling-integration")}):i.jsx(oR,{onDataChange:M}),(!h||!a)&&i.jsx(GK,{orders:B,filterStatus:T,onFilterChange:E}),i.jsxs("div",{className:"sidebar-section",children:[i.jsx(WK,{alerts:y}),i.jsx(YK,{sectors:w})]})]})]})})}function ZK(){return i.jsx(QK,{})}function JK({viewMode:t,setViewMode:e,currentTime:n,onStartShift:r,onStopShift:a,isShiftStarted:s=!1,elapsedTime:l=null,hasActiveWorkRecord:u=!1}){return i.jsxs("div",{className:"schedule-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"Agenda do Operador"})}),i.jsxs("div",{className:"header-controls",children:[i.jsx("div",{className:"shift-control",children:s?i.jsxs("div",{className:"shift-status",children:[l&&i.jsx("span",{className:"elapsed-time",children:l}),i.jsxs("button",{className:"stop-shift-btn",onClick:a,title:"Parar Jornada de Trabalho",children:[i.jsx("span",{className:"btn-icon",children:""}),i.jsx("span",{className:"btn-text",children:"Parar"})]})]}):i.jsxs("button",{className:"start-shift-btn",onClick:r,title:u?"Continuar Jornada de Trabalho":"Iniciar Jornada de Trabalho",children:[i.jsx("span",{className:"btn-icon",children:""}),i.jsx("span",{className:"btn-text",children:u?"Continuar Jornada":"Iniciar Jornada"})]})}),i.jsxs("div",{className:"view-toggle",children:[i.jsx("button",{className:`toggle-btn ${t==="day"?"active":""}`,onClick:()=>e("day"),children:"Dia"}),i.jsx("button",{className:`toggle-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"})]}),i.jsxs("div",{className:"current-time",children:[i.jsx("span",{className:"time-label",children:"Hora Atual"}),i.jsx("span",{className:"time-value",children:n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})}function eG({stats:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(qn,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",children:[t.tasksCompleted,"/",t.dailyTarget]}),i.jsx("div",{className:"stat-label",children:"Tarefas Concludas"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(mc,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency,"%"]}),i.jsx("div",{className:"stat-label",children:"Eficincia Mdia"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:n(t.totalWorkTime)}),i.jsx("div",{className:"stat-label",children:"Tempo Trabalhado"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(xI,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("div",{className:"stat-value",children:["#",t.ranking]}),i.jsx("div",{className:"stat-label",children:"Ranking Equipe"})]})]})]})}function tG({currentTask:t,activeBreak:e,currentTime:n,handlePauseTask:r,handleCompleteTask:a,handleStartBreak:s,handleEndBreak:l,calculateProgress:u,calculateActualTime:h}){return t?i.jsxs("div",{className:"current-task-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h3",{children:"Tarefa Atual"}),i.jsx("div",{className:"task-timer",children:t.actualStartTime&&i.jsxs("span",{children:["Iniciada s ",t.actualStartTime," "," ",Math.floor(h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))/60),"h"," ",h(t.actualStartTime,n.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))%60,"m"]})})]}),i.jsxs("div",{className:"current-task-content",children:[i.jsxs("div",{className:"task-info",children:[i.jsx("h4",{children:t.activity}),i.jsxs("p",{className:"task-product",children:[t.productName,"  ",t.sector]}),i.jsx("p",{className:"task-description",children:t.description}),i.jsxs("div",{className:"task-progress",children:[i.jsx("div",{className:"progress-bar-container",children:i.jsx("div",{className:"progress-bar",style:{width:`${u(t)}%`}})}),i.jsxs("span",{className:"progress-text",children:[Math.round(u(t)),"%"]})]})]}),i.jsxs("div",{className:"task-controls",children:[i.jsxs("div",{className:"break-controls",children:[i.jsx("h5",{children:"Pausas"}),i.jsx("div",{className:"break-buttons",children:e?i.jsxs("div",{className:"active-break",children:[i.jsxs("span",{children:["Pausa: ",e.type," desde ",e.startTime]}),i.jsx("button",{className:"end-break-btn",onClick:l,children:"Finalizar Pausa"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"break-btn coffee",onClick:()=>s("coffee"),children:[i.jsx(dB,{})," Caf"]}),i.jsxs("button",{className:"break-btn lunch",onClick:()=>s("lunch"),children:[i.jsx(IB,{})," Almoo"]}),i.jsxs("button",{className:"break-btn bathroom",onClick:()=>s("bathroom"),children:[i.jsx(jB,{})," Banheiro"]}),i.jsxs("button",{className:"break-btn other",onClick:()=>s("other"),children:[i.jsx(jg,{})," Outra"]})]})})]}),i.jsxs("div",{className:"task-actions",children:[i.jsxs("button",{className:"action-btn pause",onClick:()=>r(t.id),children:[i.jsx(jg,{})," Pausar"]}),i.jsxs("button",{className:"action-btn nonconformity",children:[i.jsx(Xe,{})," No Conformidade"]}),i.jsxs("button",{className:"action-btn complete",onClick:()=>a(t.id),children:[i.jsx(jr,{})," Finalizar"]})]})]})]})]}):null}function nG({task:t,handleStartTask:e,getTaskStatusColor:n,getPriorityColor:r,getEfficiencyColor:a,formatTime:s}){return i.jsxs("div",{className:`task-card ${t.status}`,children:[i.jsxs("div",{className:"task-timeline",children:[i.jsxs("div",{className:"time-slot",children:[i.jsx("span",{className:"start-time",children:t.startTime}),i.jsx("span",{className:"end-time",children:t.endTime})]}),i.jsx("div",{className:"timeline-indicator",style:{backgroundColor:n(t.status)},children:i.jsx("div",{className:"timeline-dot"})})]}),i.jsxs("div",{className:"task-details",children:[i.jsxs("div",{className:"task-header",children:[i.jsx("h4",{className:"task-title",children:t.activity}),i.jsxs("div",{className:"task-badges",children:[i.jsx("span",{className:"priority-badge",style:{backgroundColor:r(t.priority)},children:t.priority.toUpperCase()}),i.jsx("span",{className:"status-badge",children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsxs("p",{className:"task-product",children:[t.productName,"  ",t.sector]}),i.jsx("p",{className:"task-description",children:t.description}),i.jsxs("div",{className:"task-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Estimado:"}),i.jsx("span",{className:"metric-value",children:s(t.estimatedTime+t.setupTime)})]}),t.actualTime&&i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Real:"}),i.jsx("span",{className:"metric-value",children:s(t.actualTime)})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Eficincia:"}),i.jsx("span",{className:"metric-value",style:{color:t.actualTime?a(t.estimatedTime/t.actualTime*100):"#4a5568"},children:t.actualTime?`${Math.round(t.estimatedTime/t.actualTime*100)}%`:"N/A"})]})]}),i.jsxs("div",{className:"task-skills",children:[i.jsx("span",{className:"skills-label",children:"Habilidades:"}),t.requiredSkills.map((l,u)=>i.jsx("span",{className:"skill-tag",children:l},u))]}),t.status==="pending"&&i.jsx("div",{className:"task-actions",children:i.jsxs("button",{className:"start-btn",onClick:()=>e(t.id),children:[i.jsx(vI,{})," Iniciar Tarefa"]})}),t.breaks.length>0&&i.jsxs("div",{className:"task-breaks",children:[i.jsx("span",{className:"breaks-label",children:"Pausas:"}),t.breaks.map((l,u)=>i.jsxs("span",{className:"break-tag",children:[l.type," (",l.duration,"min)"]},u))]})]})]})}function rG({tasks:t,currentDate:e,setCurrentDate:n,handleStartTask:r,getTaskStatusColor:a,getPriorityColor:s,getEfficiencyColor:l,formatTime:u,onDateChange:h}){return i.jsxs("div",{className:"tasks-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Tarefas do Dia"}),i.jsxs("div",{className:"date-selector",children:[i.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()-864e5);n(f),h?.(f)},children:""}),i.jsx("span",{className:"current-date",children:e.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),i.jsx("button",{className:"date-nav",onClick:()=>{const f=new Date(e.getTime()+864e5);n(f),h?.(f)},children:""})]})]}),i.jsx("div",{className:"tasks-list",children:t.map(f=>i.jsx(nG,{task:f,handleStartTask:r,getTaskStatusColor:a,getPriorityColor:s,getEfficiencyColor:l,formatTime:u},f.id))})]})}function aG({tasks:t,onFilterChange:e,onSortChange:n,currentTask:r,onQuickAction:a}){const[s,l]=b.useState("all"),[u,h]=b.useState("time"),[f,m]=b.useState(!0),g={total:t.length,pending:t.filter(T=>T.status==="pending").length,completed:t.filter(T=>T.status==="completed").length,urgent:t.filter(T=>T.priority==="urgent").length,delayed:t.filter(T=>T.status==="delayed").length},y=T=>{l(T);let E=[...t];switch(T){case"priority":E=t.filter(I=>I.priority==="urgent"||I.priority==="high");break;case"sector":{const I=t.reduce((O,D)=>(O[D.sector]=(O[D.sector]||0)+1,O),{}),N=Object.keys(I).reduce((O,D)=>I[O]>I[D]?O:D);E=t.filter(O=>O.sector===N);break}case"status":E=t.filter(I=>I.status==="pending"||I.status==="in_progress");break;case"upcoming":{const I=new Date,N=I.getHours()*60+I.getMinutes();E=t.filter(O=>{const[D,M]=O.startTime.split(":").map(Number);return D*60+M>N&&O.status==="pending"});break}default:E=t}e(E)},j=T=>{h(T);const E=[...t];switch(T){case"time":E.sort((I,N)=>{const O=I.startTime.split(":").map(Number),D=N.startTime.split(":").map(Number);return O[0]*60+O[1]-(D[0]*60+D[1])});break;case"priority":{const I={urgent:4,high:3,medium:2,low:1};E.sort((N,O)=>I[O.priority]-I[N.priority]);break}case"duration":E.sort((I,N)=>N.estimatedTime+N.setupTime-(I.estimatedTime+I.setupTime));break;case"sector":E.sort((I,N)=>I.sector.localeCompare(N.sector));break}n(E)},w=[{id:"start-next",icon:i.jsx(xg,{}),label:"Iniciar Prxima",action:()=>a("start-next"),disabled:!t.find(T=>T.status==="pending")||!!r},{id:"pause-current",icon:i.jsx(Wt,{}),label:"Pausar Atual",action:()=>a("pause-current"),disabled:!r||r.status!=="in_progress"},{id:"complete-current",icon:i.jsx(jr,{}),label:"Finalizar Atual",action:()=>a("complete-current"),disabled:!r},{id:"emergency-break",icon:i.jsx(Xe,{}),label:"Pausa Emergncia",action:()=>a("emergency-break"),disabled:!1}],S=T=>{const E=Math.floor(T/60),I=T%60;return E>0?`${E}h ${I}m`:`${I}m`};return i.jsxs("div",{className:`quick-actions-panel ${f?"expanded":"collapsed"}`,children:[i.jsxs("div",{className:"panel-header",children:[i.jsxs("div",{className:"panel-title",children:[i.jsx("span",{className:"panel-icon",children:i.jsx(mc,{})}),i.jsx("span",{children:"Aes Rpidas"})]}),i.jsx("button",{className:"expand-btn",onClick:()=>m(!f),children:f?i.jsx(yB,{}):i.jsx(af,{})})]}),f&&i.jsxs("div",{className:"panel-content",children:[i.jsxs("div",{className:"quick-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value",children:g.total}),i.jsx("span",{className:"stat-label",children:"Total"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value pending",children:g.pending}),i.jsx("span",{className:"stat-label",children:"Pendentes"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value completed",children:g.completed}),i.jsx("span",{className:"stat-label",children:"Concludas"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-value urgent",children:g.urgent}),i.jsx("span",{className:"stat-label",children:"Urgentes"})]})]}),i.jsxs("div",{className:"filters-container",children:[i.jsxs("div",{className:"filter-section",children:[i.jsx("h4",{children:"Filtros"}),i.jsxs("div",{className:"filter-buttons",children:[i.jsxs("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>y("all"),children:[i.jsx(_s,{})," Todas"]}),i.jsxs("button",{className:`filter-btn ${s==="priority"?"active":""}`,onClick:()=>y("priority"),children:[i.jsx(pI,{})," Prioridade"]}),i.jsxs("button",{className:`filter-btn ${s==="status"?"active":""}`,onClick:()=>y("status"),children:[i.jsx(Wt,{})," Ativas"]}),i.jsxs("button",{className:`filter-btn ${s==="upcoming"?"active":""}`,onClick:()=>y("upcoming"),children:[i.jsx(xg,{})," Prximas"]})]})]}),i.jsxs("div",{className:"sort-section",children:[i.jsx("h4",{children:"Ordenar por"}),i.jsxs("div",{className:"sort-buttons",children:[i.jsxs("button",{className:`sort-btn ${u==="time"?"active":""}`,onClick:()=>j("time"),children:[i.jsx(Wt,{})," Horrio"]}),i.jsxs("button",{className:`sort-btn ${u==="priority"?"active":""}`,onClick:()=>j("priority"),children:[i.jsx(SB,{})," Prioridade"]}),i.jsxs("button",{className:`sort-btn ${u==="duration"?"active":""}`,onClick:()=>j("duration"),children:[i.jsx(Wt,{})," Durao"]}),i.jsxs("button",{className:`sort-btn ${u==="sector"?"active":""}`,onClick:()=>j("sector"),children:[i.jsx(bg,{})," Setor"]})]})]})]}),i.jsxs("div",{className:"actions-section",children:[i.jsx("h4",{children:"Aes"}),i.jsx("div",{className:"action-buttons",children:w.map(T=>i.jsxs("button",{className:`action-btn ${T.disabled?"disabled":""}`,onClick:T.action,disabled:T.disabled,title:T.label,children:[i.jsx("span",{className:"action-icon",children:T.icon}),i.jsx("span",{className:"action-label",children:T.label})]},T.id))})]}),r&&i.jsxs("div",{className:"current-task-info",children:[i.jsx("h4",{children:"Tarefa Atual"}),i.jsxs("div",{className:"task-summary",children:[i.jsxs("div",{className:"task-header",children:[i.jsx("span",{className:"task-name",children:r.activity}),i.jsx("span",{className:`task-priority priority-${r.priority}`,children:r.priority.toUpperCase()})]}),i.jsxs("div",{className:"task-details",children:[i.jsx("span",{className:"task-sector",children:r.sector}),i.jsx("span",{className:"task-duration",children:S(r.estimatedTime+r.setupTime)})]}),i.jsxs("div",{className:"task-timeline",children:[i.jsx("span",{children:r.startTime}),i.jsx("span",{children:""}),i.jsx("span",{children:r.endTime})]})]})]})]})]})}function iG({workShifts:t}){const e=a=>a,n=a=>a,r=a=>a==="completed"?"var(--success-color)":"var(--warning-color)";return t.length===0?i.jsx("div",{className:"work-shifts-history empty",children:i.jsx("p",{children:"Nenhuma jornada registrada hoje"})}):i.jsxs("div",{className:"work-shifts-history",children:[i.jsx("h3",{children:"Histrico de Jornadas de Hoje"}),i.jsx("div",{className:"shifts-list",children:t.map(a=>i.jsxs("div",{className:"shift-card",children:[i.jsxs("div",{className:"shift-header",children:[i.jsxs("div",{className:"shift-time",children:[i.jsxs("span",{className:"start-time",children:[i.jsx("strong",{children:"Incio:"})," ",e(a.startTime)]}),i.jsxs("span",{className:"end-time",children:[i.jsx("strong",{children:"Fim:"})," ",e(a.endTime)]})]}),i.jsx("div",{className:"shift-status",style:{color:r(a.status)},children:a.status==="completed"?" Concluda":" Interrompida"})]}),i.jsxs("div",{className:"shift-details",children:[i.jsxs("div",{className:"duration",children:[i.jsx("strong",{children:"Tempo Total:"})," ",n(a.duration)]}),a.notes&&i.jsxs("div",{className:"notes",children:[i.jsx("strong",{children:"Observaes:"})," ",a.notes]})]})]},a.id))})]})}function sG({workTimeRecords:t}){const e=l=>l,n=l=>l,r=l=>new Date(l).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),a=l=>{switch(l){case"completed":return"var(--success-color)";case"active":return"var(--primary-color)";case"interrupted":return"var(--warning-color)";default:return"var(--text-secondary)"}},s=l=>{switch(l){case"completed":return" Concludo";case"active":return" Ativo";case"interrupted":return" Interrompido";default:return" Desconhecido"}};return t.length===0?i.jsx("div",{className:"work-time-records empty",children:i.jsx("p",{children:"Nenhum registro de tempo trabalhado encontrado"})}):i.jsxs("div",{className:"work-time-records",children:[i.jsx("h3",{children:"Registros de Tempo Trabalhado"}),i.jsx("div",{className:"records-list",children:t.map(l=>i.jsxs("div",{className:"record-card",children:[i.jsxs("div",{className:"record-header",children:[i.jsxs("div",{className:"record-date",children:[i.jsx("strong",{children:"Data:"})," ",r(l.date)]}),i.jsx("div",{className:"record-status",style:{color:a(l.status)},children:s(l.status)})]}),i.jsxs("div",{className:"record-details",children:[i.jsxs("div",{className:"time-info",children:[i.jsxs("div",{className:"time-range",children:[i.jsxs("span",{className:"start-time",children:[i.jsx("strong",{children:"Incio:"})," ",e(l.startTime)]}),i.jsxs("span",{className:"end-time",children:[i.jsx("strong",{children:"Fim:"})," ",e(l.endTime)]})]}),i.jsxs("div",{className:"duration",children:[i.jsx("strong",{children:"Tempo Total:"})," ",n(l.duration)]})]}),i.jsxs("div",{className:"time-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Minutos:"}),i.jsxs("span",{className:"metric-value",children:[l.totalMinutes," min"]})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-label",children:"Segundos:"}),i.jsxs("span",{className:"metric-value",children:[l.totalSeconds," seg"]})]})]}),l.notes&&i.jsxs("div",{className:"notes",children:[i.jsx("strong",{children:"Observaes:"})," ",l.notes]})]})]},l.id))})]})}const zN=async(t,e)=>{try{const n=fr(nt,"Agenda"),r=$a(n,Ir("userId","==",t),Ir("date","==",e),A2("time","asc"));return(await _a(r)).docs.map(s=>({...s.data(),id:s.id}))}catch(n){throw console.error("Erro ao buscar agenda do usurio por data:",n),n}},lR=async t=>{try{const e=Gt(nt,"Agenda",t),n=await us(e);return n.exists()?{...n.data(),id:n.id}:null}catch(e){throw console.error("Erro ao buscar item da agenda:",e),e}},fx=async(t,e)=>{try{const n=Gt(nt,"Agenda",t),r={status:e,updatedAt:new Date().toISOString()};e==="in_progress"?r.actualStartTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):e==="completed"&&(r.actualEndTime=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})),await Zr(n,r)}catch(n){throw console.error("Erro ao atualizar status do item da agenda:",n),n}},oG=async(t,e)=>{try{const n=Gt(nt,"Agenda",t),r={...e,id:`break-${Date.now()}`},a=await lR(t);if(!a)throw new Error("Item da agenda no encontrado");const s=[...a.breaks,r];await Zr(n,{breaks:s,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao adicionar pausa ao item da agenda:",n),n}},lG=async(t,e)=>{try{const n=Gt(nt,"Agenda",t),r=await lR(t);if(!r)throw new Error("Item da agenda no encontrado");const a=r.breaks.map(s=>{if(s.id===e&&!s.endTime){const l=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),u=cG(s.startTime,l);return{...s,endTime:l,duration:u}}return s});await Zr(n,{breaks:a,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao finalizar pausa do item da agenda:",n),n}},cG=(t,e)=>{const[n,r]=t.split(":").map(Number),[a,s]=e.split(":").map(Number);return a*60+s-(n*60+r)},uG=async(t,e,n,r,a,s)=>{try{const u=new Date().toISOString().split("T")[0],h={userId:t,date:u,startTime:e,endTime:n,duration:r,totalMinutes:a,status:"completed",notes:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},f=fr(nt,"WorkShifts"),m=await ty(f,h);return await Zr(m,{id:m.id}),console.log(`Jornada salva com ID: ${m.id}`),m.id}catch(l){throw console.error("Erro ao salvar jornada:",l),l}},dG=async(t,e,n)=>{try{const r=fr(nt,"WorkShifts");let a=$a(r,Ir("userId","==",t));return e&&n&&(a=$a(a,Ir("date",">=",e),Ir("date","<=",n))),a=$a(a,A2("date","desc"),A2("startTime","desc")),(await _a(a)).docs.map(l=>({...l.data(),id:l.id}))}catch(r){throw console.error("Erro ao buscar jornadas:",r),r}},hG=async t=>{try{const e=new Date().toISOString().split("T")[0];return await dG(t,e,e)}catch(e){throw console.error("Erro ao buscar jornadas de hoje:",e),e}},Jh=async t=>{try{const e=new Date().toISOString().split("T")[0],n=fr(nt,"WorkTimeRecords"),r=$a(n,Ir("operatorId","==",t),Ir("date","==",e)),a=await _a(r);if(a.empty)return null;const s=a.docs[0];return{...s.data(),id:s.id}}catch(e){throw console.error("Erro ao buscar registro de tempo trabalhado de hoje:",e),e}},$N=async(t,e,n,r,a,s,l)=>{try{const h=new Date().toISOString().split("T")[0],f=await Jh(e),[m,g,y]=a.split(":").map(Number),j=m*3600+g*60+y;if(console.log(`Salvando registro - Duration: ${a}, Hours: ${m}, Minutes: ${g}, Seconds: ${y}`),console.log(`Total minutes: ${s}, Total seconds: ${j}`),f){const w=Gt(nt,"WorkTimeRecords",f.id),S={endTime:r,duration:a,totalMinutes:s,totalSeconds:j,status:"completed",notes:l,updatedAt:new Date().toISOString()};return await Zr(w,S),console.log(`Registro de tempo trabalhado atualizado com ID: ${f.id}`),f.id}else{const w={userId:t,operatorId:e,date:h,startTime:n,endTime:r,duration:a,totalMinutes:s,totalSeconds:j,status:"completed",notes:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},S=fr(nt,"WorkTimeRecords"),T=await ty(S,w);return await Zr(T,{id:T.id}),console.log(`Novo registro de tempo trabalhado criado com ID: ${T.id}`),T.id}}catch(u){throw console.error("Erro ao salvar/atualizar registro de tempo trabalhado:",u),u}},fG=async(t,e,n)=>{try{const r=await Jh(t);if(r){const[a,s,l]=e.split(":").map(Number),u=a*3600+s*60+l,h=Gt(nt,"WorkTimeRecords",r.id),f={duration:e,totalMinutes:n,totalSeconds:u,status:"active",updatedAt:new Date().toISOString()};await Zr(h,f),console.log(`Durao do registro atualizada: ${e}`)}}catch(r){throw console.error("Erro ao atualizar durao do registro:",r),r}},qN=t=>({id:t.id,orderId:t.orderId,productName:t.productName,activity:t.activity,sector:t.sector,sectorId:t.sectorId,description:t.description,estimatedTime:t.estimatedTime,setupTime:t.setupTime,startTime:t.startTime,endTime:t.endTime,status:t.status,actualStartTime:t.actualStartTime,actualEndTime:t.actualEndTime,actualTime:t.actualTime,priority:t.priority,requiredSkills:t.requiredSkills,breaks:t.breaks,nonConformities:t.nonConformities,assignedOperatorId:t.assignedOperatorId,routeId:t.routeId,stepId:t.stepId,qualityChecks:t.qualityChecks,notes:t.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"system",updatedBy:"system"});function FN(){const{user:t}=Ya(),[e,n]=b.useState(new Date),[r,a]=b.useState("day"),[s,l]=b.useState([]),[u,h]=b.useState([]),[f,m]=b.useState(null),[g,y]=b.useState(null),[j,w]=b.useState({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),[S,T]=b.useState(new Date),[E,I]=b.useState(!1),[N,O]=b.useState(null),[D,M]=b.useState(null),[C,R]=b.useState(null),[B,$]=b.useState([]),[L,U]=b.useState([]);b.useEffect(()=>{const le=async()=>{if(t?.id)try{const we=new Date().toISOString().split("T")[0],Re=(await zN(t.id,we)).map(qN);l(Re),h(Re),w({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:Re.length,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),m(null)}catch(Te){console.error("Erro ao buscar dados da agenda:",Te),l([]),h([]),w({tasksCompleted:0,averageEfficiency:0,totalWorkTime:0,onTimeCompletion:0,ranking:0,dailyTarget:0,totalBreaks:0,totalBreakTime:0,qualityScore:0,productivityIndex:0}),m(null)}};(async()=>{await le(),await X(),await se()})()},[t?.id]),b.useEffect(()=>{(async()=>{if(t?.id)try{const Z=await Jh(t.id);if(Z)if(console.log("Registro de tempo trabalhado encontrado:",Z),Z.status==="active"){I(!0),O(Z.startTime);const[Te,we]=Z.startTime.split(":").map(Number),Ue=new Date;Ue.setHours(Te,we,0,0),R(Ue.getTime()),M(Z.duration),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",Z.startTime),localStorage.setItem("shiftStartTimestamp",Ue.getTime().toString()),localStorage.setItem("shiftStartDate",new Date().toDateString()),console.log("Jornada ativa restaurada do documento existente")}else console.log("Jornada j finalizada, carregando dados para exibio"),await se();else{const Te=localStorage.getItem("shiftStarted"),we=localStorage.getItem("shiftStartTime"),Ue=localStorage.getItem("shiftStartDate"),Re=localStorage.getItem("shiftStartTimestamp"),Qe=new Date().toDateString();Te==="true"&&Ue===Qe&&we&&Re?(I(!0),O(we),R(parseInt(Re)),M(z(parseInt(Re)))):(localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"))}}catch(Z){console.error("Erro ao verificar registro de tempo trabalhado:",Z)}})()},[t?.id]),b.useEffect(()=>{const le=setInterval(()=>{T(new Date),E&&C&&M(z(C))},1e3);return()=>clearInterval(le)},[E,C]),b.useEffect(()=>{if(E&&N&&D){const[le,Z,Te]=D.split(":").map(Number),we=le*60+Z+Te/60;w(Ue=>({...Ue,totalWorkTime:Math.round(we)}))}else if(!E&&L.length>0){const le=L[0];le&&le.status==="completed"&&(w(Z=>({...Z,totalWorkTime:le.totalMinutes})),console.log(`Tempo trabalhado carregado do documento: ${le.duration} (${le.totalMinutes} min)`))}else E||w(le=>({...le,totalWorkTime:0}))},[E,N,D,L]),b.useEffect(()=>{if(E&&D&&t?.id){const le=setInterval(async()=>{try{const[Z,Te,we]=D.split(":").map(Number),Ue=Z*60+Te+we/60;await fG(t.id,D,Math.round(Ue))}catch(Z){console.error("Erro ao atualizar durao do registro:",Z)}},3e4);return()=>clearInterval(le)}},[E,D,t?.id]),b.useEffect(()=>{const le=s.filter(Re=>Re.status==="completed").length,Z=s.length,Te=s.filter(Re=>Re.status==="completed"&&Re.actualTime&&Re.actualTime<=Re.estimatedTime+Re.setupTime).length,we=s.reduce((Re,Qe)=>Re+Qe.breaks.length,0),Ue=s.reduce((Re,Qe)=>Re+Qe.breaks.reduce((un,Pe)=>un+(Pe.duration||0),0),0);w(Re=>({...Re,tasksCompleted:le,averageEfficiency:Z>0?le/Z*100:0,onTimeCompletion:Z>0?Te/Z*100:0,dailyTarget:Z,totalBreaks:we,totalBreakTime:Ue}))},[s]);const z=le=>{const Te=Date.now()-le;if(Te<0)return"00:00:00";const we=Math.floor(Te/(1e3*60*60)),Ue=Math.floor(Te%(1e3*60*60)/(1e3*60)),Re=Math.floor(Te%(1e3*60)/1e3);return`${we.toString().padStart(2,"0")}:${Ue.toString().padStart(2,"0")}:${Re.toString().padStart(2,"0")}`},xe=async()=>{if(t?.id)try{const le=new Date,Z=le.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Te=le.getTime();await Jh(t.id)||(await $N(t.id,t.id,Z,Z,"00:00:00",0,"Jornada iniciada - documento criado"),console.log("Documento de tempo trabalhado criado para hoje")),M("00:00:00"),R(Te),I(!0),O(Z),localStorage.setItem("shiftStarted","true"),localStorage.setItem("shiftStartTime",Z),localStorage.setItem("shiftStartTimestamp",Te.toString()),localStorage.setItem("shiftStartDate",le.toDateString()),await se(),console.log(`Jornada iniciada s ${Z}`)}catch(le){console.error("Erro ao iniciar jornada:",le),alert("Erro ao iniciar jornada. Tente novamente.")}},ce=async()=>{if(!(!t?.id||!N||!D))try{const le=D,Te=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),[we,Ue,Re]=le.split(":").map(Number),Qe=we*60+Ue+Re/60;console.log(`Finalizando jornada - Tempo decorrido: ${le}, Total minutos: ${Math.round(Qe)}`);const un=await uG(t.id,N,Te,le,Math.round(Qe),"Jornada finalizada pelo operador");console.log(`Jornada salva com ID: ${un}`);const Pe=await $N(t.id,t.id,N,Te,le,Math.round(Qe),`Jornada finalizada - Jornada ID: ${un}`);console.log(`Registro de tempo trabalhado atualizado com ID: ${Pe}`),I(!1),O(null),R(null),M(null),localStorage.removeItem("shiftStarted"),localStorage.removeItem("shiftStartTime"),localStorage.removeItem("shiftStartTimestamp"),localStorage.removeItem("shiftStartDate"),await X(),await se(),console.log(`Jornada finalizada s ${Te}. Tempo total: ${le}`)}catch(le){console.error("Erro ao salvar jornada:",le),alert("Erro ao salvar jornada. Tente novamente.")}},X=async()=>{if(t?.id)try{const le=await hG(t.id);$(le)}catch(le){console.error("Erro ao carregar jornadas do dia:",le)}},se=async()=>{if(t?.id)try{const le=await Jh(t.id);le?(U([le]),console.log(`Carregado registro de tempo trabalhado de hoje: ${le.duration}`)):(U([]),console.log("Nenhum registro de tempo trabalhado encontrado para hoje"))}catch(le){console.error("Erro ao carregar registro de tempo trabalhado:",le)}},ge=async le=>{if(t?.id)try{const Z=le.toISOString().split("T")[0],we=(await zN(t.id,Z)).map(qN);l(we),h(we),m(we.find(Ge=>Ge.status==="in_progress")||null);const Ue=we.filter(Ge=>Ge.status==="completed").length,Re=we.length,Qe=we.filter(Ge=>Ge.status==="completed"&&Ge.actualTime&&Ge.actualTime<=Ge.estimatedTime+Ge.setupTime).length,un=we.reduce((Ge,_e)=>Ge+_e.breaks.length,0),Pe=we.reduce((Ge,_e)=>Ge+_e.breaks.reduce((ct,At)=>ct+(At.duration||0),0),0);w(Ge=>({...Ge,tasksCompleted:Ue,averageEfficiency:Re>0?Ue/Re*100:0,totalWorkTime:0,onTimeCompletion:Re>0?Qe/Re*100:0,dailyTarget:Re,totalBreaks:un,totalBreakTime:Pe}))}catch(Z){console.error("Erro ao buscar agenda por data:",Z)}},Se=async le=>{if(t?.id)try{f&&await ae(f.id),await fx(le,"in_progress"),l(Te=>Te.map(we=>we.id===le?{...we,status:"in_progress",actualStartTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}:we));const Z=s.find(Te=>Te.id===le);Z&&m({...Z,status:"in_progress"})}catch(Z){console.error("Erro ao iniciar tarefa:",Z)}},H=async le=>{if(t?.id)try{const Z=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});await fx(le,"completed"),l(Te=>Te.map(we=>we.id===le?{...we,status:"completed",actualEndTime:Z,actualTime:we.actualStartTime?Q(we.actualStartTime,Z):we.estimatedTime}:we)),m(null)}catch(Z){console.error("Erro ao completar tarefa:",Z)}},ae=async le=>{if(t?.id)try{await fx(le,"paused"),l(Z=>Z.map(Te=>Te.id===le?{...Te,status:"pending"}:Te)),f?.id===le&&m(null)}catch(Z){console.error("Erro ao pausar tarefa:",Z)}},F=async le=>{if(!(!f?.id||!t?.id))try{const Z={id:`break-${Date.now()}`,type:le,startTime:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.id,updatedBy:t.id};await oG(f.id,Z),y(Z)}catch(Z){console.error("Erro ao iniciar pausa:",Z)}},G=async()=>{if(!(!g?.id||!f?.id||!t?.id))try{await lG(f.id,g.id);const le=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Z=Q(g.startTime,le),Te={...g,endTime:le,duration:Z};l(we=>we.map(Ue=>Ue.id===f.id?{...Ue,breaks:[...Ue.breaks,Te]}:Ue))}catch(le){console.error("Erro ao finalizar pausa:",le)}finally{y(null)}},ve=async le=>{switch(le){case"start-next":{const Z=s.find(Te=>Te.status==="pending");Z&&await Se(Z.id);break}case"pause-current":f&&await ae(f.id);break;case"complete-current":f&&await H(f.id);break;case"emergency-break":f&&(await ae(f.id),await F("other"));break}},Q=(le,Z)=>{const[Te,we]=le.split(":").map(Number),[Ue,Re]=Z.split(":").map(Number);return Ue*60+Re-(Te*60+we)},fe=le=>{switch(le){case"pending":return"#e2e8f0";case"in_progress":return"#bee3f8";case"active":return"#fbb040";case"completed":return"#c6f6d5";case"overdue":return"#fed7d7";default:return"#e2e8f0"}},Ae=le=>{switch(le){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"urgent":return"#e53e3e";default:return"#4a5568"}},Me=le=>le>=95?"#48bb78":le>=85?"#fbb040":"#f56565",be=le=>{const Z=Math.floor(le/60),Te=le%60;return`${Z}h ${Te}m`},Be=le=>{if(le.status==="completed")return 100;if(le.status==="pending")return 0;const Z=new Date,[Te,we]=le.startTime.split(":").map(Number),[Ue,Re]=le.endTime.split(":").map(Number),Qe=new Date;Qe.setHours(Te,we,0,0);const un=new Date;un.setHours(Ue,Re,0,0);const Pe=un.getTime()-Qe.getTime(),Ge=Z.getTime()-Qe.getTime();return Math.min(Math.max(Ge/Pe*100,0),100)};return i.jsx("div",{className:"schedule-page",children:i.jsxs("div",{className:"schedule-container",children:[i.jsx(JK,{user:t,viewMode:r,setViewMode:a,currentTime:S,onStartShift:xe,onStopShift:ce,isShiftStarted:E,shiftStartTime:N,elapsedTime:D,hasActiveWorkRecord:L.length>0}),i.jsx(eG,{stats:j,getEfficiencyColor:Me,formatTime:be}),i.jsx(aG,{tasks:s,currentTask:f,onFilterChange:h,onSortChange:le=>{l(le),h(le)},onQuickAction:ve}),i.jsxs("div",{className:"schedule-content",children:[i.jsx(tG,{currentTask:f,activeBreak:g,currentTime:S,handlePauseTask:ae,handleCompleteTask:H,handleStartBreak:F,handleEndBreak:G,calculateProgress:Be,calculateActualTime:Q}),i.jsx(rG,{tasks:u,currentDate:e,setCurrentDate:n,handleStartTask:Se,getTaskStatusColor:fe,getPriorityColor:Ae,getEfficiencyColor:Me,formatTime:be,onDateChange:ge})]}),i.jsx(iG,{workShifts:B}),i.jsx(sG,{workTimeRecords:L})]})})}const mG=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState([]),[l,u]=b.useState(null),h=(m,g)=>g===0?0:m/g*100,f=(m,g)=>m===0?0:g/m*100;return b.useEffect(()=>{const m=[{id:"task-001",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Corte de Peas",sector:"Corte",description:"Cortar 100 peas conforme especificao tcnica.",estimatedTime:120,setupTime:30,startTime:"08:00",endTime:"10:30",status:"completed",actualStartTime:"08:05",actualEndTime:"10:25",actualTime:140,priority:"high",requiredSkills:["Corte","Medio"],breaks:[],nonConformities:[],sectorId:"corte-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T08:00:00Z",updatedAt:"2024-01-20T10:25:00Z",createdBy:"system",updatedBy:"system"},{id:"task-002",orderId:"OP-2024-001",productName:"Produto A - Modelo X",activity:"Montagem Principal",sector:"Montagem",description:"Montar componentes principais seguindo roteiro.",estimatedTime:180,setupTime:45,startTime:"10:30",endTime:"14:15",status:"completed",actualStartTime:"10:35",actualEndTime:"14:00",actualTime:165,priority:"high",requiredSkills:["Montagem","Torque"],breaks:[{id:"break-001",type:"coffee",startTime:"12:00",endTime:"12:15",duration:15,createdAt:"2024-01-20T12:00:00Z",updatedAt:"2024-01-20T12:15:00Z",createdBy:"system",updatedBy:"system"}],nonConformities:[],sectorId:"montagem-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system"},{id:"task-003",orderId:"OP-2024-002",productName:"Produto B - Modelo Y",activity:"Acabamento Final",sector:"Acabamento",description:"Aplicar acabamento final e inspeo de qualidade.",estimatedTime:90,setupTime:15,startTime:"14:15",endTime:"15:45",status:"completed",actualStartTime:"14:20",actualEndTime:"15:35",actualTime:75,priority:"medium",requiredSkills:["Acabamento","Inspeo"],breaks:[],nonConformities:[],sectorId:"acabamento-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system"},{id:"task-004",orderId:"OP-2024-003",productName:"Produto C - Modelo Z",activity:"Preparao Material",sector:"Preparao",description:"Separar e preparar materiais para produo.",estimatedTime:60,setupTime:20,startTime:"15:45",endTime:"17:05",status:"delayed",actualStartTime:"15:50",actualEndTime:"17:20",actualTime:90,priority:"low",requiredSkills:["Preparao"],breaks:[],nonConformities:[],sectorId:"preparacao-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system"},{id:"task-005",orderId:"OP-2024-004",productName:"Produto D - Modelo W",activity:"Inspeo Qualidade",sector:"Qualidade",description:"Inspeo final de qualidade conforme especificao.",estimatedTime:45,setupTime:10,startTime:"08:00",endTime:"09:00",status:"completed",actualStartTime:"08:02",actualEndTime:"08:50",actualTime:48,priority:"urgent",requiredSkills:["Qualidade","Inspeo"],breaks:[],nonConformities:[],sectorId:"qualidade-001",assignedOperatorId:"op-001",qualityChecks:[],createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system"}],g={"Corte de Peas":105,"Montagem Principal":160,"Acabamento Final":70,"Preparao Material":55,"Inspeo Qualidade":40},y=m.filter(O=>O.status==="completed"||O.status==="delayed").map(O=>{const D=O.estimatedTime+O.setupTime,M=O.actualTime||D,C=g[O.activity]||D*.9,R=h(D,M),B=f(M,C);return{operatorId:"op-001",operatorName:"Joo Silva",taskId:O.id,taskName:O.activity,orderId:O.orderId,orderName:O.productName,sector:O.sector,shift:"morning",date:"2024-01-20",plannedTime:D,actualTime:M,bestHistoricTime:C,efficiency:R,productivity:B,status:O.status==="completed"?"completed":"delayed"}}),j=y.filter(O=>O.status==="completed"),w=j.reduce((O,D)=>O+D.efficiency,0)/j.length,S=j.reduce((O,D)=>O+D.productivity,0)/j.length,T=j.filter(O=>O.efficiency>=100).length/j.length*100,E=[{operatorId:"op-001",operatorName:"Joo Silva",totalTasks:y.length,averageEfficiency:w,totalProductivity:S,onTimeCompletion:T,rank:1,trend:w>100?"up":"down"},{operatorId:"op-002",operatorName:"Maria Santos",totalTasks:18,averageEfficiency:104.7,totalProductivity:98.9,onTimeCompletion:88.9,rank:2,trend:"stable"},{operatorId:"op-003",operatorName:"Pedro Costa",totalTasks:15,averageEfficiency:89.3,totalProductivity:85.2,onTimeCompletion:73.3,rank:3,trend:"down"}],I=y.reduce((O,D)=>O+D.actualTime,0),N=[{period:"Hoje",tasksCompleted:y.length,averageEfficiency:w,totalTime:I,productivityScore:S,onTimeRate:T},{period:"Esta Semana",tasksCompleted:y.length*5,averageEfficiency:w*.98,totalTime:I*5,productivityScore:S*.96,onTimeRate:T*.95},{period:"Este Ms",tasksCompleted:y.length*20,averageEfficiency:w*.96,totalTime:I*20,productivityScore:S*.94,onTimeRate:T*.92}];e(y),r(E),s(N),u(E[0])},[]),{productivityData:t,operatorRankings:n,periodStats:a,currentUserStats:l,calculateEfficiency:h,calculateProductivity:f}};function pG(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState({autoRecalculation:!0,recalculateInterval:30,notifyOperators:!0,notifyCoordinators:!0,maxDelayAllowed:120,priorityThreshold:"urgent"}),[l,u]=b.useState(!1),[h,f]=b.useState(null),[m,g]=b.useState(null),y=b.useCallback(async O=>{await new Promise(C=>setTimeout(C,2e3));const D=[],M=["Joo Silva","Maria Santos","Pedro Costa","Ana Oliveira"];for(let C=0;C<O.affectedOperators;C++){const R={id:`SC-${Date.now()}-${C}`,orderId:O.id,taskId:`task-${C+1}`,operatorId:`op-${C+1}`,operatorName:M[C%M.length],originalStartTime:"08:00",newStartTime:"07:30",originalEndTime:"17:00",newEndTime:"16:30",reason:`Pedido ${O.priority} ${O.id}`,impact:O.priority==="critical"?"high":"medium",notified:!1};D.push(R)}return D},[]),j=b.useCallback(async O=>{u(!0);try{await new Promise(M=>setTimeout(M,3e3));const D=await y(O);e(M=>[{...O,status:"completed",processedAt:new Date().toISOString()},...M]),r(M=>[...D,...M]),a.notifyOperators&&await w(D),a.notifyCoordinators&&await S(O,D),f(new Date),g(new Date(Date.now()+a.recalculateInterval*60*1e3))}catch(D){console.error("Erro ao processar pedido urgente:",D),e(M=>[{...O,status:"failed"},...M])}finally{u(!1)}},[a,y]),w=b.useCallback(async O=>{console.log("Notificando operadores sobre mudanas de agenda:",O),r(D=>D.map(M=>O.some(C=>C.id===M.id)?{...M,notified:!0}:M))},[]),S=b.useCallback(async(O,D)=>{console.log("Notificando coordenadores sobre pedido urgente:",O,D)},[]),T=b.useCallback(async()=>{if(!l){u(!0);try{const O={id:`UO-2024-${String(t.length+1).padStart(3,"0")}`,productName:"Produto C - Modelo Z",quantity:75,priority:"urgent",originalDeadline:"2024-01-24T18:00:00",newDeadline:"2024-01-22T16:00:00",affectedTasks:6,affectedOperators:2,estimatedDelay:30,status:"pending",createdAt:new Date().toISOString()};await j(O)}catch(O){console.error("Erro no reclculo manual:",O)}finally{u(!1)}}},[t.length,j,l]);b.useEffect(()=>{if(!a.autoRecalculation)return;const O=setInterval(()=>{l||T()},a.recalculateInterval*60*1e3);return()=>clearInterval(O)},[a.autoRecalculation,a.recalculateInterval,T,l]);const E={totalUrgentOrders:t.length,processingOrders:t.filter(O=>O.status==="processing").length,completedOrders:t.filter(O=>O.status==="completed").length,failedOrders:t.filter(O=>O.status==="failed").length,totalScheduleChanges:n.length,notifiedChanges:n.filter(O=>O.notified).length,efficiency:t.length>0?t.filter(O=>O.status==="completed").length/t.length*100:0},I=b.useCallback(O=>{s(D=>({...D,...O}))},[]),N=b.useCallback(async O=>{const D=n.find(M=>M.id===O);if(D)try{await w([D])}catch(M){console.error("Erro ao notificar mudana:",M)}},[n,w]);return{urgentOrders:t,scheduleChanges:n,config:a,isProcessing:l,lastRecalculation:h,nextRecalculation:m,stats:E,processUrgentOrder:j,manualRecalculation:T,updateConfig:I,notifyChange:N}}const gG=()=>{const[t,e]=b.useState(!1),n=b.useCallback(async g=>{if(!g.accessToken)return{success:!1,error:"Access Token  obrigatrio"};try{return e(!0),Ut.setAccessToken(g.accessToken),await Ut.testConnection()}catch(y){return{success:!1,error:y instanceof Error?y.message:"Erro inesperado durante o teste de conexo"}}finally{e(!1)}},[]),r=b.useCallback(async g=>{if(!g.accessToken)return{success:!1,error:"Access Token  obrigatrio"};try{e(!0),Ut.setAccessToken(g.accessToken);const y=await Ut.syncData();if(y.success){const w=(await Ut.getProductionOrders(1,100)).data.map(S=>({id:`bling-${S.id}`,number:S.numero,customer:S.cliente.nome,product:S.itens[0]?.descricao||"Produto no especificado",quantity:S.itens.reduce((T,E)=>T+E.quantidade,0),status:a(S.situacao),createdAt:S.data,importedAt:new Date().toISOString(),importedBy:"Sistema"}));return{success:!0,importedCount:w.length,errorCount:y.errors.length,orders:w}}else return{success:!1,error:y.message}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Erro desconhecido na importao"}}finally{e(!1)}},[]),a=g=>({em_aberto:"pending",em_producao:"processing",aguardando_producao:"pending",concluido:"completed",cancelado:"cancelled"})[g]||"pending",s=b.useCallback(async()=>{try{return[{id:"log-001",timestamp:new Date(Date.now()-36e5).toISOString(),type:"success",message:"Importao automtica realizada",details:"3 ordens importadas com sucesso",ordersCount:3,errorsCount:0},{id:"log-002",timestamp:new Date(Date.now()-72e5).toISOString(),type:"warning",message:"Importao com avisos",details:"2 ordens importadas, 1 com dados incompletos",ordersCount:2,errorsCount:1},{id:"log-003",timestamp:new Date(Date.now()-864e5).toISOString(),type:"error",message:"Falha na importao",details:"Erro de conexo com a API do Bling",ordersCount:0,errorsCount:1}]}catch(g){return console.error("Erro ao carregar histrico:",g),[]}},[]),l=b.useCallback(async()=>{try{const g=localStorage.getItem("bling-config");return g?JSON.parse(g):null}catch(g){return console.error("Erro ao carregar configurao:",g),null}},[]),u=b.useCallback(async g=>{try{localStorage.setItem("bling-config",JSON.stringify(g)),await new Promise(y=>setTimeout(y,500))}catch(y){throw console.error("Erro ao salvar configurao:",y),y}},[]),h=b.useCallback(async g=>g.autoSync?await r(g):{success:!1,error:"Sincronizao automtica desabilitada"},[r]),f=b.useCallback(async()=>{try{const g=await s(),y=g.reduce((S,T)=>S+(T.ordersCount||0),0),j=g.filter(S=>S.type==="success").length,w=g.length>0?j/g.length*100:0;return{totalOrders:y,lastSync:g.length>0?g[0].timestamp:null,nextSync:null,successRate:w}}catch(g){return console.error("Erro ao obter estatsticas:",g),{totalOrders:0,lastSync:null,nextSync:null,successRate:0}}},[s]),m=b.useCallback(g=>{const y=[];return(!g.accessToken||g.accessToken.trim().length===0)&&y.push("Access Token  obrigatrio"),(!g.baseUrl||g.baseUrl.trim().length===0)&&y.push("URL Base  obrigatria"),g.autoSync&&(g.syncInterval<5||g.syncInterval>1440)&&y.push("Intervalo de sincronizao deve estar entre 5 e 1440 minutos"),{isValid:y.length===0,errors:y}},[]);return{loading:t,testConnection:n,importOrders:r,getImportHistory:s,getConfiguration:l,updateConfiguration:u,syncOrders:h,getSyncStats:f,validateConfig:m}},cR={email:"",name:"",displayName:"",company:"",phone:"",password:"",confirmPassword:"",userType:"operator",role:"operator",code:"",primarySectorId:"",secondarySectorIds:[],skills:[],admissionDate:"",contractType:"clt",workSchedule:"day",weeklyHours:40,supervisorId:"",teamId:"",status:"active",lastTrainingDate:"",nextTrainingDate:"",newSkill:""},vG={formData:cR,formErrors:{},formLoading:!1,editingUser:null};function yG(t,e){switch(e.type){case"SET_FIELD":return{...t,formData:{...t.formData,[e.field]:e.value}};case"SET_ERROR":return{...t,formErrors:{...t.formErrors,[e.field]:e.error}};case"CLEAR_ERROR":const{[e.field]:n,...r}=t.formErrors;return{...t,formErrors:r};case"CLEAR_ALL_ERRORS":return{...t,formErrors:{}};case"SET_LOADING":return{...t,formLoading:e.loading};case"SET_EDITING_USER":return{...t,editingUser:e.user};case"RESET_FORM":return{...t,formData:cR,formErrors:{},editingUser:null};case"ADD_SKILL":return e.skill.trim()&&!t.formData.skills?.includes(e.skill.trim())?{...t,formData:{...t.formData,skills:[...t.formData.skills||[],e.skill.trim()],newSkill:""}}:t;case"REMOVE_SKILL":return{...t,formData:{...t.formData,skills:(t.formData.skills||[]).filter(a=>a!==e.skill)}};case"SET_NEW_SKILL":return{...t,formData:{...t.formData,newSkill:e.skill}};default:return t}}function xG(){const[t,e]=b.useReducer(yG,vG),n=b.useCallback((S,T)=>{e({type:"SET_FIELD",field:S,value:T})},[]),r=b.useCallback((S,T)=>{e({type:"SET_ERROR",field:S,error:T})},[]),a=b.useCallback(S=>{e({type:"CLEAR_ERROR",field:S})},[]),s=b.useCallback(()=>{e({type:"CLEAR_ALL_ERRORS"})},[]),l=b.useCallback(S=>{e({type:"SET_LOADING",loading:S})},[]),u=b.useCallback(S=>{e({type:"SET_EDITING_USER",user:S})},[]),h=b.useCallback(()=>{e({type:"RESET_FORM"})},[]),f=b.useCallback(()=>{t.formData.newSkill?.trim()&&e({type:"ADD_SKILL",skill:t.formData.newSkill})},[t.formData.newSkill]),m=b.useCallback(S=>{e({type:"REMOVE_SKILL",skill:S})},[]),g=b.useCallback(S=>{e({type:"SET_NEW_SKILL",skill:S})},[]),y=b.useCallback(S=>{const{name:T,value:E}=S.target;n(T,E),t.formErrors[T]&&a(T)},[n,a,t.formErrors]),j=b.useCallback(S=>{const{value:T}=S.target,E=w(T);n("phone",E)},[n]),w=S=>{const T=S.replace(/\D/g,"");return T.length<=2?T:T.length<=7?`(${T.slice(0,2)}) ${T.slice(2)}`:T.length<=11?`(${T.slice(0,2)}) ${T.slice(2,7)}-${T.slice(7)}`:`(${T.slice(0,2)}) ${T.slice(2,7)}-${T.slice(7,11)}`};return{...t,setField:n,setError:r,clearError:a,clearAllErrors:s,setLoading:l,setEditingUser:u,resetForm:h,addSkill:f,removeSkill:m,setNewSkill:g,handleChange:y,handlePhoneChange:j}}const uR=async t=>{try{const e=fr(nt,"users"),n=$a(e,Ir("email","==",t.toLowerCase().trim()));return!(await _a(n)).empty}catch(e){throw console.error("Erro ao verificar email:",e),new Error("Erro ao verificar disponibilidade do email")}},bG=async t=>{const e=[];if(!t.email||!t.email.trim()?e.push("E-mail  obrigatrio"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||e.push("E-mail invlido"),(!t.name||!t.name.trim())&&e.push("Nome  obrigatrio"),(!t.password||t.password.length<6)&&e.push("Senha deve ter pelo menos 6 caracteres"),(!t.userType||!t.userType.trim())&&e.push("Tipo de usurio  obrigatrio"),(!t.role||!t.role.trim())&&e.push("Papel/funo  obrigatrio"),t.email&&t.email.trim())try{await uR(t.email)&&e.push("E-mail j est em uso")}catch{e.push("Erro ao verificar disponibilidade do email")}return{isValid:e.length===0,errors:e}},jG=async t=>{try{const e=await bG(t);if(!e.isValid)return{success:!1,error:e.errors.join(", ")};const r=(await Fj(Ql,t.email.trim().toLowerCase(),t.password)).user,a=r.uid;await ak(r,{displayName:t.displayName||t.name});const s={id:a,uid:a,email:t.email.trim().toLowerCase(),name:t.name.trim(),displayName:t.displayName?.trim()||t.name.trim(),company:t.company?.trim()||"",phone:t.phone?.trim()||"",photoURL:null,emailVerified:!1,userType:t.userType,role:t.role,createdAt:vs(),updatedAt:vs()},l=Gt(nt,"users",a);await cd(l,s),await Ql.signOut();const u={id:a,email:s.email,name:s.name,displayName:s.displayName,company:s.company,phone:s.phone,photoURL:s.photoURL,emailVerified:s.emailVerified,userType:s.userType,role:s.role,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:a,updatedBy:a};return{success:!0,userId:a,user:u}}catch(e){console.error("Erro ao criar usurio:",e);try{await Ql.signOut()}catch(r){console.error("Erro ao fazer logout:",r)}let n="Erro ao criar usurio";return e.code==="auth/email-already-in-use"?n="E-mail j est em uso":e.code==="auth/weak-password"?n="Senha muito fraca":e.code==="auth/invalid-email"?n="E-mail invlido":e.message&&(n=e.message),{success:!1,error:n}}},wG=async(t,e)=>{try{const n=Gt(nt,"users",t);if(!(await us(n)).exists())return{success:!1,error:"Usurio no encontrado"};const a={updatedAt:vs()};e.name&&(a.name=e.name.trim()),e.displayName&&(a.displayName=e.displayName.trim()),e.company&&(a.company=e.company.trim()),e.phone&&(a.phone=e.phone.trim()),e.userType&&(a.userType=e.userType),e.role&&(a.role=e.role),await Zr(n,a);const l=(await us(n)).data(),u={id:t,email:l?.email||"",name:l?.name||"",displayName:l?.displayName||"",company:l?.company||"",phone:l?.phone||"",photoURL:l?.photoURL||null,emailVerified:l?.emailVerified||!1,userType:l?.userType||"user",role:l?.role||"user",createdAt:l?.createdAt?.toDate?.()?.toISOString()||l?.createdAt||new Date().toISOString(),updatedAt:l?.updatedAt?.toDate?.()?.toISOString()||l?.updatedAt||new Date().toISOString(),createdBy:l?.createdBy||"",updatedBy:l?.updatedBy||""};return{success:!0,userId:t,user:u}}catch(n){return console.error("Erro ao atualizar usurio:",n),{success:!1,error:n.message||"Erro ao atualizar usurio"}}},_G=async()=>{try{const t=fr(nt,"users");return(await _a(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName||"",company:r.company||"",phone:r.phone||"",photoURL:r.photoURL||null,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt?.toDate?.()?.toISOString()||r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt?.toDate?.()?.toISOString()||r.updatedAt||new Date().toISOString(),createdBy:r.createdBy||"",updatedBy:r.updatedBy||""}})}catch(t){throw console.error("Erro ao listar usurios:",t),t}},SG=async t=>{try{const e=Gt(nt,"users",t);return(await us(e)).exists()?(await cd(e,{deleted:!0,deletedAt:vs()},{merge:!0}),{success:!0,userId:t}):{success:!1,error:"Usurio no encontrado"}}catch(e){return console.error("Erro ao remover usurio:",e),{success:!1,error:e.message||"Erro ao remover usurio"}}};function TG(){const t=b.useCallback(async(a,s=null)=>{if(!a)return"E-mail  obrigatrio";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a))return"E-mail invlido";if(!s)try{if(await uR(a))return"E-mail j est em uso"}catch{return"Erro ao verificar disponibilidade do email"}return""},[]),e=b.useCallback(async(a,s,l=null)=>{if(s==="operator"&&(!a||!a.trim()))return"Cdigo/Matrcula  obrigatrio para operadores";if(s==="operator"&&!l&&a)try{if(await IK(a))return"Cdigo/Matrcula j est em uso"}catch{return"Erro ao verificar disponibilidade do cdigo"}return""},[]),n=b.useCallback(async(a,s=null)=>{const l={};if(!a.email)l.email="E-mail  obrigatrio";else{const u=await t(a.email,s);u&&(l.email=u)}if(a.name?a.name.trim().length<2&&(l.name="Nome deve ter pelo menos 2 caracteres"):l.name="Nome  obrigatrio",!s&&!a.password?l.password="Senha  obrigatria para novos usurios":a.password&&a.password.length<6&&(l.password="A senha deve ter pelo menos 6 caracteres"),a.password&&a.password!==a.confirmPassword&&(l.confirmPassword="As senhas no coincidem"),a.userType==="operator"){const u=await e(a.code||"",a.userType,s);u&&(l.code=u),a.primarySectorId||(l.primarySectorId="Setor primrio  obrigatrio para operadores"),a.admissionDate||(l.admissionDate="Data de admisso  obrigatria para operadores"),(!a.weeklyHours||a.weeklyHours<=0)&&(l.weeklyHours="Horas semanais devem ser maiores que 0")}return{isValid:Object.keys(l).length===0,errors:l}},[t,e]),r=b.useCallback(async(a,s,l,u=null)=>{switch(a){case"email":return await t(s,u);case"code":return await e(s,l.userType,u);case"name":return s.trim()?s.trim().length<2?"Nome deve ter pelo menos 2 caracteres":"":"Nome  obrigatrio";case"password":return!u&&!s?"Senha  obrigatria":s&&s.length<6?"Senha deve ter pelo menos 6 caracteres":"";case"confirmPassword":return!u&&!s?"Confirmao de senha  obrigatria":s&&s!==l.password?"As senhas no coincidem":"";case"primarySectorId":return l.userType==="operator"&&!s?"Setor primrio  obrigatrio para operadores":"";case"admissionDate":return l.userType==="operator"&&!s?"Data de admisso  obrigatria para operadores":"";case"weeklyHours":return l.userType==="operator"&&(!s||Number(s)<=0)?"Horas semanais devem ser maiores que 0":"";default:return""}},[t,e]);return{validateForm:n,validateField:r,validateEmail:t,validateCode:e}}const dR={code:"",name:"",description:"",category:"",isActive:!0},EG={formData:dR,formErrors:{},formLoading:!1,editingProduct:null};function AG(t,e){switch(e.type){case"SET_FIELD":return{...t,formData:{...t.formData,[e.field]:e.value}};case"SET_ERROR":return{...t,formErrors:{...t.formErrors,[e.field]:e.error}};case"CLEAR_ERROR":const{[e.field]:n,...r}=t.formErrors;return{...t,formErrors:r};case"CLEAR_ALL_ERRORS":return{...t,formErrors:{}};case"SET_LOADING":return{...t,formLoading:e.loading};case"SET_EDITING_PRODUCT":return{...t,editingProduct:e.product};case"RESET_FORM":return{...t,formData:dR,formErrors:{},editingProduct:null};default:return t}}function NG(){const[t,e]=b.useReducer(AG,EG),n=b.useCallback((m,g)=>{e({type:"SET_FIELD",field:m,value:g})},[]),r=b.useCallback((m,g)=>{e({type:"SET_ERROR",field:m,error:g})},[]),a=b.useCallback(m=>{e({type:"CLEAR_ERROR",field:m})},[]),s=b.useCallback(()=>{e({type:"CLEAR_ALL_ERRORS"})},[]),l=b.useCallback(m=>{e({type:"SET_LOADING",loading:m})},[]),u=b.useCallback(m=>{e({type:"SET_EDITING_PRODUCT",product:m})},[]),h=b.useCallback(()=>{e({type:"RESET_FORM"})},[]),f=b.useCallback(m=>{const{name:g,value:y,type:j}=m.target,w=m.target.checked;n(g,j==="checkbox"?w:y),t.formErrors[g]&&a(g)},[n,a,t.formErrors]);return{...t,setField:n,setError:r,clearError:a,clearAllErrors:s,setLoading:l,setEditingProduct:u,resetForm:h,handleChange:f}}const Iw=t=>({id:t.id.toString(),code:t.codigo||`BLING-${t.id}`,name:t.nome,description:t.descricao||"",category:t.categoria||"Sem categoria",isActive:t.situacao==="A",createdAt:t.createdAt||new Date().toISOString(),updatedAt:t.updatedAt||new Date().toISOString(),createdBy:"bling-api",updatedBy:"bling-api",price:t.preco,costPrice:t.precoCusto,brand:t.marca,model:t.modelo,weight:t.pesoBruto,dimensions:{width:t.largura,height:t.altura,depth:t.profundidade},gtin:t.gtin,type:t.tipo==="P"?"product":"service"}),hR=async()=>{try{console.log(" Buscando produtos do Bling...");const t=await Ut.getProducts(1,200);if(t.data&&Array.isArray(t.data)){console.log(` ${t.data.length} produtos encontrados no Bling`);const e=t.data.map(Iw);return e.sort((n,r)=>n.name.localeCompare(r.name)),e}else return console.warn(" Nenhum produto encontrado no Bling"),[]}catch(t){throw console.error(" Erro ao buscar produtos do Bling:",t),new Error("Erro ao carregar produtos do Bling. Verifique sua conexo e configurao.")}},CG=async t=>{try{const e=Hr.BACKEND_URL,n=localStorage.getItem("bling_access_token"),r={nome:t.name,codigo:t.code,descricao:t.description,categoria:t.category,situacao:t.isActive?"A":"I",tipo:"P"},a=await fetch(`${e}/api/products${n?`?token=${n}`:""}`,{method:"POST",headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}},body:JSON.stringify(r)});if(!a.ok)return{success:!1,error:(await a.json().catch(()=>({}))).message||`Erro ao criar produto: ${a.status}`};const s=await a.json();return s.success&&s.data?{success:!0,data:Iw(s.data)}:{success:!1,error:"Erro ao criar produto no Bling"}}catch(e){return console.error("Erro ao criar produto:",e),{success:!1,error:"Erro ao criar produto. Tente novamente."}}},OG=async(t,e)=>{try{const n=Hr.BACKEND_URL,r=localStorage.getItem("bling_access_token"),a={};e.name&&(a.nome=e.name),e.description&&(a.descricao=e.description),e.category&&(a.categoria=e.category),e.isActive!==void 0&&(a.situacao=e.isActive?"A":"I");const s=await fetch(`${n}/api/products/${t}${r?`?token=${r}`:""}`,{method:"PUT",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},body:JSON.stringify(a)});if(!s.ok)return{success:!1,error:(await s.json().catch(()=>({}))).message||`Erro ao atualizar produto: ${s.status}`};const l=await s.json();return l.success&&l.data?{success:!0,data:Iw(l.data)}:{success:!1,error:"Erro ao atualizar produto no Bling"}}catch(n){return console.error("Erro ao atualizar produto:",n),{success:!1,error:"Erro ao atualizar produto. Tente novamente."}}},IG=async t=>{try{const e=Hr.BACKEND_URL,n=localStorage.getItem("bling_access_token"),r=await fetch(`${e}/api/products/${t}${n?`?token=${n}`:""}`,{method:"DELETE",headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}});return r.ok?(await r.json()).success?{success:!0}:{success:!1,error:"Erro ao deletar produto no Bling"}:{success:!1,error:(await r.json().catch(()=>({}))).message||`Erro ao deletar produto: ${r.status}`}}catch(e){return console.error("Erro ao deletar produto:",e),{success:!1,error:"Erro ao deletar produto. Tente novamente."}}},kG=async(t,e)=>{try{return(await hR()).some(r=>r.code===t&&r.id!==e)}catch(n){return console.error("Erro ao verificar cdigo do produto:",n),!1}};function PG(){const t=b.useCallback(async(r,a=null)=>{if(!r.trim())return"Cdigo  obrigatrio";if(r.trim().length<2)return"Cdigo deve ter pelo menos 2 caracteres";if(!a)try{if(await kG(r))return"Cdigo do produto j est em uso"}catch{return"Erro ao verificar disponibilidade do cdigo"}return""},[]),e=b.useCallback(async(r,a=null)=>{const s={};if(!r.code.trim())s.code="Cdigo  obrigatrio";else if(r.code.trim().length<2)s.code="Cdigo deve ter pelo menos 2 caracteres";else if(!a){const l=await t(r.code,a);l&&(s.code=l)}return r.name.trim()?r.name.trim().length<2&&(s.name="Nome deve ter pelo menos 2 caracteres"):s.name="Nome  obrigatrio",r.category.trim()?r.category.trim().length<2&&(s.category="Categoria deve ter pelo menos 2 caracteres"):s.category="Categoria  obrigatria",r.description&&r.description.trim().length>0&&r.description.trim().length<10&&(s.description="Descrio deve ter pelo menos 10 caracteres"),{isValid:Object.keys(s).length===0,errors:s}},[t]),n=b.useCallback(async(r,a,s,l=null)=>{switch(r){case"code":return await t(a,l);case"name":return a.trim()?a.trim().length<2?"Nome deve ter pelo menos 2 caracteres":"":"Nome  obrigatrio";case"category":return a.trim()?a.trim().length<2?"Categoria deve ter pelo menos 2 caracteres":"":"Categoria  obrigatria";case"description":return a&&a.trim().length>0&&a.trim().length<10?"Descrio deve ter pelo menos 10 caracteres":"";default:return""}},[t]);return{validateForm:e,validateField:n,validateCode:t}}function fR(t,e){const[n,r]=b.useState(t);return b.useEffect(()=>{const a=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(a)}},[t,e]),n}const HN={connection:null,orders:null,products:null,customers:null,productionOrders:null,sync:null,endpoints:null,apiStructure:null,apiBaseUrls:null},RG=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[a,s]=b.useState(HN);b.useEffect(()=>{const N=()=>{const D=localStorage.getItem("bling_access_token");r(!!D)};N();const O=()=>N();return window.addEventListener("storage",O),window.addEventListener("blingTokenChanged",O),()=>{window.removeEventListener("storage",O),window.removeEventListener("blingTokenChanged",O)}},[]);const l=b.useCallback((N,O)=>{s(D=>({...D,[N]:O}))},[]),u=b.useCallback(async()=>{e(!0);try{const N=await Ut.testConnection();l("connection",{success:N.success,error:N.error})}catch(N){l("connection",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),h=b.useCallback(async()=>{e(!0);try{const N=await Ut.getOrders(1,10);l("orders",{success:!0,data:N.data,count:N.total})}catch(N){l("orders",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),f=b.useCallback(async()=>{e(!0);try{const N=await Ut.getProducts(1,10);l("products",{success:!0,data:N.data,count:N.data?.length||0})}catch(N){l("products",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),m=b.useCallback(async()=>{e(!0);try{const N=await Ut.getCustomers(1,10);l("customers",{success:!0,data:N.data,count:N.data?.length||0})}catch(N){l("customers",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),g=b.useCallback(async()=>{e(!0);try{console.log(" Testando ordens de produo sem filtros...");const N=await Ut.getProductionOrders(1,100);console.log(" Resultado:",N),console.log(" Dados recebidos:",N.data),console.log(" Total encontrado:",N.data?.length||0),l("productionOrders",{success:!0,data:N.data,count:N.data?.length||0})}catch(N){console.error(" Erro ao buscar ordens de produo:",N),l("productionOrders",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),y=b.useCallback(async()=>{e(!0);try{console.log(" Testando busca de situaes de ordens de produo...");const N=await Ut.getProductionOrderSituations();console.log(" Situaes encontradas:",N),console.log(" Dados das situaes:",N.data),console.log(" Total de situaes:",N.data?.length||0),l("productionOrders",{success:!0,data:N.data,count:N.data?.length||0})}catch(N){console.error(" Erro ao buscar situaes:",N),l("productionOrders",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),j=b.useCallback(async()=>{e(!0);try{const N=await Ut.syncData();l("sync",{success:N.success,data:N,error:N.errors.length>0?N.errors.join(", "):void 0})}catch(N){l("sync",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),w=b.useCallback(async()=>{e(!0);try{const N=await Ut.testEndpoints(),O=N.filter(D=>D.success);l("endpoints",{success:O.length>0,data:N,error:O.length===0?"Nenhum endpoint de vendas encontrado":void 0})}catch(N){l("endpoints",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),S=b.useCallback(async()=>{e(!0);try{const N=await Ut.testApiStructure(),O=N.filter(D=>D.success);l("apiStructure",{success:O.length>0,data:N,error:O.length===0?"Nenhum endpoint de estrutura encontrado":void 0})}catch(N){l("apiStructure",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),T=b.useCallback(async()=>{e(!0);try{const N=await Ut.testApiBaseUrls(),O=N.filter(D=>D.success);l("apiBaseUrls",{success:O.length>0,data:N,error:O.length===0?"Nenhuma URL base funcionando":void 0})}catch(N){l("apiBaseUrls",{success:!1,error:N instanceof Error?N.message:"Erro desconhecido"})}finally{e(!1)}},[l]),E=b.useCallback(async()=>{await u(),await T(),await S(),await w(),await h(),await f(),await m(),await g(),await j()},[u,T,S,w,h,f,m,g,j]),I=b.useCallback(()=>{s(HN)},[]);return{isLoading:t,hasToken:n,testResults:a,testConnection:u,testOrders:h,testProducts:f,testCustomers:m,testProductionOrders:g,testSync:j,testEndpoints:w,testApiStructure:S,testApiBaseUrls:T,testProductionOrderSituations:y,runAllTests:E,clearResults:I}};function dg(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const DG=async()=>{const t=fr(nt,"users");return(await _a(t)).docs.map(n=>{const r=n.data();return{id:n.id,email:r.email||"",name:r.name||"",displayName:r.displayName,company:r.company,phone:r.phone,photoURL:r.photoURL,emailVerified:r.emailVerified||!1,userType:r.userType||"user",role:r.role||"user",createdAt:r.createdAt||new Date().toISOString(),updatedAt:r.updatedAt||new Date().toISOString(),operatorData:r.operatorData}})},MG=async t=>{if(!t.email)throw new Error("E-mail  obrigatrio");const e=dg({...t,email:t.email.trim().toLowerCase()});if(e.uid){const a=Gt(nt,"users",e.uid);return await cd(a,dg({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),e.uid}const n=fr(nt,"users"),r=await ty(n,dg({...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Zr(r,{uid:r.id}),r.id},LG=async(t,e)=>{const n=Gt(nt,"users",t);await Zr(n,dg({...e,updatedAt:new Date().toISOString()}))},BG=async t=>{const e=Gt(nt,"users",t);await Aw(e)};function hg(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=r)}),e}const UG=async(t,e)=>{if(!t.productId)throw new Error("Produto  obrigatrio");if(!t.steps||t.steps.length===0)throw new Error("Pelo menos uma etapa  obrigatria");if(!t.primarySectorId)throw new Error("Setor primrio  obrigatrio");const n=hg({...t,createdBy:e,updatedBy:e});if(n.id){const s=Gt(nt,"operationalRoutes",n.id);return await cd(s,hg({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})),n.id}const r=fr(nt,"operationalRoutes"),a=await ty(r,hg({...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));return await Zr(a,{id:a.id}),a.id},VG=async(t,e,n)=>{const r=Gt(nt,"operationalRoutes",t);await Zr(r,hg({...e,updatedBy:n,updatedAt:new Date().toISOString()}))},mR=async t=>{const e=Gt(nt,"operationalRoutes",t);await Aw(e)},pR=async()=>{try{const t=fr(nt,"operationalRoutes");return(await _a(t)).docs.map(n=>({...n.data(),id:n.id}))}catch(t){throw console.error("Erro ao listar roteiros:",t),t}},zG=async(t,e)=>{try{const n=fr(nt,"operationalRoutes"),r=$a(n,Ir("productId","==",t),Ir("version","==",e));return!(await _a(r)).empty}catch(n){return console.error("Erro ao verificar existncia do roteiro:",n),!1}},$G=()=>{const[t,e]=b.useState(!1),n=b.useRef(null),{config:r}=ry(),{clientSecret:a}=Ow(),s=b.useCallback(async()=>{if(t)return console.log(" Refresh j em andamento, aguardando..."),!1;const f=Or.getRefreshToken();if(!f)return console.log(" Nenhum refresh token disponvel"),!1;if(!a.trim())return console.log(" Client Secret no configurado para refresh"),!1;e(!0);try{const m={clientId:r.clientId,clientSecret:a.trim(),refreshToken:f};console.log(" Renovando token automaticamente...");const g=await Or.refreshAccessToken(m);return Or.saveTokens(g),console.log(" Token renovado automaticamente com sucesso"),!0}catch(m){return console.error(" Erro ao renovar token automaticamente:",m),!1}finally{e(!1)}},[t,r.clientId,a]),l=b.useCallback(()=>{const f=Or.getTokenInfo();!f.is_valid&&f.has_refresh_token&&(console.log(" Token expirado, iniciando renovao automtica..."),s())},[s]),u=b.useCallback(()=>{n.current||(console.log(" Iniciando monitoramento de expirao do token..."),n.current=setInterval(l,3e4),l())},[l]),h=b.useCallback(()=>{n.current&&(console.log(" Parando monitoramento de expirao do token..."),clearInterval(n.current),n.current=null)},[]);return b.useEffect(()=>(u(),()=>{h()}),[u,h]),b.useEffect(()=>{Or.getTokenInfo().has_refresh_token||h()},[h]),{isRefreshing:t,refreshToken:s,startMonitoring:u,stopMonitoring:h}},qG=()=>{const[t]=b.useState(!1),[e,n]=b.useState(!1),[r,a]=b.useState("idle"),[s,l]=b.useState(""),{config:u}=ry(),{isRefreshing:h,refreshToken:f}=$G(),m=b.useCallback(async(w,S)=>{n(!0),a("loading"),l("");try{const T={clientId:u.clientId,clientSecret:S,authorizationCode:w,redirectUri:u.redirectUri};console.log("Trocando cdigo por token:",{clientId:u.clientId,redirectUri:u.redirectUri,code:w.substring(0,10)+"..."});const E=await Or.exchangeCodeForTokens(T);console.log("Tokens recebidos:",{token_type:E.token_type,expires_in:E.expires_in,has_refresh_token:!!E.refresh_token,scope:E.scope}),Or.saveTokens(E),a("success"),l("")}catch(T){console.error("Erro ao trocar cdigo por token:",T),a("error"),l(T instanceof Error?T.message:"Erro desconhecido ao trocar cdigo por token")}finally{n(!1)}},[u]),g=b.useCallback(()=>{Or.clearTokens(),a("idle"),l("")},[]),[y,j]=b.useState(()=>Or.getTokenInfo());return b.useEffect(()=>{const w=()=>{j(Or.getTokenInfo())};return window.addEventListener("blingTokenChanged",w),()=>{window.removeEventListener("blingTokenChanged",w)}},[]),{isLoading:t,isExchangingToken:e,isRefreshing:h,status:r,errorMessage:s,tokenInfo:y,exchangeCodeForTokens:m,refreshToken:f,clearTokens:g}};function FG({selectedPeriod:t,setSelectedPeriod:e}){return i.jsxs("div",{className:"productivity-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"Painel de Produtividade"})}),i.jsx("div",{className:"header-controls",children:i.jsxs("div",{className:"period-selector",children:[i.jsx("button",{className:`period-btn ${t==="today"?"active":""}`,onClick:()=>e("today"),children:"Hoje"}),i.jsx("button",{className:`period-btn ${t==="week"?"active":""}`,onClick:()=>e("week"),children:"Semana"}),i.jsx("button",{className:`period-btn ${t==="month"?"active":""}`,onClick:()=>e("month"),children:"Ms"})]})})]})}function HG({currentUserStats:t,getEfficiencyColor:e,getTrendIcon:n}){return i.jsxs("div",{className:"user-stats-card",children:[i.jsxs("div",{className:"user-stats-header",children:[i.jsx("div",{className:"user-info",children:i.jsx("h3",{children:"Performance do Operador"})}),i.jsxs("div",{className:"user-rank",children:[i.jsxs("div",{className:"rank-badge",children:["#",t.rank]}),i.jsx("div",{className:"trend-indicator",children:n(t.trend)})]})]}),i.jsxs("div",{className:"user-metrics",children:[i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Eficincia Mdia"})]}),i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",children:[t.totalProductivity.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Produtividade"})]}),i.jsxs("div",{className:"metric",children:[i.jsxs("span",{className:"metric-value",children:[t.onTimeCompletion.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"No Prazo"})]}),i.jsxs("div",{className:"metric",children:[i.jsx("span",{className:"metric-value",children:t.totalTasks}),i.jsx("span",{className:"metric-label",children:"Tarefas"})]})]})]})}function KG({currentPeriodStats:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"period-overview",children:[i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(qn,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsx("div",{className:"overview-value",children:t.tasksCompleted}),i.jsx("div",{className:"overview-label",children:"Tarefas Concludas"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(mc,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",style:{color:e(t.averageEfficiency)},children:[t.averageEfficiency.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Eficincia Mdia"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(uB,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",children:[t.productivityScore.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Score Produtividade"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsx("div",{className:"overview-value",children:n(t.totalTime)}),i.jsx("div",{className:"overview-label",children:"Tempo Total"})]})]}),i.jsxs("div",{className:"overview-card",children:[i.jsx("div",{className:"overview-icon",children:i.jsx(mr,{})}),i.jsxs("div",{className:"overview-content",children:[i.jsxs("div",{className:"overview-value",children:[t.onTimeRate.toFixed(1),"%"]}),i.jsx("div",{className:"overview-label",children:"Taxa No Prazo"})]})]})]})}function GG({selectedOperator:t,setSelectedOperator:e,selectedSector:n,setSelectedSector:r,availableOperators:a}){return i.jsxs("div",{className:"filters-section",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Operador:"}),i.jsxs("select",{value:t,onChange:s=>e(s.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),a.map(s=>i.jsx("option",{value:s.operator.id,children:s.user.name||s.operator.code},s.operator.id))]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Setor:"}),i.jsxs("select",{value:n,onChange:s=>r(s.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Corte",children:"Corte"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Acabamento",children:"Acabamento"}),i.jsx("option",{value:"Qualidade",children:"Qualidade"})]})]})]})}function WG({filteredData:t,getEfficiencyColor:e,formatTime:n}){return i.jsxs("div",{className:"performance-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h3",{children:"Performance Detalhada"}),i.jsx("div",{className:"section-actions",children:i.jsxs("button",{className:"export-btn",children:[i.jsx(mr,{})," Exportar"]})})]}),i.jsx("div",{className:"performance-table-container",children:i.jsxs("table",{className:"performance-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Operador"}),i.jsx("th",{children:"Tarefa"}),i.jsx("th",{children:"Pedido"}),i.jsx("th",{children:"Setor"}),i.jsx("th",{children:"Planejado"}),i.jsx("th",{children:"Real"}),i.jsx("th",{children:"Melhor"}),i.jsx("th",{children:"Eficincia"}),i.jsx("th",{children:"Produtividade"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:t.map((r,a)=>i.jsxs("tr",{className:"performance-row",children:[i.jsx("td",{children:i.jsxs("div",{className:"operator-cell",children:[i.jsxs("div",{className:"operator-avatar",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),i.jsx("span",{children:r.operatorName})]})}),i.jsx("td",{children:i.jsxs("div",{className:"task-cell",children:[i.jsx("div",{className:"task-name",children:r.taskName}),i.jsx("div",{className:"task-id",children:r.taskId})]})}),i.jsx("td",{children:i.jsxs("div",{className:"order-cell",children:[i.jsx("div",{className:"order-name",children:r.orderName}),i.jsx("div",{className:"order-id",children:r.orderId})]})}),i.jsx("td",{children:i.jsx("span",{className:"sector-badge",children:r.sector})}),i.jsx("td",{children:n(r.plannedTime)}),i.jsx("td",{children:n(r.actualTime)}),i.jsx("td",{children:n(r.bestHistoricTime)}),i.jsx("td",{children:i.jsxs("div",{className:"efficiency-cell",children:[i.jsxs("span",{className:"efficiency-value",style:{color:e(r.efficiency)},children:[r.efficiency.toFixed(1),"%"]}),i.jsx("div",{className:"efficiency-bar",children:i.jsx("div",{className:"efficiency-fill",style:{width:`${Math.min(r.efficiency,150)}%`,backgroundColor:e(r.efficiency)}})})]})}),i.jsx("td",{children:i.jsxs("span",{className:"productivity-value",style:{color:e(r.productivity)},children:[r.productivity.toFixed(1),"%"]})}),i.jsx("td",{children:i.jsx("span",{className:`status-badge status-${r.status}`,children:r.status==="completed"?"Concludo":r.status==="in_progress"?"Em Andamento":"Atrasado"})})]},a))})]})})]})}function YG({operatorRankings:t,getEfficiencyColor:e,getTrendIcon:n}){return i.jsxs("div",{className:"rankings-section",children:[i.jsx("div",{className:"section-header",children:i.jsx("h3",{children:"Ranking de Operadores"})}),i.jsx("div",{className:"rankings-grid",children:t.map((r,a)=>i.jsxs("div",{className:`ranking-card ${a<3?"podium":""}`,children:[i.jsxs("div",{className:"ranking-header",children:[i.jsxs("div",{className:"rank-position",children:[i.jsxs("span",{className:"rank-number",children:["#",r.rank]}),a===0&&i.jsx("span",{className:"medal",children:i.jsx(xI,{})}),a===1&&i.jsx("span",{className:"medal",children:i.jsx(vB,{})}),a===2&&i.jsx("span",{className:"medal",children:i.jsx(lB,{})})]}),i.jsx("div",{className:"trend",children:n(r.trend)})]}),i.jsxs("div",{className:"operator-info",children:[i.jsxs("div",{className:"operator-avatar large",children:[r.operatorName.split(" ")[0].charAt(0),r.operatorName.split(" ")[1]?.charAt(0)]}),i.jsx("h4",{children:r.operatorName})]}),i.jsxs("div",{className:"ranking-metrics",children:[i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",style:{color:e(r.averageEfficiency)},children:[r.averageEfficiency.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Eficincia"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",children:[r.totalProductivity.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"Produtividade"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsx("span",{className:"metric-value",children:r.totalTasks}),i.jsx("span",{className:"metric-label",children:"Tarefas"})]}),i.jsxs("div",{className:"ranking-metric",children:[i.jsxs("span",{className:"metric-value",children:[r.onTimeCompletion.toFixed(1),"%"]}),i.jsx("span",{className:"metric-label",children:"No Prazo"})]})]})]},r.operatorId))})]})}function gR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=gR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=gR(t))&&(r&&(r+=" "),r+=e);return r}var mx={},px={},KN;function XG(){return KN||(KN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(px)),px}var gx={},GN;function vR(){return GN||(GN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(gx)),gx}var vx={},WN;function yR(){return WN||(WN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(vx)),vx}var yx={},YN;function kw(){return YN||(YN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],a=n.length;if(a===0)return r;let s=0,l="",u="",h=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<a;){const f=n[s];u?f==="\\"&&s+1<a?(s++,l+=n[s]):f===u?u="":l+=f:h?f==='"'||f==="'"?u=f:f==="]"?(h=!1,r.push(l),l=""):l+=f:f==="["?(h=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,s++}return l&&r.push(l),r}t.toPath=e}(yx)),yx}var XN;function Pw(){return XN||(XN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XG(),n=vR(),r=yR(),a=kw();function s(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?n.isDeepKey(h)?s(u,a.toPath(h),f):f:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=u[h];return m===void 0?f:m}default:{if(Array.isArray(h))return l(u,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?f:m}}}function l(u,h,f){if(h.length===0)return f;let m=u;for(let g=0;g<h.length;g++){if(m==null||e.isUnsafeProperty(h[g]))return f;m=m[h[g]]}return m===void 0?f:m}t.get=s}(mx)),mx}var xx,QN;function QG(){return QN||(QN=1,xx=Pw().get),xx}var ZG=QG();const Fo=Ci(ZG);var bx={exports:{}},kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function JG(){if(ZN)return kt;ZN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case t:switch(S=S.type,S){case n:case a:case r:case h:case f:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case m:return S;case s:return S;default:return T}}case e:return T}}}return kt.ContextConsumer=s,kt.ContextProvider=l,kt.Element=t,kt.ForwardRef=u,kt.Fragment=n,kt.Lazy=g,kt.Memo=m,kt.Portal=e,kt.Profiler=a,kt.StrictMode=r,kt.Suspense=h,kt.SuspenseList=f,kt.isContextConsumer=function(S){return w(S)===s},kt.isContextProvider=function(S){return w(S)===l},kt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},kt.isForwardRef=function(S){return w(S)===u},kt.isFragment=function(S){return w(S)===n},kt.isLazy=function(S){return w(S)===g},kt.isMemo=function(S){return w(S)===m},kt.isPortal=function(S){return w(S)===e},kt.isProfiler=function(S){return w(S)===a},kt.isStrictMode=function(S){return w(S)===r},kt.isSuspense=function(S){return w(S)===h},kt.isSuspenseList=function(S){return w(S)===f},kt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===a||S===r||S===h||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===m||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===j||S.getModuleId!==void 0)},kt.typeOf=w,kt}var JN;function eW(){return JN||(JN=1,bx.exports=JG()),bx.exports}var tW=eW(),$n=t=>t===0?0:t>0?1:-1,Jr=t=>typeof t=="number"&&t!=+t,Hl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Jr(t),Ei=t=>Oe(t)||typeof t=="string",nW=0,Ho=t=>{var e=++nW;return"".concat(t||"").concat(e)},_r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var s;if(Hl(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Jr(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},xR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},er=(t,e)=>Oe(t)&&Oe(e)?n=>t+n*(e-t):()=>e;function bR(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Fo(r,e))===n)}var rW=t=>{if(!t||!t.length)return null;for(var e=t.length,n=0,r=0,a=0,s=0,l=1/0,u=-1/0,h=0,f=0,m=0;m<e;m++)h=t[m].cx||0,f=t[m].cy||0,n+=h,r+=f,a+=h*f,s+=h*h,l=Math.min(l,h),u=Math.max(u,h);var g=e*s!==n*n?(e*a-n*r)/(e*s-n*n):0;return{xmin:l,xmax:u,a:g,b:(r-g*n)/e}},mt=t=>t===null||typeof t>"u",Gf=t=>mt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),aW=["viewBox","children"],iW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eC=["points","pathLength"],jx={svg:aW,polygon:eC,polyline:eC},Rw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Rw.includes(a)&&(r[a]=s=>n[a](n,s))}),r},sW=(t,e,n)=>r=>(t(e,n,r),null),Wf=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];Rw.includes(a)&&typeof s=="function"&&(r||(r={}),r[a]=sW(s,e,n))}),r},tC=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",nC=null,wx=null,jR=t=>{if(t===nC&&Array.isArray(wx))return wx;var e=[];return b.Children.forEach(t,n=>{mt(n)||(tW.isFragment(n)?e=e.concat(jR(n.props.children)):e.push(n))}),wx=e,nC=t,e};function ud(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>tC(a)):r=[tC(e)],jR(t).forEach(a=>{var s=Fo(a,"type.displayName")||Fo(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}var wR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,oW=(t,e,n,r)=>{var a,s=(a=r&&jx?.[r])!==null&&a!==void 0?a:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||iW.includes(e))||n&&Rw.includes(e)},rt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var l;oW((l=r)===null||l===void 0?void 0:l[s],s,e,n)&&(a[s]=r[s])}),a},lW=["children","width","height","viewBox","className","style","title","desc"];function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(null,arguments)}function cW(t,e){if(t==null)return{};var n,r,a=uW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _R=b.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:u,title:h,desc:f}=t,m=cW(t,lW),g=s||{width:r,height:a,x:0,y:0},y=gt("recharts-surface",l);return b.createElement("svg",N2({},rt(m,!0,"svg"),{className:y,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),b.createElement("title",null,h),b.createElement("desc",null,f),n)}),dW=["children","className"];function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(null,arguments)}function hW(t,e){if(t==null)return{};var n,r,a=fW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xt=b.forwardRef((t,e)=>{var{children:n,className:r}=t,a=hW(t,dW),s=gt("recharts-layer",r);return b.createElement("g",C2({className:s},rt(a,!0),{ref:e}),n)}),mW=b.createContext(null);function Lt(t){return function(){return t}}const SR=Math.cos,$g=Math.sin,Xa=Math.sqrt,qg=Math.PI,ay=2*qg,O2=Math.PI,I2=2*O2,Vl=1e-6,pW=I2-Vl;function TR(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return TR;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class vW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?TR:gW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,h=r-e,f=a-n,m=l-e,g=u-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Vl)if(!(Math.abs(g*h-f*m)>Vl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let j=r-l,w=a-u,S=h*h+f*f,T=j*j+w*w,E=Math.sqrt(S),I=Math.sqrt(y),N=s*Math.tan((O2-Math.acos((S+y-T)/(2*E*I)))/2),O=N/I,D=N/E;Math.abs(O-1)>Vl&&this._append`L${e+O*m},${n+O*g}`,this._append`A${s},${s},0,0,${+(g*j>m*w)},${this._x1=e+D*h},${this._y1=n+D*f}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),h=r*Math.sin(a),f=e+u,m=n+h,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Vl||Math.abs(this._y1-m)>Vl)&&this._append`L${f},${m}`,r&&(y<0&&(y=y%I2+I2),y>pW?this._append`A${r},${r},0,1,${g},${e-u},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:y>Vl&&this._append`A${r},${r},0,${+(y>=O2)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Mw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vW(e)}function Lw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function iy(t){return new ER(t)}function AR(t){return t[0]}function NR(t){return t[1]}function CR(t,e){var n=Lt(!0),r=null,a=iy,s=null,l=Mw(u);t=typeof t=="function"?t:t===void 0?AR:Lt(t),e=typeof e=="function"?e:e===void 0?NR:Lt(e);function u(h){var f,m=(h=Lw(h)).length,g,y=!1,j;for(r==null&&(s=a(j=l())),f=0;f<=m;++f)!(f<m&&n(g=h[f],f,h))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,f,h),+e(g,f,h));if(j)return s=null,j+""||null}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Lt(+h),u):t},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Lt(+h),u):e},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Lt(!!h),u):n},u.curve=function(h){return arguments.length?(a=h,r!=null&&(s=a(r)),u):a},u.context=function(h){return arguments.length?(h==null?r=s=null:s=a(r=h),u):r},u}function Up(t,e,n){var r=null,a=Lt(!0),s=null,l=iy,u=null,h=Mw(f);t=typeof t=="function"?t:t===void 0?AR:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?NR:Lt(+n);function f(g){var y,j,w,S=(g=Lw(g)).length,T,E=!1,I,N=new Array(S),O=new Array(S);for(s==null&&(u=l(I=h())),y=0;y<=S;++y){if(!(y<S&&a(T=g[y],y,g))===E)if(E=!E)j=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=j;--w)u.point(N[w],O[w]);u.lineEnd(),u.areaEnd()}E&&(N[y]=+t(T,y,g),O[y]=+e(T,y,g),u.point(r?+r(T,y,g):N[y],n?+n(T,y,g):O[y]))}if(I)return u=null,I+""||null}function m(){return CR().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Lt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Lt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Lt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Lt(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Lt(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class OR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yW(t){return new OR(t,!0)}function xW(t){return new OR(t,!1)}const Bw={draw(t,e){const n=Xa(e/qg);t.moveTo(n,0),t.arc(0,0,n,0,ay)}},bW={draw(t,e){const n=Xa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},IR=Xa(1/3),jW=IR*2,wW={draw(t,e){const n=Xa(e/jW),r=n*IR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_W={draw(t,e){const n=Xa(e),r=-n/2;t.rect(r,r,n,n)}},SW=.8908130915292852,kR=$g(qg/10)/$g(7*qg/10),TW=$g(ay/10)*kR,EW=-SR(ay/10)*kR,AW={draw(t,e){const n=Xa(e*SW),r=TW*n,a=EW*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=ay*s/5,u=SR(l),h=$g(l);t.lineTo(h*n,-u*n),t.lineTo(u*r-h*a,h*r+u*a)}t.closePath()}},_x=Xa(3),NW={draw(t,e){const n=-Xa(e/(_x*3));t.moveTo(0,n*2),t.lineTo(-_x*n,-n),t.lineTo(_x*n,-n),t.closePath()}},va=-.5,ya=Xa(3)/2,k2=1/Xa(12),CW=(k2/2+1)*3,OW={draw(t,e){const n=Xa(e/CW),r=n/2,a=n*k2,s=r,l=n*k2+n,u=-s,h=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(u,h),t.lineTo(va*r-ya*a,ya*r+va*a),t.lineTo(va*s-ya*l,ya*s+va*l),t.lineTo(va*u-ya*h,ya*u+va*h),t.lineTo(va*r+ya*a,va*a-ya*r),t.lineTo(va*s+ya*l,va*l-ya*s),t.lineTo(va*u+ya*h,va*h-ya*u),t.closePath()}};function IW(t,e){let n=null,r=Mw(a);t=typeof t=="function"?t:Lt(t||Bw),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Fg(){}function Hg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function PR(t){this._context=t}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kW(t){return new PR(t)}function RR(t){this._context=t}RR.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PW(t){return new RR(t)}function DR(t){this._context=t}DR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RW(t){return new DR(t)}function MR(t){this._context=t}MR.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DW(t){return new MR(t)}function rC(t){return t<0?-1:1}function aC(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),u=(s*a+l*r)/(r+a);return(rC(s)+rC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function iC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Sx(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,a+u*e,s-u,l-u*n,s,l)}function Kg(t){this._context=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,iC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,iC(this,n=aC(this,t,e)),n);break;default:Sx(this,this._t0,n=aC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LR(t){this._context=new BR(t)}(LR.prototype=Object.create(Kg.prototype)).point=function(t,e){Kg.prototype.point.call(this,e,t)};function BR(t){this._context=t}BR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function MW(t){return new Kg(t)}function LW(t){return new LR(t)}function UR(t){this._context=t}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sC(t),a=sC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sC(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function BW(t){return new UR(t)}function sy(t,e){this._context=t,this._t=e}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UW(t){return new sy(t,.5)}function VW(t){return new sy(t,0)}function zW(t){return new sy(t,1)}function qu(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,u=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function P2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $W(t,e){return t[e]}function qW(t){const e=[];return e.key=t,e}function FW(){var t=Lt([]),e=P2,n=qu,r=$W;function a(s){var l=Array.from(t.apply(this,arguments),qW),u,h=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<h;++u)(l[u][f]=[0,+r(g,l[u].key,f,s)]).data=g;for(u=0,m=Lw(e(l));u<h;++u)l[m[u]].index=u;return n(l,m),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?P2:typeof s=="function"?s:Lt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??qu,a):n},a}function HW(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}qu(t,e)}}function KW(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,u=0;l<a;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}qu(t,e)}}function GW(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var u=0,h=0,f=0;u<l;++u){for(var m=t[e[u]],g=m[r][1]||0,y=m[r-1][1]||0,j=(g-y)/2,w=0;w<u;++w){var S=t[e[w]],T=S[r][1]||0,E=S[r-1][1]||0;j+=T-E}h+=g,f+=j*g}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,qu(t,e)}}var WW=["type","size","sizeType"];function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(null,arguments)}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){YW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e,n){return(e=XW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t){var e=QW(t,"string");return typeof e=="symbol"?e:e+""}function QW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZW(t,e){if(t==null)return{};var n,r,a=JW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function JW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VR={symbolCircle:Bw,symbolCross:bW,symbolDiamond:wW,symbolSquare:_W,symbolStar:AW,symbolTriangle:NW,symbolWye:OW},eY=Math.PI/180,tY=t=>{var e="symbol".concat(Gf(t));return VR[e]||Bw},nY=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*eY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rY=(t,e)=>{VR["symbol".concat(Gf(t))]=e},Uw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=ZW(t,WW),s=lC(lC({},a),{},{type:e,size:n,sizeType:r}),l=()=>{var g=tY(e),y=IW().type(g).size(nY(n,r,e));return y()},{className:u,cx:h,cy:f}=s,m=rt(s,!0);return h===+h&&f===+f&&n===+n?b.createElement("path",R2({},m,{className:gt("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:l()})):null};Uw.registerSymbol=rY;var Tx={},Ex={},cC;function aY(){return cC||(cC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}t.uniqBy=e}(Ex)),Ex}var Ax={},uC;function zR(){return uC||(uC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Ax)),Ax}var Nx={},Cx={},Ox={},dC;function iY(){return dC||(dC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Ox)),Ox}var hC;function Vw(){return hC||(hC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Cx)),Cx}var Ix={},fC;function sY(){return fC||(fC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(Ix)),Ix}var mC;function oY(){return mC||(mC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vw(),n=sY();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r}(Nx)),Nx}var kx={},Px={},pC;function lY(){return pC||(pC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw();function n(r){return function(a){return e.get(a,r)}}t.property=n}(Px)),Px}var Rx={},Dx={},Mx={},Lx={},gC;function $R(){return gC||(gC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Lx)),Lx}var Bx={},vC;function qR(){return vC||(vC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(Bx)),Bx}var Ux={},yC;function zw(){return yC||(yC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Ux)),Ux}var xC;function cY(){return xC||(xC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=$R(),r=qR(),a=zw();function s(g,y,j){return typeof j!="function"?e.isMatch(g,y):l(g,y,function w(S,T,E,I,N,O){const D=j(S,T,E,I,N,O);return D!==void 0?!!D:l(S,T,w,O)},new Map)}function l(g,y,j,w){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,j,w);case"function":return Object.keys(y).length>0?l(g,{...y},j,w):a.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:a.eq(g,y)}}function u(g,y,j,w){if(y==null)return!0;if(Array.isArray(y))return f(g,y,j,w);if(y instanceof Map)return h(g,y,j,w);if(y instanceof Set)return m(g,y,j,w);const S=Object.keys(y);if(g==null)return S.length===0;if(S.length===0)return!0;if(w&&w.has(y))return w.get(y)===g;w&&w.set(y,g);try{for(let T=0;T<S.length;T++){const E=S[T];if(!r.isPrimitive(g)&&!(E in g)||y[E]===void 0&&g[E]!==void 0||y[E]===null&&g[E]!==null||!j(g[E],y[E],E,g,y,w))return!1}return!0}finally{w&&w.delete(y)}}function h(g,y,j,w){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,T]of y.entries()){const E=g.get(S);if(j(E,T,S,g,y,w)===!1)return!1}return!0}function f(g,y,j,w){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let T=0;T<y.length;T++){const E=y[T];let I=!1;for(let N=0;N<g.length;N++){if(S.has(N))continue;const O=g[N];let D=!1;if(j(O,E,T,g,y,w)&&(D=!0),D){S.add(N),I=!0;break}}if(!I)return!1}return!0}function m(g,y,j,w){return y.size===0?!0:g instanceof Set?f([...g],[...y],j,w):!1}t.isMatchWith=s,t.isSetMatch=m}(Mx)),Mx}var bC;function $w(){return bC||(bC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cY();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n}(Dx)),Dx}var Vx={},zx={},$x={},jC;function FR(){return jC||(jC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}($x)),$x}var qx={},wC;function qw(){return wC||(wC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(qx)),qx}var Fx={},_C;function Fw(){return _C||(_C=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",j="[object Object]",w="[object Error]",S="[object DataView]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",N="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",C="[object Int32Array]",R="[object BigInt64Array]",B="[object Float32Array]",$="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=O,t.booleanTag=a,t.dataViewTag=S,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=B,t.float64ArrayTag=$,t.functionTag=g,t.int16ArrayTag=M,t.int32ArrayTag=C,t.int8ArrayTag=D,t.mapTag=h,t.numberTag=r,t.objectTag=j,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=I,t.uint32ArrayTag=N,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=E}(Fx)),Fx}var Hx={},SC;function uY(){return SC||(SC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Hx)),Hx}var TC;function HR(){return TC||(TC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FR(),n=qw(),r=Fw(),a=qR(),s=uY();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,j=new Map,w=void 0){const S=w?.(m,g,y,j);if(S!=null)return S;if(a.isPrimitive(m))return m;if(j.has(m))return j.get(m);if(Array.isArray(m)){const T=new Array(m.length);j.set(m,T);for(let E=0;E<m.length;E++)T[E]=u(m[E],E,y,j,w);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;j.set(m,T);for(const[E,I]of m)T.set(E,u(I,E,y,j,w));return T}if(m instanceof Set){const T=new Set;j.set(m,T);for(const E of m)T.add(u(E,void 0,y,j,w));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);j.set(m,T);for(let E=0;E<m.length;E++)T[E]=u(m[E],E,y,j,w);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return j.set(m,T),h(T,m,y,j,w),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return j.set(m,T),h(T,m,y,j,w),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return j.set(m,T),h(T,m,y,j,w),T}if(m instanceof Error){const T=new m.constructor;return j.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,h(T,m,y,j,w),T}if(typeof m=="object"&&f(m)){const T=Object.create(Object.getPrototypeOf(m));return j.set(m,T),h(T,m,y,j,w),T}return m}function h(m,g,y=m,j,w){const S=[...Object.keys(g),...e.getSymbols(g)];for(let T=0;T<S.length;T++){const E=S[T],I=Object.getOwnPropertyDescriptor(m,E);(I==null||I.writable)&&(m[E]=u(g[E],E,y,j,w))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=h}(zx)),zx}var EC;function dY(){return EC||(EC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HR();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(Vx)),Vx}var AC;function hY(){return AC||(AC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=dY();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r}(Rx)),Rx}var Kx={},Gx={},Wx={},NC;function fY(){return NC||(NC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HR(),n=Fw();function r(a,s){return e.cloneDeepWith(a,(l,u,h,f)=>{const m=s?.(l,u,h,f);if(m!=null)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r}(Wx)),Wx}var CC;function mY(){return CC||(CC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fY();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Gx)),Gx}var Yx={},Xx={},OC;function KR(){return OC||(OC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(Xx)),Xx}var Qx={},IC;function pY(){return IC||(IC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Qx)),Qx}var kC;function gY(){return kC||(kC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vR(),n=KR(),r=pY(),a=kw();function s(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?h=a.toPath(u):h=[u],h.length===0)return!1;let f=l;for(let m=0;m<h.length;m++){const g=h[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=s}(Yx)),Yx}var PC;function vY(){return PC||(PC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$w(),n=yR(),r=mY(),a=Pw(),s=gY();function l(u,h){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=l}(Kx)),Kx}var RC;function yY(){return RC||(RC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zR(),n=lY(),r=hY(),a=vY();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s}(kx)),kx}var DC;function xY(){return DC||(DC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aY(),n=zR(),r=oY(),a=yY();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(u)):[]}t.uniqBy=s}(Tx)),Tx}var Zx,MC;function bY(){return MC||(MC=1,Zx=xY().uniqBy),Zx}var jY=bY();const LC=Ci(jY);function wY(t,e,n){return e===!0?LC(t,n):typeof e=="function"?LC(t,e):t}var Jx={exports:{}},eb={},tb={exports:{}},nb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function _Y(){if(BC)return nb;BC=1;var t=Zu();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,y){var j=y(),w=r({inst:{value:j,getSnapshot:y}}),S=w[0].inst,T=w[1];return s(function(){S.value=j,S.getSnapshot=y,h(S)&&T({inst:S})},[g,j,y]),a(function(){return h(S)&&T({inst:S}),g(function(){h(S)&&T({inst:S})})},[g]),l(j),j}function h(g){var y=g.getSnapshot;g=g.value;try{var j=y();return!n(g,j)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return nb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,nb}var UC;function SY(){return UC||(UC=1,tb.exports=_Y()),tb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC;function TY(){if(VC)return eb;VC=1;var t=Zu(),e=SY();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,h=t.useDebugValue;return eb.useSyncExternalStoreWithSelector=function(f,m,g,y,j){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function E(M){if(!I){if(I=!0,N=M,M=y(M),j!==void 0&&S.hasValue){var C=S.value;if(j(C,M))return O=C}return O=M}if(C=O,r(N,M))return C;var R=y(M);return j!==void 0&&j(C,R)?(N=M,C):(N=M,O=R)}var I=!1,N,O,D=g===void 0?null:g;return[function(){return E(m())},D===null?void 0:function(){return E(D())}]},[m,g,y,j]);var T=a(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),h(T),T},eb}var zC;function EY(){return zC||(zC=1,Jx.exports=TY()),Jx.exports}var AY=EY(),Hw=b.createContext(null),NY=t=>t,Qt=()=>{var t=b.useContext(Hw);return t?t.store.dispatch:NY},fg=()=>{},CY=()=>fg,OY=(t,e)=>t===e;function ke(t){var e=b.useContext(Hw);return AY.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:CY,e?e.store.getState:fg,e?e.store.getState:fg,e?t:fg,OY)}function IY(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function kY(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function PY(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var $C=t=>Array.isArray(t)?t:[t];function RY(t){const e=Array.isArray(t[0])?t[0]:t;return PY(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function DY(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var MY=class{constructor(t){this.value=t}deref(){return this.value}},LY=typeof WeakRef<"u"?WeakRef:MY,BY=0,qC=1;function Vp(){return{s:BY,v:void 0,o:null,p:null}}function GR(t,e={}){let n=Vp();const{resultEqualityCheck:r}=e;let a,s=0;function l(){let u=n;const{length:h}=arguments;for(let g=0,y=h;g<y;g++){const j=arguments[g];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(j);S===void 0?(u=Vp(),w.set(j,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(j);S===void 0?(u=Vp(),w.set(j,u)):u=S}}const f=u;let m;if(u.s===qC)m=u.v;else if(m=t.apply(null,arguments),s++,r){const g=a?.deref?.()??a;g!=null&&r(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new LY(m):m}return f.s=qC,f.v=m,m}return l.clearCache=()=>{n=Vp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function UY(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,u,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),IY(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...h},{memoize:g,memoizeOptions:y=[],argsMemoize:j=GR,argsMemoizeOptions:w=[]}=m,S=$C(y),T=$C(w),E=RY(a),I=g(function(){return s++,f.apply(null,arguments)},...S),N=j(function(){l++;const D=DY(E,arguments);return u=I.apply(null,D),u},...T);return Object.assign(N,{resultFunc:f,memoizedResultFunc:I,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:j})};return Object.assign(r,{withTypes:()=>r}),r}var ie=UY(GR),VY=Object.assign((t,e=ie)=>{kY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>VY}),rb={},ab={},ib={},FC;function zY(){return FC||(FC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),u=e(a);if(l===u&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n}(ib)),ib}var sb={},ob={},HC;function WR(){return HC||(HC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(ob)),ob}var KC;function $Y(){return KC||(KC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a}(sb)),sb}var GC;function qY(){return GC||(GC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zY(),n=$Y(),r=kw();function a(s,l,u,h){if(s==null)return[];u=h?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(j=>String(j));const f=(j,w)=>{let S=j;for(let T=0;T<w.length&&S!=null;++T)S=S[w[T]];return S},m=(j,w)=>w==null||j==null?w:typeof j=="object"&&"key"in j?Object.hasOwn(w,j.key)?w[j.key]:f(w,j.path):typeof j=="function"?j(w):Array.isArray(j)?f(w,j):typeof w=="object"?w[j]:w,g=l.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||n.isKey(j)?j:{key:j,path:r.toPath(j)}));return s.map(j=>({original:j,criteria:g.map(w=>m(w,j))})).slice().sort((j,w)=>{for(let S=0;S<g.length;S++){const T=e.compareValues(j.criteria[S],w.criteria[S],u[S]);if(T!==0)return T}return 0}).map(j=>j.original)}t.orderBy=a}(ab)),ab}var lb={},WC;function FY(){return WC||(WC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(u,h)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&h<s?l(m,h+1):a.push(m)}};return l(n,0),a}t.flatten=e}(lb)),lb}var cb={},YC;function YR(){return YC||(YC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KR(),n=Vw(),r=$R(),a=zw();function s(l,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&e.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?a.eq(h[u],l):!1}t.isIterateeCall=s}(cb)),cb}var XC;function HY(){return XC||(XC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qY(),n=FY(),r=YR();function a(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a}(rb)),rb}var ub,QC;function KY(){return QC||(QC=1,ub=HY().sortBy),ub}var GY=KY();const oy=Ci(GY);var XR=t=>t.legend.settings,WY=t=>t.legend.size,YY=t=>t.legend.payload;ie([YY,XR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?oy(r,n):r});var zp=1;function XY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>zp||Math.abs(l.left-e.left)>zp||Math.abs(l.top-e.top)>zp||Math.abs(l.width-e.width)>zp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QY=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZC=QY,db=()=>Math.random().toString(36).substring(7).split("").join("."),ZY={INIT:`@@redux/INIT${db()}`,REPLACE:`@@redux/REPLACE${db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${db()}`},Gg=ZY;function Kw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function QR(t,e,n){if(typeof t!="function")throw new Error(Qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qn(1));return n(QR)(t,e)}let r=t,a=e,s=new Map,l=s,u=0,h=!1;function f(){l===s&&(l=new Map,s.forEach((T,E)=>{l.set(E,T)}))}function m(){if(h)throw new Error(Qn(3));return a}function g(T){if(typeof T!="function")throw new Error(Qn(4));if(h)throw new Error(Qn(5));let E=!0;f();const I=u++;return l.set(I,T),function(){if(E){if(h)throw new Error(Qn(6));E=!1,f(),l.delete(I),s=null}}}function y(T){if(!Kw(T))throw new Error(Qn(7));if(typeof T.type>"u")throw new Error(Qn(8));if(typeof T.type!="string")throw new Error(Qn(17));if(h)throw new Error(Qn(9));try{h=!0,a=r(a,T)}finally{h=!1}return(s=l).forEach(I=>{I()}),T}function j(T){if(typeof T!="function")throw new Error(Qn(10));r=T,y({type:Gg.REPLACE})}function w(){const T=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Qn(11));function I(){const O=E;O.next&&O.next(m())}return I(),{unsubscribe:T(I)}},[ZC](){return this}}}return y({type:Gg.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:j,[ZC]:w}}function JY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gg.INIT})>"u")throw new Error(Qn(12));if(typeof n(void 0,{type:Gg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qn(13))})}function ZR(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{JY(n)}catch(s){a=s}return function(l={},u){if(a)throw a;let h=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],j=l[g],w=y(j,u);if(typeof w>"u")throw u&&u.type,new Error(Qn(14));f[g]=w,h=h||w!==j}return h=h||r.length!==Object.keys(l).length,h?f:l}}function Wg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function eX(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Qn(15))};const l={getState:a.getState,dispatch:(h,...f)=>s(h,...f)},u=t.map(h=>h(l));return s=Wg(...u)(a.dispatch),{...a,dispatch:s}}}function JR(t){return Kw(t)&&"type"in t&&typeof t.type=="string"}var e5=Symbol.for("immer-nothing"),JC=Symbol.for("immer-draftable"),ea=Symbol.for("immer-state");function Ua(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function uc(t){return!!t&&!!t[ea]}function Cs(t){return t?t5(t)||Array.isArray(t)||!!t[JC]||!!t.constructor?.[JC]||cy(t)||uy(t):!1}var tX=Object.prototype.constructor.toString();function t5(t){if(!t||typeof t!="object")return!1;const e=Fu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===tX}function Yg(t,e){ly(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ly(t){const e=t[ea];return e?e.type_:Array.isArray(t)?1:cy(t)?2:uy(t)?3:0}function D2(t,e){return ly(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function n5(t,e,n){const r=ly(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function nX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function cy(t){return t instanceof Map}function uy(t){return t instanceof Set}function zl(t){return t.copy_||t.base_}function M2(t,e){if(cy(t))return new Map(t);if(uy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=t5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ea];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Fu(t),r)}else{const r=Fu(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function Gw(t,e=!1){return dy(t)||uc(t)||!Cs(t)||(ly(t)>1&&(t.set=t.add=t.clear=t.delete=rX),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Gw(r,!0))),t}function rX(){Ua(2)}function dy(t){return Object.isFrozen(t)}var aX={};function dc(t){const e=aX[t];return e||Ua(0,t),e}var vf;function r5(){return vf}function iX(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function e3(t,e){e&&(dc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function L2(t){B2(t),t.drafts_.forEach(sX),t.drafts_=null}function B2(t){t===vf&&(vf=t.parent_)}function t3(t){return vf=iX(vf,t)}function sX(t){const e=t[ea];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function n3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ea].modified_&&(L2(e),Ua(4)),Cs(t)&&(t=Xg(e,t),e.parent_||Qg(e,t)),e.patches_&&dc("Patches").generateReplacementPatches_(n[ea].base_,t,e.patches_,e.inversePatches_)):t=Xg(e,n,[]),L2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==e5?t:void 0}function Xg(t,e,n){if(dy(e))return e;const r=e[ea];if(!r)return Yg(e,(a,s)=>r3(t,r,e,a,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Qg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,l=!1;r.type_===3&&(s=new Set(a),a.clear(),l=!0),Yg(s,(u,h)=>r3(t,r,a,u,h,n,l)),Qg(t,a,!1),n&&t.patches_&&dc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function r3(t,e,n,r,a,s,l){if(uc(a)){const u=s&&e&&e.type_!==3&&!D2(e.assigned_,r)?s.concat(r):void 0,h=Xg(t,a,u);if(n5(n,r,h),uc(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Cs(a)&&!dy(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Xg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Qg(t,a)}}function Qg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Gw(e,n)}function oX(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:r5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=Ww;n&&(a=[r],s=yf);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=l,u}var Ww={get(t,e){if(e===ea)return t;const n=zl(t);if(!D2(n,e))return lX(t,n,e);const r=n[e];return t.finalized_||!Cs(r)?r:r===hb(t.base_,e)?(fb(t),t.copy_[e]=V2(r,t)):r},has(t,e){return e in zl(t)},ownKeys(t){return Reflect.ownKeys(zl(t))},set(t,e,n){const r=a5(zl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=hb(zl(t),e),s=a?.[ea];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(nX(n,a)&&(n!==void 0||D2(t.base_,e)))return!0;fb(t),U2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fb(t),U2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ua(11)},getPrototypeOf(t){return Fu(t.base_)},setPrototypeOf(){Ua(12)}},yf={};Yg(Ww,(t,e)=>{yf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yf.deleteProperty=function(t,e){return yf.set.call(this,t,e,void 0)};yf.set=function(t,e,n){return Ww.set.call(this,t[0],e,n,t[0])};function hb(t,e){const n=t[ea];return(n?zl(n):t)[e]}function lX(t,e,n){const r=a5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function a5(t,e){if(!(e in t))return;let n=Fu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fu(n)}}function U2(t){t.modified_||(t.modified_=!0,t.parent_&&U2(t.parent_))}function fb(t){t.copy_||(t.copy_=M2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var cX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(h=s,...f){return l.produce(h,m=>n.call(this,m,...f))}}typeof n!="function"&&Ua(6),r!==void 0&&typeof r!="function"&&Ua(7);let a;if(Cs(e)){const s=t3(this),l=V2(e,void 0);let u=!0;try{a=n(l),u=!1}finally{u?L2(s):B2(s)}return e3(s,r),n3(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===e5&&(a=void 0),this.autoFreeze_&&Gw(a,!0),r){const s=[],l=[];dc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else Ua(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,h=>e(h,...u));let r,a;return[this.produce(e,n,(l,u)=>{r=l,a=u}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cs(t)||Ua(8),uc(t)&&(t=ys(t));const e=t3(this),n=V2(t,void 0);return n[ea].isManual_=!0,B2(e),n}finishDraft(t,e){const n=t&&t[ea];(!n||!n.isManual_)&&Ua(9);const{scope_:r}=n;return e3(r,e),n3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=dc("Patches").applyPatches_;return uc(t)?r(t,e):this.produce(t,a=>r(a,e))}};function V2(t,e){const n=cy(t)?dc("MapSet").proxyMap_(t,e):uy(t)?dc("MapSet").proxySet_(t,e):oX(t,e);return(e?e.scope_:r5()).drafts_.push(n),n}function ys(t){return uc(t)||Ua(10,t),i5(t)}function i5(t){if(!Cs(t)||dy(t))return t;const e=t[ea];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=M2(t,e.scope_.immer_.useStrictShallowCopy_)}else n=M2(t,!0);return Yg(n,(r,a)=>{n5(n,r,i5(a))}),e&&(e.finalized_=!1),n}var ta=new cX,s5=ta.produce;ta.produceWithPatches.bind(ta);ta.setAutoFreeze.bind(ta);ta.setUseStrictShallowCopy.bind(ta);ta.applyPatches.bind(ta);ta.createDraft.bind(ta);ta.finishDraft.bind(ta);function o5(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var uX=o5(),dX=o5,hX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wg:Wg.apply(null,arguments)};function Aa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Qr(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>JR(r)&&r.type===t,n}var l5=class qh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qh.prototype)}static get[Symbol.species](){return qh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qh(...e[0].concat(this)):new qh(...e.concat(this))}};function a3(t){return Cs(t)?s5(t,()=>{}):t}function $p(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function fX(t){return typeof t=="boolean"}var mX=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new l5;return n&&(fX(n)?l.push(uX):l.push(dX(n.extraArgument))),l},pX="RTK_autoBatch",i3=t=>e=>{setTimeout(e,t)},gX=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const u=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:i3(10):t.type==="callback"?t.queueNotification:i3(t.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>a&&m(),y=r.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[pX],s=!a,s&&(l||(l=!0,h(f))),r.dispatch(m)}finally{a=!0}}})},vX=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new l5(t);return r&&a.push(gX(typeof r=="object"?r:void 0)),a};function yX(t){const e=mX(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(Kw(n))u=ZR(n);else throw new Error(Qr(1));let h;typeof r=="function"?h=r(e):h=e();let f=Wg;a&&(f=hX({trace:!1,...typeof a=="object"&&a}));const m=eX(...h),g=vX(m);let y=typeof l=="function"?l(g):g();const j=f(...y);return QR(u,s,j)}function c5(t){const e={},n=[];let r;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Qr(28));if(u in e)throw new Error(Qr(29));return e[u]=l,a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function xX(t){return typeof t=="function"}function bX(t,e){let[n,r,a]=c5(e),s;if(xX(t))s=()=>a3(t());else{const u=a3(t);s=()=>u}function l(u=s(),h){let f=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(uc(m)){const j=g(m,h);return j===void 0?m:j}else{if(Cs(m))return s5(m,y=>g(y,h));{const y=g(m,h);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return l.getInitialState=s,l}var jX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wX=(t=21)=>{let e="",n=t;for(;n--;)e+=jX[Math.random()*64|0];return e},_X=Symbol.for("rtk-slice-createasyncthunk");function SX(t,e){return`${t}/${e}`}function TX({creators:t}={}){const e=t?.asyncThunk?.[_X];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(Qr(11));const l=(typeof r.reducers=="function"?r.reducers(AX()):r.reducers)||{},u=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,O){const D=typeof N=="string"?N:N.type;if(!D)throw new Error(Qr(12));if(D in h.sliceCaseReducersByType)throw new Error(Qr(13));return h.sliceCaseReducersByType[D]=O,f},addMatcher(N,O){return h.sliceMatchers.push({matcher:N,reducer:O}),f},exposeAction(N,O){return h.actionCreators[N]=O,f},exposeCaseReducer(N,O){return h.sliceCaseReducersByName[N]=O,f}};u.forEach(N=>{const O=l[N],D={reducerName:N,type:SX(a,N),createNotation:typeof r.reducers=="function"};CX(O)?IX(D,O,f,e):NX(D,O,f)});function m(){const[N={},O=[],D=void 0]=typeof r.extraReducers=="function"?c5(r.extraReducers):[r.extraReducers],M={...N,...h.sliceCaseReducersByType};return bX(r.initialState,C=>{for(let R in M)C.addCase(R,M[R]);for(let R of h.sliceMatchers)C.addMatcher(R.matcher,R.reducer);for(let R of O)C.addMatcher(R.matcher,R.reducer);D&&C.addDefaultCase(D)})}const g=N=>N,y=new Map,j=new WeakMap;let w;function S(N,O){return w||(w=m()),w(N,O)}function T(){return w||(w=m()),w.getInitialState()}function E(N,O=!1){function D(C){let R=C[N];return typeof R>"u"&&O&&(R=$p(j,D,T)),R}function M(C=g){const R=$p(y,O,()=>new WeakMap);return $p(R,C,()=>{const B={};for(const[$,L]of Object.entries(r.selectors??{}))B[$]=EX(L,C,()=>$p(j,C,T),O);return B})}return{reducerPath:N,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const I={name:a,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...E(s),injectInto(N,{reducerPath:O,...D}={}){const M=O??s;return N.inject({reducerPath:M,reducer:S},D),{...I,...E(M,!0)}}};return I}}function EX(t,e,n,r){function a(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return a.unwrapped=t,a}var Oa=TX();function AX(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function NX({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!OX(r))throw new Error(Qr(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Aa(t,l):Aa(t))}function CX(t){return t._reducerDefinitionType==="asyncThunk"}function OX(t){return t._reducerDefinitionType==="reducerWithPrepare"}function IX({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Qr(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:h,settled:f,options:m}=n,g=a(t,s,m);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:l||qp,pending:u||qp,rejected:h||qp,settled:f||qp})}function qp(){}var kX="task",u5="listener",d5="completed",Yw="cancelled",PX=`task-${Yw}`,RX=`task-${d5}`,z2=`${u5}-${Yw}`,DX=`${u5}-${d5}`,hy=class{constructor(t){this.code=t,this.message=`${kX} ${Yw} (reason: ${t})`}name="TaskAbortError";message},Xw=(t,e)=>{if(typeof t!="function")throw new TypeError(Qr(32))},Zg=()=>{},h5=(t,e=Zg)=>(t.catch(e),t),f5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Jl=t=>{if(t.aborted){const{reason:e}=t;throw new hy(e)}};function m5(t,e){let n=Zg;return new Promise((r,a)=>{const s=()=>a(new hy(t.reason));if(t.aborted){s();return}n=f5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Zg})}var MX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof hy?"cancelled":"rejected",error:n}}finally{e?.()}},Jg=t=>e=>h5(m5(t,e).then(n=>(Jl(t),n))),p5=t=>{const e=Jg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Pu}=Object,s3={},fy="listenerMiddleware",LX=(t,e)=>{const n=r=>f5(t,()=>Zl(r,t.reason));return(r,a)=>{Xw(r);const s=new AbortController;n(s);const l=MX(async()=>{Jl(t),Jl(s.signal);const u=await r({pause:Jg(s.signal),delay:p5(s.signal),signal:s.signal});return Jl(s.signal),u},()=>Zl(s,RX));return a?.autoJoin&&e.push(l.catch(Zg)),{result:Jg(t)(l),cancel(){Zl(s,PX)}}}},BX=(t,e)=>{const n=async(r,a)=>{Jl(e);let s=()=>{};const u=[new Promise((h,f)=>{let m=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),h([g,y.getState(),y.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await m5(e,Promise.race(u));return Jl(e),h}finally{s()}};return(r,a)=>h5(n(r,a))},g5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Aa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Qr(21));return Xw(s),{predicate:a,type:e,effect:s}},v5=Pu(t=>{const{type:e,predicate:n,effect:r}=g5(t);return{id:wX(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qr(22))}}},{withTypes:()=>v5}),o3=(t,e)=>{const{type:n,effect:r,predicate:a}=g5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},$2=t=>{t.pending.forEach(e=>{Zl(e,z2)})},UX=t=>()=>{t.forEach($2),t.clear()},l3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},y5=Pu(Aa(`${fy}/add`),{withTypes:()=>y5}),VX=Aa(`${fy}/removeAll`),x5=Pu(Aa(`${fy}/remove`),{withTypes:()=>x5}),zX=(...t)=>{console.error(`${fy}/error`,...t)},Yf=(t={})=>{const e=new Map,{extra:n,onError:r=zX}=t;Xw(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&$2(m)}),s=m=>{const g=o3(e,m)??v5(m);return a(g)};Pu(s,{withTypes:()=>s});const l=m=>{const g=o3(e,m);return g&&(g.unsubscribe(),m.cancelActive&&$2(g)),!!g};Pu(l,{withTypes:()=>l});const u=async(m,g,y,j)=>{const w=new AbortController,S=BX(s,w.signal),T=[];try{m.pending.add(w),await Promise.resolve(m.effect(g,Pu({},y,{getOriginalState:j,condition:(E,I)=>S(E,I).then(Boolean),take:S,delay:p5(w.signal),pause:Jg(w.signal),extra:n,signal:w.signal,fork:LX(w.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((E,I,N)=>{E!==w&&(Zl(E,z2),N.delete(E))})},cancel:()=>{Zl(w,z2),m.pending.delete(w)},throwIfCancelled:()=>{Jl(w.signal)}})))}catch(E){E instanceof hy||l3(r,E,{raisedBy:"effect"})}finally{await Promise.all(T),Zl(w,DX),m.pending.delete(w)}},h=UX(e);return{middleware:m=>g=>y=>{if(!JR(y))return g(y);if(y5.match(y))return s(y.payload);if(VX.match(y)){h();return}if(x5.match(y))return l(y.payload);let j=m.getState();const w=()=>{if(j===s3)throw new Error(Qr(23));return j};let S;try{if(S=g(y),e.size>0){const T=m.getState(),E=Array.from(e.values());for(const I of E){let N=!1;try{N=I.predicate(y,T,j)}catch(O){N=!1,l3(r,O,{raisedBy:"predicate"})}N&&u(I,y,m,w)}}}finally{j=s3}return S},startListening:s,stopListening:l,clearListeners:h}};function Qr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $X={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},b5=Oa({name:"chartLayout",initialState:$X,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:qX,setLayout:FX,setChartSize:HX,setScale:KX}=b5.actions,GX=b5.reducer;function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function u3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return(e=YX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=XX(t,"string");return typeof e=="symbol"?e:e+""}function XX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ev=Math.PI/180,QX=t=>t*180/Math.PI,xn=(t,e,n,r)=>({x:t+Math.cos(-ev*r)*n,y:e+Math.sin(-ev*r)*n}),j5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ZX=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},JX=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=ZX({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-a)/l,h=Math.acos(u);return r>s&&(h=2*Math.PI-h),{radius:l,angle:QX(h),angleInRadian:h}},eQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},tQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},nQ=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:s}=JX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(a<l||a>u||a===0)return null;var{startAngle:h,endAngle:f}=eQ(e),m=s,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?u3(u3({},e),{},{radius:a,angle:tQ(m,e)}):null};function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return(e=aQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=iQ(t,"string");return typeof e=="symbol"?e:e+""}function iQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Et(t,e,n){return mt(t)||mt(e)?n:Ei(e)?Fo(t,e,n):typeof e=="function"?e(t):n}var sQ=(t,e,n,r,a)=>{var s,l=-1,u=(s=e?.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<u;h++){var f=h>0?n[h-1].coordinate:n[u-1].coordinate,m=n[h].coordinate,g=h>=u-1?n[0].coordinate:n[h+1].coordinate,y=void 0;if($n(m-f)!==$n(g-m)){var j=[];if($n(g-m)===$n(a[1]-a[0])){y=g;var w=m+a[1]-a[0];j[0]=Math.min(w,(w+f)/2),j[1]=Math.max(w,(w+f)/2)}else{y=f;var S=g+a[1]-a[0];j[0]=Math.min(m,(S+m)/2),j[1]=Math.max(m,(S+m)/2)}var T=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>T[0]&&t<=T[1]||t>=j[0]&&t<=j[1]){({index:l}=n[h]);break}}else{var E=Math.min(f,g),I=Math.max(f,g);if(t>(E+m)/2&&t<=(I+m)/2){({index:l}=n[h]);break}}}else if(e){for(var N=0;N<u;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===u-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:l}=e[N]);break}}return l},oQ=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(t[s]))return ja(ja({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(t[l]))return ja(ja({},t),{},{[l]:t[l]+(a||0)})}return t},Zo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",w5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var a,s,l=t.map(u=>(u.coordinate===e&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate));return a||l.push(e),s||l.push(n),l},_5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:y,axisType:j}=t;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=j==="angleAxis"&&s&&s.length>=2?$n(s[0]-s[1])*2*S:S,g||y){var T=(g||y||[]).map((E,I)=>{var N=r?r.indexOf(E):E;return{coordinate:l(N)+S,value:E,offset:S,index:I}});return T.filter(E=>!Jr(E.coordinate))}return h&&f?f.map((E,I)=>({coordinate:l(E)+S,value:E,index:I,offset:S})):l.ticks&&m!=null?l.ticks(m).map((E,I)=>({coordinate:l(E)+S,value:E,offset:S,index:I})):l.domain().map((E,I)=>({coordinate:l(E)+S,value:r?r[E]:E,index:I,offset:S}))},h3=1e-4,lQ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-h3,s=Math.max(r[0],r[1])+h3,l=t(e[0]),u=t(e[n-1]);(l<a||l>s||u<a||u>s)&&t.domain([e[0],e[n-1]])}},cQ=(t,e)=>{if(!e||e.length!==2||!Oe(e[0])||!Oe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Oe(t[0])||t[0]<n)&&(a[0]=n),(!Oe(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},uQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,l=0;l<e;++l){var u=Jr(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=a,t[l][n][1]=a+u,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1])}},dQ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var l=Jr(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},hQ={sign:uQ,expand:HW,none:qu,silhouette:KW,wiggle:GW,positive:dQ},fQ=(t,e,n)=>{var r=hQ[n],a=FW().keys(e).value((s,l)=>+Et(s,l,0)).order(P2).offset(r);return a(t)};function S5(t){return t==null?void 0:String(t)}function tv(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mt(a[e.dataKey])){var u=bR(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var h=Et(a,mt(l)?e.dataKey:l);return mt(h)?null:e.scale(h)}var f3=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Et(s,e.dataKey,e.scale.domain()[l]);return mt(u)?null:e.scale(u)-a/2+r},mQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},pQ=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},gQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vQ=(t,e,n)=>{if(t!=null)return gQ(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:l}=s,u=l.reduce((h,f)=>{var m=pQ(f.slice(e,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},m3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=oy(e,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var h=a[l],f=a[l-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function g3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return ja(ja({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Jo(t,e){if(t)return String(t);if(typeof e=="string")return e}function yQ(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var s=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:t,y:e}:null}return r?nQ({x:t,y:e},r):null}var xQ=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,{radius:l}=r;return ja(ja(ja({},r),xn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:h}=r;return ja(ja(ja({},r),xn(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{x:0,y:0}},bQ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ms=t=>t.layout.width,Ls=t=>t.layout.height,jQ=t=>t.layout.scale,T5=t=>t.layout.margin,Qw=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Zw=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Jw="data-recharts-item-index",e_="data-recharts-item-data-key",my=60;function v3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=_Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=SQ(t,"string");return typeof e=="symbol"?e:e+""}function SQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TQ=t=>t.brush.height,In=ie([Ms,Ls,T5,TQ,Qw,Zw,XR,WY],(t,e,n,r,a,s,l,u)=>{var h=s.reduce((w,S)=>{var{orientation:T}=S;if(!S.mirror&&!S.hide){var E=typeof S.width=="number"?S.width:my;return vo(vo({},w),{},{[T]:w[T]+E})}return w},{left:n.left||0,right:n.right||0}),f=a.reduce((w,S)=>{var{orientation:T}=S;return!S.mirror&&!S.hide?vo(vo({},w),{},{[T]:Fo(w,"".concat(T))+S.height}):w},{top:n.top||0,bottom:n.bottom||0}),m=vo(vo({},f),h),g=m.bottom;m.bottom+=r,m=oQ(m,l,u);var y=t-m.left-m.right,j=e-m.top-m.bottom;return vo(vo({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(j,0)})}),EQ=ie(In,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),E5=ie(Ms,Ls,(t,e)=>({x:0,y:0,width:t,height:e})),AQ=b.createContext(null),gr=()=>b.useContext(AQ)!=null,py=t=>t.brush,gy=ie([py,In,T5],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),t_=()=>{var t,e=gr(),n=ke(EQ),r=ke(gy),a=(t=ke(py))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},NQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},A5=()=>{var t;return(t=ke(In))!==null&&t!==void 0?t:NQ},N5=()=>ke(Ms),C5=()=>ke(Ls),xt=t=>t.layout.layoutType,vy=()=>ke(xt),CQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},O5=Oa({name:"legend",initialState:CQ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ys(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Dhe,setLegendSettings:Mhe,addLegendPayload:I5,removeLegendPayload:k5}=O5.actions,OQ=O5.reducer;function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(null,arguments)}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){IQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e,n){return(e=kQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RQ(t){return Array.isArray(t)&&Ei(t[0])&&Ei(t[1])?t.join(" ~ "):t}var DQ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:y=!1}=t,j=()=>{if(s&&s.length){var D={padding:0,margin:0},M=(u?oy(s,u):s).map((C,R)=>{if(C.type==="none")return null;var B=C.formatter||l||RQ,{value:$,name:L}=C,U=$,z=L;if(B){var xe=B($,L,C,R,s);if(Array.isArray(xe))[U,z]=xe;else if(xe!=null)U=xe;else return null}var ce=mb({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:ce},Ei(z)?b.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ei(z)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},U),b.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},w=mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=mb({margin:0},a),T=!mt(m),E=T?m:"",I=gt("recharts-default-tooltip",h),N=gt("recharts-tooltip-label",f);T&&g&&s!==void 0&&s!==null&&(E=g(m,s));var O=y?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",q2({className:I,style:w},O),b.createElement("p",{className:N,style:S},b.isValidElement(E)?E:"".concat(E)),j())},Ch="recharts-tooltip-wrapper",MQ={visibility:"hidden"};function LQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return gt(Ch,{["".concat(Ch,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(Ch,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(Ch,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(Ch,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function x3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=t;if(s&&Oe(s[r]))return s[r];var m=n[r]-u-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?m:g;var y=h[r];if(y==null)return 0;if(l[r]){var j=m,w=y;return j<w?Math.max(g,y):Math.max(m,y)}if(f==null)return 0;var S=g+u,T=y+f;return S>T?Math.max(m,y):Math.max(g,y)}function BQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function UQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:h}=t,f,m,g;return l.height>0&&l.width>0&&n?(m=x3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),g=x3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=BQ({translateX:m,translateY:g,useTranslate3d:u})):f=MQ,{cssProperties:f,cssClasses:LQ({translateX:m,translateY:g,coordinate:n})}}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){F2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2(t,e,n){return(e=VQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Q extends b.PureComponent{constructor(){super(...arguments),F2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),F2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:h,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:j,wrapperStyle:w,lastBoundingBox:S,innerRef:T,hasPortalFromProps:E}=this.props,{cssClasses:I,cssProperties:N}=UQ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:j}),O=E?{}:Fp(Fp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Fp(Fp({},O),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:D,ref:T},s)}}var qQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),el={isSsr:qQ()},P5=()=>ke(t=>t.rootProps.accessibilityLayer);function na(t){return Number.isFinite(t)}function Hu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(null,arguments)}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){FQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e,n){return(e=HQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _3={curveBasisClosed:PW,curveBasisOpen:RW,curveBasis:kW,curveBumpX:yW,curveBumpY:xW,curveLinearClosed:DW,curveLinear:iy,curveMonotoneX:MW,curveMonotoneY:LW,curveNatural:BW,curveStep:UW,curveStepAfter:zW,curveStepBefore:VW},Hp=t=>na(t.x)&&na(t.y),Oh=t=>t.x,Ih=t=>t.y,GQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gf(t));return(n==="curveMonotone"||n==="curveBump")&&e?_3["".concat(n).concat(e==="vertical"?"Y":"X")]:_3[n]||iy},WQ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=GQ(e,a),u=s?n.filter(Hp):n,h;if(Array.isArray(r)){var f=s?r.filter(g=>Hp(g)):r,m=u.map((g,y)=>w3(w3({},g),{},{base:f[y]}));return a==="vertical"?h=Up().y(Ih).x1(Oh).x0(g=>g.base.x):h=Up().x(Oh).y1(Ih).y0(g=>g.base.y),h.defined(Hp).curve(l),h(m)}return a==="vertical"&&Oe(r)?h=Up().y(Ih).x1(Oh).x0(r):Oe(r)?h=Up().x(Oh).y1(Ih).y0(r):h=CR().x(Oh).y(Ih),h.defined(Hp).curve(l),h(u)},yy=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?WQ(t):r;return b.createElement("path",H2({},rt(t,!1),Dw(t),{className:gt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},YQ=["x","y","top","left","width","height","className"];function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(null,arguments)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function XQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=ZQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZ(t,e){if(t==null)return{};var n,r,a=tZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nZ=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),rZ=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:u}=t,h=eZ(t,YQ),f=XQ({x:e,y:n,top:r,left:a,width:s,height:l},h);return!Oe(e)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(a)?null:b.createElement("path",K2({},rt(f,!0),{className:gt("recharts-cross",u),d:nZ(e,n,s,l,r,a)}))};function aZ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){sZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sZ(t,e,n){return(e=oZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oZ(t){var e=lZ(t,"string");return typeof e=="symbol"?e:e+""}function lZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ra(t,e){var n=iZ({},t),r=e,a=Object.keys(e),s=a.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}var pb={},gb={},vb={},E3;function cZ(){return E3||(E3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(vb)),vb}var A3;function uZ(){return A3||(A3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cZ(),n=FR(),r=qw(),a=Fw(),s=zw();function l(f,m,g){return u(f,m,void 0,void 0,void 0,void 0,g)}function u(f,m,g,y,j,w,S){const T=S(f,m,g,y,j,w);if(T!==void 0)return T;if(typeof f==typeof m)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===m;case"number":return f===m||Object.is(f,m);case"function":return f===m;case"object":return h(f,m,w,S)}return h(f,m,w,S)}function h(f,m,g,y){if(Object.is(f,m))return!0;let j=r.getTag(f),w=r.getTag(m);if(j===a.argumentsTag&&(j=a.objectTag),w===a.argumentsTag&&(w=a.objectTag),j!==w)return!1;switch(j){case a.stringTag:return f.toString()===m.toString();case a.numberTag:{const E=f.valueOf(),I=m.valueOf();return s.eq(E,I)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(f.valueOf(),m.valueOf());case a.regexpTag:return f.source===m.source&&f.flags===m.flags;case a.functionTag:return f===m}g=g??new Map;const S=g.get(f),T=g.get(m);if(S!=null&&T!=null)return S===m;g.set(f,m),g.set(m,f);try{switch(j){case a.mapTag:{if(f.size!==m.size)return!1;for(const[E,I]of f.entries())if(!m.has(E)||!u(I,m.get(E),E,f,m,g,y))return!1;return!0}case a.setTag:{if(f.size!==m.size)return!1;const E=Array.from(f.values()),I=Array.from(m.values());for(let N=0;N<E.length;N++){const O=E[N],D=I.findIndex(M=>u(O,M,void 0,f,m,g,y));if(D===-1)return!1;I.splice(D,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(m)||f.length!==m.length)return!1;for(let E=0;E<f.length;E++)if(!u(f[E],m[E],E,f,m,g,y))return!1;return!0}case a.arrayBufferTag:return f.byteLength!==m.byteLength?!1:h(new Uint8Array(f),new Uint8Array(m),g,y);case a.dataViewTag:return f.byteLength!==m.byteLength||f.byteOffset!==m.byteOffset?!1:h(new Uint8Array(f),new Uint8Array(m),g,y);case a.errorTag:return f.name===m.name&&f.message===m.message;case a.objectTag:{if(!(h(f.constructor,m.constructor,g,y)||e.isPlainObject(f)&&e.isPlainObject(m)))return!1;const I=[...Object.keys(f),...n.getSymbols(f)],N=[...Object.keys(m),...n.getSymbols(m)];if(I.length!==N.length)return!1;for(let O=0;O<I.length;O++){const D=I[O],M=f[D];if(!Object.hasOwn(m,D))return!1;const C=m[D];if(!u(M,C,D,f,m,g,y))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(m)}}t.isEqualWith=l}(gb)),gb}var yb={},N3;function dZ(){return N3||(N3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(yb)),yb}var C3;function hZ(){return C3||(C3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),n=dZ();function r(a,s){return e.isEqualWith(a,s,n.noop)}t.isEqual=r}(pb)),pb}var xb,O3;function fZ(){return O3||(O3=1,xb=hZ().isEqual),xb}var mZ=fZ();const pZ=Ci(mZ);function gZ(t){var e={},n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...f]=u;if(typeof h=="number"){a=t.setTimeout(s.bind(null,f),h);return}s(h),a=t.setTimeout(s.bind(null,f));return}typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}var nv=1e-4,R5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],D5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),I3=(t,e)=>n=>{var r=R5(t,e);return D5(r,n)},vZ=(t,e)=>n=>{var r=R5(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return D5(a,n)},k3=function(){for(var e,n,r,a,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=l[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([e,r,n,a]=l);var f=I3(e,n),m=I3(r,a),g=vZ(e,n),y=w=>w>1?1:w<0?0:w,j=w=>{for(var S=w>1?1:w,T=S,E=0;E<8;++E){var I=f(T)-S,N=g(T);if(Math.abs(I-S)<nv||N<nv)return m(T);T=y(T-I/N)}return m(T)};return j.isStepper=!1,j},yZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,u,h)=>{var f=-(l-u)*n,m=h*r,g=h+(f-m)*a/1e3,y=h*a/1e3+l;return Math.abs(y-u)<nv&&Math.abs(g)<nv?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},xZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return k3(t);case"spring":return yZ();default:if(t.split("(")[0]==="cubic-bezier")return k3(t)}return typeof t=="function"?t:null};function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function R3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){bZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bZ(t,e,n){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=wZ(t,"string");return typeof e=="symbol"?e:e+""}function wZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Z=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),SZ=(t,e,n)=>t.map(r=>"".concat(_Z(r)," ").concat(e,"ms ").concat(n)).join(","),TZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),bf=(t,e)=>Object.keys(e).reduce((n,r)=>R3(R3({},n),{},{[r]:t(r,e[r])}),{});function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=NZ(t,"string");return typeof e=="symbol"?e:e+""}function NZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=(t,e,n)=>t+(e-t)*n,G2=t=>{var{from:e,to:n}=t;return e!==n},M5=(t,e,n)=>{var r=bf((a,s)=>{if(G2(s)){var[l,u]=t(s.from,s.to,s.velocity);return Jn(Jn({},s),{},{from:l,velocity:u})}return s},e);return n<1?bf((a,s)=>G2(s)?Jn(Jn({},s),{},{velocity:rv(s.velocity,r[a].velocity,n),from:rv(s.from,r[a].from,n)}):s,e):M5(t,r,n-1)};function CZ(t,e,n,r,a,s){var l,u=r.reduce((y,j)=>Jn(Jn({},y),{},{[j]:{from:t[j],velocity:0,to:e[j]}}),{}),h=()=>bf((y,j)=>j.from,u),f=()=>!Object.values(u).filter(G2).length,m=null,g=y=>{l||(l=y);var j=y-l,w=j/n.dt;u=M5(n,u,w),a(Jn(Jn(Jn({},t),e),h())),l=y,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{m()})}function OZ(t,e,n,r,a,s,l){var u=null,h=a.reduce((g,y)=>Jn(Jn({},g),{},{[y]:[t[y],e[y]]}),{}),f,m=g=>{f||(f=g);var y=(g-f)/r,j=bf((S,T)=>rv(...T,n(y)),h);if(s(Jn(Jn(Jn({},t),e),j)),y<1)u=l.setTimeout(m);else{var w=bf((S,T)=>rv(...T,n(1)),h);s(Jn(Jn(Jn({},t),e),w))}};return()=>(u=l.setTimeout(m),()=>{u()})}const IZ=(t,e,n,r,a,s)=>{var l=TZ(t,e);return n.isStepper===!0?CZ(t,e,n,l,a,s):OZ(t,e,n,r,l,a,s)};class kZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}var PZ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(null,arguments)}function RZ(t,e){if(t==null)return{};var n,r,a=DZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){Kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kl(t,e,n){return(e=MZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=LZ(t,"string");return typeof e=="symbol"?e:e+""}function LZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BZ(){return gZ(new kZ)}class n_ extends b.PureComponent{constructor(e,n){super(e,n),Kl(this,"mounted",!1),Kl(this,"manager",null),Kl(this,"stopJSAnimation",null),Kl(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:s,to:l,children:u,duration:h,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||h<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:l});return}if(s){if(typeof u=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:s,to:l,from:u}=this.props,{style:h}=this.state;if(r){if(!n){var f={style:a?{[a]:l}:l};this.state&&h&&(a&&h[a]!==l||!a&&h!==l)&&this.setState(f);return}if(!(pZ(e.to,l)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||s?u:e.to;if(this.state&&h){var y={style:a?{[a]:g}:g};(a&&h[a]!==g||!a&&h!==g)&&this.setState(y)}this.runAnimation(yo(yo({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:h}=e,f=IZ(n,r,xZ(s),a,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=f()};this.manager.start([h,l,m,a,u])}runAnimation(e){var{begin:n,duration:r,attributeName:a,to:s,easing:l,onAnimationStart:u,onAnimationEnd:h,children:f}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(e);return}var m=a?{[a]:s}:s,g=SZ(Object.keys(m),r,l);this.manager.start([u,n,yo(yo({},m),{},{transition:g}),r,h])}render(){var e=this.props,{children:n,begin:r,duration:a,attributeName:s,easing:l,isActive:u,from:h,to:f,canBegin:m,onAnimationEnd:g,shouldReAnimate:y,onAnimationReStart:j,animationManager:w}=e,S=RZ(e,PZ),T=b.Children.count(n),E=this.state.style;if(typeof n=="function")return n(E);if(!u||T===0||a<=0)return n;var I=N=>{var{style:O={},className:D}=N.props,M=b.cloneElement(N,yo(yo({},S),{},{style:yo(yo({},O),E),className:D}));return M};return T===1?I(b.Children.only(n)):b.createElement("div",null,b.Children.map(n,N=>I(N)))}}Kl(n_,"displayName","Animate");Kl(n_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var UZ=b.createContext(null);function Os(t){var e,n,r=b.useContext(UZ);return b.createElement(n_,W2({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:BZ()}))}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}var L3=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=a[g]>s?s:a[g];f="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(e)),f+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+l*m[1])),f+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),f+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-l*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var j=Math.min(s,a);f="M ".concat(t,",").concat(e+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+u*j,",").concat(e,`
            L `).concat(t+n-u*j,",").concat(e,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n,",").concat(e+l*j,`
            L `).concat(t+n,",").concat(e+r-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t+n-u*j,",").concat(e+r,`
            L `).concat(t+u*j,",").concat(e+r,`
            A `).concat(j,",").concat(j,",0,0,").concat(h,",").concat(t,",").concat(e+r-l*j," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},VZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L5=t=>{var e=ra(t,VZ),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&a(E)}catch{}},[]);var{x:s,y:l,width:u,height:h,radius:f,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:j,isAnimationActive:w,isUpdateAnimationActive:S}=e;if(s!==+s||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var T=gt("recharts-rectangle",m);return S?b.createElement(Os,{canBegin:r>0,from:{width:u,height:h,x:s,y:l},to:{width:u,height:h,x:s,y:l},duration:y,animationEasing:g,isActive:S},E=>{var{width:I,height:N,x:O,y:D}=E;return b.createElement(Os,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:w,easing:g},b.createElement("path",av({},rt(e,!0),{className:T,d:L3(O,D,I,N,f),ref:n})))}):b.createElement("path",av({},rt(e,!0),{className:T,d:L3(s,l,u,h,f)}))};function B5(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=xn(e,n,r,a),u=xn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}var zZ=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Kp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:h}=t,f=u*(l?1:-1)+r,m=Math.asin(u/f)/ev,g=h?a:a+s*m,y=xn(e,n,f,g),j=xn(e,n,r,g),w=h?a-s*m:a,S=xn(e,n,f*Math.cos(m*ev),w);return{center:y,circleTangency:j,lineTangency:S,theta:m}},U5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,u=zZ(s,l),h=s+u,f=xn(e,n,a,s),m=xn(e,n,a,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=xn(e,n,r,s),j=xn(e,n,r,h);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},$Z=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}=t,m=$n(f-h),{circleTangency:g,lineTangency:y,theta:j}=Kp({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:T}=Kp({cx:e,cy:n,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(h-f):Math.abs(h-f)-j-T;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):U5({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var I="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:O,theta:D}=Kp({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:M,lineTangency:C,theta:R}=Kp({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),B=u?Math.abs(h-f):Math.abs(h-f)-D-R;if(B<0&&s===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(e,",").concat(n,"Z");return I},qZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},V5=t=>{var e=ra(t,qZ),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m,className:g}=e;if(s<a||f===m)return null;var y=gt("recharts-sector",g),j=s-a,w=_r(l,j,0,!0),S;return w>0&&Math.abs(f-m)<360?S=$Z({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,j/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m}):S=U5({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),b.createElement("path",Y2({},rt(e,!0),{className:y,d:S}))};function FZ(t,e,n){var r,a,s,l;if(t==="horizontal")r=e.x,s=r,a=n.top,l=n.top+n.height;else if(t==="vertical")a=e.y,l=a,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:h,innerRadius:f,outerRadius:m,angle:g}=e,y=xn(u,h,f,g),j=xn(u,h,m,g);r=y.x,a=y.y,s=j.x,l=j.y}else return B5(e);return[{x:r,y:a},{x:s,y:l}]}var bb={},jb={},wb={},B3;function HZ(){return B3||(B3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WR();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(wb)),wb}var U3;function KZ(){return U3||(U3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(jb)),jb}var V3;function GZ(){return V3||(V3=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YR(),n=KZ();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=a,a+=l;return h}t.range=r}(bb)),bb}var _b,z3;function WZ(){return z3||(z3=1,_b=GZ().range),_b}var YZ=WZ();const z5=Ci(YZ);function Ro(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r_(t){let e,n,r;t.length!==2?(e=Ro,n=(u,h)=>Ro(t(u),h),r=(u,h)=>t(u)-h):(e=t===Ro||t===XZ?t:QZ,n=t,r=t);function a(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<0?f=g+1:m=g}while(f<m)}return f}function s(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,h,f=0,m=u.length){const g=a(u,h,f,m-1);return g>f&&r(u[g-1],h)>-r(u[g],h)?g-1:g}return{left:a,center:l,right:s}}function QZ(){return 0}function $5(t){return t===null?NaN:+t}function*ZZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const JZ=r_(Ro),Xf=JZ.right;r_($5).center;class $3 extends Map{constructor(e,n=nJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(q3(this,e))}has(e){return super.has(q3(this,e))}set(e,n){return super.set(eJ(this,e),n)}delete(e){return super.delete(tJ(this,e))}}function q3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function eJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rJ(t=Ro){if(t===Ro)return q5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function q5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aJ=Math.sqrt(50),iJ=Math.sqrt(10),sJ=Math.sqrt(2);function iv(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=aJ?10:s>=iJ?5:s>=sJ?2:1;let u,h,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(t*f),h=Math.round(e*f),u/f<t&&++u,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*l,u=Math.round(t/f),h=Math.round(e/f),u*f<t&&++u,h*f>e&&--h),h<u&&.5<=n&&n<2?iv(t,e,n*2):[u,h,f]}function X2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?iv(e,t,n):iv(t,e,n);if(!(s>=a))return[];const u=s-a+1,h=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)h[f]=(s-f)/-l;else for(let f=0;f<u;++f)h[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(a+f)/-l;else for(let f=0;f<u;++f)h[f]=(a+f)*l;return h}function Q2(t,e,n){return e=+e,t=+t,n=+n,iv(t,e,n)[2]}function Z2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Q2(e,t,n):Q2(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function F3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function H3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function F5(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?q5:rJ(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,m=Math.log(h),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(h-g)/h)*(f-h/2<0?-1:1),j=Math.max(n,Math.floor(e-f*g/h+y)),w=Math.min(r,Math.floor(e+(h-f)*g/h+y));F5(t,e,j,w,a)}const s=t[e];let l=n,u=r;for(kh(t,n,e),a(t[r],s)>0&&kh(t,n,r);l<u;){for(kh(t,l,u),++l,--u;a(t[l],s)<0;)++l;for(;a(t[u],s)>0;)--u}a(t[n],s)===0?kh(t,n,u):(++u,kh(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function kh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function oJ(t,e,n){if(t=Float64Array.from(ZZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return H3(t);if(e>=1)return F3(t);var r,a=(r-1)*e,s=Math.floor(a),l=F3(F5(t,s).subarray(0,s+1)),u=H3(t.subarray(s+1));return l+(u-l)*(a-s)}}function lJ(t,e,n=$5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(a-s)}}function cJ(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J2=Symbol("implicit");function a_(){var t=new $3,e=[],n=[],r=J2;function a(s){let l=t.get(s);if(l===void 0){if(r!==J2)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new $3;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return a_(e,n).unknown(r)},Ia.apply(a,arguments),a}function i_(){var t=a_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,u=!1,h=0,f=0,m=.5;delete t.unknown;function g(){var y=e().length,j=a<r,w=j?a:r,S=j?r:a;s=(S-w)/Math.max(1,y-h+f*2),u&&(s=Math.floor(s)),w+=(S-w-s*(y-h))*m,l=s*(1-h),u&&(w=Math.round(w),l=Math.round(l));var T=cJ(y).map(function(E){return w+s*E});return n(j?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(h=Math.min(1,f=+y),g()):h},t.paddingInner=function(y){return arguments.length?(h=Math.min(1,y),g()):h},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},t.copy=function(){return i_(e(),[r,a]).round(u).paddingInner(h).paddingOuter(f).align(m)},Ia.apply(g(),arguments)}function H5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return H5(e())},t}function uJ(){return H5(i_.apply(null,arguments).paddingInner(1))}function s_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function K5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qf(){}var jf=.7,sv=1/jf,Ru="\\s*([+-]?\\d+)\\s*",wf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dJ=/^#([0-9a-f]{3,8})$/,hJ=new RegExp(`^rgb\\(${Ru},${Ru},${Ru}\\)$`),fJ=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),mJ=new RegExp(`^rgba\\(${Ru},${Ru},${Ru},${wf}\\)$`),pJ=new RegExp(`^rgba\\(${_i},${_i},${_i},${wf}\\)$`),gJ=new RegExp(`^hsl\\(${wf},${_i},${_i}\\)$`),vJ=new RegExp(`^hsla\\(${wf},${_i},${_i},${wf}\\)$`),K3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s_(Qf,_f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G3,formatHex:G3,formatHex8:yJ,formatHsl:xJ,formatRgb:W3,toString:W3});function G3(){return this.rgb().formatHex()}function yJ(){return this.rgb().formatHex8()}function xJ(){return G5(this).formatHsl()}function W3(){return this.rgb().formatRgb()}function _f(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Y3(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hJ.exec(t))?new kr(e[1],e[2],e[3],1):(e=fJ.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mJ.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=pJ.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gJ.exec(t))?Z3(e[1],e[2]/100,e[3]/100,1):(e=vJ.exec(t))?Z3(e[1],e[2]/100,e[3]/100,e[4]):K3.hasOwnProperty(t)?Y3(K3[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function Y3(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function bJ(t){return t instanceof Qf||(t=_f(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function ej(t,e,n,r){return arguments.length===1?bJ(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}s_(kr,ej,K5(Qf,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(ec(this.r),ec(this.g),ec(this.b),ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X3,formatHex:X3,formatHex8:jJ,formatRgb:Q3,toString:Q3}));function X3(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function jJ(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q3(){const t=ov(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function Z3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Va(t,e,n,r)}function G5(t){if(t instanceof Va)return new Va(t.h,t.s,t.l,t.opacity);if(t instanceof Qf||(t=_f(t)),!t)return new Va;if(t instanceof Va)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-a,h=(s+a)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=h<.5?s+a:2-s-a,l*=60):u=h>0&&h<1?0:l,new Va(l,u,h,t.opacity)}function wJ(t,e,n,r){return arguments.length===1?G5(t):new Va(t,e,n,r??1)}function Va(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}s_(Va,wJ,K5(Qf,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Va(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new Va(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new kr(Sb(t>=240?t-240:t+120,a,r),Sb(t,a,r),Sb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Va(J3(this.h),Wp(this.s),Wp(this.l),ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ov(this.opacity);return`${t===1?"hsl(":"hsla("}${J3(this.h)}, ${Wp(this.s)*100}%, ${Wp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function J3(t){return t=(t||0)%360,t<0?t+360:t}function Wp(t){return Math.max(0,Math.min(1,t||0))}function Sb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const o_=t=>()=>t;function _J(t,e){return function(n){return t+n*e}}function SJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function TJ(t){return(t=+t)==1?W5:function(e,n){return n-e?SJ(e,n,t):o_(isNaN(e)?n:e)}}function W5(t,e){var n=e-t;return n?_J(t,n):o_(isNaN(t)?e:t)}const e6=function t(e){var n=TJ(e);function r(a,s){var l=n((a=ej(a)).r,(s=ej(s)).r),u=n(a.g,s.g),h=n(a.b,s.b),f=W5(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=h(m),a.opacity=f(m),a+""}}return r.gamma=t,r}(1);function EJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function AJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=dd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=a[l](u);return s}}function CJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function OJ(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=dd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var tj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(tj.source,"g");function IJ(t){return function(){return t}}function kJ(t){return function(e){return t(e)+""}}function PJ(t,e){var n=tj.lastIndex=Tb.lastIndex=0,r,a,s,l=-1,u=[],h=[];for(t=t+"",e=e+"";(r=tj.exec(t))&&(a=Tb.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,h.push({i:l,x:lv(r,a)})),n=Tb.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?h[0]?kJ(h[0].x):IJ(e):(e=h.length,function(f){for(var m=0,g;m<e;++m)u[(g=h[m]).i]=g.x(f);return u.join("")})}function dd(t,e){var n=typeof e,r;return e==null||n==="boolean"?o_(e):(n==="number"?lv:n==="string"?(r=_f(e))?(e=r,e6):PJ:e instanceof _f?e6:e instanceof Date?CJ:AJ(e)?EJ:Array.isArray(e)?NJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?OJ:lv)(t,e)}function l_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function RJ(t,e){e===void 0&&(e=t,t=dd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function DJ(t){return function(){return t}}function cv(t){return+t}var t6=[0,1];function wr(t){return t}function nj(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:DJ(isNaN(e)?NaN:.5)}function MJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function LJ(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=nj(a,r),s=n(l,s)):(r=nj(r,a),s=n(s,l)),function(u){return s(r(u))}}function BJ(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=nj(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var h=Xf(t,u,1,r)-1;return s[h](a[h](u))}}function Zf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xy(){var t=t6,e=t6,n=dd,r,a,s,l=wr,u,h,f;function m(){var y=Math.min(t.length,e.length);return l!==wr&&(l=MJ(t[0],t[y-1])),u=y>2?BJ:LJ,h=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(h||(h=u(t.map(r),e,n)))(r(l(y)))}return g.invert=function(y){return l(a((f||(f=u(e,t.map(r),lv)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,cv),m()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=l_,m()},g.clamp=function(y){return arguments.length?(l=y?!0:wr,m()):l!==wr},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,j){return r=y,a=j,m()}}function c_(){return xy()(wr,wr)}function UJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ku(t){return t=uv(Math.abs(t)),t?t[1]:NaN}function VJ(t,e){return function(n,r){for(var a=n.length,s=[],l=0,u=t[0],h=0;a>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),s.push(n.substring(a-=u,a+u)),!((h+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function zJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $J=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sf(t){if(!(e=$J.exec(t)))throw new Error("invalid format: "+t);var e;return new u_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sf.prototype=u_.prototype;function u_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}u_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qJ(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Y5;function FJ(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(Y5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+uv(t,Math.max(0,e+s-1))[0]}function n6(t,e){var n=uv(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const r6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>n6(t*100,e),r:n6,s:FJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function a6(t){return t}var i6=Array.prototype.map,s6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HJ(t){var e=t.grouping===void 0||t.thousands===void 0?a6:VJ(i6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?a6:zJ(i6.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(g){g=Sf(g);var y=g.fill,j=g.align,w=g.sign,S=g.symbol,T=g.zero,E=g.width,I=g.comma,N=g.precision,O=g.trim,D=g.type;D==="n"?(I=!0,D="g"):r6[D]||(N===void 0&&(N=12),O=!0,D="g"),(T||y==="0"&&j==="=")&&(T=!0,y="0",j="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",C=S==="$"?r:/[%p]/.test(D)?l:"",R=r6[D],B=/[defgprs%]/.test(D);N=N===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(L){var U=M,z=C,xe,ce,X;if(D==="c")z=R(L)+z,L="";else{L=+L;var se=L<0||1/L<0;if(L=isNaN(L)?h:R(Math.abs(L),N),O&&(L=qJ(L)),se&&+L==0&&w!=="+"&&(se=!1),U=(se?w==="("?w:u:w==="-"||w==="("?"":w)+U,z=(D==="s"?s6[8+Y5/3]:"")+z+(se&&w==="("?")":""),B){for(xe=-1,ce=L.length;++xe<ce;)if(X=L.charCodeAt(xe),48>X||X>57){z=(X===46?a+L.slice(xe+1):L.slice(xe))+z,L=L.slice(0,xe);break}}}I&&!T&&(L=e(L,1/0));var ge=U.length+L.length+z.length,Se=ge<E?new Array(E-ge+1).join(y):"";switch(I&&T&&(L=e(Se+L,Se.length?E-z.length:1/0),Se=""),j){case"<":L=U+L+z+Se;break;case"=":L=U+Se+L+z;break;case"^":L=Se.slice(0,ge=Se.length>>1)+U+L+z+Se.slice(ge);break;default:L=Se+U+L+z;break}return s(L)}return $.toString=function(){return g+""},$}function m(g,y){var j=f((g=Sf(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(Ku(y)/3)))*3,S=Math.pow(10,-w),T=s6[8+w/3];return function(E){return j(S*E)+T}}return{format:f,formatPrefix:m}}var Yp,d_,X5;KJ({thousands:",",grouping:[3],currency:["$",""]});function KJ(t){return Yp=HJ(t),d_=Yp.format,X5=Yp.formatPrefix,Yp}function GJ(t){return Math.max(0,-Ku(Math.abs(t)))}function WJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ku(e)/3)))*3-Ku(Math.abs(t)))}function YJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ku(e)-Ku(t))+1}function Q5(t,e,n,r){var a=Z2(t,e,n),s;switch(r=Sf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=WJ(a,l))&&(r.precision=s),X5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=YJ(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=GJ(a))&&(r.precision=s-(r.type==="%")*2);break}}return d_(r)}function tl(t){var e=t.domain;return t.ticks=function(n){var r=e();return X2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return Q5(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],u=r[s],h,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=Q2(l,u,n),f===h)return r[a]=l,r[s]=u,e(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return t},t}function Z5(){var t=c_();return t.copy=function(){return Zf(t,Z5())},Ia.apply(t,arguments),tl(t)}function J5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,cv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return J5(t).unknown(e)},t=arguments.length?Array.from(t,cv):[0,1],tl(n)}function eD(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function o6(t){return Math.log(t)}function l6(t){return Math.exp(t)}function XJ(t){return-Math.log(-t)}function QJ(t){return-Math.exp(-t)}function ZJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function JJ(t){return t===10?ZJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function c6(t){return(e,n)=>-t(-e,n)}function h_(t){const e=t(o6,l6),n=e.domain;let r=10,a,s;function l(){return a=eee(r),s=JJ(r),n()[0]<0?(a=c6(a),s=c6(s),t(XJ,QJ)):t(o6,l6),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const h=n();let f=h[0],m=h[h.length-1];const g=m<f;g&&([f,m]=[m,f]);let y=a(f),j=a(m),w,S;const T=u==null?10:+u;let E=[];if(!(r%1)&&j-y<T){if(y=Math.floor(y),j=Math.ceil(j),f>0){for(;y<=j;++y)for(w=1;w<r;++w)if(S=y<0?w/s(-y):w*s(y),!(S<f)){if(S>m)break;E.push(S)}}else for(;y<=j;++y)for(w=r-1;w>=1;--w)if(S=y>0?w/s(-y):w*s(y),!(S<f)){if(S>m)break;E.push(S)}E.length*2<T&&(E=X2(f,m,T))}else E=X2(y,j,Math.min(j-y,T)).map(s);return g?E.reverse():E},e.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Sf(h)).precision==null&&(h.trim=!0),h=d_(h)),u===1/0)return h;const f=Math.max(1,r*u/e.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*r<r-.5&&(g*=r),g<=f?h(m):""}},e.nice=()=>n(eD(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function tD(){const t=h_(xy()).domain([1,10]);return t.copy=()=>Zf(t,tD()).base(t.base()),Ia.apply(t,arguments),t}function u6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function f_(t){var e=1,n=t(u6(e),d6(e));return n.constant=function(r){return arguments.length?t(u6(e=+r),d6(e)):e},tl(n)}function nD(){var t=f_(xy());return t.copy=function(){return Zf(t,nD()).constant(t.constant())},Ia.apply(t,arguments)}function h6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nee(t){return t<0?-t*t:t*t}function m_(t){var e=t(wr,wr),n=1;function r(){return n===1?t(wr,wr):n===.5?t(tee,nee):t(h6(n),h6(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},tl(e)}function p_(){var t=m_(xy());return t.copy=function(){return Zf(t,p_()).exponent(t.exponent())},Ia.apply(t,arguments),t}function ree(){return p_.apply(null,arguments).exponent(.5)}function f6(t){return Math.sign(t)*t*t}function aee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rD(){var t=c_(),e=[0,1],n=!1,r;function a(s){var l=aee(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(f6(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,cv)).map(f6)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return rD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ia.apply(a,arguments),tl(a)}function aD(){var t=[],e=[],n=[],r;function a(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=lJ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Xf(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ro),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return aD().domain(t).range(e).unknown(r)},Ia.apply(s,arguments)}function iD(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(h){return h!=null&&h<=h?a[Xf(r,h,0,n)]:s}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return l}return l.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,u()):[t,e]},l.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,u()):a.slice()},l.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(s=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return iD().domain([t,e]).range(a).unknown(s)},Ia.apply(tl(l),arguments)}function sD(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Xf(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return sD().domain(t).range(e).unknown(n)},Ia.apply(a,arguments)}const Eb=new Date,Ab=new Date;function kn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const h=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return h;let f;do h.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<l);return h},a.filter=s=>kn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(Eb.setTime(+s),Ab.setTime(+l),t(Eb),t(Ab),Math.floor(n(Eb,Ab))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const dv=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dv);dv.range;const ds=1e3,Sa=ds*60,hs=Sa*60,Is=hs*24,g_=Is*7,m6=Is*30,Nb=Is*365,Wl=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCSeconds());Wl.range;const v_=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getMinutes());v_.range;const y_=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCMinutes());y_.range;const x_=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds-t.getMinutes()*Sa)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getHours());x_.range;const b_=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCHours());b_.range;const Jf=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sa)/Is,t=>t.getDate()-1);Jf.range;const by=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Is,t=>t.getUTCDate()-1);by.range;const oD=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Is,t=>Math.floor(t/Is));oD.range;function wc(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Sa)/g_)}const jy=wc(0),hv=wc(1),iee=wc(2),see=wc(3),Gu=wc(4),oee=wc(5),lee=wc(6);jy.range;hv.range;iee.range;see.range;Gu.range;oee.range;lee.range;function _c(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/g_)}const wy=_c(0),fv=_c(1),cee=_c(2),uee=_c(3),Wu=_c(4),dee=_c(5),hee=_c(6);wy.range;fv.range;cee.range;uee.range;Wu.range;dee.range;hee.range;const j_=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());j_.range;const w_=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());w_.range;const ks=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ks.range;const Ps=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ps.range;function lD(t,e,n,r,a,s){const l=[[Wl,1,ds],[Wl,5,5*ds],[Wl,15,15*ds],[Wl,30,30*ds],[s,1,Sa],[s,5,5*Sa],[s,15,15*Sa],[s,30,30*Sa],[a,1,hs],[a,3,3*hs],[a,6,6*hs],[a,12,12*hs],[r,1,Is],[r,2,2*Is],[n,1,g_],[e,1,m6],[e,3,3*m6],[t,1,Nb]];function u(f,m,g){const y=m<f;y&&([f,m]=[m,f]);const j=g&&typeof g.range=="function"?g:h(f,m,g),w=j?j.range(f,+m+1):[];return y?w.reverse():w}function h(f,m,g){const y=Math.abs(m-f)/g,j=r_(([,,T])=>T).right(l,y);if(j===l.length)return t.every(Z2(f/Nb,m/Nb,g));if(j===0)return dv.every(Math.max(Z2(f,m,g),1));const[w,S]=l[y/l[j-1][2]<l[j][2]/y?j-1:j];return w.every(S)}return[u,h]}const[fee,mee]=lD(Ps,w_,wy,oD,b_,y_),[pee,gee]=lD(ks,j_,jy,Jf,x_,v_);function Cb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ob(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ph(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vee(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,h=t.shortMonths,f=Rh(a),m=Dh(a),g=Rh(s),y=Dh(s),j=Rh(l),w=Dh(l),S=Rh(u),T=Dh(u),E=Rh(h),I=Dh(h),N={a:se,A:ge,b:Se,B:H,c:null,d:b6,e:b6,f:Vee,g:Xee,G:Zee,H:Lee,I:Bee,j:Uee,L:cD,m:zee,M:$ee,p:ae,q:F,Q:_6,s:S6,S:qee,u:Fee,U:Hee,V:Kee,w:Gee,W:Wee,x:null,X:null,y:Yee,Y:Qee,Z:Jee,"%":w6},O={a:G,A:ve,b:Q,B:fe,c:null,d:j6,e:j6,f:rte,g:fte,G:pte,H:ete,I:tte,j:nte,L:dD,m:ate,M:ite,p:Ae,q:Me,Q:_6,s:S6,S:ste,u:ote,U:lte,V:cte,w:ute,W:dte,x:null,X:null,y:hte,Y:mte,Z:gte,"%":w6},D={a:$,A:L,b:U,B:z,c:xe,d:y6,e:y6,f:Pee,g:v6,G:g6,H:x6,I:x6,j:Cee,L:kee,m:Nee,M:Oee,p:B,q:Aee,Q:Dee,s:Mee,S:Iee,u:wee,U:_ee,V:See,w:jee,W:Tee,x:ce,X,y:v6,Y:g6,Z:Eee,"%":Ree};N.x=M(n,N),N.X=M(r,N),N.c=M(e,N),O.x=M(n,O),O.X=M(r,O),O.c=M(e,O);function M(be,Be){return function(le){var Z=[],Te=-1,we=0,Ue=be.length,Re,Qe,un;for(le instanceof Date||(le=new Date(+le));++Te<Ue;)be.charCodeAt(Te)===37&&(Z.push(be.slice(we,Te)),(Qe=p6[Re=be.charAt(++Te)])!=null?Re=be.charAt(++Te):Qe=Re==="e"?" ":"0",(un=Be[Re])&&(Re=un(le,Qe)),Z.push(Re),we=Te+1);return Z.push(be.slice(we,Te)),Z.join("")}}function C(be,Be){return function(le){var Z=Ph(1900,void 0,1),Te=R(Z,be,le+="",0),we,Ue;if(Te!=le.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Be&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(we=Ob(Ph(Z.y,0,1)),Ue=we.getUTCDay(),we=Ue>4||Ue===0?fv.ceil(we):fv(we),we=by.offset(we,(Z.V-1)*7),Z.y=we.getUTCFullYear(),Z.m=we.getUTCMonth(),Z.d=we.getUTCDate()+(Z.w+6)%7):(we=Cb(Ph(Z.y,0,1)),Ue=we.getDay(),we=Ue>4||Ue===0?hv.ceil(we):hv(we),we=Jf.offset(we,(Z.V-1)*7),Z.y=we.getFullYear(),Z.m=we.getMonth(),Z.d=we.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ue="Z"in Z?Ob(Ph(Z.y,0,1)).getUTCDay():Cb(Ph(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ue+5)%7:Z.w+Z.U*7-(Ue+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Ob(Z)):Cb(Z)}}function R(be,Be,le,Z){for(var Te=0,we=Be.length,Ue=le.length,Re,Qe;Te<we;){if(Z>=Ue)return-1;if(Re=Be.charCodeAt(Te++),Re===37){if(Re=Be.charAt(Te++),Qe=D[Re in p6?Be.charAt(Te++):Re],!Qe||(Z=Qe(be,le,Z))<0)return-1}else if(Re!=le.charCodeAt(Z++))return-1}return Z}function B(be,Be,le){var Z=f.exec(Be.slice(le));return Z?(be.p=m.get(Z[0].toLowerCase()),le+Z[0].length):-1}function $(be,Be,le){var Z=j.exec(Be.slice(le));return Z?(be.w=w.get(Z[0].toLowerCase()),le+Z[0].length):-1}function L(be,Be,le){var Z=g.exec(Be.slice(le));return Z?(be.w=y.get(Z[0].toLowerCase()),le+Z[0].length):-1}function U(be,Be,le){var Z=E.exec(Be.slice(le));return Z?(be.m=I.get(Z[0].toLowerCase()),le+Z[0].length):-1}function z(be,Be,le){var Z=S.exec(Be.slice(le));return Z?(be.m=T.get(Z[0].toLowerCase()),le+Z[0].length):-1}function xe(be,Be,le){return R(be,e,Be,le)}function ce(be,Be,le){return R(be,n,Be,le)}function X(be,Be,le){return R(be,r,Be,le)}function se(be){return l[be.getDay()]}function ge(be){return s[be.getDay()]}function Se(be){return h[be.getMonth()]}function H(be){return u[be.getMonth()]}function ae(be){return a[+(be.getHours()>=12)]}function F(be){return 1+~~(be.getMonth()/3)}function G(be){return l[be.getUTCDay()]}function ve(be){return s[be.getUTCDay()]}function Q(be){return h[be.getUTCMonth()]}function fe(be){return u[be.getUTCMonth()]}function Ae(be){return a[+(be.getUTCHours()>=12)]}function Me(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Be=M(be+="",N);return Be.toString=function(){return be},Be},parse:function(be){var Be=C(be+="",!1);return Be.toString=function(){return be},Be},utcFormat:function(be){var Be=M(be+="",O);return Be.toString=function(){return be},Be},utcParse:function(be){var Be=C(be+="",!0);return Be.toString=function(){return be},Be}}}var p6={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,yee=/^%/,xee=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function bee(t){return t.replace(xee,"\\$&")}function Rh(t){return new RegExp("^(?:"+t.map(bee).join("|")+")","i")}function Dh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function jee(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _ee(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function See(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Tee(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function g6(t,e,n){var r=Fn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v6(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aee(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nee(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y6(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cee(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Oee(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Iee(t,e,n){var r=Fn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kee(t,e,n){var r=Fn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pee(t,e,n){var r=Fn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ree(t,e,n){var r=yee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dee(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mee(t,e,n){var r=Fn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function b6(t,e){return vt(t.getDate(),e,2)}function Lee(t,e){return vt(t.getHours(),e,2)}function Bee(t,e){return vt(t.getHours()%12||12,e,2)}function Uee(t,e){return vt(1+Jf.count(ks(t),t),e,3)}function cD(t,e){return vt(t.getMilliseconds(),e,3)}function Vee(t,e){return cD(t,e)+"000"}function zee(t,e){return vt(t.getMonth()+1,e,2)}function $ee(t,e){return vt(t.getMinutes(),e,2)}function qee(t,e){return vt(t.getSeconds(),e,2)}function Fee(t){var e=t.getDay();return e===0?7:e}function Hee(t,e){return vt(jy.count(ks(t)-1,t),e,2)}function uD(t){var e=t.getDay();return e>=4||e===0?Gu(t):Gu.ceil(t)}function Kee(t,e){return t=uD(t),vt(Gu.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function Gee(t){return t.getDay()}function Wee(t,e){return vt(hv.count(ks(t)-1,t),e,2)}function Yee(t,e){return vt(t.getFullYear()%100,e,2)}function Xee(t,e){return t=uD(t),vt(t.getFullYear()%100,e,2)}function Qee(t,e){return vt(t.getFullYear()%1e4,e,4)}function Zee(t,e){var n=t.getDay();return t=n>=4||n===0?Gu(t):Gu.ceil(t),vt(t.getFullYear()%1e4,e,4)}function Jee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function j6(t,e){return vt(t.getUTCDate(),e,2)}function ete(t,e){return vt(t.getUTCHours(),e,2)}function tte(t,e){return vt(t.getUTCHours()%12||12,e,2)}function nte(t,e){return vt(1+by.count(Ps(t),t),e,3)}function dD(t,e){return vt(t.getUTCMilliseconds(),e,3)}function rte(t,e){return dD(t,e)+"000"}function ate(t,e){return vt(t.getUTCMonth()+1,e,2)}function ite(t,e){return vt(t.getUTCMinutes(),e,2)}function ste(t,e){return vt(t.getUTCSeconds(),e,2)}function ote(t){var e=t.getUTCDay();return e===0?7:e}function lte(t,e){return vt(wy.count(Ps(t)-1,t),e,2)}function hD(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function cte(t,e){return t=hD(t),vt(Wu.count(Ps(t),t)+(Ps(t).getUTCDay()===4),e,2)}function ute(t){return t.getUTCDay()}function dte(t,e){return vt(fv.count(Ps(t)-1,t),e,2)}function hte(t,e){return vt(t.getUTCFullYear()%100,e,2)}function fte(t,e){return t=hD(t),vt(t.getUTCFullYear()%100,e,2)}function mte(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function pte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wu(t):Wu.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function gte(){return"+0000"}function w6(){return"%"}function _6(t){return+t}function S6(t){return Math.floor(+t/1e3)}var yu,fD,mD;vte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vte(t){return yu=vee(t),fD=yu.format,yu.parse,mD=yu.utcFormat,yu.utcParse,yu}function yte(t){return new Date(t)}function xte(t){return t instanceof Date?+t:+new Date(+t)}function __(t,e,n,r,a,s,l,u,h,f){var m=c_(),g=m.invert,y=m.domain,j=f(".%L"),w=f(":%S"),S=f("%I:%M"),T=f("%I %p"),E=f("%a %d"),I=f("%b %d"),N=f("%B"),O=f("%Y");function D(M){return(h(M)<M?j:u(M)<M?w:l(M)<M?S:s(M)<M?T:r(M)<M?a(M)<M?E:I:n(M)<M?N:O)(M)}return m.invert=function(M){return new Date(g(M))},m.domain=function(M){return arguments.length?y(Array.from(M,xte)):y().map(yte)},m.ticks=function(M){var C=y();return t(C[0],C[C.length-1],M??10)},m.tickFormat=function(M,C){return C==null?D:f(C)},m.nice=function(M){var C=y();return(!M||typeof M.range!="function")&&(M=e(C[0],C[C.length-1],M??10)),M?y(eD(C,M)):m},m.copy=function(){return Zf(m,__(t,e,n,r,a,s,l,u,h,f))},m}function bte(){return Ia.apply(__(pee,gee,ks,j_,jy,Jf,x_,v_,Wl,fD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jte(){return Ia.apply(__(fee,mee,Ps,w_,wy,by,b_,y_,Wl,mD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _y(){var t=0,e=1,n,r,a,s,l=wr,u=!1,h;function f(g){return g==null||isNaN(g=+g)?h:l(a===0?.5:(g=(s(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(y){var j,w;return arguments.length?([j,w]=y,l=g(j,w),f):[l(0),l(1)]}}return f.range=m(dd),f.rangeRound=m(l_),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pD(){var t=tl(_y()(wr));return t.copy=function(){return nl(t,pD())},Bs.apply(t,arguments)}function gD(){var t=h_(_y()).domain([1,10]);return t.copy=function(){return nl(t,gD()).base(t.base())},Bs.apply(t,arguments)}function vD(){var t=f_(_y());return t.copy=function(){return nl(t,vD()).constant(t.constant())},Bs.apply(t,arguments)}function S_(){var t=m_(_y());return t.copy=function(){return nl(t,S_()).exponent(t.exponent())},Bs.apply(t,arguments)}function wte(){return S_.apply(null,arguments).exponent(.5)}function yD(){var t=[],e=wr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Xf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ro),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>oJ(t,s/r))},n.copy=function(){return yD(e).domain(t)},Bs.apply(n,arguments)}function Sy(){var t=0,e=.5,n=1,r=1,a,s,l,u,h,f=wr,m,g=!1,y;function j(S){return isNaN(S=+S)?y:(S=.5+((S=+m(S))-s)*(r*S<r*s?u:h),f(g?Math.max(0,Math.min(1,S)):S))}j.domain=function(S){return arguments.length?([t,e,n]=S,a=m(t=+t),s=m(e=+e),l=m(n=+n),u=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,j):[t,e,n]},j.clamp=function(S){return arguments.length?(g=!!S,j):g},j.interpolator=function(S){return arguments.length?(f=S,j):f};function w(S){return function(T){var E,I,N;return arguments.length?([E,I,N]=T,f=RJ(S,[E,I,N]),j):[f(0),f(.5),f(1)]}}return j.range=w(dd),j.rangeRound=w(l_),j.unknown=function(S){return arguments.length?(y=S,j):y},function(S){return m=S,a=S(t),s=S(e),l=S(n),u=a===s?0:.5/(s-a),h=s===l?0:.5/(l-s),r=s<a?-1:1,j}}function xD(){var t=tl(Sy()(wr));return t.copy=function(){return nl(t,xD())},Bs.apply(t,arguments)}function bD(){var t=h_(Sy()).domain([.1,1,10]);return t.copy=function(){return nl(t,bD()).base(t.base())},Bs.apply(t,arguments)}function jD(){var t=f_(Sy());return t.copy=function(){return nl(t,jD()).constant(t.constant())},Bs.apply(t,arguments)}function T_(){var t=m_(Sy());return t.copy=function(){return nl(t,T_()).exponent(t.exponent())},Bs.apply(t,arguments)}function _te(){return T_.apply(null,arguments).exponent(.5)}const Fh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:i_,scaleDiverging:xD,scaleDivergingLog:bD,scaleDivergingPow:T_,scaleDivergingSqrt:_te,scaleDivergingSymlog:jD,scaleIdentity:J5,scaleImplicit:J2,scaleLinear:Z5,scaleLog:tD,scaleOrdinal:a_,scalePoint:uJ,scalePow:p_,scaleQuantile:aD,scaleQuantize:iD,scaleRadial:rD,scaleSequential:pD,scaleSequentialLog:gD,scaleSequentialPow:S_,scaleSequentialQuantile:yD,scaleSequentialSqrt:wte,scaleSequentialSymlog:vD,scaleSqrt:ree,scaleSymlog:nD,scaleThreshold:sD,scaleTime:bte,scaleUtc:jte,tickFormat:Q5},Symbol.toStringTag,{value:"Module"}));var Sc=t=>t.chartData,E_=ie([Sc],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ty=(t,e,n,r)=>r?E_(t):Sc(t);function Yu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(na(e)&&na(n))return!0}return!1}function T6(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Ste(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(na(n))a=n;else if(typeof n=="function")return;if(na(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(Yu(l))return l}}function Tte(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Yu(r))return T6(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,u;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Oe(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&m3.test(a)){var h=m3.exec(a);if(h==null||e==null)l=void 0;else{var f=+h[1];l=e[0]-f}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Oe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&p3.test(s)){var m=p3.exec(s);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e?.[1];var y=[l,u];if(Yu(y))return e==null?y:T6(y,e,n)}}}var hd=1e9,Ete={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N_,Ft=!0,Na="[DecimalError] ",tc=Na+"Invalid argument: ",A_=Na+"Exponent out of range: ",fd=Math.floor,$l=Math.pow,Ate=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,Vn=1e7,Vt=7,wD=9007199254740991,mv=fd(wD/Vt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return xs(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Dt(xs(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return bn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yr))throw Error(Na+"NaN");if(n.s<1)throw Error(Na+(n.s?"NaN":"-Infinity"));return n.eq(Yr)?new r(0):(Ft=!1,e=xs(Tf(n,s),Tf(t,s),s),Ft=!0,Dt(e,a))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TD(e,t):_D(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Na+"NaN");return n.s?(Ft=!1,e=xs(n,t,0,1).times(t),Ft=!0,n.minus(e)):Dt(new r(n),a)};Ce.naturalExponential=Ce.exp=function(){return SD(this)};Ce.naturalLogarithm=Ce.ln=function(){return Tf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_D(e,t):TD(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=bn(a)+1,r=a.d.length-1,n=r*Vt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,a,s,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Na+"NaN")}for(t=bn(u),Ft=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=pi(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=fd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=l=n+3;;)if(s=r,r=s.plus(xs(u,s,l+2)).times(.5),pi(s.d).slice(0,l)===(e=pi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Ft=!0,Dt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,a,s,l,u,h,f,m=this,g=m.constructor,y=m.d,j=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,h=y.length,f=j.length,h<f&&(s=y,y=j,j=s,l=h,h=f,f=l),s=[],l=h+f,r=l;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)u=s[a]+j[r]*y[a-r-1]+e,s[a--]=u%Vn|0,e=u/Vn|0;s[a]=(s[a]+e)%Vn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ft?Dt(t,g.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ai(t,0,hd),e===void 0?e=r.rounding:Ai(e,0,8),Dt(n,t+bn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=hc(r,!0):(Ai(t,0,hd),e===void 0?e=a.rounding:Ai(e,0,8),r=Dt(new a(r),t+1,e),n=hc(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?hc(a):(Ai(t,0,hd),e===void 0?e=s.rounding:Ai(e,0,8),r=Dt(new s(a),t+bn(a)+1,e),n=hc(r.abs(),!1,t+bn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),bn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,a,s,l,u=this,h=u.constructor,f=12,m=+(t=new h(t));if(!t.s)return new h(Yr);if(u=new h(u),!u.s){if(t.s<1)throw Error(Na+"Infinity");return u}if(u.eq(Yr))return u;if(r=h.precision,t.eq(Yr))return Dt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=m<0?-m:m)<=wD){for(a=new h(Yr),e=Math.ceil(r/Vt+4),Ft=!1;n%2&&(a=a.times(u),A6(a.d,e)),n=fd(n/2),n!==0;)u=u.times(u),A6(u.d,e);return Ft=!0,t.s<0?new h(Yr).div(a):Dt(a,r)}}else if(s<0)throw Error(Na+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ft=!1,a=t.times(Tf(u,r+f)),Ft=!0,a=SD(a),a.s=s,a};Ce.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=bn(a),r=hc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Ai(t,1,hd),e===void 0?e=s.rounding:Ai(e,0,8),a=Dt(new s(a),t,e),n=bn(a),r=hc(a,t<=n||n<=s.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ai(t,1,hd),e===void 0?e=r.rounding:Ai(e,0,8)),Dt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bn(t),n=t.constructor;return hc(t,e<=n.toExpNeg||e>=n.toExpPos)};function _D(t,e){var n,r,a,s,l,u,h,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Ft?Dt(e,g):e;if(h=t.d,f=e.d,l=t.e,a=e.e,h=h.slice(),s=l-a,s){for(s<0?(r=h,s=-s,u=f.length):(r=f,a=l,u=h.length),l=Math.ceil(g/Vt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=h.length,s=f.length,u-s<0&&(s=u,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/Vn|0,h[s]%=Vn;for(n&&(h.unshift(n),++a),u=h.length;h[--u]==0;)h.pop();return e.d=h,e.e=a,Ft?Dt(e,g):e}function Ai(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function pi(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=Vt-r.length,n&&(s+=xo(n)),s+=r;l=t[e],r=l+"",n=Vt-r.length,n&&(s+=xo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var xs=function(){function t(r,a){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+l,r[u]=s%Vn|0,l=s/Vn|0;return l&&r.unshift(l),r}function e(r,a,s,l){var u,h;if(s!=l)h=s>l?1:-1;else for(u=h=0;u<s;u++)if(r[u]!=a[u]){h=r[u]>a[u]?1:-1;break}return h}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*Vn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var u,h,f,m,g,y,j,w,S,T,E,I,N,O,D,M,C,R,B=r.constructor,$=r.s==a.s?1:-1,L=r.d,U=a.d;if(!r.s)return new B(r);if(!a.s)throw Error(Na+"Division by zero");for(h=r.e-a.e,C=U.length,D=L.length,j=new B($),w=j.d=[],f=0;U[f]==(L[f]||0);)++f;if(U[f]>(L[f]||0)&&--h,s==null?I=s=B.precision:l?I=s+(bn(r)-bn(a))+1:I=s,I<0)return new B(0);if(I=I/Vt+2|0,f=0,C==1)for(m=0,U=U[0],I++;(f<D||m)&&I--;f++)N=m*Vn+(L[f]||0),w[f]=N/U|0,m=N%U|0;else{for(m=Vn/(U[0]+1)|0,m>1&&(U=t(U,m),L=t(L,m),C=U.length,D=L.length),O=C,S=L.slice(0,C),T=S.length;T<C;)S[T++]=0;R=U.slice(),R.unshift(0),M=U[0],U[1]>=Vn/2&&++M;do m=0,u=e(U,S,C,T),u<0?(E=S[0],C!=T&&(E=E*Vn+(S[1]||0)),m=E/M|0,m>1?(m>=Vn&&(m=Vn-1),g=t(U,m),y=g.length,T=S.length,u=e(g,S,y,T),u==1&&(m--,n(g,C<y?R:U,y))):(m==0&&(u=m=1),g=U.slice()),y=g.length,y<T&&g.unshift(0),n(S,g,T),u==-1&&(T=S.length,u=e(U,S,C,T),u<1&&(m++,n(S,C<T?R:U,T))),T=S.length):u===0&&(m++,S=[0]),w[f++]=m,u&&S[0]?S[T++]=L[O]||0:(S=[L[O]],T=1);while((O++<D||S[0]!==void 0)&&I--)}return w[0]||w.shift(),j.e=h,Dt(j,l?s+bn(j)+1:s)}}();function SD(t,e){var n,r,a,s,l,u,h=0,f=0,m=t.constructor,g=m.precision;if(bn(t)>16)throw Error(A_+bn(t));if(!t.s)return new m(Yr);for(Ft=!1,u=g,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(r=Math.log($l(2,f))/Math.LN10*2+5|0,u+=r,n=a=s=new m(Yr),m.precision=u;;){if(a=Dt(a.times(t),u),n=n.times(++h),l=s.plus(xs(a,n,u)),pi(l.d).slice(0,u)===pi(s.d).slice(0,u)){for(;f--;)s=Dt(s.times(s),u);return m.precision=g,e==null?(Ft=!0,Dt(s,g)):s}s=l}}function bn(t){for(var e=t.e*Vt,n=t.d[0];n>=10;n/=10)e++;return e}function Ib(t,e,n){if(e>t.LN10.sd())throw Ft=!0,n&&(t.precision=n),Error(Na+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function xo(t){for(var e="";t--;)e+="0";return e}function Tf(t,e){var n,r,a,s,l,u,h,f,m,g=1,y=10,j=t,w=j.d,S=j.constructor,T=S.precision;if(j.s<1)throw Error(Na+(j.s?"NaN":"-Infinity"));if(j.eq(Yr))return new S(0);if(e==null?(Ft=!1,f=T):f=e,j.eq(10))return e==null&&(Ft=!0),Ib(S,f);if(f+=y,S.precision=f,n=pi(w),r=n.charAt(0),s=bn(j),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)j=j.times(t),n=pi(j.d),r=n.charAt(0),g++;s=bn(j),r>1?(j=new S("0."+n),s++):j=new S(r+"."+n.slice(1))}else return h=Ib(S,f+2,T).times(s+""),j=Tf(new S(r+"."+n.slice(1)),f-y).plus(h),S.precision=T,e==null?(Ft=!0,Dt(j,T)):j;for(u=l=j=xs(j.minus(Yr),j.plus(Yr),f),m=Dt(j.times(j),f),a=3;;){if(l=Dt(l.times(m),f),h=u.plus(xs(l,new S(a),f)),pi(h.d).slice(0,f)===pi(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(Ib(S,f+2,T).times(s+""))),u=xs(u,new S(g),f),S.precision=T,e==null?(Ft=!0,Dt(u,T)):u;u=h,a+=2}}function E6(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=fd(n/Vt),t.d=[],r=(n+1)%Vt,n<0&&(r+=Vt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Vt;r<a;)t.d.push(+e.slice(r,r+=Vt));e=e.slice(r),r=Vt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ft&&(t.e>mv||t.e<-mv))throw Error(A_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,a,s,l,u,h,f,m,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Vt,a=e,f=g[m=0];else{if(m=Math.ceil((r+1)/Vt),s=g.length,m>=s)return t;for(f=s=g[m],l=1;s>=10;s/=10)l++;r%=Vt,a=r-Vt+l}if(n!==void 0&&(s=$l(10,l-a-1),u=f/s%10|0,h=e<0||g[m+1]!==void 0||f%s,h=n<4?(u||h)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?a>0?f/$l(10,l-a):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return h?(s=bn(t),g.length=1,e=e-s-1,g[0]=$l(10,(Vt-e%Vt)%Vt),t.e=fd(-e/Vt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=$l(10,Vt-r),g[m]=a>0?(f/$l(10,l-a)%$l(10,a)|0)*s:0),h)for(;;)if(m==0){(g[0]+=s)==Vn&&(g[0]=1,++t.e);break}else{if(g[m]+=s,g[m]!=Vn)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ft&&(t.e>mv||t.e<-mv))throw Error(A_+bn(t));return t}function TD(t,e){var n,r,a,s,l,u,h,f,m,g,y=t.constructor,j=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ft?Dt(e,j):e;if(h=t.d,g=e.d,r=e.e,f=t.e,h=h.slice(),l=f-r,l){for(m=l<0,m?(n=h,l=-l,u=g.length):(n=g,r=f,u=h.length),a=Math.max(Math.ceil(j/Vt),u)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=h.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(h[a]!=g[a]){m=h[a]<g[a];break}l=0}for(m&&(n=h,h=g,g=n,e.s=-e.s),u=h.length,a=g.length-u;a>0;--a)h[u++]=0;for(a=g.length;a>l;){if(h[--a]<g[a]){for(s=a;s&&h[--s]===0;)h[s]=Vn-1;--h[s],h[a]+=Vn}h[a]-=g[a]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,Ft?Dt(e,j):e):new y(0)}function hc(t,e,n){var r,a=bn(t),s=pi(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+xo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+xo(-a-1)+s,n&&(r=n-l)>0&&(s+=xo(r))):a>=l?(s+=xo(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+xo(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=xo(r))),t.s<0?"-"+s:s}function A6(t,e){if(t.length>e)return t.length=e,!0}function ED(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return E6(l,s.toString())}else if(typeof s!="string")throw Error(tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Ate.test(s))E6(l,s);else throw Error(tc+s)}if(a.prototype=Ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ED,a.config=a.set=Nte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function Nte(t){if(!t||typeof t!="object")throw Error(Na+"Object expected");var e,n,r,a=["precision",1,hd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(fd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var N_=ED(Ete);Yr=new N_(1);const Tt=N_;var Cte=t=>t,AD={},ND=t=>t===AD,N6=t=>function e(){return arguments.length===0||arguments.length===1&&ND(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},CD=(t,e)=>t===1?e:N6(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==AD).length;return s>=t?e(...r):CD(t-s,N6(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=r.map(m=>ND(m)?u.shift():m);return e(...f,...u)}))}),Ey=t=>CD(t.length,t),rj=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Ote=Ey((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Ite=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Cte;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,h)=>h(u),s(...arguments))}},aj=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),OD=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e&&a.every((l,u)=>{var h;return l===((h=e)===null||h===void 0?void 0:h[u])})||(e=a,n=t(...a)),n}};function ID(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function kD(t,e,n){for(var r=new Tt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}Ey((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});Ey((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Ey((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var PD=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},RD=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=ID(t.toNumber()),a=new Tt(10).pow(r),s=t.div(a),l=r!==1?.05:.1,u=new Tt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),h=u.mul(a);return e?new Tt(h.toNumber()):new Tt(Math.ceil(h.toNumber()))},kte=(t,e,n)=>{var r=new Tt(1),a=new Tt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(ID(t)-1),a=new Tt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Tt(Math.floor(t)))}else t===0?a=new Tt(Math.floor((e-1)/2)):n||(a=new Tt(Math.floor(t)));var l=Math.floor((e-1)/2),u=Ite(Ote(h=>a.add(new Tt(h-l).mul(r)).toNumber()),rj);return u(0,e)},DD=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var l=RD(new Tt(n).sub(e).div(r-1),a,s),u;e<=0&&n>=0?u=new Tt(0):(u=new Tt(e).add(n).div(2),u=u.sub(new Tt(u).mod(l)));var h=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new Tt(n).sub(u).div(l).toNumber()),m=h+f+1;return m>r?DD(e,n,r,a,s+1):(m<r&&(f=n>0?f+(r-m):f,h=n>0?h:h+(r-m)),{step:l,tickMin:u.sub(new Tt(h).mul(l)),tickMax:u.add(new Tt(f).mul(l))})};function Pte(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,u]=PD([e,n]);if(l===-1/0||u===1/0){var h=u===1/0?[l,...rj(0,r-1).map(()=>1/0)]:[...rj(0,r-1).map(()=>-1/0),u];return e>n?aj(h):h}if(l===u)return kte(l,r,a);var{step:f,tickMin:m,tickMax:g}=DD(l,u,s,a,0),y=kD(m,g.add(new Tt(.1).mul(f)),f);return e>n?aj(y):y}function Rte(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=PD([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var u=Math.max(e,2),h=RD(new Tt(l).sub(s).div(u-1),a,0),f=[...kD(new Tt(s),new Tt(l),h),l];return a===!1&&(f=f.map(m=>Math.round(m))),n>r?aj(f):f}var Dte=OD(Pte),Mte=OD(Rte),MD=t=>t.rootProps.maxBarSize,Lte=t=>t.rootProps.barGap,LD=t=>t.rootProps.barCategoryGap,Bte=t=>t.rootProps.barSize,em=t=>t.rootProps.stackOffset,C_=t=>t.options.chartName,O_=t=>t.rootProps.syncId,BD=t=>t.rootProps.syncMethod,I_=t=>t.options.eventEmitter,is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ay=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Ute={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:is.reversed,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:is.type,unit:void 0},Vte={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:Kr.type,unit:void 0},zte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$te={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,ticks:void 0,type:"category",unit:void 0},k_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?zte:Ute,P_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?$te:Vte,Ny=t=>t.polarOptions,R_=ie([Ms,Ls,In],j5),UD=ie([Ny,R_],(t,e)=>{if(t!=null)return _r(t.innerRadius,e,0)}),VD=ie([Ny,R_],(t,e)=>{if(t!=null)return _r(t.outerRadius,e,e*.8)}),qte=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},zD=ie([Ny],qte);ie([k_,zD],Ay);var $D=ie([R_,UD,VD],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([P_,$D],Ay);var Fte=ie([xt,Ny,UD,VD,Ms,Ls],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:h,endAngle:f}=e;return{cx:_r(l,a,a/2),cy:_r(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),ln=(t,e)=>e,tm=(t,e,n)=>n;function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ij=[0,"auto"],qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Us=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??qr},Fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ij,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:my},rl=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Fr},No={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??No},cn=(t,e,n)=>{switch(e){case"xAxis":return Us(t,n);case"yAxis":return rl(t,n);case"zAxis":return D_(t,n);case"angleAxis":return k_(t,n);case"radiusAxis":return P_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Wte=(t,e,n)=>{switch(e){case"xAxis":return Us(t,n);case"yAxis":return rl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nm=(t,e,n)=>{switch(e){case"xAxis":return Us(t,n);case"yAxis":return rl(t,n);case"angleAxis":return k_(t,n);case"radiusAxis":return P_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qD=t=>t.graphicalItems.countOfBars>0;function M_(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var rm=t=>t.graphicalItems.cartesianItems,Yte=ie([ln,tm],M_),L_=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),am=ie([rm,cn,Yte],L_),FD=t=>t.filter(e=>e.stackId===void 0),Xte=ie([am],FD),B_=t=>t.map(e=>e.data).filter(Boolean).flat(1),Qte=ie([am],B_),U_=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},Cy=ie([Qte,Ty],U_),V_=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Et(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Et(a,r)}))):t.map(r=>({value:r})),Oy=ie([Cy,cn,am],V_);function HD(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Tc(t){return t.filter(e=>Ei(e)||e instanceof Date).map(Number).filter(e=>Jr(e)===!1)}function Zte(t,e,n){return!n||typeof e!="number"||Jr(e)?[]:n.length?Tc(n.flatMap(r=>{var a=Et(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!na(s)||!na(l)))return[e-s,e+l]})):[]}var KD=(t,e,n)=>{var r={},a=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[l,u]=s,h=u.map(f=>f.dataKey);return[l,{stackedData:fQ(t,h,n),graphicalItems:u}]}))},sj=ie([Cy,am,em],KD),GD=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var s=vQ(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Jte=ie([sj,Sc,ln],GD),WD=(t,e,n,r)=>n.length>0?t.flatMap(a=>n.flatMap(s=>{var l,u,h=(l=s.errorBars)===null||l===void 0?void 0:l.filter(m=>HD(r,m)),f=Et(a,(u=e.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:f,errorDomain:Zte(a,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Et(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),ene=ie(Cy,cn,Xte,ln,WD);function tne(t){var{value:e}=t;if(Ei(e)||e instanceof Date)return e}var nne=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Tc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rne=(t,e,n)=>{var r=t.map(tne).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&xR(r))?z5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},z_=t=>{var e;if(t==null||!("domain"in t))return ij;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Tc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:ij},$_=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},YD=t=>t.referenceElements.dots,md=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ane=ie([YD,ln,tm],md),XD=t=>t.referenceElements.areas,ine=ie([XD,ln,tm],md),QD=t=>t.referenceElements.lines,sne=ie([QD,ln,tm],md),ZD=(t,e)=>{var n=Tc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},one=ie(ane,ln,ZD),JD=(t,e)=>{var n=Tc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lne=ie([ine,ln],JD),e8=(t,e)=>{var n=Tc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cne=ie(sne,ln,e8),une=ie(one,cne,lne,(t,e,n)=>$_(t,n,e)),t8=ie([cn],z_),q_=(t,e,n,r,a)=>{var s=Ste(e,t.allowDataOverflow);return s??Tte(e,$_(n,a,nne(r)),t.allowDataOverflow)},dne=ie([cn,t8,Jte,ene,une],q_),hne=[0,1],F_=(t,e,n,r,a,s,l)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:u,type:h}=t,f=Zo(e,s);return f&&u==null?z5(0,n.length):h==="category"?rne(r,t,f):a==="expand"?hne:l}},H_=ie([cn,xt,Cy,Oy,em,ln,dne],F_),n8=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Gf(s));return u in Fh?u:"point"}}},pd=ie([cn,xt,qD,C_,ln],n8);function fne(t){if(t!=null){if(t in Fh)return Fh[t]();var e="scale".concat(Gf(t));if(e in Fh)return Fh[e]()}}function K_(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=fne(e);if(a!=null){var s=a.domain(n).range(r);return lQ(s),s}}}var G_=(t,e,n)=>{var r=z_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yu(t))return Dte(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Yu(t))return Mte(t,e.tickCount,e.allowDecimals)}},W_=ie([H_,nm,pd],G_),Y_=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Yu(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(a,s),Math.max(l,u)]}return e},mne=ie([cn,H_,W_,ln],Y_),pne=ie(Oy,cn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Tc(t.map(u=>u.value))).sort((u,h)=>u-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/a}}),r8=ie(pne,xt,LD,In,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!na(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=_r(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),gne=(t,e)=>{var n=Us(t,e);return n==null||typeof n.padding!="string"?0:r8(t,"xAxis",e,n.padding)},vne=(t,e)=>{var n=rl(t,e);return n==null||typeof n.padding!="string"?0:r8(t,"yAxis",e,n.padding)},yne=ie(Us,gne,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),xne=ie(rl,vne,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),bne=ie([In,yne,gy,py,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),jne=ie([In,xt,xne,gy,py,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),im=(t,e,n,r)=>{var a;switch(e){case"xAxis":return bne(t,n,r);case"yAxis":return jne(t,n,r);case"zAxis":return(a=D_(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return zD(t);case"radiusAxis":return $D(t,n);default:return}},a8=ie([cn,im],Ay),gd=ie([cn,pd,mne,a8],K_);ie(am,ln,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>HD(e,n)));function i8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Iy=(t,e)=>e,ky=(t,e,n)=>n,wne=ie(Qw,Iy,ky,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i8)),_ne=ie(Zw,Iy,ky,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i8)),s8=(t,e)=>({width:t.width,height:e.height}),Sne=(t,e)=>{var n=typeof e.width=="number"?e.width:my;return{width:n,height:t.height}},o8=ie(In,Us,s8),Tne=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ene=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ane=ie(Ls,In,wne,Iy,ky,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var h=s8(e,u);l==null&&(l=Tne(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;s[u.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),s}),Nne=ie(Ms,In,_ne,Iy,ky,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var h=Sne(e,u);l==null&&(l=Ene(e,r,t));var f=r==="left"&&!a||r==="right"&&a;s[u.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),s}),Cne=(t,e)=>{var n=In(t),r=Us(t,e);if(r!=null){var a=Ane(t,r.orientation,r.mirror),s=a[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},One=(t,e)=>{var n=In(t),r=rl(t,e);if(r!=null){var a=Nne(t,r.orientation,r.mirror),s=a[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},l8=ie(In,rl,(t,e)=>{var n=typeof e.width=="number"?e.width:my;return{width:n,height:t.height}}),O6=(t,e,n)=>{switch(e){case"xAxis":return o8(t,n).width;case"yAxis":return l8(t,n).height;default:return}},c8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,u=Zo(t,r),h=e.map(f=>f.value);if(l&&u&&s==="category"&&a&&xR(h))return h}},X_=ie([xt,Oy,cn,ln],c8),u8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Zo(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(u=>u.value)}},Q_=ie([xt,Oy,nm,ln],u8),I6=ie([xt,Wte,pd,gd,X_,Q_,im,W_,ln],(t,e,n,r,a,s,l,u,h)=>{if(e==null)return null;var f=Zo(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),Ine=(t,e,n,r,a,s,l,u,h)=>{if(!(e==null||r==null)){var f=Zo(t,h),{type:m,ticks:g,tickCount:y}=e,j=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=m==="category"&&r.bandwidth?r.bandwidth()/j:0;w=h==="angleAxis"&&s!=null&&s.length>=2?$n(s[0]-s[1])*2*w:w;var S=g||a;if(S){var T=S.map((E,I)=>{var N=l?l.indexOf(E):E;return{index:I,coordinate:r(N)+w,value:E,offset:w}});return T.filter(E=>!Jr(E.coordinate))}return f&&u?u.map((E,I)=>({coordinate:r(E)+w,value:E,index:I,offset:w})):r.ticks?r.ticks(y).map(E=>({coordinate:r(E)+w,value:E,offset:w})):r.domain().map((E,I)=>({coordinate:r(E)+w,value:l?l[E]:E,index:I,offset:w}))}},d8=ie([xt,nm,pd,gd,W_,im,X_,Q_,ln],Ine),kne=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Zo(t,l),{tickCount:h}=e,f=0;return f=l==="angleAxis"&&r?.length>=2?$n(r[0]-r[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:a?a[m]:m,index:g,offset:f}))}},Ni=ie([xt,nm,gd,im,X_,Q_,ln],kne),Ca=ie(cn,gd,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})}),Pne=ie([cn,pd,H_,a8],K_),Rne=ie((t,e,n)=>D_(t,n),Pne,(t,e)=>{if(!(t==null||e==null))return pv(pv({},t),{},{scale:e})}),Dne=ie([xt,Qw,Zw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h8=t=>t.options.defaultTooltipEventType,f8=t=>t.options.validateTooltipEventTypes;function m8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Z_(t,e){var n=h8(t),r=f8(t);return m8(e,n,r)}function Mne(t){return ke(e=>Z_(e,t))}var p8=(t,e)=>{var n,r=Number(e);if(!(Jr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Lne=t=>t.tooltip.settings,So={active:!1,index:null,dataKey:void 0,coordinate:void 0},Bne={itemInteraction:{click:So,hover:So},axisInteraction:{click:So,hover:So},keyboardInteraction:So,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},g8=Oa({name:"tooltip",initialState:Bne,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ys(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Une,removeTooltipEntrySettings:Vne,setTooltipSettingsState:zne,setActiveMouseOverItemIndex:v8,mouseLeaveItem:$ne,mouseLeaveChart:y8,setActiveClickItemIndex:qne,setMouseOverAxisIndex:x8,setMouseClickAxisIndex:Fne,setSyncInteraction:oj,setKeyboardInteraction:lj}=g8.actions,Hne=g8.reducer;function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return(e=Gne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yne(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Xne(t){return t.index!=null}var b8=(t,e,n,r)=>{if(e==null)return So;var a=Yne(t,e,n);if(a==null)return So;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Xne(a)){if(s)return Xp(Xp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Xp(Xp({},So),{},{coordinate:a.coordinate})},J_=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!na(r))return n;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(r,s)))},j8=(t,e,n,r,a,s,l,u)=>{if(!(s==null||u==null)){var h=l[0],f=h==null?void 0:u(h.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},w8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},sm=t=>t.options.tooltipPayloadSearcher,vd=t=>t.tooltip;function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return(e=Zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ere(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function tre(t,e){return t??e}var _8=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:m}=n,g=[];return t.reduce((y,j)=>{var w,{dataDefinedOnItem:S,settings:T}=j,E=tre(S,u),I=ere(E,f,m),N=(w=T?.dataKey)!==null&&w!==void 0?w:r?.dataKey,O=T?.nameKey,D;if(r!=null&&r.dataKey&&Array.isArray(I)&&!Array.isArray(I[0])&&l==="axis"?D=bR(I,r.dataKey,a):D=s(I,e,h,O),Array.isArray(D))D.forEach(C=>{var R=R6(R6({},T),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});y.push(g3({tooltipEntrySettings:R,dataKey:C.dataKey,payload:C.payload,value:Et(C.payload,C.dataKey),name:C.name}))});else{var M;y.push(g3({tooltipEntrySettings:T,dataKey:N,payload:D,value:Et(D,N),name:(M=Et(D,O))!==null&&M!==void 0?M:T?.name}))}return y},g)}},Hn=t=>{var e=xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},yd=t=>t.tooltip.settings.axisId,rr=t=>{var e=Hn(t),n=yd(t);return nm(t,e,n)},eS=ie([rr,xt,qD,C_,Hn],n8),nre=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),rre=ie([Hn,yd],M_),Py=ie([nre,rr,rre],L_),are=ie([Py],B_),Ec=ie([are,Sc],U_),tS=ie([Ec,rr,Py],V_),ire=ie([rr],z_),sre=ie([Ec,Py,em],KD),ore=ie([sre,Sc,Hn],GD),lre=ie([Py],FD),cre=ie([Ec,rr,lre,Hn],WD),ure=ie([YD,Hn,yd],md),dre=ie([ure,Hn],ZD),hre=ie([XD,Hn,yd],md),fre=ie([hre,Hn],JD),mre=ie([QD,Hn,yd],md),pre=ie([mre,Hn],e8),gre=ie([dre,pre,fre],$_),vre=ie([rr,ire,ore,cre,gre],q_),S8=ie([rr,xt,Ec,tS,em,Hn,vre],F_),yre=ie([S8,rr,eS],G_),xre=ie([rr,S8,yre,Hn],Y_),T8=t=>{var e=Hn(t),n=yd(t),r=!1;return im(t,e,n,r)},E8=ie([rr,T8],Ay),A8=ie([rr,eS,xre,E8],K_),bre=ie([xt,tS,rr,Hn],c8),jre=ie([xt,tS,rr,Hn],u8),wre=(t,e,n,r,a,s,l,u)=>{if(e){var{type:h}=e,f=Zo(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?$n(a[0]-a[1])*2*g:g,f&&l?l.map((y,j)=>({coordinate:r(y)+g,value:y,index:j,offset:g})):r.domain().map((y,j)=>({coordinate:r(y)+g,value:s?s[y]:y,index:j,offset:g}))}}},Vs=ie([xt,rr,eS,A8,T8,bre,jre,Hn],wre),nS=ie([h8,f8,Lne],(t,e,n)=>m8(n.shared,t,e)),N8=t=>t.tooltip.settings.trigger,rS=t=>t.tooltip.settings.defaultIndex,Ry=ie([vd,nS,N8,rS],b8),Rs=ie([Ry,Ec],J_),C8=ie([Vs,Rs],p8),O8=ie([Ry],t=>{if(t)return t.dataKey}),I8=ie([vd,nS,N8,rS],w8),_re=ie([Ms,Ls,xt,In,Vs,rS,I8,sm],j8),Sre=ie([Ry,_re],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Tre=ie([Ry],t=>t.active),Ere=ie([I8,Rs,Sc,rr,C8,sm,nS],_8),Are=ie([Ere],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){Nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nre(t,e,n){return(e=Cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ire=()=>ke(rr),kre=()=>{var t=Ire(),e=ke(Vs),n=ke(A8);return xf(M6(M6({},t),{},{scale:n}),e)},Pre=()=>ke(C_),aS=(t,e)=>e,k8=(t,e,n)=>n,iS=(t,e,n,r)=>r,Rre=ie(Vs,t=>oy(t,e=>e.coordinate)),sS=ie([vd,aS,k8,iS],b8),P8=ie([sS,Ec],J_),Dre=(t,e,n)=>{if(e!=null){var r=vd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},R8=ie([vd,aS,k8,iS],w8),gv=ie([Ms,Ls,xt,In,Vs,iS,R8,sm],j8),Mre=ie([sS,gv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),D8=ie(Vs,P8,p8),Lre=ie([R8,P8,Sc,rr,D8,sm,aS],_8),Bre=ie([sS],t=>({isActive:t.active,activeIndex:t.index})),Ure=(t,e,n,r,a,s,l,u)=>{if(!(!t||!e||!r||!a||!s)){var h=yQ(t.chartX,t.chartY,e,n,u);if(h){var f=bQ(h,e),m=sQ(f,l,s,r,a),g=xQ(e,s,m,h);return{activeIndex:String(m),activeCoordinate:g}}}};function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cj.apply(null,arguments)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=$re(t,"string");return typeof e=="symbol"?e:e+""}function $re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:h,chartName:f}=t,m=e,g=n,y=r;if(!u||!m||f!=="ScatterChart"&&h!=="axis")return null;var j,w;if(f==="ScatterChart")j=m,w=rZ;else if(f==="BarChart")j=aZ(l,m,a,s),w=L5;else if(l==="radial"){var{cx:S,cy:T,radius:E,startAngle:I,endAngle:N}=B5(m);j={cx:S,cy:T,startAngle:I,endAngle:N,innerRadius:E,outerRadius:E},w=V5}else j={points:FZ(l,m,a)},w=yy;var O=typeof u=="object"&&"className"in u?u.className:void 0,D=Qp(Qp(Qp(Qp({stroke:"#ccc",pointerEvents:"none"},a),j),rt(u,!1)),{},{payload:g,payloadIndex:y,className:gt("recharts-tooltip-cursor",O)});return b.isValidElement(u)?b.cloneElement(u,D):b.createElement(w,D)}function Fre(t){var e=kre(),n=A5(),r=vy(),a=Pre();return b.createElement(qre,cj({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var M8=b.createContext(null),Hre=()=>b.useContext(M8),kb={exports:{}},B6;function Kre(){return B6||(B6=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function s(h,f,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var j=new a(m,g||h,y),w=n?n+f:f;return h._events[w]?h._events[w].fn?h._events[w]=[h._events[w],j]:h._events[w].push(j):(h._events[w]=j,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,j=g.length,w=new Array(j);y<j;y++)w[y]=g[y].fn;return w},u.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,y,j,w){var S=n?n+f:f;if(!this._events[S])return!1;var T=this._events[S],E=arguments.length,I,N;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,g),!0;case 4:return T.fn.call(T.context,m,g,y),!0;case 5:return T.fn.call(T.context,m,g,y,j),!0;case 6:return T.fn.call(T.context,m,g,y,j,w),!0}for(N=1,I=new Array(E-1);N<E;N++)I[N-1]=arguments[N];T.fn.apply(T.context,I)}else{var O=T.length,D;for(N=0;N<O;N++)switch(T[N].once&&this.removeListener(f,T[N].fn,void 0,!0),E){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,m);break;case 3:T[N].fn.call(T[N].context,m,g);break;case 4:T[N].fn.call(T[N].context,m,g,y);break;default:if(!I)for(D=1,I=new Array(E-1);D<E;D++)I[D-1]=arguments[D];T[N].fn.apply(T[N].context,I)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,y){var j=n?n+f:f;if(!this._events[j])return this;if(!m)return l(this,j),this;var w=this._events[j];if(w.fn)w.fn===m&&(!y||w.once)&&(!g||w.context===g)&&l(this,j);else{for(var S=0,T=[],E=w.length;S<E;S++)(w[S].fn!==m||y&&!w[S].once||g&&w[S].context!==g)&&T.push(w[S]);T.length?this._events[j]=T.length===1?T[0]:T:l(this,j)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(kb)),kb.exports}var Gre=Kre();const Wre=Ci(Gre);var Ef=new Wre,uj="recharts.syncEvent.tooltip",U6="recharts.syncEvent.brush";function Dy(t,e){if(e){var n=Number.parseInt(e,10);if(!Jr(n))return t?.[n]}}var Yre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L8=Oa({name:"options",initialState:Yre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Xre=L8.reducer,{createEventEmitter:Qre}=L8.actions;function Zre(t){return t.tooltip.syncInteraction}var Jre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},B8=Oa({name:"chartData",initialState:Jre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:V6,setDataStartEndIndexes:eae,setComputedData:Lhe}=B8.actions,tae=B8.reducer,U8=()=>{};function nae(){var t=ke(O_),e=ke(I_),n=Qt(),r=ke(BD),a=ke(Vs),s=vy(),l=t_(),u=ke(h=>h.rootProps.className);b.useEffect(()=>{if(t==null)return U8;var h=(f,m,g)=>{if(e!==g&&t===f){if(r==="index"){n(m);return}if(a!=null){var y;if(typeof r=="function"){var j={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},w=r(a,j);y=a[w]}else r==="value"&&(y=a.find(M=>String(M.value)===m.payload.label));var{coordinate:S}=m.payload;if(y==null||m.payload.active===!1||S==null||l==null){n(oj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:E}=S,I=Math.min(T,l.x+l.width),N=Math.min(E,l.y+l.height),O={x:s==="horizontal"?y.coordinate:I,y:s==="horizontal"?N:y.coordinate},D=oj({active:m.payload.active,coordinate:O,dataKey:m.payload.dataKey,index:String(y.index),label:m.payload.label});n(D)}}};return Ef.on(uj,h),()=>{Ef.off(uj,h)}},[u,n,e,t,r,a,s,l])}function rae(){var t=ke(O_),e=ke(I_),n=Qt();b.useEffect(()=>{if(t==null)return U8;var r=(a,s,l)=>{e!==l&&t===a&&n(eae(s))};return Ef.on(U6,r),()=>{Ef.off(U6,r)}},[n,e,t])}function aae(){var t=Qt();b.useEffect(()=>{t(Qre())},[t]),nae(),rae()}function iae(t,e,n,r,a,s){var l=ke(y=>Dre(y,t,e)),u=ke(I_),h=ke(O_),f=ke(BD),m=ke(Zre),g=m?.active;b.useEffect(()=>{if(!g&&h!=null&&u!=null){var y=oj({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r});Ef.emit(uj,h,y,u)}},[g,n,l,a,r,u,h,f,s])}function z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t){return t.dataKey}function uae(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(DQ,e)}var q6=[],dae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!el.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mg(t){var e=ra(t,dae),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:m,position:g,reverseDirection:y,useTranslate3d:j,wrapperStyle:w,cursor:S,shared:T,trigger:E,defaultIndex:I,portal:N,axisId:O}=e,D=Qt(),M=typeof I=="number"?String(I):I;b.useEffect(()=>{D(zne({shared:T,trigger:E,axisId:O,active:n,defaultIndex:M}))},[D,T,E,O,n,M]);var C=t_(),R=P5(),B=Mne(T),{activeIndex:$,isActive:L}=ke(Q=>Bre(Q,B,E,M)),U=ke(Q=>Lre(Q,B,E,M)),z=ke(Q=>D8(Q,B,E,M)),xe=ke(Q=>Mre(Q,B,E,M)),ce=U,X=Hre(),se=n??L,[ge,Se]=XY([ce,se]),H=B==="axis"?z:void 0;iae(B,E,xe,H,$,se);var ae=N??X;if(ae==null)return null;var F=ce??q6;se||(F=q6),u&&F.length&&(F=wY(ce.filter(Q=>Q.value!=null&&(Q.hide!==!0||e.includeHidden)),m,cae));var G=F.length>0,ve=b.createElement($Q,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:h,active:se,coordinate:xe,hasPayload:G,offset:f,position:g,reverseDirection:y,useTranslate3d:j,viewBox:C,wrapperStyle:w,lastBoundingBox:ge,innerRef:Se,hasPortalFromProps:!!N},uae(l,$6($6({},e),{},{payload:F,label:H,active:se,coordinate:xe,accessibilityLayer:R})));return b.createElement(b.Fragment,null,QL.createPortal(ve,ae),se&&b.createElement(Fre,{cursor:S,tooltipEventType:B,coordinate:xe,payload:ce,index:$}))}var Pb={},Rb={},F6;function hae(){return F6||(F6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,a={}){typeof a!="object"&&(a={});let s=null,l=null,u=null,h=0,f=null,m;const{leading:g=!1,trailing:y=!0,maxWait:j}=a,w="maxWait"in a,S=w?Math.max(Number(j)||0,r):0,T=C=>(s!==null&&(m=n.apply(l,s)),s=l=null,h=C,m),E=C=>(h=C,f=setTimeout(D,r),g&&s!==null?T(C):m),I=C=>(f=null,y&&s!==null?T(C):m),N=C=>{if(u===null)return!0;const R=C-u,B=R>=r||R<0,$=w&&C-h>=S;return B||$},O=C=>{const R=u===null?0:C-u,B=r-R,$=S-(C-h);return w?Math.min(B,$):B},D=()=>{const C=Date.now();if(N(C))return I(C);f=setTimeout(D,O(C))},M=function(...C){const R=Date.now(),B=N(R);if(s=C,l=this,u=R,B){if(f===null)return E(R);if(w)return clearTimeout(f),f=setTimeout(D,r),T(R)}return f===null&&(f=setTimeout(D,r)),m};return M.cancel=()=>{f!==null&&clearTimeout(f),h=0,u=s=l=f=null},M.flush=()=>f===null?m:I(Date.now()),M}t.debounce=e}(Rb)),Rb}var H6;function fae(){return H6||(H6=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hae();function n(r,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:u})}t.throttle=n}(Pb)),Pb}var Db,K6;function mae(){return K6||(K6=1,Db=fae().throttle),Db}var pae=mae();const gae=Ci(pae);var ef=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pg=b.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:l=0,minHeight:u,maxHeight:h,children:f,debounce:m=0,id:g,className:y,onResize:j,style:w={}}=t,S=b.useRef(null),T=b.useRef();T.current=j,b.useImperativeHandle(e,()=>S.current);var[E,I]=b.useState({containerWidth:r.width,containerHeight:r.height}),N=b.useCallback((D,M)=>{I(C=>{var R=Math.round(D),B=Math.round(M);return C.containerWidth===R&&C.containerHeight===B?C:{containerWidth:R,containerHeight:B}})},[]);b.useEffect(()=>{var D=B=>{var $,{width:L,height:U}=B[0].contentRect;N(L,U),($=T.current)===null||$===void 0||$.call(T,L,U)};m>0&&(D=gae(D,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),{width:C,height:R}=S.current.getBoundingClientRect();return N(C,R),M.observe(S.current),()=>{M.disconnect()}},[N,m]);var O=b.useMemo(()=>{var{containerWidth:D,containerHeight:M}=E;if(D<0||M<0)return null;ef(Hl(a)||Hl(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),ef(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=Hl(a)?D:a,R=Hl(s)?M:s;return n&&n>0&&(C?R=C/n:R&&(C=R*n),h&&R>h&&(R=h)),ef(C>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,R,a,s,l,u,n),b.Children.map(f,B=>b.cloneElement(B,{width:C,height:R,style:Mb({width:C,height:R},B.props.style)}))},[n,f,s,h,u,l,E,a]);return b.createElement("div",{id:g?"".concat(g):void 0,className:gt("recharts-responsive-container",y),style:Mb(Mb({},w),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:h}),ref:S},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),Ac=t=>null;Ac.displayName="Cell";function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e,n){return(e=jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xu={widthCache:{},cacheCount:0},_ae=2e3,Sae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y6="recharts_measurement_span";function Tae(t){var e=dj({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var tf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||el.isSsr)return{width:0,height:0};var r=Tae(n),a=JSON.stringify({text:e,copyStyle:r});if(xu.widthCache[a])return xu.widthCache[a];try{var s=document.getElementById(Y6);s||(s=document.createElement("span"),s.setAttribute("id",Y6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=dj(dj({},Sae),r);Object.assign(s.style,l),s.textContent="".concat(e);var u=s.getBoundingClientRect(),h={width:u.width,height:u.height};return xu.widthCache[a]=h,++xu.cacheCount>_ae&&(xu.cacheCount=0,xu.widthCache={}),h}catch{return{width:0,height:0}}},X6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Eae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Aae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,V8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nae=Object.keys(V8),Eu="NaN";function Cae(t,e){return t*V8[e]}class Ar{static parse(e){var n,[,r,a]=(n=Aae.exec(e))!==null&&n!==void 0?n:[];return new Ar(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Jr(e)&&(this.unit=""),n!==""&&!Eae.test(n)&&(this.num=NaN,this.unit=""),Nae.includes(n)&&(this.num=Cae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ar(NaN,""):new Ar(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ar(NaN,""):new Ar(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ar(NaN,""):new Ar(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ar(NaN,""):new Ar(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jr(this.num)}}function z8(t){if(t.includes(Eu))return Eu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=X6.exec(e))!==null&&n!==void 0?n:[],l=Ar.parse(r??""),u=Ar.parse(s??""),h=a==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return Eu;e=e.replace(X6,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,g,y]=(f=Q6.exec(e))!==null&&f!==void 0?f:[],j=Ar.parse(m??""),w=Ar.parse(y??""),S=g==="+"?j.add(w):j.subtract(w);if(S.isNaN())return Eu;e=e.replace(Q6,S.toString())}return e}var Z6=/\(([^()]*)\)/;function Oae(t){for(var e=t,n;(n=Z6.exec(e))!=null;){var[,r]=n;e=e.replace(Z6,z8(r))}return e}function Iae(t){var e=t.replace(/\s+/g,"");return e=Oae(e),e=z8(e),e}function kae(t){try{return Iae(t)}catch{return Eu}}function Lb(t){var e=kae(t.slice(5,-1));return e===Eu?"":e}var Pae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Rae=["dx","dy","angle","className","breakAll"];function hj(){return hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hj.apply(null,arguments)}function J6(t,e){if(t==null)return{};var n,r,a=Dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $8=/[ \f\n\r\t\v\u2028\u2029]+/,q8=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];mt(e)||(n?a=e.toString().split(""):a=e.toString().split($8));var s=a.map(u=>({word:u,width:tf(u,r).width})),l=n?0:tf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Mae=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:u,breakAll:h}=t,f=Oe(s),m=l,g=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((U,z)=>{var{word:xe,width:ce}=z,X=U[U.length-1];if(X&&(r==null||a||X.width+ce+n<Number(r)))X.words.push(xe),X.width+=ce+n;else{var se={words:[xe],width:ce};U.push(se)}return U},[])},y=g(e),j=$=>$.reduce((L,U)=>L.width>U.width?L:U);if(!f||a)return y;var w=y.length>s||j(y).width>Number(r);if(!w)return y;for(var S="",T=$=>{var L=m.slice(0,$),U=q8({breakAll:h,style:u,children:L+S}).wordsWithComputedWidth,z=g(U),xe=z.length>s||j(z).width>Number(r);return[xe,z]},E=0,I=m.length-1,N=0,O;E<=I&&N<=m.length-1;){var D=Math.floor((E+I)/2),M=D-1,[C,R]=T(M),[B]=T(D);if(!C&&!B&&(E=D+1),C&&B&&(I=D-1),!C&&B){O=R;break}N++}return O||y},eO=t=>{var e=mt(t)?[]:t.toString().split($8);return[{words:e}]},Lae=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!el.isSsr){var u,h,f=q8({breakAll:s,children:r,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,h=g}else return eO(r);return Mae({breakAll:s,children:r,maxLines:l,style:a},u,h,e,n)}return eO(r)},tO="#808080",My=b.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:h="end",fill:f=tO}=t,m=J6(t,Pae),g=b.useMemo(()=>Lae({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:y,dy:j,angle:w,className:S,breakAll:T}=m,E=J6(m,Rae);if(!Ei(n)||!Ei(r))return null;var I=n+(Oe(y)?y:0),N=r+(Oe(j)?j:0),O;switch(h){case"start":O=Lb("calc(".concat(s,")"));break;case"middle":O=Lb("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=Lb("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(l){var M=g[0].width,{width:C}=m;D.push("scale(".concat(Oe(C)?C/M:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(I,", ").concat(N,")")),D.length&&(E.transform=D.join(" ")),b.createElement("text",hj({},rt(E,!0),{ref:e,x:I,y:N,className:gt("recharts-text",S),textAnchor:u,fill:f.includes("url")?tO:f}),g.map((R,B)=>{var $=R.words.join(T?"":" ");return b.createElement("tspan",{x:I,dy:B===0?O:a,key:"".concat($,"-").concat(B)},$)}))});My.displayName="Text";var Bae=["offset"],Uae=["labelRef"];function nO(t,e){if(t==null)return{};var n,r,a=Vae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zae(t,e,n){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=qae(t,"string");return typeof e=="symbol"?e:e+""}function qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(null,arguments)}var Fae=t=>{var{value:e,formatter:n}=t,r=mt(t.children)?e:t.children;return typeof n=="function"?n(r):r},oS=t=>t!=null&&typeof t=="function",Hae=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Kae=(t,e,n)=>{var{position:r,viewBox:a,offset:s,className:l}=t,{cx:u,cy:h,innerRadius:f,outerRadius:m,startAngle:g,endAngle:y,clockWise:j}=a,w=(f+m)/2,S=Hae(g,y),T=S>=0?1:-1,E,I;r==="insideStart"?(E=g+T*s,I=j):r==="insideEnd"?(E=y-T*s,I=!j):r==="end"&&(E=y+T*s,I=j),I=S<=0?I:!I;var N=xn(u,h,w,E),O=xn(u,h,w,E+(I?1:-1)*359),D="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),M=mt(t.id)?Ho("recharts-radial-line-"):t.id;return b.createElement("text",ss({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:M,d:D})),b.createElement("textPath",{xlinkHref:"#".concat(M)},e))},Gae=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:a,cy:s,innerRadius:l,outerRadius:u,startAngle:h,endAngle:f}=e,m=(h+f)/2;if(r==="outside"){var{x:g,y}=xn(a,s,u+n,m);return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var j=(l+u)/2,{x:w,y:S}=xn(a,s,j,m);return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Wae=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,{x:s,y:l,width:u,height:h}=e,f=h>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end",j=u>=0?1:-1,w=j*r,S=j>0?"end":"start",T=j>0?"start":"end";if(a==="top"){var E={x:s+u/2,y:l-f*r,textAnchor:"middle",verticalAnchor:g};return pn(pn({},E),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var I={x:s+u/2,y:l+h+m,textAnchor:"middle",verticalAnchor:y};return pn(pn({},I),n?{height:Math.max(n.y+n.height-(l+h),0),width:u}:{})}if(a==="left"){var N={x:s-w,y:l+h/2,textAnchor:S,verticalAnchor:"middle"};return pn(pn({},N),n?{width:Math.max(N.x-n.x,0),height:h}:{})}if(a==="right"){var O={x:s+u+w,y:l+h/2,textAnchor:T,verticalAnchor:"middle"};return pn(pn({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:h}:{})}var D=n?{width:u,height:h}:{};return a==="insideLeft"?pn({x:s+w,y:l+h/2,textAnchor:T,verticalAnchor:"middle"},D):a==="insideRight"?pn({x:s+u-w,y:l+h/2,textAnchor:S,verticalAnchor:"middle"},D):a==="insideTop"?pn({x:s+u/2,y:l+m,textAnchor:"middle",verticalAnchor:y},D):a==="insideBottom"?pn({x:s+u/2,y:l+h-m,textAnchor:"middle",verticalAnchor:g},D):a==="insideTopLeft"?pn({x:s+w,y:l+m,textAnchor:T,verticalAnchor:y},D):a==="insideTopRight"?pn({x:s+u-w,y:l+m,textAnchor:S,verticalAnchor:y},D):a==="insideBottomLeft"?pn({x:s+w,y:l+h-m,textAnchor:T,verticalAnchor:g},D):a==="insideBottomRight"?pn({x:s+u-w,y:l+h-m,textAnchor:S,verticalAnchor:g},D):a&&typeof a=="object"&&(Oe(a.x)||Hl(a.x))&&(Oe(a.y)||Hl(a.y))?pn({x:s+_r(a.x,u),y:l+_r(a.y,h),textAnchor:"end",verticalAnchor:"end"},D):pn({x:s+u/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Yae=t=>"cx"in t&&Oe(t.cx);function Gr(t){var{offset:e=5}=t,n=nO(t,Bae),r=pn({offset:e},n),{viewBox:a,position:s,value:l,children:u,content:h,className:f="",textBreakAll:m,labelRef:g}=r,y=t_(),j=a||y;if(!j||mt(l)&&mt(u)&&!b.isValidElement(h)&&typeof h!="function")return null;if(b.isValidElement(h)){var{labelRef:w}=r,S=nO(r,Uae);return b.cloneElement(h,S)}var T;if(typeof h=="function"){if(T=b.createElement(h,r),b.isValidElement(T))return T}else T=Fae(r);var E=Yae(j),I=rt(r,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Kae(r,T,I);var N=E?Gae(r):Wae(r,j);return b.createElement(My,ss({ref:g,className:gt("recharts-label",f)},I,N,{breakAll:m}),T)}Gr.displayName="Label";var F8=t=>{var{cx:e,cy:n,angle:r,startAngle:a,endAngle:s,r:l,radius:u,innerRadius:h,outerRadius:f,x:m,y:g,top:y,left:j,width:w,height:S,clockWise:T,labelViewBox:E}=t;if(E)return E;if(Oe(w)&&Oe(S)){if(Oe(m)&&Oe(g))return{x:m,y:g,width:w,height:S};if(Oe(y)&&Oe(j))return{x:y,y:j,width:w,height:S}}if(Oe(m)&&Oe(g))return{x:m,y:g,width:0,height:0};if(Oe(e)&&Oe(n))return{cx:e,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:h||0,outerRadius:f||u||l||0,clockWise:T};if(t.viewBox)return t.viewBox},Xae=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?b.createElement(Gr,ss({key:"label-implicit"},r)):Ei(t)?b.createElement(Gr,ss({key:"label-implicit",value:t},r)):b.isValidElement(t)?t.type===Gr?b.cloneElement(t,pn({key:"label-implicit"},r)):b.createElement(Gr,ss({key:"label-implicit",content:t},r)):oS(t)?b.createElement(Gr,ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?b.createElement(Gr,ss({},t,{key:"label-implicit"},r)):null},Qae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:a,labelRef:s}=e,l=F8(e),u=ud(a,Gr).map((f,m)=>b.cloneElement(f,{viewBox:n||l,key:"label-".concat(m)}));if(!r)return u;var h=Xae(e.label,n||l,s);return[h,...u]};Gr.parseViewBox=F8;Gr.renderCallByParent=Qae;var Bb={},Ub={},aO;function Zae(){return aO||(aO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(Ub)),Ub}var Vb={},iO;function Jae(){return iO||(iO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Vb)),Vb}var sO;function eie(){return sO||(sO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zae(),n=Jae(),r=Vw();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a}(Bb)),Bb}var zb,oO;function tie(){return oO||(oO=1,zb=eie().last),zb}var nie=tie();const rie=Ci(nie);var aie=["valueAccessor"],iie=["data","dataKey","clockWise","id","textBreakAll"];function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(null,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sie(t,e,n){return(e=oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oie(t){var e=lie(t,"string");return typeof e=="symbol"?e:e+""}function lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uO(t,e){if(t==null)return{};var n,r,a=cie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uie=t=>Array.isArray(t.value)?rie(t.value):t.value;function bs(t){var{valueAccessor:e=uie}=t,n=uO(t,aie),{data:r,dataKey:a,clockWise:s,id:l,textBreakAll:u}=n,h=uO(n,iie);return!r||!r.length?null:b.createElement(Xt,{className:"recharts-label-list"},r.map((f,m)=>{var g=mt(a)?e(f,m):Et(f&&f.payload,a),y=mt(l)?{}:{id:"".concat(l,"-").concat(m)};return b.createElement(Gr,vv({},rt(f,!0),h,y,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:Gr.parseViewBox(mt(s)?f:cO(cO({},f),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}bs.displayName="LabelList";function die(t,e){return t?t===!0?b.createElement(bs,{key:"labelList-implicit",data:e}):b.isValidElement(t)||oS(t)?b.createElement(bs,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?b.createElement(bs,vv({data:e},t,{key:"labelList-implicit"})):null:null}function hie(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,a=ud(r,bs).map((l,u)=>b.cloneElement(l,{data:e,key:"labelList-".concat(u)}));if(!n)return a;var s=die(t.label,e);return[s,...a]}bs.renderCallByParent=hie;function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fj.apply(null,arguments)}var H8=t=>{var{cx:e,cy:n,r,className:a}=t,s=gt("recharts-dot",a);return e===+e&&n===+n&&r===+r?b.createElement("circle",fj({},rt(t,!1),Dw(t),{className:s,cx:e,cy:n,r})):null},K8=t=>t.graphicalItems.polarItems,fie=ie([ln,tm],M_),lS=ie([K8,cn,fie],L_),mie=ie([lS],B_),cS=ie([mie,E_],U_),pie=ie([cS,cn,lS],V_),gie=ie([cS,cn,lS],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=Et(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Et(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),dO=()=>{},vie=ie([cn,t8,dO,gie,dO],q_),G8=ie([cn,xt,cS,pie,em,ln,vie],F_),yie=ie([G8,cn,pd],G_);ie([cn,G8,yie,ln],Y_);var xie={radiusAxis:{},angleAxis:{}},W8=Oa({name:"polarAxis",initialState:xie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Bhe,removeRadiusAxis:Uhe,addAngleAxis:Vhe,removeAngleAxis:zhe}=W8.actions,bie=W8.reducer;function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jie(t,e,n){return(e=wie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uS=(t,e)=>e,Sie=[],dS=(t,e,n)=>n?.length===0?Sie:n,Y8=ie([E_,uS,dS],(t,e,n)=>{var{chartData:r}=t,a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>fO(fO({},e.presentationProps),s.props))),a!=null)return a}),Tie=ie([Y8,uS,dS],(t,e,n)=>{if(t!=null)return t.map((r,a)=>{var s,l=Et(r,e.nameKey,e.name),u;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:Jo(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Eie=ie([K8,uS],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Aie=ie([Y8,Eie,dS,In],(t,e,n,r)=>{if(!(e==null||t==null))return yse({offset:r,pieSettings:e,displayedData:t,cells:n})}),Nie={countOfBars:0,cartesianItems:[],polarItems:[]},X8=Oa({name:"graphicalItems",initialState:Nie,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=ys(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=ys(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ys(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Cie,removeBar:Oie,addCartesianGraphicalItem:Iie,replaceCartesianGraphicalItem:kie,removeCartesianGraphicalItem:Pie,addPolarGraphicalItem:Rie,removePolarGraphicalItem:Die}=X8.actions,Mie=X8.reducer;function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return(e=Bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bie(t){var e=Uie(t,"string");return typeof e=="symbol"?e:e+""}function Uie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vie(t){var e=Qt(),n=b.useRef(null);return b.useEffect(()=>{var r=pO(pO({},t),{},{stackId:S5(t.stackId)});n.current===null?e(Iie(r)):n.current!==r&&e(kie({prev:n.current,next:r})),n.current=r},[e,t]),b.useEffect(()=>()=>{n.current&&(e(Pie(n.current)),n.current=null)},[e]),null}function zie(t){var e=Qt();return b.useEffect(()=>(e(Rie(t)),()=>{e(Die(t))}),[e,t]),null}var $b={},gO;function $ie(){return gO||(gO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}($b)),$b}var qb,vO;function qie(){return vO||(vO=1,qb=$ie().isPlainObject),qb}var Fie=qie();const Hie=Ci(Fie);function yv(){return yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yv.apply(null,arguments)}var yO=(t,e,n,r,a)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-r,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},Kie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gie=t=>{var e=ra(t,Kie),n=b.useRef(),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&a(T)}catch{}},[]);var{x:s,y:l,upperWidth:u,lowerWidth:h,height:f,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:j,isUpdateAnimationActive:w}=e;if(s!==+s||l!==+l||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var S=gt("recharts-trapezoid",m);return w?b.createElement(Os,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:l},to:{upperWidth:u,lowerWidth:h,height:f,x:s,y:l},duration:y,animationEasing:g,isActive:w},T=>{var{upperWidth:E,lowerWidth:I,height:N,x:O,y:D}=T;return b.createElement(Os,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:g},b.createElement("path",yv({},rt(e,!0),{className:S,d:yO(O,D,E,I,N),ref:n})))}):b.createElement("g",null,b.createElement("path",yv({},rt(e,!0),{className:S,d:yO(s,l,u,h,f)})))},Wie=["option","shapeType","propTransformer","activeClassName","isActive"];function Yie(t,e){if(t==null)return{};var n,r,a=Xie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t,e){return xv(xv({},e),t)}function tse(t,e){return t==="symbols"}function bO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return b.createElement(L5,n);case"trapezoid":return b.createElement(Gie,n);case"sector":return b.createElement(V5,n);case"symbols":if(tse(e))return b.createElement(Uw,n);break;default:return null}}function nse(t){return b.isValidElement(t)?t.props:t}function bv(t){var{option:e,shapeType:n,propTransformer:r=ese,activeClassName:a="recharts-active-shape",isActive:s}=t,l=Yie(t,Wie),u;if(b.isValidElement(e))u=b.cloneElement(e,xv(xv({},l),nse(e)));else if(typeof e=="function")u=e(l);else if(Hie(e)&&typeof e!="boolean"){var h=r(e,l);u=b.createElement(bO,{shapeType:n,elementProps:h})}else{var f=l;u=b.createElement(bO,{shapeType:n,elementProps:f})}return s?b.createElement(Xt,{className:a},u):u}var Ly=(t,e)=>{var n=Qt();return(r,a)=>s=>{t?.(r,a,s),n(v8({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},By=t=>{var e=Qt();return(n,r)=>a=>{t?.(n,r,a),e($ne())}},Uy=(t,e)=>{var n=Qt();return(r,a)=>s=>{t?.(r,a,s),n(qne({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Vy(t){var{fn:e,args:n}=t,r=Qt(),a=gr();return b.useEffect(()=>{if(!a){var s=e(n);return r(Une(s)),()=>{r(Vne(s))}}},[e,n,r,a]),null}var Q8=()=>{};function hS(t){var{legendPayload:e}=t,n=Qt(),r=gr();return b.useEffect(()=>r?Q8:(n(I5(e)),()=>{n(k5(e))}),[n,r,e]),null}function rse(t){var{legendPayload:e}=t,n=Qt(),r=ke(xt);return b.useEffect(()=>r!=="centric"&&r!=="radial"?Q8:(n(I5(e)),()=>{n(k5(e))}),[n,r,e]),null}function zy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Ho(e)),r=b.useRef(t);return r.current!==t&&(n.current=Ho(e),r.current=t),n.current}var ase=["onMouseEnter","onClick","onMouseLeave"];function ise(t,e){if(t==null)return{};var n,r,a=sse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $y(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(null,arguments)}function cse(t){var e=b.useMemo(()=>rt(t,!1),[t]),n=b.useMemo(()=>ud(t.children,Ac),[t.children]),r=b.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),a=ke(s=>Tie(s,r,n));return b.createElement(rse,{legendPayload:a})}function use(t){var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:u,hide:h,tooltipType:f}=t;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:Jo(u,e),hide:h,type:f,color:l,unit:""}}}var dse=(t,e)=>t>e?"start":t<e?"end":"middle",hse=(t,e,n)=>typeof e=="function"?e(t):_r(e,n,n*.8),fse=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,u=j5(s,l),h=a+_r(t.cx,s,s/2),f=r+_r(t.cy,l,l/2),m=_r(t.innerRadius,u,0),g=hse(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:h,cy:f,innerRadius:m,outerRadius:g,maxRadius:y}},mse=(t,e)=>{var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r},pse=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var n=gt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(yy,fc({},e,{type:"linear",className:n}))},gse=(t,e,n)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),b.isValidElement(r)))return r;var a=gt("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return b.createElement(My,fc({},e,{alignmentBaseline:"middle",className:a}),r)};function vse(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var u=rt(n,!1),h=rt(a,!1),f=rt(s,!1),m=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,g=e.map((y,j)=>{var w=(y.startAngle+y.endAngle)/2,S=xn(y.cx,y.cy,y.outerRadius+m,w),T=tn(tn(tn(tn({},u),y),{},{stroke:"none"},h),{},{index:j,textAnchor:dse(S.x,y.cx)},S),E=tn(tn(tn(tn({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:j,points:[xn(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return b.createElement(Xt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},s&&pse(s,E),gse(a,T,Et(y,l)))});return b.createElement(Xt,{className:"recharts-pie-labels"},g)}function Z8(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:s}=t,l=ke(Rs),{onMouseEnter:u,onClick:h,onMouseLeave:f}=a,m=ise(a,ase),g=Ly(u,a.dataKey),y=By(f),j=Uy(h,a.dataKey);return e==null?null:b.createElement(b.Fragment,null,e.map((w,S)=>{if(w?.startAngle===0&&w?.endAngle===0&&e.length!==1)return null;var T=n&&String(S)===l,E=l?r:null,I=T?n:E,N=tn(tn({},w),{},{stroke:w.stroke,tabIndex:-1,[Jw]:S,[e_]:a.dataKey});return b.createElement(Xt,fc({tabIndex:-1,className:"recharts-pie-sector"},Wf(m,w,S),{onMouseEnter:g(w,S),onMouseLeave:y(w,S),onClick:j(w,S),key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(S)}),b.createElement(bv,fc({option:I,isActive:T,shapeType:"sector"},N)))}),b.createElement(vse,{sectors:e,props:a,showLabels:s}))}function yse(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:h,dataKey:f,nameKey:m,tooltipType:g}=n,y=Math.abs(n.minAngle),j=mse(u,h),w=Math.abs(j),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=r.filter(M=>Et(M,f,0)!==0).length,E=(w>=360?T:T-1)*S,I=w-T*y-E,N=r.reduce((M,C)=>{var R=Et(C,f,0);return M+(Oe(R)?R:0)},0),O;if(N>0){var D;O=r.map((M,C)=>{var R=Et(M,f,0),B=Et(M,m,C),$=fse(n,s,M),L=(Oe(R)?R:0)/N,U,z=tn(tn({},M),a&&a[C]&&a[C].props);C?U=D.endAngle+$n(j)*S*(R!==0?1:0):U=u;var xe=U+$n(j)*((R!==0?y:0)+L*I),ce=(U+xe)/2,X=($.innerRadius+$.outerRadius)/2,se=[{name:B,value:R,payload:z,dataKey:f,type:g}],ge=xn($.cx,$.cy,X,ce);return D=tn(tn(tn(tn({},n.presentationProps),{},{percent:L,cornerRadius:l,name:B,tooltipPayload:se,midAngle:ce,middleRadius:X,tooltipPosition:ge},z),$),{},{value:Et(M,f),startAngle:U,endAngle:xe,payload:z,paddingAngle:$n(j)*S}),D})}return O}function xse(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u,activeShape:h,inactiveShape:f,onAnimationStart:m,onAnimationEnd:g}=e,y=zy(e,"recharts-pie-"),j=n.current,[w,S]=b.useState(!0),T=b.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),E=b.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return b.createElement(Os,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},onAnimationStart:E,onAnimationEnd:T,key:y},I=>{var{t:N}=I,O=[],D=r&&r[0],M=D.startAngle;return r.forEach((C,R)=>{var B=j&&j[R],$=R>0?Fo(C,"paddingAngle",0):0;if(B){var L=er(B.endAngle-B.startAngle,C.endAngle-C.startAngle),U=tn(tn({},C),{},{startAngle:M+$,endAngle:M+L(N)+$});O.push(U),M=U.endAngle}else{var{endAngle:z,startAngle:xe}=C,ce=er(0,z-xe),X=ce(N),se=tn(tn({},C),{},{startAngle:M+$,endAngle:M+X+$});O.push(se),M=se.endAngle}}),n.current=O,b.createElement(Xt,null,b.createElement(Z8,{sectors:O,activeShape:h,inactiveShape:f,allOtherPieProps:e,showLabels:!w}))})}function bse(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:a}=t,s=b.useRef(null),l=s.current;return n&&e&&e.length&&(!l||l!==e)?b.createElement(xse,{props:t,previousSectorsRef:s}):b.createElement(Z8,{sectors:e,activeShape:r,inactiveShape:a,allOtherPieProps:t,showLabels:!0})}function jse(t){var{hide:e,className:n,rootTabIndex:r}=t,a=gt("recharts-pie",n);return e?null:b.createElement(Xt,{tabIndex:r,className:a},b.createElement(bse,t))}var J8={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!el.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function wse(t){var e=ra(t,J8),n=b.useMemo(()=>ud(t.children,Ac),[t.children]),r=rt(e,!1),a=b.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=ke(l=>Aie(l,a,n));return b.createElement(b.Fragment,null,b.createElement(Vy,{fn:use,args:tn(tn({},e),{},{sectors:s})}),b.createElement(jse,fc({},e,{sectors:s})))}class fS extends b.PureComponent{constructor(){super(...arguments),$y(this,"id",Ho("recharts-pie-"))}render(){return b.createElement(b.Fragment,null,b.createElement(zie,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),b.createElement(cse,this.props),b.createElement(wse,this.props),this.props.children)}}$y(fS,"displayName","Pie");$y(fS,"defaultProps",J8);var _se=ie([In],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Sse=ie([_se,Ms,Ls],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Tse=t=>{var e=gr();return ke(n=>Ca(n,"xAxis",t,e))},Ese=t=>{var e=gr();return ke(n=>Ca(n,"yAxis",t,e))},mS=()=>ke(Sse),Ase=()=>ke(Are);function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){Nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Ose(t,"string");return typeof e=="symbol"?e:e+""}function Ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ise=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=t;if(a===!1||e.x==null||e.y==null)return null;var l=_O(_O({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},rt(a,!1)),Dw(a)),u;return b.isValidElement(a)?u=b.cloneElement(a,l):typeof a=="function"?u=a(l):u=b.createElement(H8,l),b.createElement(Xt,{className:"recharts-active-dot"},u)};function kse(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,s=ke(Rs),l=Ase();if(e==null||l==null)return null;var u=e.find(h=>l.includes(h.payload));return mt(u)?null:Ise({point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}var Pse=()=>{var t=Qt();return b.useEffect(()=>(t(Cie()),()=>{t(Oie())})),null},Rse=["children"];function Dse(t,e){if(t==null)return{};var n,r,a=Mse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SO=()=>{},e9=b.createContext({addErrorBar:SO,removeErrorBar:SO}),Lse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},t9=b.createContext(Lse);function pS(t){var{children:e}=t,n=Dse(t,Rse);return b.createElement(t9.Provider,{value:n},e)}var Bse=()=>b.useContext(t9),gS=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,data:l,stackId:u,hide:h,type:f,barSize:m}=t,[g,y]=b.useState([]),j=b.useCallback(T=>{y(E=>[...E,T])},[y]),w=b.useCallback(T=>{y(E=>E.filter(I=>I!==T))},[y]),S=gr();return b.createElement(e9.Provider,{value:{addErrorBar:j,removeErrorBar:w}},b.createElement(Vie,{type:f,data:l,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,errorBars:g,stackId:u,hide:h,barSize:m,isPanorama:S}),e)};function Use(t){var{addErrorBar:e,removeErrorBar:n}=b.useContext(e9);return b.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var Vse=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function n9(t,e,n){return(e=zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(null,arguments)}function qse(t,e){if(t==null)return{};var n,r,a=Fse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hse(t){var{direction:e,width:n,dataKey:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u}=t,h=qse(t,Vse),f=rt(h,!1),{data:m,dataPointFormatter:g,xAxisId:y,yAxisId:j,errorBarOffset:w}=Bse(),S=Tse(y),T=Ese(j);if(S?.scale==null||T?.scale==null||m==null||e==="x"&&S.type!=="number")return null;var E=m.map(I=>{var{x:N,y:O,value:D,errorVal:M}=g(I,r,e);if(!M)return null;var C=[],R,B;if(Array.isArray(M)?[R,B]=M:R=B=M,e==="x"){var{scale:$}=S,L=O+w,U=L+n,z=L-n,xe=$(D-R),ce=$(D+B);C.push({x1:ce,y1:U,x2:ce,y2:z}),C.push({x1:xe,y1:L,x2:ce,y2:L}),C.push({x1:xe,y1:U,x2:xe,y2:z})}else if(e==="y"){var{scale:X}=T,se=N+w,ge=se-n,Se=se+n,H=X(D-R),ae=X(D+B);C.push({x1:ge,y1:ae,x2:Se,y2:ae}),C.push({x1:se,y1:H,x2:se,y2:ae}),C.push({x1:ge,y1:H,x2:Se,y2:H})}var F="".concat(N+w,"px ").concat(O+w,"px");return b.createElement(Xt,Af({className:"recharts-errorBar",key:"bar-".concat(C.map(G=>"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)))},f),C.map(G=>{var ve=a?{transformOrigin:"".concat(G.x1-5,"px")}:void 0;return b.createElement(Os,{from:{transform:"scaleY(0)",transformOrigin:F},to:{transform:"scaleY(1)",transformOrigin:F},begin:s,easing:u,isActive:a,duration:l,key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2),style:{transformOrigin:F}},b.createElement("line",Af({},G,{style:ve})))}))});return b.createElement(Xt,{className:"recharts-errorBars"},E)}var r9=b.createContext(void 0);function Kse(t){var e=b.useContext(r9);return t??e??"x"}function a9(t){var{direction:e,children:n}=t;return b.createElement(r9.Provider,{value:e},n)}var i9={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Gse(t){var e=Kse(t.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:l}=ra(t,i9);return b.createElement(b.Fragment,null,b.createElement(Use,{dataKey:t.dataKey,direction:e}),b.createElement(Hse,Af({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:l})))}class s9 extends b.Component{render(){return b.createElement(Gse,this.props)}}n9(s9,"defaultProps",i9);n9(s9,"displayName","ErrorBar");var Wse="Invariant failed";function Yse(t,e){throw new Error(Wse)}var Xse=["x","y"];function mj(){return mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mj.apply(null,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eoe(t,e){if(t==null)return{};var n,r,a=toe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function toe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function noe(t,e){var{x:n,y:r}=t,a=eoe(t,Xse),s="".concat(n),l=parseInt(s,10),u="".concat(r),h=parseInt(u,10),f="".concat(e.height||a.height),m=parseInt(f,10),g="".concat(e.width||a.width),y=parseInt(g,10);return Mh(Mh(Mh(Mh(Mh({},e),a),l?{x:l}:{}),h?{y:h}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function o9(t){return b.createElement(bv,mj({shapeType:"rectangle",propTransformer:noe,activeClassName:"recharts-active-bar"},t))}var roe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Oe(e))return e;var s=Oe(r)||mt(r);return s?e(r,a):(s||Yse(),n)}};function qy(t,e){var n,r,a=ke(f=>Us(f,t)),s=ke(f=>rl(f,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:qr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Fr.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function vS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=mS(),{needClipX:s,needClipY:l,needClip:u}=qy(e,n);if(!u)return null;var{x:h,y:f,width:m,height:g}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?h:h-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}var aoe=["onMouseEnter","onMouseLeave","onClick"],ioe=["value","background","tooltipPosition"],soe=["onMouseEnter","onClick","onMouseLeave"];function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(null,arguments)}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fy(t,e,n){return(e=ooe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=loe(t,"string");return typeof e=="symbol"?e:e+""}function loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pj(t,e){if(t==null)return{};var n,r,a=coe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uoe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Jo(n,e),payload:t}]};function doe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Jo(s,e),hide:l,type:t.tooltipType,color:t.fill,unit:u}}}function hoe(t){var e=ke(Rs),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:h}=s,f=pj(s,aoe),m=Ly(l,r),g=By(u),y=Uy(h,r);if(!a||n==null)return null;var j=rt(a,!1);return b.createElement(b.Fragment,null,n.map((w,S)=>{var{value:T,background:E,tooltipPosition:I}=w,N=pj(w,ioe);if(!E)return null;var O=m(w,S),D=g(w,S),M=y(w,S),C=dr(dr(dr(dr(dr({option:a,isActive:String(S)===e},N),{},{fill:"#eee"},E),j),Wf(f,w,S)),{},{onMouseEnter:O,onMouseLeave:D,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return b.createElement(o9,Nf({key:"background-bar-".concat(S)},C))}))}function l9(t){var{data:e,props:n,showLabels:r}=t,a=rt(n,!1),{shape:s,dataKey:l,activeBar:u}=n,h=ke(Rs),f=ke(O8),{onMouseEnter:m,onClick:g,onMouseLeave:y}=n,j=pj(n,soe),w=Ly(m,l),S=By(y),T=Uy(g,l);return e?b.createElement(b.Fragment,null,e.map((E,I)=>{var N=u&&String(I)===h&&(f==null||l===f),O=N?u:s,D=dr(dr(dr({},a),E),{},{isActive:N,option:O,index:I,dataKey:l});return b.createElement(Xt,Nf({className:"recharts-bar-rectangle"},Wf(j,E,I),{onMouseEnter:w(E,I),onMouseLeave:S(E,I),onClick:T(E,I),key:"rectangle-".concat(E?.x,"-").concat(E?.y,"-").concat(E?.value,"-").concat(I)}),b.createElement(o9,D))}),r&&bs.renderCallByParent(n,e)):null}function foe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:h,onAnimationEnd:f,onAnimationStart:m}=e,g=n.current,y=zy(e,"recharts-bar-"),[j,w]=b.useState(!1),S=b.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),T=b.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return b.createElement(Os,{begin:l,duration:u,isActive:s,easing:h,from:{t:0},to:{t:1},onAnimationEnd:S,onAnimationStart:T,key:y},E=>{var{t:I}=E,N=I===1?r:r.map((O,D)=>{var M=g&&g[D];if(M){var C=er(M.x,O.x),R=er(M.y,O.y),B=er(M.width,O.width),$=er(M.height,O.height);return dr(dr({},O),{},{x:C(I),y:R(I),width:B(I),height:$(I)})}if(a==="horizontal"){var L=er(0,O.height),U=L(I);return dr(dr({},O),{},{y:O.y+O.height-U,height:U})}var z=er(0,O.width),xe=z(I);return dr(dr({},O),{},{width:xe})});return I>0&&(n.current=N),b.createElement(Xt,null,b.createElement(l9,{props:e,data:N,showLabels:!j}))})}function moe(t){var{data:e,isAnimationActive:n}=t,r=b.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?b.createElement(foe,{previousRectanglesRef:r,props:t}):b.createElement(l9,{props:t,data:e,showLabels:!0})}var c9=0,poe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Et(t,e)}};class goe extends b.PureComponent{constructor(){super(...arguments),Fy(this,"id",Ho("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:u,background:h,id:f,layout:m}=this.props;if(e)return null;var g=gt("recharts-bar",a),y=mt(f)?this.id:f;return b.createElement(Xt,{className:g},u&&b.createElement("defs",null,b.createElement(vS,{clipPathId:y,xAxisId:s,yAxisId:l})),b.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(y,")"):null},b.createElement(hoe,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),b.createElement(moe,this.props)),b.createElement(a9,{direction:m==="horizontal"?"y":"x"},this.props.children))}}var u9={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!el.isSsr,legendType:"rect",minPointSize:c9,xAxisId:0,yAxisId:0};function voe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:h,animationEasing:f,isAnimationActive:m}=ra(t,u9),{needClip:g}=qy(e,n),y=vy(),j=gr(),w=b.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:s,stackId:S5(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,s,t.stackId]),S=ud(t.children,Ac),T=ke(N=>Hoe(N,e,n,j,w,S));if(y!=="vertical"&&y!=="horizontal")return null;var E,I=T?.[0];return I==null||I.height==null||I.width==null?E=0:E=y==="vertical"?I.height/2:I.width/2,b.createElement(pS,{xAxisId:e,yAxisId:n,data:T,dataPointFormatter:poe,errorBarOffset:E},b.createElement(goe,Nf({},t,{layout:y,needClip:g,data:T,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:h,animationEasing:f,isAnimationActive:m})))}function yoe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:h,yAxisTicks:f,stackedData:m,displayedData:g,offset:y,cells:j}=t,w=e==="horizontal"?u:l,S=m?w.scale.domain():null,T=mQ({numericAxis:w});return g.map((E,I)=>{var N,O,D,M,C,R;m?N=cQ(m[I],S):(N=Et(E,n),Array.isArray(N)||(N=[T,N]));var B=roe(r,c9)(N[1],I);if(e==="horizontal"){var $,[L,U]=[u.scale(N[0]),u.scale(N[1])];O=f3({axis:l,ticks:h,bandSize:s,offset:a.offset,entry:E,index:I}),D=($=U??L)!==null&&$!==void 0?$:void 0,M=a.size;var z=L-U;if(C=Jr(z)?0:z,R={x:O,y:y.top,width:M,height:y.height},Math.abs(B)>0&&Math.abs(C)<Math.abs(B)){var xe=$n(C||B)*(Math.abs(B)-Math.abs(C));D-=xe,C+=xe}}else{var[ce,X]=[l.scale(N[0]),l.scale(N[1])];if(O=ce,D=f3({axis:u,ticks:f,bandSize:s,offset:a.offset,entry:E,index:I}),M=X-ce,C=a.size,R={x:y.left,y:D,width:y.width,height:C},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var se=$n(M||B)*(Math.abs(B)-Math.abs(M));M+=se}}var ge=dr(dr({},E),{},{x:O,y:D,width:M,height:C,value:m?N:N[1],payload:E,background:R,tooltipPosition:{x:O+M/2,y:D+C/2}},j&&j[I]&&j[I].props);return ge})}class jv extends b.PureComponent{render(){return b.createElement(gS,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},b.createElement(Pse,null),b.createElement(hS,{legendPayload:uoe(this.props)}),b.createElement(Vy,{fn:doe,args:this.props}),b.createElement(voe,this.props))}}Fy(jv,"displayName","Bar");Fy(jv,"defaultProps",u9);function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e,n){return(e=boe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function boe(t){var e=joe(t,"string");return typeof e=="symbol"?e:e+""}function joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var woe=(t,e)=>e,_oe=(t,e,n)=>n,Soe=(t,e,n,r)=>r,yS=(t,e,n,r,a)=>a,Toe=(t,e,n,r,a)=>a.maxBarSize,Eoe=(t,e,n,r,a,s)=>s,NO=(t,e,n)=>{var r=n??t;if(!mt(r))return _r(r,e,0)},Aoe=ie([xt,rm,woe,_oe,Soe],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Noe=(t,e,n,r)=>{var a=xt(t);return a==="horizontal"?sj(t,"yAxis",n,r):sj(t,"xAxis",e,r)},Coe=(t,e,n)=>{var r=xt(t);return r==="horizontal"?O6(t,"xAxis",e):O6(t,"yAxis",n)};function Ooe(t){return t.stackId!=null&&t.dataKey!=null}var Ioe=(t,e,n)=>{var r={},a=t.filter(Ooe),s=t.filter(f=>f.stackId==null),l=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),r),u=Object.entries(l).map(f=>{var[m,g]=f,y=g.map(w=>w.dataKey),j=NO(e,n,g[0].barSize);return{stackId:m,dataKeys:y,barSize:j}}),h=s.map(f=>{var m=[f.dataKey].filter(y=>y!=null),g=NO(e,n,f.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...h]},koe=ie([Aoe,Bte,Coe],Ioe),Poe=(t,e,n,r,a)=>{var s,l,u=xt(t),h=MD(t),{maxBarSize:f}=a,m=mt(f)?h:f,g,y;return u==="horizontal"?(g=Ca(t,"xAxis",e,r),y=Ni(t,"xAxis",e,r)):(g=Ca(t,"yAxis",n,r),y=Ni(t,"yAxis",n,r)),(s=(l=xf(g,y,!0))!==null&&l!==void 0?l:m)!==null&&s!==void 0?s:0},d9=(t,e,n,r)=>{var a=xt(t),s,l;return a==="horizontal"?(s=Ca(t,"xAxis",e,r),l=Ni(t,"xAxis",e,r)):(s=Ca(t,"yAxis",n,r),l=Ni(t,"yAxis",n,r)),xf(s,l)};function Roe(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=_r(t,n,0,!0),u,h=[];if(na(r[0].barSize)){var f=!1,m=n/s,g=r.reduce((E,I)=>E+(I.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&m>0&&(f=!0,m*=.9,g=s*m);var y=(n-g)/2>>0,j={offset:y-l,size:0};u=r.reduce((E,I)=>{var N,O={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:j.offset+j.size+l,size:f?m:(N=I.barSize)!==null&&N!==void 0?N:0}},D=[...E,O];return j=D[D.length-1].position,D},h)}else{var w=_r(e,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var S=(n-2*w-(s-1)*l)/s;S>1&&(S>>=0);var T=na(a)?Math.min(S,a):S;u=r.reduce((E,I,N)=>[...E,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:w+(S+l)*N+(S-T)/2,size:T}}],h)}return u}}var Doe=(t,e,n,r,a,s,l)=>{var u=mt(l)?e:l,h=Roe(n,r,a!==s?a:s,t,u);return a!==s&&h!=null&&(h=h.map(f=>Zp(Zp({},f),{},{position:Zp(Zp({},f.position),{},{offset:f.position.offset-a/2})}))),h},Moe=ie([koe,MD,Lte,LD,Poe,d9,Toe],Doe),Loe=(t,e,n,r)=>Ca(t,"xAxis",e,r),Boe=(t,e,n,r)=>Ca(t,"yAxis",n,r),Uoe=(t,e,n,r)=>Ni(t,"xAxis",e,r),Voe=(t,e,n,r)=>Ni(t,"yAxis",n,r),zoe=ie([Moe,yS],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),$oe=(t,e)=>{if(!(!t||e?.dataKey==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:a}=r;if(a){var s=a.find(l=>l.key===e.dataKey);return s}}}}},qoe=ie([rm,yS],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),Foe=ie([Noe,yS],$oe),Hoe=ie([In,Loe,Boe,Uoe,Voe,zoe,xt,Ty,d9,Foe,qoe,Eoe],(t,e,n,r,a,s,l,u,h,f,m,g)=>{var{chartData:y,dataStartIndex:j,dataEndIndex:w}=u;if(!(m==null||s==null||l!=="horizontal"&&l!=="vertical"||e==null||n==null||r==null||a==null||h==null)){var{data:S}=m,T;if(S!=null&&S.length>0?T=S:T=y?.slice(j,w+1),T!=null)return yoe({layout:l,barSettings:m,pos:s,bandSize:h,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:f,displayedData:T,offset:t,cells:g})}}),h9=t=>{var{chartData:e}=t,n=Qt(),r=gr();return b.useEffect(()=>r?()=>{}:(n(V6(e)),()=>{n(V6(void 0))}),[e,n,r]),null},CO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},f9=Oa({name:"brush",initialState:CO,reducers:{setBrushSettings(t,e){return e.payload==null?CO:e.payload}}}),{setBrushSettings:$he}=f9.actions,Koe=f9.reducer;function Goe(t,e,n){return(e=Woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xS{static create(e){return new xS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}Goe(xS,"EPS",1e-4);function Xoe(t){return(t%180+180)%180}var Qoe=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Xoe(a),l=s*Math.PI/180,u=Math.atan(r/n),h=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},Zoe={dots:[],areas:[],lines:[]},m9=Oa({name:"referenceElements",initialState:Zoe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ys(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ys(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ys(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:qhe,removeDot:Fhe,addArea:Hhe,removeArea:Khe,addLine:Ghe,removeLine:Whe}=m9.actions,Joe=m9.reducer,ele=b.createContext(void 0),tle=t=>{var{children:e}=t,[n]=b.useState("".concat(Ho("recharts"),"-clip")),r=mS();if(r==null)return null;var{x:a,y:s,width:l,height:u}=r;return b.createElement(ele.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:s,height:u,width:l}))),e)};function Fb(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function p9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function nle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Qoe(r,n)}function rle(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:u}=t;return e===1?{start:r?a:s,end:r?a+l:s+u}:{start:r?a+l:s+u,end:r?a:s}}function wv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function ale(t,e){return p9(t,e+1)}function ile(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:u}=e,h=0,f=1,m=l,g=function(){var w=r?.[h];if(w===void 0)return{v:p9(r,f)};var S=h,T,E=()=>(T===void 0&&(T=n(w,S)),T),I=w.coordinate,N=h===0||wv(t,I,E,m,u);N||(h=0,m=l,f+=1),N&&(m=I+t*(E()/2+a),h+=f)},y;f<=s.length;)if(y=g(),y)return y.v;return[]}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sle(t,e,n){return(e=ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ole(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cle(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:h}=e,f=function(y){var j=s[y],w,S=()=>(w===void 0&&(w=n(j,y)),w);if(y===l-1){var T=t*(j.coordinate+t*S()/2-h);s[y]=j=lr(lr({},j),{},{tickCoord:T>0?j.coordinate-T*t:j.coordinate})}else s[y]=j=lr(lr({},j),{},{tickCoord:j.coordinate});var E=wv(t,j.tickCoord,S,u,h);E&&(h=j.tickCoord-t*(S()/2+a),s[y]=lr(lr({},j),{},{isShow:!0}))},m=l-1;m>=0;m--)f(m);return s}function ule(t,e,n,r,a,s){var l=(r||[]).slice(),u=l.length,{start:h,end:f}=e;if(s){var m=r[u-1],g=n(m,u-1),y=t*(m.coordinate+t*g/2-f);l[u-1]=m=lr(lr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var j=wv(t,m.tickCoord,()=>g,h,f);j&&(f=m.tickCoord-t*(g/2+a),l[u-1]=lr(lr({},m),{},{isShow:!0}))}for(var w=s?u-1:u,S=function(I){var N=l[I],O,D=()=>(O===void 0&&(O=n(N,I)),O);if(I===0){var M=t*(N.coordinate-t*D()/2-h);l[I]=N=lr(lr({},N),{},{tickCoord:M<0?N.coordinate-M*t:N.coordinate})}else l[I]=N=lr(lr({},N),{},{tickCoord:N.coordinate});var C=wv(t,N.tickCoord,D,h,f);C&&(h=N.tickCoord+t*(D()/2+a),l[I]=lr(lr({},N),{},{isShow:!0}))},T=0;T<w;T++)S(T);return l}function bS(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:h,tickFormatter:f,unit:m,angle:g}=t;if(!a||!a.length||!r)return[];if(Oe(h)||el.isSsr){var y;return(y=ale(a,Oe(h)?h:0))!==null&&y!==void 0?y:[]}var j=[],w=u==="top"||u==="bottom"?"width":"height",S=m&&w==="width"?tf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(N,O)=>{var D=typeof f=="function"?f(N.value,O):N.value;return w==="width"?nle(tf(D,{fontSize:e,letterSpacing:n}),S,g):tf(D,{fontSize:e,letterSpacing:n})[w]},E=a.length>=2?$n(a[1].coordinate-a[0].coordinate):1,I=rle(s,E,w);return h==="equidistantPreserveStart"?ile(E,I,T,a,l):(h==="preserveStart"||h==="preserveStartEnd"?j=ule(E,I,T,a,l,h==="preserveStartEnd"):j=cle(E,I,T,a,l),j.filter(N=>N.isShow))}var dle=["viewBox"],hle=["viewBox"];function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){jS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e){if(t==null)return{};var n,r,a=fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jS(t,e,n){return(e=mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mle(t){var e=ple(t,"string");return typeof e=="symbol"?e:e+""}function ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class al extends b.Component{constructor(e){super(e),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,a=kO(e,dle),s=this.props,{viewBox:l}=s,u=kO(s,hle);return!Fb(r,l)||!Fb(a,u)||!Fb(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:a,height:s,orientation:l,tickSize:u,mirror:h,tickMargin:f}=this.props,m,g,y,j,w,S,T=h?-1:1,E=e.tickSize||u,I=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=g=e.coordinate,j=r+ +!h*s,y=j-T*E,S=y-T*f,w=I;break;case"left":y=j=e.coordinate,g=n+ +!h*a,m=g-T*E,w=m-T*f,S=I;break;case"right":y=j=e.coordinate,g=n+ +h*a,m=g+T*E,w=m+T*f,S=I;break;default:m=g=e.coordinate,j=r+ +h*s,y=j+T*E,S=y+T*f,w=I;break}return{line:{x1:m,y1:y,x2:g,y2:j},tick:{x:w,y:S}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:u}=this.props,h=Nn(Nn(Nn({},rt(this.props,!1)),rt(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!l||s==="bottom"&&l);h=Nn(Nn({},h),{},{x1:e,y1:n+f*a,x2:e+r,y2:n+f*a})}else{var m=+(s==="left"&&!l||s==="right"&&l);h=Nn(Nn({},h),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+a})}return b.createElement("line",Au({},h,{className:gt("recharts-cartesian-axis-line",Fo(u,"className"))}))}static renderTickItem(e,n,r){var a,s=gt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))a=b.cloneElement(e,Nn(Nn({},n),{},{className:s}));else if(typeof e=="function")a=e(Nn(Nn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=gt(l,e.className)),a=b.createElement(My,Au({},n,{className:l}),r)}return a}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:l,tickFormatter:u,unit:h}=this.props,f=bS(Nn(Nn({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=rt(this.props,!1),j=rt(l,!1),w=Nn(Nn({},y),{},{fill:"none"},rt(a,!1)),S=f.map((T,E)=>{var{line:I,tick:N}=this.getTickLineCoord(T),O=Nn(Nn(Nn(Nn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:s},j),N),{},{index:E,payload:T,visibleTicksCount:f.length,tickFormatter:u});return b.createElement(Xt,Au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Wf(this.props,T,E)),a&&b.createElement("line",Au({},w,I,{className:gt("recharts-cartesian-axis-tick-line",Fo(a,"className"))})),l&&al.renderTickItem(l,O,"".concat(typeof u=="function"?u(T.value,E):T.value).concat(h||"")))});return S.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:a,hide:s}=this.props;if(s)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:b.createElement(Xt,{className:gt("recharts-cartesian-axis",a),ref:u=>{if(u){var h=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var f=h[0];if(f){var m=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(m!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Gr.renderCallByParent(this.props))}}jS(al,"displayName","CartesianAxis");jS(al,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gle=["x1","y1","x2","y2","key"],vle=["offset"],yle=["xAxisId","yAxisId"],xle=["xAxisId","yAxisId"];function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return(e=jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function _v(t,e){if(t==null)return{};var n,r,a=_le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sle=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:l,ry:u}=t;return b.createElement("rect",{x:r,y:a,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g9(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:s,y2:l,key:u}=e,h=_v(e,gle),f=rt(h,!1),{offset:m}=f,g=_v(f,vle);n=b.createElement("line",Yl({},g,{x1:r,y1:a,x2:s,y2:l,fill:"none",key:u}))}return n}function Tle(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=_v(t,yle),h=a.map((f,m)=>{var g=hr(hr({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return g9(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Ele(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=t,u=_v(t,xle),h=a.map((f,m)=>{var g=hr(hr({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return g9(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function Ale(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:l,horizontalPoints:u,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var j=!f[y+1],w=j?a+l-g:f[y+1]-g;if(w<=0)return null;var S=y%e.length;return b.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:w,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Nle(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:l,height:u,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var j=!f[y+1],w=j?a+l-g:f[y+1]-g;if(w<=0)return null;var S=y%n.length;return b.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:w,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Cle=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return w5(bS(hr(hr(hr({},al.defaultProps),n),{},{ticks:_5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},Ole=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return w5(bS(hr(hr(hr({},al.defaultProps),n),{},{ticks:_5(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},Ile={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Sv(t){var e=N5(),n=C5(),r=A5(),a=hr(hr({},ra(t,Ile)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:h,width:f,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:j}=a,w=gr(),S=ke(B=>I6(B,"xAxis",s,w)),T=ke(B=>I6(B,"yAxis",l,w));if(!Oe(f)||f<=0||!Oe(m)||m<=0||!Oe(u)||u!==+u||!Oe(h)||h!==+h)return null;var E=a.verticalCoordinatesGenerator||Cle,I=a.horizontalCoordinatesGenerator||Ole,{horizontalPoints:N,verticalPoints:O}=a;if((!N||!N.length)&&typeof I=="function"){var D=y&&y.length,M=I({yAxis:T?hr(hr({},T),{},{ticks:D?y:T.ticks}):void 0,width:e,height:n,offset:r},D?!0:g);ef(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}if((!O||!O.length)&&typeof E=="function"){var C=j&&j.length,R=E({xAxis:S?hr(hr({},S),{},{ticks:C?j:S.ticks}):void 0,width:e,height:n,offset:r},C?!0:g);ef(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(O=R)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Sle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Ale,Yl({},a,{horizontalPoints:N})),b.createElement(Nle,Yl({},a,{verticalPoints:O})),b.createElement(Tle,Yl({},a,{offset:r,horizontalPoints:N,xAxis:S,yAxis:T})),b.createElement(Ele,Yl({},a,{offset:r,verticalPoints:O,xAxis:S,yAxis:T})))}Sv.displayName="CartesianGrid";var v9=(t,e,n,r)=>Ca(t,"xAxis",e,r),y9=(t,e,n,r)=>Ni(t,"xAxis",e,r),x9=(t,e,n,r)=>Ca(t,"yAxis",n,r),b9=(t,e,n,r)=>Ni(t,"yAxis",n,r),kle=ie([xt,v9,x9,y9,b9],(t,e,n,r,a)=>Zo(t,"xAxis")?xf(e,r,!1):xf(n,a,!1)),Ple=(t,e,n,r,a)=>a,Rle=ie([rm,Ple],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Dle=ie([xt,v9,x9,y9,b9,Rle,kle,Ty],(t,e,n,r,a,s,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=u;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null)){var{dataKey:g,data:y}=s,j;if(y!=null&&y.length>0?j=y:j=h?.slice(f,m+1),j!=null)return ece({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:j})}}),Mle=["type","layout","connectNulls","needClip"],Lle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function j9(t,e){if(t==null)return{};var n,r,a=Ble(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ble(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hy(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(null,arguments)}var zle=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Jo(n,e),payload:t}]};function $le(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:u,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:Jo(l,e),hide:u,type:t.tooltipType,color:t.stroke,unit:h}}}var w9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qle(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var Fle=(t,e,n)=>{var r=n.reduce((g,y)=>g+y);if(!r)return w9(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,u=[],h=0,f=0;h<n.length;f+=n[h],++h)if(f+n[h]>s){u=[...n.slice(0,h),s-f];break}var m=u.length%2===0?[0,l]:[l];return[...qle(n,a),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function Hle(t,e){var n;if(b.isValidElement(t))n=b.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=gt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=b.createElement(H8,Xu({},e,{className:r}))}return n}function Kle(t,e){return t==null?!1:e?!0:t.length===1}function Gle(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r;if(!Kle(n,a))return null;var u=wR(a),h=rt(r,!1),f=rt(a,!0),m=n.map((y,j)=>{var w=Ba(Ba(Ba({key:"dot-".concat(j),r:3},h),f),{},{index:j,cx:y.x,cy:y.y,dataKey:s,value:y.value,payload:y.payload,points:n});return Hle(a,w)}),g={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):null};return b.createElement(Xt,Xu({className:"recharts-line-dots",key:"dots"},g),m)}function gj(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s,showLabels:l}=t,{type:u,layout:h,connectNulls:f,needClip:m}=s,g=j9(s,Mle),y=Ba(Ba({},rt(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):null,points:r,type:u,layout:h,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(yy,Xu({},y,{pathRef:n})),b.createElement(Gle,{points:r,clipPathId:e,props:s}),l&&bs.renderCallByParent(s,r))}function Wle(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Yle(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:h,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:y,width:j,height:w,onAnimationEnd:S,onAnimationStart:T}=n,E=a.current,I=zy(n,"recharts-line-"),[N,O]=b.useState(!1),D=b.useCallback(()=>{typeof S=="function"&&S(),O(!1)},[S]),M=b.useCallback(()=>{typeof T=="function"&&T(),O(!0)},[T]),C=Wle(r.current),R=s.current;return b.createElement(Os,{begin:f,duration:m,isActive:h,easing:g,from:{t:0},to:{t:1},onAnimationEnd:D,onAnimationStart:M,key:I},B=>{var{t:$}=B,L=er(R,C+R),U=Math.min(L($),C),z;if(u){var xe="".concat(u).split(/[,\s]+/gim).map(se=>parseFloat(se));z=Fle(U,C,xe)}else z=w9(C,U);if(E){var ce=E.length/l.length,X=$===1?l:l.map((se,ge)=>{var Se=Math.floor(ge*ce);if(E[Se]){var H=E[Se],ae=er(H.x,se.x),F=er(H.y,se.y);return Ba(Ba({},se),{},{x:ae($),y:F($)})}if(y){var G=er(j*2,se.x),ve=er(w/2,se.y);return Ba(Ba({},se),{},{x:G($),y:ve($)})}return Ba(Ba({},se),{},{x:se.x,y:se.y})});return a.current=X,b.createElement(gj,{props:n,points:X,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:z})}return $>0&&C>0&&(a.current=l,s.current=U),b.createElement(gj,{props:n,points:l,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:z})})}function Xle(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:a}=n,s=b.useRef(null),l=b.useRef(0),u=b.useRef(null),h=s.current;return a&&r&&r.length&&h!==r?b.createElement(Yle,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:l,pathRef:u}):b.createElement(gj,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var Qle=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Et(t.payload,e)});class Zle extends b.Component{constructor(){super(...arguments),Hy(this,"id",Ho("recharts-line-"))}render(){var e,{hide:n,dot:r,points:a,className:s,xAxisId:l,yAxisId:u,top:h,left:f,width:m,height:g,id:y,needClip:j,layout:w}=this.props;if(n)return null;var S=gt("recharts-line",s),T=mt(y)?this.id:y,{r:E=3,strokeWidth:I=2}=(e=rt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},N=wR(r),O=E*2+I;return b.createElement(b.Fragment,null,b.createElement(Xt,{className:S},j&&b.createElement("defs",null,b.createElement(vS,{clipPathId:T,xAxisId:l,yAxisId:u}),!N&&b.createElement("clipPath",{id:"clipPath-dots-".concat(T)},b.createElement("rect",{x:f-O/2,y:h-O/2,width:m+O,height:g+O}))),b.createElement(Xle,{props:this.props,clipPathId:T}),b.createElement(a9,{direction:w==="horizontal"?"y":"x"},b.createElement(pS,{xAxisId:l,yAxisId:u,data:a,dataPointFormatter:Qle,errorBarOffset:0},this.props.children))),b.createElement(kse,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!el.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Jle(t){var e=ra(t,_9),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:h,hide:f,isAnimationActive:m,label:g,legendType:y,xAxisId:j,yAxisId:w}=e,S=j9(e,Lle),{needClip:T}=qy(j,w),{height:E,width:I,x:N,y:O}=mS(),D=vy(),M=gr(),C=b.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),R=ke(B=>Dle(B,j,w,M,C));return D!=="horizontal"&&D!=="vertical"?null:b.createElement(Zle,Xu({},S,{connectNulls:u,dot:h,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:f,label:g,legendType:y,xAxisId:j,yAxisId:w,points:R,layout:D,height:E,width:I,left:N,top:O,needClip:T}))}function ece(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:h}=t;return h.map((f,m)=>{var g=Et(f,l);return e==="horizontal"?{x:tv({axis:n,ticks:a,bandSize:u,entry:f,index:m}),y:mt(g)?null:r.scale(g),value:g,payload:f}:{x:mt(g)?null:n.scale(g),y:tv({axis:r,ticks:s,bandSize:u,entry:f,index:m}),value:g,payload:f}})}class Tv extends b.PureComponent{render(){return b.createElement(gS,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},b.createElement(hS,{legendPayload:zle(this.props)}),b.createElement(Vy,{fn:$le,args:this.props}),b.createElement(Jle,this.props))}}Hy(Tv,"displayName","Line");Hy(Tv,"defaultProps",_9);function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return(e=nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return typeof e=="symbol"?e:e+""}function rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ace={xAxis:{},yAxis:{},zAxis:{}},S9=Oa({name:"cartesianAxis",initialState:ace,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=MO(MO({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ice,removeXAxis:sce,addYAxis:oce,removeYAxis:lce,addZAxis:cce,removeZAxis:uce,updateYAxisWidth:dce}=S9.actions,hce=S9.reducer;function T9(t,e,n){return(e=fce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pce(t){var e=Qt();return b.useEffect(()=>(e(cce(t)),()=>{e(uce(t))}),[t,e]),null}class wS extends b.Component{render(){return b.createElement(pce,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:No.allowDuplicatedCategory,allowDataOverflow:No.allowDataOverflow,reversed:No.reversed,includeHidden:No.includeHidden})}}T9(wS,"displayName","ZAxis");T9(wS,"defaultProps",{zAxisId:0,range:No.range,scale:No.scale,type:No.type});var gce=["option","isActive"];function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(null,arguments)}function vce(t,e){if(t==null)return{};var n,r,a=yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xce(t){var{option:e,isActive:n}=t,r=vce(t,gce);return typeof e=="string"?b.createElement(bv,nf({option:b.createElement(Uw,nf({type:e},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(bv,nf({option:e,isActive:n,shapeType:"symbols"},r))}var bce=(t,e,n,r,a,s,l)=>Ca(t,"xAxis",e,l),jce=(t,e,n,r,a,s,l)=>Ni(t,"xAxis",e,l),wce=(t,e,n,r,a,s,l)=>Ca(t,"yAxis",n,l),_ce=(t,e,n,r,a,s,l)=>Ni(t,"yAxis",n,l),Sce=(t,e,n,r)=>Rne(t,"zAxis",r,!1),Tce=(t,e,n,r,a)=>a,Ece=(t,e,n,r,a,s)=>s,Ace=(t,e,n,r,a,s,l)=>Ty(t,e,n,l),Nce=ie([rm,Tce],(t,e)=>{if(t.some(n=>n.type==="scatter"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),Cce=ie([Ace,bce,jce,wce,_ce,Sce,Nce,Ece],(t,e,n,r,a,s,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=t;if(l!=null){var g;if(l?.data!=null&&l.data.length>0?g=l.data:g=h?.slice(f,m+1),!(g==null||e==null||r==null||n==null||a==null||n?.length===0||a?.length===0))return Vce({displayedData:g,xAxis:e,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:n,yAxisTicks:a,cells:u})}}),Oce=["onMouseEnter","onClick","onMouseLeave"],Ice=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function E9(t,e){if(t==null)return{};var n,r,a=kce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(null,arguments)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){_S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _S(t,e,n){return(e=Pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dce=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Jo(n,e),payload:t}]};function Mce(t){var{points:e,props:n}=t,{line:r,lineType:a,lineJointType:s}=n;if(!r)return null;var l=rt(n,!1),u=rt(r,!1),h,f;if(a==="joint")h=e.map(T=>({x:T.cx,y:T.cy}));else if(a==="fitting"){var{xmin:m,xmax:g,a:y,b:j}=rW(e),w=T=>y*T+j;h=[{x:m,y:w(m)},{x:g,y:w(g)}]}var S=Pr(Pr(Pr({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:h});return b.isValidElement(r)?f=b.cloneElement(r,S):typeof r=="function"?f=r(S):f=b.createElement(yy,Qu({},S,{type:s})),b.createElement(Xt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}function A9(t){var{points:e,showLabels:n,allOtherScatterProps:r}=t,{shape:a,activeShape:s,dataKey:l}=r,u=rt(r,!1),h=ke(Rs),{onMouseEnter:f,onClick:m,onMouseLeave:g}=r,y=E9(r,Oce),j=Ly(f,r.dataKey),w=By(g),S=Uy(m,r.dataKey);return e==null?null:b.createElement(b.Fragment,null,b.createElement(Mce,{points:e,props:r}),e.map((T,E)=>{var I=s&&h===String(E),N=I?s:a,O=Pr(Pr(Pr({key:"symbol-".concat(E)},u),T),{},{[Jw]:E,[e_]:String(l)});return b.createElement(Xt,Qu({className:"recharts-scatter-symbol"},Wf(y,T,E),{onMouseEnter:j(T,E),onMouseLeave:w(T,E),onClick:S(T,E),key:"symbol-".concat(T?.cx,"-").concat(T?.cy,"-").concat(T?.size,"-").concat(E)}),b.createElement(xce,Qu({option:N,isActive:I},O)))}),n&&bs.renderCallByParent(r,e))}function Lce(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:u}=n,h=e.current,f=zy(n,"recharts-scatter-"),[m,g]=b.useState(!1),y=b.useCallback(()=>{g(!1)},[]),j=b.useCallback(()=>{g(!0)},[]);return b.createElement(Os,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:j,key:f},w=>{var{t:S}=w,T=S===1?r:r.map((E,I)=>{var N=h&&h[I];if(N){var O=er(N.cx,E.cx),D=er(N.cy,E.cy),M=er(N.size,E.size);return Pr(Pr({},E),{},{cx:O(S),cy:D(S),size:M(S)})}var C=er(0,E.size);return Pr(Pr({},E),{},{size:C(S)})});return S>0&&(e.current=T),b.createElement(Xt,null,b.createElement(A9,{points:T,allOtherScatterProps:n,showLabels:!m}))})}function Bce(t){var{points:e,isAnimationActive:n}=t,r=b.useRef(null),a=r.current;return n&&e&&e.length&&(!a||a!==e)?b.createElement(Lce,{props:t,previousPointsRef:r}):b.createElement(A9,{points:e,allOtherScatterProps:t,showLabels:!0})}function Uce(t){var{dataKey:e,points:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:u,tooltipType:h}=t;return{dataDefinedOnItem:n?.map(f=>f.tooltipPayload),positions:n?.map(f=>f.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:s,nameKey:void 0,dataKey:e,name:Jo(l,e),hide:u,type:h,color:s,unit:""}}}function Vce(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:a,scatterSettings:s,xAxisTicks:l,yAxisTicks:u,cells:h}=t,f=mt(n.dataKey)?s.dataKey:n.dataKey,m=mt(r.dataKey)?s.dataKey:r.dataKey,g=a&&a.dataKey,y=a?a.range:wS.defaultProps.range,j=y&&y[0],w=n.scale.bandwidth?n.scale.bandwidth():0,S=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((T,E)=>{var I=Et(T,f),N=Et(T,m),O=!mt(g)&&Et(T,g)||"-",D=[{name:mt(n.dataKey)?s.name:n.name||n.dataKey,unit:n.unit||"",value:I,payload:T,dataKey:f,type:s.tooltipType},{name:mt(r.dataKey)?s.name:r.name||r.dataKey,unit:r.unit||"",value:N,payload:T,dataKey:m,type:s.tooltipType}];O!=="-"&&D.push({name:a.name||a.dataKey,unit:a.unit||"",value:O,payload:T,dataKey:g,type:s.tooltipType});var M=tv({axis:n,ticks:l,bandSize:w,entry:T,index:E,dataKey:f}),C=tv({axis:r,ticks:u,bandSize:S,entry:T,index:E,dataKey:m}),R=O!=="-"?a.scale(O):j,B=Math.sqrt(Math.max(R,0)/Math.PI);return Pr(Pr({},T),{},{cx:M,cy:C,x:M-B,y:C-B,width:2*B,height:2*B,size:R,node:{x:I,y:N,z:O},tooltipPayload:D,tooltipPosition:{x:M,y:C},payload:T},h&&h[E]&&h[E].props)})}var zce=(t,e,n)=>({x:t.cx,y:t.cy,value:n==="x"?+t.node.x:+t.node.y,errorVal:Et(t,e)});function $ce(t){var e=b.useRef(Ho("recharts-scatter-")),{hide:n,points:r,className:a,needClip:s,xAxisId:l,yAxisId:u,id:h,children:f}=t;if(n)return null;var m=gt("recharts-scatter",a),g=mt(h)?e.current:h;return b.createElement(Xt,{className:m,clipPath:s?"url(#clipPath-".concat(g,")"):null},s&&b.createElement("defs",null,b.createElement(vS,{clipPathId:g,xAxisId:l,yAxisId:u})),b.createElement(pS,{xAxisId:l,yAxisId:u,data:r,dataPointFormatter:zce,errorBarOffset:0},f),b.createElement(Xt,{key:"recharts-scatter-symbols"},b.createElement(Bce,t)))}var N9={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!el.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function qce(t){var e=ra(t,N9),{animationBegin:n,animationDuration:r,animationEasing:a,hide:s,isAnimationActive:l,legendType:u,lineJointType:h,lineType:f,shape:m,xAxisId:g,yAxisId:y,zAxisId:j}=e,w=E9(e,Ice),{needClip:S}=qy(g,y),T=b.useMemo(()=>ud(t.children,Ac),[t.children]),E=b.useMemo(()=>({name:t.name,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey}),[t.data,t.dataKey,t.name,t.tooltipType]),I=gr(),N=ke(O=>Cce(O,g,y,j,E,T,I));return S==null?null:b.createElement(b.Fragment,null,b.createElement(Vy,{fn:Uce,args:Pr(Pr({},t),{},{points:N})}),b.createElement($ce,Qu({},w,{xAxisId:g,yAxisId:y,zAxisId:j,lineType:f,lineJointType:h,legendType:u,shape:m,hide:s,isAnimationActive:l,animationBegin:n,animationDuration:r,animationEasing:a,points:N,needClip:S})))}class SS extends b.Component{render(){return b.createElement(gS,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},b.createElement(hS,{legendPayload:Dce(this.props)}),b.createElement(qce,this.props))}}_S(SS,"displayName","Scatter");_S(SS,"defaultProps",N9);var Fce=["children"],Hce=["dangerouslySetInnerHTML","ticks"];function C9(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vj(){return vj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vj.apply(null,arguments)}function O9(t,e){if(t==null)return{};var n,r,a=Wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yce(t){var e=Qt(),n=b.useMemo(()=>{var{children:s}=t,l=O9(t,Fce);return l},[t]),r=ke(s=>Us(s,n.id)),a=n===r;return b.useEffect(()=>(e(ice(n)),()=>{e(sce(n))}),[n,e]),a?t.children:null}var Xce=t=>{var{xAxisId:e,className:n}=t,r=ke(E5),a=gr(),s="xAxis",l=ke(j=>gd(j,s,e,a)),u=ke(j=>d8(j,s,e,a)),h=ke(j=>o8(j,e)),f=ke(j=>Cne(j,e));if(h==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=t,y=O9(t,Hce);return b.createElement(al,vj({},y,{scale:l,x:f.x,y:f.y,width:h.width,height:h.height,className:gt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},Qce=t=>{var e,n,r,a,s;return b.createElement(Yce,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},b.createElement(Xce,t))};class Cf extends b.Component{render(){return b.createElement(Qce,this.props)}}C9(Cf,"displayName","XAxis");C9(Cf,"defaultProps",{allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,height:qr.height,hide:!1,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tickCount:qr.tickCount,type:qr.type,xAxisId:0});var Zce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,h=a+s,f=l+h+u+(n?r:0);return Math.round(f)}return 0},Jce=["dangerouslySetInnerHTML","ticks"];function I9(t,e,n){return(e=eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yj(){return yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yj.apply(null,arguments)}function nue(t,e){if(t==null)return{};var n,r,a=rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aue(t){var e=Qt();return b.useEffect(()=>(e(oce(t)),()=>{e(lce(t))}),[t,e]),null}var iue=t=>{var e,{yAxisId:n,className:r,width:a,label:s}=t,l=b.useRef(null),u=b.useRef(null),h=ke(E5),f=gr(),m=Qt(),g="yAxis",y=ke(N=>gd(N,g,n,f)),j=ke(N=>l8(N,n)),w=ke(N=>One(N,n)),S=ke(N=>d8(N,g,n,f));if(b.useLayoutEffect(()=>{var N;if(!(a!=="auto"||!j||oS(s)||b.isValidElement(s))){var O=l.current,D=O==null||(N=O.tickRefs)===null||N===void 0?void 0:N.current,{tickSize:M,tickMargin:C}=O.props,R=Zce({ticks:D,label:u.current,labelGapWithTick:5,tickSize:M,tickMargin:C});Math.round(j.width)!==Math.round(R)&&m(dce({id:n,width:R}))}},[l,l==null||(e=l.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,j?.width,j,m,s,n,a]),j==null||w==null)return null;var{dangerouslySetInnerHTML:T,ticks:E}=t,I=nue(t,Jce);return b.createElement(al,yj({},I,{ref:l,labelRef:u,scale:y,x:w.x,y:w.y,width:j.width,height:j.height,className:gt("recharts-".concat(g," ").concat(g),r),viewBox:h,ticks:S}))},sue=t=>{var e,n,r,a,s;return b.createElement(b.Fragment,null,b.createElement(aue,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(a=t.minTickGap)!==null&&a!==void 0?a:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),b.createElement(iue,t))},oue={allowDataOverflow:Fr.allowDataOverflow,allowDecimals:Fr.allowDecimals,allowDuplicatedCategory:Fr.allowDuplicatedCategory,hide:!1,mirror:Fr.mirror,orientation:Fr.orientation,padding:Fr.padding,reversed:Fr.reversed,scale:Fr.scale,tickCount:Fr.tickCount,type:Fr.type,width:Fr.width,yAxisId:0};class Of extends b.Component{render(){return b.createElement(sue,this.props)}}I9(Of,"displayName","YAxis");I9(Of,"defaultProps",oue);var Hb={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function lue(){if(BO)return Kb;BO=1;var t=Zu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(h,f,m,g,y){var j=a(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=l(function(){function T(D){if(!E){if(E=!0,I=D,D=g(D),y!==void 0&&w.hasValue){var M=w.value;if(y(M,D))return N=M}return N=D}if(M=N,n(I,D))return M;var C=g(D);return y!==void 0&&y(M,C)?(I=D,M):(I=D,N=C)}var E=!1,I,N,O=m===void 0?null:m;return[function(){return T(f())},O===null?void 0:function(){return T(O())}]},[f,m,g,y]);var S=r(h,j[0],j[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},Kb}var UO;function cue(){return UO||(UO=1,Hb.exports=lue()),Hb.exports}cue();function uue(t){t()}function due(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var VO={notify(){},get:()=>[]};function hue(t,e){let n,r=VO,a=0,s=!1;function l(S){m();const T=r.subscribe(S);let E=!1;return()=>{E||(E=!0,T(),g())}}function u(){r.notify()}function h(){w.onStateChange&&w.onStateChange()}function f(){return s}function m(){a++,n||(n=t.subscribe(h),r=due())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=VO)}function y(){s||(s=!0,m())}function j(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:y,tryUnsubscribe:j,getListeners:()=>r};return w}var fue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mue=fue(),pue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gue=pue(),vue=()=>mue||gue?b.useLayoutEffect:b.useEffect,yue=vue(),xue=Symbol.for("react-redux-context"),bue=typeof globalThis<"u"?globalThis:{};function jue(){if(!b.createContext)return{};const t=bue[xue]??=new Map;let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var wue=jue();function _ue(t){const{children:e,context:n,serverState:r,store:a}=t,s=b.useMemo(()=>{const h=hue(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),l=b.useMemo(()=>a.getState(),[a]);yue(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,l]);const u=n||wue;return b.createElement(u.Provider,{value:s},e)}var Sue=_ue,Tue=(t,e)=>e,TS=ie([Tue,xt,Fte,Hn,E8,Vs,Rre,In],Ure),ES=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},k9=Aa("mouseClick"),P9=Yf();P9.startListening({actionCreator:k9,effect:(t,e)=>{var n=t.payload,r=TS(e.getState(),ES(n));r?.activeIndex!=null&&e.dispatch(Fne({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var xj=Aa("mouseMove"),R9=Yf();R9.startListening({actionCreator:xj,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=Z_(r,r.tooltip.settings.shared),s=TS(r,ES(n));a==="axis"&&(s?.activeIndex!=null?e.dispatch(x8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(y8()))}});function Eue(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var zO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},D9=Oa({name:"rootProps",initialState:zO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Aue=D9.reducer,{updateOptions:Nue}=D9.actions,M9=Oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cue}=M9.actions,Oue=M9.reducer,L9=Aa("keyDown"),B9=Aa("focus"),AS=Yf();AS.startListening({actionCreator:L9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(J_(a,Ec(n))),u=Vs(n);if(s==="Enter"){var h=gv(n,"axis","hover",String(a.index));e.dispatch(lj({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var f=Dne(n),m=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,y=l+g*m;if(!(u==null||y>=u.length||y<0)){var j=gv(n,"axis","hover",String(y));e.dispatch(lj({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});AS.startListening({actionCreator:B9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=gv(n,"axis","hover",String(s));e.dispatch(lj({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ba=Aa("externalEvent"),U9=Yf();U9.startListening({actionCreator:ba,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Sre(n),activeDataKey:O8(n),activeIndex:Rs(n),activeLabel:C8(n),activeTooltipIndex:Rs(n),isTooltipActive:Tre(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Iue=ie([vd],t=>t.tooltipItemPayloads),kue=ie([Iue,sm,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(u=>u.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),V9=Aa("touchMove"),z9=Yf();z9.startListening({actionCreator:V9,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=Z_(r,r.tooltip.settings.shared);if(a==="axis"){var s=TS(r,ES({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(x8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=n.touches[0],h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(Jw),m=(l=h.getAttribute(e_))!==null&&l!==void 0?l:void 0,g=kue(e.getState(),f,m);e.dispatch(v8({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var Pue=ZR({brush:Koe,cartesianAxis:hce,chartData:tae,graphicalItems:Mie,layout:GX,legend:OQ,options:Xre,polarAxis:bie,polarOptions:Oue,referenceElements:Joe,rootProps:Aue,tooltip:Hne}),Rue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yX({reducer:Pue,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([P9.middleware,R9.middleware,AS.middleware,U9.middleware,z9.middleware]),devTools:{serialize:{replacer:Eue},name:"recharts-".concat(n)}})};function $9(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=gr(),s=b.useRef(null);if(a)return n;s.current==null&&(s.current=Rue(e,r));var l=Hw;return b.createElement(Sue,{context:l,store:s.current},n)}function q9(t){var{layout:e,width:n,height:r,margin:a}=t,s=Qt(),l=gr();return b.useEffect(()=>{l||(s(FX(e)),s(HX({width:n,height:r})),s(qX(a)))},[s,l,e,n,r,a]),null}function F9(t){var e=Qt();return b.useEffect(()=>{e(Nue(t))},[e,t]),null}var Due=["children"];function Mue(t,e){if(t==null)return{};var n,r,a=Lue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}var Bue={width:"100%",height:"100%"},Uue=b.forwardRef((t,e)=>{var n=N5(),r=C5(),a=P5();if(!Hu(n)||!Hu(r))return null;var{children:s,otherAttributes:l,title:u,desc:h}=t,f,m;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0,b.createElement(_R,Ev({},l,{title:u,desc:h,role:m,tabIndex:f,width:n,height:r,style:Bue,ref:e}),s)}),Vue=t=>{var{children:e}=t,n=ke(gy);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return b.createElement(_R,{width:r,height:a,x:l,y:s},e)},$O=b.forwardRef((t,e)=>{var{children:n}=t,r=Mue(t,Due),a=gr();return a?b.createElement(Vue,null,n):b.createElement(Uue,Ev({ref:e},r),n)});function zue(){var t=Qt(),[e,n]=b.useState(null),r=ke(jQ);return b.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;na(s)&&s!==r&&t(KX(s))}},[e,t,r]),n}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e,n){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue=b.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:j,onTouchMove:w,onTouchStart:S,style:T,width:E}=t,I=Qt(),[N,O]=b.useState(null),[D,M]=b.useState(null);aae();var C=zue(),R=b.useCallback(F=>{C(F),typeof e=="function"&&e(F),O(F),M(F)},[C,e,O,M]),B=b.useCallback(F=>{I(k9(F)),I(ba({handler:s,reactEvent:F}))},[I,s]),$=b.useCallback(F=>{I(xj(F)),I(ba({handler:f,reactEvent:F}))},[I,f]),L=b.useCallback(F=>{I(y8()),I(ba({handler:m,reactEvent:F}))},[I,m]),U=b.useCallback(F=>{I(xj(F)),I(ba({handler:g,reactEvent:F}))},[I,g]),z=b.useCallback(()=>{I(B9())},[I]),xe=b.useCallback(F=>{I(L9(F.key))},[I]),ce=b.useCallback(F=>{I(ba({handler:l,reactEvent:F}))},[I,l]),X=b.useCallback(F=>{I(ba({handler:u,reactEvent:F}))},[I,u]),se=b.useCallback(F=>{I(ba({handler:h,reactEvent:F}))},[I,h]),ge=b.useCallback(F=>{I(ba({handler:y,reactEvent:F}))},[I,y]),Se=b.useCallback(F=>{I(ba({handler:S,reactEvent:F}))},[I,S]),H=b.useCallback(F=>{I(V9(F)),I(ba({handler:w,reactEvent:F}))},[I,w]),ae=b.useCallback(F=>{I(ba({handler:j,reactEvent:F}))},[I,j]);return b.createElement(M8.Provider,{value:N},b.createElement(mW.Provider,{value:D},b.createElement("div",{className:gt("recharts-wrapper",r),style:$ue({position:"relative",cursor:"default",width:E,height:a},T),onClick:B,onContextMenu:ce,onDoubleClick:X,onFocus:z,onKeyDown:xe,onMouseDown:se,onMouseEnter:$,onMouseLeave:L,onMouseMove:U,onMouseUp:ge,onTouchEnd:ae,onTouchMove:H,onTouchStart:Se,ref:R},n)))}),Gue=["children","className","width","height","style","compact","title","desc"];function Wue(t,e){if(t==null)return{};var n,r,a=Yue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H9=b.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:s,style:l,compact:u,title:h,desc:f}=t,m=Wue(t,Gue),g=rt(m,!1);return u?b.createElement($O,{otherAttributes:g,title:h,desc:f},n):b.createElement(Kue,{className:r,style:l,width:a,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement($O,{otherAttributes:g,title:h,desc:f,ref:e},b.createElement(tle,null,n)))}),Xue=["width","height"];function bj(){return bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bj.apply(null,arguments)}function Que(t,e){if(t==null)return{};var n,r,a=Zue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jue={top:5,right:5,bottom:5,left:5},ede={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jue,reverseStackOrder:!1,syncMethod:"index"},NS=b.forwardRef(function(e,n){var r,a=ra(e.categoricalChartProps,ede),{width:s,height:l}=a,u=Que(a,Xue);if(!Hu(s)||!Hu(l))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:y}=e,j={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement($9,{preloadedState:{options:j},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:h},b.createElement(h9,{chartData:y.data}),b.createElement(q9,{width:s,height:l,layout:a.layout,margin:a.margin}),b.createElement(F9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),b.createElement(H9,bj({},u,{width:s,height:l,ref:n})))}),tde=["axis"],nde=b.forwardRef((t,e)=>b.createElement(NS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tde,tooltipPayloadSearcher:Dy,categoricalChartProps:t,ref:e})),rde=["axis","item"],ade=b.forwardRef((t,e)=>b.createElement(NS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rde,tooltipPayloadSearcher:Dy,categoricalChartProps:t,ref:e}));function ide(t){var e=Qt();return b.useEffect(()=>{e(Cue(t))},[e,t]),null}var sde=["width","height","layout"];function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jj.apply(null,arguments)}function ode(t,e){if(t==null)return{};var n,r,a=lde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cde={top:5,right:5,bottom:5,left:5},ude={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},dde=b.forwardRef(function(e,n){var r,a=ra(e.categoricalChartProps,ude),{width:s,height:l,layout:u}=a,h=ode(a,sde);if(!Hu(s)||!Hu(l))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=e,j={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return b.createElement($9,{preloadedState:{options:j},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:f},b.createElement(h9,{chartData:a.data}),b.createElement(q9,{width:s,height:l,layout:u,margin:a.margin}),b.createElement(F9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),b.createElement(ide,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(H9,jj({width:s,height:l},h,{ref:n})))}),hde=["item"],fde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mde=b.forwardRef((t,e)=>{var n=ra(t,fde);return b.createElement(dde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hde,tooltipPayloadSearcher:Dy,categoricalChartProps:n,ref:e})}),pde=["item"],gde=b.forwardRef((t,e)=>b.createElement(NS,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pde,tooltipPayloadSearcher:Dy,categoricalChartProps:t,ref:e}));function vde({productivityData:t}){const e=t.map(a=>({efficiency:a.efficiency,productivity:a.productivity,taskName:a.taskName,sector:a.sector,status:a.status})),n=(a,s)=>{const l=(a+s)/2;return l>=105?"#48bb78":l>=95?"#fbb040":"#f56565"},r=({active:a,payload:s})=>{if(a&&s&&s.length){const l=s[0].payload;return i.jsxs("div",{className:"chart-tooltip",children:[i.jsx("p",{className:"tooltip-title",children:l.taskName}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Setor:"})," ",l.sector]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Eficincia:"})," ",l.efficiency.toFixed(1),"%"]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Produtividade:"})," ",l.productivity.toFixed(1),"%"]}),i.jsxs("p",{className:"tooltip-content",children:[i.jsx("span",{className:"tooltip-label",children:"Status:"})," ",l.status==="completed"?"Concludo":"Atrasado"]})]})}return null};return i.jsxs("div",{className:"charts-section",children:[i.jsxs("div",{className:"chart-card",children:[i.jsx("div",{className:"chart-header",children:i.jsx("h4",{children:"Eficincia vs. Produtividade"})}),i.jsx("div",{className:"chart-container",children:i.jsx(pg,{width:"100%",height:400,children:i.jsxs(gde,{margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(Sv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Cf,{type:"number",dataKey:"efficiency",name:"Eficincia",unit:"%",domain:[60,130],tickFormatter:a=>`${a}%`}),i.jsx(Of,{type:"number",dataKey:"productivity",name:"Produtividade",unit:"%",domain:[60,130],tickFormatter:a=>`${a}%`}),i.jsx(mg,{content:i.jsx(r,{})}),i.jsx("line",{x1:"100",y1:"60",x2:"100",y2:"130",stroke:"#cbd5e0",strokeDasharray:"5,5"}),i.jsx("line",{x1:"60",y1:"100",x2:"130",y2:"100",stroke:"#cbd5e0",strokeDasharray:"5,5"}),i.jsx(SS,{name:"Tarefas",data:e,fill:"#8884d8",children:e.map((a,s)=>i.jsx(Ac,{fill:n(a.efficiency,a.productivity)},`cell-${s}`))})]})})}),i.jsxs("div",{className:"chart-legend",children:[i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#48bb78"}}),i.jsx("span",{children:"Excelente (>105%)"})]}),i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#fbb040"}}),i.jsx("span",{children:"Bom (95-105%)"})]}),i.jsxs("div",{className:"legend-item",children:[i.jsx("div",{className:"legend-color",style:{backgroundColor:"#f56565"}}),i.jsx("span",{children:"Precisa Melhorar (<95%)"})]})]})]}),i.jsxs("div",{className:"chart-card",children:[i.jsx("div",{className:"chart-header",children:i.jsx("h4",{children:"Tendncia de Performance"})}),i.jsx("div",{className:"chart-placeholder",children:i.jsxs("div",{className:"chart-info",children:[i.jsx("p",{children:"Evoluo da performance ao longo do tempo"}),i.jsxs("div",{className:"trend-indicators",children:[i.jsxs("div",{className:"trend-item",children:[i.jsx("span",{className:"trend-value positive",children:"+5.2%"}),i.jsx("span",{children:"vs. semana anterior"})]}),i.jsxs("div",{className:"trend-item",children:[i.jsx("span",{className:"trend-value positive",children:"+12.8%"}),i.jsx("span",{children:"vs. ms anterior"})]})]})]})})]})]})}function yde(){const[t,e]=b.useState("today"),[n,r]=b.useState("all"),[a,s]=b.useState("all"),[l,u]=b.useState(""),[h,f]=b.useState([]),{productivityData:m,operatorRankings:g,periodStats:y,currentUserStats:j}=mG();b.useEffect(()=>{(async()=>{try{const M=await OK();Array.isArray(M)&&(f(M),M.length>0&&!l&&u(M[0].operator.id))}catch(M){console.error("Erro ao carregar operadores:",M),f([])}})()},[]),Co.useEffect(()=>{g.length>0&&!l&&u(g[0].operatorId)},[g,l]);const S=(()=>{if(!l)return j;const D=h.find(M=>M.operator.id===l);return D?{operatorId:D.operator.id,operatorName:D.user.name||D.operator.code,totalTasks:0,averageEfficiency:85,totalProductivity:80,onTimeCompletion:90,rank:1,trend:"stable"}:g.find(M=>M.operatorId===l)||j})(),T=D=>D>=105?"#48bb78":D>=95?"#fbb040":D>=85?"#f6ad55":"#f56565",E=D=>{switch(D){case"up":return i.jsx(Hh,{});case"down":return i.jsx(mr,{});default:return i.jsx(xg,{})}},I=D=>{const M=Math.floor(D/60),C=D%60;return M>0?`${M}h ${C}m`:`${C}m`},N=m.filter(D=>!(n!=="all"&&D.operatorId!==n||a!=="all"&&D.sector!==a)),O=y.find(D=>{switch(t){case"today":return D.period==="Hoje";case"week":return D.period==="Esta Semana";case"month":return D.period==="Este Ms";default:return D.period==="Hoje"}});return i.jsx("div",{className:"productivity-page",children:i.jsxs("div",{className:"productivity-container",children:[i.jsx(FG,{selectedPeriod:t,setSelectedPeriod:e}),S&&i.jsx(HG,{currentUserStats:S,getEfficiencyColor:T,getTrendIcon:E}),O&&i.jsx(KG,{currentPeriodStats:O,getEfficiencyColor:T,formatTime:I}),i.jsxs("div",{className:"productivity-content",children:[i.jsx(GG,{selectedOperator:n,setSelectedOperator:r,selectedSector:a,setSelectedSector:s,availableOperators:h}),i.jsx(WG,{filteredData:N,getEfficiencyColor:T,formatTime:I}),i.jsx(YG,{operatorRankings:g,getEfficiencyColor:T,getTrendIcon:E}),i.jsx(vde,{productivityData:N})]})]})})}function xde({onNewNCClick:t}){return i.jsxs("div",{className:"nc-header",children:[i.jsx("div",{className:"header-info",children:i.jsx("h1",{children:"No Conformidades"})}),i.jsx("div",{className:"header-actions",children:i.jsx("button",{className:"new-nc-btn",onClick:t,children:" Nova No Conformidade"})})]})}function bde({stats:t,productionStoppedCount:e}){return i.jsxs("div",{className:"nc-stats",children:[i.jsxs("div",{className:"stat-card urgent",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(nd,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.open}),i.jsx("div",{className:"stat-label",children:"Em Aberto"})]})]}),i.jsxs("div",{className:"stat-card critical",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),i.jsx("div",{className:"stat-label",children:"Crticas/Altas"})]})]}),i.jsxs("div",{className:"stat-card stopped",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(jg,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:e}),i.jsx("div",{className:"stat-label",children:"Produo Parada"})]})]}),i.jsxs("div",{className:"stat-card total",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(mr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.total}),i.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function jde({filters:t,setFilters:e}){const n=(r,a)=>{e({...t,[r]:a})};return i.jsxs("div",{className:"nc-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status:"}),i.jsxs("select",{value:t.status?.[0]||"all",onChange:r=>n("status",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"open",children:"Aberto"}),i.jsx("option",{value:"investigating",children:"Em Andamento"}),i.jsx("option",{value:"resolved",children:"Resolvido"}),i.jsx("option",{value:"closed",children:"Fechado"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severidade:"}),i.jsxs("select",{value:t.severity?.[0]||"all",onChange:r=>n("severity",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"critical",children:"Crtica"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"medium",children:"Mdia"}),i.jsx("option",{value:"low",children:"Baixa"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Categoria:"}),i.jsxs("select",{value:t.category?.[0]||"all",onChange:r=>n("category",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"safety",children:"Segurana"}),i.jsx("option",{value:"process",children:"Processo"}),i.jsx("option",{value:"equipment",children:"Equipamento"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Setor:"}),i.jsxs("select",{value:t.sector?.[0]||"all",onChange:r=>n("sector",r.target.value==="all"?void 0:[r.target.value]),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Corte",children:"Corte"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Acabamento",children:"Acabamento"})]})]}),i.jsx("div",{className:"filter-group checkbox",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:!!t.assignedTo,onChange:r=>n("assignedTo",r.target.checked?"current-user":void 0)}),"Apenas minhas NCs"]})}),i.jsx("div",{className:"filter-group checkbox",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:t.severity?.includes("critical")||!1,onChange:r=>n("severity",r.target.checked?["critical"]:void 0)}),"Apenas crticas"]})})]})}function wde({nc:t,onViewDetails:e,getSeverityColor:n,getStatusColor:r,getCategoryIcon:a}){return i.jsxs("div",{className:"nc-card",children:[i.jsxs("div",{className:"nc-card-header",children:[i.jsxs("div",{className:"nc-info",children:[i.jsxs("div",{className:"nc-id-title",children:[i.jsx("span",{className:"nc-id",children:t.id}),i.jsx("h3",{className:"nc-title",children:t.title})]}),i.jsxs("div",{className:"nc-badges",children:[i.jsxs("span",{className:"category-badge",children:[a(t.category)," ",t.category]}),i.jsx("span",{className:"severity-badge",style:{backgroundColor:n(t.severity)},children:t.severity.toUpperCase()}),i.jsx("span",{className:"status-badge",style:{backgroundColor:r(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("div",{className:"nc-actions",children:i.jsx("button",{className:"action-btn view-btn",onClick:()=>e(t),title:"Ver detalhes",children:i.jsx(Wo,{})})})]}),i.jsxs("div",{className:"nc-card-content",children:[i.jsx("p",{className:"nc-description",children:t.description}),i.jsxs("div",{className:"nc-details",children:[i.jsxs("div",{className:"nc-location",children:[i.jsx("strong",{children:"Localizao:"})," ",t.location.sector," -"," ",t.location.station,t.location.equipment&&` (${t.location.equipment})`]}),i.jsxs("div",{className:"nc-reporter",children:[i.jsx(rc,{}),i.jsxs("span",{children:[i.jsx("strong",{children:"Reportado por:"})," ",t.reportedBy.name," (",t.reportedBy.role,")"]})]}),t.assignedTo&&i.jsxs("div",{className:"nc-assigned",children:[i.jsx(rc,{}),i.jsxs("span",{children:[i.jsx("strong",{children:"Atribudo a:"})," ",t.assignedTo.name," (",t.assignedTo.role,")"]})]})]}),i.jsxs("div",{className:"nc-meta",children:[i.jsxs("div",{className:"nc-attachments",children:[i.jsx(bB,{}),i.jsxs("span",{children:[t.attachments.length," anexos"]})]}),i.jsxs("div",{className:"nc-alerts",children:[i.jsx(Ov,{}),i.jsxs("span",{children:[t.attachments.length," anexos"]})]}),i.jsxs("div",{className:"nc-date",children:[i.jsx(Wt,{}),i.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("pt-BR")})]})]})]})]})}function _de({showModal:t,onClose:e,onSubmit:n,newNC:r,setNewNC:a}){return t?i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Nova No Conformidade"}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Ttulo:"}),i.jsx("input",{type:"text",value:r.title,onChange:s=>a({...r,title:s.target.value}),placeholder:"Descreva brevemente o problema"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Descrio detalhada:"}),i.jsx("textarea",{value:r.description,onChange:s=>a({...r,description:s.target.value}),placeholder:"Descreva detalhadamente o problema encontrado",rows:4})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Categoria:"}),i.jsxs("select",{value:r.category,onChange:s=>a({...r,category:s.target.value}),children:[i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"safety",children:"Segurana"}),i.jsx("option",{value:"process",children:"Processo"}),i.jsx("option",{value:"equipment",children:"Equipamento"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Severidade:"}),i.jsxs("select",{value:r.severity,onChange:s=>a({...r,severity:s.target.value}),children:[i.jsx("option",{value:"low",children:"Baixa"}),i.jsx("option",{value:"medium",children:"Mdia"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"critical",children:"Crtica"})]})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Setor:"}),i.jsx("input",{type:"text",value:r.sector,onChange:s=>a({...r,sector:s.target.value}),placeholder:"Ex: Corte, Montagem, Acabamento"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Estao:"}),i.jsx("input",{type:"text",value:r.station,onChange:s=>a({...r,station:s.target.value}),placeholder:"Ex: Estao 01, Linha 02"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Equipamento (opcional):"}),i.jsx("input",{type:"text",value:r.equipment,onChange:s=>a({...r,equipment:s.target.value}),placeholder:"Ex: Serra CNC-001, Compressor CP-005"})]}),i.jsxs("div",{className:"form-group checkbox-group",children:[i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:r.stopProduction,onChange:s=>a({...r,stopProduction:s.target.checked})}),i.jsx("span",{className:"checkmark"}),"Parar produo imediatamente"]}),i.jsx("p",{className:"checkbox-help",children:"Marque esta opo se o problema requer interrupo imediata da produo"})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn-secondary",onClick:e,children:"Cancelar"}),i.jsx("button",{className:"btn-primary",onClick:n,disabled:!r.title||!r.description,children:"Registrar No Conformidade"})]})]})}):null}function Sde({selectedNC:t,onClose:e,onAssign:n,onAddComment:r,onResolve:a,getSeverityColor:s,getStatusColor:l}){return t?i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content large",onClick:u=>u.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"nc-modal-title",children:[i.jsxs("h2",{children:[t.id," - ",t.title]}),i.jsxs("div",{className:"nc-modal-badges",children:[i.jsx("span",{className:"severity-badge",style:{backgroundColor:s(t.severity)},children:t.severity.toUpperCase()}),i.jsx("span",{className:"status-badge",style:{backgroundColor:l(t.status)},children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"nc-details-grid",children:[i.jsxs("div",{className:"nc-main-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Descrio"}),i.jsx("p",{children:t.description})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Localizao"}),i.jsxs("div",{className:"location-details",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"Setor:"})," ",t.location.sector]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Estao:"})," ",t.location.station]}),t.location.equipment&&i.jsxs("span",{children:[i.jsx("strong",{children:"Equipamento:"})," ",t.location.equipment]})]})]}),t.attachments&&t.attachments.length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Anexos"}),i.jsx("div",{className:"attachments-grid",children:t.attachments.map((u,h)=>i.jsx("div",{className:"attachment-item",children:i.jsx("div",{className:"attachment-info",children:i.jsx("span",{className:"attachment-name",children:u.fileName})})},h))})]})]}),i.jsxs("div",{className:"nc-sidebar",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Informaes"}),i.jsxs("div",{className:"info-list",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reportado por:"}),i.jsx("span",{className:"info-value",children:t.reportedBy.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Funo:"}),i.jsx("span",{className:"info-value",children:t.reportedBy.role})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Data:"}),i.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.assignedTo&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Responsvel:"}),i.jsx("span",{className:"info-value",children:t.assignedTo.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Funo:"}),i.jsx("span",{className:"info-value",children:t.assignedTo.role})]})]}),t.resolvedAt&&i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Comentrios"}),i.jsx("div",{className:"comments-list",children:t.comments&&t.comments.length>0?t.comments.map(u=>i.jsxs("div",{className:"comment-item",children:[i.jsxs("div",{className:"comment-header",children:[i.jsx("span",{className:"comment-user",children:u.userName}),i.jsx("span",{className:"comment-time",children:new Date(u.timestamp).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"comment-message",children:u.message})]},u.id)):i.jsx("p",{children:"Nenhum comentrio disponvel"})})]}),t.status!=="resolved"&&t.status!=="closed"&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Aes Rpidas"}),i.jsxs("div",{className:"quick-actions",children:[t.status==="open"&&i.jsxs("button",{className:"action-btn assign",onClick:()=>n(t.id,"resp-001","Maria Santos","Coordenador"),children:[i.jsx(rc,{})," Atribuir Responsvel"]}),i.jsxs("button",{className:"action-btn comment",onClick:()=>{const u=prompt("Adicionar comentrio:");u&&r(t.id,u)},children:[i.jsx(fI,{})," Adicionar Comentrio"]}),i.jsxs("button",{className:"action-btn resolve",onClick:()=>{const u=prompt("Descreva a resoluo:");u&&a(t.id,u)},children:[i.jsx(qn,{})," Resolver"]})]})]})]})]}),i.jsxs("div",{className:"nc-timeline",children:[i.jsx("h4",{children:"Histrico"}),i.jsxs("div",{className:"timeline",children:[i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsx("span",{className:"timeline-user",children:t.reportedBy.name}),i.jsx("span",{className:"timeline-time",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:"No conformidade criada"})]})]}),t.resolvedAt&&i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsx("span",{className:"timeline-user",children:t.resolvedBy||"Sistema"}),i.jsx("span",{className:"timeline-time",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:"No conformidade resolvida"})]})]})]})]})]})]})}):null}function Tde(){const{user:t}=Ya(),[e,n]=b.useState([]),[r,a]=b.useState(null),[s,l]=b.useState(!1),[u,h]=b.useState({status:[],severity:[],priority:[],category:[],sector:[],assignedTo:void 0,dateRange:void 0}),[f,m]=b.useState({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""});b.useEffect(()=>{n([{id:"NC-2024-001",title:"Pea com dimenso fora do padro",description:"Durante a inspeo de qualidade, foi identificado que 5 peas esto com dimenses 2mm acima do especificado no desenho tcnico. Possvel problema no setup da mquina de corte.",category:"quality",severity:"high",priority:"high",status:"investigating",location:{sector:"Corte",sectorId:"corte-001",station:"Estao 02",equipment:"Serra CNC-001"},reportedBy:{id:"op-001",name:"Joo Silva",role:"Operador"},assignedTo:{id:"qc-001",name:"Maria Santos",role:"Coordenador Qualidade"},attachments:[{id:"att-001",fileName:"peca_defeituosa.jpg",fileType:"image/jpeg",fileSize:1024e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/peca_defeituosa.jpg",category:"photo"},{id:"att-002",fileName:"medicao_dimensional.pdf",fileType:"application/pdf",fileSize:512e3,uploadedAt:"2024-01-20T10:30:00",uploadedBy:"op-001",url:"/attachments/medicao_dimensional.pdf",category:"document"}],stopProduction:!1,requiresImmediateAction:!0,escalationLevel:"supervisor",createdAt:"2024-01-20T08:00:00",updatedAt:"2024-01-20T08:00:00",createdBy:"user-001",updatedBy:"user-001"},{id:"NC-2024-002",title:"Material com defeito visual",description:"Identificado risco na matria-prima recebida. Manchas e riscos visveis que podem comprometer o acabamento final.",category:"material",severity:"medium",priority:"medium",status:"resolved",location:{sector:"Recebimento",sectorId:"recebimento-001",station:"Dock 01"},reportedBy:{id:"op-002",name:"Ana Oliveira",role:"Operador"},assignedTo:{id:"wh-001",name:"Roberto Lima",role:"Supervisor Almoxarifado"},resolvedAt:"2024-01-19T16:45:00",attachments:[{id:"att-003",fileName:"material_defeituoso.jpg",fileType:"image/jpeg",fileSize:2048e3,uploadedAt:"2024-01-19T14:20:00",uploadedBy:"op-002",url:"/attachments/material_defeituoso.jpg",category:"photo"}],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:"2024-01-19T14:00:00",updatedAt:"2024-01-19T14:00:00",createdBy:"user-002",updatedBy:"user-002"},{id:"NC-2024-003",title:"Equipamento com rudo anormal",description:"Compressor apresentando rudo excessivo e vibrao. Pode indicar problema mecnico que requer manuteno preventiva.",category:"equipment",severity:"low",priority:"low",status:"open",location:{sector:"Montagem",sectorId:"montagem-001",station:"Linha 03",equipment:"Compressor CP-005"},reportedBy:{id:"op-003",name:"Carlos Mendes",role:"Operador"},createdAt:"2024-01-20T08:15:00",updatedAt:"2024-01-20T08:15:00",createdBy:"user-003",updatedBy:"user-003",attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none"}])},[]);const g=()=>{const O={id:`NC-2024-${String(e.length+1).padStart(3,"0")}`,title:f.title,description:f.description,category:f.category,severity:f.severity,priority:"medium",status:"open",location:{sector:f.sector,sectorId:"default-sector-id",station:f.station,equipment:f.equipment||void 0},reportedBy:{id:t?.id||"current-user",name:t?.name||t?.displayName||"Usurio Atual",role:"Operador"},attachments:[],stopProduction:!1,requiresImmediateAction:!1,escalationLevel:"none",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(D=>[O,...D]),l(!1),m({title:"",description:"",category:"quality",severity:"medium",stopProduction:!1,sector:"",station:"",equipment:"",relatedTaskId:""})},y=(O,D,M,C)=>{n(R=>R.map(B=>B.id===O?{...B,assignedTo:{id:D,name:M,role:C},status:"investigating",updatedAt:new Date().toISOString()}:B))},j=(O,D)=>{n(M=>M.map(C=>C.id===O?{...C,updatedAt:new Date().toISOString()}:C))},w=(O,D)=>{n(M=>M.map(C=>C.id===O?{...C,status:"resolved",resolvedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:C))},S=O=>{switch(O){case"low":return"#48bb78";case"medium":return"#fbb040";case"high":return"#f56565";case"critical":return"#e53e3e";default:return"#4a5568"}},T=O=>{switch(O){case"open":return"#f56565";case"investigating":return"#fbb040";case"resolved":return"#48bb78";case"closed":return"#4a5568";default:return"#4a5568"}},E=O=>{switch(O){case"quality":return"";case"safety":return"";case"process":return"";case"equipment":return"";case"material":return"";default:return""}},I=e.filter(O=>!(u.status&&u.status.length>0&&!u.status.includes(O.status)||u.severity&&u.severity.length>0&&!u.severity.includes(O.severity)||u.category&&u.category.length>0&&!u.category.includes(O.category)||u.sector&&u.sector.length>0&&!u.sector.includes(O.location.sector))),N={total:e.length,open:e.filter(O=>O.status==="open").length,investigating:e.filter(O=>O.status==="investigating").length,resolved:e.filter(O=>O.status==="resolved").length,closed:e.filter(O=>O.status==="closed").length,bySeverity:{low:e.filter(O=>O.severity==="low").length,medium:e.filter(O=>O.severity==="medium").length,high:e.filter(O=>O.severity==="high").length,critical:e.filter(O=>O.severity==="critical").length},byPriority:{low:e.filter(O=>O.priority==="low").length,medium:e.filter(O=>O.priority==="medium").length,high:e.filter(O=>O.priority==="high").length,urgent:e.filter(O=>O.priority==="urgent").length},byCategory:{quality:e.filter(O=>O.category==="quality").length,safety:e.filter(O=>O.category==="safety").length,process:e.filter(O=>O.category==="process").length,equipment:e.filter(O=>O.category==="equipment").length,material:e.filter(O=>O.category==="material").length},bySector:e.reduce((O,D)=>(O[D.location.sector]=(O[D.location.sector]||0)+1,O),{}),productionStopped:e.filter(O=>O.stopProduction).length,requiresImmediateAction:e.filter(O=>O.requiresImmediateAction).length};return i.jsx("div",{className:"nc-page",children:i.jsxs("div",{className:"nc-container",children:[i.jsx(xde,{onNewNCClick:()=>l(!0)}),i.jsx(bde,{stats:N,productionStoppedCount:N.productionStopped}),i.jsxs("div",{className:"nc-content",children:[i.jsx(jde,{filters:u,setFilters:h}),i.jsx("div",{className:"nc-list",children:I.map(O=>i.jsx(wde,{nc:O,onViewDetails:D=>a(D),onAssign:y,getSeverityColor:S,getStatusColor:T,getCategoryIcon:E},O.id))})]}),i.jsx(_de,{showModal:s,onClose:()=>l(!1),onSubmit:g,newNC:f,setNewNC:m}),i.jsx(Sde,{selectedNC:r,onClose:()=>a(null),onAssign:y,onAddComment:j,onResolve:w,getSeverityColor:S,getStatusColor:T})]})})}function Ede(){return i.jsx("div",{className:"alerts-header",children:i.jsx("div",{className:"header-info",children:i.jsx("div",{className:"header-text",children:i.jsx("h1",{children:"Central de Alertas"})})})})}function Ade({stats:t}){return i.jsxs("div",{className:"alerts-stats",children:[i.jsxs("div",{className:"stat-card critical",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(nd,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.active}),i.jsx("div",{className:"stat-label",children:"Alertas Ativos"})]})]}),i.jsxs("div",{className:"stat-card high",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.bySeverity.critical}),i.jsx("div",{className:"stat-label",children:"Crticos"})]})]}),i.jsxs("div",{className:"stat-card urgent",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(pI,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.byPriority.urgent}),i.jsx("div",{className:"stat-label",children:"Urgentes"})]})]}),i.jsxs("div",{className:"stat-card warning",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(nc,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.active-t.acknowledged}),i.jsx("div",{className:"stat-label",children:"No Reconhecidos"})]})]}),i.jsxs("div",{className:"stat-card info",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(mr,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("div",{className:"stat-value",children:t.total}),i.jsx("div",{className:"stat-label",children:"Total"})]})]})]})}function Nde({filterType:t,setFilterType:e,filterStatus:n,setFilterStatus:r,filterSeverity:a,setFilterSeverity:s,filterPriority:l,setFilterPriority:u,showOnlyMyAlerts:h,setShowOnlyMyAlerts:f}){return i.jsxs("div",{className:"alerts-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Tipo: "}),i.jsxs("select",{value:t,onChange:m=>e(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"production_stop",children:"Parada de Produo"}),i.jsx("option",{value:"non_conformity",children:"No Conformidade"}),i.jsx("option",{value:"priority_change",children:"Mudana de Prioridade"}),i.jsx("option",{value:"delay",children:"Atraso"}),i.jsx("option",{value:"quality",children:"Qualidade"}),i.jsx("option",{value:"maintenance",children:"Manuteno"}),i.jsx("option",{value:"material",children:"Material"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Status: "}),i.jsxs("select",{value:n,onChange:m=>r(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"acknowledged",children:"Reconhecido"}),i.jsx("option",{value:"in_progress",children:"Em Andamento"}),i.jsx("option",{value:"resolved",children:"Resolvido"}),i.jsx("option",{value:"dismissed",children:"Dispensado"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Severidade: "}),i.jsxs("select",{value:a,onChange:m=>s(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"critical",children:"Crtica"}),i.jsx("option",{value:"low",children:"Alta"}),i.jsx("option",{value:"medium",children:"Mdia"}),i.jsx("option",{value:"high",children:"Baixa"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Prioridade: "}),i.jsxs("select",{value:l,onChange:m=>u(m.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"urgent",children:"Urgente"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"medium",children:"Mdia"}),i.jsx("option",{value:"low",children:"Baixa"})]})]}),i.jsx("div",{className:"filter-group checkbox-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:h,onChange:m=>f(m.target.checked)}),i.jsx("span",{className:"checkbox-text",children:"Mostrar apenas meus alertas"})]})})]})}function Cde({alerts:t,onSelectAlert:e,onAcknowledgeAlert:n,currentUserId:r}){const a=m=>{switch(m){case"critical":return"#f56565";case"high":return"#fbb040";case"medium":return"#4299e1";case"low":return"#48bb78";default:return"#4a5568"}},s=m=>{switch(m){case"urgent":return"#e53e3e";case"high":return"#f56565";case"medium":return"#fbb040";case"low":return"#48bb78";default:return"#4a5568"}},l=m=>{switch(m){case"production_stop":return i.jsx(Ov,{});case"non_conformity":return i.jsx(nd,{});case"priority_change":return i.jsx(zn,{});case"delay":return i.jsx(Wt,{});case"quality":return i.jsx(_s,{});case"maintenance":return i.jsx(kB,{});case"material":return i.jsx(Do,{});default:return i.jsx(nc,{})}},u=m=>{switch(m){case"production_stop":return"Parada de Produo";case"non_conformity":return"No Conformidade";case"priority_change":return"Mudana de Prioridade";case"delay":return"Atraso";case"quality":return"Qualidade";case"maintenance":return"Manuteno";case"material":return"Material";default:return m}},h=m=>m.recipients.some(g=>g.id===r),f=m=>r&&m.recipients.some(g=>g.id===r&&g.acknowledged);return i.jsxs("div",{className:"alerts-list",children:[i.jsx("div",{className:"list-header",children:i.jsxs("h3",{children:["Alertas (",t.length,")"]})}),i.jsx("div",{className:"alerts-grid",children:t.map(m=>i.jsxs("div",{className:`alert-card ${m.severity} ${m.status} ${m.priority==="urgent"?"urgent":""}`,children:[i.jsxs("div",{className:"alert-header",children:[i.jsxs("div",{className:"alert-type",children:[i.jsx("span",{className:"type-icon",children:l(m.severity)}),i.jsx("span",{className:"type-label",children:u(m.severity)})]}),i.jsxs("div",{className:"alert-badges",children:[i.jsx("span",{className:"severity-badge",style:{backgroundColor:a(m.severity)},children:m.severity.toUpperCase()}),i.jsx("span",{className:"priority-badge",style:{backgroundColor:s(m.priority)},children:m.priority.toUpperCase()})]})]}),i.jsxs("div",{className:"alert-content",children:[i.jsx("h4",{className:"alert-title",children:m.title}),i.jsx("p",{className:"alert-message",children:m.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Local:"}),i.jsxs("span",{className:"detail-value",children:[m.location.sector,m.location.station&&` - ${m.location.station}`]})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Origem:"}),i.jsx("span",{className:"detail-value",children:m.source.name})]}),i.jsxs("div",{className:"detail-item",children:[i.jsx("span",{className:"detail-label",children:"Criado:"}),i.jsx("span",{className:"detail-value",children:new Date(m.createdAt).toLocaleString("pt-BR")})]})]}),m.tags&&m.tags.length>0&&i.jsx("div",{className:"alert-tags",children:m.tags.map((g,y)=>i.jsx("span",{className:"tag",children:g},y))})]}),i.jsxs("div",{className:"alert-actions",children:[i.jsxs("button",{className:"action-btn view",onClick:()=>e(m),children:[i.jsx(Wo,{})," Detalhes"]}),h(m)&&!f(m)&&m.status==="active"&&i.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(m.id),children:[i.jsx(jr,{})," Reconhecer"]}),m.status==="active"&&i.jsx("div",{className:"status-indicator active",children:i.jsx(Xe,{})}),m.status==="acknowledged"&&i.jsx("div",{className:"status-indicator acknowledged",children:i.jsx(Wt,{})})]})]},m.id))}),t.length===0&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:i.jsx(nc,{})}),i.jsx("h3",{children:"Nenhum alerta encontrado"}),i.jsx("p",{children:"No h alertas que correspondam aos filtros selecionados."})]})]})}function Ode({alert:t,onClose:e,onAcknowledge:n,onResolve:r,onAddComment:a,currentUserId:s}){if(!t)return null;const l=()=>{const m=prompt("Descreva a resoluo do alerta:");m&&r(t.id,m)},u=()=>{const m=prompt("Adicione um comentrio:");m&&a(t.id,m)},h=()=>s&&t.recipients.some(m=>m.id===s),f=()=>s&&t.recipients.some(m=>m.id===s&&m.acknowledged);return i.jsx("div",{className:"modal-overlay",onClick:e,children:i.jsxs("div",{className:"modal-content large",onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"alert-modal-title",children:[i.jsx("h2",{children:t.title}),i.jsxs("div",{className:"alert-modal-badges",children:[i.jsx("span",{className:`severity-badge ${t.severity}`,children:t.severity.toUpperCase()}),i.jsx("span",{className:`priority-badge ${t.priority}`,children:t.priority.toUpperCase()}),i.jsx("span",{className:`status-badge ${t.status}`,children:t.status.replace("_"," ").toUpperCase()})]})]}),i.jsx("button",{className:"modal-close",onClick:e,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"alert-details-grid",children:[i.jsxs("div",{className:"alert-main-info",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Descrio"}),i.jsx("p",{children:t.description})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Localizao e Contexto"}),i.jsxs("div",{className:"location-details",children:[i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Setor:"}),i.jsx("span",{className:"detail-value",children:t.location.sector})]}),t.location.station&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Estao:"}),i.jsx("span",{className:"detail-value",children:t.location.station})]}),t.location.equipment&&i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Equipamento:"}),i.jsx("span",{className:"detail-value",children:t.location.equipment})]}),i.jsxs("div",{className:"detail-row",children:[i.jsx("span",{className:"detail-label",children:"Relacionado a:"}),i.jsxs("span",{className:"detail-value",children:[t.relatedEntity.name," (",t.relatedEntity.id,")"]})]})]})]}),t.attachments.length>0&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Anexos"}),i.jsx("div",{className:"attachments-list",children:t.attachments.map((m,g)=>i.jsx("div",{className:"attachment-item",children:i.jsx("span",{className:"attachment-name",children:m})},g))})]})]}),i.jsxs("div",{className:"alert-sidebar",children:[i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Informaes Gerais"}),i.jsxs("div",{className:"info-list",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Origem:"}),i.jsx("span",{className:"info-value",children:t.source.name})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Criado em:"}),i.jsx("span",{className:"info-value",children:new Date(t.createdAt).toLocaleString("pt-BR")})]}),t.acknowledgedAt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reconhecido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.acknowledgedAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Reconhecido por:"}),i.jsx("span",{className:"info-value",children:t.acknowledgedBy})]})]}),t.resolvedAt&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido em:"}),i.jsx("span",{className:"info-value",children:new Date(t.resolvedAt).toLocaleString("pt-BR")})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Resolvido por:"}),i.jsx("span",{className:"info-value",children:t.resolvedBy})]})]})]})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Destinatrios"}),i.jsx("div",{className:"recipients-list",children:t.recipients.map(m=>i.jsxs("div",{className:"recipient-item",children:[i.jsxs("div",{className:"recipient-info",children:[i.jsx("span",{className:"recipient-name",children:m.name}),i.jsx("span",{className:"recipient-role",children:m.role})]}),i.jsx("div",{className:"recipient-status",children:m.acknowledged?i.jsxs("span",{className:"status-acknowledged",children:[i.jsx(jr,{})," Reconhecido"]}):i.jsxs("span",{className:"status-pending",children:[i.jsx(Wt,{})," Pendente"]})})]},m.id))})]}),i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Tags"}),i.jsx("div",{className:"tags-list",children:t.tags&&t.tags.length>0?t.tags.map((m,g)=>i.jsx("span",{className:"tag",children:m},g)):i.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Nenhuma tag disponvel"})})]}),t.status!=="resolved"&&t.status!=="dismissed"&&i.jsxs("div",{className:"info-section",children:[i.jsx("h4",{children:"Aes"}),i.jsxs("div",{className:"quick-actions",children:[h()&&!f()&&t.status==="active"&&i.jsxs("button",{className:"action-btn acknowledge",onClick:()=>n(t.id),children:[i.jsx(jr,{})," Reconhecer"]}),i.jsxs("button",{className:"action-btn comment",onClick:u,children:[i.jsx(fI,{})," Comentar"]}),i.jsxs("button",{className:"action-btn resolve",onClick:l,children:[i.jsx(Xe,{})," Resolver"]})]})]})]})]}),i.jsxs("div",{className:"alert-timeline",children:[i.jsx("h4",{children:"Histrico de Comentrios"}),i.jsx("div",{className:"timeline",children:t.comments&&t.comments.length>0?t.comments.map(m=>i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content",children:[i.jsxs("div",{className:"timeline-header",children:[i.jsxs("span",{className:"timeline-user",children:[i.jsx(rc,{})," ",m.userName]}),i.jsx("span",{className:"timeline-time",children:new Date(m.timestamp).toLocaleString("pt-BR")})]}),i.jsx("div",{className:"timeline-description",children:m.message}),m.type!=="comment"&&i.jsx("div",{className:"timeline-type",children:m.type==="status_change"?"Mudana de Status":"Escalao"})]})]},m.id)):i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-marker"}),i.jsx("div",{className:"timeline-content",children:i.jsx("div",{className:"timeline-description",style:{color:"#999",fontStyle:"italic"},children:"Nenhum comentrio disponvel"})})]})})]})]})]})})}function Ide(){const{user:t}=Ya(),[e,n]=b.useState([]),[r,a]=b.useState([]),[s,l]=b.useState(null),[u,h]=b.useState("all"),[f,m]=b.useState("all"),[g,y]=b.useState("all"),[j,w]=b.useState("all"),[S,T]=b.useState(!1);b.useEffect(()=>{const D=[{id:"alert-001",title:"PRODUO PARADA - No Conformidade Crtica",description:"Peas com dimenso fora do padro detectadas. Produo foi interrompida conforme procedimento. Aguardando anlise da qualidade para liberao.",severity:"critical",priority:"urgent",location:{sector:"Corte",station:"Estao 02",equipment:"Serra CNC-001"},relatedEntity:{id:"OP-2024-001",name:"Produto A - Modelo X"},source:{id:"op-001",name:"Joo Silva"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produo",acknowledged:!0},{id:"qc-001",name:"Maria Santos",role:"quality",department:"Qualidade",acknowledged:!0},{id:"eng-001",name:"Carlos Oliveira",role:"engineering",department:"Engenharia",acknowledged:!1}],status:"active",createdAt:"2024-01-20T10:30:00",updatedAt:"2024-01-20T10:30:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T10:45:00",acknowledgedBy:"Pedro Costa",tags:["produo","qualidade","crtico"],attachments:["foto_peca_defeituosa.jpg","medicao_dimensional.pdf"],comments:[{id:"comment-001",userId:"user-001",userName:"Joo Silva",message:"Produo interrompida. 5 peas com problema identificadas.",timestamp:"2024-01-20T10:30:00",type:"comment"},{id:"comment-002",userId:"coord-001",userName:"Pedro Costa",message:"Alerta reconhecido. Acionando equipe de qualidade.",timestamp:"2024-01-20T10:45:00",type:"status_change"},{id:"comment-003",userId:"qc-001",userName:"Maria Santos",message:"Verificando calibrao da mquina. Setup ser refeito.",timestamp:"2024-01-20T11:15:00",type:"comment"}]},{id:"alert-002",title:"Mudana de Prioridade - Pedido Urgente",description:"Cliente solicitou antecipao do prazo de entrega. Pedido deve ser priorizado na programao de produo.",severity:"medium",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema ERP"},location:{sector:"Planejamento"},relatedEntity:{id:"OP-2024-005",name:"Produto E - Modelo V"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produo",acknowledged:!0},{id:"plan-001",name:"Ana Oliveira",role:"admin",department:"Planejamento",acknowledged:!1}],createdAt:"2024-01-20T14:15:00",updatedAt:"2024-01-20T14:15:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T14:20:00",acknowledgedBy:"Pedro Costa",tags:["prioridade","planejamento"],attachments:[],comments:[{id:"comment-004",userId:"user-004",userName:"Ana Oliveira",message:"Alterao solicitada pelo cliente. Prazo reduzido em 2 dias.",timestamp:"2024-01-20T14:15:00",type:"comment"}]},{id:"alert-003",title:"Atraso na Produo",description:"A tarefa de montagem do OP-2024-002 est com atraso de 30 minutos em relao ao planejado. Pode impactar o prazo final do pedido.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Monitoramento"},location:{sector:"Montagem",station:"Linha 03"},relatedEntity:{id:"task-002",name:"Montagem Principal"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produo",acknowledged:!1}],createdAt:"2024-01-20T15:30:00",updatedAt:"2024-01-20T15:30:00",createdBy:"system",updatedBy:"system",tags:["atraso","montagem"],attachments:[],comments:[]},{id:"alert-004",title:"Material em Falta",description:"Componente XYZ-123 est com estoque abaixo do mnimo. Pode impactar a produo dos prximos pedidos se no for reposto.",severity:"high",priority:"high",status:"acknowledged",source:{id:"system",name:"Sistema de Estoque"},location:{sector:"Almoxarifado"},relatedEntity:{id:"mat-123",name:"Componente XYZ-123"},recipients:[{id:"wh-001",name:"Roberto Lima",role:"warehouse",department:"Almoxarifado",acknowledged:!0},{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produo",acknowledged:!1}],createdAt:"2024-01-20T09:00:00",updatedAt:"2024-01-20T09:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T09:15:00",acknowledgedBy:"Roberto Lima",tags:["material","estoque"],attachments:[],comments:[{id:"comment-005",userId:"wh-001",userName:"Roberto Lima",message:"Pedido de compra j foi enviado ao fornecedor. Previso de entrega: 2 dias.",timestamp:"2024-01-20T09:15:00",type:"comment"}]},{id:"alert-005",title:"Manuteno Preventiva Agendada",description:"Manuteno preventiva do equipamento CNC-002 agendada para amanh s 08:00. Produo deve ser reprogramada.",severity:"medium",priority:"medium",status:"active",source:{id:"system",name:"Sistema de Manuteno"},location:{sector:"Corte",equipment:"CNC-002"},relatedEntity:{id:"eq-002",name:"Serra CNC-002"},recipients:[{id:"coord-001",name:"Pedro Costa",role:"coordinator",department:"Produo",acknowledged:!1},{id:"maint-001",name:"Jos Santos",role:"engineering",department:"Manuteno",acknowledged:!0}],createdAt:"2024-01-20T16:00:00",updatedAt:"2024-01-20T16:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:"2024-01-20T16:00:00",acknowledgedBy:"Jos Santos",tags:["manuteno","preventiva"],attachments:[],comments:[]}];n(D),a(D)},[]),b.useEffect(()=>{let D=[...e];u!=="all"&&(D=D.filter(M=>M.severity===u)),f!=="all"&&(D=D.filter(M=>M.status===f)),g!=="all"&&(D=D.filter(M=>M.severity===g)),j!=="all"&&(D=D.filter(M=>M.priority===j)),S&&t&&(D=D.filter(M=>M.recipients.some(C=>C.id===t.id)||M.source.id===t.id)),D.sort((M,C)=>{const R={urgent:4,high:3,medium:2,low:1},B=R[C.priority]-R[M.priority];return B!==0?B:new Date(C.createdAt).getTime()-new Date(M.createdAt).getTime()}),a(D)},[e,u,f,g,j,S,t]);const E=D=>{n(M=>M.map(C=>C.id===D?{...C,status:"acknowledged",acknowledgedAt:new Date().toISOString(),acknowledgedBy:t?.name||t?.displayName||"Usurio Atual",recipients:C.recipients.map(R=>R.id===t?.id?{...R,acknowledged:!0}:R)}:C))},I=(D,M)=>{n(C=>C.map(R=>R.id===D?{...R,status:"resolved",resolvedAt:new Date().toISOString(),resolvedBy:t?.name||t?.displayName||"Usurio Atual",comments:[...R.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usurio Atual",message:`Alerta resolvido: ${M}`,timestamp:new Date().toISOString(),type:"status_change"}]}:R))},N=(D,M)=>{n(C=>C.map(R=>R.id===D?{...R,comments:[...R.comments||[],{id:`comment-${Date.now()}`,userId:t?.id||"current-user",userName:t?.name||t?.displayName||"Usurio Atual",message:M,timestamp:new Date().toISOString(),type:"comment"}]}:R))},O=()=>{const D=e.length,M=e.filter(U=>U.status==="active").length,C=e.filter(U=>U.status==="acknowledged").length,R=e.filter(U=>U.status==="resolved").length,B=e.filter(U=>U.status==="dismissed").length,$={low:e.filter(U=>U.severity==="low").length,medium:e.filter(U=>U.severity==="medium").length,high:e.filter(U=>U.severity==="high").length,critical:e.filter(U=>U.severity==="critical").length},L={low:e.filter(U=>U.priority==="low").length,medium:e.filter(U=>U.priority==="medium").length,high:e.filter(U=>U.priority==="high").length,urgent:e.filter(U=>U.priority==="urgent").length};return{total:D,active:M,acknowledged:C,resolved:R,dismissed:B,bySeverity:$,byPriority:L}};return i.jsx("div",{className:"alerts-page",children:i.jsxs("div",{className:"alerts-container",children:[i.jsx(Ede,{}),i.jsx(Ade,{stats:O()}),i.jsx(Nde,{filterType:u,setFilterType:h,filterStatus:f,setFilterStatus:m,filterSeverity:g,setFilterSeverity:y,filterPriority:j,setFilterPriority:w,showOnlyMyAlerts:S,setShowOnlyMyAlerts:T}),i.jsx(Cde,{alerts:r,onSelectAlert:l,onAcknowledgeAlert:E,currentUserId:t?.id}),i.jsx(Ode,{alert:s,onClose:()=>l(null),onAcknowledge:E,onResolve:I,onAddComment:N,currentUserId:t?.id})]})})}function kde({onRefresh:t}){const e=new Date().toLocaleString("pt-BR");return i.jsx("div",{className:"control-panel-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("div",{className:"header-info",children:i.jsx("div",{className:"header-text",children:i.jsx("h1",{children:"Painel de Controle"})})}),i.jsxs("div",{className:"header-actions",children:[i.jsx("div",{className:"last-update",children:i.jsxs("span",{children:["Ultima atualizao: ",e]})}),i.jsx("button",{className:"refresh-btn",onClick:t,title:"Atualizar dados",children:i.jsx(zn,{})})]})]})})}function Pde({status:t,activeOrders:e,urgentOrders:n,blockedOrders:r}){const s=(()=>{switch(t){case"green":return{message:"Sistema Operando Normalmente",description:"Todos os processos esto funcionando dentro dos parmetros esperados",color:"#48bb78"};case"yellow":return{message:"Ateno Necessria",description:"Alguns processos requerem monitoramento prximo",color:"#ed8936"};case"red":return{message:"Interveno Urgente",description:"Problemas crticos detectados que requerem ao imediata",color:"#f56565"}}})();return i.jsxs("div",{className:"status-semaphore",children:[i.jsx("div",{className:"semaphore-header",children:i.jsx("h2",{children:"Status Geral do Sistema"})}),i.jsxs("div",{className:"semaphore-content",children:[i.jsxs("div",{className:"semaphore-lights",children:[i.jsx("div",{className:`light red ${t==="red"?"active":""}`,children:i.jsx(Z1,{})}),i.jsx("div",{className:`light yellow ${t==="yellow"?"active":""}`,children:i.jsx(Z1,{})}),i.jsx("div",{className:`light green ${t==="green"?"active":""}`,children:i.jsx(Z1,{})})]}),i.jsxs("div",{className:"status-info",children:[i.jsx("h3",{style:{color:s.color},children:s.message}),i.jsx("p",{children:s.description})]})]}),i.jsxs("div",{className:"status-metrics",children:[i.jsxs("div",{className:"metric-card active",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:e}),i.jsx("span",{className:"metric-label",children:"Pedidos Ativos"})]})]}),i.jsxs("div",{className:"metric-card urgent",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:n}),i.jsx("span",{className:"metric-label",children:"Pedidos Urgentes"})]})]}),i.jsxs("div",{className:"metric-card blocked",children:[i.jsx("div",{className:"metric-icon",children:i.jsx(Ov,{})}),i.jsxs("div",{className:"metric-info",children:[i.jsx("span",{className:"metric-value",children:r}),i.jsx("span",{className:"metric-label",children:"Pedidos Bloqueados"})]})]})]})]})}function Rde({pendencies:t,onResolve:e}){const n=l=>{switch(l){case"urgent":return i.jsx(Xe,{});case"high":return i.jsx(Wt,{});case"medium":return i.jsx(os,{});case"low":return i.jsx(os,{});default:return i.jsx(os,{})}},r=l=>{switch(l){case"maintenance":return i.jsx(sf,{});case"quality":return i.jsx(nd,{});case"safety":return i.jsx(yI,{});case"process":return i.jsx(Ii,{});case"material":return i.jsx(Do,{});case"equipment":return i.jsx(sf,{});default:return i.jsx(os,{})}},a=l=>{const u=new Date,h=new Date(l),f=Math.floor((u.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrs`;const m=Math.floor(f/60);return m<24?`${m}h atrs`:`${Math.floor(m/24)}d atrs`},s=l=>l.dueDate?new Date(l.dueDate)<new Date&&l.status!=="completed":!1;return i.jsxs("div",{className:"pendencies-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Principais Pendncias"}),i.jsx("span",{className:"pendencies-count",children:t.length})]}),i.jsx("div",{className:"pendencies-list",children:t.length===0?i.jsxs("div",{className:"no-pendencies",children:[i.jsx(jr,{className:"success-icon"}),i.jsx("p",{children:"Nenhuma pendncia no momento"})]}):t.map(l=>i.jsxs("div",{className:`pendency-item ${l.priority} ${s(l)?"overdue":""}`,children:[i.jsx("div",{className:"pendency-icon",children:n(l.priority)}),i.jsxs("div",{className:"pendency-content",children:[i.jsxs("div",{className:"pendency-header",children:[i.jsx("h3",{children:l.title}),i.jsx("span",{className:"pendency-time",children:a(l.createdAt)})]}),i.jsx("p",{className:"pendency-description",children:l.description}),i.jsxs("div",{className:"pendency-details",children:[i.jsxs("span",{className:"pendency-category",children:[r(l.category)," ",l.category]}),i.jsxs("span",{className:"pendency-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),l.assignedTo&&i.jsx("span",{className:"pendency-assigned",children:l.assignedTo.name})]}),s(l)&&i.jsxs("div",{className:"overdue-warning",children:[i.jsx(Xe,{}),i.jsx("span",{children:"Pendncia vencida"})]}),i.jsxs("div",{className:"pendency-footer",children:[i.jsxs("span",{className:"pendency-sector",children:["Setor: ",l.location.sector]}),i.jsxs("button",{className:"resolve-btn",onClick:()=>e(l.id),title:"Marcar como resolvido",children:[i.jsx(jr,{}),"Resolver"]})]})]})]},l.id))})]})}function Dde({alerts:t,onAcknowledge:e}){const n=l=>{switch(l){case"critical":return i.jsx(Ov,{});case"high":return i.jsx(Xe,{});case"medium":return i.jsx(nd,{});case"low":return i.jsx(os,{});default:return i.jsx(os,{})}},r=l=>{const u=new Date,h=new Date(l),f=Math.floor((u.getTime()-h.getTime())/(1e3*60));if(f<1)return"Agora";if(f<60)return`${f}min atrs`;const m=Math.floor(f/60);return m<24?`${m}h atrs`:`${Math.floor(m/24)}d atrs`},a=t.filter(l=>l.status==="active"),s=t.filter(l=>l.status==="acknowledged");return i.jsxs("div",{className:"alerts-overview",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Alertas em Tempo Real"}),i.jsxs("div",{className:"alerts-badges",children:[i.jsx("span",{className:"badge critical",children:t.filter(l=>l.severity==="critical"&&l.status==="active").length}),i.jsx("span",{className:"badge warning",children:t.filter(l=>l.severity==="high"&&l.status==="active").length}),i.jsx("span",{className:"badge info",children:t.filter(l=>(l.severity==="medium"||l.severity==="low")&&l.status==="active").length})]})]}),i.jsx("div",{className:"alerts-container",children:a.length===0&&s.length===0?i.jsxs("div",{className:"no-alerts",children:[i.jsx(jr,{className:"success-icon"}),i.jsx("p",{children:"Nenhum alerta ativo"})]}):i.jsxs(i.Fragment,{children:[a.length>0&&i.jsxs("div",{className:"alerts-section",children:[i.jsxs("h3",{className:"section-title",children:[" ","No reconhecidos (",a.length,")"]}),i.jsx("div",{className:"alerts-list",children:a.map(l=>i.jsxs("div",{className:`alert-item ${l.severity} unacknowledged`,children:[i.jsx("div",{className:"alert-icon",children:n(l.severity)}),i.jsxs("div",{className:"alert-content",children:[i.jsxs("div",{className:"alert-header",children:[i.jsx("h4",{children:l.title}),i.jsx("span",{className:"alert-time",children:r(l.createdAt)})]}),i.jsx("p",{className:"alert-message",children:l.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("span",{className:"alert-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),i.jsx("span",{className:"alert-source",children:l.source.name})]}),i.jsxs("button",{className:"acknowledge-btn",onClick:()=>e(l.id),title:"Reconhecer alerta",children:[i.jsx(jr,{}),"Reconhecer"]})]})]},l.id))})]}),s.length>0&&i.jsxs("div",{className:"alerts-section",children:[i.jsxs("h3",{className:"section-title",children:["Reconhecidos (",s.length,")"]}),i.jsx("div",{className:"alerts-list acknowledged",children:s.slice(0,3).map(l=>i.jsxs("div",{className:`alert-item ${l.severity} acknowledged`,children:[i.jsx("div",{className:"alert-icon",children:n(l.severity)}),i.jsxs("div",{className:"alert-content",children:[i.jsxs("div",{className:"alert-header",children:[i.jsx("h4",{children:l.title}),i.jsx("span",{className:"alert-time",children:r(l.createdAt)})]}),i.jsx("p",{className:"alert-message",children:l.description}),i.jsxs("div",{className:"alert-details",children:[i.jsxs("span",{className:"alert-location",children:[l.location.sector,l.location.station&&` - ${l.location.station}`]}),i.jsx("span",{className:"alert-source",children:l.source.name})]})]})]},l.id))})]})]})})]})}function Mde({data:t}){const e=t.open+t.investigating+t.resolved,n=e>0?t.bySeverity.critical/e*100:0,r=()=>t.bySeverity.critical>5?"#e53e3e":t.bySeverity.critical>2?"#ed8936":"#48bb78";return i.jsxs("div",{className:"nonconformity-status",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("p",{children:"Status de No Conformidade"}),i.jsxs("div",{className:"critical-indicator",style:{backgroundColor:r()},children:[i.jsx(nd,{}),i.jsxs("span",{children:[t.bySeverity.critical," criticas"]})]})]}),i.jsxs("div",{className:"status-overview",children:[i.jsxs("div",{className:"status-card",children:[i.jsx("span",{className:"card-number",children:e}),i.jsx("span",{className:"count-label",children:"Total de NCs"})]}),n>0&&i.jsxs("div",{className:"critical-percentage",children:[i.jsx("div",{className:"percentage-bar",children:i.jsx("div",{className:"percentage-fill",style:{width:`${Math.min(n,100)}%`}})}),i.jsxs("span",{className:"percentage-text",children:[n.toFixed(1),"% de criticas"]})]})]}),i.jsxs("div",{className:"status-cards",children:[i.jsxs("div",{className:"status-card open",children:[i.jsx("div",{className:"card-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.open}),i.jsx("span",{className:"card-label",children:"Abertas"})]})]}),i.jsxs("div",{className:"status-card progress",children:[i.jsx("div",{className:"card-icon",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.investigating}),i.jsx("span",{className:"card-label",children:"Em Andamento"})]})]}),i.jsxs("div",{className:"status-card resolved",children:[i.jsx("div",{className:"card-icon",children:i.jsx(qn,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("span",{className:"card-number",children:t.resolved}),i.jsx("span",{className:"card-label",children:"Resolvidas"})]})]})]}),i.jsxs("div",{className:"quick-actions",children:[i.jsx("button",{className:"action-btn primary",children:"Ver todas as NCs"}),i.jsx("button",{className:"action-btn secondary",children:"Relatorio mensal"})]})]})}function Lde(){const t=Ko(),e=[{id:"generate-report",title:"Gerar Relatrio",description:"Relatrio completo de produo",icon:i.jsx(Su,{}),color:"blue",onClick:()=>t("/app/reports")},{id:"export-data",title:"Exportar Dados",description:"Exportar dados para Excel/PDF",icon:i.jsx(ms,{}),color:"green",onClick:()=>t("/app/reports")},{id:"system-config",title:"Configuraes",description:"Configurar parmetros do sistema",icon:i.jsx(Ii,{}),color:"gray",onClick:()=>t("/app/settings")},{id:"analytics",title:"Analytics",description:"Visualizar mtricas detalhadas",icon:i.jsx(mr,{}),color:"purple",onClick:()=>t("/app/analytics")},{id:"emergency-stop",title:"Parada de Emergncia",description:"Parar todos os processos crticos",icon:i.jsx(Xe,{}),color:"red",onClick:()=>console.log("Emergency stop activated...")},{id:"team-management",title:"Gesto de Equipe",description:"Gerenciar operadores e turnos",icon:i.jsx(To,{}),color:"orange",onClick:()=>t("/app/team-management")},{id:"schedule",title:"Programao",description:"Visualizar cronograma de produo",icon:i.jsx(Pf,{}),color:"teal",onClick:()=>t("/app/scheduling")},{id:"sync-data",title:"Sincronizar",description:"Sincronizar dados com ERP",icon:i.jsx(zn,{}),color:"indigo",onClick:()=>t("/app/data-sync")}];return i.jsxs("div",{className:"quick-actions",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Aes Rpidas"}),i.jsx("p",{children:"Aes rpidas para gerenciar a produo"})]}),i.jsx("div",{className:"actions-grid",children:e.map(n=>i.jsxs("button",{className:`action-card ${n.color}`,onClick:n.onClick,title:n.description,children:[i.jsx("div",{className:"action-icon",children:n.icon}),i.jsxs("div",{className:"action-content",children:[i.jsx("h3",{children:n.title}),i.jsx("p",{children:n.description})]})]},n.id))}),i.jsxs("div",{className:"emergency-section",children:[i.jsxs("div",{className:"emergency-header",children:[i.jsx(Xe,{}),i.jsx("span",{children:"Acoes de emergencia"})]}),i.jsxs("div",{className:"emergency-actions",children:[i.jsx("button",{className:"emergency-btn stop",children:"Parada Geral"}),i.jsx("button",{className:"emergency-btn alert",children:"Alerta Crtico"})]})]})]})}function Bde(){Ya();const{hasToken:t,token:e}=aR(),{loading:n,error:r,stats:a,lastSync:s,refresh:l}=rR({accessToken:e||void 0,autoRefresh:!0,refreshInterval:3e4}),[u,h]=b.useState([]),[f,m]=b.useState({alerts:[],pendencies:[],nonConformities:{total:0,open:0,investigating:0,resolved:0,closed:0,bySeverity:{low:0,medium:0,high:0,critical:0},byPriority:{low:0,medium:0,high:0,urgent:0},byCategory:{quality:0,safety:0,process:0,equipment:0,material:0},bySector:{},productionStopped:0,requiresImmediateAction:0},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0},generalStatus:"green",activeOrders:0,urgentOrders:0,blockedOrders:0}),[g,y]=b.useState(!0);b.useEffect(()=>{const T=()=>{const I={generalStatus:t?a.urgentOrders>5?"red":a.urgentOrders>2?"yellow":"green":u.filter(N=>N.priority==="urgent").length>2?"yellow":"green",activeOrders:t?a.totalOrders:u.length,urgentOrders:t?a.urgentOrders:u.filter(N=>N.priority==="urgent").length,blockedOrders:t?a.cancelledOrders:u.filter(N=>N.status==="cancelled").length,pendencies:[{id:"1",type:"urgent",title:"Atraso na Produo",description:"Pedido #1234 com 2 horas de atraso",sector:"Montagem",timestamp:new Date(Date.now()-18e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Montagem",station:"Estao 1"},createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),attachments:[],comments:[]},{id:"2",type:"warning",title:"Manuteno Preventiva",description:"Equipamento X precisa de manuteno em 2 dias",sector:"Usinagem",timestamp:new Date(Date.now()-36e5).toISOString(),status:"inProgress",priority:"high",category:"maintenance",location:{sector:"Usinagem",station:"Estao 2"},createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),attachments:[],comments:[]},{id:"3",type:"info",title:"Novo Pedido Urgente",description:"Cliente VIP solicitou prioridade mxima",sector:"Planejamento",timestamp:new Date(Date.now()-9e5).toISOString(),status:"open",priority:"urgent",category:"process",location:{sector:"Planejamento"},createdAt:new Date(Date.now()-9e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),attachments:[],comments:[]}],alerts:[{id:"alert-001",title:"Alerta de Qualidade",description:"5 peas com dimenses fora do padro detectadas na linha de produo",severity:"high",priority:"urgent",status:"active",location:{sector:"Produo",station:"Linha 01",equipment:"Mquina CNC-001"},relatedEntity:{id:"order-123",name:"Pedido #123 - Peas Mecnicas"},source:{id:"qc-system",name:"Sistema de Qualidade"},createdAt:"2024-01-20T10:00:00",updatedAt:"2024-01-20T10:00:00",createdBy:"system",updatedBy:"system",attachments:["relatorio_qualidade.pdf"],tags:["qualidade","produo"],recipients:[{id:"user-001",name:"Joo Silva",role:"Coordenador Qualidade",department:"Qualidade",acknowledged:!1},{id:"user-002",name:"Maria Santos",role:"Supervisor Produo",department:"Produo",acknowledged:!0}],comments:[]},{id:"alert-002",title:"Alerta de Equipamento",description:"Compressor apresentando rudo excessivo e vibrao anormal",severity:"medium",priority:"high",status:"acknowledged",location:{sector:"Manuteno",station:"rea Tcnica",equipment:"Compressor CP-005"},relatedEntity:{id:"equipment-005",name:"Compressor CP-005"},source:{id:"maintenance-system",name:"Sistema de Manuteno"},createdAt:"2024-01-20T11:00:00",updatedAt:"2024-01-20T11:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-18e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_vibracao.pdf"],tags:["manuteno","equipamento"],recipients:[{id:"user-003",name:"Pedro Costa",role:"Tcnico Manuteno",department:"Manuteno",acknowledged:!0}],comments:[]},{id:"alert-003",title:"Alerta de Material",description:"Material com defeito visual identificado no recebimento",severity:"low",priority:"medium",status:"resolved",location:{sector:"Recebimento",station:"Dock 01"},relatedEntity:{id:"material-456",name:"Lote de Materiais #456"},source:{id:"warehouse-system",name:"Sistema de Almoxarifado"},createdAt:"2024-01-20T12:00:00",updatedAt:"2024-01-20T12:00:00",createdBy:"system",updatedBy:"system",resolvedAt:new Date(Date.now()-36e5).toISOString(),resolvedBy:"user-004",attachments:["fotos_material.jpg"],tags:["material","recebimento"],recipients:[{id:"user-004",name:"Ana Oliveira",role:"Supervisor Almoxarifado",department:"Almoxarifado",acknowledged:!0}],comments:[]},{id:"alert-004",title:"Alerta de Sistema",description:"Relatrio semanal de produtividade disponvel para anlise",severity:"low",priority:"low",status:"acknowledged",location:{sector:"Administrao"},relatedEntity:{id:"task-001",name:"Relatrio Semanal"},source:{id:"report-system",name:"Sistema de Relatrios"},createdAt:"2024-01-20T13:00:00",updatedAt:"2024-01-20T13:00:00",createdBy:"system",updatedBy:"system",acknowledgedAt:new Date(Date.now()-36e5).toISOString(),acknowledgedBy:"user-003",attachments:["relatorio_semanal.pdf"],tags:["relatrio","produtividade"],recipients:[{id:"user-003",name:"Pedro Costa",role:"admin",department:"Administrao",acknowledged:!0}],comments:[]}],nonConformities:{total:0,open:Math.floor(Math.random()*8)+2,investigating:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*20)+10,closed:Math.floor(Math.random()*3),bySeverity:{low:Math.floor(Math.random()*5)+1,medium:Math.floor(Math.random()*8)+2,high:Math.floor(Math.random()*3)+1,critical:Math.floor(Math.random()*2)},byPriority:{low:Math.floor(Math.random()*4)+1,medium:Math.floor(Math.random()*6)+2,high:Math.floor(Math.random()*3)+1,urgent:Math.floor(Math.random()*2)},byCategory:{quality:Math.floor(Math.random()*5)+1,safety:Math.floor(Math.random()*3)+1,process:Math.floor(Math.random()*8)+2,equipment:Math.floor(Math.random()*4)+1,material:Math.floor(Math.random()*6)+2},bySector:{Montagem:Math.floor(Math.random()*5)+1,Usinagem:Math.floor(Math.random()*3)+1,Planejamento:Math.floor(Math.random()*2)+1,Recebimento:Math.floor(Math.random()*4)+1,Administrao:Math.floor(Math.random()*3)+1},productionStopped:Math.floor(Math.random()*3),requiresImmediateAction:Math.floor(Math.random()*2)},stats:{totalAlerts:0,activeAlerts:0,totalPendencies:0,totalNonConformities:0}};I.stats.totalAlerts=I.alerts.length,I.stats.activeAlerts=I.alerts.filter(N=>N.status==="active").length,I.stats.totalPendencies=I.pendencies.length,I.nonConformities.total=I.nonConformities.open+I.nonConformities.investigating+I.nonConformities.resolved+I.nonConformities.closed,I.stats.totalNonConformities=I.nonConformities.total,m(I),y(!1)};T();const E=setInterval(T,3e4);return()=>clearInterval(E)},[]);const j=T=>{m(E=>({...E,alerts:E.alerts.map(I=>I.id===T?{...I,status:"acknowledged"}:I)}))},w=T=>{m(E=>({...E,pendencies:E.pendencies.filter(I=>I.id!==T)}))},S=async()=>{y(!0);try{await l()}catch(T){console.error("Erro ao atualizar dados:",T)}finally{y(!1)}};return g||n?i.jsx("div",{className:"control-panel-container",children:i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando painel de controle..."}),n&&i.jsx("p",{children:"Carregando dados do Bling..."})]})}):i.jsxs("div",{className:"control-panel-container",children:[i.jsx(kde,{onRefresh:S}),t?i.jsx(sR,{hasToken:t,lastSync:s,error:r,onConfigure:()=>window.location.href="/bling-integration"}):i.jsx(oR,{onDataChange:h}),i.jsxs("div",{className:"control-panel-grid",children:[i.jsx("div",{className:"semaphore-section",children:i.jsx(Pde,{status:f.generalStatus,activeOrders:f.activeOrders,urgentOrders:f.urgentOrders,blockedOrders:f.blockedOrders})}),i.jsx("div",{className:"alerts-section",children:i.jsx(Dde,{alerts:f.alerts,onAcknowledge:j})}),i.jsx("div",{className:"pendencies-section",children:i.jsx(Rde,{pendencies:f.pendencies,onResolve:w})}),i.jsx("div",{className:"nonconformity-section",children:i.jsx(Mde,{data:f.nonConformities})}),i.jsx("div",{className:"actions-section",children:i.jsx(Lde,{})})]})]})}function Ude(){const{urgentOrders:t,scheduleChanges:e,config:n,isProcessing:r,lastRecalculation:a,nextRecalculation:s,stats:l,manualRecalculation:u,updateConfig:h,notifyChange:f}=pG();b.useEffect(()=>{t.length},[t.length]);const m=async()=>{await u()},g=()=>{h({autoRecalculation:!n.autoRecalculation})},y=(w,S)=>{h({[w]:S})},j=w=>{const S=Math.floor(w/60),T=w%60;return S>0?`${S}h ${T}m`:`${T}m`};return i.jsx("div",{className:"priority-optimization-page",children:i.jsx("div",{className:"priority-optimization-container",children:i.jsxs("div",{className:"priority-optimization-content",children:[i.jsxs("div",{className:"optimization-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Otimizao de Prioridades"}),i.jsx("p",{children:"Sistema de reclculo automtico de agendas para pedidos urgentes"})]}),i.jsx("div",{className:"header-actions",children:i.jsxs("button",{className:`action-btn ${r?"processing":""}`,onClick:m,disabled:r,children:[r?i.jsx(zn,{className:"spinning"}):i.jsx(zn,{}),r?"Processando...":"Recalcular Agora"]})})]}),i.jsxs("div",{className:"status-cards",children:[i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon urgent",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Pedidos Urgentes"}),i.jsx("span",{className:"card-value",children:l.totalUrgentOrders})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon processing",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Em Processamento"}),i.jsx("span",{className:"card-value",children:l.processingOrders})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon changes",children:i.jsx(To,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Mudanas de Agenda"}),i.jsx("span",{className:"card-value",children:l.totalScheduleChanges})]})]}),i.jsxs("div",{className:"status-card",children:[i.jsx("div",{className:"card-icon efficiency",children:i.jsx(Hh,{})}),i.jsxs("div",{className:"card-content",children:[i.jsx("h3",{children:"Eficincia Otimizao"}),i.jsxs("span",{className:"card-value",children:[Math.round(l.efficiency),"%"]})]})]})]}),i.jsxs("div",{className:"config-panel",children:[i.jsxs("div",{className:"panel-header",children:[i.jsx("h2",{children:"Configuraes de Otimizao"}),i.jsx(Ii,{})]}),i.jsxs("div",{className:"config-grid",children:[i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.autoRecalculation,onChange:g}),"Reclculo Automtico"]})}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Intervalo de Reclculo (minutos)"}),i.jsx("input",{type:"number",value:n.recalculateInterval,onChange:w=>y("recalculateInterval",parseInt(w.target.value)),min:"5",max:"1440"})]}),i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.notifyOperators,onChange:w=>y("notifyOperators",w.target.checked)}),"Notificar Operadores"]})}),i.jsx("div",{className:"config-item",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.notifyCoordinators,onChange:w=>y("notifyCoordinators",w.target.checked)}),"Notificar Coordenadores"]})}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Delay Mximo Permitido (minutos)"}),i.jsx("input",{type:"number",value:n.maxDelayAllowed,onChange:w=>y("maxDelayAllowed",parseInt(w.target.value)),min:"0",max:"480"})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("label",{children:"Limiar de Prioridade"}),i.jsxs("select",{value:n.priorityThreshold,onChange:w=>y("priorityThreshold",w.target.value),children:[i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"urgent",children:"Urgente"}),i.jsx("option",{value:"critical",children:"Crtico"})]})]})]}),i.jsxs("div",{className:"recalculation-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"ltima Reclculo:"}),i.jsx("span",{className:"info-value",children:a?a.toLocaleString("pt-BR"):"Nunca"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Prximo Reclculo:"}),i.jsx("span",{className:"info-value",children:s?s.toLocaleString("pt-BR"):"No agendado"})]})]})]}),i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Pedidos Urgentes Processados"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"filter-btn active",children:"Todos"}),i.jsx("button",{className:"filter-btn",children:"Processando"}),i.jsx("button",{className:"filter-btn",children:"Concludos"})]})]}),i.jsx("div",{className:"orders-list",children:t.map(w=>i.jsxs("div",{className:"order-card",children:[i.jsxs("div",{className:"order-header",children:[i.jsx("div",{className:"order-id",children:w.id}),i.jsx("div",{className:`priority-badge ${w.priority}`,children:w.priority==="urgent"?"Urgente":"Crtico"}),i.jsxs("div",{className:`status-badge ${w.status}`,children:[w.status==="pending"&&"Pendente",w.status==="processing"&&"Processando",w.status==="completed"&&"Concludo",w.status==="failed"&&"Falhou"]})]}),i.jsxs("div",{className:"order-content",children:[i.jsxs("div",{className:"order-info",children:[i.jsx("h3",{children:w.productName}),i.jsxs("p",{children:["Quantidade: ",w.quantity," unidades"]}),i.jsxs("p",{children:["Prazo Original:"," ",new Date(w.originalDeadline).toLocaleString("pt-BR")]}),i.jsxs("p",{children:["Novo Prazo:"," ",new Date(w.newDeadline).toLocaleString("pt-BR")]})]}),i.jsxs("div",{className:"order-impact",children:[i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Tarefas Afetadas:"}),i.jsx("span",{className:"impact-value",children:w.affectedTasks})]}),i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Operadores Afetados:"}),i.jsx("span",{className:"impact-value",children:w.affectedOperators})]}),i.jsxs("div",{className:"impact-item",children:[i.jsx("span",{className:"impact-label",children:"Delay Estimado:"}),i.jsx("span",{className:"impact-value",children:j(w.estimatedDelay)})]})]})]}),i.jsxs("div",{className:"order-actions",children:[i.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),i.jsxs("button",{className:"action-btn notify",children:[i.jsx(nc,{}),"Notificar"]})]})]},w.id))})]}),i.jsxs("div",{className:"changes-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Mudanas de Agenda"}),i.jsxs("div",{className:"section-actions",children:[i.jsx("button",{className:"filter-btn active",children:"Todas"}),i.jsx("button",{className:"filter-btn",children:"No Notificadas"}),i.jsx("button",{className:"filter-btn",children:"Alto Impacto"})]})]}),i.jsx("div",{className:"changes-list",children:e.map(w=>i.jsxs("div",{className:"change-card",children:[i.jsxs("div",{className:"change-header",children:[i.jsx("div",{className:"change-id",children:w.id}),i.jsx("div",{className:`impact-badge ${w.impact}`,children:w.impact==="low"?"Baixo":w.impact==="medium"?"Mdio":"Alto"}),i.jsxs("div",{className:`notification-status ${w.notified?"notified":"pending"}`,children:[w.notified?i.jsx(qn,{}):i.jsx(EB,{}),w.notified?"Notificado":"Pendente"]})]}),i.jsxs("div",{className:"change-content",children:[i.jsxs("div",{className:"change-info",children:[i.jsxs("h3",{children:["Operador: ",w.operatorName]}),i.jsxs("p",{children:["Motivo: ",w.reason]}),i.jsxs("p",{children:["Pedido: ",w.orderId]})]}),i.jsx("div",{className:"schedule-comparison",children:i.jsxs("div",{className:"time-comparison",children:[i.jsxs("div",{className:"original-time",children:[i.jsx("span",{className:"time-label",children:"Horrio Original"}),i.jsxs("span",{className:"time-value",children:[w.originalStartTime," -"," ",w.originalEndTime]})]}),i.jsx("div",{className:"arrow",children:i.jsx(Xb,{})}),i.jsxs("div",{className:"new-time",children:[i.jsx("span",{className:"time-label",children:"Novo Horrio"}),i.jsxs("span",{className:"time-value",children:[w.newStartTime," - ",w.newEndTime]})]})]})})]}),i.jsxs("div",{className:"change-actions",children:[i.jsx("button",{className:"action-btn view",children:"Ver Detalhes"}),!w.notified&&i.jsxs("button",{className:"action-btn notify",onClick:()=>f(w.id),children:[i.jsx(nc,{}),"Notificar"]})]})]},w.id))})]})]})})})}function Vde({accessToken:t,onOrderSelect:e}){const[n,r]=b.useState([]),[a,s]=b.useState(!1),[l,u]=b.useState(null),[h,f]=b.useState(""),[m,g]=b.useState(""),[y,j]=b.useState(1),[w,S]=b.useState(1),T=[{value:"",label:"Todos os Status"},{value:"em_aberto",label:"Em Aberto"},{value:"em_producao",label:"Em Produo"},{value:"aguardando_producao",label:"Aguardando Produo"},{value:"concluido",label:"Concludo"},{value:"cancelado",label:"Cancelado"}];b.useEffect(()=>{t&&E()},[t,y,m]);const E=async()=>{if(t){s(!0),u(null);try{Ut.setAccessToken(t);const C=await Ut.getOrders(y,20,{situacao:m||void 0});r(C.data),S(Math.ceil(C.total/20))}catch(C){u(C instanceof Error?C.message:"Erro ao carregar pedidos")}finally{s(!1)}}},I=()=>{E()},N=n.filter(C=>h===""||C.numero.toLowerCase().includes(h.toLowerCase())||C.cliente.nome.toLowerCase().includes(h.toLowerCase())||C.itens.some(B=>B.descricao.toLowerCase().includes(h.toLowerCase()))),O=C=>{const B={em_aberto:{label:"Em Aberto",class:"status-open"},em_producao:{label:"Em Produo",class:"status-production"},aguardando_producao:{label:"Aguardando",class:"status-waiting"},concluido:{label:"Concludo",class:"status-completed"},cancelado:{label:"Cancelado",class:"status-cancelled"}}[C]||{label:C,class:"status-default"};return i.jsx("span",{className:`status-badge ${B.class}`,children:B.label})},D=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),M=C=>new Date(C).toLocaleDateString("pt-BR");return t?i.jsxs("div",{className:"bling-orders-list",children:[i.jsxs("div",{className:"orders-header",children:[i.jsx("h2",{children:"Pedidos do Bling"}),i.jsx("div",{className:"header-actions",children:i.jsxs("button",{className:"btn btn-outline",onClick:I,disabled:a,children:[i.jsx(zn,{className:a?"spinning":""}),"Atualizar"]})})]}),i.jsxs("div",{className:"orders-filters",children:[i.jsx("div",{className:"filter-group",children:i.jsxs("div",{className:"search-input",children:[i.jsx(_s,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar por nmero, cliente ou produto...",value:h,onChange:C=>f(C.target.value)})]})}),i.jsx("div",{className:"filter-group",children:i.jsx("select",{value:m,onChange:C=>g(C.target.value),children:T.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))})})]}),i.jsxs("div",{className:"orders-content",children:[a&&i.jsxs("div",{className:"loading-state",children:[i.jsx(zn,{className:"spinning"}),i.jsx("p",{children:"Carregando pedidos..."})]}),l&&i.jsxs("div",{className:"error-state",children:[i.jsx("p",{children:l}),i.jsx("button",{className:"btn btn-primary",onClick:I,children:"Tentar Novamente"})]}),!a&&!l&&N.length===0&&i.jsx("div",{className:"empty-state",children:i.jsx("p",{children:"Nenhum pedido encontrado"})}),!a&&!l&&N.length>0&&i.jsx("div",{className:"orders-grid",children:N.map(C=>i.jsxs("div",{className:"order-card",children:[i.jsxs("div",{className:"order-header",children:[i.jsxs("div",{className:"order-number",children:[i.jsx("h3",{children:C.numero}),O(C.situacao)]}),i.jsx("div",{className:"order-date",children:M(C.data)})]}),i.jsxs("div",{className:"order-customer",children:[i.jsx("h4",{children:C.cliente.nome}),C.cliente.email&&i.jsx("p",{className:"customer-email",children:C.cliente.email})]}),i.jsxs("div",{className:"order-items",children:[i.jsxs("h5",{children:["Itens (",C.itens.length,")"]}),i.jsxs("div",{className:"items-list",children:[C.itens.slice(0,2).map((R,B)=>i.jsxs("div",{className:"item",children:[i.jsxs("span",{className:"item-quantity",children:[R.quantidade,"x"]}),i.jsx("span",{className:"item-description",children:R.descricao})]},B)),C.itens.length>2&&i.jsxs("div",{className:"more-items",children:["+",C.itens.length-2," itens"]})]})]}),i.jsxs("div",{className:"order-footer",children:[i.jsx("div",{className:"order-total",children:i.jsx("strong",{children:D(C.total)})}),i.jsx("div",{className:"order-actions",children:i.jsxs("button",{className:"btn btn-sm btn-outline",onClick:()=>e?.(C),children:[i.jsx(Wo,{}),"Ver Detalhes"]})})]})]},C.id))}),w>1&&i.jsxs("div",{className:"pagination",children:[i.jsx("button",{className:"btn btn-outline",onClick:()=>j(C=>Math.max(1,C-1)),disabled:y===1,children:"Anterior"}),i.jsxs("span",{className:"page-info",children:["Pgina ",y," de ",w]}),i.jsx("button",{className:"btn btn-outline",onClick:()=>j(C=>Math.min(w,C+1)),disabled:y===w,children:"Prxima"})]})]})]}):i.jsx("div",{className:"bling-orders-list",children:i.jsxs("div",{className:"no-access",children:[i.jsx("h3",{children:"Configure a integrao com Bling"}),i.jsx("p",{children:" necessrio configurar o Access Token para visualizar os pedidos."})]})})}function zde(){const{testConnection:t,importOrders:e,getImportHistory:n,getConfiguration:r,updateConfiguration:a}=gG(),[s,l]=b.useState({clientId:"bb038bbf8baa2108a9e5c31b409338ef03cc93a0",clientSecret:"5602db5f1ddfccf5894336d514cdfae102111c9cb4cbfc788c8bc4d771f6",baseUrl:"https://api.bling.com.br/Api/v3",accessToken:"",autoSync:!1,syncInterval:parseInt("30")}),[u,h]=b.useState([]),[f,m]=b.useState(!1),[g,y]=b.useState(!1),[j,w]=b.useState("config"),[S,T]=b.useState("unknown"),[E,I]=b.useState("token");b.useEffect(()=>{N()},[]),b.useEffect(()=>{console.log("Configurao atualizada:",s),console.log("Boto desabilitado:",!s.accessToken),console.log("Access Token:",s.accessToken?"Configurado":"No configurado")},[s]);const N=async()=>{try{console.log("Carregando dados iniciais..."),console.log("Configurao atual:",s),console.log("Access Token inicial:",s.accessToken);const L=await r();if(console.log("Configurao salva:",L),console.log("Access Token na configurao salva:",L?.accessToken),L){const z={...s,...L,clientId:L.clientId||s.clientId,clientSecret:L.clientSecret||s.clientSecret,accessToken:L.accessToken||s.accessToken};console.log("Nova configurao mesclada:",z),console.log("Access Token na nova configurao:",z.accessToken),l(z)}else console.log("Nenhuma configurao salva encontrada, usando valores padro"),console.log("Access Token padro:",s.accessToken);const U=await n();U&&h(U)}catch(L){console.error("Erro ao carregar dados iniciais:",L)}},O=async()=>{if(console.log("Boto clicado! Funo handleTestConnection chamada"),console.log("Estado atual - testing:",f),console.log("Estado atual - config:",s),console.log("Access Token vlido:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de testar a conexo");return}m(!0);try{const L=await t(s);console.log("Resultado do teste:",L),L.success?(T("connected"),alert("Conexo com Bling estabelecida com sucesso!")):(T("failed"),alert(`Falha na conexo: ${L.error}`))}catch(L){console.error("Erro no teste de conexo:",L),T("failed"),alert("Erro ao testar conexo")}finally{m(!1)}},D=async()=>{try{console.log("Salvando configurao:",s),console.log("Access Token sendo salvo:",s.accessToken),await a(s),alert("Configurao salva com sucesso!")}catch(L){console.error("Erro ao salvar configurao:",L),alert("Erro ao salvar configurao")}},M=()=>{try{const L=Ut.getAuthorizationUrl();window.location.href=L}catch(L){console.error("Erro ao iniciar OAuth:",L),alert("Erro ao iniciar processo de autorizao")}},C=()=>{localStorage.removeItem("bling_access_token"),localStorage.removeItem("bling_refresh_token"),localStorage.removeItem("bling_token_expiry"),l(L=>({...L,accessToken:""})),T("unknown"),alert("Desconectado com sucesso!")},R=async()=>{if(console.log("Tentando importar ordens..."),console.log("Access Token disponvel:",!!s.accessToken),console.log("Access Token valor:",s.accessToken),!s.accessToken){alert("Configure o Access Token antes de importar ordens");return}y(!0);try{const L=await e(s);if(L.success){const U={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"success",message:"Importao realizada com sucesso",details:`${L.importedCount} ordens importadas`,ordersCount:L.importedCount,errorsCount:L.errorCount||0};h(z=>[U,...z]),alert(`Importao concluda! ${L.importedCount} ordens importadas.`)}else{const U={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Falha na importao",details:L.error||"Erro desconhecido"};h(z=>[U,...z]),alert(`Erro na importao: ${L.error}`)}}catch{const U={id:Date.now().toString(),timestamp:new Date().toISOString(),type:"error",message:"Erro na importao",details:"Erro inesperado durante a importao"};h(z=>[U,...z]),alert("Erro inesperado durante a importao")}finally{y(!1)}},B=L=>{switch(L){case"success":return i.jsx(qn,{className:"status-icon success"});case"error":return i.jsx(Xe,{className:"status-icon error"});case"warning":return i.jsx(Xe,{className:"status-icon warning"});default:return i.jsx(Wt,{className:"status-icon info"})}},$=L=>{switch(L){case"success":return"success";case"error":return"error";case"warning":return"warning";default:return"info"}};return i.jsx("div",{className:"bling-integration-page",children:i.jsxs("div",{className:"bling-integration-container",children:[i.jsxs("div",{className:"bling-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(iA,{className:"header-icon"}),"Integrao Bling"]}),i.jsx("p",{children:"Configure e gerencie a integrao com a API do Bling para importao de ordens de produo"})]}),i.jsx("div",{className:"header-status",children:i.jsxs("div",{className:`connection-status ${S}`,children:[S==="connected"&&i.jsx(qn,{}),S==="failed"&&i.jsx(Xe,{}),S==="unknown"&&i.jsx(Wt,{}),i.jsxs("span",{children:[S==="connected"&&"Conectado",S==="failed"&&"Falha na Conexo",S==="unknown"&&"No Testado"]})]})})]}),i.jsxs("div",{className:"bling-tabs",children:[i.jsxs("button",{className:`tab-button ${j==="config"?"active":""}`,onClick:()=>w("config"),children:[i.jsx(Ii,{}),"Configurao"]}),i.jsxs("button",{className:`tab-button ${j==="import"?"active":""}`,onClick:()=>w("import"),children:[i.jsx(ms,{}),"Importao"]}),i.jsxs("button",{className:`tab-button ${j==="orders"?"active":""}`,onClick:()=>w("orders"),children:[i.jsx(gI,{}),"Pedidos"]}),i.jsxs("button",{className:`tab-button ${j==="history"?"active":""}`,onClick:()=>w("history"),children:[i.jsx(gB,{}),"Histrico"]}),i.jsxs("button",{className:`tab-button ${j==="logs"?"active":""}`,onClick:()=>w("logs"),children:[i.jsx(Su,{}),"Logs"]})]}),i.jsxs("div",{className:"tab-content",children:[j==="config"&&i.jsxs("div",{className:"config-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Configurao da API"}),i.jsx("p",{children:"Configure os parmetros de conexo com a API do Bling"})]}),i.jsxs("div",{className:"config-form",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Mtodo de Autenticao"}),i.jsxs("div",{className:"auth-method-selector",children:[i.jsxs("button",{type:"button",className:`auth-method-btn ${E==="oauth"?"active":""}`,onClick:()=>I("oauth"),children:[i.jsx(Du,{}),"OAuth 2.0 (Recomendado)"]}),i.jsxs("button",{type:"button",className:`auth-method-btn ${E==="token"?"active":""}`,onClick:()=>I("token"),children:[i.jsx(iA,{}),"Token Manual"]})]})]}),E==="oauth"&&i.jsxs("div",{className:"oauth-section",children:[i.jsxs("div",{className:"oauth-info",children:[i.jsx("h3",{children:"Autorizao OAuth 2.0"}),i.jsx("p",{children:"Conecte-se de forma segura usando OAuth 2.0 do Bling"})]}),s.accessToken?i.jsxs("div",{className:"connected-status",children:[i.jsx(qn,{className:"success-icon"}),i.jsxs("div",{children:[i.jsx("h4",{children:"Conectado com Sucesso!"}),i.jsx("p",{children:"Voc est autorizado a acessar a API do Bling"})]}),i.jsx("button",{type:"button",className:"btn btn-outline",onClick:C,children:"Desconectar"})]}):i.jsxs("div",{className:"oauth-actions",children:[i.jsxs("button",{type:"button",className:"btn btn-primary oauth-btn",onClick:M,children:[i.jsx(mI,{}),"Autorizar com Bling"]}),i.jsx("p",{className:"oauth-description",children:"Voc ser redirecionado para o Bling para autorizar o acesso"})]})]}),E==="token"&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Access Token OAuth"}),i.jsx(Pt,{name:"accessToken",type:"password",value:s.accessToken,onChange:L=>l(U=>({...U,accessToken:L.target.value})),placeholder:"Digite seu Access Token OAuth do Bling"}),i.jsx("div",{style:{fontSize:"0.8rem",color:s.accessToken?"#48bb78":"#e53e3e",marginTop:"0.25rem"},children:s.accessToken?" Access Token configurado":" Access Token necessrio"}),i.jsx("div",{style:{fontSize:"0.75rem",color:"#718096",marginTop:"0.25rem"},children:" Obtenha seu Access Token atravs do fluxo OAuth 2.0 no painel do Bling"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Client ID (Opcional)"}),i.jsx(Pt,{name:"clientId",type:"text",value:s.clientId,onChange:L=>l(U=>({...U,clientId:L.target.value})),placeholder:"Digite seu Client ID do Bling (opcional)"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:" Client ID  opcional para API v3 com Bearer tokens"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Client Secret (Opcional)"}),i.jsx(Pt,{name:"clientSecret",type:"password",value:s.clientSecret,onChange:L=>l(U=>({...U,clientSecret:L.target.value})),placeholder:"Digite seu Client Secret do Bling (opcional)"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:" Client Secret  opcional para API v3 com Bearer tokens"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"URL Base"}),i.jsx(Pt,{name:"baseUrl",type:"text",value:s.baseUrl,onChange:L=>l(U=>({...U,baseUrl:L.target.value})),placeholder:"https://api.bling.com.br/Api/v3"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#718096",marginTop:"0.25rem"},children:" URL padro da API v3 do Bling"})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:s.autoSync,onChange:L=>l(U=>({...U,autoSync:L.target.checked}))}),"Sincronizao Automtica"]})}),s.autoSync&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Intervalo de Sincronizao (minutos)"}),i.jsx(Pt,{name:"syncInterval",type:"number",value:s.syncInterval.toString(),onChange:L=>l(U=>({...U,syncInterval:parseInt(L.target.value)||30})),placeholder:"30"})]}),i.jsxs("div",{className:"form-actions",children:[i.jsx("button",{type:"button",className:"btn btn-outline",onClick:O,disabled:f||!s.accessToken,style:{padding:"0.75rem 1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",background:f||!s.accessToken?"#f7fafc":"white",color:f||!s.accessToken?"#a0aec0":"#4a5568",cursor:f||!s.accessToken?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:f?"Testando...":"Testar Conexo"}),i.jsx("div",{style:{fontSize:"0.8rem",color:"#4a5568",marginTop:"0.5rem"},children:f?" Testando conexo...":s.accessToken?" Pronto para testar":" Configure o Access Token"}),i.jsx(et,{onClick:D,children:"Salvar Configurao"})]})]})]}),j==="import"&&i.jsxs("div",{className:"import-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Importao de Ordens"}),i.jsx("p",{children:"Importe ordens de produo do Bling para o sistema"})]}),i.jsxs("div",{className:"import-actions",children:[i.jsxs("div",{className:"import-info",children:[i.jsxs("div",{className:"info-card",children:[i.jsx(Zb,{className:"info-icon"}),i.jsxs("div",{children:[i.jsx("h3",{children:"ltima Importao"}),i.jsx("p",{children:s.lastSync?new Date(s.lastSync).toLocaleString("pt-BR"):"Nunca"})]})]}),i.jsxs("div",{className:"info-card",children:[i.jsx(Wt,{className:"info-icon"}),i.jsxs("div",{children:[i.jsx("h3",{children:"Prxima Sincronizao"}),i.jsx("p",{children:s.nextSync?new Date(s.nextSync).toLocaleString("pt-BR"):"No agendada"})]})]})]}),i.jsx("div",{className:"import-controls",children:i.jsxs(et,{variant:"primary",onClick:R,disabled:g||S!=="connected",children:[g?i.jsx(zn,{className:"spinning"}):i.jsx(ms,{}),g?"Importando...":"Importar Ordens"]})})]})]}),j==="orders"&&i.jsxs("div",{className:"orders-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Pedidos do Bling"}),i.jsx("p",{children:"Visualize e gerencie os pedidos importados do Bling"})]}),i.jsx(Vde,{accessToken:s.accessToken,onOrderSelect:L=>{console.log("Pedido selecionado:",L)}})]}),j==="history"&&i.jsxs("div",{className:"history-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Histrico de Importaes"}),i.jsx("p",{children:"Visualize o histrico completo de importaes realizadas"})]}),i.jsxs("div",{className:"history-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Data/Hora"}),i.jsx("div",{children:"Tipo"}),i.jsx("div",{children:"Mensagem"}),i.jsx("div",{children:"Detalhes"}),i.jsx("div",{children:"Ordens"}),i.jsx("div",{children:"Erros"})]}),u.map(L=>i.jsxs("div",{className:`table-row ${$(L.type)}`,children:[i.jsx("div",{children:new Date(L.timestamp).toLocaleString("pt-BR")}),i.jsxs("div",{className:"log-type",children:[B(L.type),i.jsx("span",{children:L.type})]}),i.jsx("div",{children:L.message}),i.jsx("div",{children:L.details||""}),i.jsx("div",{children:L.ordersCount||""}),i.jsx("div",{children:L.errorsCount||""})]},L.id))]})]}),j==="logs"&&i.jsxs("div",{className:"logs-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"Logs do Sistema"}),i.jsx("p",{children:"Monitore os logs detalhados de todas as operaes"})]}),i.jsxs("div",{className:"logs-filters",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Tipo:"}),i.jsxs("select",{children:[i.jsx("option",{value:"",children:"Todos"}),i.jsx("option",{value:"success",children:"Sucesso"}),i.jsx("option",{value:"error",children:"Erro"}),i.jsx("option",{value:"warning",children:"Aviso"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Data:"}),i.jsx("input",{type:"date"})]}),i.jsx(et,{variant:"outline",children:"Filtrar"})]}),i.jsx("div",{className:"logs-list",children:u.map(L=>i.jsxs("div",{className:`log-item ${$(L.type)}`,children:[i.jsxs("div",{className:"log-header",children:[i.jsx("div",{className:"log-timestamp",children:new Date(L.timestamp).toLocaleString("pt-BR")}),i.jsxs("div",{className:"log-type-badge",children:[B(L.type),L.type]})]}),i.jsx("div",{className:"log-message",children:L.message}),L.details&&i.jsxs("div",{className:"log-details",children:[i.jsx("strong",{children:"Detalhes:"})," ",L.details]}),i.jsxs("div",{className:"log-metrics",children:[L.ordersCount!==void 0&&i.jsxs("span",{className:"metric",children:[i.jsx(ms,{})," ",L.ordersCount," ordens"]}),L.errorsCount!==void 0&&i.jsxs("span",{className:"metric error",children:[i.jsx(Xe,{})," ",L.errorsCount," erros"]})]})]},L.id))})]})]})]})})}function $de(){const{user:t}=Ya(),[e,n]=b.useState({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),[r,a]=b.useState([]),[s,l]=b.useState([]),[u,h]=b.useState([]),[f,m]=b.useState([]),[g,y]=b.useState({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),[j,w]=b.useState(""),[S,T]=b.useState(!1),[E,I]=b.useState(null),[N,O]=b.useState({}),[D,M]=b.useState(!1);b.useEffect(()=>{(async()=>{try{M(!0);const G=[{id:"1",code:"PROD001",name:"Produto A",description:"Descrio do produto A",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"2",code:"PROD002",name:"Produto B",description:"Descrio do produto B",category:"Categoria 2",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"},{id:"3",code:"PROD003",name:"Produto C",description:"Descrio do produto C",category:"Categoria 1",isActive:!0,createdAt:"2023-01-01",updatedAt:"2023-01-01",createdBy:"admin",updatedBy:"admin"}],ve=[{id:"1",name:"Corte",code:"CORTE"},{id:"2",name:"Montagem",code:"MONT"},{id:"3",name:"Acabamento",code:"ACAB"},{id:"4",name:"Qualidade",code:"QUAL"},{id:"5",name:"Preparao",code:"PREP"}],Q=[{id:"1",name:"Joo Silva",code:"OP001"},{id:"2",name:"Maria Santos",code:"OP002"},{id:"3",name:"Carlos Mendes",code:"OP003"},{id:"4",name:"Ana Oliveira",code:"OP004"}];l(G),h(ve),m(Q);const fe=await pR();a(fe)}catch(G){console.error("Erro ao carregar dados:",G),alert("Erro ao carregar dados dos roteiros operacionais")}finally{M(!1)}})()},[]);const C=async()=>{const F={};e.productId||(F.productId="Produto  obrigatrio"),e.primarySectorId||(F.primarySectorId="Setor primrio  obrigatrio"),e.version.trim()||(F.version="Verso  obrigatria"),/^\d+\.\d+$/.test(e.version)||(F.version="Formato de verso invlido. Use o formato X.Y (ex: 1.0, 2.1)"),e.steps.length===0&&(F.steps="Pelo menos uma etapa  obrigatria"),e.steps.forEach((Q,fe)=>{Q.name.trim()||(F[`step${fe}Name`]=`Nome da etapa ${fe+1}  obrigatrio`),Q.standardTime<=0&&(F[`step${fe}StandardTime`]=`Tempo padro da etapa ${fe+1} deve ser maior que 0`),Q.sequence<=0&&(F[`step${fe}Sequence`]=`Sequncia da etapa ${fe+1} deve ser maior que 0`),Q.sectorId||(F[`step${fe}SectorId`]=`Setor da etapa ${fe+1}  obrigatrio`)});const ve=e.steps.map(Q=>Q.sequence).sort((Q,fe)=>Q-fe);for(let Q=0;Q<ve.length;Q++)if(ve[Q]!==Q+1){F.steps="As etapas devem ter sequncia sequencial (1, 2, 3, ...)";break}if(!S&&e.productId&&e.version)try{await zG(e.productId,e.version)&&(F.version="J existe um roteiro com esta verso para este produto")}catch(Q){console.error("Erro ao verificar existncia do roteiro:",Q),F.version="Erro ao verificar verso existente"}return O(F),Object.keys(F).length===0},R=async F=>{if(F.preventDefault(),!t){alert("Usurio no autenticado");return}if(!await C())return;const G=s.find(Ae=>Ae.id===e.productId);if(!G){alert("Produto selecionado no encontrado");return}if(!u.find(Ae=>Ae.id===e.primarySectorId)){alert("Setor selecionado no encontrado");return}const Q=e.steps.reduce((Ae,Me)=>Ae+Me.standardTime,0),fe=e.steps.reduce((Ae,Me)=>Ae+Me.setupTime,0);try{M(!0);const Ae={productId:e.productId,productCode:G.code,productName:G.name,productDescription:G.description,productCategory:G.category,version:e.version,status:e.status,primarySectorId:e.primarySectorId,assignedOperatorId:e.assignedOperatorId||void 0,steps:e.steps.map((Me,be)=>({...Me,sequence:be+1})),totalStandardTime:Q,totalSetupTime:fe,totalSteps:e.steps.length,createdBy:t.id,updatedBy:t.id};if(S&&E)await VG(E,Ae,t.id),a(Me=>Me.map(be=>be.id===E?{...be,...Ae,updatedAt:new Date().toISOString(),updatedBy:t.id}:be)),T(!1),I(null),alert("Roteiro operacional atualizado com sucesso!");else{const be={id:await UG(Ae,t.id),...Ae,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(Be=>[be,...Be]),alert("Roteiro operacional criado com sucesso!")}B()}catch(Ae){console.error("Erro ao salvar roteiro:",Ae);const Me=Ae instanceof Error?Ae.message:"Erro desconhecido";alert(`Erro ao salvar roteiro: ${Me}`)}finally{M(!1)}},B=()=>{n({productId:"",version:"1.0",status:"draft",primarySectorId:"",assignedOperatorId:"",steps:[]}),y({name:"",description:"",sequence:1,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),w(""),O({})},$=F=>{T(!0),I(F.id),n({productId:F.productId,version:F.version,status:F.status,primarySectorId:F.primarySectorId,assignedOperatorId:F.assignedOperatorId,steps:F.steps}),window.scrollTo({top:0,behavior:"smooth"})},L=async F=>{if(window.confirm(`Tem certeza que deseja excluir este roteiro operacional?

Esta ao no pode ser desfeita.`))try{M(!0),await mR(F),a(G=>G.filter(ve=>ve.id!==F)),alert("Roteiro operacional excludo com sucesso!")}catch(G){console.error("Erro ao excluir roteiro:",G);const ve=G instanceof Error?G.message:"Erro desconhecido";alert(`Erro ao excluir roteiro: ${ve}`)}finally{M(!1)}},U=()=>{if(!g.name||!g.standardTime||g.standardTime<=0||!g.sectorId){alert("Nome da etapa, tempo padro e setor so obrigatrios");return}if(e.steps.some(ve=>ve.name.toLowerCase()===(g.name||"").toLowerCase())){alert("J existe uma etapa com este nome");return}const G={id:Date.now().toString(),name:g.name.trim(),description:g.description?.trim()||"",sequence:e.steps.length+1,standardTime:g.standardTime,setupTime:g.setupTime||0,equipment:g.equipment?.trim()||"",requirements:g.requirements||[],notes:g.notes?.trim()||"",sectorId:g.sectorId,operatorId:g.operatorId||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current-user",updatedBy:"current-user"};n(ve=>({...ve,steps:[...ve.steps,G]})),y({name:"",description:"",sequence:e.steps.length+2,standardTime:0,setupTime:0,equipment:"",requirements:[],notes:"",sectorId:"",operatorId:""}),w("")},z=F=>{n(G=>{const Q=G.steps.filter(fe=>fe.id!==F).map((fe,Ae)=>({...fe,sequence:Ae+1}));return{...G,steps:Q}})},xe=()=>{j.trim()&&!g.requirements?.includes(j.trim())&&(y(F=>({...F,requirements:[...F.requirements||[],j.trim()]})),w(""))},ce=F=>{y(G=>({...G,requirements:(G.requirements||[]).filter(ve=>ve!==F)}))},X=F=>{switch(F){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return F}},se=F=>`status-${F}`,ge=F=>{const G=Math.floor(F/60),ve=F%60;return G>0?`${G}h ${ve}min`:`${ve}min`},Se=()=>{T(!1),I(null),B()},H=F=>u.find(G=>G.id===F)?.name||"Setor no encontrado",ae=F=>F?f.find(G=>G.id===F)?.name||"Operador no encontrado":"No atribudo";return i.jsx("div",{className:"operational-routes-page",children:i.jsxs("div",{className:"operational-routes-container",children:[i.jsx("div",{className:"operational-routes-header",children:i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Cadastro de Roteiros Operacionais"}),i.jsx("p",{children:"Gerencie os roteiros de produo com produtos, etapas, tempo padro e setup"})]})}),i.jsxs("form",{className:"registration-form",onSubmit:R,children:[i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(Do,{className:"section-icon"}),"Informaes do Produto"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Produto *"}),i.jsxs("select",{className:`form-select ${N.productId?"error":""}`,value:e.productId,onChange:F=>n(G=>({...G,productId:F.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um produto"}),s.map(F=>i.jsxs("option",{value:F.id,children:[F.code," - ",F.name]},F.id))]}),N.productId&&i.jsx("span",{className:"form-error",children:N.productId})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Verso"}),i.jsx("input",{type:"text",className:`form-input ${N.version?"error":""}`,value:e.version,onChange:F=>n(G=>({...G,version:F.target.value})),placeholder:"Ex: 1.0"}),N.version&&i.jsx("span",{className:"form-error",children:N.version})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Status"}),i.jsxs("select",{className:"form-select",value:e.status,onChange:F=>n(G=>({...G,status:F.target.value})),children:[i.jsx("option",{value:"draft",children:"Rascunho"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"})]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(bg,{className:"section-icon"}),"Associaes"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Setor Primrio *"}),i.jsxs("select",{className:`form-select ${N.primarySectorId?"error":""}`,value:e.primarySectorId,onChange:F=>n(G=>({...G,primarySectorId:F.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um setor"}),u.map(F=>i.jsxs("option",{value:F.id,children:[F.code," - ",F.name]},F.id))]}),N.primarySectorId&&i.jsx("span",{className:"form-error",children:N.primarySectorId})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Operador Atribudo"}),i.jsxs("select",{className:"form-select",value:e.assignedOperatorId,onChange:F=>n(G=>({...G,assignedOperatorId:F.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(F=>i.jsxs("option",{value:F.id,children:[F.code," - ",F.name]},F.id))]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(Mu,{className:"section-icon"}),"Etapas do Roteiro"]}),e.steps.length>0&&i.jsxs("div",{className:"steps-list",children:[i.jsx("h4",{children:"Etapas Configuradas:"}),e.steps.map(F=>i.jsxs("div",{className:"step-item",children:[i.jsxs("div",{className:"step-header",children:[i.jsx("span",{className:"step-sequence",children:F.sequence}),i.jsx("span",{className:"step-name",children:F.name}),i.jsxs("span",{className:"step-times",children:[i.jsx(Wt,{})," ",ge(F.standardTime)," | ",i.jsx(sf,{})," ",ge(F.setupTime)]}),i.jsx("button",{type:"button",className:"remove-step-btn",onClick:()=>z(F.id),children:i.jsx(Ss,{})})]}),i.jsxs("div",{className:"step-details",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Descrio:"})," ",F.description]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Equipamento:"})," ",F.equipment]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Setor:"})," ",H(F.sectorId)]}),F.operatorId&&i.jsxs("p",{children:[i.jsx("strong",{children:"Operador:"})," ",ae(F.operatorId)]}),F.requirements.length>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Requisitos:"})," ",F.requirements.join(", ")]}),F.notes&&i.jsxs("p",{children:[i.jsx("strong",{children:"Notas:"})," ",F.notes]})]})]},F.id))]}),i.jsxs("div",{className:"new-step-form",children:[i.jsx("h4",{children:"Adicionar Nova Etapa:"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Nome da Etapa *"}),i.jsx("input",{type:"text",className:"form-input",value:g.name,onChange:F=>y(G=>({...G,name:F.target.value})),placeholder:"Nome da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Descrio"}),i.jsx("input",{type:"text",className:"form-input",value:g.description,onChange:F=>y(G=>({...G,description:F.target.value})),placeholder:"Descrio da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tempo Padro (minutos) *"}),i.jsx("input",{type:"number",className:"form-input",value:g.standardTime,onChange:F=>y(G=>({...G,standardTime:parseInt(F.target.value)||0})),min:"1",placeholder:"Tempo em minutos"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Tempo de Setup (minutos)"}),i.jsx("input",{type:"number",className:"form-input",value:g.setupTime,onChange:F=>y(G=>({...G,setupTime:parseInt(F.target.value)||0})),min:"0",placeholder:"Tempo de setup"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Equipamento"}),i.jsx("input",{type:"text",className:"form-input",value:g.equipment,onChange:F=>y(G=>({...G,equipment:F.target.value})),placeholder:"Equipamento necessrio"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Sequncia"}),i.jsx("input",{type:"number",className:"form-input",value:g.sequence,onChange:F=>y(G=>({...G,sequence:parseInt(F.target.value)||1})),min:"1",placeholder:"Ordem da etapa"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Setor da Etapa *"}),i.jsxs("select",{className:"form-select",value:g.sectorId,onChange:F=>y(G=>({...G,sectorId:F.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um setor"}),u.map(F=>i.jsxs("option",{value:F.id,children:[F.code," - ",F.name]},F.id))]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Operador da Etapa"}),i.jsxs("select",{className:"form-select",value:g.operatorId,onChange:F=>y(G=>({...G,operatorId:F.target.value})),children:[i.jsx("option",{value:"",children:"Selecione um operador (opcional)"}),f.map(F=>i.jsxs("option",{value:F.id,children:[F.code," - ",F.name]},F.id))]})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{className:"form-label",children:"Requisitos"}),i.jsx("div",{className:"requirements-container",children:(g.requirements||[]).map((F,G)=>i.jsxs("span",{className:"requirement-tag",children:[F,i.jsx("button",{type:"button",onClick:()=>ce(F),children:i.jsx(Cn,{})})]},G))}),i.jsxs("div",{className:"requirement-input-group",children:[i.jsx("input",{type:"text",className:"form-input requirement-input",value:j,onChange:F=>w(F.target.value),placeholder:"Digite um requisito",onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),xe())}),i.jsx(et,{type:"button",variant:"outline",onClick:xe,children:i.jsx(af,{})})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{className:"form-label",children:"Notas"}),i.jsx("textarea",{className:"form-textarea",value:g.notes,onChange:F=>y(G=>({...G,notes:F.target.value})),placeholder:"Observaes sobre a etapa..."})]}),i.jsxs(et,{type:"button",variant:"outline",onClick:U,children:[i.jsx(af,{})," Adicionar Etapa"]})]}),N.steps&&i.jsx("span",{className:"form-error",children:N.steps})]}),i.jsxs("div",{className:"form-actions",children:[S&&i.jsx(et,{type:"button",variant:"secondary",onClick:Se,children:"Cancelar"}),i.jsx(et,{type:"submit",variant:"primary",disabled:D,children:D?"Salvando...":S?"Atualizar Roteiro":"Cadastrar Roteiro"})]})]}),i.jsxs("div",{className:"routes-list-section",children:[i.jsxs("h3",{className:"section-title",children:[i.jsx(gI,{className:"section-icon"}),"Roteiros Operacionais Existentes"]}),D?i.jsx("div",{className:"loading-message",children:"Carregando roteiros..."}):r.length===0?i.jsxs("div",{className:"no-routes-message",children:[i.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),i.jsx("p",{children:"Use o formulrio acima para criar o primeiro roteiro."})]}):i.jsx("div",{className:"routes-grid",children:r.map(F=>i.jsxs("div",{className:"route-card",children:[i.jsxs("div",{className:"route-header",children:[i.jsxs("div",{className:"route-product-info",children:[i.jsx("h4",{children:F.productName}),i.jsx("p",{className:"product-code",children:F.productCode}),i.jsxs("p",{className:"route-version",children:["Verso: ",F.version]})]}),i.jsx("div",{className:"route-status",children:i.jsx("span",{className:`status-badge ${se(F.status)}`,children:X(F.status)})})]}),i.jsxs("div",{className:"route-details",children:[i.jsxs("div",{className:"route-associations",children:[i.jsxs("p",{children:[i.jsx(bg,{})," ",i.jsx("strong",{children:"Setor:"})," ",H(F.primarySectorId)]}),i.jsxs("p",{children:[i.jsx(rc,{})," ",i.jsx("strong",{children:"Operador:"})," ",ae(F.assignedOperatorId)]})]}),i.jsxs("div",{className:"route-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx(Mu,{}),i.jsxs("span",{children:[F.totalSteps," etapas"]})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx(Wt,{}),i.jsx("span",{children:ge(F.totalStandardTime)})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx(sf,{}),i.jsx("span",{children:ge(F.totalSetupTime)})]})]}),i.jsxs("div",{className:"route-steps-preview",children:[i.jsx("h5",{children:"Etapas:"}),F.steps.slice(0,3).map(G=>i.jsxs("div",{className:"step-preview",children:[i.jsx("span",{className:"step-number",children:G.sequence}),i.jsx("span",{className:"step-name",children:G.name}),i.jsx("span",{className:"step-time",children:ge(G.standardTime)}),i.jsx("span",{className:"step-sector",children:H(G.sectorId)})]},G.id)),F.steps.length>3&&i.jsxs("p",{className:"more-steps",children:["+",F.steps.length-3," etapas"]})]})]}),i.jsxs("div",{className:"route-actions",children:[i.jsxs(et,{type:"button",variant:"outline",onClick:()=>$(F),children:[i.jsx(Rf,{})," Editar"]}),i.jsxs(et,{type:"button",variant:"secondary",onClick:()=>L(F.id),children:[i.jsx(Ss,{})," Excluir"]})]})]},F.id))})]})]})})}function qde(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!1),[l,u]=b.useState(""),[h,f]=b.useState("all"),[m,g]=b.useState("productName"),[y,j]=b.useState("asc");b.useEffect(()=>{(async()=>{try{s(!0);const C=await pR();e(C),r(C)}catch(C){console.error("Erro ao carregar roteiros:",C),alert("Erro ao carregar roteiros operacionais")}finally{s(!1)}})()},[]),b.useEffect(()=>{let M=t.filter(C=>{const R=C.productName.toLowerCase().includes(l.toLowerCase())||C.productCode.toLowerCase().includes(l.toLowerCase())||C.version.toLowerCase().includes(l.toLowerCase()),B=h==="all"||C.status===h;return R&&B});M.sort((C,R)=>{let B,$;switch(m){case"productName":B=C.productName.toLowerCase(),$=R.productName.toLowerCase();break;case"productCode":B=C.productCode.toLowerCase(),$=R.productCode.toLowerCase();break;case"version":B=C.version,$=R.version;break;case"status":B=C.status,$=R.status;break;case"totalStandardTime":B=C.totalStandardTime,$=R.totalStandardTime;break;case"stepsCount":B=C.steps.length,$=R.steps.length;break;default:B=C.productName.toLowerCase(),$=R.productName.toLowerCase()}return y==="asc"?B>$?1:-1:B<$?1:-1}),r(M)},[t,l,h,m,y]);const w=async M=>{if(window.confirm("Tem certeza que deseja excluir este roteiro operacional?"))try{s(!0),await mR(M),e(C=>C.filter(R=>R.id!==M)),alert("Roteiro operacional excludo com sucesso!")}catch(C){console.error("Erro ao excluir roteiro:",C),alert(`Erro ao excluir roteiro: ${C instanceof Error?C.message:"Erro desconhecido"}`)}finally{s(!1)}},S=M=>{window.location.href=`/operational-routes?edit=${M.id}`},T=M=>{window.location.href=`/operational-routes?view=${M.id}`},E=M=>{switch(M){case"active":return"Ativo";case"inactive":return"Inativo";case"draft":return"Rascunho";default:return M}},I=M=>`status-${M}`,N=M=>{const C=Math.floor(M/60),R=M%60;return C>0?`${C}h ${R}min`:`${R}min`},O=M=>{m===M?j(y==="asc"?"desc":"asc"):(g(M),j("asc"))},D=()=>{u(""),f("all"),g("productName"),j("asc")};return i.jsx("div",{className:"operational-routes-list-page",children:i.jsx("div",{className:"operational-routes-list-container",children:i.jsxs("div",{className:"operational-routes-list-content",children:[i.jsxs("div",{className:"operational-routes-list-header",children:[i.jsxs("div",{className:"header-content",children:[i.jsx("h1",{children:"Lista de Roteiros Operacionais"}),i.jsx("p",{children:"Visualize e gerencie todos os roteiros de produo cadastrados"})]}),i.jsx("div",{className:"header-actions",children:i.jsxs(et,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:[i.jsx(Mu,{})," Novo Roteiro"]})})]}),i.jsxs("div",{className:"filters-section",children:[i.jsx("div",{className:"search-container",children:i.jsxs("div",{className:"search-input-wrapper",children:[i.jsx(_s,{className:"search-icon"}),i.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar roteiros por produto, cdigo ou verso...",value:l,onChange:M=>u(M.target.value)}),l&&i.jsx("button",{className:"clear-search-btn",onClick:()=>u(""),title:"Limpar busca",children:""})]})}),i.jsxs("div",{className:"filters-row",children:[i.jsxs("div",{className:"filter-item",children:[i.jsx("label",{className:"filter-label",children:"Status"}),i.jsxs("select",{className:"filter-select",value:h,onChange:M=>f(M.target.value),children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"draft",children:"Rascunho"})]})]}),i.jsxs("div",{className:"filter-item",children:[i.jsx("label",{className:"filter-label",children:"Ordenar por"}),i.jsxs("div",{className:"sort-container",children:[i.jsxs("select",{className:"filter-select",value:m,onChange:M=>g(M.target.value),children:[i.jsx("option",{value:"productName",children:"Nome do Produto"}),i.jsx("option",{value:"productCode",children:"Cdigo"}),i.jsx("option",{value:"version",children:"Verso"}),i.jsx("option",{value:"status",children:"Status"}),i.jsx("option",{value:"totalStandardTime",children:"Tempo"}),i.jsx("option",{value:"stepsCount",children:"Etapas"})]}),i.jsx("button",{className:"sort-btn",onClick:()=>O(m),title:`Ordenar ${y==="asc"?"decrescente":"crescente"}`,children:i.jsx(_B,{className:y==="asc"?"sort-asc":"sort-desc"})})]})]}),i.jsx("div",{className:"filter-item",children:i.jsxs(et,{variant:"outline",onClick:D,children:[i.jsx(fB,{})," Limpar"]})})]}),(l||h!=="all")&&i.jsxs("div",{className:"active-filters-bar",children:[i.jsx("span",{className:"active-filters-text",children:"Filtros aplicados:"}),i.jsxs("div",{className:"filter-tags",children:[l&&i.jsxs("span",{className:"filter-tag",children:['Busca: "',l,'"',i.jsx("button",{className:"tag-remove-btn",onClick:()=>u(""),children:""})]}),h!=="all"&&i.jsxs("span",{className:"filter-tag",children:["Status: ",E(h),i.jsx("button",{className:"tag-remove-btn",onClick:()=>f("all"),children:""})]})]})]})]}),i.jsx("div",{className:"routes-list-section",children:a?i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Carregando roteiros..."})]}):n.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:i.jsx(Mu,{})}),i.jsx("h3",{children:"Nenhum roteiro encontrado"}),l||h!=="all"?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Tente ajustar os filtros de busca ou"}),i.jsx(et,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"criar um novo roteiro"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Nenhum roteiro operacional cadastrado ainda."}),i.jsx(et,{variant:"primary",onClick:()=>window.location.href="/operational-routes",children:"Criar Primeiro Roteiro"})]})]}):i.jsx("div",{className:"routes-table-container",children:i.jsxs("table",{className:"routes-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Produto"}),i.jsx("th",{children:"Verso"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Etapas"}),i.jsx("th",{children:"Tempo Total"}),i.jsx("th",{children:"Setup Total"}),i.jsx("th",{children:"Aes"})]})}),i.jsx("tbody",{children:n.map(M=>i.jsxs("tr",{className:"route-row",children:[i.jsx("td",{className:"product-cell",children:i.jsxs("div",{className:"product-info",children:[i.jsx("h4",{children:M.productName}),i.jsx("span",{className:"product-code",children:M.productCode})]})}),i.jsx("td",{className:"version-cell",children:i.jsx("span",{className:"version-badge",children:M.version})}),i.jsx("td",{className:"status-cell",children:i.jsx("span",{className:`status-badge ${I(M.status)}`,children:E(M.status)})}),i.jsx("td",{className:"steps-cell",children:i.jsxs("div",{className:"steps-info",children:[i.jsx("span",{className:"steps-count",children:M.steps.length}),i.jsx("span",{className:"steps-label",children:"etapas"})]})}),i.jsx("td",{className:"time-cell",children:i.jsxs("div",{className:"time-info",children:[i.jsx(Wt,{className:"time-icon"}),i.jsx("span",{children:N(M.totalStandardTime)})]})}),i.jsx("td",{className:"setup-cell",children:i.jsxs("div",{className:"setup-info",children:[i.jsx(sf,{className:"setup-icon"}),i.jsx("span",{children:N(M.totalSetupTime)})]})}),i.jsx("td",{className:"actions-cell",children:i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"action-btn view-btn",title:"Visualizar",onClick:()=>T(M),children:i.jsx(Wo,{})}),i.jsx("button",{className:"action-btn edit-btn",title:"Editar",onClick:()=>S(M),children:i.jsx(Rf,{})}),i.jsx("button",{className:"action-btn delete-btn",title:"Excluir",onClick:()=>w(M.id),children:i.jsx(Ss,{})})]})})]},M.id))})]})})})]})})})}function Fde({config:t,onConfigChange:e}){const[n,r]=b.useState(!1);return i.jsxs("div",{className:"profile-settings",children:[i.jsx("h2",{children:"Configuraes de Perfil"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nome do Usurio"}),i.jsx("input",{type:"text",value:t.userName,onChange:a=>e("userName",a.target.value),placeholder:"Digite seu nome"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"E-mail"}),i.jsx("input",{type:"email",value:t.email,onChange:a=>e("email",a.target.value),placeholder:"seu@email.com"})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Idioma"}),i.jsxs("select",{value:t.language,onChange:a=>e("language",a.target.value),children:[i.jsx("option",{value:"pt-BR",children:"Portugus (Brasil)"}),i.jsx("option",{value:"en-US",children:"English (US)"}),i.jsx("option",{value:"es-ES",children:"Espaol"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Fuso Horrio"}),i.jsxs("select",{value:t.timezone,onChange:a=>e("timezone",a.target.value),children:[i.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (GMT-3)"}),i.jsx("option",{value:"America/Manaus",children:"Manaus (GMT-4)"}),i.jsx("option",{value:"America/Belem",children:"Belm (GMT-3)"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nova Senha"}),i.jsxs("div",{className:"password-input",children:[i.jsx("input",{type:n?"text":"password",placeholder:"Digite sua nova senha"}),i.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!n),children:n?i.jsx(Cv,{}):i.jsx(Wo,{})})]})]})]})}function Hde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"notification-settings",children:[i.jsx("h2",{children:"Configuraes de Notificaes"}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:n=>e("emailNotifications",n.target.checked)}),"Receber notificaes por e-mail"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.pushNotifications,onChange:n=>e("pushNotifications",n.target.checked)}),"Notificaes push no navegador"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.alertSounds,onChange:n=>e("alertSounds",n.target.checked)}),"Sons de alerta"]})}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Frequncia de Notificaes"}),i.jsxs("select",{value:t.notificationFrequency,onChange:n=>e("notificationFrequency",n.target.value),children:[i.jsx("option",{value:"immediate",children:"Imediata"}),i.jsx("option",{value:"hourly",children:"A cada hora"}),i.jsx("option",{value:"daily",children:"Diria"}),i.jsx("option",{value:"weekly",children:"Semanal"})]})]})]})}function Kde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"appearance-settings",children:[i.jsx("h2",{children:"Configuraes de Aparncia"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tema"}),i.jsxs("select",{value:t.theme,onChange:n=>e("theme",n.target.value),children:[i.jsx("option",{value:"light",children:"Claro"}),i.jsx("option",{value:"dark",children:"Escuro"}),i.jsx("option",{value:"auto",children:"Automtico"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tamanho da Fonte"}),i.jsxs("select",{value:t.fontSize,onChange:n=>e("fontSize",n.target.value),children:[i.jsx("option",{value:"small",children:"Pequeno"}),i.jsx("option",{value:"medium",children:"Mdio"}),i.jsx("option",{value:"large",children:"Grande"})]})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.compactMode,onChange:n=>e("compactMode",n.target.checked)}),"Modo compacto"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.showAnimations,onChange:n=>e("showAnimations",n.target.checked)}),"Mostrar animaes"]})})]})}function Gde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"security-settings",children:[i.jsx("h2",{children:"Configuraes de Segurana"}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.twoFactorAuth,onChange:n=>e("twoFactorAuth",n.target.checked)}),"Autenticao de dois fatores (2FA)"]})}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tempo limite da sesso (minutos)"}),i.jsx("input",{type:"number",value:t.sessionTimeout,onChange:n=>e("sessionTimeout",parseInt(n.target.value)),min:"5",max:"480"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Expirao de senha (dias)"}),i.jsx("input",{type:"number",value:t.passwordExpiry,onChange:n=>e("passwordExpiry",parseInt(n.target.value)),min:"30",max:"365"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tentativas de login permitidas"}),i.jsx("input",{type:"number",value:t.loginAttempts,onChange:n=>e("loginAttempts",parseInt(n.target.value)),min:"1",max:"10"})]})]})}function Wde({config:t,onConfigChange:e}){return i.jsxs("div",{className:"system-settings",children:[i.jsx("h2",{children:"Configuraes do Sistema"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Idioma"}),i.jsxs("select",{value:t.language,onChange:n=>e("language",n.target.value),children:[i.jsx("option",{value:"pt",children:"Portugus"}),i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"es",children:"Espaol"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Fuso Horrio"}),i.jsxs("select",{value:t.timezone,onChange:n=>e("timezone",n.target.value),children:[i.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (GMT-3)"}),i.jsx("option",{value:"America/New_York",children:"Nova York (GMT-5)"}),i.jsx("option",{value:"Europe/London",children:"Londres (GMT+0)"}),i.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Formato de Data"}),i.jsxs("select",{value:t.dateFormat,onChange:n=>e("dateFormat",n.target.value),children:[i.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/AAAA"}),i.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/AAAA"}),i.jsx("option",{value:"yyyy-mm-dd",children:"AAAA-MM-DD"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Moeda"}),i.jsxs("select",{value:t.currency,onChange:n=>e("currency",n.target.value),children:[i.jsx("option",{value:"BRL",children:"Real (R$)"}),i.jsx("option",{value:"USD",children:"Dlar ($)"}),i.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.autoSave,onChange:n=>e("autoSave",n.target.checked)}),"Salvar automaticamente"]})}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:t.debugMode,onChange:n=>e("debugMode",n.target.checked)}),"Modo de depurao"]})}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Nvel de Log"}),i.jsxs("select",{value:t.logLevel,onChange:n=>e("logLevel",n.target.value),children:[i.jsx("option",{value:"error",children:"Apenas Erros"}),i.jsx("option",{value:"warn",children:"Avisos e Erros"}),i.jsx("option",{value:"info",children:"Informaes"}),i.jsx("option",{value:"debug",children:"Depurao Completa"})]})]})]})}function Yde(){const[t,e]=b.useState("profile"),[n,r]=b.useState({userName:"Joo Silva",email:"joao.silva@empresa.com",language:"pt",timezone:"America/Sao_Paulo",dateFormat:"dd/mm/yyyy",currency:"BRL",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1,logLevel:"info"}),[a,s]=b.useState(!1),l=(g,y)=>{r(j=>({...j,[g]:y})),s(!0)},u=()=>{console.log("Salvando configuraes:",n),s(!1)},h=()=>{r({userName:"Joo Silva",email:"joao.silva@empresa.com",language:"pt",timezone:"America/Sao_Paulo",dateFormat:"dd/mm/yyyy",currency:"BRL",emailNotifications:!0,pushNotifications:!0,alertSounds:!1,notificationFrequency:"immediate",theme:"light",fontSize:"medium",compactMode:!1,showAnimations:!0,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:3,autoSave:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1,logLevel:"info"}),s(!1)},f=[{id:"profile",label:"Perfil",icon:i.jsx(rc,{})},{id:"notifications",label:"Notificaes",icon:i.jsx(nc,{})},{id:"appearance",label:"Aparncia",icon:i.jsx(xB,{})},{id:"security",label:"Segurana",icon:i.jsx(yI,{})},{id:"system",label:"Sistema",icon:i.jsx(Ii,{})}],m=()=>{switch(t){case"profile":return i.jsx(Fde,{config:{userName:n.userName,email:n.email,language:n.language,timezone:n.timezone},onConfigChange:l});case"notifications":return i.jsx(Hde,{config:{emailNotifications:n.emailNotifications,pushNotifications:n.pushNotifications,alertSounds:n.alertSounds,notificationFrequency:n.notificationFrequency},onConfigChange:l});case"appearance":return i.jsx(Kde,{config:{theme:n.theme,fontSize:n.fontSize,compactMode:n.compactMode,showAnimations:n.showAnimations},onConfigChange:l});case"security":return i.jsx(Gde,{config:{twoFactorAuth:n.twoFactorAuth,sessionTimeout:n.sessionTimeout,passwordExpiry:n.passwordExpiry,loginAttempts:n.loginAttempts},onConfigChange:l});case"system":return i.jsx(Wde,{config:{language:n.language,timezone:n.timezone,dateFormat:n.dateFormat,currency:n.currency,autoSave:n.autoSave,debugMode:n.debugMode,logLevel:n.logLevel},onConfigChange:l});default:return null}};return i.jsx("div",{className:"settings-page",children:i.jsxs("div",{className:"settings-container",children:[i.jsxs("div",{className:"settings-header",children:[i.jsx("h1",{children:"Configuraes"}),i.jsx("p",{children:"Gerencie suas preferncias e configuraes do sistema"})]}),i.jsxs("div",{className:"settings-content",children:[i.jsx("div",{className:"settings-sidebar",children:f.map(g=>i.jsxs("button",{className:`tab-button ${t===g.id?"active":""}`,onClick:()=>e(g.id),children:[g.icon,i.jsx("span",{children:g.label})]},g.id))}),i.jsx("div",{className:"settings-main",children:m()})]}),i.jsxs("div",{className:"settings-actions",children:[i.jsxs("button",{className:"action-btn secondary",onClick:h,disabled:!a,children:[i.jsx(bI,{}),"Restaurar Padro"]}),i.jsxs("div",{className:"action-buttons",children:[i.jsxs("button",{className:"action-btn cancel",onClick:()=>s(!1),disabled:!a,children:[i.jsx(Cn,{}),"Cancelar"]}),i.jsxs("button",{className:"action-btn save",onClick:u,disabled:!a,children:[i.jsx(ws,{}),"Salvar Alteraes"]})]})]})]})})}const Xde="modulepreload",Qde=function(t){return"/"+t},FO={},il=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=h(n.map(f=>{if(f=Qde(f),f in FO)return;FO[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Xde,m||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),m)return new Promise((j,w)=>{y.addEventListener("load",j),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},Zde=b.lazy(()=>il(()=>import("./UserTable-DKGWCndt.js"),[])),Jde=b.lazy(()=>il(()=>import("./UserForm-CU0APnwd.js"),[])),ehe=b.lazy(()=>il(()=>import("./SearchBar-BqTtw8aN.js"),[])),the=b.lazy(()=>il(()=>import("./Pagination-Ce8EcwY7.js"),[]));function nhe(){const[t,e]=b.useState([]),[n,r]=b.useState(""),[a,s]=b.useState("all"),[l,u]=b.useState(!0),[h,f]=b.useState(!1),[m,g]=b.useState({isOpen:!1,user:null}),[y,j]=b.useState("name"),[w,S]=b.useState("asc"),[T,E]=b.useState(1),[I]=b.useState(10),[N,O]=b.useState(null),[D,M]=b.useState(!1),{formData:C,formErrors:R,formLoading:B,editingUser:$,setField:L,clearAllErrors:U,setLoading:z,setEditingUser:xe,resetForm:ce,addSkill:X,removeSkill:se,setNewSkill:ge,handleChange:Se,handlePhoneChange:H}=xG(),{validateForm:ae}=TG(),F=fR(n,300);b.useEffect(()=>{fe()},[]);const G=b.useMemo(()=>{let _e=t;return a!=="all"&&(_e=_e.filter(ct=>ct.userType===a)),F.trim()&&(_e=_e.filter(ct=>ct.email.toLowerCase().includes(F.toLowerCase())||(ct.name||"").toLowerCase().includes(F.toLowerCase())||(ct.company||"").toLowerCase().includes(F.toLowerCase()))),_e.sort((ct,At)=>{let wn,aa;switch(y){case"name":wn=(ct.name||"").toLowerCase(),aa=(At.name||"").toLowerCase();break;case"email":wn=ct.email.toLowerCase(),aa=At.email.toLowerCase();break;case"company":wn=(ct.company||"").toLowerCase(),aa=(At.company||"").toLowerCase();break;case"userType":wn=ct.userType.toLowerCase(),aa=At.userType.toLowerCase();break;case"createdAt":wn=new Date(ct.createdAt).getTime(),aa=new Date(At.createdAt).getTime();break;default:return 0}return wn<aa?w==="asc"?-1:1:wn>aa?w==="asc"?1:-1:0}),_e},[t,F,a,y,w]),ve=Math.ceil(G.length/I),Q=(T-1)*I;b.useEffect(()=>{E(1)},[F,a,y,w]);const fe=b.useCallback(async()=>{try{u(!0);const _e=await _G();e(_e)}catch(_e){console.error("Erro ao carregar usurios:",_e),O("Erro ao carregar lista de usurios")}finally{u(!1)}},[]),Ae=b.useCallback(async()=>{const _e=await ae(C,$);if(!_e.isValid){const ct=Object.values(_e.errors)[0];return O(ct),!1}return U(),!0},[C,$,ae,O,U]),Me=b.useCallback(async _e=>{if(_e.preventDefault(),!!await Ae()){z(!0),O(null);try{if($){const At={name:C.name,displayName:C.displayName||C.name,company:C.company,phone:C.phone,userType:C.userType,role:C.role},wn=await wG($.id,At);wn.success?(M(!0),ce(),await fe()):O(wn.error||"Erro ao atualizar usurio")}else{const At={email:C.email,name:C.name,displayName:C.displayName||C.name,company:C.company,phone:C.phone,password:C.password,userType:C.userType,role:C.role},wn=await jG(At);wn.success?(M(!0),ce(),await fe()):O(wn.error||"Erro ao criar usurio")}}catch(At){console.error("Erro ao salvar usurio:",At),O("Erro ao salvar usurio. Tente novamente.")}finally{z(!1)}}},[C,$,Ae,z,O,M,ce,fe]),be=b.useCallback(_e=>{g({isOpen:!0,user:_e})},[]),Be=b.useCallback(async()=>{if(m.user)try{const _e=await SG(m.user.id);_e.success?(await fe(),M(!0),setTimeout(()=>M(!1),3e3),g({isOpen:!1,user:null})):O(_e.error||"Erro ao remover usurio")}catch(_e){console.error("Erro ao remover usurio:",_e),O("Erro ao remover usurio")}},[m.user,fe,M,O]),le=b.useCallback(()=>{g({isOpen:!1,user:null})},[]),Z=b.useCallback(_e=>{xe(_e),L("email",_e.email),L("name",_e.name),L("displayName",_e.displayName||""),L("company",_e.company||""),L("phone",_e.phone||""),L("password",""),L("confirmPassword",""),L("userType",_e.userType),L("role",_e.role),L("code",_e.operatorData?.code||""),L("primarySectorId",_e.operatorData?.primarySectorId||""),L("secondarySectorIds",_e.operatorData?.secondarySectorIds||[]),L("skills",_e.operatorData?.skills||[]),L("admissionDate",_e.operatorData?.admissionDate||""),L("contractType",_e.operatorData?.contractType||"clt"),L("workSchedule",_e.operatorData?.workSchedule||"day"),L("weeklyHours",_e.operatorData?.weeklyHours||40),L("supervisorId",_e.operatorData?.supervisorId||""),L("teamId",_e.operatorData?.teamId||""),L("status",_e.operatorData?.status||"active"),L("lastTrainingDate",_e.operatorData?.lastTrainingDate||""),L("nextTrainingDate",_e.operatorData?.nextTrainingDate||""),L("newSkill",""),f(!0)},[xe,L]),Te=b.useCallback(()=>{ce(),f(!1)},[ce]),we=b.useCallback(()=>{ce(),f(!0)},[ce]),Ue=b.useCallback(_e=>{y===_e?S(w==="asc"?"desc":"asc"):(j(_e),S("asc"))},[y,w]),Re=b.useCallback(_e=>{E(Math.max(1,Math.min(_e,ve)))},[ve]),Qe=b.useCallback(()=>{E(_e=>Math.max(1,_e-1))},[]),un=b.useCallback(()=>{E(_e=>Math.min(ve,_e+1))},[ve]),Pe=b.useCallback(_e=>{r(_e)},[]),Ge=b.useCallback(_e=>{s(_e)},[]);return i.jsx("div",{className:"user-creation-page",children:i.jsxs("div",{className:"user-creation-container",children:[i.jsx("div",{className:"user-creation-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(To,{className:"header-icon"}),"Gerenciar Usurios"]}),i.jsx("p",{children:"Visualize, crie, edite e remova usurios do sistema"})]})}),N&&i.jsxs("div",{className:"error-message",children:[i.jsx(Cn,{}),N]}),D&&i.jsxs("div",{className:"success-message",children:[i.jsx(ws,{}),"Operao realizada com sucesso!"]}),i.jsxs("div",{className:"users-section",children:[i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando..."})]}),children:i.jsx(ehe,{searchTerm:n,userTypeFilter:a,onSearchChange:Pe,onFilterChange:Ge,onCreateUser:we})}),i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando..."})]}),children:i.jsx(Zde,{users:G,loading:l,onEdit:Z,onDelete:be,onSort:Ue,sortField:y,sortDirection:w,useVirtualization:!0,virtualizationThreshold:50})}),G.length<=50&&i.jsx(b.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(the,{currentPage:T,totalPages:ve,startIndex:Q,itemsPerPage:I,totalItems:G.length,onPageChange:Re,onPreviousPage:Qe,onNextPage:un})})]}),h&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:$?"Editar Usurio":"Criar Novo Usurio"}),i.jsx("button",{className:"close-btn",onClick:Te,children:i.jsx(Cn,{})})]}),i.jsx("div",{className:"modal-body",children:i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando formulrio..."})]}),children:i.jsx(Jde,{formData:C,formErrors:R,formLoading:B,editingUser:$,onChange:Se,onPhoneChange:H,onSubmit:Me,onCancel:Te,onAddSkill:X,onRemoveSkill:se,onNewSkillChange:ge})})})]})}),m.isOpen&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal delete-confirm-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("h2",{children:[i.jsx(Xe,{className:"header-icon",style:{color:"#e53e3e"}}),"Confirmar Excluso"]}),i.jsx("button",{className:"close-btn",onClick:le,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"delete-confirm-content",children:[i.jsxs("p",{children:["Tem certeza que deseja remover o usurio ",i.jsx("strong",{children:m.user?.name}),"?"]}),i.jsx("p",{className:"delete-warning",children:"Esta ao no pode ser desfeita e todos os dados do usurio sero permanentemente removidos."})]}),i.jsxs("div",{className:"form-actions",children:[i.jsxs(et,{type:"button",variant:"outline",onClick:le,children:[i.jsx(Cn,{}),"Cancelar"]}),i.jsxs("button",{type:"button",onClick:Be,className:"danger-btn",children:[i.jsx(Ss,{}),"Confirmar Excluso"]})]})]})]})})]})})}const rhe=b.lazy(()=>il(()=>import("./ProductTable-BmMxWcvD.js"),[])),ahe=b.lazy(()=>il(()=>import("./ProductForm-CLZuq46P.js"),[])),ihe=b.lazy(()=>il(()=>import("./SearchBar-dm1tgbQK.js"),[])),she=b.lazy(()=>il(()=>import("./Pagination-DBhHWFEq.js"),[]));function ohe(){const[t,e]=b.useState([]),[n,r]=b.useState(""),[a,s]=b.useState("all"),[l,u]=b.useState(!0),[h,f]=b.useState(!1),[m,g]=b.useState({isOpen:!1,product:null}),[y,j]=b.useState("name"),[w,S]=b.useState("asc"),[T,E]=b.useState(1),[I]=b.useState(30),[N,O]=b.useState(null),[D,M]=b.useState(!1),{formData:C,formErrors:R,formLoading:B,editingProduct:$,setField:L,clearAllErrors:U,setLoading:z,setEditingProduct:xe,resetForm:ce,handleChange:X}=NG(),{validateForm:se}=PG(),ge=fR(n,300);b.useEffect(()=>{G()},[]);const Se=b.useMemo(()=>{let Pe=t;return a!=="all"&&(Pe=Pe.filter(Ge=>Ge.category===a)),ge.trim()&&(Pe=Pe.filter(Ge=>Ge.code.toLowerCase().includes(ge.toLowerCase())||Ge.name.toLowerCase().includes(ge.toLowerCase())||Ge.description.toLowerCase().includes(ge.toLowerCase())||Ge.category.toLowerCase().includes(ge.toLowerCase()))),Pe.sort((Ge,_e)=>{let ct,At;switch(y){case"code":ct=Ge.code.toLowerCase(),At=_e.code.toLowerCase();break;case"name":ct=Ge.name.toLowerCase(),At=_e.name.toLowerCase();break;case"category":ct=Ge.category.toLowerCase(),At=_e.category.toLowerCase();break;case"isActive":ct=Ge.isActive?1:0,At=_e.isActive?1:0;break;case"createdAt":ct=new Date(Ge.createdAt).getTime(),At=new Date(_e.createdAt).getTime();break;default:return 0}return ct<At?w==="asc"?-1:1:ct>At?w==="asc"?1:-1:0}),Pe},[t,ge,a,y,w]),H=Math.ceil(Se.length/I),ae=(T-1)*I,F=Se.slice(ae,ae+I);b.useEffect(()=>{E(1)},[ge,a,y,w]);const G=b.useCallback(async()=>{try{u(!0);const Pe=await hR();e(Pe)}catch(Pe){console.error("Erro ao carregar produtos:",Pe),O("Erro ao carregar lista de produtos")}finally{u(!1)}},[]),ve=b.useCallback(async()=>{const Pe=await se(C,$);if(!Pe.isValid){const Ge=Object.values(Pe.errors)[0];return O(Ge),!1}return U(),!0},[C,$,se,O,U]),Q=b.useCallback(async Pe=>{if(Pe.preventDefault(),!!await ve()){z(!0),O(null);try{if($){const _e={name:C.name,description:C.description,category:C.category,isActive:C.isActive},ct=await OG($.id,_e);ct.success?(M(!0),ce(),await G()):O(ct.error||"Erro ao atualizar produto")}else{const _e={code:C.code,name:C.name,description:C.description,category:C.category,isActive:C.isActive},ct=await CG(_e);ct.success?(M(!0),ce(),await G()):O(ct.error||"Erro ao criar produto")}}catch(_e){console.error("Erro ao salvar produto:",_e),O("Erro ao salvar produto. Tente novamente.")}finally{z(!1)}}},[C,$,ve,z,O,M,ce,G]),fe=b.useCallback(Pe=>{g({isOpen:!0,product:Pe})},[]),Ae=b.useCallback(async()=>{if(m.product)try{const Pe=await IG(m.product.id);Pe.success?(await G(),M(!0),setTimeout(()=>M(!1),3e3),g({isOpen:!1,product:null})):O(Pe.error||"Erro ao remover produto")}catch(Pe){console.error("Erro ao remover produto:",Pe),O("Erro ao remover produto")}},[m.product,G,M,O]),Me=b.useCallback(()=>{g({isOpen:!1,product:null})},[]),be=b.useCallback(Pe=>{xe(Pe),L("code",Pe.code),L("name",Pe.name),L("description",Pe.description),L("category",Pe.category),L("isActive",Pe.isActive),f(!0)},[xe,L]),Be=b.useCallback(()=>{ce(),f(!1)},[ce]),le=b.useCallback(()=>{ce(),f(!0)},[ce]),Z=b.useCallback(Pe=>{y===Pe?S(w==="asc"?"desc":"asc"):(j(Pe),S("asc"))},[y,w]),Te=b.useCallback(Pe=>{E(Math.max(1,Math.min(Pe,H)))},[H]),we=b.useCallback(()=>{E(Pe=>Math.max(1,Pe-1))},[]),Ue=b.useCallback(()=>{E(Pe=>Math.min(H,Pe+1))},[H]),Re=b.useCallback(Pe=>{r(Pe)},[]),Qe=b.useCallback(Pe=>{s(Pe)},[]),un=Array.from(new Set(t.map(Pe=>Pe.category)));return i.jsx("div",{className:"product-management-content",children:i.jsxs("div",{className:"product-management-container",children:[i.jsx("div",{className:"content-header",children:i.jsxs("div",{className:"header-content",children:[i.jsxs("h1",{children:[i.jsx(cB,{className:"header-icon"}),"Gerenciar Produtos"]}),i.jsx("p",{children:"Visualize, crie, edite e remova produtos do sistema"})]})}),N&&i.jsxs("div",{className:"product-error-message",children:[i.jsx(Cn,{}),N]}),D&&i.jsxs("div",{className:"product-success-message",children:[i.jsx(ws,{}),"Operao realizada com sucesso!"]}),i.jsxs("div",{className:"products-section",children:[i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"product-loading-container",children:[i.jsx("div",{className:"product-spinner"}),i.jsx("p",{children:"Carregando..."})]}),children:i.jsx(ihe,{searchTerm:n,categoryFilter:a,categories:un,onSearchChange:Re,onFilterChange:Qe,onCreateProduct:le})}),l?i.jsxs("div",{className:"product-loading-container",children:[i.jsx("div",{className:"product-spinner"}),i.jsx("p",{children:"Carregando produtos..."})]}):i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"product-loading-container",children:[i.jsx("div",{className:"product-spinner"}),i.jsx("p",{children:"Carregando..."})]}),children:i.jsx(rhe,{products:F,onEdit:be,onDelete:fe,onSort:Z,sortField:y,sortDirection:w})}),H>1&&i.jsx(b.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(she,{currentPage:T,totalPages:H,startIndex:ae,itemsPerPage:I,totalItems:Se.length,onPageChange:Te,onPreviousPage:we,onNextPage:Ue})})]}),h&&i.jsx("div",{className:"product-modal-overlay",children:i.jsxs("div",{className:"product-modal",children:[i.jsxs("div",{className:"product-modal-header",children:[i.jsx("h2",{children:$?"Editar Produto":"Criar Novo Produto"}),i.jsx("button",{className:"product-close-btn",onClick:Be,children:i.jsx(Cn,{})})]}),i.jsx("div",{className:"product-modal-body",children:i.jsx(b.Suspense,{fallback:i.jsxs("div",{className:"product-loading-container",children:[i.jsx("div",{className:"product-spinner"}),i.jsx("p",{children:"Carregando formulrio..."})]}),children:i.jsx(ahe,{formData:C,formErrors:R,formLoading:B,editingProduct:$,onChange:X,onSubmit:Q,onCancel:Be,onFieldChange:L})})})]})}),m.isOpen&&i.jsx("div",{className:"product-modal-overlay",children:i.jsxs("div",{className:"product-modal product-delete-confirm-modal",children:[i.jsxs("div",{className:"product-modal-header",children:[i.jsxs("h2",{children:[i.jsx(Xe,{className:"header-icon",style:{color:"#e53e3e"}}),"Confirmar Excluso"]}),i.jsx("button",{className:"product-close-btn",onClick:Me,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"product-modal-body",children:[i.jsxs("div",{className:"product-delete-confirm-content",children:[i.jsxs("p",{children:["Tem certeza que deseja remover o produto ",i.jsx("strong",{children:m.product?.name}),"?"]}),i.jsx("p",{className:"product-delete-warning",children:"Esta ao no pode ser desfeita e todos os dados do produto sero permanentemente removidos."})]}),i.jsxs("div",{className:"product-form-actions",children:[i.jsxs(et,{type:"button",variant:"outline",onClick:Me,children:[i.jsx(Cn,{}),"Cancelar"]}),i.jsxs("button",{type:"button",onClick:Ae,className:"product-danger-btn",children:[i.jsx(Ss,{}),"Confirmar Excluso"]})]})]})]})})]})})}function lhe(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,s]=b.useState(null),[l,u]=b.useState(""),[h,f]=b.useState(!1),[m,g]=b.useState(null),[y,j]=b.useState([]),w=(ce,X="success")=>{const se=Date.now();j(ge=>[...ge,{id:se,type:X,message:ce}]),setTimeout(()=>j(ge=>ge.filter(Se=>Se.id!==se)),3e3)},S=56,T=6,E=b.useRef(null),[I,N]=b.useState(0),[O,D]=b.useState(480),M=b.useMemo(()=>{const ce=l.trim().toLowerCase();return ce?t.filter(X=>X.email.toLowerCase().includes(ce)||(X.name||"").toLowerCase().includes(ce)||(X.company||"").toLowerCase().includes(ce)):t},[t,l]),C=M.length,R=Math.max(0,Math.floor(I/S)-T),B=Math.min(C,Math.ceil((I+O)/S)+T),$=M.slice(R,B),L=R*S,U=async()=>{try{r(!0);const ce=await DG();e(ce)}catch{s("Falha ao carregar usurios")}finally{r(!1)}};b.useEffect(()=>{U()},[]),b.useEffect(()=>{if(!E.current)return;const ce=E.current,X=()=>D(ce.clientHeight||480);X();const se=()=>N(ce.scrollTop);return ce.addEventListener("scroll",se),window.addEventListener("resize",X),()=>{ce.removeEventListener("scroll",se),window.removeEventListener("resize",X)}},[]);const z=async ce=>{try{s(null),m&&m.id?await LG(m.id,ce):await MG({id:"",email:ce.email||"",name:ce.name||"",company:ce.company,phone:ce.phone,displayName:ce.displayName,photoURL:ce.photoURL,emailVerified:!1,userType:"user",role:ce.role||"operator",createdBy:"admin",updatedBy:"admin"}),f(!1),g(null),await U(),w("Usurio salvo com sucesso","success")}catch{s("Falha ao salvar usurio"),w("Falha ao salvar usurio","error")}},xe=async ce=>{if(confirm("Remover este usurio?"))try{await BG(ce),await U(),w("Usurio removido","success")}catch{s("Falha ao remover usurio"),w("Falha ao remover usurio","error")}};return i.jsxs("div",{className:"admin-page",children:[i.jsxs("div",{className:"admin-header",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"Gerenciar Usurios"}),i.jsx("p",{children:"Visualize, adicione, edite e remova usurios do sistema."})]}),i.jsxs("div",{className:"admin-actions",children:[i.jsx("div",{className:"admin-search",children:i.jsx(Pt,{type:"text",name:"search",placeholder:"Buscar por nome, e-mail ou empresa",value:l,onChange:ce=>u(ce.target.value)})}),i.jsx(et,{onClick:()=>{g(null),f(!0)},children:"Adicionar Usurio"})]})]}),a&&i.jsx("div",{className:"admin-error",children:a}),i.jsxs("div",{className:"users-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Nome"}),i.jsx("div",{children:"E-mail"}),i.jsx("div",{children:"Empresa"}),i.jsx("div",{children:"Telefone"}),i.jsx("div",{children:"Papel"}),i.jsx("div",{children:"Aes"})]}),n?i.jsx("div",{className:"users-viewport",children:Array.from({length:8}).map((ce,X)=>i.jsxs("div",{className:"table-row skeleton-row",children:[i.jsx("div",{className:"skeleton skeleton-text"}),i.jsx("div",{className:"skeleton skeleton-text"}),i.jsx("div",{className:"skeleton skeleton-text short"}),i.jsx("div",{className:"skeleton skeleton-text short"}),i.jsx("div",{className:"skeleton skeleton-badge"}),i.jsx("div",{className:"skeleton skeleton-actions"})]},X))}):i.jsxs("div",{className:"users-viewport",ref:E,children:[i.jsx("div",{style:{height:C*S,position:"relative"},children:i.jsx("div",{style:{transform:`translateY(${L}px)`},children:$.map(ce=>i.jsxs("div",{className:"table-row",children:[i.jsx("div",{children:ce.name||ce.displayName||""}),i.jsx("div",{children:ce.email}),i.jsx("div",{children:ce.company||""}),i.jsx("div",{children:ce.phone||""}),i.jsx("div",{children:i.jsx("span",{className:`badge role-${ce.role||"user"}`,children:ce.role||"user"})}),i.jsxs("div",{className:"row-actions",children:[i.jsx("button",{className:"link",onClick:()=>{g(ce),f(!0)},children:"Editar"}),i.jsx("button",{className:"link danger",onClick:()=>xe(ce.id),children:"Remover"})]})]},ce.id))})}),M.length===0&&i.jsx("div",{className:"table-empty",children:"Nenhum usurio encontrado."})]})]}),i.jsx("div",{className:"toasts",children:y.map(ce=>i.jsx("div",{className:`toast toast-${ce.type}`,children:ce.message},ce.id))}),h&&i.jsx(che,{initial:m||void 0,onClose:()=>{f(!1),g(null)},onSave:z})]})}function che({initial:t,onClose:e,onSave:n}){const[r,a]=b.useState({email:t?.email||"",name:t?.name||t?.displayName||"",company:t?.company||"",phone:t?.phone||"",role:t?.role||"operator",displayName:t?.displayName,photoURL:t?.photoURL}),[s,l]=b.useState(!1),u=f=>{const{name:m,value:g}=f.target;a(y=>({...y,[m]:g}))},h=async()=>{l(!0),await n(r),l(!1)};return i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:t?"Editar Usurio":"Adicionar Usurio"}),i.jsx("button",{className:"close",onClick:e,children:""})]}),i.jsx("div",{className:"modal-body",children:i.jsxs("div",{className:"form-grid",children:[i.jsx(Pt,{type:"email",name:"email",placeholder:"E-mail",value:r.email||"",onChange:f=>u(f)}),i.jsx(Pt,{type:"text",name:"name",placeholder:"Nome",value:r.name||"",onChange:f=>u(f)}),i.jsx(Pt,{type:"text",name:"company",placeholder:"Empresa",value:r.company||"",onChange:f=>u(f)}),i.jsx(Pt,{type:"text",name:"phone",placeholder:"Telefone",value:r.phone||"",onChange:f=>u(f)}),i.jsxs("div",{className:"select-wrapper",children:[i.jsx("label",{children:"Papel"}),i.jsxs("select",{name:"role",value:r.role,onChange:u,children:[i.jsx("option",{value:"user",children:"Usurio"}),i.jsx("option",{value:"admin",children:"Administrador"})]})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx(et,{variant:"outline",onClick:e,disabled:s,children:"Cancelar"}),i.jsx(et,{onClick:h,disabled:s,children:s?"Salvando...":"Salvar"})]})]})})}function uhe(){const[t,e]=b.useState({type:"production",period:"weekly",format:"pdf",includeCharts:!0,includeDetails:!0}),[n,r]=b.useState(!1),a=[{value:"production",label:"Produo",icon:i.jsx(mr,{})},{value:"quality",label:"Qualidade",icon:i.jsx(Su,{})},{value:"maintenance",label:"Manuteno",icon:i.jsx(Pf,{})},{value:"financial",label:"Financeiro",icon:i.jsx(mr,{})}],s=[{value:"daily",label:"Dirio"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensal"},{value:"custom",label:"Personalizado"}],l=[{value:"pdf",label:"PDF",icon:i.jsx(Su,{})},{value:"excel",label:"Excel",icon:i.jsx(ms,{})},{value:"csv",label:"CSV",icon:i.jsx(ms,{})}],u=async()=>{r(!0),setTimeout(()=>{r(!1),alert("Relatrio gerado com sucesso!")},2e3)};return i.jsx("div",{className:"reports-page",children:i.jsxs("div",{className:"reports-container",children:[i.jsxs("div",{className:"reports-header",children:[i.jsxs("h1",{children:[i.jsx(Su,{className:"header-icon"}),"Relatrios de Produo"]}),i.jsx("p",{children:"Gere relatrios completos e detalhados do sistema"})]}),i.jsxs("div",{className:"reports-content",children:[i.jsxs("div",{className:"config-section",children:[i.jsx("h2",{children:"Configurao do Relatrio"}),i.jsxs("div",{className:"config-grid",children:[i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Tipo de Relatrio"}),i.jsx("div",{className:"type-selector",children:a.map(h=>i.jsxs("button",{className:`type-card ${t.type===h.value?"active":""}`,onClick:()=>e(f=>({...f,type:h.value})),children:[i.jsx("div",{className:"type-icon",children:h.icon}),i.jsx("span",{children:h.label})]},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Perodo"}),i.jsx("div",{className:"period-selector",children:s.map(h=>i.jsx("button",{className:`period-btn ${t.period===h.value?"active":""}`,onClick:()=>e(f=>({...f,period:h.value})),children:h.label},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Formato de Sada"}),i.jsx("div",{className:"format-selector",children:l.map(h=>i.jsxs("button",{className:`format-card ${t.format===h.value?"active":""}`,onClick:()=>e(f=>({...f,format:h.value})),children:[i.jsx("div",{className:"format-icon",children:h.icon}),i.jsx("span",{children:h.label})]},h.value))})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Opes Adicionais"}),i.jsxs("div",{className:"options-grid",children:[i.jsxs("label",{className:"option-item",children:[i.jsx("input",{type:"checkbox",checked:t.includeCharts,onChange:h=>e(f=>({...f,includeCharts:h.target.checked}))}),i.jsx("span",{children:"Incluir Grficos"})]}),i.jsxs("label",{className:"option-item",children:[i.jsx("input",{type:"checkbox",checked:t.includeDetails,onChange:h=>e(f=>({...f,includeDetails:h.target.checked}))}),i.jsx("span",{children:"Incluir Detalhes"})]})]})]})]}),i.jsx("div",{className:"actions-section",children:i.jsx(et,{variant:"primary",onClick:u,disabled:n,className:"generate-btn",children:n?i.jsxs(i.Fragment,{children:[i.jsx(ms,{className:"spinning"}),"Gerando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Su,{}),"Gerar Relatrio"]})})})]}),i.jsxs("div",{className:"preview-section",children:[i.jsx("h2",{children:"Prvia do Relatrio"}),i.jsxs("div",{className:"preview-card",children:[i.jsxs("div",{className:"preview-header",children:[i.jsx("h3",{children:"Relatrio de Produo"}),i.jsx("span",{className:"preview-period",children:"ltima Semana"})]}),i.jsxs("div",{className:"preview-content",children:[i.jsxs("div",{className:"preview-stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Pedidos Processados"}),i.jsx("span",{className:"stat-value",children:"156"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Eficincia"}),i.jsx("span",{className:"stat-value",children:"94.2%"})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Tempo Mdio"}),i.jsx("span",{className:"stat-value",children:"2.3h"})]})]}),i.jsx("div",{className:"preview-chart",children:i.jsxs("div",{className:"chart-placeholder",children:[i.jsx(mr,{}),i.jsx("p",{children:"Grfico de Produo"})]})})]})]})]})]})]})})}function dhe(){const[t,e]=b.useState(null),[n,r]=b.useState(!0),[a,s]=b.useState("30d"),[l,u]=b.useState("production");b.useEffect(()=>{h()},[a]);const h=async()=>{r(!0),setTimeout(()=>{const f={productionTrend:Array.from({length:30},(m,g)=>({date:new Date(Date.now()-(29-g)*24*60*60*1e3).toLocaleDateString("pt-BR",{month:"short",day:"numeric"}),orders:Math.floor(Math.random()*50)+20,efficiency:Math.floor(Math.random()*20)+80})),qualityMetrics:[{category:"Aprovados",value:85,color:"#48bb78"},{category:"Reprovados",value:10,color:"#e53e3e"},{category:"Em Anlise",value:5,color:"#ed8936"}],sectorPerformance:[{sector:"Montagem",orders:45,efficiency:92},{sector:"Usinagem",orders:38,efficiency:88},{sector:"Pintura",orders:32,efficiency:85},{sector:"Embalagem",orders:28,efficiency:90}],kpis:{totalOrders:143,avgEfficiency:88.75,qualityRate:85,downtime:2.3}};e(f),r(!1)},1e3)};return n?i.jsx("div",{className:"analytics-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando analytics..."})]})}):t?i.jsx("div",{className:"analytics-page",children:i.jsxs("div",{className:"analytics-container",children:[i.jsxs("div",{className:"analytics-header",children:[i.jsxs("h1",{children:[i.jsx(mr,{className:"header-icon"}),"Analytics de Produo"]}),i.jsx("p",{children:"Visualize mtricas detalhadas e tendncias de produo"})]}),i.jsxs("div",{className:"kpis-grid",children:[i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(Hh,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsx("h3",{children:t.kpis.totalOrders}),i.jsx("p",{children:"Total de Pedidos"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(rA,{}),"+12%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(mr,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.avgEfficiency,"%"]}),i.jsx("p",{children:"Eficincia Mdia"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(rA,{}),"+3.2%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(aA,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.qualityRate,"%"]}),i.jsx("p",{children:"Taxa de Qualidade"}),i.jsxs("span",{className:"kpi-trend negative",children:[i.jsx(Xb,{}),"-1.5%"]})]})]}),i.jsxs("div",{className:"kpi-card",children:[i.jsx("div",{className:"kpi-icon",children:i.jsx(Hh,{})}),i.jsxs("div",{className:"kpi-content",children:[i.jsxs("h3",{children:[t.kpis.downtime,"h"]}),i.jsx("p",{children:"Tempo de Parada"}),i.jsxs("span",{className:"kpi-trend positive",children:[i.jsx(Xb,{}),"-0.8h"]})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"time-range-selector",children:[i.jsx("label",{children:"Perodo:"}),i.jsx("div",{className:"range-buttons",children:[{value:"7d",label:"7 dias"},{value:"30d",label:"30 dias"},{value:"90d",label:"90 dias"}].map(f=>i.jsx("button",{className:`range-btn ${a===f.value?"active":""}`,onClick:()=>s(f.value),children:f.label},f.value))})]}),i.jsxs("div",{className:"chart-selector",children:[i.jsx("label",{children:"Tipo de Grfico:"}),i.jsx("div",{className:"chart-buttons",children:[{value:"production",label:"Produo",icon:i.jsx(Hh,{})},{value:"quality",label:"Qualidade",icon:i.jsx(aA,{})},{value:"sectors",label:"Setores",icon:i.jsx(mr,{})}].map(f=>i.jsxs("button",{className:`chart-btn ${l===f.value?"active":""}`,onClick:()=>u(f.value),children:[f.icon,f.label]},f.value))})]})]}),i.jsx("div",{className:"charts-section",children:i.jsxs("div",{className:"chart-container",children:[i.jsxs("h2",{children:[l==="production"&&"Tendncia de Produo",l==="quality"&&"Mtricas de Qualidade",l==="sectors"&&"Performance por Setor"]}),i.jsxs("div",{className:"chart-wrapper",children:[l==="production"&&i.jsx(pg,{width:"100%",height:400,children:i.jsxs(nde,{data:t.productionTrend,children:[i.jsx(Sv,{strokeDasharray:"3 3"}),i.jsx(Cf,{dataKey:"date"}),i.jsx(Of,{}),i.jsx(mg,{}),i.jsx(Tv,{type:"monotone",dataKey:"orders",stroke:"#667eea",strokeWidth:3}),i.jsx(Tv,{type:"monotone",dataKey:"efficiency",stroke:"#48bb78",strokeWidth:3})]})}),l==="quality"&&i.jsx(pg,{width:"100%",height:400,children:i.jsxs(mde,{children:[i.jsx(fS,{data:t.qualityMetrics,cx:"50%",cy:"50%",labelLine:!1,label:({category:f,percent:m})=>`${f} ${((m||0)*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:t.qualityMetrics.map((f,m)=>i.jsx(Ac,{fill:f.color},`cell-${m}`))}),i.jsx(mg,{})]})}),l==="sectors"&&i.jsx(pg,{width:"100%",height:400,children:i.jsxs(ade,{data:t.sectorPerformance,children:[i.jsx(Sv,{strokeDasharray:"3 3"}),i.jsx(Cf,{dataKey:"sector"}),i.jsx(Of,{}),i.jsx(mg,{}),i.jsx(jv,{dataKey:"orders",fill:"#667eea"}),i.jsx(jv,{dataKey:"efficiency",fill:"#48bb78"})]})})]})]})}),i.jsxs("div",{className:"data-table-section",children:[i.jsx("h2",{children:"Dados Detalhados"}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"analytics-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Data"}),i.jsx("th",{children:"Pedidos"}),i.jsx("th",{children:"Eficincia"}),i.jsx("th",{children:"Status"})]})}),i.jsx("tbody",{children:t.productionTrend.slice(-10).map((f,m)=>i.jsxs("tr",{children:[i.jsx("td",{children:f.date}),i.jsx("td",{children:f.orders}),i.jsxs("td",{children:[f.efficiency,"%"]}),i.jsx("td",{children:i.jsx("span",{className:`status-badge ${f.efficiency>=85?"good":f.efficiency>=70?"warning":"bad"}`,children:f.efficiency>=85?"Excelente":f.efficiency>=70?"Bom":"Ateno"})})]},m))})]})})]})]})}):null}function hhe(){const[t,e]=b.useState([]),[n,r]=b.useState([]),[a,s]=b.useState(!0),[l,u]=b.useState(""),[h,f]=b.useState(""),[m,g]=b.useState("");b.useEffect(()=>{y()},[]);const y=async()=>{s(!0),setTimeout(()=>{const E=[{id:"1",name:"Joo Silva",email:"joao.silva@empresa.com",role:"Operador Senior",sector:"Montagem",shift:"morning",status:"active",skills:["Soldagem","Montagem","Qualidade"],performance:95,lastActivity:"2 horas atrs"},{id:"2",name:"Maria Santos",email:"maria.santos@empresa.com",role:"Supervisora",sector:"Usinagem",shift:"afternoon",status:"active",skills:["CNC","Superviso","Treinamento"],performance:92,lastActivity:"1 hora atrs"},{id:"3",name:"Pedro Costa",email:"pedro.costa@empresa.com",role:"Operador",sector:"Pintura",shift:"night",status:"on_leave",skills:["Pintura","Preparao"],performance:88,lastActivity:"1 dia atrs"}],I=[{id:"1",name:"Manh",startTime:"06:00",endTime:"14:00",operators:12},{id:"2",name:"Tarde",startTime:"14:00",endTime:"22:00",operators:15},{id:"3",name:"Noite",startTime:"22:00",endTime:"06:00",operators:8}];e(E),r(I),s(!1)},1e3)},j=t.filter(E=>{const I=E.name.toLowerCase().includes(l.toLowerCase())||E.email.toLowerCase().includes(l.toLowerCase()),N=!h||E.sector===h,O=!m||E.shift===m;return I&&N&&O}),w=E=>{const N={active:{label:"Ativo",class:"status-active"},inactive:{label:"Inativo",class:"status-inactive"},on_leave:{label:"Afastado",class:"status-leave"}}[E]||{label:E,class:"status-default"};return i.jsx("span",{className:`status-badge ${N.class}`,children:N.label})},S=E=>{const N={morning:{label:"Manh",class:"shift-morning"},afternoon:{label:"Tarde",class:"shift-afternoon"},night:{label:"Noite",class:"shift-night"}}[E]||{label:E,class:"shift-default"};return i.jsx("span",{className:`shift-badge ${N.class}`,children:N.label})},T=E=>{confirm("Tem certeza que deseja remover este operador?")&&e(I=>I.filter(N=>N.id!==E))};return a?i.jsx("div",{className:"team-management-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando dados da equipe..."})]})}):i.jsx("div",{className:"team-management-page",children:i.jsxs("div",{className:"team-management-container",children:[i.jsxs("div",{className:"team-header",children:[i.jsxs("h1",{children:[i.jsx(To,{className:"header-icon"}),"Gesto de Equipe"]}),i.jsx("p",{children:"Gerencie operadores, turnos e habilidades da equipe"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(To,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total de Operadores"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Wt,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(E=>E.status==="active").length}),i.jsx("p",{children:"Operadores Ativos"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Pf,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:n.length}),i.jsx("p",{children:"Turnos Configurados"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(To,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsxs("h3",{children:[Math.round(t.reduce((E,I)=>E+I.performance,0)/t.length),"%"]}),i.jsx("p",{children:"Performance Mdia"})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"search-filters",children:[i.jsxs("div",{className:"search-input",children:[i.jsx(_s,{className:"search-icon"}),i.jsx(Pt,{name:"search",type:"text",placeholder:"Buscar operadores...",value:l,onChange:E=>u(E.target.value)})]}),i.jsxs("div",{className:"filters",children:[i.jsxs("select",{value:h,onChange:E=>f(E.target.value),children:[i.jsx("option",{value:"",children:"Todos os Setores"}),i.jsx("option",{value:"Montagem",children:"Montagem"}),i.jsx("option",{value:"Usinagem",children:"Usinagem"}),i.jsx("option",{value:"Pintura",children:"Pintura"}),i.jsx("option",{value:"Embalagem",children:"Embalagem"})]}),i.jsxs("select",{value:m,onChange:E=>g(E.target.value),children:[i.jsx("option",{value:"",children:"Todos os Turnos"}),i.jsx("option",{value:"morning",children:"Manh"}),i.jsx("option",{value:"afternoon",children:"Tarde"}),i.jsx("option",{value:"night",children:"Noite"})]})]})]}),i.jsxs(et,{variant:"primary",onClick:()=>console.log("Add operator modal"),className:"add-btn",children:[i.jsx(CB,{}),"Adicionar Operador"]})]}),i.jsxs("div",{className:"operators-section",children:[i.jsx("h2",{children:"Operadores"}),i.jsx("div",{className:"table-container",children:i.jsxs("table",{className:"operators-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Nome"}),i.jsx("th",{children:"Email"}),i.jsx("th",{children:"Cargo"}),i.jsx("th",{children:"Setor"}),i.jsx("th",{children:"Turno"}),i.jsx("th",{children:"Status"}),i.jsx("th",{children:"Performance"}),i.jsx("th",{children:"ltima Atividade"}),i.jsx("th",{children:"Aes"})]})}),i.jsx("tbody",{children:j.map(E=>i.jsxs("tr",{children:[i.jsx("td",{children:i.jsxs("div",{className:"operator-info",children:[i.jsx("div",{className:"operator-avatar",children:E.name.split(" ").map(I=>I[0]).join("")}),i.jsx("span",{children:E.name})]})}),i.jsx("td",{children:E.email}),i.jsx("td",{children:E.role}),i.jsx("td",{children:E.sector}),i.jsx("td",{children:S(E.shift)}),i.jsx("td",{children:w(E.status)}),i.jsx("td",{children:i.jsxs("div",{className:"performance-bar",children:[i.jsx("div",{className:"performance-fill",style:{width:`${E.performance}%`}}),i.jsxs("span",{children:[E.performance,"%"]})]})}),i.jsx("td",{children:E.lastActivity}),i.jsx("td",{children:i.jsxs("div",{className:"action-buttons",children:[i.jsx("button",{className:"action-btn edit",onClick:()=>console.log("Edit operator",E.id),title:"Editar",children:i.jsx(Rf,{})}),i.jsx("button",{className:"action-btn delete",onClick:()=>T(E.id),title:"Remover",children:i.jsx(Ss,{})})]})})]},E.id))})]})})]}),i.jsxs("div",{className:"shifts-section",children:[i.jsx("h2",{children:"Turnos"}),i.jsx("div",{className:"shifts-grid",children:n.map(E=>i.jsxs("div",{className:"shift-card",children:[i.jsxs("div",{className:"shift-header",children:[i.jsx("h3",{children:E.name}),i.jsxs("span",{className:"shift-time",children:[E.startTime," - ",E.endTime]})]}),i.jsx("div",{className:"shift-info",children:i.jsxs("div",{className:"shift-stat",children:[i.jsx(To,{}),i.jsxs("span",{children:[E.operators," operadores"]})]})})]},E.id))})]})]})})}function fhe(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,s]=b.useState(new Date),[l,u]=b.useState("week"),[h,f]=b.useState(""),[m,g]=b.useState(!1),[y,j]=b.useState(null),[w,S]=b.useState({title:"",description:"",startTime:"",endTime:"",date:"",type:"production",status:"scheduled",assignedTo:[],priority:"medium",newAssignee:""}),[T,E]=b.useState(!1),[I,N]=b.useState(null),[O,D]=b.useState(!1),[M,C]=b.useState({});b.useEffect(()=>{R()},[]);const R=async()=>{r(!0),setTimeout(()=>{const Q=[{id:"1",title:"Produo Pedido #1234",description:"Montagem de peas mecnicas",startTime:"08:00",endTime:"16:00",date:new Date().toISOString().split("T")[0],type:"production",status:"scheduled",assignedTo:["Joo Silva","Maria Santos"],priority:"high"},{id:"2",title:"Manuteno Preventiva",description:"Manuteno da mquina CNC-001",startTime:"14:00",endTime:"18:00",date:new Date(Date.now()+864e5).toISOString().split("T")[0],type:"maintenance",status:"scheduled",assignedTo:["Pedro Costa"],priority:"medium"},{id:"3",title:"Reunio de Equipe",description:"Reunio semanal de produo",startTime:"09:00",endTime:"10:00",date:new Date(Date.now()+1728e5).toISOString().split("T")[0],type:"meeting",status:"scheduled",assignedTo:["Joo Silva","Maria Santos","Pedro Costa"],priority:"low"}];e(Q),r(!1)},1e3)},B=Q=>({production:"",maintenance:"",meeting:"",break:""})[Q]||"",$=Q=>({production:"#667eea",maintenance:"#ed8936",meeting:"#48bb78",break:"#a0aec0"})[Q]||"#4a5568",L=Q=>({low:"#48bb78",medium:"#ed8936",high:"#e53e3e",urgent:"#9f7aea"})[Q]||"#4a5568",U=Q=>{const Ae={scheduled:{label:"Agendado",class:"status-scheduled"},in_progress:{label:"Em Andamento",class:"status-progress"},completed:{label:"Concludo",class:"status-completed"},cancelled:{label:"Cancelado",class:"status-cancelled"}}[Q]||{label:Q,class:"status-default"};return i.jsx("span",{className:`status-badge ${Ae.class}`,children:Ae.label})},z=t.filter(Q=>!h||Q.type===h),xe=Q=>{const fe=new Date(a);l==="day"?fe.setDate(fe.getDate()+(Q==="next"?1:-1)):l==="week"?fe.setDate(fe.getDate()+(Q==="next"?7:-7)):l==="month"&&fe.setMonth(fe.getMonth()+(Q==="next"?1:-1)),s(fe)},ce=Q=>Q.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),X=()=>{S({title:"",description:"",startTime:"",endTime:"",date:a.toISOString().split("T")[0],type:"production",status:"scheduled",assignedTo:[],priority:"medium",newAssignee:""}),j(null),g(!0),N(null),C({})},se=Q=>{S({title:Q.title,description:Q.description,startTime:Q.startTime,endTime:Q.endTime,date:Q.date,type:Q.type,status:Q.status,assignedTo:[...Q.assignedTo],priority:Q.priority,newAssignee:""}),j(Q),g(!0),N(null),C({})},ge=()=>{g(!1),j(null),N(null),C({})},Se=Q=>{const{name:fe,value:Ae}=Q.target;S(Me=>({...Me,[fe]:Ae})),M[fe]&&C(Me=>({...Me,[fe]:""})),I&&N(null)},H=()=>{w.newAssignee.trim()&&!w.assignedTo.includes(w.newAssignee.trim())&&S(Q=>({...Q,assignedTo:[...Q.assignedTo,Q.newAssignee.trim()],newAssignee:""}))},ae=Q=>{S(fe=>({...fe,assignedTo:fe.assignedTo.filter(Ae=>Ae!==Q)}))},F=()=>{const Q={};if(w.title.trim()||(Q.title="Ttulo  obrigatrio"),w.startTime||(Q.startTime="Horrio de incio  obrigatrio"),w.endTime||(Q.endTime="Horrio de fim  obrigatrio"),w.date||(Q.date="Data  obrigatria"),w.assignedTo.length===0&&(Q.assignedTo="Pelo menos um responsvel deve ser atribudo"),w.startTime&&w.endTime){const fe=new Date(`2000-01-01T${w.startTime}`);new Date(`2000-01-01T${w.endTime}`)<=fe&&(Q.endTime="Horrio de fim deve ser depois do incio")}return C(Q),Object.keys(Q).length===0},G=async Q=>{if(Q.preventDefault(),!!F()){E(!0),N(null);try{const fe={id:y?.id||Date.now().toString(),title:w.title.trim(),description:w.description.trim(),startTime:w.startTime,endTime:w.endTime,date:w.date,type:w.type,status:w.status,assignedTo:w.assignedTo,priority:w.priority};e(y?Ae=>Ae.map(Me=>Me.id===y.id?fe:Me):Ae=>[...Ae,fe]),D(!0),setTimeout(()=>D(!1),3e3),ge()}catch(fe){console.error("Erro ao salvar item:",fe),N("Erro ao salvar item. Tente novamente.")}finally{E(!1)}}},ve=Q=>{confirm("Tem certeza que deseja remover este item?")&&(e(fe=>fe.filter(Ae=>Ae.id!==Q)),D(!0),setTimeout(()=>D(!1),3e3))};return n?i.jsx("div",{className:"scheduling-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando cronograma..."})]})}):i.jsx("div",{className:"scheduling-page",children:i.jsxs("div",{className:"scheduling-container",children:[i.jsxs("div",{className:"schedule-header",children:[i.jsxs("h1",{children:[i.jsx(Pf,{className:"header-icon"}),"Cronograma de Produo"]}),i.jsx("p",{children:"Visualize e gerencie o cronograma de produo"})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"date-navigation",children:[i.jsx("button",{className:"nav-btn",onClick:()=>xe("prev"),children:i.jsx(dI,{})}),i.jsx("h2",{children:ce(a)}),i.jsx("button",{className:"nav-btn",onClick:()=>xe("next"),children:i.jsx(Qb,{})})]}),i.jsxs("div",{className:"view-controls",children:[i.jsx("div",{className:"view-selector",children:[{value:"day",label:"Dia"},{value:"week",label:"Semana"},{value:"month",label:"Ms"}].map(Q=>i.jsx("button",{className:`view-btn ${l===Q.value?"active":""}`,onClick:()=>u(Q.value),children:Q.label},Q.value))}),i.jsx("div",{className:"filter-controls",children:i.jsxs("select",{value:h,onChange:Q=>f(Q.target.value),children:[i.jsx("option",{value:"",children:"Todos os Tipos"}),i.jsx("option",{value:"production",children:"Produo"}),i.jsx("option",{value:"maintenance",children:"Manuteno"}),i.jsx("option",{value:"meeting",children:"Reunio"}),i.jsx("option",{value:"break",children:"Pausa"})]})}),i.jsxs(et,{variant:"primary",onClick:X,className:"add-btn",children:[i.jsx(af,{}),"Adicionar"]})]})]}),i.jsxs("div",{className:"schedule-content",children:[l==="day"&&i.jsxs("div",{className:"day-view",children:[i.jsx("h3",{children:"Agenda do Dia"}),i.jsx("div",{className:"timeline",children:Array.from({length:24},(Q,fe)=>i.jsxs("div",{className:"time-slot",children:[i.jsxs("div",{className:"time-label",children:[fe.toString().padStart(2,"0"),":00"]}),i.jsx("div",{className:"time-content",children:z.filter(Ae=>parseInt(Ae.startTime.split(":")[0])===fe).map(Ae=>i.jsxs("div",{className:"schedule-item",style:{borderLeftColor:$(Ae.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:B(Ae.type)}),i.jsx("span",{className:"item-title",children:Ae.title}),i.jsx("span",{className:"priority-dot",style:{backgroundColor:L(Ae.priority)}})]}),i.jsxs("div",{className:"item-time",children:[Ae.startTime," - ",Ae.endTime]}),i.jsx("div",{className:"item-assigned",children:Ae.assignedTo.join(", ")})]},Ae.id))})]},fe))})]}),l==="week"&&i.jsxs("div",{className:"week-view",children:[i.jsx("h3",{children:"Agenda da Semana"}),i.jsx("div",{className:"week-grid",children:z.map(Q=>i.jsxs("div",{className:"week-item",style:{borderLeftColor:$(Q.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:B(Q.type)}),i.jsx("span",{className:"item-title",children:Q.title})]}),i.jsxs("div",{className:"item-details",children:[i.jsxs("div",{className:"item-time",children:[i.jsx(Wt,{}),Q.startTime," - ",Q.endTime]}),i.jsx("div",{className:"item-status",children:U(Q.status)})]}),i.jsx("div",{className:"item-assigned",children:Q.assignedTo.join(", ")})]},Q.id))})]}),l==="month"&&i.jsxs("div",{className:"month-view",children:[i.jsx("h3",{children:"Viso Mensal"}),i.jsx("div",{className:"month-grid",children:z.map(Q=>i.jsxs("div",{className:"month-item",style:{borderLeftColor:$(Q.type)},children:[i.jsxs("div",{className:"item-header",children:[i.jsx("span",{className:"item-icon",children:B(Q.type)}),i.jsx("span",{className:"item-title",children:Q.title})]}),i.jsx("div",{className:"item-date",children:new Date(Q.date).toLocaleDateString("pt-BR")}),i.jsx("div",{className:"item-status",children:U(Q.status)})]},Q.id))})]})]}),i.jsxs("div",{className:"items-list-section",children:[i.jsx("h3",{children:"Todos os Itens Agendados"}),i.jsxs("div",{className:"items-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("div",{children:"Tipo"}),i.jsx("div",{children:"Ttulo"}),i.jsx("div",{children:"Data"}),i.jsx("div",{children:"Horrio"}),i.jsx("div",{children:"Status"}),i.jsx("div",{children:"Responsveis"}),i.jsx("div",{children:"Aes"})]}),z.map(Q=>i.jsxs("div",{className:"table-row",children:[i.jsxs("div",{className:"item-type",children:[i.jsx("span",{className:"type-icon",children:B(Q.type)}),i.jsx("span",{className:"type-label",children:Q.type})]}),i.jsx("div",{className:"item-title",children:Q.title}),i.jsx("div",{className:"item-date",children:new Date(Q.date).toLocaleDateString("pt-BR")}),i.jsxs("div",{className:"item-time",children:[Q.startTime," - ",Q.endTime]}),i.jsx("div",{className:"item-status",children:U(Q.status)}),i.jsx("div",{className:"item-assigned",children:Q.assignedTo.join(", ")}),i.jsxs("div",{className:"item-actions",children:[i.jsx("button",{className:"action-btn edit",onClick:()=>se(Q),title:"Editar item",children:i.jsx(Rf,{})}),i.jsx("button",{className:"action-btn delete",onClick:()=>ve(Q.id),title:"Remover item",children:i.jsx(Ss,{})})]})]},Q.id))]})]}),m&&i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal schedule-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:y?"Editar Item":"Adicionar Novo Item"}),i.jsx("button",{className:"close-btn",onClick:ge,children:i.jsx(Cn,{})})]}),i.jsxs("div",{className:"modal-body",children:[I&&i.jsxs("div",{className:"error-message",children:[i.jsx(Xe,{}),I]}),O&&i.jsxs("div",{className:"success-message",children:[i.jsx(ws,{}),"Item salvo com sucesso!"]}),i.jsxs("form",{onSubmit:G,className:"schedule-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Informaes Bsicas"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Ttulo *"}),i.jsx(Pt,{type:"text",name:"title",value:w.title,onChange:Se,placeholder:"Digite o ttulo do item",required:!0,disabled:T}),M.title&&i.jsxs("div",{className:"field-error",children:[i.jsx(Xe,{}),M.title]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Tipo *"}),i.jsxs("select",{name:"type",value:w.type,onChange:Se,required:!0,disabled:T,children:[i.jsx("option",{value:"production",children:"Produo"}),i.jsx("option",{value:"maintenance",children:"Manuteno"}),i.jsx("option",{value:"meeting",children:"Reunio"}),i.jsx("option",{value:"break",children:"Pausa"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Prioridade *"}),i.jsxs("select",{name:"priority",value:w.priority,onChange:Se,required:!0,disabled:T,children:[i.jsx("option",{value:"low",children:"Baixa"}),i.jsx("option",{value:"medium",children:"Mdia"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"urgent",children:"Urgente"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Status *"}),i.jsxs("select",{name:"status",value:w.status,onChange:Se,required:!0,disabled:T,children:[i.jsx("option",{value:"scheduled",children:"Agendado"}),i.jsx("option",{value:"in_progress",children:"Em Andamento"}),i.jsx("option",{value:"completed",children:"Concludo"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Descrio"}),i.jsx("textarea",{name:"description",value:w.description,onChange:Se,placeholder:"Digite uma descrio detalhada",rows:3,disabled:T,className:"form-textarea"})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Data e Horrio"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Data *"}),i.jsx(Pt,{type:"date",name:"date",value:w.date,onChange:Se,required:!0,disabled:T,placeholder:"Selecione a data"}),M.date&&i.jsxs("div",{className:"field-error",children:[i.jsx(Xe,{}),M.date]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Horrio de Incio *"}),i.jsx(Pt,{type:"time",name:"startTime",value:w.startTime,onChange:Se,required:!0,disabled:T,placeholder:"Selecione o horrio de incio"}),M.startTime&&i.jsxs("div",{className:"field-error",children:[i.jsx(Xe,{}),M.startTime]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Horrio de Fim *"}),i.jsx(Pt,{type:"time",name:"endTime",value:w.endTime,onChange:Se,required:!0,disabled:T,placeholder:"Selecione o horrio de fim"}),M.endTime&&i.jsxs("div",{className:"field-error",children:[i.jsx(Xe,{}),M.endTime]})]})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsx("h3",{children:"Responsveis"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Adicionar Responsvel"}),i.jsxs("div",{className:"assignee-input",children:[i.jsx(Pt,{type:"text",name:"newAssignee",value:w.newAssignee,onChange:Se,placeholder:"Digite o nome do responsvel",disabled:T}),i.jsxs(et,{type:"button",onClick:H,disabled:T||!w.newAssignee.trim(),children:[i.jsx(af,{}),"Adicionar"]})]}),M.assignedTo&&i.jsxs("div",{className:"field-error",children:[i.jsx(Xe,{}),M.assignedTo]})]}),w.assignedTo.length>0&&i.jsxs("div",{className:"assignees-list",children:[i.jsx("h4",{children:"Responsveis Atribudos:"}),i.jsx("div",{className:"assignees-tags",children:w.assignedTo.map((Q,fe)=>i.jsxs("span",{className:"assignee-tag",children:[Q,i.jsx("button",{type:"button",onClick:()=>ae(Q),className:"remove-assignee",disabled:T,children:i.jsx(Cn,{})})]},fe))})]})]}),i.jsxs("div",{className:"form-actions",children:[i.jsxs(et,{type:"button",variant:"outline",onClick:ge,disabled:T,children:[i.jsx(Cn,{}),"Cancelar"]}),i.jsxs(et,{type:"submit",disabled:T,children:[i.jsx(ws,{}),T?"Salvando...":y?"Salvar":"Criar Item"]})]})]})]})]})})]})})}function mhe(){const[t,e]=b.useState([]),[n,r]=b.useState({autoSync:!0,syncInterval:30,retryAttempts:3,timeout:300,enabledSources:["bling","erp","crm"]}),[a,s]=b.useState(!0),[l,u]=b.useState(!1);b.useEffect(()=>{h()},[]);const h=async()=>{s(!0),setTimeout(()=>{const S=[{id:"1",name:"Sincronizao Bling - Pedidos",type:"import",status:"completed",progress:100,startTime:new Date(Date.now()-36e5).toISOString(),endTime:new Date(Date.now()-35e5).toISOString(),recordsProcessed:156,recordsTotal:156},{id:"2",name:"Exportao ERP - Produtos",type:"export",status:"running",progress:65,startTime:new Date(Date.now()-3e5).toISOString(),recordsProcessed:89,recordsTotal:137},{id:"3",name:"Sincronizao CRM - Clientes",type:"sync",status:"failed",progress:0,startTime:new Date(Date.now()-18e5).toISOString(),endTime:new Date(Date.now()-17e5).toISOString(),recordsProcessed:0,recordsTotal:45,error:"Timeout na conexo com o servidor"}];e(S),s(!1)},1e3)},f=S=>{switch(S){case"completed":return i.jsx(qn,{className:"status-icon completed"});case"running":return i.jsx(zn,{className:"status-icon running spinning"});case"failed":return i.jsx(Xe,{className:"status-icon failed"});default:return i.jsx(Wt,{className:"status-icon pending"})}},m=S=>{const E={pending:{label:"Pendente",class:"status-pending"},running:{label:"Executando",class:"status-running"},completed:{label:"Concludo",class:"status-completed"},failed:{label:"Falhou",class:"status-failed"}}[S]||{label:S,class:"status-default"};return i.jsx("span",{className:`status-badge ${E.class}`,children:E.label})},g=S=>{switch(S){case"import":return i.jsx(ms,{className:"type-icon import"});case"export":return i.jsx(AB,{className:"type-icon export"});case"sync":return i.jsx(zn,{className:"type-icon sync"});default:return i.jsx(Zb,{className:"type-icon default"})}},y=async()=>{u(!0),setTimeout(()=>{const S={id:Date.now().toString(),name:"Sincronizao Manual",type:"sync",status:"running",progress:0,startTime:new Date().toISOString(),recordsProcessed:0,recordsTotal:100};e(T=>[S,...T]),u(!1)},1e3)},j=S=>{e(T=>T.map(E=>E.id===S?{...E,status:"running",progress:0,startTime:new Date().toISOString()}:E))},w=(S,T)=>{const E=new Date(S),N=(T?new Date(T):new Date).getTime()-E.getTime(),O=Math.floor(N/6e4),D=Math.floor(N%6e4/1e3);return`${O}m ${D}s`};return a?i.jsx("div",{className:"data-sync-page",children:i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"spinner"}),i.jsx("p",{children:"Carregando dados de sincronizao..."})]})}):i.jsx("div",{className:"data-sync-page",children:i.jsxs("div",{className:"data-sync-container",children:[i.jsxs("div",{className:"sync-header",children:[i.jsxs("h1",{children:[i.jsx(zn,{className:"header-icon"}),"Sincronizao de Dados"]}),i.jsx("p",{children:"Sincronize dados com sistemas externos e ERPs"})]}),i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Zb,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.length}),i.jsx("p",{children:"Total de Jobs"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(qn,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(S=>S.status==="completed").length}),i.jsx("p",{children:"Concludos"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(zn,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(S=>S.status==="running").length}),i.jsx("p",{children:"Em Execuo"})]})]}),i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-icon",children:i.jsx(Xe,{})}),i.jsxs("div",{className:"stat-content",children:[i.jsx("h3",{children:t.filter(S=>S.status==="failed").length}),i.jsx("p",{children:"Com Falha"})]})]})]}),i.jsxs("div",{className:"controls-section",children:[i.jsxs("div",{className:"sync-controls",children:[i.jsx(et,{variant:"primary",onClick:y,disabled:l,className:"sync-btn",children:l?i.jsxs(i.Fragment,{children:[i.jsx(zn,{className:"spinning"}),"Sincronizando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zn,{}),"Iniciar Sincronizao"]})}),i.jsxs(et,{variant:"outline",onClick:()=>r(S=>({...S,autoSync:!S.autoSync})),className:"auto-sync-btn",children:[i.jsx(Ii,{}),n.autoSync?"Desativar":"Ativar"," Auto Sync"]})]}),i.jsxs("div",{className:"config-info",children:[i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Intervalo:"}),i.jsxs("span",{className:"config-value",children:[n.syncInterval," min"]})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Tentativas:"}),i.jsx("span",{className:"config-value",children:n.retryAttempts})]}),i.jsxs("div",{className:"config-item",children:[i.jsx("span",{className:"config-label",children:"Timeout:"}),i.jsxs("span",{className:"config-value",children:[n.timeout,"s"]})]})]})]}),i.jsxs("div",{className:"jobs-section",children:[i.jsx("h2",{children:"Jobs de Sincronizao"}),i.jsx("div",{className:"jobs-list",children:t.map(S=>i.jsxs("div",{className:"job-card",children:[i.jsxs("div",{className:"job-header",children:[i.jsxs("div",{className:"job-info",children:[i.jsx("div",{className:"job-icon",children:g(S.type)}),i.jsxs("div",{className:"job-details",children:[i.jsx("h3",{children:S.name}),i.jsxs("div",{className:"job-meta",children:[i.jsx("span",{className:"job-type",children:S.type.toUpperCase()}),i.jsx("span",{className:"job-time",children:S.startTime&&w(S.startTime,S.endTime)})]})]})]}),i.jsxs("div",{className:"job-status",children:[f(S.status),m(S.status)]})]}),i.jsxs("div",{className:"job-progress",children:[i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-fill",style:{width:`${S.progress}%`}})}),i.jsxs("div",{className:"progress-text",children:[S.recordsProcessed," / ",S.recordsTotal," registros (",S.progress,"%)"]})]}),S.error&&i.jsxs("div",{className:"job-error",children:[i.jsx(Xe,{}),i.jsx("span",{children:S.error})]}),i.jsxs("div",{className:"job-actions",children:[S.status==="failed"&&i.jsxs(et,{variant:"outline",onClick:()=>j(S.id),className:"retry-btn",children:[i.jsx(zn,{}),"Tentar Novamente"]}),S.status==="running"&&i.jsxs(et,{variant:"outline",disabled:!0,className:"cancel-btn",children:[i.jsx(Xe,{}),"Cancelar"]})]})]},S.id))})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h2",{children:"Configuraes de Sincronizao"}),i.jsxs("div",{className:"config-grid",children:[i.jsx("div",{className:"config-group",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:n.autoSync,onChange:S=>r(T=>({...T,autoSync:S.target.checked}))}),"Sincronizao Automtica"]})}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Intervalo de Sincronizao (minutos)"}),i.jsx("input",{type:"number",value:n.syncInterval,onChange:S=>r(T=>({...T,syncInterval:parseInt(S.target.value)})),min:"5",max:"1440"})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Tentativas de Retry"}),i.jsx("input",{type:"number",value:n.retryAttempts,onChange:S=>r(T=>({...T,retryAttempts:parseInt(S.target.value)})),min:"1",max:"10"})]}),i.jsxs("div",{className:"config-group",children:[i.jsx("label",{children:"Timeout (segundos)"}),i.jsx("input",{type:"number",value:n.timeout,onChange:S=>r(T=>({...T,timeout:parseInt(S.target.value)})),min:"30",max:"600"})]})]}),i.jsx("div",{className:"config-actions",children:i.jsx(et,{variant:"primary",children:"Salvar Configuraes"})})]})]})})}const fi=({title:t,icon:e,result:n,onTest:r,isLoading:a,testButtonText:s="Testar"})=>{const l=f=>f?f.success?i.jsx(qn,{className:"success-icon"}):i.jsx(Xe,{className:"error-icon"}):null,u=f=>f?f.success?"success":"error":"pending",h=f=>f?f.success?f.count!==void 0?` ${f.count} ${t.toLowerCase()} encontrados`:` ${t} executado com sucesso!`:` Erro: ${f.error}`:" Aguardando teste...";return i.jsxs("div",{className:"test-card",children:[i.jsxs("div",{className:"test-header-card",children:[i.jsxs("h3",{children:[e," ",t]}),i.jsx("button",{className:"btn btn-sm btn-outline",onClick:r,disabled:a,children:s})]}),i.jsxs("div",{className:`test-result ${u(n)}`,children:[l(n),i.jsx("div",{className:"test-info",children:i.jsx("span",{children:h(n)})})]}),n?.data&&i.jsx("div",{className:"test-data",children:i.jsxs("details",{children:[i.jsx("summary",{children:"Ver dados do teste"}),t.toLowerCase().includes("produto")&&Array.isArray(n.data)?i.jsxs("div",{className:"products-preview",children:[i.jsxs("h4",{children:[" Produtos encontrados (",n.data.length,"):"]}),n.data.slice(0,5).map((f,m)=>i.jsx("div",{className:"product-item",children:i.jsxs("div",{className:"product-info",children:[i.jsx("strong",{children:f.nome||f.name||"Nome no informado"}),f.codigo&&i.jsxs("span",{className:"product-code",children:["Cdigo: ",f.codigo]}),f.preco&&i.jsxs("span",{className:"product-price",children:["R$ ",f.preco.toFixed(2)]}),f.situacao&&i.jsx("span",{className:`product-status ${f.situacao==="A"?"active":"inactive"}`,children:f.situacao==="A"?"Ativo":"Inativo"})]})},m)),n.data.length>5&&i.jsxs("p",{className:"more-products",children:["... e mais ",n.data.length-5," produtos"]}),i.jsxs("details",{children:[i.jsx("summary",{children:"Ver dados completos (JSON)"}),i.jsx("pre",{children:JSON.stringify(n.data.slice(0,2),null,2)})]})]}):i.jsx("pre",{children:JSON.stringify(Array.isArray(n.data)?n.data.slice(0,2):n.data,null,2)})]})})]})},phe=[{key:"connection",label:"Conexo"},{key:"apiBaseUrls",label:"URLs Base"},{key:"apiStructure",label:"Estrutura"},{key:"endpoints",label:"Endpoints"},{key:"orders",label:"Vendas"},{key:"products",label:"Produtos"},{key:"customers",label:"Clientes"},{key:"productionOrders",label:"Ordens de Produo"},{key:"sync",label:"Sincronizao"}],ghe=({testResults:t})=>{const e=u=>u?u.success?"success":"error":"pending",n=u=>u?u.success?"":"":"",a=(()=>{const h=Object.values(t).filter(g=>g!==null);if(h.length===0)return"pending";const m=h.filter(g=>g?.success).length/h.length;return m===1?"success":m>=.5?"partial":"error"})(),s=Object.values(t).filter(u=>u!==null).length,l=Object.values(t).filter(u=>u?.success).length;return i.jsxs("div",{className:"test-summary",children:[i.jsxs("div",{className:"summary-header",children:[i.jsx("h3",{children:" Resumo dos Testes"}),i.jsxs("div",{className:`overall-status ${a}`,children:[a==="success"&&" Todos os testes passaram!",a==="partial"&&" Alguns testes falharam",a==="error"&&" Muitos testes falharam",a==="pending"&&" Aguardando testes..."]})]}),i.jsx("div",{className:"summary-stats",children:phe.map(({key:u,label:h})=>i.jsxs("div",{className:"stat",children:[i.jsxs("span",{className:"stat-label",children:[h,":"]}),i.jsx("span",{className:`stat-value ${e(t[u])}`,children:n(t[u])})]},String(u)))}),i.jsxs("div",{className:"summary-footer",children:[i.jsxs("div",{className:"stat-overview",children:[i.jsx("span",{className:"stat-label",children:"Total de testes:"}),i.jsx("span",{className:"stat-value",children:s})]}),i.jsxs("div",{className:"stat-overview",children:[i.jsx("span",{className:"stat-label",children:"Sucessos:"}),i.jsx("span",{className:"stat-value success",children:l})]}),i.jsxs("div",{className:"stat-overview",children:[i.jsx("span",{className:"stat-label",children:"Taxa de sucesso:"}),i.jsxs("span",{className:`stat-value ${a}`,children:[s>0?Math.round(l/s*100):0,"%"]})]})]})]})},vhe=({authorizationCode:t,onTokenExchangeSuccess:e})=>{const[n,r]=b.useState(!1),{isExchangingToken:a,isRefreshing:s,status:l,tokenInfo:u,exchangeCodeForTokens:h}=qG(),{clientSecret:f,isLoaded:m,saveClientSecret:g,clearClientSecret:y,updateClientSecret:j}=Ow(),w=()=>{f.trim()?(g(f),console.log("Client Secret salvo com sucesso!")):console.log("Nenhum Client Secret para salvar")},S=()=>{y(),console.log("Client Secret limpo com sucesso!")},T=async()=>{if(!t){alert("Nenhum cdigo de autorizao disponvel");return}if(!f.trim()){alert("Client Secret  obrigatrio");return}await h(t,f),l==="success"&&e?.()},E=async()=>{if(u.access_token)try{await navigator.clipboard.writeText(u.access_token),alert("Token copiado para a rea de transferncia!")}catch(N){console.error("Erro ao copiar token:",N);const O=document.createElement("textarea");O.value=u.access_token,document.body.appendChild(O),O.select(),document.execCommand("copy"),document.body.removeChild(O),alert("Token copiado para a rea de transferncia!")}},I=()=>{switch(l){case"success":return i.jsx(qn,{className:"status-icon success"});case"error":return i.jsx(Xe,{className:"status-icon error"});case"loading":return i.jsx(Oj,{className:"status-icon loading spinning"});default:return null}};return t?i.jsx("div",{className:"token-exchange",children:i.jsxs("div",{className:"token-exchange-content",children:[i.jsxs("div",{className:"authorization-code-display",children:[i.jsx("strong",{children:"Cdigo de Autorizao:"}),i.jsx("div",{className:"code-display",children:i.jsx("code",{children:t})})]}),i.jsxs("div",{className:"client-secret-input",children:[i.jsxs("label",{htmlFor:"client-secret",children:[i.jsx(Du,{}),"Client Secret:",m&&f&&i.jsxs("span",{className:"saved-indicator",children:[i.jsx(qn,{}),"Salvo"]})]}),i.jsxs("div",{className:"secret-input-wrapper",children:[i.jsxs("div",{className:"secret-input-container",children:[i.jsx("input",{id:"client-secret",type:n?"text":"password",value:f,onChange:N=>j(N.target.value),placeholder:"Digite o Client Secret do Bling",className:"secret-input"}),i.jsx("button",{type:"button",className:"secret-toggle-icon",onClick:()=>r(!n),title:n?"Ocultar secret":"Mostrar secret",children:n?i.jsx(Cv,{}):i.jsx(Wo,{})})]}),i.jsxs("button",{type:"button",className:"btn btn-save",onClick:w,title:"Salvar Client Secret",children:[i.jsx(ws,{}),"Salvar"]}),i.jsxs("button",{type:"button",className:"btn btn-clear",onClick:S,title:"Limpar Client Secret salvo",children:[i.jsx(Ss,{}),"Limpar"]})]})]}),i.jsx("div",{className:"token-exchange-actions",children:i.jsxs("button",{className:"btn btn-exchange",onClick:T,disabled:a||!f.trim(),children:[I(),a?"Trocando Tokens...":"Trocar por Tokens"]})}),u.access_token&&i.jsxs("div",{className:"token-info",children:[i.jsxs("h5",{children:["Informaes do Token:",s&&i.jsxs("span",{className:"refresh-indicator",children:[i.jsx(zn,{className:"spinning"}),"Renovando..."]})]}),i.jsxs("div",{className:"token-details",children:[i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Tipo:"}),i.jsx("span",{children:u.token_type||"N/A"})]}),i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Vlido:"}),i.jsx("span",{className:u.is_valid?"valid":"invalid",children:u.is_valid?" Sim":" No"})]}),i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Expira em:"}),i.jsx("span",{children:u.expires_at?new Date(u.expires_at).toLocaleString("pt-BR"):"N/A"})]}),i.jsxs("div",{className:"token-detail",children:[i.jsx("strong",{children:"Refresh Token:"}),i.jsx("span",{className:u.has_refresh_token?"valid":"invalid",children:u.has_refresh_token?" Disponvel":" No disponvel"})]})]}),i.jsxs("div",{className:"token-display",children:[i.jsx("strong",{children:"Access Token:"}),i.jsxs("div",{className:"token-value",children:[i.jsx("input",{type:"text",value:u.access_token||"",readOnly:!0,className:"token-input",placeholder:"Token ser exibido aqui aps a troca"}),i.jsx("button",{className:"btn btn-copy-token",onClick:E,title:"Copiar token para rea de transferncia",children:i.jsx(hB,{})})]})]})]})]})}):null},yhe=({onAuthorizationSuccess:t})=>{const[e,n]=b.useState(!1),[r,a]=b.useState("idle"),[,s]=b.useState(""),[l,u]=b.useState([]),[h,f]=b.useState(null),{config:m,isEditing:g,setIsEditing:y,saveConfig:j,resetConfig:w,updateField:S,validateConfig:T}=ry(),E=()=>{const M=T(m);if(M.length>0){u(M);return}u([]),j(m)},I=()=>{y(!1),u([]),window.location.reload()},N=()=>{window.confirm("Tem certeza que deseja resetar para a configurao padro?")&&(w(),u([]),s(""),a("idle"),f(null))},O=async()=>{n(!0),a("loading"),s("");try{const M=`https://bling.com.br/Api/v3/oauth/authorize?response_type=code&client_id=${m.clientId}&redirect_uri=${encodeURIComponent(m.redirectUri)}&state=${m.state}`,C=window.open(M,"bling-oauth","width=600,height=700,scrollbars=yes,resizable=yes,status=yes,location=yes,toolbar=no,menubar=no");if(!C)throw new Error("No foi possvel abrir a janela de autorizao. Verifique se o popup est bloqueado.");const R=$=>{if(console.log("Mensagem recebida:",$.data,"Origin:",$.origin),$.origin!==window.location.origin){console.log("Origin no confere, ignorando mensagem");return}$.data.type==="BLING_OAUTH_SUCCESS"?(console.log("Sucesso na autorizao:",$.data.code),a("success"),n(!1),f($.data.code),C&&!C.closed&&C.close(),window.removeEventListener("message",R),t&&t($.data.code)):$.data.type==="BLING_TOKEN_SUCCESS"?(console.log("Token obtido com sucesso:",$.data.token),window.location.reload()):$.data.type==="BLING_OAUTH_ERROR"&&(console.log("Erro na autorizao:",$.data.error),a("error"),s($.data.error||"Erro na autorizao"),n(!1),C&&!C.closed&&C.close(),window.removeEventListener("message",R))};window.addEventListener("message",R);const B=setInterval(()=>{C.closed&&(console.log("Popup foi fechado"),clearInterval(B),window.removeEventListener("message",R),r==="loading"&&(a("idle"),n(!1),s("Janela de autorizao foi fechada")))},1e3)}catch(M){a("error"),s(M instanceof Error?M.message:"Erro desconhecido"),n(!1)}},D=()=>{switch(r){case"success":return i.jsx(qn,{className:"status-icon success"});case"error":return i.jsx(Xe,{className:"status-icon error"});case"loading":return i.jsx(Oj,{className:"status-icon loading spinning"});default:return null}};return i.jsxs("div",{className:"oauth-authorization",children:[i.jsxs("div",{className:"oauth-header",children:[i.jsx("h4",{children:"Autenticao OAuth com Bling"}),i.jsx("p",{children:"Inicie o processo de autorizao para obter acesso  API do Bling"})]}),i.jsxs("div",{className:"oauth-details",children:[i.jsxs("div",{className:"oauth-config-header",children:[i.jsx("h5",{children:"Configurao OAuth"}),i.jsxs("div",{className:"config-actions",children:[g?i.jsxs(i.Fragment,{children:[i.jsxs("button",{className:"btn btn-save",onClick:E,title:"Salvar configurao",children:[i.jsx(ws,{}),"Salvar"]}),i.jsxs("button",{className:"btn btn-cancel",onClick:I,title:"Cancelar edio",children:[i.jsx(Cn,{}),"Cancelar"]})]}):i.jsxs("button",{className:"btn btn-edit",onClick:()=>y(!0),title:"Editar configurao",children:[i.jsx(Rf,{}),"Editar"]}),i.jsxs("button",{className:"btn btn-reset",onClick:N,title:"Resetar para configurao padro",children:[i.jsx(bI,{}),"Resetar"]})]})]}),l.length>0&&i.jsxs("div",{className:"validation-errors",children:[i.jsx("strong",{children:" Erros de validao:"}),i.jsx("ul",{children:l.map((M,C)=>i.jsx("li",{children:M},C))})]}),i.jsxs("div",{className:"oauth-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Client ID:"}),g?i.jsx("input",{type:"text",value:m.clientId,onChange:M=>S("clientId",M.target.value),className:"config-input",placeholder:"Digite o Client ID"}):i.jsx("code",{children:m.clientId})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Redirect URI:"}),g?i.jsx("input",{type:"text",value:m.redirectUri,onChange:M=>S("redirectUri",M.target.value),className:"config-input",placeholder:"Digite a Redirect URI"}):i.jsx("code",{children:m.redirectUri})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"State:"}),g?i.jsx("input",{type:"text",value:m.state,onChange:M=>S("state",M.target.value),className:"config-input",placeholder:"Digite o State"}):i.jsx("code",{children:m.state})]})]}),i.jsxs("div",{className:"oauth-url",children:[i.jsx("strong",{children:"URL de Autorizao:"}),i.jsx("div",{className:"url-display",children:i.jsxs("code",{children:["https://bling.com.br/Api/v3/oauth/authorize?response_type=code&client_id=",m.clientId,"&redirect_uri=",encodeURIComponent(m.redirectUri),"&state=",m.state]})})]})]}),i.jsx("div",{className:"oauth-actions",children:i.jsxs("button",{className:"btn btn-oauth",onClick:O,disabled:e,children:[D(),i.jsx(mI,{}),e?"Abrindo Autorizao...":"Iniciar Autorizao OAuth"]})}),i.jsx(vhe,{authorizationCode:h,onTokenExchangeSuccess:()=>{console.log("Tokens obtidos com sucesso!")}})]})};function xhe(){const{isLoading:t,testResults:e,testConnection:n,testOrders:r,testProducts:a,testCustomers:s,testProductionOrders:l,testSync:u,testEndpoints:h,testApiStructure:f,testApiBaseUrls:m,testProductionOrderSituations:g}=RG();return i.jsxs("div",{className:"bling-test-page",children:[i.jsxs("div",{className:"test-header",children:[i.jsx("h1",{children:" Bling Test Suite"}),i.jsx("p",{children:"Teste completo da integrao com a API do Bling"})]}),i.jsx(yhe,{}),i.jsxs("div",{className:"test-results",children:[i.jsx(fi,{title:"Teste de Conexo",icon:"",result:e.connection,onTest:n,isLoading:t}),i.jsx(fi,{title:"Teste de URLs Base da API",icon:"",result:e.apiBaseUrls,onTest:m,isLoading:t}),i.jsx(fi,{title:"Teste de Estrutura da API",icon:"",result:e.apiStructure,onTest:f,isLoading:t}),i.jsx(fi,{title:"Teste de Endpoints",icon:"",result:e.endpoints,onTest:h,isLoading:t}),i.jsx(fi,{title:"Teste de Vendas",icon:"",result:e.orders,onTest:r,isLoading:t}),i.jsx(fi,{title:"Teste de Produtos",icon:"",result:e.products,onTest:a,isLoading:t}),i.jsx(fi,{title:"Teste de Clientes",icon:"",result:e.customers,onTest:s,isLoading:t}),i.jsx(fi,{title:"Teste de Ordens de Produo",icon:"",result:e.productionOrders,onTest:l,isLoading:t}),i.jsx(fi,{title:"Teste de Situaes de Ordens de Produo",icon:"",result:e.productionOrders,onTest:g,isLoading:t}),i.jsx(fi,{title:"Teste de Sincronizao Completa",icon:"",result:e.sync,onTest:u,isLoading:t})]}),i.jsx(ghe,{testResults:e})]})}function bhe({product:t,isOpen:e,onClose:n,onSave:r}){const[a,s]=b.useState(null),[l,u]=b.useState({});if(b.useEffect(()=>{t&&(s({...t}),u({}))},[t]),!e||!a)return null;const h=(j,w)=>{s(S=>{if(!S)return null;if(j.includes(".")){const[T,E]=j.split("."),I=S[T];return{...S,[T]:{...typeof I=="object"&&I!==null?I:{},[E]:w}}}return{...S,[j]:w}}),l[j]&&u(S=>({...S,[j]:""}))},f=()=>{const j={};return a?.name.trim()||(j.name="Nome do produto  obrigatrio"),a?.category.trim()||(j.category="Categoria  obrigatria"),a?.series.trim()||(j.series="Srie  obrigatria"),a?.description.trim()||(j.description="Descrio  obrigatria"),u(j),Object.keys(j).length===0},m=()=>{f()&&a&&(r(a),n())},g=["Acessrios","Aviao","HVC","Conectores","Proteo","Terminais","Borracha","Backshell","Manifolds","Cabos","PCB"],y=["Premium","Standard","Industrial","Automotive","High Voltage","Control","Accessory","Aviation","Fuse Box","Rubber","Protection"];return i.jsx("div",{className:"modal-overlay",onClick:n,children:i.jsxs("div",{className:"product-edit-modal",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsxs("div",{className:"modal-title",children:[i.jsx(Ii,{className:"title-icon"}),i.jsx("h2",{children:"Editar Produto"})]}),i.jsx("button",{className:"close-button",onClick:n,children:i.jsx(Cn,{})})]}),i.jsx("div",{className:"modal-content",children:i.jsxs("form",{className:"edit-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(Do,{})," Informaes Bsicas"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",children:"Nome do Produto *"}),i.jsx("input",{type:"text",id:"name",value:a.name,onChange:j=>h("name",j.target.value),className:l.name?"error":"",placeholder:"Digite o nome do produto"}),l.name&&i.jsx("span",{className:"error-message",children:l.name})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"category",children:"Categoria *"}),i.jsxs("select",{id:"category",value:a.category,onChange:j=>h("category",j.target.value),className:l.category?"error":"",children:[i.jsx("option",{value:"",children:"Selecione uma categoria"}),g.map(j=>i.jsx("option",{value:j,children:j},j))]}),l.category&&i.jsx("span",{className:"error-message",children:l.category})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"series",children:"Srie *"}),i.jsxs("select",{id:"series",value:a.series,onChange:j=>h("series",j.target.value),className:l.series?"error":"",children:[i.jsx("option",{value:"",children:"Selecione uma srie"}),y.map(j=>i.jsx("option",{value:j,children:j},j))]}),l.series&&i.jsx("span",{className:"error-message",children:l.series})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"status",children:"Status"}),i.jsxs("select",{id:"status",value:a.status,onChange:j=>h("status",j.target.value),children:[i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"maintenance",children:"Manuteno"})]})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"description",children:"Descrio *"}),i.jsx("textarea",{id:"description",value:a.description,onChange:j=>h("description",j.target.value),className:l.description?"error":"",placeholder:"Descreva o produto",rows:3}),l.description&&i.jsx("span",{className:"error-message",children:l.description})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(mc,{})," Especificaes Tcnicas"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"voltage",children:"Voltagem"}),i.jsx("input",{type:"text",id:"voltage",value:a.specifications.voltage||"",onChange:j=>h("specifications.voltage",j.target.value),placeholder:"Ex: 220V"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"current",children:"Corrente"}),i.jsx("input",{type:"text",id:"current",value:a.specifications.current||"",onChange:j=>h("specifications.current",j.target.value),placeholder:"Ex: 16A"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"material",children:"Material"}),i.jsx("input",{type:"text",id:"material",value:a.specifications.material||"",onChange:j=>h("specifications.material",j.target.value),placeholder:"Ex: Plstico ABS"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"dimensions",children:"Dimenses"}),i.jsx("input",{type:"text",id:"dimensions",value:a.specifications.dimensions||"",onChange:j=>h("specifications.dimensions",j.target.value),placeholder:"Ex: 25x15x10mm"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"weight",children:"Peso"}),i.jsx("input",{type:"text",id:"weight",value:a.specifications.weight||"",onChange:j=>h("specifications.weight",j.target.value),placeholder:"Ex: 50g"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"temperature",children:"Temperatura"}),i.jsx("input",{type:"text",id:"temperature",value:a.specifications.temperature||"",onChange:j=>h("specifications.temperature",j.target.value),placeholder:"Ex: -40C a +85C"})]})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{htmlFor:"certification",children:"Certificao"}),i.jsx("input",{type:"text",id:"certification",value:a.specifications.certification||"",onChange:j=>h("specifications.certification",j.target.value),placeholder:"Ex: CE, UL, RoHS"})]})]}),i.jsxs("div",{className:"form-section",children:[i.jsxs("h3",{children:[i.jsx(rc,{})," Informaes Adicionais"]}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"manufacturer",children:"Fabricante"}),i.jsx("input",{type:"text",id:"manufacturer",value:a.additionalInfo?.manufacturer||"",onChange:j=>h("additionalInfo.manufacturer",j.target.value),placeholder:"Nome do fabricante"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"partNumber",children:"Nmero da Pea"}),i.jsx("input",{type:"text",id:"partNumber",value:a.additionalInfo?.partNumber||"",onChange:j=>h("additionalInfo.partNumber",j.target.value),placeholder:"Cdigo da pea"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"warranty",children:"Garantia"}),i.jsx("input",{type:"text",id:"warranty",value:a.additionalInfo?.warranty||"",onChange:j=>h("additionalInfo.warranty",j.target.value),placeholder:"Ex: 2 anos"})]})]})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"}),i.jsxs("button",{type:"button",className:"btn btn-primary",onClick:m,children:[i.jsx(ws,{}),"Salvar Alteraes"]})]})]})})}function xa({category:t}){const e=Ko(),[n,r]=b.useState([]),[a,s]=b.useState([]),[l,u]=b.useState(""),[h,f]=b.useState(""),[m,g]=b.useState(""),[y,j]=b.useState(""),[w,S]=b.useState(!0),[T,E]=b.useState(null),[I,N]=b.useState(!1);b.useEffect(()=>{t&&f(t)},[t]),b.useEffect(()=>{const U=[{id:"1",name:"Conector Eltrico Premium",category:"Conectores",series:"Premium",description:"Conector eltrico de alta qualidade para aplicaes industriais",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"220V",current:"16A",material:"Plstico ABS",dimensions:"25x15x10mm",weight:"15g",temperature:"-40C a +85C",certification:"CE, RoHS"},additionalInfo:{manufacturer:"RR Vision",partNumber:"RR-CON-001",warranty:"2 anos",createdAt:"2024-01-15",updatedAt:"2024-01-20",createdBy:"Admin"}},{id:"2",name:"Terminal de Montagem",category:"Terminais",series:"Standard",description:"Terminal de montagem para conexes eltricas",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"110V",current:"10A",material:"Metal",dimensions:"20x10x5mm"}},{id:"3",name:"Plug Industrial",category:"Conectores",series:"Industrial",description:"Plug industrial para ambientes pesados",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"380V",current:"32A",material:"Metal + Plstico",dimensions:"40x25x15mm"}},{id:"4",name:"Fusvel Automotivo",category:"Proteo",series:"Automotive",description:"Fusvel automotivo para proteo eltrica",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"12V",current:"15A",material:"Metal",dimensions:"15x8x3mm"}},{id:"5",name:"Cabo de Alta Tenso",category:"Cabos",series:"High Voltage",description:"Cabo de alta tenso para aplicaes industriais",image:"/api/placeholder/200/150",status:"maintenance",specifications:{voltage:"1000V",current:"50A",material:"Cobre + PVC",dimensions:"1000x10x10mm"}},{id:"6",name:"Rel de Controle",category:"Controle",series:"Control",description:"Rel de controle para automao industrial",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"24V",current:"5A",material:"Plstico + Metal",dimensions:"30x20x15mm"}},{id:"7",name:"Acessrio de Montagem",category:"Acessrios",series:"Accessory",description:"Acessrio para montagem de conectores",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"N/A",current:"N/A",material:"Plstico",dimensions:"10x5x3mm"}},{id:"8",name:"Plug de Aviao",category:"Aviao",series:"Aviation",description:"Plug especializado para aplicaes aeronuticas",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"115V",current:"20A",material:"Metal + Cermica",dimensions:"35x20x12mm"}},{id:"9",name:"Conector HVC",category:"HVC",series:"High Voltage",description:"Conector de alta voltagem para aplicaes especiais",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"1500V",current:"100A",material:"Cermica + Metal",dimensions:"50x30x20mm",weight:"120g",temperature:"-55C a +125C",certification:"UL, CSA"},additionalInfo:{manufacturer:"RR Vision",partNumber:"RR-HVC-001",warranty:"3 anos",createdAt:"2024-01-10",updatedAt:"2024-01-18",createdBy:"Admin"}},{id:"10",name:"Caixa de Fusveis",category:"Proteo",series:"Fuse Box",description:"Caixa de fusveis e rels para proteo eltrica",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"220V",current:"63A",material:"Plstico ABS",dimensions:"200x150x80mm"}},{id:"11",name:"Terminal de Borracha",category:"Borracha",series:"Rubber",description:"Terminal com isolamento de borracha",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"110V",current:"16A",material:"Borracha + Metal",dimensions:"25x12x8mm"}},{id:"12",name:"Backshell Protetor",category:"Backshell",series:"Protection",description:"Proteo traseira para conectores",image:"/api/placeholder/200/150",status:"active",specifications:{voltage:"N/A",current:"N/A",material:"Metal",dimensions:"40x25x15mm"}}];r(U),s(U),S(!1)},[]),b.useEffect(()=>{let U=n;l&&(U=U.filter(z=>z.name.toLowerCase().includes(l.toLowerCase())||z.description.toLowerCase().includes(l.toLowerCase()))),h&&(U=U.filter(z=>z.category===h)),m&&(U=U.filter(z=>z.series===m)),y&&(U=U.filter(z=>z.status===y)),s(U)},[l,h,m,y,n]);const O=U=>{E(U),N(!0)},D=U=>{e(`/app/product-detail/${U.id}`)},M=()=>{N(!1),E(null)},C=U=>{r(z=>z.map(xe=>xe.id===U.id?U:xe)),s(z=>z.map(xe=>xe.id===U.id?U:xe))},R=[...new Set(n.map(U=>U.category))],B=[...new Set(n.map(U=>U.series))],$=U=>{switch(U){case"active":return"#28a745";case"inactive":return"#6c757d";case"maintenance":return"#ffc107";default:return"#6c757d"}},L=U=>{switch(U){case"active":return"Ativo";case"inactive":return"Inativo";case"maintenance":return"Manuteno";default:return"Desconhecido"}};return w?i.jsx("div",{className:"products-page",children:i.jsxs("div",{className:"products-header",children:[i.jsx("h1",{children:"Produtos"}),i.jsx("p",{children:"Carregando produtos..."})]})}):i.jsxs("div",{className:"products-page",children:[i.jsxs("div",{className:"products-header",children:[i.jsxs("h1",{children:[i.jsx(Do,{})," ",t?`Produtos - ${t}`:"Gesto de Produtos"]}),i.jsx("p",{children:t?`Visualize produtos da categoria ${t}`:"Visualize e gerencie todos os produtos do sistema"})]}),i.jsxs("div",{className:"products-content",children:[i.jsxs("div",{className:"products-sidebar",children:[i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(_s,{})," Busca"]}),i.jsxs("div",{className:"search-box",children:[i.jsx(_s,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:U=>u(U.target.value)})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(pB,{})," Categorias"]}),i.jsxs("div",{className:"category-dropdown",children:[i.jsxs("div",{className:"category-trigger",children:[i.jsx("span",{children:h||"Todas as categorias"}),i.jsx("span",{className:"dropdown-arrow",children:""})]}),i.jsxs("div",{className:"category-menu",children:[i.jsx("div",{className:"category-item",onClick:()=>f(""),children:"Todas as categorias"}),R.map(U=>i.jsx("div",{className:"category-item",onClick:()=>f(U),children:U},U))]})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(TB,{})," Sries"]}),i.jsxs("div",{className:"series-dropdown",children:[i.jsxs("div",{className:"series-trigger",children:[i.jsx("span",{children:m||"Todas as sries"}),i.jsx("span",{className:"dropdown-arrow",children:""})]}),i.jsxs("div",{className:"series-menu",children:[i.jsx("div",{className:"series-item",onClick:()=>g(""),children:"Todas as sries"}),B.map(U=>i.jsx("div",{className:"series-item",onClick:()=>g(U),children:U},U))]})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(mc,{})," Status"]}),i.jsxs("select",{value:y,onChange:U=>j(U.target.value),children:[i.jsx("option",{value:"",children:"Todos os status"}),i.jsx("option",{value:"active",children:"Ativo"}),i.jsx("option",{value:"inactive",children:"Inativo"}),i.jsx("option",{value:"maintenance",children:"Manuteno"})]})]}),i.jsxs("div",{className:"sidebar-section",children:[i.jsxs("h3",{children:[i.jsx(mr,{})," Estatsticas"]}),i.jsxs("div",{className:"stats",children:[i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Total:"}),i.jsx("span",{className:"stat-value",children:n.length})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Ativos:"}),i.jsx("span",{className:"stat-value",children:n.filter(U=>U.status==="active").length})]}),i.jsxs("div",{className:"stat-item",children:[i.jsx("span",{className:"stat-label",children:"Manuteno:"}),i.jsx("span",{className:"stat-value",children:n.filter(U=>U.status==="maintenance").length})]})]})]})]}),i.jsxs("div",{className:"products-main",children:[i.jsx("div",{className:"products-grid",children:a.map(U=>i.jsxs("div",{className:"product-card",onClick:()=>D(U),style:{cursor:"pointer"},children:[i.jsxs("div",{className:"product-image",children:[i.jsx("img",{src:U.image,alt:U.name}),i.jsx("div",{className:"product-status",style:{backgroundColor:$(U.status)},children:L(U.status)})]}),i.jsxs("div",{className:"product-info",children:[i.jsx("h3",{children:U.name}),i.jsxs("div",{className:"product-category-section",children:[i.jsx("span",{className:"category-tag",children:U.category}),i.jsxs("span",{className:"series-tag",children:["- ",U.series]})]}),i.jsx("p",{className:"product-description",children:U.description}),i.jsxs("div",{className:"product-specs",children:[U.specifications.voltage&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Voltagem:"}),i.jsx("span",{className:"spec-value",children:U.specifications.voltage})]}),U.specifications.current&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Corrente:"}),i.jsx("span",{className:"spec-value",children:U.specifications.current})]}),U.specifications.material&&i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Material:"}),i.jsx("span",{className:"spec-value",children:U.specifications.material})]})]})]}),i.jsx("div",{className:"product-actions",children:i.jsxs("button",{className:"btn btn-outline",onClick:z=>{z.stopPropagation(),O(U)},children:[i.jsx(Ii,{}),"Editar"]})})]},U.id))}),a.length===0&&i.jsxs("div",{className:"no-products",children:[i.jsx(Do,{className:"no-products-icon"}),i.jsx("h3",{children:"Nenhum produto encontrado"}),i.jsx("p",{children:"Tente ajustar os filtros de busca"})]})]})]}),i.jsx(bhe,{product:T,isOpen:I,onClose:M,onSave:C})]})}const jhe=()=>{tL();const t=Ko(),[e,n]=b.useState(""),[r,a]=b.useState(""),[s,l]=b.useState(""),[u,h]=b.useState("Female"),[f,m]=b.useState("Sealed"),[g,y]=b.useState(""),[j,w]=b.useState("Applicable Housing"),S={partNumber:"xtm06-8sd-cover",productCategory:"Accessory",images:["/api/placeholder/300/200","/api/placeholder/300/200","/api/placeholder/300/200"],specifications:{material:"pa66+gf15",color:"brown",maleFemale:"Female",sealedUnsealed:"Sealed",numberOfRows:2,numberOfPositions:8,flammabilityRating:"UL 94 V0",operatingTemperature:"-40-125c",qtyPer:"200pcs",packingType:"plastick bag",remarks:"mating with 8 pins dtm female housing"},applicableParts:[{type:"Applicable Housing",partNumber:"XTM06-08SD"},{type:"Applicable Seal",partNumber:"XTM06-SEAL-01"},{type:"Mating Locker",partNumber:"XTM06-LOCK-01"},{type:"Mating Terminal",partNumber:"XTM06-TERM-01"},{type:"Assembling Parts",partNumber:"XTM06-ASSY-01"}],drawings:[{name:"XTM06-8SD-COVER.pdf",url:"/drawings/XTM06-8SD-COVER.pdf"},{name:"XTM06-8SD-COVER-EN.pdf",url:"/drawings/XTM06-8SD-COVER-EN.pdf"}]},T=()=>{console.log("Searching with filters:",{searchTerm:e,selectedCategory:r,selectedSeries:s,selectedMaleFemale:u,selectedSealedUnsealed:f,selectedPositions:g})};return i.jsxs("div",{className:"product-detail-page",children:[i.jsx("div",{className:"back-button-container",children:i.jsxs("button",{className:"back-button",onClick:()=>t("/app/products"),children:[i.jsx(oB,{}),"Voltar para Produtos"]})}),i.jsxs("div",{className:"product-detail-content",children:[i.jsx("div",{className:"spec-search-sidebar",children:i.jsxs("div",{className:"spec-search-box",children:[i.jsx("h3",{className:"spec-search-title",children:"SPEC SEARCH"}),i.jsxs("div",{className:"search-bar",children:[i.jsx(_s,{className:"search-icon"}),i.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:E=>n(E.target.value),className:"search-input"})]}),i.jsxs("div",{className:"filter-group",children:[i.jsxs("label",{className:"filter-label",children:[i.jsx("input",{type:"radio",name:"category",checked:!0,onChange:()=>{}}),"Products Category"]}),i.jsxs("select",{value:r,onChange:E=>a(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Please select Products"}),i.jsx("option",{value:"connector",children:"Connector"}),i.jsx("option",{value:"accessory",children:"Accessory"}),i.jsx("option",{value:"terminal",children:"Terminal"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsxs("label",{className:"filter-label",children:[i.jsx("input",{type:"radio",name:"series",checked:!0,onChange:()=>{}}),"Series"]}),i.jsxs("select",{value:s,onChange:E=>l(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Please select Series"}),i.jsx("option",{value:"xtm",children:"XTM Series"}),i.jsx("option",{value:"dtm",children:"DTM Series"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Male/Female"}),i.jsxs("div",{className:"radio-group",children:[i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"Male",checked:u==="Male",onChange:E=>h(E.target.value)}),"Male"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"Female",checked:u==="Female",onChange:E=>h(E.target.value)}),"Female"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"maleFemale",value:"N/A",checked:u==="N/A",onChange:E=>h(E.target.value)}),"N/A"]})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Sealed/Unsealed"}),i.jsxs("div",{className:"radio-group",children:[i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"Sealed",checked:f==="Sealed",onChange:E=>m(E.target.value)}),"Sealed"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"Unsealed",checked:f==="Unsealed",onChange:E=>m(E.target.value)}),"Unsealed"]}),i.jsxs("label",{className:"radio-option",children:[i.jsx("input",{type:"radio",name:"sealedUnsealed",value:"N/A",checked:f==="N/A",onChange:E=>m(E.target.value)}),"N/A"]})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{className:"filter-label",children:"Number of Positions"}),i.jsxs("select",{value:g,onChange:E=>y(E.target.value),className:"filter-select",children:[i.jsx("option",{value:"",children:"Select Positions"}),i.jsx("option",{value:"4",children:"4"}),i.jsx("option",{value:"6",children:"6"}),i.jsx("option",{value:"8",children:"8"}),i.jsx("option",{value:"12",children:"12"})]})]}),i.jsx("button",{className:"search-button",onClick:T,children:"Search"})]})}),i.jsxs("div",{className:"product-main-content",children:[i.jsxs("div",{className:"product-introduction",children:[i.jsx("h2",{className:"section-title",children:"PRODUCT INTRODUCTION"}),i.jsxs("div",{className:"product-intro-content",children:[i.jsx("div",{className:"product-images",children:S.images.map((E,I)=>i.jsx("img",{src:E,alt:`Product view ${I+1}`,className:"product-image"},I))}),i.jsxs("div",{className:"product-basic-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Part Number:"}),i.jsx("span",{className:"info-value",children:S.partNumber})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Product Category:"}),i.jsx("span",{className:"info-value",children:S.productCategory})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Family Name/Series:"}),i.jsx("span",{className:"info-value",children:"-"})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"info-label",children:"Dimension:"}),i.jsx("span",{className:"info-value",children:"-"})]})]})]})]}),i.jsxs("div",{className:"product-specification",children:[i.jsx("h2",{className:"section-title",children:"PRODUCT SPECIFICATION"}),i.jsxs("div",{className:"specification-table",children:[i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Material:"}),i.jsx("span",{className:"spec-value",children:S.specifications.material})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Color:"}),i.jsx("span",{className:"spec-value",children:S.specifications.color})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Male/Female:"}),i.jsx("span",{className:"spec-value",children:S.specifications.maleFemale})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Sealed/Unsealed:"}),i.jsx("span",{className:"spec-value",children:S.specifications.sealedUnsealed})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Number of Rows:"}),i.jsx("span",{className:"spec-value",children:S.specifications.numberOfRows})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Number of Positions:"}),i.jsx("span",{className:"spec-value",children:S.specifications.numberOfPositions})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Flammability Rating:"}),i.jsx("span",{className:"spec-value",children:S.specifications.flammabilityRating})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Operating Temperature range:"}),i.jsx("span",{className:"spec-value",children:S.specifications.operatingTemperature})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Qty_per:"}),i.jsx("span",{className:"spec-value",children:S.specifications.qtyPer})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Packing_type:"}),i.jsx("span",{className:"spec-value",children:S.specifications.packingType})]}),i.jsxs("div",{className:"spec-row",children:[i.jsx("span",{className:"spec-label",children:"Remarks:"}),i.jsx("span",{className:"spec-value",children:S.specifications.remarks})]})]})]}),i.jsxs("div",{className:"applicable-parts",children:[i.jsx("h2",{className:"section-title",children:"APPLICABLE PARTS"}),i.jsx("div",{className:"parts-tabs",children:S.applicableParts.map(E=>i.jsx("button",{className:`part-tab ${j===E.type?"active":""}`,onClick:()=>w(E.type),children:E.type},E.type))}),i.jsx("div",{className:"parts-content",children:S.applicableParts.filter(E=>E.type===j).map(E=>i.jsx("div",{className:"part-number",children:E.partNumber},E.type))})]}),i.jsxs("div",{className:"drawing-section",children:[i.jsx("h2",{className:"section-title",children:"DRAWING"}),i.jsx("div",{className:"drawing-links",children:S.drawings.map((E,I)=>i.jsxs("a",{href:E.url,className:"drawing-link",download:!0,children:[i.jsx(ms,{className:"download-icon"}),E.name]},I))})]})]})]})]})};function whe(){const t=Oi(),e=Ko(),n=()=>{const a=t.pathname;return a==="/app"||a==="/app/"?"orders":a==="/app/schedule"?"schedule":a==="/app/productivity"?"productivity":a==="/app/nonconformities"?"nonconformities":a==="/app/alerts"?"alerts":a==="/app/control"?"control":a==="/app/priority-optimization"?"priority-optimization":a==="/app/operators-list"?"operators-list":a==="/app/bling-integration"?"bling-integration":a==="/app/operational-routes"?"operational-routes":a==="/app/operational-routes-list"?"operational-routes-list":a==="/app/settings"?"settings":a==="/app/user-creation"?"user-creation":a==="/app/product-management"?"product-management":a==="/app/admin-users"?"admin-users":a==="/app/reports"?"reports":a==="/app/analytics"?"analytics":a==="/app/team-management"?"team-management":a==="/app/scheduling"?"scheduling":a==="/app/data-sync"?"data-sync":a==="/app/bling-test"?"bling-test":a==="/app/products"||a.startsWith("/app/product-detail")||a.startsWith("/app/products/")?"products":"orders"},r=a=>{const l={orders:"/app",schedule:"/app/schedule",productivity:"/app/productivity",nonconformities:"/app/nonconformities",alerts:"/app/alerts",control:"/app/control","priority-optimization":"/app/priority-optimization","operators-list":"/app/operators-list","bling-integration":"/app/bling-integration","operational-routes":"/app/operational-routes","operational-routes-list":"/app/operational-routes-list",settings:"/app/settings","user-creation":"/app/user-creation","product-management":"/app/product-management","admin-users":"/app/admin-users",reports:"/app/reports",analytics:"/app/analytics","team-management":"/app/team-management",scheduling:"/app/scheduling","data-sync":"/app/data-sync","bling-test":"/app/bling-test",products:"/app/products"}[a]||"/app";e(l)};return i.jsxs("div",{className:"dashboard-layout",children:[i.jsx(zK,{currentPage:n(),onPageChange:r,variant:"default"}),i.jsx("div",{className:"dashboard-main",children:i.jsxs(nI,{children:[i.jsx(We,{index:!0,element:i.jsx(ZK,{})}),i.jsx(We,{path:"schedule",element:i.jsx(FN,{})}),i.jsx(We,{path:"productivity",element:i.jsx(yde,{})}),i.jsx(We,{path:"nonconformities",element:i.jsx(Tde,{})}),i.jsx(We,{path:"alerts",element:i.jsx(Ide,{})}),i.jsx(We,{path:"control",element:i.jsx(Bde,{})}),i.jsx(We,{path:"priority-optimization",element:i.jsx(Ude,{})}),i.jsx(We,{path:"operators-list",element:i.jsx(FN,{})}),i.jsx(We,{path:"bling-integration",element:i.jsx(zde,{})}),i.jsx(We,{path:"operational-routes",element:i.jsx($de,{})}),i.jsx(We,{path:"operational-routes-list",element:i.jsx(qde,{})}),i.jsx(We,{path:"settings",element:i.jsx(Yde,{})}),i.jsx(We,{path:"user-creation",element:i.jsx(nhe,{})}),i.jsx(We,{path:"product-management",element:i.jsx(ohe,{})}),i.jsx(We,{path:"admin-users",element:i.jsx(lhe,{})}),i.jsx(We,{path:"reports",element:i.jsx(uhe,{})}),i.jsx(We,{path:"analytics",element:i.jsx(dhe,{})}),i.jsx(We,{path:"team-management",element:i.jsx(hhe,{})}),i.jsx(We,{path:"scheduling",element:i.jsx(fhe,{})}),i.jsx(We,{path:"data-sync",element:i.jsx(mhe,{})}),i.jsx(We,{path:"bling-test",element:i.jsx(xhe,{})}),i.jsx(We,{path:"products",element:i.jsx(xa,{})}),i.jsx(We,{path:"product-detail/:id",element:i.jsx(jhe,{})}),i.jsx(We,{path:"products/accessory",element:i.jsx(xa,{category:"Acessrios"})}),i.jsx(We,{path:"products/aviation-plug",element:i.jsx(xa,{category:"Aviao"})}),i.jsx(We,{path:"products/hvc",element:i.jsx(xa,{category:"HVC"})}),i.jsx(We,{path:"products/connector",element:i.jsx(xa,{category:"Conectores"})}),i.jsx(We,{path:"products/fuse-relay-box",element:i.jsx(xa,{category:"Proteo"})}),i.jsx(We,{path:"products/terminal",element:i.jsx(xa,{category:"Terminais"})}),i.jsx(We,{path:"products/rubber-parts",element:i.jsx(xa,{category:"Borracha"})}),i.jsx(We,{path:"products/backshell",element:i.jsx(xa,{category:"Backshell"})}),i.jsx(We,{path:"products/manifolds",element:i.jsx(xa,{category:"Manifolds"})}),i.jsx(We,{path:"products/wire-harness",element:i.jsx(xa,{category:"Cabos"})}),i.jsx(We,{path:"products/pcb-connector",element:i.jsx(xa,{category:"PCB"})})]})})]})}function _he({children:t}){const{user:e,loading:n}=Ya();return n?null:e?i.jsx(i.Fragment,{children:t}):i.jsx(tI,{to:st.login,replace:!0})}function She(){return i.jsxs(nI,{children:[i.jsx(We,{path:st.landing,element:i.jsx(UB,{})}),i.jsx(We,{path:st.login,element:i.jsx(MK,{})}),i.jsx(We,{path:st.register,element:i.jsx(BK,{})}),i.jsx(We,{path:st.forgotPassword,element:i.jsx(UK,{})}),i.jsx(We,{path:"/bling/callback",element:i.jsx(VK,{})}),i.jsx(We,{path:"/app/*",element:i.jsx(_he,{children:i.jsx(whe,{})})}),i.jsx(We,{path:"*",element:i.jsx(tI,{to:st.landing,replace:!0})})]})}function The(){return i.jsx(She,{})}const Ehe=S7.createRoot(document.getElementById("root"));Ehe.render(i.jsx(b.StrictMode,{children:i.jsx(VL,{children:i.jsx(RK,{children:i.jsx(The,{})})})}));export{et as B,khe as F,Pt as I,il as _,Rf as a,Ss as b,_B as c,Ihe as d,Ohe as e,af as f,Cn as g,ws as h,_s as i,i as j,CB as k,dI as l,Qb as m,Do as n,Nhe as o,Ahe as p,Che as q,b as r};
